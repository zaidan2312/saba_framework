(this["webpackJsonpsaba-react-framework"]=this["webpackJsonpsaba-react-framework"]||[]).push([[12,74,168,169],{166:function(e,t,a){"use strict";a.r(t);var n=a(5),l=a(9),s=a(0),c=a(21),r=a(83),i=a(10),o=a(82),d=a(572),u=a(216),m=(a(125),a(160),a(84)),j=a(31),b=a(7),f=a.n(b),h=a(60),O=a.n(h),p=a(217),v=a(575),x=a.n(v),g=a(577),N=a(88),y=a(87),_=a(126),w=a(14),S=a(2);x()(O.a);t.default=function(e){var t,a,b,h,O=e.show,v=e.setShow,x=e.detailPage,C=Object(s.useState)([]),E=Object(l.a)(C,2),k=(E[0],E[1],Object(s.useState)([])),D=Object(l.a)(k,2),P=D[0],U=D[1],L=Object(s.useState)(null),F=Object(l.a)(L,2),A=F[0],B=F[1],z=Object(s.useState)([]),T=Object(l.a)(z,2),V=T[0],I=T[1],q=Object(s.useState)(!1),R=Object(l.a)(q,2),M=(R[0],R[1]),W=Object(o.a)().t,Y=Object(c.g)().id,J=Object(w.b)(),X=Object(w.c)((function(e){return e.users})),H=Object(w.c)((function(e){return e.units})),Z=Object(w.c)((function(e){return e.roles})),$=Object(s.useContext)(m.a).colors,G=Object(s.useState)(X.selectedUser),K=Object(l.a)(G,2),Q=K[0],ee=K[1],te=Object(g.e)({defaultValues:{username:null===Q||void 0===Q?void 0:Q.username,name:null===Q||void 0===Q?void 0:Q.name,phone:null!==(t=null===Q||void 0===Q?void 0:Q.phone)&&void 0!==t?t:""}}),ae=te.reset,ne=te.control,le=te.setError,se=te.handleSubmit,ce=te.formState.errors,re=function(){return Object(S.jsxs)(s.Fragment,{children:[Object(S.jsx)(u.a,{}),Object(S.jsxs)(i.r,{className:"mb-0 mt-1 text-white",children:[W("Please Wait"),"..."]})]})};return Object(s.useEffect)((function(){ee(X.selectedUser),0!==H.data.length||H.isLoading||(J(Object(y.getUnits)()),ee(X.selectedUser)),0!==(null===Z||void 0===Z?void 0:Z.data.length)||Z.isLoading||J(Object(_.getData)()),0!==(null===X||void 0===X?void 0:X.data_employee.length)||X.isLoading_employee||(J(Object(N.getDataEmployee)({length:200})),X.data_employee&&null!==Q&&void 0!==Q&&Q.id_employee&&I(X.data_employee.filter((function(e){return e.id===(null===Q||void 0===Q?void 0:Q.id_employee)})).map((function(e){var t;return{value:e.id,label:"".concat(e.FirstName," ").concat(null!==(t=null===e||void 0===e?void 0:e.LastName)&&void 0!==t?t:"")}})))),B(null===Q||void 0===Q?void 0:Q.id_role)}),[]),Object(S.jsx)(i.F,{isOpen:O,toggle:function(){return v(!O)},className:"modal-dialog-centered modal-lg",children:Object(S.jsxs)(d.a,{blocking:(X.isLoadingAddEdit||X.isLoadingDetail)&&!X.selectedUser,loader:Object(S.jsx)(re,{}),children:[Object(S.jsx)(i.I,{className:"bg-transparent",toggle:function(){return v(!O)}}),Object(S.jsxs)(i.G,{className:"px-sm-5 pt-50 pb-5",children:[Object(S.jsxs)("div",{className:"text-center mb-2",children:[Object(S.jsxs)("h1",{className:"mb-1",children:[W("Edit")," ",W("User Information")]}),Object(S.jsx)("p",{children:W("Updating user details will receive a privacy audit.")})]}),Object(S.jsx)(i.y,{onSubmit:se((function(e){if(function(e){var t,a=null!==Q.member_of?null===Q||void 0===Q?void 0:Q.member_of.map((function(e){return{value:e.id,label:e.name}})):[],n=Q.name!==e.name||Q.username!==e.username||(null!==(t=Q.phone)&&void 0!==t?t:"")!==e.phone||JSON.stringify(a)!==JSON.stringify(P)||A!==Q.id_role;return M(!0),n}(e))if(Object.values(e).every((function(e){return e.length>0||""===e})))""===e.phone&&delete e.phone,e.id=null!==Y&&void 0!==Y?Y:Q.id,e.id_role=A,e.id_employee=null===V||void 0===V?void 0:V.id,e.member_of=P,J(Object(N.updateUser)(e)).then((function(e){"fulfilled"===e.meta.requestStatus?(v(!O),r.b.success("".concat(W("Successfully Updated Data")),{style:{padding:"16px",color:$.success.main,border:"1px solid ".concat($.success.main)},iconTheme:{primary:$.success.main}}),x&&J(Object(N.getUser)(Y))):"rejected"===e.meta.requestStatus&&r.b.error(JSON.stringify(e.payload),{style:{padding:"16px",color:$.danger.main,border:"1px solid ".concat($.danger.main)},iconTheme:{primary:$.danger.main}})}));else for(var t in e){var a;0===(null===(a=e[t])||void 0===a?void 0:a.length)&&le(t,{type:"manual"})}else Object(r.b)("".concat(W("You haven't changed anything")),{icon:"\ud83d\udc4f"})})),children:Object(S.jsxs)(i.R,{className:"gy-1 pt-75",children:[Object(S.jsxs)(i.t,{md:12,xs:12,children:[Object(S.jsx)(i.E,{className:"form-label",for:"name",children:W("Full Name")}),Object(S.jsx)(g.a,{defaultValue:"",control:ne,id:"name",name:"name",render:function(e){var t=e.field;return Object(S.jsx)(i.B,Object(n.a)(Object(n.a)({},t),{},{id:"name",placeholder:"John",invalid:ce.name&&!0}))}})]}),Object(S.jsxs)(i.t,{md:6,xs:12,children:[Object(S.jsxs)(i.E,{className:"form-label",for:"username",children:[W("Username"),":"]}),Object(S.jsx)(g.a,{defaultValue:"",control:ne,id:"username",name:"username",render:function(e){var t=e.field;return Object(S.jsx)(i.B,Object(n.a)(Object(n.a)({},t),{},{id:"username",placeholder:"john.doe.007",invalid:ce.username&&!0}))}})]}),Object(S.jsxs)(i.t,{md:6,xs:12,children:[Object(S.jsxs)(i.E,{className:"form-label",for:"email",children:[W("Email"),":"]}),Object(S.jsx)(i.B,{type:"email",id:"email",disabled:!0,defaultValue:null===Q||void 0===Q?void 0:Q.email,placeholder:"example@domain.com"})]}),Object(S.jsxs)(i.t,{md:6,xs:12,children:[Object(S.jsx)(i.E,{className:"form-label",for:"phone",children:W("Contact")}),Object(S.jsx)(g.a,{defaultValue:"",control:ne,id:"phone",name:"phone",render:function(e){var t=e.field;return Object(S.jsx)(i.B,Object(n.a)(Object(n.a)({},t),{},{value:(null===Q||void 0===Q?void 0:Q.phone)||"",id:"phone",placeholder:"+62 813 940 10XX X"}))}})]}),Object(S.jsxs)(i.t,{md:6,xs:12,children:[Object(S.jsx)(i.E,{className:"form-label",for:"id_role",children:W("Role")}),Object(S.jsx)(p.a,{id:"id_role",theme:j.y,defaultValue:Z.data.filter((function(e){return e.id===(null===Q||void 0===Q?void 0:Q.id_role)})).map((function(e){return{value:e.id,label:e.name}})),onChange:function(e){B(e.value)},options:Z.data.map((function(e){return{value:e.id,label:e.name}})),className:f()("react-select",{"is-invalid":null===A}),classNamePrefix:"select"})]}),Object(S.jsxs)(i.t,{md:12,xs:12,children:[Object(S.jsx)(i.E,{className:"form-label",for:"id_employee",children:W("Employee")}),Object(S.jsx)(p.a,{id:"id_employee",isClearable:!0,isLoading:X.isLoading_employee,theme:j.y,defaultValue:null!==(a=X.data_employee.filter((function(e){return e.id===(null===Q||void 0===Q?void 0:Q.id_employee)})).map((function(e){var t;return{value:e.id,label:"".concat(e.FirstName," ").concat(null!==(t=null===e||void 0===e?void 0:e.LastName)&&void 0!==t?t:"")}})))&&void 0!==a?a:"",onChange:function(e){var t;t=e,I(Array.isArray(t)?t.map((function(e){return e.value})):[])},options:X.data_employee.map((function(e){var t;return{value:e.id,label:"".concat(e.FirstName," ").concat(null!==(t=null===e||void 0===e?void 0:e.LastName)&&void 0!==t?t:"")}})),className:"react-select",classNamePrefix:"select"})]}),Object(S.jsxs)(i.t,{md:12,xs:12,children:[Object(S.jsx)(i.E,{className:"form-label",for:"member_of",children:W("Unit")}),Object(S.jsx)(p.a,{id:"member_of",isClearable:!1,theme:j.y,closeMenuOnSelect:!1,defaultValue:null!==(b=X.selectedUser)&&void 0!==b&&b.member_of?null===(h=X.selectedUser)||void 0===h?void 0:h.member_of.map((function(e){return{value:e.id,label:e.name}})):[],onChange:function(e){var t;t=e,U(Array.isArray(t)?t.map((function(e){return e.value})):[])},isMulti:!0,options:H.data.map((function(e){return{value:e.id,label:e.name}})).filter((function(e){return""!==e.value})),className:"react-select",classNamePrefix:"select"})]}),Object(S.jsxs)(i.t,{xs:12,className:"text-center mt-2 pt-50",children:[Object(S.jsx)(i.i,{type:"submit",className:"me-1",color:"primary",children:W("Submit")}),Object(S.jsx)(i.i,{type:"reset",color:"secondary",outline:!0,onClick:function(){ae({username:null===Q||void 0===Q?void 0:Q.username,name:null===Q||void 0===Q?void 0:Q.name}),v(!1)},children:W("Cancel")})]})]})})]})]})})}},401:function(e,t,a){"use strict";a.r(t);var n=a(5),l=a(9),s=a(0),c=a(8),r=a(37),i=a(146),o=a(7),d=a.n(o),u=a(51),m=a.n(u),j=a(10),b=a(2),f=["open","size","title","width","children","closeBtn","className","toggleSidebar","bodyClassName","contentClassName","wrapperClassName","headerClassName"],h=function(e){var t,a=e.open,l=e.size,s=e.title,o=e.width,u=e.children,h=e.closeBtn,O=e.className,p=e.toggleSidebar,v=e.bodyClassName,x=e.contentClassName,g=e.wrapperClassName,N=e.headerClassName,y=Object(r.a)(e,f),_=h||Object(b.jsx)(i.a,{className:"cursor-pointer",size:15,onClick:p});return Object(b.jsxs)(j.F,Object(n.a)(Object(n.a)(Object(n.a)({isOpen:a,toggle:p,contentClassName:d()("overflow-hidden",Object(c.a)({},x,x)),modalClassName:d()("modal-slide-in",Object(c.a)({},g,g)),className:d()((t={},Object(c.a)(t,O,O),Object(c.a)(t,"sidebar-lg","lg"===l),Object(c.a)(t,"sidebar-sm","sm"===l),t))},void 0!==o?{style:{width:String(o)+"px"}}:{}),y),{},{children:[Object(b.jsx)(j.I,{className:d()(Object(c.a)({},N,N)),toggle:p,close:_,tag:"div",children:Object(b.jsx)("h5",{className:"modal-title",children:Object(b.jsx)("span",{className:"align-middle",children:s})})}),Object(b.jsx)(m.a,{options:{wheelPropagation:!1},children:Object(b.jsx)(j.G,{className:d()("flex-grow-1",Object(c.a)({},v,v)),children:u})})]}))},O=a(31),p=a(217),v=a(577),x=a(88),g=a(14),N=a(83),y=a(82),_=a(84),w=a(596),S={email:"",password:"",phone:"",member_of:"",id_role:"",name:"",username:""};t.default=function(e){var t=e.open,a=e.toggleSidebar,c=Object(y.a)().t,r=Object(s.useContext)(_.a).colors,i=Object(s.useState)({}),o=Object(l.a)(i,2),u=(o[0],o[1]),m=Object(s.useState)(3),f=Object(l.a)(m,2),C=f[0],E=f[1],k=Object(s.useState)([]),D=Object(l.a)(k,2),P=D[0],U=D[1],L=(Object(g.c)((function(e){return e.users})),Object(g.c)((function(e){return e.roles}))),F=Object(g.c)((function(e){return e.units})),A=Object(g.b)(),B=Object(v.e)({defaultValues:S}),z=B.control,T=B.setValue,V=B.setError,I=B.handleSubmit,q=B.formState.errors;return Object(s.useEffect)((function(){var e=F.data.map((function(e){return{value:e.id,label:e.name}}));U([e[0]])}),[A,F.data.length]),Object(b.jsx)(h,{size:"lg",open:t,title:c("New User"),headerClassName:"mb-1",contentClassName:"pt-0",toggleSidebar:a,onClosed:function(){for(var e in S)T(e,"")},children:Object(b.jsxs)(j.y,{onSubmit:I((function(e){if(e.member_of=null!==P?P.map((function(e){return e.value})):[],e.id_role=null!==C?C:null,u(e),function(e){return Object.values(e).every((function(e){return"object"===typeof e||"member_of"!==e?null!==e&&""!==e:e.length>0}))}(e))A(Object(x.addUser)({id_role:null===e||void 0===e?void 0:e.id_role,avatar:"",status:1,email:e.email,member_of:null===e||void 0===e?void 0:e.member_of,phone:e.phone,name:e.name,username:e.username,password:e.password})).then((function(e){if("fulfilled"===e.meta.requestStatus)a(),N.b.success("".concat(c("Successfully Create Data")),{style:{padding:"16px",color:r.success.main,border:"1px solid ".concat(r.success.main)},iconTheme:{primary:r.success.main}});else if("rejected"===e.meta.requestStatus){var t="";e.payload.errors?t=Object.values(e.payload.errors):e.payload.error_reason&&(t=e.payload.message),N.b.error("".concat(c(t)),{style:{padding:"16px",color:r.danger.main,border:"1px solid ".concat(r.danger.main)},iconTheme:{primary:r.danger.main}})}}));else for(var t in e)null!==e[t]&&0===e[t].length&&V(t,{type:"manual"})})),children:[Object(b.jsxs)("div",{className:"mb-1",children:[Object(b.jsxs)(j.E,{className:"form-label",for:"name",children:[c("Full Name"),Object(b.jsx)("span",{className:"text-danger",children:"*"})]}),Object(b.jsx)(v.a,{defaultValue:"",control:z,rules:{required:!0,pattern:{value:/^[a-zA-Z\s]*$/,message:c("Invalid name, you can only use letters")}},id:"name",name:"name",render:function(e){var t=e.field;return Object(b.jsx)(j.B,Object(n.a)(Object(n.a)({},t),{},{id:"name",placeholder:"John",invalid:q.name&&!0}))}}),q.name&&Object(b.jsx)(j.A,{color:"danger",children:c(q.name.message)})]}),Object(b.jsxs)("div",{className:"mb-1",children:[Object(b.jsxs)(j.E,{className:"form-label",for:"email",children:[c("Email")," ",Object(b.jsx)("span",{className:"text-danger",children:"*"})]}),Object(b.jsx)(v.a,{name:"email",control:z,rules:{required:{value:!0,message:c("You need to specify a valid email address")},pattern:{value:/^\S+@\S+$/i,message:c("Not valid email adreess.")}},render:function(e){var t=e.field;return Object(b.jsx)(j.B,Object(n.a)({type:"email",id:"email",placeholder:"john.doe@example.com",invalid:q.email&&!0},t))}}),Object(b.jsx)(j.A,{color:"muted",children:c("You can use letters, numbers & periods")})]}),Object(b.jsxs)("div",{className:"mb-1",children:[Object(b.jsxs)(j.E,{className:"form-label",for:"username",children:[c("Username"),Object(b.jsx)("span",{className:"text-danger",children:"*"})]}),Object(b.jsx)(v.a,{defaultValue:"",control:z,rules:{required:!0,minLength:{value:4,message:c("minimum number of character is 4")},maxLength:{value:15,message:c("maximum number of character is 15")},pattern:{value:/^[a-zA-Z0-9]+([a-zA-Z0-9](_|-| )[a-zA-Z0-9])*[a-zA-Z0-9]+$/,message:c("You can use letters and numbers without white space")}},id:"username",name:"username",render:function(e){var t=e.field;return Object(b.jsx)(j.B,Object(n.a)(Object(n.a)({},t),{},{id:"username",placeholder:"john.doe.007",invalid:q.username&&!0}))}}),q.username&&Object(b.jsx)(j.A,{color:"danger",children:c(q.username.message)})]}),Object(b.jsxs)("div",{className:"mb-1",children:[Object(b.jsx)("div",{className:"d-flex justify-content-between",children:Object(b.jsxs)(j.E,{className:"form-label",for:"login-password",children:[c("Password")," ",Object(b.jsx)("span",{className:"text-danger",children:"*"})]})}),Object(b.jsx)(v.a,{defaultValue:"",id:"password",name:"password",control:z,rules:{required:{value:!0,message:c("Password is required")},minLength:{value:8,message:c("Password must have at least 8 characters")}},render:function(e){var t=e.field;return Object(b.jsx)(w.a,Object(n.a)({className:"input-group-merge",invalid:q.password&&!0},t))}}),q.password&&Object(b.jsx)(j.A,{color:"danger",children:c(q.password.message)})]}),Object(b.jsxs)("div",{className:"mb-1",children:[Object(b.jsx)(j.E,{className:"form-label",for:"phone",children:c("Mobile Phone Number")}),Object(b.jsx)(v.a,{defaultValue:"",control:z,rules:{required:!1,pattern:{value:/^[0-9+-]+$/,message:"This is not a valid mobile phone, try again!"},minLength:{value:6,message:"This number is too short."},maxLength:{value:14,message:"...And now it's too long."}},id:"phone",name:"phone",render:function(e){var t=e.field;return Object(b.jsx)(j.B,Object(n.a)(Object(n.a)({},t),{},{id:"phone",placeholder:"+62 813 940 10XX X"}))}}),q.phone&&Object(b.jsx)(j.A,{color:"danger",children:c(q.phone.message)})]}),Object(b.jsxs)("div",{className:"mb-1",children:[Object(b.jsx)(j.E,{className:"form-label",for:"id_unit",children:c("Unit")}),Object(b.jsx)(p.a,{id:"id_unit",isClearable:!1,theme:O.y,closeMenuOnSelect:!1,onChange:function(e){U(e)},defaultValue:F.data.map((function(e){return{value:e.id,label:e.name}}))[0],isMulti:!0,options:F.data.map((function(e){return{value:e.id,label:e.name}})),className:"react-select",classNamePrefix:"select"})]}),Object(b.jsxs)("div",{className:"mb-1",children:[Object(b.jsx)(j.E,{for:"role-select",children:c("Role")}),Object(b.jsx)(p.a,{id:"id_role",isClearable:!1,options:L.data.map((function(e){return{value:e.id,label:e.name}})),defaultValue:{label:"editor",vaue:3},classNamePrefix:"select",className:d()("react-select",{"is-invalid":null===C}),theme:O.y,onChange:function(e){E(e.value)}})]}),Object(b.jsx)(j.i,{type:"submit",className:"me-1",color:"primary",children:c("Submit")}),Object(b.jsx)(j.i,{type:"reset",color:"secondary",outline:!0,onClick:a,children:c("Cancel")})]})})}},404:function(e,t,a){"use strict";a.r(t);var n=a(9),l=a(0),s=a(26),c=a(82),r=a(79),i=a(401),o=a(166),d=a(31),u=a(36),m=a(88),j=a(126),b=a(14),f=a(217),h=a(592),O=a.n(h),p=a(595),v=a.n(p),x=a(323),g=a(315),N=a(288),y=a(292),_=a(289),w=a(274),S=a(337),C=a(286),E=a(282),k=a(321),D=a(326),P=a(307),U=a(257),L=a(330),F=a(268),A=a(572),B=a(216),z=a(84),T=a(824),V=a(83),I=a(10),q=(a(218),a(579),a(60)),R=a.n(q),M=a(575),W=a.n(M),Y=a(65),J=a(125),X=a.n(J),H=a(2),Z=W()(R.a),$=function(e){var t=e.store,a=e.toggleSidebar,n=e.handlePerPage,s=e.rowsPerPage,i=e.handleFilter,o=e.searchTerm,d=Object(c.a)().t,u=Object(l.useContext)(r.a);function m(e){var a=document.createElement("a"),n=function(e){var a,n=Object.keys(t.data[0]);return a="",a+=n.join(","),a+="\n",e.forEach((function(e){var t=0;n.forEach((function(n){t>0&&(a+=","),a+=e[n],t++})),a+="\n"})),a}(e);if(null!==n){n.match(/^data:text\/csv/i)||(n="data:text/csv;charset=utf-8,".concat(n)),a.setAttribute("href",encodeURI(n)),a.setAttribute("download","export.csv"),a.click()}}return Object(H.jsx)("div",{className:"invoice-list-table-header w-100 me-1 ms-50 mt-2 mb-75",children:Object(H.jsxs)(I.R,{children:[Object(H.jsx)(I.t,{xl:"6",className:"d-flex align-items-center p-0",children:Object(H.jsxs)("div",{className:"d-flex align-items-center w-100",children:[Object(H.jsx)("label",{htmlFor:"rows-per-page",children:d("Show")}),Object(H.jsxs)(I.B,{className:"mx-50",type:"select",id:"rows-per-page",value:s,onChange:n,style:{width:"5rem"},children:[Object(H.jsx)("option",{value:"10",children:"10"}),Object(H.jsx)("option",{value:"25",children:"25"}),Object(H.jsx)("option",{value:"50",children:"50"})]}),Object(H.jsx)("label",{htmlFor:"rows-per-page",children:d("Entries")})]})}),Object(H.jsxs)(I.t,{xl:"6",className:"d-flex align-items-sm-center justify-content-xl-end justify-content-start flex-xl-nowrap flex-wrap flex-sm-row flex-column pe-xl-1 p-0 mt-xl-0 mt-1",children:[Object(H.jsxs)("div",{className:"d-flex align-items-center mb-sm-0 mb-1 me-1",children:[Object(H.jsxs)("label",{className:"mb-0",htmlFor:"search-invoice",children:[d("Search"),":"]}),Object(H.jsx)(I.B,{id:"search-invoice",className:"ms-50 w-100",type:"text",value:o,onChange:function(e){return i(e.target.value)}})]}),Object(H.jsxs)("div",{className:"d-flex align-items-center table-header-actions",children:[Object(H.jsxs)(I.X,{className:"me-1",children:[Object(H.jsxs)(I.x,{color:"secondary",caret:!0,outline:!0,children:[Object(H.jsx)(x.a,{className:"font-small-4 me-50"}),Object(H.jsx)("span",{className:"align-middle",children:d("Export")})]}),Object(H.jsxs)(I.w,{children:[Object(H.jsxs)(I.v,{className:"w-100",children:[Object(H.jsx)(g.a,{className:"font-small-4 me-50"}),Object(H.jsx)("span",{className:"align-middle",children:"Print"})]}),Object(H.jsxs)(I.v,{className:"w-100",onClick:function(){return m(t.data)},children:[Object(H.jsx)(N.a,{className:"font-small-4 me-50"}),Object(H.jsx)("span",{className:"align-middle",children:"CSV"})]}),Object(H.jsxs)(I.v,{className:"w-100",children:[Object(H.jsx)(y.a,{className:"font-small-4 me-50"}),Object(H.jsx)("span",{className:"align-middle",children:"Excel"})]}),Object(H.jsxs)(I.v,{className:"w-100",children:[Object(H.jsx)(_.a,{className:"font-small-4 me-50"}),Object(H.jsx)("span",{className:"align-middle",children:"PDF"})]}),Object(H.jsxs)(I.v,{className:"w-100",children:[Object(H.jsx)(w.a,{className:"font-small-4 me-50"}),Object(H.jsx)("span",{className:"align-middle",children:"Copy"})]})]})]}),u.can("post",sessionStorage.getItem("current_page_perm"))?Object(H.jsxs)(I.i,{className:"add-new-user",color:"primary",onClick:a,children:[d("Add New")," ",d(t.crudTitle)]}):null]})]})]})})};t.default=function(){var e,t,a,h,p=Object(b.b)(),x=Object(b.c)((function(e){return e.users})),g=Object(b.c)((function(e){return e.units})),y=Object(b.c)((function(e){return e.roles})),_=Object(c.a)().t,w=Object(l.useContext)(r.a),q=Object(l.useContext)(z.a).colors,R=Object(l.useState)("desc"),M=Object(n.a)(R,2),W=M[0],J=M[1],G=Object(l.useState)(""),K=Object(n.a)(G,2),Q=K[0],ee=K[1],te=Object(l.useState)(null!==(e=null===(t=x.params)||void 0===t?void 0:t.page)&&void 0!==e?e:1),ae=Object(n.a)(te,2),ne=ae[0],le=ae[1],se=Object(l.useState)("id"),ce=Object(n.a)(se,2),re=ce[0],ie=ce[1],oe=Object(l.useState)(null!==(a=null===(h=x.params)||void 0===h?void 0:h.length)&&void 0!==a?a:10),de=Object(n.a)(oe,2),ue=de[0],me=de[1],je=Object(l.useState)(!1),be=Object(n.a)(je,2),fe=be[0],he=be[1],Oe=Object(l.useState)({value:"",label:"".concat(_("Select")," ").concat(_("Role"))}),pe=Object(n.a)(Oe,2),ve=pe[0],xe=pe[1],ge=Object(l.useState)({value:"",label:"".concat(_("Select")," ").concat(_("Unit"))}),Ne=Object(n.a)(ge,2),ye=Ne[0],_e=Ne[1],we=Object(l.useState)({value:"",label:"".concat(_("Select")," Status"),number:0}),Se=Object(n.a)(we,2),Ce=Se[0],Ee=Se[1],ke=Object(l.useState)([]),De=Object(n.a)(ke,2),Pe=De[0],Ue=De[1],Le=Object(l.useState)(!1),Fe=Object(n.a)(Le,2),Ae=Fe[0],Be=Fe[1],ze=Object(l.useState)(!1),Te=Object(n.a)(ze,2),Ve=Te[0],Ie=Te[1],qe=function(){he(!fe),Object(d.x)()},Re=function(){he(!fe),Object(d.s)(qe)};Object(l.useEffect)((function(){if(0!==(null===y||void 0===y?void 0:y.data.length)||y.isLoading){var e=y.data.map((function(e){return{value:e.id,label:e.name}}));e.unshift({value:"",label:"".concat(_("Select")," ").concat(_("Role"))}),Ue(e)}else p(Object(j.getData)()).then((function(e){if(e.data){var t=e.payload.data.map((function(e){return{value:e.id,label:e.name}}));t.unshift({value:"",label:"".concat(_("Select")," ").concat(_("Role"))}),Ue(t)}}));0!==x.data.length||x.isLoading||p(Object(m.getData)({sort_dir:W,sort:re,search:Q,page:ne,length:ue,filter_role:ve.value,filter_status:Ce.value,filter_unit:ye.value}))}),[p,x.data.length,g.data.length,y.data.length,W,re,ne]);var Me={pending:"light-warning",active:"light-success",inactive:"light-secondary"},We=function(e){return e.avatar?Object(H.jsx)(u.a,{className:"me-1",img:e.avatar,width:"32",height:"32"}):Object(H.jsx)(u.a,{initials:!0,className:"me-1",color:e.avatarColor||"light-primary",content:e.name||"John Doe"})},Ye=[{name:_("User"),sortable:!0,minWidth:"400px",sortField:"name",selector:function(e){return e.name},cell:function(e){return Object(H.jsxs)("div",{className:"d-flex justify-content-left align-items-center",children:[We(e),Object(H.jsxs)("div",{className:"d-flex flex-column",children:[Object(H.jsx)(s.b,{to:"/apps/user/view/".concat(e.id),className:"user_name text-truncate text-body",children:Object(H.jsx)("span",{className:"fw-bolder",children:e.name})}),Object(H.jsx)("small",{className:"text-truncate text-muted mb-0",children:e.email})]})]})}},{name:_("Role"),sortable:!0,minWidth:"200px",sortField:"role_name",selector:function(e){return e.role_name},cell:function(e){return function(e){var t={public:{class:"text-primary",icon:S.a},viewer:{class:"text-success",icon:C.a},editor:{class:"text-info",icon:E.a},admin:{class:"text-warning",icon:k.a},super_user:{class:"text-danger",icon:D.a}},a=t[e.role_name]?t[e.role_name].icon:E.a;return Object(H.jsxs)("span",{className:"text-truncate text-capitalize align-middle",children:[Object(H.jsx)(a,{size:18,className:"".concat(t[e.role_name]?t[e.role_name].class:""," me-50")}),e.role_name]})}(e)}},{name:_("Joined Date"),minWidth:"230px",sortable:!0,sortField:"joined_date",selector:function(e){return e.billing},cell:function(e){return Object(H.jsx)("span",{className:"text-capitalize",children:X()(e.joined_date).format("DD MMM YYYY")})}},{name:_("Status"),minWidth:"120px",sortable:!0,sortField:"status",selector:function(e){return e.is_active},cell:function(e){return Object(H.jsx)(I.f,{className:"text-capitalize",color:Me[e.is_active?"active":"inactive"],pill:!0,children:e.is_active?_("active"):_("inactive")})}},{name:_("Actions"),width:"130px",cell:function(e){return Object(H.jsx)("div",{className:"column-action text-center",children:Object(H.jsxs)(I.X,{children:[Object(H.jsx)(I.x,{tag:"span",children:Object(H.jsx)(P.a,{size:14,className:"cursor-pointer"})}),Object(H.jsxs)(I.w,{end:!0,children:[Object(H.jsxs)(I.v,{tag:s.b,className:"w-100",to:"/apps/user/view/".concat(e.id),onClick:function(){return x.dispatch(Object(m.getUser)(e.id))},children:[Object(H.jsx)(N.a,{size:14,className:"me-50"}),Object(H.jsx)("span",{className:"align-middle",children:_("Details")})]}),w.can("update",sessionStorage.getItem("current_page_perm"))&&Object(H.jsxs)(I.v,{tag:"a",href:"/",className:"w-100",onClick:function(t){t.preventDefault(),$e(e.id)},children:[Object(H.jsx)(U.a,{size:14,className:"me-50"}),Object(H.jsx)("span",{className:"align-middle",children:_("Edit")})]}),w.can("delete",sessionStorage.getItem("current_page_perm"))&&Object(H.jsxs)(I.v,{tag:"a",href:"/",className:"w-100",onClick:function(t){t.preventDefault(),Ze(e.id)},children:[Object(H.jsx)(L.a,{size:14,className:"me-50"}),Object(H.jsx)("span",{className:"align-middle",children:_("Delete")})]})]})]})})}}],Je=Object(l.useMemo)((function(){return x.isLoading?Ye.map((function(e){return{name:e.name,sortable:!1,minWidth:e.minWidth,width:e.width,cell:function(t){return Object(H.jsx)(Y.a,{sx:{bgcolor:q.dark.light},animation:"wave",className:"Actions"===e.name?"ms-2":"",width:"Actions"===e.name?10:"100%",height:40})}}})):Ye.map((function(e){return{name:e.name,sortable:e.sortable,minWidth:e.minWidth,width:e.width,sortField:e.sortField,selector:e.selector,cell:e.cell}}))}),[x.isLoading,Ye]),Xe=[{value:"",label:"".concat(_("Select")," Status"),number:0},{value:"pending",label:"".concat(_("Pending")),number:1},{value:"active",label:"".concat(_("Active")),number:2},{value:"inactive",label:"".concat(_("Inactive")),number:3}],He=function(){return Object(H.jsxs)(l.Fragment,{children:[Object(H.jsx)(B.a,{}),Object(H.jsxs)(I.r,{className:"mb-0 mt-1",children:[_("Please Wait"),"..."]})]})},Ze=function(e){return Z.fire({title:"".concat(_("Are you sure?")),text:"".concat(_("You won't be able to revert")," ").concat(_("user"),"!"),icon:"warning",showCancelButton:!0,confirmButtonText:"".concat(_("Yes, Delete User!")),cancelButtonText:"".concat(_("Cancel")),customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ms-1"},buttonsStyling:!1}).then((function(t){t.value&&(Be(!0),p(Object(m.deleteUser)(e)).then((function(e){"fulfilled"===e.meta.requestStatus?(Be(!1),V.b.success("".concat(_("Successfully deleted Data")),{style:{padding:"16px",color:q.success.main,border:"1px solid ".concat(q.success.main)},iconTheme:{primary:q.success.main}})):"rejected"===e.meta.requestStatus&&(Be(!1),V.b.error(e.payload.message,{style:{padding:"16px",color:q.danger.main,border:"1px solid ".concat(q.danger.main)},iconTheme:{primary:q.danger.main}}))})))}))},$e=function(e){var t;Be(!0),!x.selectedUser||(null===(t=x.selectedUser)||void 0===t?void 0:t.id)!==parseInt(e)&&!x.isLoadingDetail?p(Object(m.getUser)(e)).then((function(e){Ie(!0),Be(!1)})):(Be(!1),Ie(!0))};return Object(H.jsxs)(l.Fragment,{children:[Object(H.jsxs)(A.a,{blocking:Ae,loader:Object(H.jsx)(He,{}),children:[Object(H.jsx)(I.l,{children:Object(H.jsx)(I.m,{children:Object(H.jsxs)(I.R,{children:[Object(H.jsxs)(I.t,{children:[Object(H.jsx)(I.E,{for:"role-select",children:_("Role")}),Object(H.jsx)(f.a,{isClearable:!1,value:ve,options:Pe,className:"react-select",classNamePrefix:"select",theme:d.y,onChange:function(e){xe(e),p(Object(m.getData)({sort_dir:W,sort:re,search:Q,filter_role:e.value,page:ne,length:ue,filter_status:Ce.value,filter_unit:ye.value}))}})]}),Object(H.jsxs)(I.t,{children:[Object(H.jsx)(I.E,{for:"status-select",children:"Status"}),Object(H.jsx)(f.a,{theme:d.y,isClearable:!1,className:"react-select",classNamePrefix:"select",options:Xe,value:Ce,onChange:function(e){Ee(e),p(Object(m.getData)({sort_dir:W,sort:re,search:Q,page:ne,filter_status:e.value,length:ue,filter_role:ve.value,filter_unit:ye.value}))}})]}),Object(H.jsx)(T.a,{parentChange:function(e){_e(e),p(Object(m.getData)({sort_dir:W,sort:re,search:Q,page:ne,length:ue,filter_role:ve.value,filter_unit:e.value,filter_status:Ce.value}))},colMode:!0})]})})}),Object(H.jsx)(I.l,{className:"overflow-hidden",children:Object(H.jsx)("div",{className:"react-dataTable",children:Object(H.jsx)(v.a,{noHeader:!0,subHeader:!0,sortServer:!0,pagination:!0,responsive:!0,paginationServer:!0,style:{"min-height":"400px"},columns:Je,onSort:function(e,t){J(t),ie(e.sortField),p(Object(m.getData)({sort_dir:W,sort:re,search:Q,page:ne,length:ue,filter_role:ve.value,filter_status:Ce.value,filter_unit:ye.value}))},sortIcon:Object(H.jsx)(F.a,{}),className:"react-dataTable",paginationComponent:function(){var e=Number(Math.ceil(x.total/ue));return Object(H.jsx)(O.a,{previousLabel:"",nextLabel:"",pageCount:e||1,activeClassName:"active",forcePage:0!==ne?ne-1:0,onPageChange:function(e){return function(e){p(Object(m.getData)({sort_dir:W,sort:re,search:Q,length:ue,page:e.selected+1,filter_role:ve.value,filter_status:Ce.value,filter_unit:ye.value})),le(e.selected+1)}(e)},pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end my-2 pe-1"})},data:function(){var e={filter_role:ve.value,filter_unit:ye.value,filter_status:Ce.value,search:Q},t=Object.keys(e).some((function(t){return e[t].length>0}));return x.isLoading?Array(10).fill({}):x.data.length>0?x.data:0===x.data.length&&t?[]:void 0}(),subHeaderComponent:Object(H.jsx)($,{store:x,searchTerm:Q,rowsPerPage:ue,handleFilter:function(e){ee(e),p(Object(m.getData)({sort_dir:W,search:e,sort:re,page:ne,length:ue,filter_role:ve.value,filter_status:Ce.value,filter_unit:ye.value}))},handlePerPage:function(e){var t=parseInt(e.currentTarget.value);p(Object(m.getData)({sort_dir:W,sort:re,search:Q,length:t,page:ne,filter_role:ve.value,filter_unit:ye.value,filter_status:Ce.value})),me(t)},toggleSidebar:Re})})})}),Object(H.jsx)(i.default,{open:fe,toggleSidebar:Re})]}),null!==x.selectedUser&&Object(H.jsx)(o.default,{show:Ve,setShow:Ie,detailPage:!1})]})}},575:function(e,t,a){var n=a(161).default,l=a(162).default,s=a(374).default,c=a(184).default,r=a(370).default,i=a(371).default,o=a(219).default;e.exports=function(e,t){"use strict";function a(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var d=a(e),u=a(t),m=[{key:"title",getter:function(e){return e.getTitle()}},{key:"html",getter:function(e){return e.getHtmlContainer()}},{key:"confirmButtonText",getter:function(e){return e.getConfirmButton()}},{key:"denyButtonText",getter:function(e){return e.getDenyButton()}},{key:"cancelButtonText",getter:function(e){return e.getCancelButton()}},{key:"footer",getter:function(e){return e.getFooter()}},{key:"closeButtonHtml",getter:function(e){return e.getCloseButton()}},{key:"iconHtml",getter:function(e){return e.getIcon().querySelector(".swal2-icon-content")}},{key:"loaderHtml",getter:function(e){return e.getLoader()}}],j=function(){};function b(e){function t(e){var t={},a={},n=m.map((function(e){return e.key}));return Object.entries(e).forEach((function(e){var l=o(e,2),s=l[0],c=l[1];n.includes(s)&&d.default.isValidElement(c)?(t[s]=c,a[s]=" "):a[s]=c})),[t,a]}function a(t,a){Object.entries(a).forEach((function(a){var n=o(a,2),l=n[0],s=n[1],c=m.find((function(e){return e.key===l})).getter(e);u.default.render(s,c),t.__mountedDomElements.push(c)}))}function b(e){e.__mountedDomElements.forEach((function(e){u.default.unmountComponentAtNode(e)})),e.__mountedDomElements=[]}return function(u){r(f,u);var m=i(f);function f(){return n(this,f),m.apply(this,arguments)}return l(f,[{key:"_main",value:function(e,n){var l=this;this.__mountedDomElements=[],this.__params=Object.assign({},n,e);var r=t(this.__params),i=o(r,2),d=i[0],u=i[1],m=u.didOpen||j,h=u.didDestroy||j;return s(c(f.prototype),"_main",this).call(this,Object.assign({},u,{didOpen:function(e){a(l,d),m(e)},didDestroy:function(e){h(e),b(l)}}))}},{key:"update",value:function(e){Object.assign(this.__params,e),b(this);var n=t(this.__params),l=o(n,2),r=l[0],i=l[1];s(c(f.prototype),"update",this).call(this,i),a(this,r)}}],[{key:"argsToParams",value:function(t){if(d.default.isValidElement(t[0])||d.default.isValidElement(t[1])){var a={};return["title","html","icon"].forEach((function(e,n){void 0!==t[n]&&(a[e]=t[n])})),a}return e.argsToParams(t)}}]),f}(e)}return b}(a(0),a(40))},579:function(e,t,a){},596:function(e,t,a){"use strict";var n=a(5),l=a(8),s=a(9),c=a(37),r=a(0),i=a(7),o=a.n(i),d=a(286),u=a(285),m=a(10),j=a(2),b=["label","hideIcon","showIcon","visible","className","htmlFor","placeholder","iconSize","inputClassName","invalid"],f=Object(r.forwardRef)((function(e,t){var a,i=e.label,f=e.hideIcon,h=e.showIcon,O=e.visible,p=e.className,v=e.htmlFor,x=e.placeholder,g=e.iconSize,N=e.inputClassName,y=e.invalid,_=Object(c.a)(e,b),w=Object(r.useState)(O),S=Object(s.a)(w,2),C=S[0],E=S[1];return Object(j.jsxs)(r.Fragment,{children:[i?Object(j.jsx)(m.E,{className:"form-label",for:v,children:i}):null,Object(j.jsxs)(m.C,{className:o()((a={},Object(l.a)(a,p,p),Object(l.a)(a,"is-invalid",y),a)),children:[Object(j.jsx)(m.B,Object(n.a)(Object(n.a)({ref:t,invalid:y,type:!1===C?"password":"text",placeholder:x||"\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7",className:o()(Object(l.a)({},N,N))},i&&v?{id:v}:{}),_)),Object(j.jsx)(m.D,{className:"cursor-pointer",onClick:function(){return E(!C)},children:function(){var e=g||14;return!1===C?f||Object(j.jsx)(d.a,{size:e}):h||Object(j.jsx)(u.a,{size:e})}()})]})]})}));t.a=f,f.defaultProps={visible:!1}},824:function(e,t,a){"use strict";var n=a(9),l=a(0),s=a(10),c=a(217),r=a(82),i=a(31),o=(a(87),a(14)),d=(a(577),a(2));t.a=function(e){var t,a=e.parentChange,u=e.colMode,m=void 0!==u&&u,j=e.colSize,b=void 0===j?6:j,f=e.initialValue,h=void 0===f||f,O=e.colClassName,p=void 0===O?"":O,v=Object(r.a)().t,x=(Object(i.l)(),Object(o.b)()),g=Object(o.c)((function(e){return e.units})),N=Object(l.useState)([]),y=Object(n.a)(N,2),_=y[0],w=y[1],S=Object(l.useState)(h?{value:"",label:"".concat(v("Select")," ").concat(v("Unit"))}:{}),C=Object(n.a)(S,2),E=C[0],k=C[1],D=function(e,t){k(e),"function"===typeof t&&t(e)};return Object(l.useEffect)((function(){var e=h?g.dataDropdown:g.dataDropdown.filter((function(e){return""!==e.value}));w(e),k(h?g.selectedUnit:e[0])}),[x,g.dataDropdown]),(null===(t=g.data)||void 0===t?void 0:t.length)>1?m?Object(d.jsxs)(s.t,{md:"".concat(b),className:p,children:[Object(d.jsx)(s.E,{className:"",for:"plan-select",children:v("Unit")}),Object(d.jsx)(c.a,{theme:i.y,isClearable:!1,className:"react-select",classNamePrefix:"select",options:_,value:E,onChange:function(e){D(e,a)},getOptionLabel:function(e){return e.code?"".concat(e.code," ").concat(e.label):"".concat(e.label)}})]}):Object(d.jsx)(s.l,{children:Object(d.jsx)(s.m,{children:Object(d.jsxs)(s.R,{children:[Object(d.jsx)(s.E,{className:"",for:"plan-select",children:v("Unit")}),Object(d.jsx)(c.a,{theme:i.y,isClearable:!1,className:"react-select",classNamePrefix:"select",options:_,value:E,onChange:function(e){D(e,a)},getOptionLabel:function(e){return e.code?"".concat(e.code," ").concat(e.label):"".concat(e.label)}})]})})}):null}}}]);
//# sourceMappingURL=12.884f722d.chunk.js.map