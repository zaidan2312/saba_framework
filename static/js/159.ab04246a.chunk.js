(this["webpackJsonpsaba-react-framework"]=this["webpackJsonpsaba-react-framework"]||[]).push([[159,163],{444:function(e,t,s){"use strict";s.r(t);var n=s(13),c=s(9),a=s(0),i=s(577),r=s(308),l=s(146),o=s(254),d=s(269),j=s(267),u=s(10),m=s(82),b=s(83),x=s(36),O=s(129),h=s(572),v=s(99),f=s(15),g=s(2),p=function(e){var t=e.x,s=e.name,n=e.message;return Object(g.jsxs)("div",{className:"d-flex",children:[Object(g.jsx)("div",{className:"me-1",children:Object(g.jsx)(x.a,{size:"sm",color:"info",icon:Object(g.jsx)(r.a,{size:12})})}),Object(g.jsxs)("div",{className:"d-flex flex-column",children:[Object(g.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(g.jsx)("h6",{children:s}),Object(g.jsx)(l.a,{size:12,className:"cursor-pointer",onClick:function(){return b.b.dismiss(t.id)}})]}),Object(g.jsx)("span",{children:n})]})]})},N=function(e){var t=e.x,s=e.name,n=e.message;return Object(g.jsxs)("div",{className:"d-flex",children:[Object(g.jsx)("div",{className:"me-1",children:Object(g.jsx)(x.a,{size:"sm",color:"danger",icon:Object(g.jsx)(o.a,{size:12})})}),Object(g.jsxs)("div",{className:"d-flex flex-column",children:[Object(g.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(g.jsx)("h6",{children:s}),Object(g.jsx)(l.a,{size:12,className:"cursor-pointer",onClick:function(){return b.b.dismiss(t.id)}})]}),Object(g.jsx)("span",{children:n})]})]})},y={address:"",firstName:""};t.default=function(e){var t=e.stepper,s=Object(m.a)().t,r=(Object(v.a)().skin,Object(a.useState)(!1)),l=Object(c.a)(r,2),o=l[0],x=l[1],k=Object(a.useState)(null),S=Object(c.a)(k,2),w=(S[0],S[1]),z=Object(a.useState)(null),I=Object(c.a)(z,2),_=(I[0],I[1]),C=Object(a.useState)(["","","",""]),E=Object(c.a)(C,2),P=E[0],B=E[1],F=Object(i.e)({defaultValues:y}),T=(F.control,F.setError,F.handleSubmit);F.formState.errors;return Object(g.jsx)(h.a,{blocking:o,loader:Object(g.jsx)(O.a,{}),children:Object(g.jsxs)(a.Fragment,{children:[Object(g.jsxs)("div",{className:"content-header mb-2",children:[Object(g.jsx)("h2",{className:"fw-bolder mb-75",children:s("Email Verification")}),Object(g.jsxs)("span",{children:[s("Enter the OTP code that we have sent to your email"),"."]})]}),Object(g.jsxs)(u.y,{onSubmit:T((function(e){if(null!==P&&void 0!==P&&P.every((function(e){return""!==e}))){var n,c={otp:parseInt(null===(n=P.join())||void 0===n?void 0:n.replaceAll(",","")),register_token:sessionStorage.getItem("register_token")};x(!0),f.a.registerOtp(c).then((function(e){var n=e.data;x(!1),_(null===n||void 0===n?void 0:n.message),sessionStorage.removeItem("register_token"),sessionStorage.setItem("register_token_msg",null===n||void 0===n?void 0:n.message),Object(b.b)((function(e){return Object(g.jsx)(p,{x:e,name:s("Successfully"),message:null===n||void 0===n?void 0:n.message})})),t.next()})).catch((function(e){var t,n;x(!1);var c,a,i="".concat(s("Failed. Please check your email and password and make sure your account is registered correctly. Contact our support team if needed."));["email_taken","username_taken"].includes(null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error_reason)&&(i=null===(c=e.response)||void 0===c||null===(a=c.data)||void 0===a?void 0:a.message);w(i),Object(b.b)((function(e){return Object(g.jsx)(N,{x:e,name:s("Register Failed"),message:i})}))}))}})),children:[Object(g.jsxs)(u.R,{children:[P.map((function(e,t){return Object(g.jsx)(u.t,{md:"2",xs:"3",className:"mb-1",children:Object(g.jsx)(u.B,{id:"otpInput".concat(t),type:"text",maxLength:"1",value:e,onChange:function(e){return function(e,t){var s=Object(n.a)(P);if(s[t]=e.target.value,""!==e.target.value&&t<3){var c=document.getElementById("otpInput".concat(t+1));c&&c.focus()}B(s)}(e,t)},onKeyDown:function(e){return function(e,t){if("Backspace"===e.key&&t>0&&""===P[t]){var s=Object(n.a)(P);s[t-1]="",B(s);var c=document.getElementById("otpInput".concat(t-1));c&&c.focus()}}(e,t)},style:{width:"100%",height:"50px",textAlign:"center",fontSize:"25px",fontWeight:600}},t)})})),Object(g.jsx)(u.t,{md:"12",className:"mb-1",children:Object(g.jsxs)("span",{style:{fontSize:"smaller",color:"#999999"},children:[s("This OTP code has an expiration date. If your code is outdated, then repeat the registration process"),"."]})})]}),Object(g.jsxs)("div",{className:"d-flex justify-content-between mt-2",children:[Object(g.jsxs)(u.i,{color:"secondary",className:"btn-prev",outline:!0,onClick:function(){return t.previous()},children:[Object(g.jsx)(d.a,{size:14,className:"align-middle me-sm-25 me-0"}),Object(g.jsx)("span",{className:"align-middle d-sm-inline-block d-none",children:s("Previous")})]}),(null===P||void 0===P?void 0:P.every((function(e){return""!==e})))&&Object(g.jsxs)(u.i,{type:"submit",color:"success",className:"btn-next",children:[Object(g.jsx)("span",{className:"align-middle d-sm-inline-block d-none",children:s("Submit")}),Object(g.jsx)(j.a,{size:14,className:"align-middle ms-sm-25 ms-0"})]})]})]})]})})}},572:function(e,t,s){"use strict";var n=s(5),c=s(8),a=s(0),i=s(7),r=s.n(i),l=s(10),o=(s(578),s(2)),d=function(e){var t,s=e.children,i=e.blocking,l=e.loader,d=e.className,j=e.tag,u=e.overlayColor,m=j;return Object(o.jsxs)(m,{className:r()("ui-loader",(t={},Object(c.a)(t,d,d),Object(c.a)(t,"show",i),t)),children:[s,i?Object(o.jsxs)(a.Fragment,{children:[Object(o.jsx)("div",Object(n.a)({className:"overlay"},i&&u?{style:{backgroundColor:u}}:{})),Object(o.jsx)("div",{className:"loader",children:l})]}):null]})};t.a=d,d.defaultProps={tag:"div",blocking:!1,loader:Object(o.jsx)(l.S,{color:"primary"})}},578:function(e,t,s){}}]);
//# sourceMappingURL=159.ab04246a.chunk.js.map