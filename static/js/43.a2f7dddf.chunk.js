(this["webpackJsonpsaba-react-framework"]=this["webpackJsonpsaba-react-framework"]||[]).push([[43,62,76,172],{163:function(e,t,a){"use strict";a.r(t);var c=a(8),n=a(5),i=a(9),o=a(0),l=a(21),r=a(82),s=(a(587),a(10)),d=a(121),u=a(573),m=a(216),b=(a(160),a(83)),j=a(31),p=(a(585),a(577),a(588),a(578)),h=a(89),f=a(14),g=a(2);t.default=function(e){var t=e.show,O=e.setShow,x=e.detailPage,v=e.formState,y=e.setFormState,N=e.currentData,S=void 0===N?null:N,_=Object(d.a)().t,M=Object(l.g)().id,k=Object(f.b)(),D=Object(f.c)((function(e){return e[h.storeName]})),w=Object(o.useContext)(b.a).colors,C=Object(o.useState)("Please Wait"),T=Object(i.a)(C,2),F=T[0],L=T[1],A=Object(f.c)((function(e){return e})),V=Object(o.useState)({}),G=Object(i.a)(V,2),B=G[0],P=G[1],I=Object(o.useState)({}),E=Object(i.a)(I,2),R=E[0],q=(E[1],Object(o.useState)({})),Y=Object(i.a)(q,2),H=Y[0],J=Y[1],W=Object(p.e)({}),z=(W.control,W.setError),Q=W.handleSubmit,U=(W.formState.errors,function(){return Object(g.jsxs)(o.Fragment,{children:[Object(g.jsx)(m.a,{}),Object(g.jsxs)(s.q,{className:"mb-0 mt-1",children:[_(F),"..."]})]})}),X=function(){k(Object(h.resetSelectedData)())},K=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(a)if(R[t]){var i=R[t].indexOf(e);-1!==i?R[t].splice(i,1):R[t].push(e)}else R[t]=[e];else R[t]=e;J(Object(n.a)(Object(n.a)({},H),{},Object(c.a)({},t,!1)))};return Object(o.useEffect)((function(){for(var e={},t=h.dynamicForm,c=function(c){var n=t[c].fieldName,i=t[c].fieldLabel,l=t[c].fieldName.replaceAll("id_","");if(R[n]=null,H[n]=!1,"dropdown"===t[c].type||"table"===t[c].type){var r,d,u,m,b,j=Object(o.lazy)((function(){return a(607)("./".concat(l))}));e["".concat(l,"_comp")]=Object(g.jsxs)(o.Fragment,{children:[Object(g.jsx)(s.D,{className:"form-label",for:n,children:_(null!==i&&void 0!==i?i:"")}),Object(g.jsx)(j,{lookupMode:!0,lookupMode_fieldName:n,lookupMode_dropdown:"dropdown"===t[c].type,lookupMode_isMulti:null!==(r=t[c].isMultiSelection)&&void 0!==r&&r,lookupMode_onChange:K,lookupMode_defaultValue:null!==(d=t[c])&&void 0!==d&&d.isM2MDefValFromGrid?A[h.storeName].data.map((function(e){return e[n]})):null!==(u=A[h.storeName])&&void 0!==u&&u.selectedData?A[h.storeName].selectedData[n]:"",lookupMode_isM2MDefValFromGrid:null!==(m=null===(b=t[c])||void 0===b?void 0:b.isM2MDefValFromGrid)&&void 0!==m&&m},"dynInput_".concat(n))]})}else{var p,f;e["".concat(l,"_comp")]=Object(g.jsxs)(o.Fragment,{children:[Object(g.jsx)(s.D,{className:"form-label",for:n,children:_(null!==i&&void 0!==i?i:"")}),Object(g.jsx)(s.A,{defaultValue:null!==(p=t[c])&&void 0!==p&&p.isM2MDefValFromGrid?A[h.storeName].data.map((function(e){return e[n]})):null!==(f=A[h.storeName])&&void 0!==f&&f.selectedData?A[h.storeName].selectedData[n]:"",onChange:function(e){var a;return K(e.target.value,n,null!==(a=t[c].isMultiSelection)&&void 0!==a&&a)},id:"dynInput_".concat(n)},"dynInput_".concat(n))]})}},n=0;n<t.length;n++)c(n);P(e)}),[]),Object(g.jsx)(s.E,{isOpen:t,toggle:function(){X(),O(!t)},className:"modal-dialog-centered modal-lg",children:Object(g.jsxs)(u.a,{blocking:D.isLoadingAddEdit||D.isLoadingDetail,loader:Object(g.jsx)(U,{}),children:[Object(g.jsx)(s.H,{className:"bg-transparent",toggle:function(){X(),O(!t)}}),Object(g.jsxs)(s.F,{className:"px-sm-5 pt-50 pb-5",children:[Object(g.jsxs)("div",{className:"text-center mb-2",children:[Object(g.jsxs)("h2",{className:"mb-1",children:[_("edit"===v?"Edit":"Add Sub")," ",_(h.pageTitle)]}),Object(g.jsxs)("p",{className:"mb-1",children:[_("Child for ")," ",S?_(S.title):""]})]}),Object(g.jsx)(s.x,{onSubmit:Q("edit"===v?function(){if(function(e){if("edit"===v){var t=Object(n.a)({},Object(j.x)(A[h.storeName].selectedData));for(var a in delete t.id,t)a in e||delete t[a];return JSON.stringify(Object(j.x)(t))!==JSON.stringify(Object(j.x)(e))}return!0}(R))if(Object.values(data).every((function(e){return null!==e&&""!==e})))L("".concat(_("Updating")," ").concat(_(h.pageTitle)," ").concat(_("Detail")," Data")),k(Object(h.putData)(data)).then((function(e){"fulfilled"===e.meta.requestStatus?(O(!t),r.b.success("".concat(_("Successfully Updated")," ").concat(_(h.pageTitle)),{style:{padding:"16px",color:w.success.main,border:"1px solid ".concat(w.success.main)},iconTheme:{primary:w.success.main}}),x&&k(Object(h.getDataById)(M))):"rejected"===e.meta.requestStatus&&r.b.error(e.payload.message,{style:{padding:"16px",color:w.danger.main,border:"1px solid ".concat(w.danger.main)},iconTheme:{primary:w.danger.main}})}));else for(var e in data){var a;0===(null===(a=data[e])||void 0===a?void 0:a.length)&&z(e,{type:"manual"})}else Object(r.b)("".concat(_("You haven't changed anything")),{icon:"\ud83d\udc4f"})}:function(){if(Object.values(R).every((function(e){return null!==e&&""!==e})))L("".concat(_("Creating a New ".concat(h.pageTitle)))),k(Object(h.postData)(R)).then((function(e){"fulfilled"===e.meta.requestStatus?(O(!t),r.b.success("".concat(_("Successfully Created")," ").concat(_(h.pageTitle)),{style:{padding:"16px",color:w.success.main,border:"1px solid ".concat(w.success.main)},iconTheme:{primary:w.success.main}}),x&&k(Object(h.getDataById)(M))):"rejected"===e.meta.requestStatus&&r.b.error(e.payload.message,{style:{padding:"16px",color:w.danger.main,border:"1px solid ".concat(w.danger.main)},iconTheme:{primary:w.danger.main}})}));else{var e=Object.assign({},H);for(var a in R){var c;null!==R[a]&&0!==(null===(c=R[a])||void 0===c?void 0:c.length)||(e[a]=!0)}J(e)}}),children:Object(g.jsxs)(s.Q,{className:"gy-1 pt-75",children:[h.dynamicForm.map((function(e,t){var a,c,n=e.fieldName.replaceAll("id_","");return["dropdown","table"].includes(e.type)?"table"===e.type?Object(g.jsx)(s.s,{md:12,xs:12,children:Object(g.jsx)(o.Suspense,{fallback:Object(g.jsx)("div",{children:"Loading..."}),children:Object(g.jsxs)("div",{className:H[e.fieldName]?"dynamicForm_input dynamicForm_input_invalid":"dynamicForm_input",children:[B["".concat(n,"_comp")],(null===e||void 0===e?void 0:e.isM2MDefValFromGrid)&&R[e.fieldName]&&Object(g.jsxs)("div",{style:{textAlign:"right"},className:"text-primary",children:[null===(a=R[e.fieldName])||void 0===a?void 0:a.length," ",_(e.fieldLabel)," ",_("Selected")]})]})})},n):Object(g.jsx)(s.s,{md:12,xs:12,children:Object(g.jsx)(o.Suspense,{fallback:Object(g.jsx)("div",{children:"Loading..."}),children:Object(g.jsxs)("div",{className:H[e.fieldName]?"dynamicForm_input_invalid":"",children:[B["".concat(n,"_comp")],(null===e||void 0===e?void 0:e.isM2MDefValFromGrid)&&R[e.fieldName]&&Object(g.jsxs)("div",{style:{textAlign:"right"},className:"text-primary",children:[null===(c=R[e.fieldName])||void 0===c?void 0:c.length," ",_(e.fieldLabel)," ",_("Selected")]})]})})},n):Object(g.jsx)(s.s,{md:12,xs:12,children:Object(g.jsx)("div",{className:H[e.fieldName]?"dynamicForm_input_invalid":"",children:B["".concat(n,"_comp")]})},n)})),Object(g.jsxs)(s.s,{xs:12,className:"text-center mt-2 pt-50",children:[Object(g.jsx)(s.i,{type:"submit",className:"me-1",color:"primary",children:_("Submit")}),Object(g.jsx)(s.i,{type:"reset",color:"secondary",outline:!0,onClick:function(){X(),y("add"),O(!1)},children:_("Cancel")})]})]})})]})]})})}},174:function(e,t,a){"use strict";a.r(t);var c=a(9),n=a(0),i=a(14),o=a(121),l=a(382),r=a(383),s=a(393),d=a(10),u=a(590),m=a(543),b=(a(546),a(592)),j=a(89),p=a(65),h=a(2);t.default=function(e){var t,a,f=e.lookupMode,g=void 0!==f&&f,O=e.lookupMode_fieldName,x=void 0===O?"":O,v=e.lookupMode_dropdown,y=void 0!==v&&v,N=e.lookupMode_isMulti,S=void 0!==N&&N,_=e.lookupMode_onChange,M=e.lookupMode_defaultValue,k=(e.lookupMode_isM2MDefValFromGrid,Object(o.a)().t),D=Object(i.b)(),w=Object(i.c)((function(e){return e[j.storeName]})),C=Object(n.useState)(""),T=Object(c.a)(C,2),F=T[0];T[1];Object(n.useEffect)((function(){var e;j.getApiSummaryData&&(0===(null===(e=w.dataSummary)||void 0===e?void 0:e.length)||!w.isLoadingSummary&&j.getAlwaysGrid)&&D(Object(j.getSummaryData)({}))}),[D,null===(t=w.dataSummary)||void 0===t?void 0:t.length]);var L=["primary","success","warning","danger","info","secondary"];return y?Object(h.jsx)(s.default,{lookupMode_fieldName:x,lookupMode_onChange:_,lookupMode_defaultValue:M,lookupMode_isMulti:S,lookupMode_isM2MDefValFromGrid:!0}):Object(h.jsxs)(n.Fragment,{children:[Object(h.jsx)("div",{className:"content-header row",children:!g&&Object(h.jsx)(b.a,{title:k(j.pageTitle),data:[{title:k("App Setting")},{title:k(j.pageTitle)}]})}),Object(h.jsxs)("div",{className:"app-user-list",children:[!g&&j.getApiSummaryData&&Object(h.jsx)(d.Q,{children:null===(a=w.dataSummary)||void 0===a?void 0:a.map((function(e,t){var a;return Object(h.jsx)(d.s,{children:Object(h.jsx)(u.a,{color:L[t],statTitle:"".concat(k(e.title)),icon:e.icon?Object(h.jsx)(m.a,{baseClassName:"material-icons-outlined",fontSize:"20",children:e.icon}):Object(h.jsx)(m.a,{baseClassName:"material-icons-outlined",fontSize:"20",children:"lightbulb"}),renderStats:w.isLoadingSummary?Object(h.jsx)(p.a,{sx:{bgcolor:"#eef2f8"},animation:"wave",height:25,width:40,className:"fw-bolder mb-75"}):Object(h.jsx)("h3",{className:"fw-bolder mb-75",children:null!==(a=e.count_format)&&void 0!==a?a:e.count})})})}))}),j.isTreeLayout?Object(h.jsx)(r.default,{searchString:F,lookupMode:g,lookupMode_fieldName:x,lookupMode_defaultValue:M,lookupMode_onChange:_,lookupMode_isMulti:S,lookupMode_isM2MDefValFromGrid:!0}):Object(h.jsx)(l.default,{lookupMode:g,lookupMode_fieldName:x,lookupMode_defaultValue:M,lookupMode_onChange:_,lookupMode_isMulti:S,lookupMode_isM2MDefValFromGrid:!0})]})]})}},382:function(e,t,a){"use strict";a.r(t);var c=a(13),n=a(4),i=a(9),o=a(5),l=a(3),r=a.n(l),s=a(0),d=a(121),u=a(79),m=a(163),b=a(31),j=a(89),p=a(84),h=(a(96),a(14)),f=a(594),g=a.n(f),O=a(597),x=a.n(O),v=a(583),y=a.n(v),N=a(269),S=a(573),_=(a(216),a(83)),M=a(82),k=a(10),D=(a(218),a(580),a(60)),w=a.n(D),C=a(576),T=a.n(C),F=a(65),L=a(125),A=a.n(L),V=a(591),G=(a(85),a(370)),B=a(36),P=a(2),I=T()(w.a),E=Object(s.forwardRef)((function(e,t){return Object(P.jsx)("div",{className:"form-check",children:Object(P.jsx)(k.A,Object(o.a)({type:"checkbox",ref:t},e))})})),R=function(e){e.store;var t=e.toggleSidebar,c=e.handlePerPage,n=e.rowsPerPage,o=e.handleFilter,l=e.searchTerm,r=e.selectedRow,m=e.handleDeleteSelected,p=e.handleFiltersChange,f=(e.filtersCustomAdd,e.searchString,e.lookupMode),g=(e.lookupMode_fieldName,e.lookupMode_defaultValue,e.lookupMode_onChange,e.lookupMode_isMulti,e.lookupMode_isM2MDefValFromGrid,Object(d.a)().t),O=Object(s.useContext)(u.a),x=Object(h.b)(),v=Object(h.c)((function(e){return e})),y=Object(s.useState)({}),N=Object(i.a)(y,2),S=N[0],_=N[1],M=Object(s.useState)({}),D=Object(i.a)(M,2),w=D[0],C=(D[1],Object(h.c)((function(e){return e.invoices})),Object(b.j)(),function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t="filter_".concat(t),a)if(w[t]){var c=w[t].indexOf(e);-1!==c?w[t].splice(c,1):w[t].push(e)}else w[t]=[e];else w[t]=e;return p(w[t],t)});return Object(s.useEffect)((function(){for(var e={},t=function(t){var c,n,i,o,l,r=j.dynamicColumnsFilter[t].fieldName,d=j.dynamicColumnsFilter[t].fieldName.replaceAll("id_","");w["filter_".concat(r)]=null;var u=Object(s.lazy)((function(){return a(607)("./".concat(d))}));e["".concat(d,"_comp")]=Object(P.jsx)(u,{lookupMode:!0,lookupMode_fieldName:r,lookupMode_dropdown:!0,lookupMode_isMulti:null!==(c=j.dynamicColumnsFilter[t].isMultiSelection)&&void 0!==c&&c,lookupMode_onChange:C,lookupMode_defaultValue:null!==(n=j.dynamicColumnsFilter[t])&&void 0!==n&&n.isM2MDefValFromGrid?v[j.storeName].data.map((function(e){return e[r]})):null!==(i=v[j.storeName])&&void 0!==i&&i.selectedData?v[j.storeName].selectedData[r]:"",lookupMode_isM2MDefValFromGrid:null!==(o=null===(l=j.dynamicColumnsFilter[t])||void 0===l?void 0:l.isM2MDefValFromGrid)&&void 0!==o&&o})},c=0;c<j.dynamicColumnsFilter.length;c++)t(c);_(e)}),[x,w]),Object(P.jsx)("div",{className:"invoice-list-table-header w-100 ms-50 mb-75 ".concat(f?"":"mt-2 me-1"),children:Object(P.jsxs)(k.Q,{children:[Object(P.jsx)(k.s,{xl:"4",className:"d-flex align-items-center p-0",children:!f&&Object(P.jsxs)("div",{className:"d-flex align-items-center w-100",children:[Object(P.jsx)("label",{htmlFor:"rows-per-page",children:g("Show")}),Object(P.jsxs)(k.A,{className:"mx-50",type:"select",id:"rows-per-page",value:n,onChange:c,style:{width:"5rem"},children:[Object(P.jsx)("option",{value:"10",children:"10"}),Object(P.jsx)("option",{value:"25",children:"25"}),Object(P.jsx)("option",{value:"50",children:"50"})]}),Object(P.jsx)("label",{htmlFor:"rows-per-page",children:g("Entries")})]})}),Object(P.jsxs)(k.s,{xl:"8",className:"d-flex align-items-sm-center justify-content-xl-end justify-content-start flex-xl-nowrap flex-wrap flex-sm-row flex-column p-0 mt-xl-0 mt-1 ".concat(f?"":"pe-xl-1"),children:[(null===r||void 0===r?void 0:r.length)>0&&O.can("delete",sessionStorage.getItem("current_page_perm"))&&!f?Object(P.jsx)("div",{className:"d-flex align-items-center mb-sm-0 mb-1 ".concat(f?"":"me-1"),children:Object(P.jsxs)(k.i,{className:"delete-users",color:"danger",onClick:m,children:[g("Delete")," ",r.length," ",g("Selected ".concat(j.pageTitle))]})}):null,Object(P.jsxs)("div",{className:"d-flex align-items-center mb-sm-0 mb-1 me-1",children:[Object(P.jsxs)("label",{className:"mb-0",htmlFor:"search-invoice",children:[g("Search"),":"]}),Object(P.jsx)(k.A,{id:"search-invoice",className:"ms-50 w-100",type:"text",value:l,onChange:function(e){return o(e.target.value)}})]}),j.dynamicColumnsFilter.map((function(e,t){var a=e.fieldName.replaceAll("id_","");return Object(P.jsx)("div",{className:"mt-50 width-300 mt-sm-0 mt-1 ".concat(f?"":"me-1"),children:Object(P.jsx)(s.Suspense,{fallback:Object(P.jsx)("div",{children:"Loading..."}),children:S["".concat(a,"_comp")]})},a)})),Object(P.jsx)("div",{className:"d-flex align-items-center table-header-actions",children:O.can("post",sessionStorage.getItem("current_page_perm"))&&!f?Object(P.jsxs)(k.i,{className:"add-new-user",color:"primary",onClick:t,children:[g("Add New")," ",g(j.pageTitle)]}):null})]})]})})};t.default=function(e){var t=e.filtersCustomAdd,a=(e.searchString,e.lookupMode),l=e.lookupMode_fieldName,f=(e.lookupMode_defaultValue,e.lookupMode_onChange),O=e.lookupMode_isMulti,v=e.lookupMode_isM2MDefValFromGrid,D=Object(h.b)(),w=Object(h.c)((function(e){return e[j.storeName]})),C=Object(h.c)((function(e){return e.apps_app})),T=Object(d.a)().t,L=(Object(s.useContext)(u.a),Object(s.useContext)(_.a).colors),q=Object(s.useState)("desc"),Y=Object(i.a)(q,2),H=Y[0],J=Y[1],W=Object(s.useState)(""),z=Object(i.a)(W,2),Q=z[0],U=z[1],X=Object(s.useState)(1),K=Object(i.a)(X,2),Z=K[0],$=K[1],ee=Object(s.useState)("id"),te=Object(i.a)(ee,2),ae=te[0],ce=te[1],ne=Object(s.useState)(a?5:10),ie=Object(i.a)(ne,2),oe=ie[0],le=ie[1],re=Object(s.useState)([]),se=Object(i.a)(re,2),de=se[0],ue=se[1],me=Object(s.useState)(null!==t&&void 0!==t?t:{}),be=Object(i.a)(me,2),je=be[0],pe=(be[1],Object(s.useState)(!1)),he=Object(i.a)(pe,2),fe=he[0],ge=he[1],Oe=Object(s.useState)(!1),xe=Object(i.a)(Oe,2),ve=xe[0],ye=xe[1],Ne=Object(s.useState)(!1),Se=Object(i.a)(Ne,2),_e=Se[0],Me=Se[1],ke=Object(s.useState)("Please Wait"),De=Object(i.a)(ke,2),we=(De[0],De[1]),Ce=Object(s.useState)(!1),Te=Object(i.a)(Ce,2),Fe=Te[0],Le=Te[1],Ae=Object(s.useState)(null),Ve=Object(i.a)(Ae,2),Ge=Ve[0],Be=Ve[1],Pe=function(e){Be("edit"),j.detailFromGrid?(we("".concat(T("Loading")," ").concat(T("Detail")," ").concat(T("Data")," ").concat(T(j.pageTitle))),Me(!0),D(Object(j.setDataById)(e)).then((function(){0!==C.data.length||C.isLoading?(Me(!1),Le(!0)):D(Object(p.getDataList)({})).then((function(e){Me(!1),Le(!0)}))}))):(we("".concat(T("Loading")," ").concat(T("Detail")," ").concat(T("Data")," ").concat(T(j.pageTitle))),Me(!0),D(Object(j.getDataById)(e.id)).then((function(e){"rejected"===e.meta.requestStatus?(Me(!1),M.b.error(e.payload.message,{style:{padding:"16px",color:L.danger.main,border:"1px solid ".concat(L.danger.main)},iconTheme:{primary:L.danger.main}})):(Me(!1),Le(!0))})))},Ie=function(){ye(!ve),Le(!Fe),Object(b.v)()},Ee=function(){Be("add"),ye(!ve),Le(!Fe),Object(b.p)(Ie)},Re=function(){var e=Object(n.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.fire({title:"".concat(T("Are you sure?")),text:"".concat(T("You won't be able to revert")," ").concat(T(j.pageTitle),"!"),icon:"warning",showCancelButton:!0,confirmButtonText:"".concat(T("Yes, Delete")," ").concat(T(j.pageTitle),"!"),cancelButtonText:"".concat(T("Cancel")),customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ms-1"},buttonsStyling:!1});case 2:e.sent.value&&(we("".concat(T("Deleting")," Data ").concat(T(j.pageTitle))),Me(!0),D(Object(j.deleteData)(t)).then((function(e){"fulfilled"===e.meta.requestStatus?(Me(!1),M.b.success("".concat(T("Successfully deleted")," ").concat(T(j.pageTitle)),{style:{padding:"16px",color:L.success.main,border:"1px solid ".concat(L.success.main)},iconTheme:{primary:L.success.main}})):"rejected"===e.meta.requestStatus&&(Me(!1),M.b.error(e.payload.message,{style:{padding:"16px",color:L.danger.main,border:"1px solid ".concat(L.danger.main)},iconTheme:{primary:L.danger.main}}))})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qe=function(){var e=Object(n.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=de.length,e.next=3,I.fire({title:"".concat(T("Are you sure?")),text:"".concat(T("You will delete")," ").concat(t," ").concat(T("selected data. Deleted data cannot be recovered"),"!"),icon:"warning",showCancelButton:!0,confirmButtonText:"".concat(T("Yes, Delete")," ").concat(t," ").concat(T(j.pageTitle),"!"),cancelButtonText:"".concat(T("Cancel")),customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ms-1"},buttonsStyling:!1});case 3:e.sent.value&&(we("".concat(T("Deleting")," ").concat(t," Data ").concat(T(j.pageTitle))),Me(!0),a=de.map((function(e){return e.id})),D(Object(j.deleteSelectedRowData)({id:a})).then((function(e){"fulfilled"===e.meta.requestStatus?(ue([]),ge(!fe),Me(!1),M.b.success("".concat(T("Successfully deleted")," ").concat(t," ").concat(T(j.pageTitle)),{style:{padding:"16px",color:L.success.main,border:"1px solid ".concat(L.success.main)},iconTheme:{primary:L.success.main}})):"rejected"===e.meta.requestStatus&&(Me(!1),M.b.error(e.payload.message,{style:{padding:"16px",color:L.danger.main,border:"1px solid ".concat(L.danger.main)},iconTheme:{primary:L.danger.main}}))})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ye=Object(s.useCallback)(y()((function(e){D(Object(j.getDataList)(Object(o.a)({sort_dir:H,search:e,sort:ae,page:Z,length:oe},je)))}),500),[]),He=Object(s.useCallback)((function(e){ue(e.selectedRows),a&&O&&f(e.selectedRows.map((function(e){return e.id})),l,O)}),[]),Je=[].concat(Object(c.a)(w.dynamicColumns.map((function(e){return{name:e.columnName,sortField:e.fieldName,center:!1,sortable:!0,minWidth:e.minWidth,selector:function(t){return t[e.fieldName]},cell:function(t){return function(e,t){var a=e[t.fieldName],c=t.dataFormat;if(c&&c.includes(":")){var n=c.split(":"),i=n[0],o=n[1],l=e[t.fieldName];return"date"===i&&(l=A()(a).format("DD MMM YYYY"),o&&(l=A()(a).format(o))),"datetime"===i&&(l=A()(a).format("DD MMM YYYY HH:mm"),o&&(l=A()(a).format(o))),l}return e[t.fieldName]}(t,e)}}}))),[{name:T("App"),center:!1,sortable:!1,selector:function(e){return null===e||void 0===e?void 0:e.app_logo},cell:function(e){var t;return Object(P.jsxs)("div",{className:"d-flex justify-content-left align-items-center",children:[null!==e&&void 0!==e&&e.app_logo?Object(P.jsx)(B.a,{className:"me-1",img:null===e||void 0===e?void 0:e.app_logo,width:"32",height:"32",imgHeight:"25",imgWidth:"30",color:"light-primary"}):Object(P.jsx)(B.a,{initials:!0,className:"me-1",content:null!==(t=null===e||void 0===e?void 0:e.app_name)&&void 0!==t?t:""}),Object(P.jsx)("div",{className:"d-flex flex-column",children:Object(P.jsx)("span",{className:"fw-bolder",children:e.app_name})})]})}},!a&&{name:T("Actions"),center:!0,width:"140px",cell:function(e){return Object(P.jsx)(V.a,{disabledAction:j.disabledAction,row:e,handleDelete:Re,handleEdit:Pe})}}]),We=Object(s.useMemo)((function(){return w.isLoading?Je.map((function(e){return Object(o.a)(Object(o.a)({name:T(e.name)},e),{},{sortable:!1,cell:function(t){return"Actions"===e.name?Object(P.jsxs)(s.Fragment,{children:[Object(P.jsx)(F.a,{sx:{bgcolor:L.dark.light},animation:"wave",className:"ms-2 me-1",width:30,height:40}),Object(P.jsx)(F.a,{sx:{bgcolor:L.dark.light},animation:"wave",width:30,height:40})]}):Object(P.jsx)(F.a,{sx:{bgcolor:L.dark.light},animation:"wave",width:"100%",height:40})}})})):Je.map((function(e){return Object(o.a)({name:T(e.name)},e)}))}),[w.isLoading,Je]),ze=function(e,t){JSON.parse(JSON.stringify(t))};return Object(s.useEffect)((function(){(0===w.data.length||!w.isLoading&&j.getAlwaysGrid)&&(we("".concat(T("Loading Data")," ").concat(T(j.pageTitle))),D(Object(j.getDataList)(Object(o.a)({sort_dir:H,sort:ae,search:Q,page:Z,length:oe},je))).then((function(e){a&&v&&ze(0,e.payload.data)}))),w.data.length>0&&v&&a&&ze(0,w.data)}),[D,H,ae,Z,je]),Object(P.jsxs)(s.Fragment,{children:[Object(P.jsx)(S.a,{blocking:_e,loader:Object(P.jsx)(G.b,{}),children:Object(P.jsx)(k.k,{className:"overflow-hidden",children:Object(P.jsx)("div",{className:"react-dataTable react-dataTable-selectable-rows",children:Object(P.jsx)(x.a,{noHeader:!0,subHeader:!0,sortServer:!0,responsive:!0,pagination:!0,paginationServer:!0,paginationTotalRows:w.total,paginationComponent:function(){var e=Number(Math.ceil(w.total/oe));return Object(P.jsx)(g.a,{previousLabel:"",nextLabel:"",pageCount:e||1,activeClassName:"active",forcePage:0!==Z?Z-1:0,onPageChange:function(e){return function(e){D(Object(j.getDataList)(Object(o.a)({sort_dir:H,sort:ae,search:Q,length:oe,page:e.selected+1},je))),$(e.selected+1)}(e)},pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end my-2 pe-1"})},selectableRows:!0,onSelectedRowsChange:He,selectableRowsHighlight:!0,clearSelectedRows:fe,selectableRowsComponent:E,noDataComponent:Object(P.jsx)(G.c,{}),style:{"min-height":"400px"},highlightOnHover:!0,pointerOnHover:!0,columns:We,onSort:function(e,t){J(t),ce(e.sortField),D(Object(j.getDataList)(Object(o.a)({sort_dir:H,sort:ae,search:Q,page:Z,length:oe},je)))},sortIcon:Object(P.jsx)(N.a,{}),className:"react-dataTable",data:function(){var e={search:Q},t=Object.keys(e).some((function(t){return e[t].length>0}));return w.isLoading?Array(10).fill({}):w.data.length>0?w.data:0===w.data.length&&t?[]:void 0}(),subHeaderComponent:Object(P.jsx)(R,{store:w,searchTerm:Q,rowsPerPage:oe,handleFilter:function(e){U(e),Ye(e)},handlePerPage:function(e){var t=parseInt(e.currentTarget.value);D(Object(j.getDataList)(Object(o.a)({sort_dir:H,sort:ae,search:Q,length:t,page:Z},je))),le(t)},toggleSidebar:Ee,selectedRow:de,handleDeleteSelected:qe,handleFiltersChange:function(e,t){je[t]=e,D(Object(j.getDataList)(Object(o.a)({sort_dir:H,sort:ae,search:Q,page:Z,length:oe},je)))},filtersCustomAdd:t,lookupMode:a})})})})}),Fe&&Object(P.jsx)(m.default,{formState:Ge,show:Fe,setShow:Ee,detailPage:!1,setFormState:Be})]})}},383:function(e,t,a){"use strict";a.r(t);var c=a(4),n=a(9),i=a(3),o=a.n(i),l=a(0),r=a(121),s=a(79),d=a(163),u=a(31),m=a(89),b=(a(96),a(14)),j=(a(594),a(597),a(583),a(314)),p=a(283),h=a(331),f=a(573),g=(a(216),a(83)),O=a(82),x=a(10),v=a(60),y=a.n(v),N=a(576),S=a.n(N),_=(a(218),a(580),a(663)),M=a(370),k=a(2),D=S()(y.a);t.default=function(e){var t=e.searchString,a=e.lookupMode,i=e.lookupMode_fieldName,v=e.lookupMode_defaultValue,y=e.lookupMode_onChange,N=e.lookupMode_isMulti,S=e.lookupMode_isM2MDefValFromGrid,w=Object(b.b)(),C=Object(b.c)((function(e){return e[m.storeName]})),T=Object(r.a)().t,F=Object(l.useState)(!1),L=Object(n.a)(F,2),A=L[0],V=L[1],G=Object(l.useContext)(s.a),B=Object(l.useState)(!1),P=Object(n.a)(B,2),I=(P[0],P[1]),E=Object(l.useState)("Please Wait"),R=Object(n.a)(E,2),q=(R[0],R[1]),Y=Object(l.useState)(!1),H=Object(n.a)(Y,2),J=H[0],W=H[1],z=Object(l.useState)(null),Q=Object(n.a)(z,2),U=Q[0],X=Q[1],K=Object(l.useState)(null),Z=Object(n.a)(K,2),$=Z[0],ee=Z[1],te=Object(l.useState)(0),ae=Object(n.a)(te,2),ce=ae[0],ne=ae[1],ie=Object(l.useState)(null),oe=Object(n.a)(ie,2),le=(oe[0],oe[1]),re=Object(l.useContext)(g.a).colors,se=function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.fire({title:"".concat(T("Are you sure?")),text:"".concat(T("You won't be able to revert")," ").concat(T(m.pageTitle),"!"),icon:"warning",showCancelButton:!0,confirmButtonText:"".concat(T("Yes, Delete")," ").concat(T(m.pageTitle),"!"),cancelButtonText:"".concat(T("Cancel")),customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ms-1"},buttonsStyling:!1});case 2:e.sent.value&&(q("".concat(T("Deleting")," Data ").concat(T(m.pageTitle))),I(!0),w(Object(m.deleteData)(t)).then((function(e){"fulfilled"===e.meta.requestStatus?(I(!1),O.b.success("".concat(T("Successfully deleted")," ").concat(T(m.pageTitle)),{style:{padding:"16px",color:re.success.main,border:"1px solid ".concat(re.success.main)},iconTheme:{primary:re.success.main}})):"rejected"===e.meta.requestStatus&&(I(!1),O.b.error(e.payload.message,{style:{padding:"16px",color:re.danger.main,border:"1px solid ".concat(re.danger.main)},iconTheme:{primary:re.danger.main}}))})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;ee(e),X("add"),V(!A),W(!J),Object(u.p)(ue)},ue=function(){V(!A),W(!J),Object(u.v)()},me=function(e){w(Object(m.setDataList)(e))},be=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];q("".concat(T("Updating")," ").concat(T(m.pageTitle)," Data")),t&&(e.notReload=!0);var a=e.title;w(Object(m.putData)(e,t)).then((function(e){"fulfilled"===e.meta.requestStatus?O.b.success("".concat(T("Successfully Updated")," ").concat(T(m.pageTitle)," ").concat(a),{style:{padding:"16px",color:re.success.main,border:"1px solid ".concat(re.success.main)},iconTheme:{primary:re.success.main}}):"rejected"===e.meta.requestStatus&&O.b.error(e.payload.message,{style:{padding:"16px",color:re.danger.main,border:"1px solid ".concat(re.danger.main)},iconTheme:{primary:re.danger.main}})}))},je=function(e,t){var a=JSON.parse(JSON.stringify(t));a.forEach((function t(a){e.includes(a.id)&&(a.checked=!0,a.hidden=!0),Array.isArray(a.children)&&a.children.forEach(t)})),w(Object(m.setDataList)(a))};return Object(l.useEffect)((function(){(0===C.data.length||!C.isLoading&&m.getAlwaysGrid)&&(q("".concat(T("Loading Data")," ").concat(T(m.pageTitle))),w(Object(m.getDataList)({})).then((function(e){a&&S&&je(v,e.payload.data)}))),C.data.length>0&&S&&a&&je(v,C.data)}),[w,C.data.length]),Object(k.jsxs)(l.Fragment,{children:[Object(k.jsx)(f.a,{blocking:C.isLoading,loader:Object(k.jsx)(M.b,{}),children:Object(k.jsx)(x.k,{className:"overflow-hidden",children:Object(k.jsx)("div",{className:"react-dataTable react-dataTable-selectable-rows",children:Object(k.jsx)("div",{style:{height:a?350:800,margin:a?10:20},children:Object(k.jsx)(_.a,{treeData:C.data,onChange:me,onMoveNode:a?null:function(e){e.treeData;var t=e.node,a=e.nextParentNode,c=(e.prevPath,e.prevTreeIndex,e.nextPath,e.nextTreeIndex,{id:t.id,title:t.title,parent_id:a.is_app_header?null:a.id});be(c,!0)},canDrag:!a&&function(e){return!e.node.is_app_header},searchMethod:function(e){var t=e.node,a=e.searchQuery;return a&&t.title.toLowerCase().indexOf(a.toLowerCase())>-1},searchQuery:t,searchFocusOffset:ce,searchFinishCallback:function(e){le(e.length),ne(e.length>0?ce%e.length:0)},maxDepth:4,generateNodeProps:function(e){var t=e.node;e.path;return{style:{fontSize:t.is_app_header?"16px":"14px",fontWeight:t.is_app_header?"bold":"normal"},title:t.icon?Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("div",{style:{paddingLeft:t.is_app_header?0:10,fontWeight:t.is_app_header?"bold":400},children:t.title})}):Object(k.jsx)("div",{style:{fontWeight:t.is_app_header?"bold":400},children:t.title}),buttons:[G.can("post",sessionStorage.getItem("current_page_perm"))&&!a?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(x.i.Ripple,{className:"btn-icon rounded-circle",color:"flat-primary",id:"btn-edit",onClick:function(e){de(t)},children:Object(k.jsx)(j.a,{size:16})}),Object(k.jsx)(x.X,{placement:"left",target:"btn-edit",children:T("Add Child")})]}):null,!G.can("update",sessionStorage.getItem("current_page_perm"))||a||t.is_app_header?null:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(x.i.Ripple,{className:"btn-icon rounded-circle",color:"flat-info",id:"btn-edit",onClick:function(e){var a;e.preventDefault(),a=t,X("edit"),m.detailFromGrid?(q("".concat(T("Loading")," ").concat(T("Detail")," ").concat(T("Data")," ").concat(T(m.pageTitle))),I(!0),w(Object(m.setDataById)(a)).then((function(){I(!1),W(!0)}))):(q("".concat(T("Loading")," ").concat(T("Detail")," ").concat(T("Data")," ").concat(T(m.pageTitle))),I(!0),w(Object(m.getDataById)(a.id)).then((function(e){"rejected"===e.meta.requestStatus?(I(!1),O.b.error(e.payload.message,{style:{padding:"16px",color:re.danger.main,border:"1px solid ".concat(re.danger.main)},iconTheme:{primary:re.danger.main}})):(I(!1),W(!0))})))},children:Object(k.jsx)(p.a,{size:16})}),Object(k.jsx)(x.X,{placement:"left",target:"btn-edit",children:T("Edit")})]}),!G.can("delete",sessionStorage.getItem("current_page_perm"))||a||t.is_app_header?null:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(x.i.Ripple,{id:"btn-delete",className:"btn-icon rounded-circle",color:"flat-danger",onClick:function(e){e.preventDefault(),se(t.id)},children:Object(k.jsx)(h.a,{size:16})}),Object(k.jsx)(x.X,{placement:"left",target:"btn-delete",children:T("Delete")})]}),a&&!t.is_app_header?Object(k.jsx)("div",{className:t.hidden?"form-check form-check-secondary":"form-check form-check-primary",children:Object(k.jsx)(x.A,{disabled:t.hidden,defaultChecked:t.checked,onChange:function(e){return function(e,t,a,c){var n=JSON.parse(JSON.stringify(C.data));return n.forEach((function a(c){c.id===t&&(c.checked=e.target.checked),Array.isArray(c.children)&&c.children.forEach(a)})),me(n),y(t,a,c)}(e,t.id,i,N)},type:"checkbox",id:"checkbox-".concat(t.id)})}):null]}}})})})})}),J&&Object(k.jsx)(d.default,{formState:U,show:J,setShow:de,detailPage:!1,setFormState:X,currentData:$})]})}},393:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(14),i=a(121),o=(a(546),a(31)),l=a(7),r=a.n(l),s=a(217),d=a(89),u=a(2);t.default=function(e){var t,a=e.lookupMode_fieldName,l=void 0===a?"":a,m=e.lookupMode_isMulti,b=void 0!==m&&m,j=e.lookupMode_onChange,p=e.lookupMode_defaultValue,h=(Object(i.a)().t,Object(n.b)()),f=Object(n.c)((function(e){return e[d.storeName]}));return Object(c.useEffect)((function(){(0===f.data.length||!f.isLoading&&d.getAlwaysGrid)&&h(Object(d.getDataList)({}))}),[h,f.data.length]),Object(u.jsx)(c.Fragment,{children:Object(u.jsx)(s.a,{theme:o.w,defaultValue:b?p:f.dataDropdown.filter((function(e){return e.value===p})),isMulti:b,onChange:function(e){return j(e,l)},options:f.dataDropdown,className:r()("react-select",{"is-invalid":null===(null===(t=f.selectedData)||void 0===t?void 0:t.id)}),classNamePrefix:"select"})})}},546:function(e,t,a){},590:function(e,t,a){"use strict";var c=a(8),n=a(5),i=a(7),o=a.n(i),l=a(10),r=a(0),s=a(2);t.a=function(e){var t=e.icon,a=e.color,i=e.cardColor,d=e.stats,u=e.renderStats,m=e.statTitle,b=e.className,j=e.countTextColor,p=e.countTextStyle,h=void 0===p?{}:p,f=e.titleStyle,g=void 0===f?{}:f,O=e.statsMargin,x=e.solidColor,v=void 0!==x&&x,y=e.cardStyle,N=void 0===y?{}:y,S=e.titleOnTop,_=void 0!==S&&S,M=v?"bg-".concat(i):"bg-light-".concat(i);return Object(s.jsx)(l.k,Object(n.a)(Object(n.a)({style:Object(n.a)({},N)},i?{className:M,inverse:!0}:{}),{},{children:Object(s.jsx)(l.l,{className:b,children:_?Object(s.jsxs)(r.Fragment,{children:[Object(s.jsx)("div",{children:Object(s.jsx)("p",{style:Object(n.a)({},g),className:"card-text",children:m})}),Object(s.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:u||Object(s.jsxs)(r.Fragment,{children:[Object(s.jsx)("div",{children:u||Object(s.jsx)("h3",{className:o()("fw-bolder",Object(c.a)({"mb-0":!O},O,O)),style:Object(n.a)({color:null!==j&&void 0!==j?j:"#5e5873"},h),children:d})}),Object(s.jsx)("div",{className:"avatar avatar-stats p-50 m-0 ".concat(a?"bg-light-".concat(a):"bg-light-primary"),children:Object(s.jsx)("div",{className:"avatar-content",children:t})})]})})]}):Object(s.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:u||Object(s.jsxs)(r.Fragment,{children:[Object(s.jsxs)("div",{children:[u||Object(s.jsx)("h3",{className:o()("fw-bolder",Object(c.a)({"mb-0":!O},O,O)),style:Object(n.a)({color:null!==j&&void 0!==j?j:"#5e5873"},h),children:d}),Object(s.jsx)("p",{style:Object(n.a)({},g),className:"card-text",children:m})]}),Object(s.jsx)("div",{className:"avatar avatar-stats p-50 m-0 ".concat(a?"bg-light-".concat(a):"bg-light-primary"),children:Object(s.jsx)("div",{className:"avatar-content",children:t})})]})})})}))}},592:function(e,t,a){"use strict";var c=a(5),n=a(0),i=a(26),o=a(7),l=a.n(o),r=a(121),s=a(10),d=a(2);t.a=function(e){var t=Object(r.a)().t,a=e.data,o=e.title,u=e.mb,m=e.subtitle;return Object(d.jsx)("div",{className:"content-header-left col-md-9 col-8 ".concat(u||0===u?"mb-".concat(u):"mb-2"),children:Object(d.jsxs)("div",{className:"row breadcrumbs-top",children:[Object(d.jsxs)("div",{className:"col-12",children:[o?Object(d.jsx)("h2",{className:"content-header-title float-start mb-0",children:o}):"",Object(d.jsx)("div",{className:"breadcrumb-wrapper vs-breadcrumbs d-sm-block d-none col-12",children:Object(d.jsxs)(s.g,{children:[Object(d.jsx)(s.h,{tag:"li",children:Object(d.jsx)(i.b,{to:"/",children:t("Home")})}),a.map((function(e,t){var o=e.link?i.b:n.Fragment,r=a.length-1===t;return Object(d.jsx)(s.h,{tag:"li",active:!r,className:l()({"text-primary":!r}),children:Object(d.jsx)(o,Object(c.a)(Object(c.a)({},e.link?{to:e.link}:{}),{},{children:e.title}))},t)}))]})})]}),Object(d.jsx)("div",{className:"col-12",children:null!==m&&void 0!==m?m:""})]})})}}}]);
//# sourceMappingURL=43.a2f7dddf.chunk.js.map