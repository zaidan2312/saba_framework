{"version":3,"sources":["views/apps/unit/modal/index.js","views/apps/unit/index.js","views/apps/unit/Table.js","views/apps/unit/Tree.js","@core/components/ui-loader/index.js","../../src/index.ts","../../src/mounts.js","../../src/index.js","../node_modules/lodash.debounce/index.js","../node_modules/react-dnd/dist/esm/decorators/utils.js","shared/GlobaActionsTable.js","@core/components/breadcrumbs/index.js","../node_modules/react-dnd/dist/esm/core/DragPreviewImage.js","@core/components/widgets/stats/StatsHorizontal.js","../node_modules/react-dnd/dist/esm/core/DndContext.js","../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/react-dnd/dist/esm/core/DndProvider.js","../../../src/AsapQueue.ts","../../../src/TaskFactory.ts","../node_modules/react-dnd/dist/esm/internals/wrapConnectorHooks.js","../node_modules/react-dnd/dist/esm/internals/isRef.js","../node_modules/react-dnd/dist/esm/decorators/DragLayer.js","../node_modules/react-dnd/dist/esm/hooks/useIsomorphicLayoutEffect.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/DragSourceImpl.js","../node_modules/react-dnd/dist/esm/hooks/useDragDropManager.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useRegisteredDragSource.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragSource.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragType.js","../node_modules/react-dnd/dist/esm/hooks/useOptionalFactory.js","../node_modules/react-dnd/dist/esm/hooks/useCollector.js","../node_modules/react-dnd/dist/esm/hooks/useMonitorOutput.js","../node_modules/react-dnd/dist/esm/hooks/useCollectedProps.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/connectors.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDrag.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragSourceMonitor.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragSourceConnector.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/DropTargetImpl.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useRegisteredDropTarget.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useDropTarget.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useAccept.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/connectors.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useDrop.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useDropTargetMonitor.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useDropTargetConnector.js","../node_modules/react-dnd/dist/esm/hooks/useDragLayer.js","../node_modules/react-dnd/dist/esm/decorators/createSourceFactory.js","../node_modules/react-dnd/dist/esm/decorators/DragSource.js","../node_modules/react-dnd/dist/esm/decorators/createTargetFactory.js","../node_modules/react-dnd/dist/esm/decorators/DropTarget.js","../node_modules/react-dnd/dist/esm/decorators/disposables.js","../node_modules/react-dnd/dist/esm/decorators/decorateHandler.js","../node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js","../node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/react-dnd-html5-backend/dist/esm/utils/js_utils.js","../node_modules/react-dnd-html5-backend/dist/esm/EnterLeaveCounter.js","../node_modules/react-dnd-html5-backend/dist/esm/BrowserDetector.js","../node_modules/react-dnd-html5-backend/dist/esm/MonotonicInterpolant.js","../node_modules/react-dnd-html5-backend/dist/esm/OffsetUtils.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeTypes.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/nativeTypesConfig.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/getDataFromDataTransfer.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/NativeDragSource.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/index.js","../node_modules/react-dnd-html5-backend/dist/esm/OptionsReader.js","../node_modules/react-dnd-html5-backend/dist/esm/HTML5BackendImpl.js","../node_modules/react-dnd-html5-backend/dist/esm/index.js","../node_modules/react-virtuoso/dist/index.mjs","../node_modules/@nosferatu500/react-sortable-tree/esm/index.js","../node_modules/@babel/runtime/helpers/objectSpread2.js","../node_modules/@babel/runtime/helpers/objectWithoutProperties.js","../node_modules/@nosferatu500/react-dnd-scrollzone/index.js","../node_modules/lodash.throttle/index.js","../../../src/index.ts","../../../src/asap.ts","../../../src/makeRequestCall.ts","../../../src/RawTask.ts","../node_modules/fast-deep-equal/index.js","../node_modules/lodash.isequal/index.js","../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","../node_modules/react-dnd/dist/esm/internals/registration.js","../node_modules/react-dnd/dist/esm/internals/SourceConnector.js","../node_modules/react-dnd/dist/esm/internals/DragSourceMonitorImpl.js","../node_modules/react-dnd/dist/esm/internals/DropTargetMonitorImpl.js","../node_modules/react-dnd/dist/esm/internals/TargetConnector.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/types.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/local/setClientOffset.js","../node_modules/dnd-core/dist/esm/utils/js_utils.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/beginDrag.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/publishDragSource.js","../node_modules/dnd-core/dist/esm/utils/matchesType.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/hover.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/drop.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/endDrag.js","../node_modules/dnd-core/dist/esm/classes/DragDropManagerImpl.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/index.js","../node_modules/dnd-core/node_modules/redux/es/redux.js","../node_modules/dnd-core/dist/esm/utils/equality.js","../node_modules/dnd-core/dist/esm/reducers/dragOffset.js","../node_modules/dnd-core/dist/esm/actions/registry.js","../node_modules/dnd-core/dist/esm/reducers/dragOperation.js","../node_modules/dnd-core/dist/esm/reducers/refCount.js","../node_modules/dnd-core/dist/esm/utils/dirtiness.js","../node_modules/dnd-core/dist/esm/reducers/dirtyHandlerIds.js","../node_modules/dnd-core/dist/esm/reducers/stateId.js","../node_modules/dnd-core/dist/esm/reducers/index.js","../node_modules/dnd-core/dist/esm/utils/coords.js","../node_modules/dnd-core/dist/esm/classes/DragDropMonitorImpl.js","../node_modules/dnd-core/dist/esm/interfaces.js","../node_modules/dnd-core/dist/esm/utils/getNextUniqueId.js","../node_modules/dnd-core/dist/esm/contracts.js","../node_modules/dnd-core/dist/esm/classes/HandlerRegistryImpl.js","../node_modules/dnd-core/dist/esm/createDragDropManager.js"],"names":["ModalAddEdit","show","setShow","detailPage","formState","setFormState","currentData","t","useTranslation","id","useParams","dispatch","useDispatch","store","useSelector","state","storeName","colors","useContext","ThemeColors","useState","loadingText","setLoadingText","useForm","control","setError","handleSubmit","errors","Loader","className","sortedObject","unordered","Object","keys","sort","reduce","obj","key","handleReset","resetSelectedData","isOpen","toggle","blocking","isLoadingAddEdit","isLoadingDetail","loader","pageTitle","onSubmit","data","storeData","selectedData","JSON","stringify","countChanges","values","every","field","putData","then","res","meta","requestStatus","toast","success","style","padding","color","main","border","iconTheme","primary","getDataById","error","payload","message","danger","length","type","icon","depth","postData","console","log","md","xs","for","defaultValue","name","render","invalid","code","outline","onClick","List","searchTerm","setSearchTerm","useEffect","getApiSummaryData","dataSummary","isLoadingSummary","getAlwaysGrid","getSummaryData","title","htmlFor","value","onChange","e","event","target","map","item","index","statTitle","baseClassName","fontSize","renderStats","sx","bgcolor","animation","height","width","count_format","count","searchString","MySwal","withReactContent","Swal","BootstrapCheckbox","forwardRef","props","ref","CustomHeader","toggleSidebar","handlePerPage","rowsPerPage","handleFilter","selectedRow","handleDeleteSelected","ability","AbilityContext","userData","invoices","getUserData","xl","can","sessionStorage","getItem","caret","getInvoice","rpt_name","output_type","dataYear","print","as_attachment","par_UNITKEY","par_SAMPLE","sort_dir","setSortDir","currentPage","setCurrentPage","setSort","setRowsPerPage","selectedRows","setSelectedRows","toggleCleared","setToggleCleared","sidebarOpen","setSidebarOpen","loading","setLoading","showModal","setShowModal","handleEdit","rowData","detailFromGrid","setDataById","handleCloseModal","revivalBack","neutralizeBack","handleDelete","a","fire","text","showCancelButton","confirmButtonText","cancelButtonText","customClass","confirmButton","cancelButton","buttonsStyling","deleteData","countSelectedCopy","deleteSelectedRowData","debounceFn","useCallback","debounce","inputValue","getDataList","search","page","handleRowSelected","columns","dynamicColumns","column","columnName","sortField","fieldName","center","sortable","selector","row","cell","dataFormat","includes","columnTypeFormat","split","columnType","columnFormat","columnFormated","Moment","format","renderCell","tableColumns","useMemo","isLoading","dark","light","noHeader","subHeader","sortServer","responsive","pagination","paginationServer","paginationTotalRows","total","paginationComponent","Number","Math","ceil","previousLabel","nextLabel","pageCount","activeClassName","forcePage","onPageChange","selected","handlePagination","pageClassName","nextLinkClassName","nextClassName","previousClassName","previousLinkClassName","pageLinkClassName","containerClassName","selectableRows","onSelectedRowsChange","selectableRowsHighlight","clearSelectedRows","selectableRowsComponent","noDataComponent","highlightOnHover","pointerOnHover","onSort","sortDirection","sortIcon","filters","isFiltered","some","k","Array","fill","dataToRender","subHeaderComponent","parseInt","currentTarget","currentDataAdd","setCurrentDataAdd","searchFocusIndex","setSearchFocusIndex","setSearchFoundCount","dataNested","isLoadingNested","marginLeft","marginRight","marginTop","treeData","tree","setDataListNested","canDrag","searchMethod","node","searchQuery","toLowerCase","indexOf","searchFocusOffset","searchFinishCallback","matches","maxDepth","generateNodeProps","path","is_app_header","fontWeight","attributes","logo","src","buttons","Ripple","size","placement","disableEdit","preventDefault","disableDelete","children","UILoader","tag","overlayColor","Tag","classnames","backgroundColor","defaultProps","invariant","condition","args","argIndex","mounts","getter","swal","noop","extractReactParams","reactParams","otherParams","mountKeys","mount","React","domElement","ReactDOM","unrender","_main","this","__mountedDomElements","__params","superDidOpen","superDidDestroy","didOpen","popup","didDestroy","update","argsToParams","params","forEach","ParentSwal","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","freeGlobal","global","freeSelf","self","root","Function","objectToString","prototype","toString","nativeMax","max","nativeMin","min","now","Date","isObject","toNumber","isObjectLike","call","isSymbol","other","valueOf","replace","isBinary","test","slice","module","exports","func","wait","options","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","thisArg","undefined","apply","leadingEdge","setTimeout","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","remainingWait","debounced","isInvoking","arguments","cancel","clearTimeout","flush","_typeof","Symbol","iterator","constructor","getDecoratedComponent","instanceRef","currentRef","current","decoratedRef","isRefable","C","Component","_item$$$typeof","$$typeof","isRefForwardingComponent","checkDecoratorArguments","functionName","signature","isFunction","input","isPlainObject","getPrototypeOf","proto","isValidType","allowArray","isArray","GlobalActionsTable","pageAttr","disabledAction","onlyText","withText","rowClickEvent","navigate","useNavigate","storeAll","dynamicStore","dynamic_temp_state","dynamicColumnsExtraActionsButton","crudOpt","extraBtnPrefixId","getDepthValue","reverse","pop","scrollToDiv","divId","element","document","getElementById","scrollIntoView","behavior","block","extraBtnShowCondition","showIf","operator","currentRowValue","evalStr","isManager","email","username","showIf_or","eval","enabledBtnViewCondition","paramss","enabledViewBtnCondition","enabledViewBtnCondition_or","pageType","hasColorClass","staticUrl","clickLinkUrl","static","fieldUrl","widgetId","clickLinkSlideToWidget","widget_id","paramsFromFields","it","idx","paramKey","paramName","paramValue","fieldUrlFix","startsWith","window","open","paramsArr","parseStrAndField","push","appendToEndpointPath","isQueryStr","newStaticUrl","join","staticUrlFix","clickLinkFillGlobalFilter","targetId","store_to_reset","getAttribute","pageAttributes","dynamicCard","x","child","chart_id","cardId","pageId","linkToGlobalFilter","dataFrom","linkToGlobalFilterName","childStoreName","baseUrl","pageData","resetData","endpointName","renderIcon","isViewOnRow","tooltip","onDashboard","saveAsNewBtn","dynamicForm","gridTheme","ganttParentIdField","BreadCrumbs","mb","subtitle","to","Wrapper","link","Link","Fragment","isLastItem","active","DragPreviewImage","memo","_ref","connect","Image","connected","img","onload","StatsHorizontal","cardColor","stats","countTextColor","countTextStyle","titleStyle","statsMargin","solidColor","cardStyle","titleOnTop","cardColorFix","inverse","shallowEqual","objA","objB","compare","compareContext","compareResult","keysA","keysB","bHasOwnProperty","valueA","valueB","DndContext","createContext","dragDropManager","arrayLikeToArray","arr","__esModule","iter","from","_excluded","_slicedToArray","i","_arrayWithHoles","_i","_s","_e","_arr","_n","_d","next","done","err","_iterableToArrayLimit","o","minLen","_arrayLikeToArray","n","_unsupportedIterableToArray","_nonIterableRest","len","arr2","_objectWithoutProperties","source","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","refCount","INSTANCE_SYM","DndProvider","_getDndContextValue","manager","backend","context","getGlobalContext","debugMode","ctx","createDragDropManager","createSingletonDndContext","isGlobalInstance","getDndContextValue","_getDndContextValue2","_jsx","Provider","assign","AsapQueue","queue","pendingErrors","flushing","capacity","q","currentIndex","scan","newLength","registerPendingError","requestErrorThrow","requestFlush","makeRequestCall","makeRequestCallFromTimer","shift","enqueueTask","task","TaskFactory","onError","freeTasks","create","tasks","RawTask","throwIfCompositeComponentElement","displayName","Error","concat","wrapConnectorHooks","hooks","wrappedHooks","hook","endsWith","wrappedHook","elementOrNode","isValidElement","cloneWithRef","wrapHookToRecognizeElement","setRef","newRef","previousRef","cloneElement","isRef","hasOwnProperty","_classCallCheck","instance","Constructor","_defineProperties","descriptor","enumerable","configurable","writable","defineProperty","_createClass","protoProps","staticProps","_inherits","subClass","superClass","_setPrototypeOf","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","_defineProperty","DragLayer","collect","DecoratedComponent","Decorated","_options$arePropsEqua","arePropsEqual","DragLayerContainer","_Component","_super","_this","_len","_key","createRef","isCurrentlyMounted","nextState","getCurrentState","setState","nextProps","handleChange","unsubscribeFromOffsetChange","unsubscribeFromStateChange","_this2","Consumer","receiveDragDropManager","monitor","getMonitor","subscribeToOffsetChange","subscribeToStateChange","hoistStatics","useIsomorphicLayoutEffect","useLayoutEffect","DragSourceImpl","spec","connector","_result","globalMonitor","isDragging","getSourceId","end","reconnect","useDragDropManager","useRegisteredDragSource","handler","useDragSource","itemType","useDragType","_registerSource2","registerSource","handlerId","unregister","receiveHandlerId","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","useOptionalFactory","arg","deps","memoDeps","useCollector","onUpdate","_useState2","collected","setCollected","updateCollected","nextValue","equal","useCollectedProps","collector","onCollect","_useCollector2","getHandlerId","handlerIds","useMonitorOutput","useConnectDragSource","dragSource","useConnectDragPreview","dragPreview","useDrag","specArg","begin","DragSourceMonitorImpl","useDragSourceMonitor","dragSourceOptions","dragPreviewOptions","SourceConnector","getBackend","disconnectDragSource","disconnectDragPreview","useDragSourceConnector","previewOptions","DropTargetImpl","canDrop","hover","drop","useRegisteredDropTarget","dropTarget","useDropTarget","accept","useAccept","_registerTarget2","registerTarget","useConnectDropTarget","useDrop","DropTargetMonitorImpl","useDropTargetMonitor","TargetConnector","dropTargetOptions","disconnectDropTarget","useDropTargetConnector","useDragLayer","ALLOWED_SPEC_METHODS","REQUIRED_SPEC_METHODS","SourceImpl","beginDrag","sourceId","endDrag","createSourceFactory","DragSource","getType","createSource","decorateHandler","containerDisplayName","createHandler","registerHandler","createConnector","createMonitor","TargetImpl","createTargetFactory","DropTarget","createTarget","Disposable","action","isDisposed","d","dispose","isDisposable","empty","CompositeDisposable","disposables","shouldDispose","splice","currentDisposables","_i2","SerialDisposable","old","DragDropContainer","disposable","receiveProps","currentType","prevProps","receiveType","handlerMonitor","handlerConnector","_registerHandler2","unsubscribe","setDisposable","_ref2","requestAnimationFrame","_this2$handlerConnect","strings","raw","freeze","defineProperties","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","memoize","fn","EnterLeaveCounter","isNodeInDocument","enteringNode","previousLength","entered","itemsA","itemsB","set","Set","insertItem","add","union","filter","contains","leavingNode","items","isFirefox","navigator","userAgent","isSafari","safari","MonotonicInterpolant","ys","indexes","b","dx","dy","dys","dxs","ms","c1s","m2","mNext","dxNext","common","m","c2s","c3s","_i3","c1","invDx","_common","mid","low","high","xHere","floor","diff","diffSq","getNodeClientOffset","el","nodeType","parentElement","_el$getBoundingClient","getBoundingClientRect","top","left","y","getEventClientOffset","clientX","clientY","getDragPreviewOffset","sourceNode","clientOffset","anchorPoint","offsetPoint","isImage","_document$documentEle","nodeName","documentElement","isImageNode","dragPreviewNodeOffsetFromClient","offsetFromDragPreview","sourceWidth","offsetWidth","sourceHeight","offsetHeight","anchorX","anchorY","_getDragPreviewSize","dragPreviewWidth","dragPreviewHeight","devicePixelRatio","getDragPreviewSize","offsetX","offsetY","isManualOffsetY","interpolate","calculateYOffset","_nativeTypesConfig","FILE","URL","TEXT","HTML","getDataFromDataTransfer","dataTransfer","typesToTry","resultSoFar","typeToTry","getData","nativeTypesConfig","NativeTypes","exposeProperties","files","_dataTransfer","matchesTypes","html","_dataTransfer2","urls","_dataTransfer3","_dataTransfer4","NativeDragSource","config","initializeExposedProperties","property","get","warn","newProperties","handle","matchNativeItemType","dataTransferTypes","types","nativeItemType","OptionsReader","globalContext","optionsArgs","_this$globalContext","_this$optionsArgs","rootElement","ownKeys","object","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","_objectSpread","getOwnPropertyDescriptors","HTML5BackendImpl","Map","sourceNodes","isDraggingNativeItem","actions","currentNativeHandle","registry","removeSource","currentNativeSource","body","currentDragSourceNode","clearCurrentDragSourceNode","dragStartSourceIds","defaultPrevented","publishSource","getSourceClientOffset","nativeType","setDragImage","sourcePreviewNodes","_this$getCurrentSourc","getCurrentSourcePreviewNodeOptions","dragPreviewOffset","setData","setCurrentDragSourceNode","captureDraggingState","publishDragSource","beginDragNativeItem","hasAttribute","dragEnterTargetIds","enterLeaveCounter","enter","altKeyPressed","altKey","canDropOnTarget","dropEffect","getCurrentDropEffect","dragOverTargetIds","lastClientOffset","hoverRafId","leave","endDragNativeItem","_this$currentNativeSo","dropTargetIds","loadDataTransfer","reset","dragDrop","tagName","isContentEditable","getActions","getRegistry","_this$dragStartSource","_this$dragOverTargetI","sourcePreviewNodeOptions","sourceNodeOptions","__isReactDndBackendSetUp","addEventListeners","_this$window","removeEventListeners","asyncEndDragFrameId","cancelAnimationFrame","delete","_this3","handleDragStart","handleSelectStart","setAttribute","addEventListener","removeEventListener","_this4","handleDragEnter","handleDragOver","handleDrop","handleTopDragStart","handleTopDragStartCapture","handleTopDragEndCapture","handleTopDragEnter","handleTopDragEnterCapture","handleTopDragLeaveCapture","handleTopDragOver","handleTopDragOverCapture","handleTopDrop","handleTopDropCapture","getCurrentSourceNodeOptions","getItemType","createNativeDragSource","addSource","_this5","mouseMoveTimeoutTimer","_this5$rootElement","endDragIfSourceWasRemovedFromDOM","_this$window2","unshift","HTML5Backend","compose","thrush","proc","curry2to1","arg1","arg2","curry1to0","tap","tup","always","joinProc","procs","isDefined","subscribe","emitter","subscription","publish","publisher","getValue","depot","handleNext","unsub","stream","subscriptions","statefulStream","initial","innerSubject","streamFromEmitter","stream2","statefulStreamFromEmitter","combineOperators","operators","subscriber","reduceRight","pipe","project","defaultComparator","previous","distinctUntilChanged","comparator","predicate","mapTo","scanner","skip","times","throttleTime","interval","timeout","currentValue","debounceTime","withLatestFrom","sources","called","pendingCall","allCalled","pow","bit","prevCalled","call2","merge","duc","combineLatest","emitters","system","dependencies","singleton","useIsomorphicLayoutEffect$2","systemToComponent","systemSpec","map2","Root","requiredPropNames","required","optionalPropNames","optional","methodNames","methods","eventNames","events","Context","applyPropsToSystem","system2","requiredPropName","optionalPropName","buildEventHandlers","handlers","eventName","currentSubscription","cleanup","eventHandler","propsWithChildren","singletons","_init","id2","has","init","system22","useImperativeHandle","acc","methodName","buildMethods","createElement","prop","omit","usePublisher","useEmitterValue","setValue","useEmitter","callback","useIsomorphicLayoutEffect$1","LogLevel","LogLevel2","CONSOLE_METHOD_MAP","getGlobalThis","globalThis","loggerSystem","logLevel","label","_a","level","currentLevel","useSizeWithElRef","enabled","useRef","callbackRef","_el","ResizeObserver","observer","entries","offsetParent","elRef","observe","unobserve","useSize","useChangedListContentsSizes","itemSize","scrollContainerStateCallback","gap","customScrollParent","memoedCallback","ranges","results","dataset","knownSize","parseFloat","ERROR","lastResult","endIndex","startIndex","getChangedChildSizes","scrollableElement","windowScrolling","lastElementChild","scrollTop","pageYOffset","scrollHeight","viewportHeight","innerHeight","WARN","resolveGapValue$1","getComputedStyle","rowGap","correctItemSize","dimension","round","approximatelyEqual","num1","num2","abs","useScrollTop","smoothScrollTargetReached","scrollerElement","scrollerRefCallback","scrollerRef","scrollTopTarget","timeoutRef","ev","windowScroll","suppressFlushSync","flushSync","scrollToCallback","location","scrollerElement2","isSmooth","maxScrollTop","scrollTo","scrollByCallback","scrollBy","localRef","passive","domIOSystem","scrollContainerState","deviation","statefulScrollTop","headerHeight","fixedHeaderHeight","fixedFooterHeight","footerHeight","scrollingInProgress","NIL_NODE","lvl","newAANode","v","l","r","newTree","remove","last","adjust","clone","deleteLast","find","findMaxKeyValue","Infinity","insert","rebalance","walkWithin","start","walk","isSingle","skew","rl","rlvl","rangesWithin","adjustedStart","arrayToRanges","parser","nextIndex","findIndexOfClosestSmallerOrEqual","match","findClosestSmallerOrEqual","findRange","startValue","endValue","recalcSystem","recalcInProgress","rangeIncludes","refRange","range","affectedGroupCount","offset","groupIndices","recognizedOffsetItems","groupIndex","indexComparator","itemIndex","offsetComparator","itemOffset","offsetPointParser","point","createOffsetTree","prevOffsetTree","syncStart","sizeTree","offsetTree","prevIndex","prevSize","prevOffset","kv","startIndex2","indexOffset","aOffset","lastIndex","lastOffset","lastSize","sizeStateReducer","DEBUG","newSizeTree","groupSize","overlappingRanges","firstPassDone","shouldInsert","rangeStart","rangeEnd","rangeValue","insertRanges","newOffsetTree","groupOffsetTree","offsetOf","itemCount","originalIndexFromLocation","sizes","isGroupLocation","originalIndexFromItemIndex","hasGroups","groupOffset","SIZE_MAP","sizeSystem","sizeRanges","totalCount","statefulTotalCount","unshiftWith","shiftWith","firstItemIndex","fixedItemSize","defaultItemSize","prevGroupIndices","prev","curr","groupIndices2","sizes2","gap2","totalCount2","trackItemSizes","listRefresh","oldSizes","newSizes","changed","val","prevGroupIndicesValue","log2","beforeUnshiftWith","unshiftWith2","groupedMode","initialRanges","defaultSize","firstGroupSize","prependedGroupItemsCount","theGroupIndex","groupItemCount","sizeTreeKV","shiftWithOffset","shiftWith2","removedItemsCount","SUPPORTS_SCROLL_TO_OPTIONS","normalizeIndexLocation","align","scrollToIndexSystem","scrollToIndex","topListHeight","unsubscribeNextListRefresh","cleartTimeoutRef","unsubscribeListRefresh","viewportHeight2","topListHeight2","headerHeight2","footerHeight2","fixedHeaderHeight2","fixedFooterHeight2","normalLocation","limit","retry","listChanged","UP","DOWN","INITIAL_BOTTOM_STATE","atBottom","notAtBottomBecause","offsetBottom","stateFlagsSystem","isAtBottom","isAtTop","atBottomStateChange","atTopStateChange","atBottomThreshold","atTopThreshold","isScrolling","isScrollingBy","atBottomState","atBottomBecause","scrollTopDelta","scrollTop2","lastJumpDueToItemResize","jump","scrollDirection","direction","prevScrollTop","scrollVelocity","propsReadySystem","propsReady","didMount","ready","skipFrames","frameCount","getInitialTopMostItemIndexNumber","initialTopMostItemIndexSystem","scrolledToInitialItem","initialTopMostItemIndex","scrollScheduled","didMount2","scrolledToInitialItem2","defaultItemSize2","scrollScheduled2","initialTopMostItemIndex2","normalizeFollowOutput","follow","followOutputSystem","followOutput","autoscrollToBottom","pendingScrollHandle","scrollToBottom","followOutputBehavior","trapNextSizeIncrease","followOutput2","isAtBottom2","scrollingInProgress2","shouldFollow","behaviorFromFollowOutput","refreshed","groupCountsToIndicesAndCount","counts","groupCount","groupedListSystem","groupCounts","topItemsIndexes","groupIndicesAndCount","tupleComparator","rangeComparator","TOP","BOTTOM","NONE","getOverscan","overscan","getViewportIncrease","sizeRangeSystem","listBoundary","increaseViewportBy","visibleRange","listTop","listBottom","overscan2","deviation2","increaseViewportBy2","stickyHeaderHeight","headerVisible","topViewportAddition","bottomViewportAddition","EMPTY_LIST_STATE","topItems","offsetTop","bottom","transposeItems","originalIndex","transposedItems","groupRanges","currentRange","currentGroupIndex","transposedItem","buildListState","lastItem","listStateSystem","groupedListSystem2","rangeTopListHeight","stateFlags","itemsRendered","listState","recalcInProgress2","data2","dataChangeInProgress","startOffset","endOffset","topItemsIndexes2","firstItemIndex2","sizesValue","probeItemSet","rangeStartIndex","rangeEndIndex","minStartIndex","offsetPointRanges","rangesWithinOffsets","maxIndex","endReached","startReached","rangeChanged","initialItemCountSystem","initialItemCount","includedGroupsCount","adjustedCount","_","scrollSeekSystem","isSeeking","scrollSeekConfiguration","speed","isSeeking2","exit","velocity","change","scrollSeekRangeChanged","topItemCountSystem","topItemCount","totalListHeightSystem","totalListHeightChanged","totalListHeight","listState2","simpleMemoize","isMobileSafari","upwardScrollFixSystem","deviationOffset","prevItems","prevTotalCount","prevTotalHeight","lastJumpDueToItemResize2","totalHeight","newDev","scrollDirection2","amount","scrollByWith","deviationAmount","is","recalc","getItemOffset","defaultGroupSize","initialScrollTopSystem","initialScrollTop","alignToBottomSystem","alignToBottom","paddingTopAddition","totalListHeight2","windowScrollerSystem","windowScrollContainerState","windowViewportRect","windowScrollTo","useWindowScroll","windowScrollTop","scrollTo2","defaultCalculateViewLocation","itemTop2","itemTop","itemBottom","viewportTop","viewportBottom","locationParams","rest","scrollIntoViewSystem","viewLocation","calculateViewLocation","actualIndex","stateLoadSystem","getState","restoreStateFrom","sizeArray","nextSize","locationFromSnapshot","snapshot","featureGroup1System","sizeRange","scrollSeek","initialScrollTopSystem2","windowScroller","logger","listSystem","domIO","stateLoad","flags","featureGroup1","visibleHeight","fixedItemHeight","defaultItemHeight","WEBKIT_STICKY","STICKY","positionStickyCssValue","position","useWindowViewportRectRef","viewportInfo","calculateInfo","rect","visibleWidth","customScrollParentRect","deltaTop","scrollAndResizeEventHandler","VirtuosoMockContext","VirtuosoGridMockContext","identity","listComponentPropsSystem","itemContent","groupContent","components","computeItemKey","headerFooterTag","distinctProp","propName","components2","FooterComponent","HeaderComponent","TopItemListComponent","ListComponent","ItemComponent","GroupComponent","ScrollerComponent","EmptyPlaceholder","ScrollSeekPlaceholder","combinedSystem$2","listSystem2","propsSystem","DefaultScrollSeekPlaceholder$1","GROUP_STYLE","zIndex","overflowAnchor","ITEM_STYLE$1","Items$1","showTopList","useEmitterValue$2","usePublisher$2","windowScrollContainerStateCallback","_scrollContainerStateCallback","setDeviation","useEmitter$2","hasGroups2","containerStyle","boxSizing","paddingTop","paddingBottom","visibility","contextPropIfNotDomElement","scrollerStyle","overflowY","WebkitOverflowScrolling","viewportStyle","topItemListStyle","Header$1","Header2","Footer$1","Footer2","buildScroller","usePublisher2","useEmitter2","useEmitterValue2","tabIndex","buildWindowScroller","Viewport$2","viewportRef","itemHeight","WindowViewport$2","TopItemListContainer","TopItemList","TheScroller","WindowScroller$2","Scroller$2","TheViewport","Virtuoso","INITIAL_GRID_STATE","itemWidth","PROBE_GRID_STATE","buildItems","dataItem","gapComparator","dimensionComparator","gridSystem","gridState","viewportDimensions","itemDimensions","stateChanged","stateRestoreInProgress","itemDimensions2","viewportDimensions2","viewport","_value","initialItemCount2","columnGap","viewportWidth","buildProbeGridState","perRow","itemsPerRow","gridLayout","rowCount","hasScrolled","stateRestoreInProgress2","gridState2","gridComponentPropsSystem","itemClassName","listClassName","combinedSystem$1","gridSystem2","gridComponentPropsSystem2","GridItems","useEmitterValue$1","scrollHeightCallback","usePublisher$1","gridGap","listRef","firstItem","firstChild","resolveGapValue","Header","Footer","Viewport$1","WindowViewport$1","WindowScroller$1","Scroller$1","useEmitter$1","tableComponentPropsSystem","fixedHeaderContent","fixedFooterContent","TableComponent","TableHeadComponent","TableFooterComponent","TableBodyComponent","TableRowComponent","FillerRow","combinedSystem","DefaultScrollSeekPlaceholder","DefaultFillerRow","ITEM_STYLE","Items","paddingTopEl","paddingBottomEl","Viewport","WindowViewport","theadRef","tfootRef","WindowScroller","Scroller","TheTable","TheTHead","TheTFoot","theHead","theFoot","borderSpacing","getReactElementText","parent","stringSearch","treeIndex","String","defaultSearchMethod","getNodeDataAtTreeIndexOrNextIndex","targetIndex","getNodeKey","lowerSiblingCounts","ignoreCollapsed","isPseudoRoot","selfPath","expanded","childIndex","childCount","getDescendantCount","walkDescendants","parentNode","mapDescendants","nextNode","selfInfo","mapResult","toggleExpandedForAll","changeNodeAtPath","newNode","RESULT_MISS","traverse","currentTreeIndex","pathIndex","nextTreeIndex","result2","addNodeAtDepthAndIndex","insertedTreeIndex","pathFragment","targetDepth","minimumTreeIndex","expandParent","isLastChild","currentDepth","extraNodeProps","nextNode2","parentPath","insertedTreeIndex2","insertIndex","childIndex2","newChildren","insertNode","insertResult","isDescendant","older","younger","getDepth","deepest","classes","defaultProps$3","isSearchMatch","isSearchFocus","toggleChildrenVisibility","draggedNode","rowDirection","NodeRendererDefault","scaffoldBlockPxWidth","connectDragPreview","connectDragSource","didDrop","treeId","isOver","otherProps","nodeTitle","nodeSubtitle","rowDirectionClass","jsx","isDraggedDescendant","isLandingPadActive","buttonStyle","right","jsxs","opacity","btn","defaultProps$2","PlaceholderRendererDefault","defaultProps$1","swapFrom","swapDepth","swapLength","TreeNodeComponent","listIndex","connectDropTarget","rowHeight","_node","getPrevRow","_path","scaffoldBlockCount","scaffold","lowerSiblingCount","lineClass","highlightLineClass","style2","calculatedRowHeight","Children","TreePlaceholder","rafId","nodeDragSourcePropInjection","propInjection","dragged","getTargetDepth","dropTargetProps","component","canNodeHaveChildren","blocksOffset","dropTargetDepth","rowAbove","dragSourceInitialDepth","getDifferenceFromInitialOffset","relativePosition","leftShift","draggedChildDepth","wrapTarget","treeRefcanDrop","dragHover","dndType","draggingTreeData","treeReftreeData","nodeDropTarget","abovePath","aboveNode","prevPath","prevParent","prevTreeIndex","nextPath","nextParent","f","savedResult","savedArgsArray","savedKeysArray","keysArray","argsArray","memoizedInsertNode","memoizedGetFlatDataFromTree","flattened","nodeInfo","memoizedGetDescendantCount","treeIdCounter","mergeTheme","merged","theme","innerStyle","overridableDefaults","nodeContentRenderer","placeholderRenderer","slideRegionSize","treeNodeRenderer","propKey","ReactSortableTree","startDrag","prevState","removedNode","removedTreeIndex","removeNode","instanceProps","draggedMinimumTreeIndex","draggedDepth","dragging","newDraggingTreeData","addedResult","expandedParentPath","getRows","searchFocusTreeIndex","dropResult","shouldCopy","shouldCopyOnOutsideDrop","copyNode","onMoveNode","moveNode","virtuosoRef","listProps","virtuosoProps","nodeDragSource","getDropResult","dropTargetNode","wrapSource","treePlaceholderRenderer","placeholderDropTarget","wrapPlaceholder","scrollZoneVirtualList","createScrollingComponent","withScrolling","props2","scrollContainer","vStrength","createVerticalStrength","hStrength","createHorizontalStrength","searchMatches","ignoreOneTreeUpdate","bind","handleDndMonitorChange","loadLazyChildren","stateUpdate","clearMonitorSubscription","onDragStateChanged","targetNode","onVisibilityToggle","nextParentNode","matchKeys","TreeNodeRenderer","NodeContentRenderer","nodeKey","callbackParams","nodeProps","rowCanDrag","sharedProps","rows","swapTo","fromIndex","toIndex","rowsWithoutMoved","slideRows","list","Placeholder","PlaceholderContent","ScrollZoneVirtualList","verticalStrength","horizontalStrength","renderRow","seekIndex","expand","singleSearch","onlyExpandSearchedNodes","newState","expandAllMatchPaths","expandFocusMatchPaths","matchCount","trav","isSelfMatch","hasFocusMatch","extraInfo","hasChildren","expandedTreeData","loadCollapsedLazyChildren","childrenArray","oldNode","newInstanceProps","isTreeDataEqual","isEqual","SortableTreeWithoutDndContext","SortableTree","objectWithoutPropertiesLoose","jsxRuntime","require","react","hoist","throttle","reactDnd","_interopDefaultLegacy","hoist__default","throttle__default","intBetween","_buffer","w","h","buffer","defaultHorizontalStrength","defaultVerticalStrength","onScrollChange","strengthMultiplier","WrappedComponent","container","frame","wrappedInstance","scaleX","scaleY","attached","updateScrolling","evt","box","coords","changedTouches","getCoords","startScrolling","handleEvent","handleMonitorChange","stopScrolling","attach","tick","scrollLeft","scrollWidth","clientWidth","clientHeight","newLeft","newTop","ScrollingComponent","FUNC_ERROR_TEXT","asap","asapQueue","taskFactory","makeRequestCallFromMutationObserver","scope","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","timeoutHandle","handleTimer","intervalHandle","setInterval","clearInterval","createTextNode","characterData","release","RegExp","HASH_UNDEFINED","MAX_SAFE_INTEGER","argsTag","arrayTag","boolTag","dateTag","errorTag","funcTag","mapTag","numberTag","objectTag","promiseTag","regexpTag","setTag","stringTag","symbolTag","weakMapTag","arrayBufferTag","dataViewTag","reIsHostCtor","reIsUint","typedArrayTags","freeExports","freeModule","moduleExports","freeProcess","process","nodeUtil","binding","nodeIsTypedArray","isTypedArray","arraySome","array","mapToArray","setToArray","transform","arrayProto","funcProto","objectProto","coreJsData","funcToString","maskSrcKey","uid","exec","IE_PROTO","nativeObjectToString","reIsNative","Buffer","Uint8Array","symToStringTag","toStringTag","nativeGetSymbols","nativeIsBuffer","isBuffer","nativeKeys","DataView","getNative","Promise","WeakMap","nativeCreate","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","Hash","clear","entry","ListCache","MapCache","SetCache","__data__","Stack","arrayLikeKeys","inherited","isArr","isArg","isArguments","isBuff","isType","skipIndexes","iteratee","baseTimes","isIndex","assocIndexOf","eq","baseGetTag","isOwn","unmasked","getRawTag","baseIsArguments","baseIsEqual","bitmask","customizer","stack","equalFunc","objIsArr","othIsArr","objTag","getTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","byteLength","byteOffset","convert","isPartial","stacked","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","getAllKeys","objLength","othLength","skipCtor","objValue","othValue","compared","objCtor","othCtor","equalObjects","baseIsEqualDeep","baseIsNative","isMasked","baseKeys","Ctor","isPrototype","arrLength","seen","arrValue","othIndex","keysFunc","symbolsFunc","arrayPush","baseGetAllKeys","getSymbols","getMapData","isKeyable","pairs","LARGE_ARRAY_SIZE","resIndex","arrayFilter","symbol","ArrayBuffer","resolve","ctorString","isLength","baseUnary","addTarget","removeTarget","clearDragSource","dragSourceRef","dragSourceNode","reconnectDragSource","clearDragPreview","dragPreviewRef","dragPreviewNode","reconnectDragPreview","newHandlerId","dragSourceOptionsInternal","dragPreviewOptionsInternal","didChange","didHandlerIdChange","didConnectedDragSourceChange","didDragSourceOptionsChange","lastConnectedHandlerId","lastConnectedDragSource","lastConnectedDragSourceOptions","dragSourceUnsubscribe","didConnectedDragPreviewChange","didDragPreviewOptionsChange","lastConnectedDragPreview","lastConnectedDragPreviewOptions","dragPreviewUnsubscribe","isCallingCanDrag","isCallingIsDragging","internalMonitor","canDragSource","isDraggingSource","listener","isOverTarget","getTargetIds","isSourcePublic","getInitialClientOffset","getInitialSourceClientOffset","getClientOffset","isCallingCanDrop","clearDropTarget","dropTargetRef","didDropTargetChange","didOptionsChange","lastConnectedDropTarget","lastConnectedDropTargetOptions","unsubscribeDropTarget","dropTargetOptionsInternal","INIT_COORDS","BEGIN_DRAG","PUBLISH_DRAG_SOURCE","HOVER","DROP","END_DRAG","setClientOffset","sourceClientOffset","c","without","xor","ResetCoordinatesAction","createBeginDrag","sourceIds","_options$publishSourc","verifyInvariants","getDraggableSource","verifyGetSourceClientOffsetIsFunction","getSource","verifyItemIsObject","pinSource","getSourceType","createPublishDragSource","matchesType","targetType","draggedItemType","createHover","targetIdsArg","verifyTargetIdsIsArray","targetIds","checkInvariants","removeNonMatchingTargetIds","hoverAllTargets","lastIndexOf","getTarget","getTargetType","createDrop","getDroppableTargets","determineDropResult","verifyDropResultType","createEndDrag","verifyIsDragging","unpinSource","DragDropManagerImpl","shouldSetUp","isSetUp","setup","teardown","handleRefCountChange","createDragDropActions","boundActions","actionCreator","formatProdErrorMessage","$$observable","observable","randomString","random","substring","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","createStore","reducer","preloadedState","enhancer","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","isSubscribed","listeners","replaceReducer","nextReducer","outerSubscribe","observeState","strictEquality","areCoordsEqual","offsetA","offsetB","areArraysEqual","initialState","initialSourceClientOffset","initialClientOffset","ADD_SOURCE","ADD_TARGET","REMOVE_SOURCE","REMOVE_TARGET","ALL","areDirty","dirtyIds","_action$payload","_action$payload$targe","_action$payload$prevT","prevTargetIds","prevInnermostTargetId","innermostTargetId","dirtyHandlerIds","dragOffset","dragOperation","stateId","subtract","__IS_NONE__","__IS_ALL__","HandlerRole","DragDropMonitorImpl","prevStateId","currentStateId","previousState","shallow","_getSourceClientOffset","_getDifferenceFromInitialOffset","nextUniqueId","validateType","getNextHandlerId","role","SOURCE","TARGET","parseRoleFromHandlerId","mapContainsValue","searchValue","isDone","_entries$next","HandlerRegistryImpl","validateSourceContract","addHandler","_addSource","validateTargetContract","_addTarget","dragSources","dropTargets","includePinned","isSourceId","isPinned","pinnedSourceId","pinnedSource","isTargetId","_removeSource","_removeTarget","backendFactory","backendOptions","makeStoreInstance","receiveBackend","reduxDevTools","__REDUX_DEVTOOLS_EXTENSION__","instanceId"],"mappings":"+VA2TeA,UApRM,SAAC,GAOf,IAAD,QANJC,EAMI,EANJA,KACAC,EAKI,EALJA,QACAC,EAII,EAJJA,WACAC,EAGI,EAHJA,UACAC,EAEI,EAFJA,aAEI,IADJC,mBACI,MADU,KACV,EACIC,EAAMC,cAAND,EACAE,EAAOC,cAAPD,GACFE,EAAWC,cACXC,EAAQC,aAAY,SAACC,GAAD,OAAWA,EAAMC,gBACnCC,EAAWC,qBAAWC,KAAtBF,OACR,EAAwBG,mBAAS,MAAjC,mBACA,GADA,UACsCA,mBAAS,gBAA/C,mBAAOC,EAAP,KAAoBC,EAApB,KACA,EAKIC,YAAQ,IAJVC,EADF,EACEA,QACAC,EAFF,EAEEA,SACAC,EAHF,EAGEA,aACaC,EAJf,EAIEvB,UAAauB,OAGTC,EAAS,WACb,OACE,eAAC,WAAD,WACE,cAAC,IAAD,IACA,eAAC,IAAD,CAAUC,UAAU,YAApB,UAAiCtB,EAAEc,GAAnC,aAKN,SAASS,EAAaC,GACpB,OAAOC,OAAOC,KAAKF,GAChBG,OACAC,QAAO,SAACC,EAAKC,GAEZ,OADAD,EAAIC,GAAON,EAAUM,GACdD,IACN,IAGP,IAyHME,EAAc,WAClB3B,EAAS4B,gCAGX,OACE,cAAC,IAAD,CACEC,OAAQvC,EACRwC,OAAQ,WACNH,IACApC,GAASD,IAEX4B,UAAU,iCANZ,SAQE,eAAC,IAAD,CACEa,SAAU7B,EAAM8B,kBAAoB9B,EAAM+B,gBAC1CC,OAAQ,cAACjB,EAAD,IAFV,UAIE,cAAC,IAAD,CACEC,UAAU,iBACVY,OAAQ,WACNH,IACApC,GAASD,MAGb,eAAC,IAAD,CAAW4B,UAAU,qBAArB,UACE,sBAAKA,UAAU,mBAAf,UACE,qBAAIA,UAAU,OAAd,UAC0BtB,EAAT,SAAdH,EAAyB,OAAY,OADxC,IACiDG,EAAEuC,gBAEpC,SAAd1C,EACC,0DAC4BG,EAAE,QAD9B,iDAIE,QAEN,cAAC,IAAD,CACEwC,SAEMrB,EADU,SAAdtB,EA7IY,SAAC4C,GACvB,GAnBmB,SAACA,GACpB,GAAkB,SAAd5C,EAAsB,CACxB,IAAM6C,EAAS,eAAQnB,EAAajB,EAAMqC,eAE1C,IAAK,IAAIb,YADFY,EAAS,GACAA,EACRZ,KAAOW,UAAcC,EAAUZ,GAIvC,OACEc,KAAKC,UAAUtB,EAAamB,MAC5BE,KAAKC,UAAUtB,EAAakB,IAG9B,OAAO,EAKLK,CAAaL,GACf,GACEhB,OAAOsB,OAAON,GAAMO,OAAM,SAACC,GACzB,OAAiB,OAAVA,GAA4B,KAAVA,KAG3BlC,EAAe,GAAD,OAAIf,EAAE,YAAN,YAAqBA,EAAEuC,aAAvB,YAAqCvC,EAAE,UAAvC,UACdI,EAAS8C,kBAAQT,IAAOU,MAAK,SAACC,GAE5B,GAA+B,cAA3BA,EAAIC,KAAKC,cACX3D,GAASD,GACT6D,IAAMC,QAAN,UAAiBxD,EAAE,wBAAnB,YAA8CA,EAAEuC,cAAc,CAC5DkB,MAAO,CACLC,QAAS,OACTC,MAAOjD,EAAO8C,QAAQI,KACtBC,OAAO,aAAD,OAAenD,EAAO8C,QAAQI,OAEtCE,UAAW,CACTC,QAASrD,EAAO8C,QAAQI,QAGxBhE,GACFQ,EAAS4D,sBAAY9D,SAElB,GAA+B,aAA3BkD,EAAIC,KAAKC,cAA8B,CAAC,IAAD,EAChDC,IAAMU,MAAN,UAAYb,EAAIc,eAAhB,aAAY,EAAaC,QAAS,CAChCV,MAAO,CACLC,QAAS,OACTC,MAAOjD,EAAO0D,OAAOR,KACrBC,OAAO,aAAD,OAAenD,EAAO0D,OAAOR,OAErCE,UAAW,CACTC,QAASrD,EAAO0D,OAAOR,iBAM/B,IAAK,IAAM9B,KAAOW,EAAM,CAAC,IAAD,EACI,KAAtB,UAAAA,EAAKX,UAAL,eAAWuC,SACbnD,EAASY,EAAK,CACZwC,KAAM,gBAMdf,YAAM,GAAD,OAAIvD,EAAE,iCAAmC,CAAEuE,KAAM,kBAIpC,SAAC9B,GACrB,GACEhB,OAAOsB,OAAON,GAAMO,OAAM,SAACC,GACzB,OAAiB,OAAVA,GAA4B,KAAVA,KAG3BlC,EAAe,GAAD,OAAIf,EAAE,kBAAD,OAAmBuC,gBACtCE,EAAI,MAAY1C,EAAYyE,MAAQ,EACpC/B,EAAI,UAAgB1C,EAAYG,GAChCE,EAASqE,mBAAShC,IAAOU,MAAK,SAACC,GAE7BsB,QAAQC,IAAIvB,GACmB,cAA3BA,EAAIC,KAAKC,eACX3D,GAASD,GACT6D,IAAMC,QAAN,UAAiBxD,EAAE,wBAAnB,YAA8CA,EAAEuC,cAAc,CAC5DkB,MAAO,CACLC,QAAS,OACTC,MAAOjD,EAAO8C,QAAQI,KACtBC,OAAO,aAAD,OAAenD,EAAO8C,QAAQI,OAEtCE,UAAW,CACTC,QAASrD,EAAO8C,QAAQI,QAGxBhE,GACFQ,EAAS4D,sBAAY9D,KAEa,aAA3BkD,EAAIC,KAAKC,eAClBC,IAAMU,MAAMb,EAAIc,QAAQC,QAAS,CAC/BV,MAAO,CACLC,QAAS,OACTC,MAAOjD,EAAO0D,OAAOR,KACrBC,OAAO,aAAD,OAAenD,EAAO0D,OAAOR,OAErCE,UAAW,CACTC,QAASrD,EAAO0D,OAAOR,gBAM/B,IAAK,IAAM9B,KAAOW,EAAM,CAAC,IAAD,EACJ,OAAdA,EAAKX,IAAuC,KAAtB,UAAAW,EAAKX,UAAL,eAAWuC,SACnCnD,EAASY,EAAK,CACZwC,KAAM,cA2CR,SAOE,eAAC,IAAD,CAAKhD,UAAU,aAAf,UACE,eAAC,IAAD,CAAKsD,GAAI,GAAIC,GAAI,GAAjB,UACE,eAAC,IAAD,CAAOvD,UAAU,aAAawD,IAAI,OAAlC,UACG9E,EAAE,QACH,sBAAMsB,UAAU,cAAhB,kBAEF,cAAC,IAAD,CACEyD,aAAY,oBAAEzE,EAAMqC,oBAAR,aAAE,EAAoBqC,YAAtB,QAA8B,GAC1C/D,QAASA,EACTf,GAAG,OACH8E,KAAK,OACLC,OAAQ,gBAAGhC,EAAH,EAAGA,MAAH,OACN,cAAC,IAAD,2BACMA,GADN,IAEE3B,UACEF,EAAO4D,KAAO,0BAA4B,eAE5C9E,GAAG,OACHgF,QAAS9D,EAAO4D,OAAQ,WAMhC,eAAC,IAAD,CAAKJ,GAAI,GAAIC,GAAI,GAAjB,UACE,eAAC,IAAD,CAAOvD,UAAU,aAAawD,IAAI,cAAlC,UACG9E,EAAE,QACH,sBAAMsB,UAAU,cAAhB,kBAEF,cAAC,IAAD,CACEyD,aAAY,oBAAEzE,EAAMqC,oBAAR,aAAE,EAAoBwC,YAAtB,QAA8B,GAC1ClE,QAASA,EACTf,GAAG,OACH8E,KAAK,OACLC,OAAQ,gBAAGhC,EAAH,EAAGA,MAAH,OACN,cAAC,IAAD,2BACMA,GADN,IAEE3B,UACEF,EAAO+D,KAAO,0BAA4B,eAE5CjF,GAAG,OACHgF,QAAS9D,EAAO+D,OAAQ,WAMhC,eAAC,IAAD,CAAKN,GAAI,GAAIvD,UAAU,yBAAvB,UACE,cAAC,IAAD,CAAQgD,KAAK,SAAShD,UAAU,OAAOqC,MAAM,UAA7C,SACG3D,EAAE,YAEL,cAAC,IAAD,CACEsE,KAAK,QACLX,MAAM,YACNyB,SAAO,EACPC,QAAS,WACPtD,IACAjC,EAAa,OACbH,GAAQ,IAPZ,SAUGK,EAAE,8B,+JC5KNsF,UAhHF,WAAO,IAAD,IACTtF,EAAMC,cAAND,EACFI,EAAWC,cACXC,EAAQC,aAAY,SAACC,GAAD,OAAWA,EAAMC,gBAC3C,EAAoCI,mBAAS,IAA7C,mBAAO0E,EAAP,KAAmBC,EAAnB,KAQAC,qBAAU,WAAO,IAAD,EAEZC,sBAC+B,KAA9B,UAAApF,EAAMqF,mBAAN,eAAmBtB,UAChB/D,EAAMsF,kBAAoBC,kBAE9BzF,EAAS0F,yBAAe,OAEzB,CAAC1F,EAAD,UAAWE,EAAMqF,mBAAjB,aAAW,EAAmBtB,SAEjC,IAAM3D,EAAS,CACb,UACA,UACA,UACA,SACA,OACA,aAGF,OACE,qCACE,sBAAKY,UAAU,qBAAf,UACE,cAAC,IAAD,CACEyE,MAAO/F,EAAE,wBACTyC,KAAM,CAAC,CAAEsD,MAAO/F,EAAE,gBAAkB,CAAE+F,MAAO/F,EAAE,gBAEjD,qBAAKsB,UAAU,qEAAf,SACE,qBAAKA,UAAU,4BAAf,SACE,sBAAKA,UAAU,8CAAf,UACE,wBAAOA,UAAU,OAAO0E,QAAQ,iBAAhC,UACGhG,EAAE,UADL,OAGA,cAAC,IAAD,CACEE,GAAG,iBACHoB,UAAU,cACVgD,KAAK,OACL2B,MAAOV,EACPW,SAAU,SAACC,GAAD,OA3CFC,EA2CsBD,EAAEE,OAAOJ,WAzCnDT,EAAcY,GAFK,IAACA,eAiDlB,qBAAK9E,UAAU,qEAAf,SACE,qBAAKA,UAAU,gCAEjB,sBAAKA,UAAU,gBAAf,UACGoE,qBACC,cAAC,IAAD,oBACGpF,EAAMqF,mBADT,aACG,EAAmBW,KAAI,SAACC,EAAMC,GAAW,IAAD,EACvC,OACE,cAAC,IAAD,UACE,cAAC,IAAD,CACE7C,MAAOjD,EAAO8F,GACdC,UAAS,UAAKzG,EAAEuG,EAAKR,QACrBxB,KACEgC,EAAKhC,KACH,cAAC,IAAD,CACEmC,cAAc,0BACdC,SAAS,KAFX,SAIGJ,EAAKhC,OAGR,cAAC,IAAD,CACEmC,cAAc,0BACdC,SAAS,KAFX,uBAQJC,YACEtG,EAAMsF,iBACJ,cAAC,IAAD,CACEiB,GAAI,CAAEC,QAAS,WACfC,UAAU,OACVC,OAAQ,GACRC,MAAO,GACP3F,UAAU,oBAGZ,oBAAIA,UAAU,kBAAd,mBACGiF,EAAKW,oBADR,QACwBX,EAAKY,iBAU7C,cAAC,UAAD,CAAMC,aAAc7B,Y,qZClDtB8B,EAASC,IAAiBC,KAG1BC,EAAoBC,sBAAW,SAACC,EAAOC,GAAR,OACnC,qBAAKrG,UAAU,aAAf,SACE,cAAC,IAAD,aAAOgD,KAAK,WAAWqD,IAAKA,GAASD,SAKnCE,EAAe,SAAC,GAShB,EARJtH,MAQK,IAPLuH,EAOI,EAPJA,cACAC,EAMI,EANJA,cACAC,EAKI,EALJA,YACAC,EAII,EAJJA,aACAzC,EAGI,EAHJA,WACA0C,EAEI,EAFJA,YACAC,EACI,EADJA,qBAEQlI,EAAMC,cAAND,EACFmI,EAAUxH,qBAAWyH,KACrBhI,EAAWC,cAEXgI,GADe9H,aAAY,SAACC,GAAD,OAAWA,EAAM8H,YACjCC,eAEjB,OACE,qBAAKjH,UAAU,wDAAf,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAKkH,GAAG,IAAIlH,UAAU,gCAAtB,SACE,sBAAKA,UAAU,kCAAf,UACE,uBAAO0E,QAAQ,gBAAf,SAAgChG,EAAE,UAClC,eAAC,IAAD,CACEsB,UAAU,QACVgD,KAAK,SACLpE,GAAG,gBACH+F,MAAO8B,EACP7B,SAAU4B,EACVrE,MAAO,CAAEwD,MAAO,QANlB,UAQE,wBAAQhB,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,mBAEF,uBAAOD,QAAQ,gBAAf,SAAgChG,EAAE,kBAGtC,eAAC,IAAD,CACEwI,GAAG,IACHlH,UAAU,sJAFZ,WAIc,OAAX2G,QAAW,IAAXA,OAAA,EAAAA,EAAa5D,QAAS,GACvB8D,EAAQM,IAAI,SAAUC,eAAeC,QAAQ,sBAC3C,qBAAKrH,UAAU,8CAAf,SACE,eAAC,IAAD,CACEA,UAAU,eACVqC,MAAM,SACN0B,QAAS6C,EAHX,UAKGlI,EAAE,UALL,IAKiBiI,EAAY5D,OAL7B,IAKsCrE,EAAE,YAAD,OAAauC,mBAGpD,KACJ,sBAAKjB,UAAU,8CAAf,UACE,wBAAOA,UAAU,OAAO0E,QAAQ,iBAAhC,UACGhG,EAAE,UADL,OAGA,cAAC,IAAD,CACEE,GAAG,iBACHoB,UAAU,cACVgD,KAAK,OACL2B,MAAOV,EACPW,SAAU,SAACC,GAAD,OAAO6B,EAAa7B,EAAEE,OAAOJ,aAI3C,sBAAK3E,UAAU,iDAAf,UACE,eAAC,IAAD,CAAsBA,UAAU,OAAhC,UACE,eAAC,IAAD,CAAgBqC,MAAM,YAAYiF,OAAK,EAACxD,SAAO,EAA/C,UACE,cAAC,IAAD,CAAO9D,UAAU,uBACjB,sBAAMA,UAAU,eAAhB,SAAgCtB,EAAE,eAEpC,eAAC,IAAD,WACE,eAAC,IAAD,CACEsB,UAAU,QACV+D,QAAS,kBACPjF,EACEyI,qBAAW,CACTC,SAAU,SACVC,YAAa,MACbC,SAAUX,EAASW,SACnBC,OAAO,EACPC,eAAe,EACfC,YAAa,IACbC,WAAY,wCAXpB,UAgBE,cAAC,IAAD,CAAS9H,UAAU,uBACnB,sBAAMA,UAAU,eAAhB,SAAgCtB,EAAE,cAEpC,eAAC,IAAD,CACEsB,UAAU,QACV+D,QAAS,kBACPjF,EACEyI,qBAAW,CACTC,SAAU,SACVC,YAAa,MACbC,SAAUX,EAASW,SACnBG,YAAa,IACbC,WAAY,wCATpB,UAcE,cAAC,IAAD,CAAM9H,UAAU,uBAChB,sBAAMA,UAAU,eAAhB,oBAGF,eAAC,IAAD,CACEA,UAAU,QACV+D,QAAS,kBACPjF,EACEyI,qBAAW,CACTC,SAAU,SACVC,YAAa,MACbC,SAAUX,EAASW,SACnBE,eAAe,EACfC,YAAa,IACbC,WAAY,wCAVpB,UAeE,cAAC,IAAD,CAAM9H,UAAU,uBAChB,sBAAMA,UAAU,eAAhB,sBAGF,eAAC,IAAD,CACEA,UAAU,QAEV+D,QAAS,kBACPjF,EACEyI,qBAAW,CACTC,SAAU,SACVC,YAAa,MACbC,SAAUX,EAASW,SACnBE,eAAe,EACfC,YAAa,IACbC,WAAY,wCAXpB,UAgBE,cAAC,IAAD,CAAU9H,UAAU,uBACpB,sBAAMA,UAAU,eAAhB,0BAUL6G,EAAQM,IACP,OACAC,eAAeC,QAAQ,sBAEvB,eAAC,IAAD,CACErH,UAAU,eACVqC,MAAM,UACN0B,QAASwC,EAHX,UAMG7H,EAAE,WANL,IAMkBA,EAAEuC,gBAElB,iBAqcD+C,UA7bF,WACX,IAAMlF,EAAWC,cACXC,EAAQC,aAAY,SAACC,GAAD,OAAWA,EAAMC,gBAEnCT,EAAMC,cAAND,EAGAU,GAFQC,qBAAWyH,KAERzH,qBAAWC,KAAtBF,QACR,EAA+BG,mBAAS,QAAxC,mBAAOwI,EAAP,KAAiBC,EAAjB,KACA,EAAoCzI,mBAAS,IAA7C,mBAAO0E,EAAP,KAAmBC,EAAnB,KACA,EAAsC3E,mBAAS,GAA/C,mBAAO0I,EAAP,KAAoBC,EAApB,KACA,EAAwB3I,mBAAS,MAAjC,mBAAOc,EAAP,KAAa8H,EAAb,KACA,EAAsC5I,mBAAS,IAA/C,mBAAOkH,EAAP,KAAoB2B,EAApB,KACA,EAAwC7I,mBAAS,IAAjD,mBAAO8I,GAAP,KAAqBC,GAArB,KACA,GAA0C/I,oBAAS,GAAnD,qBAAOgJ,GAAP,MAAsBC,GAAtB,MAEA,GAAsCjJ,oBAAS,GAA/C,qBAAOkJ,GAAP,MAAoBC,GAApB,MACA,GAA8BnJ,oBAAS,GAAvC,qBAAOoJ,GAAP,MAAgBC,GAAhB,MACA,GAAsCrJ,mBAAS,eAA/C,qBAAoBE,IAApB,aACA,GAAkCF,oBAAS,GAA3C,qBAAOsJ,GAAP,MAAkBC,GAAlB,MACA,GAAkCvJ,mBAAS,MAA3C,qBAAOhB,GAAP,MAAkBC,GAAlB,MAEMuK,GAAa,SAACC,GAClBxK,GAAa,QACRyK,kBAwBHxJ,GAAe,GAAD,OACTf,EAAE,WADO,YACOA,EAAE,UADT,YACsBA,EAAE,QADxB,YACmCA,EAAEuC,eAEnD2H,IAAW,GACX9J,EAASoK,sBAAYF,IAAUnH,MAAK,WAClC+G,IAAW,GACXE,IAAa,QA7BfrJ,GAAe,GAAD,OACTf,EAAE,WADO,YACOA,EAAE,UADT,YACsBA,EAAE,QADxB,YACmCA,EAAEuC,eAEnD2H,IAAW,GACX9J,EAAS4D,sBAAYsG,EAAQpK,KAAKiD,MAAK,SAACC,GACP,aAA3BA,EAAIC,KAAKC,eACX4G,IAAW,GACX3G,IAAMU,MAAMb,EAAIc,QAAQC,QAAS,CAC/BV,MAAO,CACLC,QAAS,OACTC,MAAOjD,EAAO0D,OAAOR,KACrBC,OAAO,aAAD,OAAenD,EAAO0D,OAAOR,OAErCE,UAAW,CACTC,QAASrD,EAAO0D,OAAOR,UAI3BsG,IAAW,GACXE,IAAa,SAefK,GAAmB,WACvBT,IAAgBD,IAChBK,IAAcD,IACdO,eAGI7C,GAAgB,WAEpB/H,GAAa,OACbkK,IAAgBD,IAChBK,IAAcD,IACdQ,YAAeF,KAGXG,GAAY,uCAAG,WAAO1K,GAAP,SAAA2K,EAAA,sEACExD,EAAOyD,KAAK,CAC/B/E,MAAM,GAAD,OAAK/F,EAAE,kBACZ+K,KAAK,GAAD,OAAK/K,EAAE,+BAAP,YAAyCA,EAAEuC,aAA3C,KACJgC,KAAM,UACNyG,kBAAkB,EAClBC,kBAAkB,GAAD,OAAKjL,EAAE,eAAP,YAAyBA,EAAEuC,aAA3B,KACjB2I,iBAAiB,GAAD,OAAKlL,EAAE,WACvBmL,YAAa,CACXC,cAAe,kBACfC,aAAc,+BAEhBC,gBAAgB,IAZC,cAcRrF,QACTlF,GAAe,GAAD,OAAIf,EAAE,YAAN,iBAA0BA,EAAEuC,eAC1C2H,IAAW,GACX9J,EAASmL,qBAAWrL,IAAKiD,MAAK,SAACC,GAEE,cAA3BA,EAAIC,KAAKC,eACX4G,IAAW,GACX3G,IAAMC,QAAN,UAAiBxD,EAAE,wBAAnB,YAA8CA,EAAEuC,cAAc,CAC5DkB,MAAO,CACLC,QAAS,OACTC,MAAOjD,EAAO8C,QAAQI,KACtBC,OAAO,aAAD,OAAenD,EAAO8C,QAAQI,OAEtCE,UAAW,CACTC,QAASrD,EAAO8C,QAAQI,SAGQ,aAA3BR,EAAIC,KAAKC,gBAClB4G,IAAW,GACX3G,IAAMU,MAAMb,EAAIc,QAAQC,QAAS,CAC/BV,MAAO,CACLC,QAAS,OACTC,MAAOjD,EAAO0D,OAAOR,KACrBC,OAAO,aAAD,OAAenD,EAAO0D,OAAOR,OAErCE,UAAW,CACTC,QAASrD,EAAO0D,OAAOR,aAxCd,2CAAH,sDAgDZsE,GAAoB,uCAAG,8BAAA2C,EAAA,6DACrBW,EAAoB7B,GAAatF,OADZ,SAENgD,EAAOyD,KAAK,CAC/B/E,MAAM,GAAD,OAAK/F,EAAE,kBACZ+K,KAAK,GAAD,OAAK/K,EAAE,mBAAP,YAA6BwL,EAA7B,YAAkDxL,EACpD,mDADE,KAGJuE,KAAM,UACNyG,kBAAkB,EAClBC,kBAAkB,GAAD,OAAKjL,EAAE,eAAP,YAAyBwL,EAAzB,YAA8CxL,EAC7DuC,aADe,KAGjB2I,iBAAiB,GAAD,OAAKlL,EAAE,WACvBmL,YAAa,CACXC,cAAe,kBACfC,aAAc,+BAEhBC,gBAAgB,IAjBS,cAmBhBrF,QACTlF,GAAe,GAAD,OACTf,EAAE,YADO,YACQwL,EADR,iBACkCxL,EAAEuC,eAElD2H,IAAW,GACLnH,EAAS4G,GAAarD,KAAI,SAACuE,GAAD,OAAOA,EAAE3K,MAEzCE,EAASqL,gCAAsB,CAAEvL,GAAI6C,KAAWI,MAAK,SAACC,GAErB,cAA3BA,EAAIC,KAAKC,eACXsG,GAAgB,IAChBE,IAAkBD,IAClBK,IAAW,GACX3G,IAAMC,QAAN,UACKxD,EAAE,wBADP,YACkCwL,EADlC,YACuDxL,EAAEuC,cACvD,CACEkB,MAAO,CACLC,QAAS,OACTC,MAAOjD,EAAO8C,QAAQI,KACtBC,OAAO,aAAD,OAAenD,EAAO8C,QAAQI,OAEtCE,UAAW,CACTC,QAASrD,EAAO8C,QAAQI,SAIM,aAA3BR,EAAIC,KAAKC,gBAClB4G,IAAW,GACX3G,IAAMU,MAAMb,EAAIc,QAAQC,QAAS,CAC/BV,MAAO,CACLC,QAAS,OACTC,MAAOjD,EAAO0D,OAAOR,KACrBC,OAAO,aAAD,OAAenD,EAAO0D,OAAOR,OAErCE,UAAW,CACTC,QAASrD,EAAO0D,OAAOR,aAtDN,2CAAH,qDAsGpB8H,GAAaC,sBAAYC,KAZN,SAACC,GACxBzL,EACE0L,sBAAY,CACVzC,WACA0C,OAAQF,EACRlK,OACAqK,KAAMzC,EACNlF,OAAQ0D,OAK4C,KAAM,IAqB1DkE,GAAoBN,uBAAY,SAACnL,GACrCoJ,GAAgBpJ,EAAMmJ,gBACrB,IAqDGuC,GAAO,sBACRC,iBAAe7F,KAAI,SAAC8F,GAAD,MAAa,CACjCpH,KAAMoH,EAAOC,WACbC,UAAWF,EAAOG,UAClBC,QAAQ,EACRC,UAAU,EACVC,SAAU,SAACC,GAAD,OAASA,EAAIP,EAAOG,YAC9BK,KAAM,SAACD,GAAD,OAlCS,SAACA,EAAKP,GACvB,IAAMnJ,EAAQ0J,EAAIP,EAAOG,WACnBM,EAAaT,EAAOS,WAC1B,GAAIA,GACEA,EAAWC,SAAS,KAAM,CAC5B,IAAMC,EAAmBF,EAAWG,MAAM,KACpCC,EAAaF,EAAiB,GAC9BG,EAAeH,EAAiB,GAClCI,EAAiBR,EAAIP,EAAOG,WAahC,MAZmB,SAAfU,IACFE,EAAiBC,IAAOnK,GAAOoK,OAAO,eAClCH,IACFC,EAAiBC,IAAOnK,GAAOoK,OAAOH,KAGvB,aAAfD,IACFE,EAAiBC,IAAOnK,GAAOoK,OAAO,qBAClCH,IACFC,EAAiBC,IAAOnK,GAAOoK,OAAOH,KAGnCC,EAGX,OAAOR,EAAIP,EAAOG,WAUDe,CAAWX,EAAKP,SAPtB,CASX,CACEpH,KAAMhF,EAAE,WACRwM,QAAQ,EACRvF,MAAO,QACP2F,KAAM,SAACD,GAAD,OACJ,cAAC,IAAD,CACEA,IAAKA,EACL/B,aAAcA,GACdP,WAAYA,SAMdkD,GAAeC,mBACnB,kBACElN,EAAMmN,UACFvB,GAAQ5F,KAAI,SAAC8F,GAAD,mBAAC,aACXpH,KAAMhF,EAAEoM,EAAOpH,OACZoH,GAFO,IAGVK,UAAU,EACVG,KAAM,SAACD,GAAD,OACJ,cAAC,IAAD,CACE9F,GAAI,CAAEC,QAASpG,EAAOgN,KAAKC,OAC3B5G,UAAU,OACVzF,UAA2B,YAAhB8K,EAAOpH,KAAqB,OAAS,GAChDiC,MAAuB,YAAhBmF,EAAOpH,KAAqB,GAAK,OACxCgC,OAAQ,WAIdkF,GAAQ5F,KAAI,SAAC8F,GAAD,oBACVpH,KAAMhF,EAAEoM,EAAOpH,OACZoH,QAEX,CAAC9L,EAAMmN,UAAWvB,KAuCpB,OAfAzG,qBAAU,YACkB,IAAtBnF,EAAMmC,KAAK4B,SAAkB/D,EAAMmN,WAAa5H,mBAClD9E,GAAe,GAAD,OAAIf,EAAE,gBAAN,YAAyBA,EAAEuC,eACzCnC,EACE0L,sBAAY,CACVzC,WACA1H,OACAoK,OAAQxG,EACRyG,KAAMzC,EACNlF,OAAQ0D,QAIb,CAAC3H,EAAUE,EAAMmC,KAAK4B,OAAQgF,EAAU1H,EAAM4H,IAG/C,eAAC,WAAD,WACE,cAAC,IAAD,CAAUpH,SAAU8H,GAAS3H,OAAQ,cAAC,IAAD,IAArC,SACE,cAAC,IAAD,CAAMhB,UAAU,kBAAhB,SACE,qBAAKA,UAAU,kDAAf,SACE,cAAC,IAAD,CACEsM,UAAQ,EACRC,WAAS,EACTC,YAAU,EACVC,YAAU,EACVC,YAAU,EACVC,kBAAgB,EAChBC,oBAAqB5N,EAAM6N,MAC3BC,oBAnJa,WACvB,IAAMjH,EAAQkH,OAAOC,KAAKC,KAAKjO,EAAM6N,MAAQpG,IAE7C,OACE,cAAC,IAAD,CACEyG,cAAe,GACfC,UAAW,GACXC,UAAWvH,GAAS,EACpBwH,gBAAgB,SAChBC,UAA2B,IAAhBrF,EAAoBA,EAAc,EAAI,EACjDsF,aAAc,SAAC7C,GAAD,OA1EK,SAACA,GACxB5L,EACE0L,sBAAY,CACVzC,WACA1H,OACAoK,OAAQxG,EACRlB,OAAQ0D,EACRiE,KAAMA,EAAK8C,SAAW,KAG1BtF,EAAewC,EAAK8C,SAAW,GAgEHC,CAAiB/C,IACzCgD,cAAe,YACfC,kBAAmB,YACnBC,cAAe,iBACfC,kBAAmB,iBACnBC,sBAAuB,YACvBC,kBAAmB,YACnBC,mBACE,6DAkIIC,gBAAc,EACdC,qBAAsBvD,GACtBwD,yBAAuB,EAEvBC,kBAAmB7F,GACnB8F,wBAAyBnI,EACzBoI,gBAAiB,cAAC,IAAD,IAGjBnM,MAAO,CAAE,aAAc,SACvBoM,kBAAgB,EAChBC,gBAAc,EACd5D,QAASqB,GACTwC,OAnLO,SAAC3D,EAAQ4D,GAC1B1G,EAAW0G,GACXvG,EAAQ2C,EAAOE,WACflM,EACE0L,sBAAY,CACVzC,WACA1H,OACAoK,OAAQxG,EACRyG,KAAMzC,EACNlF,OAAQ0D,MA2KFkI,SAAU,cAAC,IAAD,IACV3O,UAAU,kBACVmB,KAlES,WACnB,IAAMyN,EAAU,CACdnE,OAAQxG,GAEJ4K,EAAa1O,OAAOC,KAAKwO,GAASE,MAAK,SAAUC,GACrD,OAAOH,EAAQG,GAAGhM,OAAS,KAE7B,OAAK/D,EAAMmN,UAUF6C,MAAM,IAAIC,KAAK,IATlBjQ,EAAMmC,KAAK4B,OAAS,EACf/D,EAAMmC,KACkB,IAAtBnC,EAAMmC,KAAK4B,QAAgB8L,EAC7B,QADF,EAwDOK,GACNC,mBACE,cAAC7I,EAAD,CACEtH,MAAOA,EACPiF,WAAYA,EACZwC,YAAaA,EACbC,aAjMK,SAAC5B,GACpBZ,EAAcY,GACdsF,GAAWtF,IAgMG0B,cA9NM,SAAC3B,GACrB,IAAMF,EAAQyK,SAASvK,EAAEwK,cAAc1K,OACvC7F,EACE0L,sBAAY,CACVzC,WACA1H,OACAoK,OAAQxG,EACRlB,OAAQ4B,EACR+F,KAAMzC,KAGVG,EAAezD,IAoND4B,cAAeA,GACfI,YAAa0B,GACbzB,qBAAsBA,aAUjCiC,IACC,cAAC,UAAD,CACEtK,UAAWA,GACXH,KAAMyK,GACNxK,QAASkI,GACTjI,YAAY,EACZE,aAAcA,U,2RCppBlBuH,EAASC,IAAiBC,KA4XjBjC,UArXF,SAAC8B,GACZ,IAAMhH,EAAWC,cACXC,EAAQC,aAAY,SAACC,GAAD,OAAWA,EAAMC,gBACnCT,EAAMC,cAAND,EACR,EAAsCa,oBAAS,GAA/C,mBAAOkJ,EAAP,KAAoBC,EAApB,KACM7B,EAAUxH,qBAAWyH,KAC3B,EAA8BvH,oBAAS,GAAvC,mBAAgBqJ,GAAhB,WACA,EAAsCrJ,mBAAS,eAA/C,mBAAoBE,GAApB,WACA,EAAkCF,oBAAS,GAA3C,mBAAOsJ,EAAP,KAAkBC,EAAlB,KACA,EAAkCvJ,mBAAS,MAA3C,mBAAOhB,EAAP,KAAkBC,EAAlB,KACA,EAA4Ce,mBAAS,MAArD,mBAAO+P,EAAP,KAAuBC,EAAvB,KAEA,EAAgDhQ,mBAAS,GAAzD,mBAAOiQ,EAAP,KAAyBC,EAAzB,KACA,EAAgDlQ,mBAAS,MAAzD,mBAAyBmQ,IAAzB,WAEQtQ,GAAWC,qBAAWC,KAAtBF,OAuCFkK,GAAY,uCAAG,WAAO1K,GAAP,SAAA2K,EAAA,sEACExD,EAAOyD,KAAK,CAC/B/E,MAAM,GAAD,OAAK/F,EAAE,kBACZ+K,KAAK,GAAD,OAAK/K,EAAE,+BAAP,YAAyCA,EAAEuC,aAA3C,KACJgC,KAAM,UACNyG,kBAAkB,EAClBC,kBAAkB,GAAD,OAAKjL,EAAE,eAAP,YAAyBA,EAAEuC,aAA3B,KACjB2I,iBAAiB,GAAD,OAAKlL,EAAE,WACvBmL,YAAa,CACXC,cAAe,kBACfC,aAAc,+BAEhBC,gBAAgB,IAZC,cAcRrF,QACTlF,EAAe,GAAD,OAAIf,EAAE,YAAN,iBAA0BA,EAAEuC,eAC1C2H,GAAW,GACX9J,EAASmL,qBAAWrL,IAAKiD,MAAK,SAACC,GAEE,cAA3BA,EAAIC,KAAKC,eACX4G,GAAW,GACX3G,IAAMC,QAAN,UAAiBxD,EAAE,wBAAnB,YAA8CA,EAAEuC,cAAc,CAC5DkB,MAAO,CACLC,QAAS,OACTC,MAAOjD,GAAO8C,QAAQI,KACtBC,OAAO,aAAD,OAAenD,GAAO8C,QAAQI,OAEtCE,UAAW,CACTC,QAASrD,GAAO8C,QAAQI,SAGQ,aAA3BR,EAAIC,KAAKC,gBAClB4G,GAAW,GACX3G,IAAMU,MAAMb,EAAIc,QAAQC,QAAS,CAC/BV,MAAO,CACLC,QAAS,OACTC,MAAOjD,GAAO0D,OAAOR,KACrBC,OAAO,aAAD,OAAenD,GAAO0D,OAAOR,OAErCE,UAAW,CACTC,QAASrD,GAAO0D,OAAOR,aAxCd,2CAAH,sDAgDZiE,GAAgB,WAAiB,IAAhB8E,EAAe,uDAAT,KAE3BkE,EAAkBlE,GAClB7M,EAAa,OACbkK,GAAgBD,GAChBK,GAAcD,GACdQ,YAAeF,KAGXA,GAAmB,WACvBT,GAAgBD,GAChBK,GAAcD,GACdO,eAqGF,OAXAjF,qBAAU,YAGuB,IAA5BnF,EAAM2Q,WAAW5M,SAAiB/D,EAAM4Q,iBACzCrL,mBAEA9E,EAAe,GAAD,OAAIf,EAAE,gBAAN,YAAyBA,EAAEuC,eACzCnC,EAAS0L,sBAAY,QAEtB,CAAC1L,EAAUE,EAAM2Q,WAAW5M,OAAS,IAGtC,eAAC,WAAD,WACE,cAAC,IAAD,CAAUlC,SAAU7B,EAAM4Q,gBAAiB5O,OAAQ,cAAC,IAAD,IAAnD,SACE,cAAC,IAAD,CAAMhB,UAAU,kBAAhB,SACE,qBAAKA,UAAU,kDAAf,SACE,qBACEmC,MAAO,CACLuD,OAAQ,IACRmK,WAAY,GACZC,YAAa,GACbC,UAAW,IALf,SAQE,cAAC,IAAD,CACEC,SAAUhR,EAAM2Q,WAChB/K,SAjHO,SAACqL,GAEpBnR,EAASoR,4BAAkBD,KAkHfE,SAAS,EACTC,aAjDa,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,KAAMC,EAAkB,EAAlBA,YAClC,OACEA,GACAD,EAAK3M,KAAK6M,cAAcC,QAAQF,EAAYC,gBAAkB,GA+CpDD,YAAaxK,EAAaA,aAC1B2K,kBAAmBjB,EACnBkB,qBAAsB,SAACC,GACrBjB,GAAoBiB,EAAQ5N,QAC5B0M,EACEkB,EAAQ5N,OAAS,EAAIyM,EAAmBmB,EAAQ5N,OAAS,IAI7D6N,SAAU,GACVC,kBAAmB,oBAAGR,EAAH,EAAGA,KAAH,EAASS,KAAT,MAAqB,CACtC3O,MAAO,CACLkD,SAAUgL,EAAKU,cAAL,OAA8B,OACxCC,WAAYX,EAAKU,cAAL,OAA8B,UAE5CtM,MACE,sBAAKzE,UAAU,iDAAf,WAEQ,OAAJqQ,QAAI,IAAJA,GAAA,UAAAA,EAAMY,kBAAN,eAAkBC,OAChB,qBACElR,UAAU,OACVmR,IAAKd,EAAKY,WAAWC,KAErBxL,OAAO,OAYb,qBAAK1F,UAAU,qBAAf,SACE,sBAAMA,UAAU,YAAhB,SAEGqQ,EAAK3M,YAKd0N,QAAS,CACPvK,EAAQM,IACN,OACAC,eAAeC,QAAQ,sBAEvB,qCACE,cAAC,IAAOgK,OAAR,CACErR,UAAU,0BACVqC,MAAM,eACNzD,GAAG,gBACHmF,QAAS,SAACc,GACR0B,GAAc8J,IALlB,SAQE,cAAC,IAAD,CAAMiB,KAAM,OAEd,cAAC,IAAD,CACEC,UAAU,OACVxM,OAAO,gBAFT,SAIGrG,EAAE,kBAGL,MACJmI,EAAQM,IACN,SACAC,eAAeC,QAAQ,uBAExBgJ,EAAKU,eACLV,EAAKmB,YAiBF,KAhBF,qCACE,cAAC,IAAOH,OAAR,CACErR,UAAU,0BACVqC,MAAM,YACNzD,GAAG,WACHmF,QAAS,SAACc,GAxSf,IAACmE,EAySMnE,EAAE4M,iBAzSRzI,EA0SiBqH,EAzSnC7R,EAAa,QACRyK,kBAwBHxJ,EAAe,GAAD,OACTf,EAAE,WADO,YACOA,EAAE,UADT,YACsBA,EAAE,QADxB,YACmCA,EAAEuC,eAEnD2H,GAAW,GACX9J,EAASoK,sBAAYF,IAAUnH,MAAK,WAClC+G,GAAW,GACXE,GAAa,QA7BfrJ,EAAe,GAAD,OACTf,EAAE,WADO,YACOA,EAAE,UADT,YACsBA,EAAE,QADxB,YACmCA,EAAEuC,eAEnD2H,GAAW,GACX9J,EAAS4D,sBAAYsG,EAAQpK,KAAKiD,MAAK,SAACC,GACP,aAA3BA,EAAIC,KAAKC,eACX4G,GAAW,GACX3G,IAAMU,MAAMb,EAAIc,QAAQC,QAAS,CAC/BV,MAAO,CACLC,QAAS,OACTC,MAAOjD,GAAO0D,OAAOR,KACrBC,OAAO,aAAD,OAAenD,GAAO0D,OAAOR,OAErCE,UAAW,CACTC,QAASrD,GAAO0D,OAAOR,UAI3BsG,GAAW,GACXE,GAAa,SA8QC,SASE,cAAC,IAAD,CAAOwI,KAAM,OAEf,cAAC,IAAD,CAAqBC,UAAU,OAAOxM,OAAO,WAA7C,SACGrG,EAAE,aAITmI,EAAQM,IACN,SACAC,eAAeC,QAAQ,wBAExBgJ,EAAKqB,eACqB,KAAvB,OAAJrB,QAAI,IAAJA,GAAA,UAAAA,EAAMsB,gBAAN,eAAgB5O,QACd,qCACE,cAAC,IAAOsO,OAAR,CACEzS,GAAG,aACHoB,UAAU,0BACVqC,MAAM,cACN0B,QAAS,SAACc,GACRA,EAAE4M,iBACFnI,GAAa+G,EAAKzR,KANtB,SASE,cAAC,IAAD,CAAQ0S,KAAM,OAEhB,cAAC,IAAD,CACEC,UAAU,OACVxM,OAAO,aAFT,SAIGrG,EAAE,eAGL,kBASjBmK,GACC,cAAC,UAAD,CACEtK,UAAWA,EACXH,KAAMyK,EACNxK,QAASkI,GACTjI,YAAY,EACZE,aAAcA,EACdC,YAAa6Q,S,wHC/YjBsC,EAAW,SAACxL,GAAW,IAAD,EAClBuL,EAA6DvL,EAA7DuL,SAAU9Q,EAAmDuF,EAAnDvF,SAAUG,EAAyCoF,EAAzCpF,OAAQhB,EAAiCoG,EAAjCpG,UAAW6R,EAAsBzL,EAAtByL,IAAKC,EAAiB1L,EAAjB0L,aAE9CC,EAAMF,EAEZ,OACE,eAACE,EAAD,CACE/R,UAAWgS,IAAW,aAAD,mBAClBhS,EAAYA,GADM,qBAEba,GAFa,IADvB,UAMG8Q,EACA9Q,EACC,eAAC,WAAD,WACE,iCACEb,UAAU,WACLa,GAAYiR,EACb,CAAE3P,MAAO,CAAE8P,gBAAiBH,IAC5B,KAGN,qBAAK9R,UAAU,SAAf,SAAyBgB,OAEzB,SAKK4Q,MAEfA,EAASM,aAAe,CACtBL,IAAK,MACLhR,UAAU,EACVG,OAAQ,cAAC,IAAD,CAASqB,MAAM,c,iCCpCzB,SAAgB8P,EAAUC,EAAgBrG,G,2BAAmBsG,uD,IAO3D,EAAgB,C,IACd,E,QACA,IAAItG,EACFpJ,EAAQ,UACN,qIAGG,C,IACD2P,EAAJ,GACA3P,EAAQ,UACN,iBAAsB,W,OACb0P,EAAKC,UAGhB3P,2B,MAGDA,cAjBa,EAkBd,GApCJ,mC,+QCAa4P,EAAS,CACpB,CACE/R,IADF,QAEEgS,OAAQC,YAAI,OAAIA,eAElB,CACEjS,IADF,OAEEgS,OAAQC,YAAI,OAAIA,uBAElB,CACEjS,IADF,oBAEEgS,OAAQC,YAAI,OAAIA,uBAElB,CACEjS,IADF,iBAEEgS,OAAQC,YAAI,OAAIA,oBAElB,CACEjS,IADF,mBAEEgS,OAAQC,YAAI,OAAIA,sBAElB,CACEjS,IADF,SAEEgS,OAAQC,YAAI,OAAIA,gBAElB,CACEjS,IADF,kBAEEgS,OAAQC,YAAI,OAAIA,qBAElB,CACEjS,IADF,WAEEgS,OAAQC,YAAI,OAAIA,mDAElB,CACEjS,IADF,aAEEgS,OAAQC,YAAI,OAAIA,iBC/BdC,EAAO,aAEE,SAAS1M,EAAT,GAGb,SAAS2M,EAAT,GACE,IAAMC,EAAN,GACMC,EAAN,GACMC,EAAYP,OAAWQ,YAAK,OAAIA,EAAtC,OASA,OARA5S,2BAA+B,YAAkB,aAAjB,EAAiB,KAAlB,EAAkB,KAC3C2S,eAA2BE,yBAA/B,IACEJ,OACAC,UAEAA,UAGG,CAACD,EAAR,GAEF,SAASjP,EAAT,KACExD,2BAAoC,YAAkB,aAAjB,EAAiB,KAAlB,EAAkB,KAE9C8S,EADQV,QAAYQ,YAAK,OAAIA,QAAnC,KACmBA,OAAnB,GACAG,sBACAT,kCAIJ,SAASU,EAAT,GACEV,gCAAkCQ,YAChCC,uCAEFT,0BAGF,mEAAO,EAAP,qDAeEW,SAAK,KAAuB,WAC1BC,KAAKC,qBAAuB,GAC5BD,KAAKE,SAAWpT,mBAAhB,GACA,MAAmCwS,EAAmBU,KAAtD,mBAAM,EAAN,KAAM,EAAN,KACMG,EAAeX,WAArB,EACMY,EAAkBZ,cAAxB,EACA,OAAO,EAAP,uCACE1S,OAAA,YAA+B,CAC7BuT,QAASC,YACPhQ,EAAO,EAAPA,GACA6P,MAEFI,WAAYD,YACVF,KACAN,WA7BV,oBAmCEU,SAAM,GACJ1T,cAAckT,KAAdlT,YACAgT,QACA,MAAmCR,EAAmBU,KAAtD,mBAAM,EAAN,KAAM,EAAN,KACA,6CACA1P,EAAO0P,KAAP1P,MAxCJ,2BACSmQ,SAAY,GACjB,GAAId,yBAAqBX,EAArBW,KAAiCA,yBAAqBX,EAA1D,IAAoE,CAClE,IAAM0B,EAAN,GAMA,MALC,CAAC,QAAS,OAAQ,QAAQC,SAAQ,mBACjC,IAAI3B,OACF0B,KAAe1B,EAAf0B,OAGGA,EAEP,OAAOE,eAAP,OAXC,EAAP,CAAO,G,8GCvCT,YAUA,IASIC,EAAS,aAGTC,EAAa,qBAGbC,EAAa,aAGbC,EAAY,cAGZC,EAAelF,SAGfmF,EAA8B,iBAAVC,GAAsBA,GAAUA,EAAOrU,SAAWA,QAAUqU,EAGhFC,EAA0B,iBAARC,MAAoBA,MAAQA,KAAKvU,SAAWA,QAAUuU,KAGxEC,EAAOJ,GAAcE,GAAYG,SAAS,cAATA,GAUjCC,EAPc1U,OAAO2U,UAOQC,SAG7BC,EAAYhI,KAAKiI,IACjBC,EAAYlI,KAAKmI,IAkBjBC,EAAM,WACR,OAAOT,EAAKU,KAAKD,OA4MnB,SAASE,EAAS3Q,GAChB,IAAI3B,SAAc2B,EAClB,QAASA,IAAkB,UAAR3B,GAA4B,YAARA,GA4EzC,SAASuS,EAAS5Q,GAChB,GAAoB,iBAATA,EACT,OAAOA,EAET,GAhCF,SAAkBA,GAChB,MAAuB,iBAATA,GAtBhB,SAAsBA,GACpB,QAASA,GAAyB,iBAATA,EAsBtB6Q,CAAa7Q,IAzTF,mBAyTYkQ,EAAeY,KAAK9Q,GA8B1C+Q,CAAS/Q,GACX,OA3VM,IA6VR,GAAI2Q,EAAS3Q,GAAQ,CACnB,IAAIgR,EAAgC,mBAAjBhR,EAAMiR,QAAwBjR,EAAMiR,UAAYjR,EACnEA,EAAQ2Q,EAASK,GAAUA,EAAQ,GAAMA,EAE3C,GAAoB,iBAAThR,EACT,OAAiB,IAAVA,EAAcA,GAASA,EAEhCA,EAAQA,EAAMkR,QAAQ3B,EAAQ,IAC9B,IAAI4B,EAAW1B,EAAW2B,KAAKpR,GAC/B,OAAQmR,GAAYzB,EAAU0B,KAAKpR,GAC/B2P,EAAa3P,EAAMqR,MAAM,GAAIF,EAAW,EAAI,GAC3C3B,EAAW4B,KAAKpR,GAxWb,KAwW6BA,EAGvCsR,EAAOC,QAtPP,SAAkBC,EAAMC,EAAMC,GAC5B,IAAIC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAAiB,EACjBC,GAAU,EACVC,GAAS,EACTC,GAAW,EAEf,GAAmB,mBAARZ,EACT,MAAM,IAAIa,UArIQ,uBA+IpB,SAASC,EAAWC,GAClB,IAAI7E,EAAOiE,EACPa,EAAUZ,EAKd,OAHAD,EAAWC,OAAWa,EACtBR,EAAiBM,EACjBT,EAASN,EAAKkB,MAAMF,EAAS9E,GAI/B,SAASiF,EAAYJ,GAMnB,OAJAN,EAAiBM,EAEjBR,EAAUa,WAAWC,EAAcpB,GAE5BS,EAAUI,EAAWC,GAAQT,EAWtC,SAASgB,EAAaP,GACpB,IAAIQ,EAAoBR,EAAOP,EAM/B,YAAyBS,IAAjBT,GAA+Be,GAAqBtB,GACzDsB,EAAoB,GAAOZ,GANJI,EAAON,GAM8BJ,EAGjE,SAASgB,IACP,IAAIN,EAAO9B,IACX,GAAIqC,EAAaP,GACf,OAAOS,EAAaT,GAGtBR,EAAUa,WAAWC,EAzBvB,SAAuBN,GACrB,IAEIT,EAASL,GAFWc,EAAOP,GAI/B,OAAOG,EAAS5B,EAAUuB,EAAQD,GAHRU,EAAON,IAGkCH,EAoBhCmB,CAAcV,IAGnD,SAASS,EAAaT,GAKpB,OAJAR,OAAUU,EAINL,GAAYT,EACPW,EAAWC,IAEpBZ,EAAWC,OAAWa,EACfX,GAeT,SAASoB,IACP,IAAIX,EAAO9B,IACP0C,EAAaL,EAAaP,GAM9B,GAJAZ,EAAWyB,UACXxB,EAAWlD,KACXsD,EAAeO,EAEXY,EAAY,CACd,QAAgBV,IAAZV,EACF,OAAOY,EAAYX,GAErB,GAAIG,EAGF,OADAJ,EAAUa,WAAWC,EAAcpB,GAC5Ba,EAAWN,GAMtB,YAHgBS,IAAZV,IACFA,EAAUa,WAAWC,EAAcpB,IAE9BK,EAIT,OAxGAL,EAAOb,EAASa,IAAS,EACrBd,EAASe,KACXQ,IAAYR,EAAQQ,QAEpBL,GADAM,EAAS,YAAaT,GACHrB,EAAUO,EAASc,EAAQG,UAAY,EAAGJ,GAAQI,EACrEO,EAAW,aAAcV,IAAYA,EAAQU,SAAWA,GAiG1Dc,EAAUG,OAnCV,gBACkBZ,IAAZV,GACFuB,aAAavB,GAEfE,EAAiB,EACjBN,EAAWK,EAAeJ,EAAWG,OAAUU,GA+BjDS,EAAUK,MA5BV,WACE,YAAmBd,IAAZV,EAAwBD,EAASkB,EAAavC,MA4BhDyC,K,oDCzPT,SAASM,EAAQ5X,GAAmV,OAAtO4X,EAArD,oBAAXC,QAAoD,kBAApBA,OAAOC,SAAmC,SAAiB9X,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,oBAAX6X,QAAyB7X,EAAI+X,cAAgBF,QAAU7X,IAAQ6X,OAAOtD,UAAY,gBAAkBvU,GAAiB4X,EAAQ5X,GAE5W,SAASgY,EAAsBC,GACpC,IAAIC,EAAaD,EAAYE,QAE7B,OAAkB,MAAdD,EACK,KACEA,EAAWE,aAEbF,EAAWE,aAAaD,QAExBD,EAYJ,SAASG,EAAUC,GACxB,OAV+BC,EAUPD,IATJC,EAAUhE,WAAmD,oBAA/BgE,EAAUhE,UAAUnR,QAEjE,SAAkCkV,GACvC,IAAIE,EAGJ,MAAqK,+BAApJ,OADNF,QACuB,IADvBA,GAC8E,QAApCE,EAD1CF,EACgEG,gBAAyC,IAAnBD,OAAtD,EAA2FA,EAAehE,YAGvHkE,CAAyBJ,GAVlD,IAA0BC,EAY1B,SAASI,EAAwBC,EAAcC,IAa/C,SAASC,EAAWC,GACzB,MAAwB,oBAAVA,EAET,SAAS5G,KAOT,SAAS6G,EAAcD,GAC5B,IALF,SAAsBA,GACpB,MAA0B,WAAnBnB,EAAQmB,IAAiC,OAAVA,EAIjC9D,CAAa8D,GAChB,OAAO,EAGT,GAAqC,OAAjCnZ,OAAOqZ,eAAeF,GACxB,OAAO,EAKT,IAFA,IAAIG,EAAQH,EAE4B,OAAjCnZ,OAAOqZ,eAAeC,IAC3BA,EAAQtZ,OAAOqZ,eAAeC,GAGhC,OAAOtZ,OAAOqZ,eAAeF,KAAWG,EAEnC,SAASC,EAAY1W,EAAM2W,GAChC,MAAuB,kBAAT3W,GAAuC,WAAlBmV,EAAQnV,MAAwB2W,GAAc3K,MAAM4K,QAAQ5W,IAASA,EAAKtB,OAAM,SAAUhD,GAC3H,OAAOgb,EAAYhb,GAAG,MApE1B,+O,4gDCeMmb,mBAAqB,SAArBA,mBAAsB,MAUrB,IAAD,wHATJxO,IASI,KATJA,IACAyO,SAQI,KARJA,SACAxQ,aAOI,KAPJA,aACAP,WAMI,KANJA,WAMI,yBALJgR,mCAKI,wBALa,GAKb,uCAJJC,uBAII,oDAHJC,uBAGI,mDAFJnW,qBAEI,uDADJoW,iCACI,uBADY,OACZ,mBACJ,gBAAcvb,wDAAND,EAAR,gBAAQA,EACFmI,QAAUxH,sDAAWyH,yDACrBqT,SAAWC,2DACXC,SAAWpb,qDAAY,SAACC,GAAD,OAAWA,EAAMob,gBACxCtb,MAAQC,qDAAY,SAACC,GAAD,OAAWA,EAAMqb,sBACrCzb,SAAWC,sDACXyb,iCAAgC,OACpCV,eADoC,IACpCA,UADoC,0BACpCA,SAAUW,eAD0B,6BACpC,kBAAmBD,iCAEfE,iBAAgB,kCAAuBrP,UAAvB,IAAuBA,SAAvB,EAAuBA,IAAKzM,IAElD,SAAS+b,cAAcpa,EAAKuQ,GAA4B,IAClD1K,EAD4B3C,EAAqB,uDAAN,KAE/C,GAAmB,qBAARlD,EAAqB,OAAOkD,EAMvC,GAJE2C,EADkB,kBAAT0K,EACDA,EAAKpF,MAAM,KAAKkP,UAEhB9J,EAEU,IAAhBA,EAAK/N,OAAc,OAAOxC,GAAOkD,EACrC,IAAIiV,EAAUtS,EAAMyU,MACpB,OAAOF,cAAa,OAACpa,QAAD,IAACA,OAAD,EAACA,EAAMmY,GAAUtS,EAAO3C,GAG9C,IAAMqX,YAAc,SAACC,GACnB,IAAMC,EAAUC,SAASC,eAAeH,GACpCC,GACFA,EAAQG,eAAe,CACrBC,SAAU,SACVC,MAAO,WAKPC,sBAAwB,SAAxBA,sBAAyBb,SAAyB,IAAhBpP,IAAe,uDAAT,KACxCoL,QAAS,EACQ,gBAArB,OAAIgE,cAAJ,IAAIA,iBAASc,OACJ,OAAPd,cAAO,IAAPA,SAAA,wBAAAA,QAASc,cAAT,qCAAiBvW,KAAI,SAACC,KAAMC,OAC1B,IAAIvD,MAAK,OAAGsD,WAAH,IAAGA,UAAH,EAAGA,KAAMtD,MACd6Z,SAAQ,OAAGvW,WAAH,IAAGA,UAAH,EAAGA,KAAMuW,SACjB7W,MAAK,OAAGM,WAAH,IAAGA,UAAH,EAAGA,KAAMN,MAEd8W,gBAAkB,KAClBC,QAAU,KAEd,UAAI/Z,YAAJ,IAAIA,aAAO6J,SAAS,cAAe,CACjC,IAAMzE,SAAWE,gDACH,sBAAVtF,MACF8Z,gBAAe,OAAG1U,eAAH,IAAGA,cAAH,EAAGA,SAAUrD,KACT,2BAAV/B,MACT8Z,gBAAe,OAAG1U,eAAH,IAAGA,cAAH,EAAGA,SAAU4U,UACT,uBAAVha,MACT8Z,gBAAe,OAAG1U,eAAH,IAAGA,cAAH,EAAGA,SAAU6U,MACT,oBAAVja,MACT8Z,gBAAe,OAAG1U,eAAH,IAAGA,cAAH,EAAGA,SAAUnI,GACT,0BAAV+C,QACT8Z,gBAAe,OAAG1U,eAAH,IAAGA,cAAH,EAAGA,SAAU8U,UAG9BH,QAAO,WAAOD,gBAAP,aAA2BD,SAA3B,YAAuC7W,QAE5C,CAAC,UAAMyS,EAAW,IAAI,GAAO5L,SAASiQ,kBAC3B,SAAV9W,OAA8B,UAAVA,QAErB+W,QAAO,UAAMD,gBAAN,YAAyBD,SAAzB,YAAqCC,kBAG9C,IAEIhF,QADsB,KAAhB,OAAJxR,WAAI,IAAJA,UAAA,EAAAA,KAAM6W,YACCrF,QAEAsF,KAAKL,SAEhB,MAAO/Y,OACP8T,QAAS,OAGN,CACLgF,gBAAuB,OAAL9Z,YAAK,IAALA,aAAO6J,SAAS,KAC9BmP,cAActP,IAAK1J,OADL,OAEd0J,UAFc,IAEdA,SAFc,EAEdA,IAAM1J,OAEV+Z,QAAO,WAAOD,gBAAP,aAA2BD,SAA3B,YAAuC7W,QAG5C,CAAC,UAAMyS,EAAW,IAAI,GAAO5L,SAASiQ,kBAC3B,SAAV9W,OAA8B,UAAVA,QAErB+W,QAAO,UAAMD,gBAAN,YAAyBD,SAAzB,YAAqCC,kBAG9C,IAEIhF,QADsB,KAAhB,OAAJxR,WAAI,IAAJA,UAAA,EAAAA,KAAM6W,YACCrF,QAEAsF,KAAKL,SAEhB,MAAO/Y,OACP8T,QAAS,OAMfA,QAAS,EAEX,OAAOA,QAGHuF,wBAA0B,SAA1BA,wBAA2BvB,SAAyB,IAAhBpP,IAAe,uDAAT,KACxC4Q,QAAUpd,2DACZ4X,QAAS,EACyB,sBAAtC,OAAIgE,cAAJ,IAAIA,iBAASyB,0BACJ,OAAPzB,cAAO,IAAPA,SAAA,8BAAAA,QAASyB,+BAAT,iDAAkClX,KAAI,SAACC,MACrC,IAAItD,MAAK,OAAGsD,WAAH,IAAGA,UAAH,EAAGA,KAAMtD,MACd6Z,SAAQ,OAAGvW,WAAH,IAAGA,UAAH,EAAGA,KAAMuW,SACjB7W,MAAK,OAAGM,WAAH,IAAGA,UAAH,EAAGA,KAAMN,MAEd8W,gBAAkB,KAClBC,QAAU,KAEd,UAAI/Z,YAAJ,IAAIA,aAAO6J,SAAS,cAAe,CACjC,IAAMzE,SAAWE,gDACH,sBAAVtF,MACF8Z,gBAAe,OAAG1U,eAAH,IAAGA,cAAH,EAAGA,SAAUrD,KACT,2BAAV/B,MACT8Z,gBAAe,OAAG1U,eAAH,IAAGA,cAAH,EAAGA,SAAU4U,UACT,uBAAVha,MACT8Z,gBAAe,OAAG1U,eAAH,IAAGA,cAAH,EAAGA,SAAU6U,MACT,oBAAVja,MACT8Z,gBAAe,OAAG1U,eAAH,IAAGA,cAAH,EAAGA,SAAUnI,GACT,0BAAV+C,QACT8Z,gBAAe,OAAG1U,eAAH,IAAGA,cAAH,EAAGA,SAAU8U,UAG9BH,QAAO,WAAOD,gBAAP,aAA2BD,SAA3B,YAAuC7W,QAE5C,CAAC,UAAMyS,EAAW,IAAI,GAAO5L,SAASiQ,kBAC3B,SAAV9W,OAA8B,UAAVA,QAErB+W,QAAO,UAAMD,gBAAN,YAAyBD,SAAzB,YAAqCC,kBAG9C,IAEIhF,QAD0C,KAAjC,OAAPgE,cAAO,IAAPA,aAAA,EAAAA,QAAS0B,6BACF1F,QAEAsF,KAAKL,SAEhB,MAAO/Y,OACP8T,QAAS,OAGN,CACLgF,gBAAuB,OAAL9Z,YAAK,IAALA,aAAO6J,SAAS,KAC9BmP,cAActP,IAAK1J,OADL,OAEd0J,UAFc,IAEdA,SAFc,EAEdA,IAAM1J,OAEV+Z,QAAO,WAAOD,gBAAP,aAA2BD,SAA3B,YAAuC7W,QAG5C,CAAC,UAAMyS,EAAW,IAAI,GAAO5L,SAASiQ,kBAC3B,SAAV9W,OAA8B,UAAVA,QAErB+W,QAAO,UAAMD,gBAAN,YAAyBD,SAAzB,YAAqCC,kBAG9C,IAEIhF,QAD0C,KAAjC,OAAPgE,cAAO,IAAPA,aAAA,EAAAA,QAAS0B,6BACF1F,QAEAsF,KAAKL,SAEhB,MAAO/Y,OACP8T,QAAS,QAkBjB,OAVG5P,QAAQM,IAAI,SAAUC,eAAeC,QAAQ,uBAC7CR,QAAQM,IAAI,OAAQC,eAAeC,QAAQ,wBAE5CoP,QAAS,GAGe,UAAf,OAAPwF,cAAO,IAAPA,aAAA,EAAAA,QAASG,YACX3F,QAAS,GAGJA,QAGT,SAAS4F,cAAcrc,GACrB,IAAIyW,EAAS,GAIb,OAHIzW,GAAa,OAACA,QAAD,IAACA,KAAWwL,SAAS,UACpCiL,EAAS,aAEJA,EAGT,OACE,oEAAKzW,UAAU,4BAAf,UACGwa,iCAAgC,OAC7BA,uCAD6B,IAC7BA,sCAD6B,EAC7BA,iCAAkCxV,KAAI,SAACC,EAAMC,GAC3C,OACEoW,sBAAsBrW,EAAMoG,MAC1B,6DAAC,4CAAD,WACE,4DAAC,2CAAOgG,OAAR,CAEEvN,SACM,OAAJmB,QAAI,IAAJA,OAAA,EAAAA,EAAMnB,WAC6C,IAAnD,6BAA6BiS,KAA7B,OAAkC9Q,QAAlC,IAAkCA,OAAlC,EAAkCA,EAAM5C,OAE1CzD,GAAE,UAAK8b,iBAAL,YAAyBxV,GAC3BlF,UAAS,2CACP,OAACiF,QAAD,IAACA,KAAMwE,KAA2B,GAApB,mBAEhBpH,MAAW,OAAJ4C,QAAI,IAAJA,KAAM5C,MAAN,OAAc4C,QAAd,IAAcA,OAAd,EAAcA,EAAM5C,MAAQ,iBACnC0B,QAAS,SAACc,GAAO,IAAD,MACdA,EAAE4M,iBACF,IAAI6K,EAAS,OAAGrX,QAAH,IAAGA,GAAH,UAAGA,EAAMsX,oBAAT,aAAG,EAAoBC,OAChCC,EAAQ,OAAGxX,QAAH,IAAGA,GAAH,UAAGA,EAAMsX,oBAAT,aAAG,EAAoB5a,MAC/B+a,EAAQ,OAAGzX,QAAH,IAAGA,GAAH,UAAGA,EAAM0X,8BAAT,aAAG,EAA8BC,UAE7C,IAAIN,GAAcG,GAAaC,EA6DxB,IAAID,GAAaH,GAAcI,GAgC/B,IAAKD,IAAaH,GAAaI,EAAU,CAAC,IAAD,EAE1CG,EAAgB,OAClB5X,QADkB,IAClBA,GADkB,UAClBA,EAAM0X,8BADY,aAClB,EAA8BE,iBAE5BA,IACc,OAAhBA,QAAgB,IAAhBA,KAAkB7X,KAAI,SAAC8X,EAAIC,GACzB,IAAIC,EAAQ,OAAGF,QAAH,IAAGA,OAAH,EAAGA,EAAIG,UACfC,EAAU,OAAG7R,UAAH,IAAGA,SAAH,EAAGA,IAAG,OAAGyR,QAAH,IAAGA,OAAH,EAAGA,EAAI7R,WACrB,UAAO+R,EAAP,YAAmBE,EAAnB,SAGV3F,YAAW,WACTuD,YAAY,UAAD,OAAW4B,MACrB,UA9C2C,CAAC,IAAD,EAC1C3I,EAAS,GACT8I,EAAgB,OAClB5X,QADkB,IAClBA,GADkB,UAClBA,EAAMsX,oBADY,aAClB,EAAoBM,iBAElBM,EAAcV,EAASjR,SAAS,KAChCmP,cAActP,IAAKoR,GADL,OAEdpR,UAFc,IAEdA,SAFc,EAEdA,IAAMoR,GAENU,IAEEN,IACc,OAAhBA,QAAgB,IAAhBA,KAAkB7X,KAAI,SAAC8X,EAAIC,GACzB,IAAIC,EAAQ,OAAGF,QAAH,IAAGA,OAAH,EAAGA,EAAIG,UACfC,EAAU,OAAG7R,UAAH,IAAGA,SAAH,EAAGA,IAAG,OAAGyR,QAAH,IAAGA,OAAH,EAAGA,EAAI7R,WAC3B8I,GAAM,UAAOiJ,EAAP,YAAmBE,EAAnB,UAGVC,EAAW,UAAMA,EAAN,YAAqBpJ,EAAO8B,QACrC,KACA,MAGYuH,WAAW,YACvBD,EAAYC,WAAW,YAGvBC,OAAOC,KAAKH,EAAa,SAAU,cAEnChD,SAASgD,QA1F0B,CAAC,IAAD,IAEnCN,EAAgB,OAClB5X,QADkB,IAClBA,GADkB,UAClBA,EAAMsX,oBADY,aAClB,EAAoBM,iBAClBU,EAAY,GACZV,IACc,OAAhBA,QAAgB,IAAhBA,KAAkB7X,KAAI,SAAC8X,EAAIC,GACzB,IAAIC,EAAQ,OAAGF,QAAH,IAAGA,OAAH,EAAGA,EAAIG,UAEfC,EAAaM,8CACfnS,IAD+B,OAE/ByR,QAF+B,IAE/BA,OAF+B,EAE/BA,EAAI7R,WAEA,WAAQ+R,EAAR,YAAoBE,GAC1BK,EAAUE,KAAV,UAAkBT,EAAlB,YAA8BE,QAIlC,IAAIQ,EAAoB,OACtBzY,QADsB,IACtBA,GADsB,UACtBA,EAAMsX,oBADgB,aACtB,EAAoBmB,qBAClBA,IAEkB,OAApBA,QAAoB,IAApBA,KAAsB1Y,KAAI,SAAC8X,EAAIC,GACjB,OAAGD,QAAH,IAAGA,KAAIG,UAAnB,IACIC,EAAaM,8CAAiBnS,IAAKyR,GACjC,WAAQI,GACdK,EAAUE,KAAV,UAAkBP,QAItB,IAAMS,EAAU,OAAGrB,QAAH,IAAGA,OAAH,EAAGA,EAAW9Q,SAAS,KAEnCoS,EAAgBF,EAAD,UAIZpB,GAJY,OAKA,KALA,OAMZiB,EAAUM,KAAK,MANH,UACZvB,GADY,OAEbqB,EAAa,GAAK,KAFL,OAGZJ,EAAUM,KAAK,MAKlBC,EAAgBJ,EAUhBE,EATAA,EACG/H,QAAQ,KAAM,KACdA,QAAQ,MAAO,KACfA,QAAQ,KAAM,KACdA,QAAQ,KAAM,KACdA,QAAQ,KAAM,KACdA,QAAQ,KAAM,KACdA,QAAQ,KAAM,KACdA,QAAQ,KAAM,IAInByG,EAAUc,WAAW,YACrBd,EAAUc,WAAW,YAGrBC,OAAOC,KAAKQ,EAAc,SAAU,cAEpC3D,SAASyD,GAmDb,IAAMG,EAAyB,OAC7B9Y,QAD6B,IAC7BA,OAD6B,EAC7BA,EAAM8Y,0BAER,GAAIA,EAA2B,CAC7B,IAAMC,EAAQ,OAAGD,QAAH,IAAGA,OAAH,EAAGA,EAA2BnB,UACtC5B,EAAUC,SAASC,eAAT,iBACJ8C,IAEZ,GAAIhD,EAAS,CAAC,IAAD,UACLiD,EACJjD,EAAQkD,aAAa,aAEnBnK,EAAS,GACT8I,EAAgB,OAClB5X,QADkB,IAClBA,GADkB,UAClBA,EAAM8Y,iCADY,aAClB,EAAiClB,iBAE/BA,IACc,OAAhBA,QAAgB,IAAhBA,KAAkB7X,KAAI,SAAC8X,EAAIC,GACzB,IAAIC,EAAQ,OAAGF,QAAH,IAAGA,OAAH,EAAGA,EAAIG,UACfC,EAAU,OAAG7R,UAAH,IAAGA,SAAH,EAAGA,IAAG,OAAGyR,QAAH,IAAGA,OAAH,EAAGA,EAAI7R,WAC3B8I,EAAO,GAAD,OAAIiJ,IAAcE,MAI5B,UAAA7C,SAAS8D,eACPF,UADF,mBAEG5H,eAFH,mBAEYlV,YAFZ,mBAEkBid,mBAFlB,SAE+BpZ,KAAI,SAACqZ,EAAGnZ,GAErC,UAAImZ,QAAJ,IAAIA,KAAG1M,SAAU,CAAC,IAAD,EACf,UAAA0M,EAAE1M,gBAAF,SAAY3M,KAAI,SAACsZ,EAAOpZ,GAAW,IAAD,kBAGjB,uCACboZ,QADa,IACbA,OADa,EACbA,EAAOC,gBADM,eAEbD,QAFa,IAEbA,OAFa,EAEbA,EAAOE,cAFM,eAGbF,QAHa,IAGbA,OAHa,EAGbA,EAAOG,cAHM,eAIbH,QAJa,IAIbA,GAJa,UAIbA,EAAO7D,eAJM,aAIb,EAAgBgE,OAKU,2BAC1BH,QAD0B,IAC1BA,OAD0B,EAC1BA,EAAOI,0BADmB,eAE1BJ,QAF0B,IAE1BA,GAF0B,UAE1BA,EAAO7D,eAFmB,aAE1B,EAAgBiE,0BAFU,cAG1BJ,QAH0B,IAG1BA,GAH0B,UAG1BA,EAAOK,gBAHmB,OAG1B,EAAiBD,mBAKZ,OAALJ,QAAK,IAALA,KAAOtb,YAgCN,CAAC,IAAD,kBACC4Z,EAAS,+CACbyB,QADa,IACbA,OADa,EACbA,EAAGE,gBADU,eAEbF,QAFa,IAEbA,OAFa,EAEbA,EAAGG,cAFU,eAGbH,QAHa,IAGbA,OAHa,EAGbA,EAAGI,cAHU,eAIbJ,QAJa,IAIbA,GAJa,UAIbA,EAAG5D,eAJU,aAIb,EAAYgE,cAJC,QAKbvZ,EAGI0Z,EAAsB,2BAC1BP,QAD0B,IAC1BA,OAD0B,EAC1BA,EAAGK,0BADuB,eAE1BL,QAF0B,IAE1BA,GAF0B,UAE1BA,EAAG5D,eAFuB,aAE1B,EAAYiE,0BAFc,eAG1BL,QAH0B,IAG1BA,GAH0B,UAG1BA,EAAGM,gBAHuB,aAG1B,EAAaD,mBAIf,GACc,mBAAX,OAADL,QAAC,IAADA,OAAA,EAAAA,EAAGrb,OACH4Z,IAAcoB,QAIT,GACJ,OAADK,QAAC,IAADA,KAAG5D,SACHuD,IAAaY,EACb,CAAC,IAAD,sBACMC,EAAc,qCAClBR,QADkB,IAClBA,GADkB,UAClBA,EAAG5D,eADe,aAClB,EAAYqE,eADM,eAElBT,QAFkB,IAElBA,GAFkB,UAElBA,EAAGM,gBAFe,aAElB,EAAaG,eAFK,eAGlBT,QAHkB,IAGlBA,OAHkB,EAGlBA,EAAGS,QAHe,YAIhBlC,GAKJ,OACEvC,eADF,IACEA,UADF,UACEA,SAAU0E,gBADZ,iBACE,EAAqBF,UADvB,OACE,EAAsC1d,MAEtCrC,SAASkgB,wEAAUH,IAGrB/f,SACE0L,wEAAY,+VAAD,QAAC,EAAD,OACL6P,eADK,IACLA,UADK,UACLA,SAAU0E,gBADL,iBACL,EAAqBF,UADhB,aACL,EACA9K,cAFK,QAEK,IACXA,GAHM,IAIT5U,UAAW0f,EACXI,aAAY,OAAEZ,QAAF,IAAEA,GAAF,UAAEA,EAAG5D,eAAL,aAAE,EAAYwE,aAC1BH,QAAO,OAAET,QAAF,IAAEA,GAAF,UAAEA,EAAG5D,eAAL,aAAE,EAAYqE,oBAhQvC,SAsSI,6DAAC,4CAAD,YACO,OAAJ7Z,QAAI,IAAJA,OAAA,EAAAA,EAAMhC,OACLic,mFAAU,OAACja,QAAD,IAACA,OAAD,EAACA,EAAMhC,KAAM,eAAgB,KACpC,OAAJgC,QAAI,IAAJA,OAAA,EAAAA,EAAMwE,OACL,oEAAMzJ,UAAU,qBAAhB,SACGtB,EAAC,OAACuG,QAAD,IAACA,OAAD,EAACA,EAAMwE,YA3SnB,UACUiR,iBADV,YAC8BxV,MAgT7B,OAAC4U,eAAD,IAACA,mBAAUqF,cACV,4DAAC,2CAAD,CAEE5N,UAAU,OACVxM,OAAM,UAAK2V,iBAAL,YAAyBxV,GAHjC,SAKO,OAAJD,QAAI,IAAJA,KAAMma,QAAU1gB,EAAC,OAACuG,QAAD,IAACA,OAAD,EAACA,EAAMma,SAAW1gB,EAAC,OAACuG,QAAD,IAACA,OAAD,EAACA,EAAMwE,OAL9C,UACUiR,iBADV,oBACsCxV,MApT1C,UAAkBwV,iBAAlB,qBAA+CxV,OA+TrD,MAEH2B,QAAQM,IAAI,SAAUC,eAAeC,QAAQ,uBAC7C0S,eAAevO,SAAS,WACzB,OAACsO,eAAD,IAACA,mBAAUuF,YA4BP,KA3BF,6DAAC,4CAAD,WACE,6DAAC,2CAAOhO,OAAR,CACEvN,QAASA,QACTlF,GAAE,qBAAgByM,IAAIzM,IACtBoB,UAAS,0CACN8D,QAA8B,GAApB,mBAEbzB,MAAQyB,QAA6B,YAAnB,iBAClBC,QAAS,SAACc,GACRA,EAAE4M,iBACFnI,aAAa+B,IAAIzM,KATrB,WAYIob,UAAY,4DAAC,6CAAD,CAAQ1I,KAAM,MAC1B0I,UAAYC,WACZ,oEAAMja,UAAU,qBAAhB,SAAsCtB,EAAE,iBAG3C,OAACob,eAAD,IAACA,mBAAUqF,cACV,4DAAC,2CAAD,CACE5N,UAAU,OACVxM,OAAM,qBAAgBsG,IAAIzM,IAF5B,SAIGF,EAAE,eAMQ,SAAlBwb,gBACDrT,QAAQM,IAAI,SAAUC,eAAeC,QAAQ,uBAC5C0S,eAAevO,SAAS,WACzB,OAACsO,eAAD,IAACA,mBAAUuF,YAyBP,KAxBF,6DAAC,4CAAD,WACE,6DAAC,2CAAOhO,OAAR,CACEvN,QAASA,QACT9D,UAAS,0CACN8D,QAA8B,GAApB,mBAEbzB,MAAQyB,QAA6B,YAAnB,iBAClBlF,GAAE,mBAAcyM,IAAIzM,IACpBmF,QAAS,SAACc,GACRA,EAAE4M,iBACF1I,WAAWsC,MATf,WAYI2O,UAAY,4DAAC,6CAAD,CAAO1I,KAAM,MACzB0I,UAAYC,WACZ,oEAAMja,UAAU,qBAAhB,SAAsCtB,EAAE,eAG3C,OAACob,eAAD,IAACA,mBAAUqF,cACV,4DAAC,2CAAD,CAAqB5N,UAAU,OAAOxM,OAAM,mBAAcsG,IAAIzM,IAA9D,SACGF,EAAE,cAMS,SAAlBwb,eAA6BH,eAAevO,SAAS,YACtDwQ,wBAAuB,OAAClC,eAAD,IAACA,cAAD,EAACA,SAAUW,QAASpP,MAC1C,OAACyO,eAAD,IAACA,UAAD,2BAACA,SAAUW,eAAX,wBAAC,mBAAmB6E,cACpB,OAACxF,eAAD,IAACA,UAAD,2BAACA,SAAUW,eAAX,sDAAC,mBAAmBtZ,YAApB,0DAAC,sBAAyBoe,mBAA1B,4BAAC,uBAAsCzQ,MACrC,SAAC7J,GAAD,MAAwB,gBAAdA,EAAKjC,SAEjB,OAAC8W,eAAD,IAACA,mBAAUuF,aAyBT,KAxBF,6DAAC,4CAAD,WACE,6DAAC,2CAAOhO,OAAR,CACEvN,QAASA,QACT9D,UAAS,0CACN8D,QAA8B,GAApB,mBAEbzB,MAAQyB,QAA6B,YAAnB,iBAClBlF,GAAE,mBAAcyM,IAAIzM,IACpBmF,QAAS,SAACc,GACRA,EAAE4M,iBACF1I,WAAWsC,IAAK,KAAM,SAT1B,WAYI2O,UAAY,4DAAC,6CAAD,CAAK1I,KAAM,MACvB0I,UAAYC,WACZ,oEAAMja,UAAU,qBAAhB,SAAsCtB,EAAE,eAG3C,OAACob,eAAD,IAACA,mBAAUqF,cACV,4DAAC,2CAAD,CAAqB5N,UAAU,OAAOxM,OAAM,mBAAcsG,IAAIzM,IAA9D,SACGF,EAAE,qBAMVmI,QAAQM,IAAI,OAAQC,eAAeC,QAAQ,uBAC3C0S,eAAevO,SAAS,cACQ,gBAAzB,OAARsO,eAAQ,IAARA,UAAA,2BAAAA,SAAUW,eAAV,iDAAmB+E,YACnB,OAAC1F,eAAD,IAACA,mBAAUuF,YAgCP,KA/BF,6DAAC,4CAAD,WACE,6DAAC,2CAAOhO,OAAR,CACEvN,QAASA,QACTlF,GAAE,wBAAmByM,IAAIzM,IACzBoB,UAAS,oCACN8D,QAA8B,GAApB,mBAEbzB,MAAQyB,QAA6B,YAAnB,iBAClBC,QAAS,SAACc,GAAO,IAAD,IACdA,EAAE4M,iBACF1I,WAAW,KAAD,yIACP+Q,eADO,IACPA,UADO,UACPA,SAAUW,eADH,aACP,EAAmBgF,0BADZ,QACkC,YADlC,OACgDpU,UADhD,IACgDA,SADhD,EACgDA,IAAKzM,MAVnE,WAcIob,UAAY,4DAAC,6CAAD,CAAiB1I,KAAM,MAGnC0I,UAAYC,WACZ,oEAAMja,UAAU,qBAAhB,SAAsCtB,EAAE,oBAG3C,OAACob,eAAD,IAACA,mBAAUqF,cACV,4DAAC,2CAAD,CACE5N,UAAU,OACVxM,OAAM,wBAAmBsG,IAAIzM,IAF/B,SAIGF,EAAE,sBAgCFmb,0C,kGCnoBA6F,IAnDK,SAACtZ,GACnB,IAAQ1H,EAAMC,cAAND,EAEAyC,EAA8BiF,EAA9BjF,KAAMsD,EAAwB2B,EAAxB3B,MAAOkb,EAAiBvZ,EAAjBuZ,GAAIC,EAAaxZ,EAAbwZ,SAqBzB,OACE,qBACE5f,UAAS,6CACP2f,GAAa,IAAPA,EAAN,aAAuBA,GAAO,QAFlC,SAKE,sBAAK3f,UAAU,sBAAf,UACE,sBAAKA,UAAU,SAAf,UACGyE,EACC,oBAAIzE,UAAU,wCAAd,SAAuDyE,IAEvD,GAEF,qBAAKzE,UAAU,6DAAf,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAgB6R,IAAI,KAApB,SACE,cAAC,IAAD,CAAMgO,GAAG,IAAT,SAAcnhB,EAAE,YAlCrByC,EAAK6D,KAAI,SAACC,EAAMC,GACrB,IAAM4a,EAAU7a,EAAK8a,KAAOC,IAAOC,WAC7BC,EAAa/e,EAAK4B,OAAS,IAAMmC,EACvC,OACE,cAAC,IAAD,CACE2M,IAAI,KAEJsO,QAASD,EACTlgB,UAAWgS,IAAW,CAAE,gBAAiBkO,IAJ3C,SAME,cAACJ,EAAD,2BAAc7a,EAAK8a,KAAO,CAAEF,GAAI5a,EAAK8a,MAAS,IAA9C,aACG9a,EAAKR,UALHS,cAkCP,qBAAKlF,UAAU,SAAf,gBAAyB4f,QAAzB,IAAyBA,IAAY,Y,wKC7DlCQ,EAAmBC,gBAAK,SAA0BC,GAC3D,IAAIC,EAAUD,EAAKC,QACfpP,EAAMmP,EAAKnP,IAkBf,OAjBAhN,qBAAU,WACR,GAAqB,qBAAVqc,MAAX,CACA,IAAIC,GAAY,EACZC,EAAM,IAAIF,MAQd,OAPAE,EAAIvP,IAAMA,EAEVuP,EAAIC,OAAS,WACXJ,EAAQG,GACRD,GAAY,GAGP,WACDA,GACFF,EAAQ,WAIP,S,yFC2FMK,IA5GS,SAAC,GAelB,IAdL3d,EAcI,EAdJA,KACAZ,EAaI,EAbJA,MACAwe,EAYI,EAZJA,UACAC,EAWI,EAXJA,MACAxb,EAUI,EAVJA,YACAH,EASI,EATJA,UACAnF,EAQI,EARJA,UACA+gB,EAOI,EAPJA,eAOI,IANJC,sBAMI,MANa,GAMb,MALJC,kBAKI,MALS,GAKT,EAJJC,EAII,EAJJA,YAII,IAHJC,kBAGI,aAFJC,iBAEI,MAFQ,GAER,MADJC,kBACI,SACEC,EAAgBH,EAAD,aAA8CN,GAA9C,mBAA0BA,GAC/C,OACE,cAAC,IAAD,yBACE1e,MAAK,eAAOif,IACPP,EAAY,CAAE7gB,UAAWshB,EAAcC,SAAS,GAAS,IAFhE,aAIE,cAAC,IAAD,CAAUvhB,UAAWA,EAArB,SACIqhB,EAuCA,eAAC,WAAD,WACE,8BACE,mBAAGlf,MAAK,eAAO8e,GAAcjhB,UAAU,YAAvC,SACGmF,MAGL,qBAAKnF,UAAU,oDAAf,SACGsF,GAGC,eAAC,WAAD,WACE,8BACGA,GAGC,oBACEtF,UAAWgS,IAAW,YAAD,aACnB,QAASkP,GACRA,EAAcA,IAEjB/e,MAAK,aACHE,MAAK,OAAE0e,QAAF,IAAEA,IAAkB,WACtBC,GAPP,SAUGF,MAIP,qBACE9gB,UAAS,uCACPqC,EAAK,mBAAeA,GAAU,oBAFlC,SAKE,qBAAKrC,UAAU,iBAAf,SAAiCiD,cAxE3C,qBAAKjD,UAAU,oDAAf,SACGsF,GAGC,eAAC,WAAD,WACE,gCACGA,GAGC,oBACEtF,UAAWgS,IAAW,YAAD,aACnB,QAASkP,GACRA,EAAcA,IAEjB/e,MAAK,aACHE,MAAK,OAAE0e,QAAF,IAAEA,IAAkB,WACtBC,GAPP,SAUGF,IAIL,mBAAG3e,MAAK,eAAO8e,GAAcjhB,UAAU,YAAvC,SACGmF,OAGL,qBACEnF,UAAS,uCACPqC,EAAK,mBAAeA,GAAU,oBAFlC,SAKE,qBAAKrC,UAAU,iBAAf,SAAiCiD,kB,0CRhEnCue,EACdC,EACAC,EACAC,EACAC,G,IAEIC,EAAgBF,EAChBA,WADuB,QAEvB,E,QACkB,IAAlBE,E,QACF,E,GAGEJ,IAAJ,E,OACE,E,GAGkB,kBAATA,IAAP,qBAA4CC,IAAhD,E,OACE,E,IAGEI,EAAQ3hB,YAAZ,GACI4hB,EAAQ5hB,YAAZ,G,GAEI2hB,WAAiBC,EAArB,O,OACE,E,QAGEC,EAAkB7hB,qCAAtB,GAGS4c,EAAT,EAAkBA,EAAM+E,EAAxB,OAAsC/E,IAAO,C,IACvCvc,EAAMshB,EAAV,G,IAEKE,EAAL,G,OACE,E,IAGEC,EAAUR,EAAd,GACIS,EAAUR,EAAd,G,IAOEG,KALFA,EAAgBF,EACZA,aADmB,QAEnB,SAIiB,IAAlBE,GAA4BI,IAF/B,E,OAIE,E,OAIJ,E,oESrDF,6CAKWE,EAAaC,wBAAc,CACpCC,qBAAiBjL,K,oBCNnB,IAAIkL,EAAmB,EAAQ,KAI/BrM,EAAOC,QAHP,SAA4BqM,GAC1B,GAAIvT,MAAM4K,QAAQ2I,GAAM,OAAOD,EAAiBC,IAEbtM,EAAOC,QAAQsM,YAAa,EAAMvM,EAAOC,QAAiB,QAAID,EAAOC,S,kBCD1GD,EAAOC,QAHP,SAA0BuM,GACxB,GAAsB,qBAAXrK,QAAmD,MAAzBqK,EAAKrK,OAAOC,WAA2C,MAAtBoK,EAAK,cAAuB,OAAOzT,MAAM0T,KAAKD,IAEnFxM,EAAOC,QAAQsM,YAAa,EAAMvM,EAAOC,QAAiB,QAAID,EAAOC,S,kBCAxGD,EAAOC,QAHP,WACE,MAAM,IAAIc,UAAU,yIAEef,EAAOC,QAAQsM,YAAa,EAAMvM,EAAOC,QAAiB,QAAID,EAAOC,S,kCCH1G,kFAAIyM,EAAY,CAAC,YAEjB,SAASC,EAAeL,EAAKM,GAAK,OAUlC,SAAyBN,GAAO,GAAIvT,MAAM4K,QAAQ2I,GAAM,OAAOA,EAVtBO,CAAgBP,IAQzD,SAA+BA,EAAKM,GAAK,IAAIE,EAAY,MAAPR,EAAc,KAAyB,qBAAXnK,QAA0BmK,EAAInK,OAAOC,WAAakK,EAAI,cAAe,GAAU,MAANQ,EAAY,OAAQ,IAAkDC,EAAIC,EAAlDC,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAmB,IAAM,IAAKL,EAAKA,EAAGtN,KAAK8M,KAAQY,GAAMH,EAAKD,EAAGM,QAAQC,QAAoBJ,EAAKzF,KAAKuF,EAAGre,QAAYke,GAAKK,EAAKngB,SAAW8f,GAA3DM,GAAK,IAAoE,MAAOI,GAAOH,GAAK,EAAMH,EAAKM,EAApK,QAAqL,IAAWJ,GAAsB,MAAhBJ,EAAE,QAAoBA,EAAE,SAAzC,QAAmE,GAAIK,EAAI,MAAMH,GAAQ,OAAOC,EARzbM,CAAsBjB,EAAKM,IAI5F,SAAqCY,EAAGC,GAAU,IAAKD,EAAG,OAAQ,GAAiB,kBAANA,EAAgB,OAAOE,EAAkBF,EAAGC,GAAS,IAAIE,EAAIzjB,OAAO2U,UAAUC,SAASU,KAAKgO,GAAGzN,MAAM,GAAI,GAAc,WAAN4N,GAAkBH,EAAEnL,cAAasL,EAAIH,EAAEnL,YAAY5U,MAAM,GAAU,QAANkgB,GAAqB,QAANA,EAAa,OAAO5U,MAAM0T,KAAKe,GAAI,GAAU,cAANG,GAAqB,2CAA2C7N,KAAK6N,GAAI,OAAOD,EAAkBF,EAAGC,GAJpTG,CAA4BtB,EAAKM,IAEnI,WAA8B,MAAM,IAAI7L,UAAU,6IAFuF8M,GAMzI,SAASH,EAAkBpB,EAAKwB,IAAkB,MAAPA,GAAeA,EAAMxB,EAAIxf,UAAQghB,EAAMxB,EAAIxf,QAAQ,IAAK,IAAI8f,EAAI,EAAGmB,EAAO,IAAIhV,MAAM+U,GAAMlB,EAAIkB,EAAKlB,IAAOmB,EAAKnB,GAAKN,EAAIM,GAAM,OAAOmB,EAMhL,SAASC,EAAyBC,EAAQC,GAAY,GAAc,MAAVD,EAAgB,MAAO,GAAI,IAAkE1jB,EAAKqiB,EAAnE9d,EAEzF,SAAuCmf,EAAQC,GAAY,GAAc,MAAVD,EAAgB,MAAO,GAAI,IAA2D1jB,EAAKqiB,EAA5D9d,EAAS,GAAQqf,EAAajkB,OAAOC,KAAK8jB,GAAqB,IAAKrB,EAAI,EAAGA,EAAIuB,EAAWrhB,OAAQ8f,IAAOriB,EAAM4jB,EAAWvB,GAAQsB,EAAS3T,QAAQhQ,IAAQ,IAAauE,EAAOvE,GAAO0jB,EAAO1jB,IAAQ,OAAOuE,EAFxMsf,CAA8BH,EAAQC,GAAuB,GAAIhkB,OAAOmkB,sBAAuB,CAAE,IAAIC,EAAmBpkB,OAAOmkB,sBAAsBJ,GAAS,IAAKrB,EAAI,EAAGA,EAAI0B,EAAiBxhB,OAAQ8f,IAAOriB,EAAM+jB,EAAiB1B,GAAQsB,EAAS3T,QAAQhQ,IAAQ,GAAkBL,OAAO2U,UAAU0P,qBAAqB/O,KAAKyO,EAAQ1jB,KAAgBuE,EAAOvE,GAAO0jB,EAAO1jB,IAAU,OAAOuE,EAQne,IAAI0f,EAAW,EACXC,EAAetM,OAAO5U,IAAI,kCAKnBmhB,EAActE,gBAAK,SAAqBC,GACjD,IAAI3O,EAAW2O,EAAK3O,SAGhBiT,EA8BN,SAA4Bxe,GAC1B,GAAI,YAAaA,EAAO,CAItB,MAAO,CAHQ,CACbic,gBAAiBjc,EAAMye,UAEP,GAGpB,IAAIA,EAKN,SAAmCC,GACjC,IAAIC,EAAUhN,UAAUhV,OAAS,QAAsBqU,IAAjBW,UAAU,GAAmBA,UAAU,GAAKiN,IAC9E3O,EAAU0B,UAAUhV,OAAS,EAAIgV,UAAU,QAAKX,EAChD6N,EAAYlN,UAAUhV,OAAS,EAAIgV,UAAU,QAAKX,EAClD8N,EAAMH,EAELG,EAAIR,KACPQ,EAAIR,GAAgB,CAClBrC,gBAAiB8C,YAAsBL,EAASC,EAAS1O,EAAS4O,KAItE,OAAOC,EAAIR,GAjBGU,CAA0Bhf,EAAM0e,QAAS1e,EAAM2e,QAAS3e,EAAMiQ,QAASjQ,EAAM6e,WACvFI,GAAoBjf,EAAM2e,QAC9B,MAAO,CAACF,EAASQ,GAxCSC,CAFdrB,EAAyB3D,EAAMqC,IAGvC4C,EAAuB3C,EAAegC,EAAqB,GAC3DC,EAAUU,EAAqB,GAC/BF,EAAmBE,EAAqB,GAoB5C,OAXAphB,qBAAU,WACR,GAAIkhB,EAAkB,CACpB,IAAIN,EAAUC,IAEd,QADEP,EACK,WACc,MAAbA,IACJM,EAAQL,GAAgB,UAI7B,IACIc,cAAKrD,IAAWsD,SAAUtlB,OAAOulB,OAAO,CAC7C/gB,MAAOkgB,GACN,CACDlT,SAAUA,SACR,MA+BN,SAASqT,IACP,MAAyB,qBAAXxQ,EAAyBA,EAAS6I,U,2ICzFQ,MAAsB,EAAtB,KAE7CsI,E,WAwBZ,aAAqB,qBAvBrB,KAAQC,MALT,GAQC,KAAQC,cART,GAYC,KAAQC,UAZT,EAsBC,KAAQ5gB,MAtBT,EA0BC,KAAQ6gB,SA1BT,KAyEC,KAAQ7N,MAAQ,WAEf,IADA,IAAe8N,EAAM,EAAbJ,MACD,EAAK1gB,MAAQ8gB,EAAEjjB,QAAQ,CAC7B,IAAMkjB,EAAe,EAAK/gB,MAU1B,GAPA,EAAKA,QACL8gB,EAAEC,GAAexQ,OAMb,EAAKvQ,MAAQ,EAAK6gB,SAAU,CAG/B,IACC,IAAIG,EAAO,EAAGC,EAAYH,EAAEjjB,OAAS,EAAKmC,MAC1CghB,EAAOC,EACPD,IAEAF,EAAEE,GAAQF,EAAEE,EAAO,EAAKhhB,OAEzB8gB,EAAEjjB,QAAU,EAAKmC,MACjB,EAAKA,MAAQ,GAGf8gB,EAAEjjB,OAAS,EACX,EAAKmC,MAAQ,EACb,EAAK4gB,UAAW,GAMjB,KAAOM,qBAAuB,SAAC7C,GAC9B,EAAKsC,cAAcpI,KAAK8F,GACxB,EAAK8C,qBAxELhT,KAAKiT,aAAeC,EAAe,gBAAClT,KAAK6E,OACzC7E,KAAKgT,kBAAoBG,EAAwB,0BAAC,WAEjD,GAAI,EAAKX,cAAc9iB,OACtB,MAAM,EAAK8iB,cAAcY,W,qCAerBC,SAAYC,GAClB,IAAeX,EAAoB3S,KAA3BuS,MAAUU,EAAiBjT,KAAjBiT,aACbN,EAAEjjB,SACNujB,IACAjT,KAAKyS,UAAW,GAGjBE,EAAEA,EAAEjjB,QAAU4jB,M,OA5DHhB,a,wHCHW,MAAc,EAAd,KAEXiB,E,WAGZ,WAA2BC,GAA6B,U,KAA7BA,U,KAFnBC,UAAuB,G,gCAIxBC,SAAOJ,GACb,IAAMK,EAAQ3T,KAAKyT,UACbpoB,EAAIsoB,EAAMjkB,OACZikB,EAAMnM,MACP,IAAIoM,EAAO,QAAC5T,KAAKwT,SAAS,SAACnoB,GAAD,OAAQsoB,EAAMA,EAAMjkB,QAAUrE,KAE3D,OADAA,EAAEioB,KAAOA,EACFjoB,M,OAXIkoB,e,iCCHb,sDAGA,SAASM,EAAiClM,GAGxC,GAA4B,kBAAjBA,EAAQhY,KAAnB,CAIA,IAAImkB,EAAcnM,EAAQhY,KAAKmkB,aAAenM,EAAQhY,KAAKU,MAAQ,gBACnE,MAAM,IAAI0jB,MAAM,uEAAyE,uBAAuBC,OAAOF,EAAa,qCAAuC,yCA8BtK,SAASG,EAAmBC,GACjC,IAAIC,EAAe,GAcnB,OAbArnB,OAAOC,KAAKmnB,GAAOvT,SAAQ,SAAUxT,GACnC,IAAIinB,EAAOF,EAAM/mB,GAEjB,GAAIA,EAAIknB,SAAS,OACfF,EAAahnB,GAAO+mB,EAAM/mB,OACrB,CACL,IAAImnB,EAnCV,SAAoCF,GAClC,OAAO,WACL,IAAIG,EAAgB7P,UAAUhV,OAAS,QAAsBqU,IAAjBW,UAAU,GAAmBA,UAAU,GAAK,KACpF1B,EAAU0B,UAAUhV,OAAS,QAAsBqU,IAAjBW,UAAU,GAAmBA,UAAU,GAAK,KAGlF,IAAK8P,yBAAeD,GAAgB,CAClC,IAAIvX,EAAOuX,EAIX,OAHAH,EAAKpX,EAAMgG,GAGJhG,EAMT,IAAI2K,EAAU4M,EACdV,EAAiClM,GAEjC,IAAI3U,EAAMgQ,EAAU,SAAUhG,GAC5B,OAAOoX,EAAKpX,EAAMgG,IAChBoR,EACJ,OAAOK,EAAa9M,EAAS3U,IAYT0hB,CAA2BN,GAE7CD,EAAahnB,GAAO,WAClB,OAAOmnB,OAINH,EAGT,SAASQ,EAAO3hB,EAAKgK,GACA,oBAARhK,EACTA,EAAIgK,GAEJhK,EAAIqS,QAAUrI,EAIlB,SAASyX,EAAa9M,EAASiN,GAC7B,IAAIC,EAAclN,EAAQ3U,IAG1B,OAFA8L,YAAiC,kBAAhB+V,EAA0B,mOAEtCA,EAMIC,uBAAanN,EAAS,CAC3B3U,IAAK,SAAagK,GAChB2X,EAAOE,EAAa7X,GACpB2X,EAAOC,EAAQ5X,MAPZ8X,uBAAanN,EAAS,CAC3B3U,IAAK4hB,M,iCC1EX,SAAS9P,EAAQ5X,GAAmV,OAAtO4X,EAArD,oBAAXC,QAAoD,kBAApBA,OAAOC,SAAmC,SAAiB9X,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,oBAAX6X,QAAyB7X,EAAI+X,cAAgBF,QAAU7X,IAAQ6X,OAAOtD,UAAY,gBAAkBvU,GAAiB4X,EAAQ5X,GAE5W,SAAS6nB,EAAM7nB,GACpB,OACU,OAARA,GAAiC,WAAjB4X,EAAQ5X,IAAqBJ,OAAO2U,UAAUuT,eAAe5S,KAAKlV,EAAK,WAJ3F,mC,8kBCAA,SAAS4X,EAAQ5X,GAAmV,OAAtO4X,EAArD,oBAAXC,QAAoD,kBAApBA,OAAOC,SAAmC,SAAiB9X,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,oBAAX6X,QAAyB7X,EAAI+X,cAAgBF,QAAU7X,IAAQ6X,OAAOtD,UAAY,gBAAkBvU,GAAiB4X,EAAQ5X,GAEnX,SAAS+nB,EAAgBC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIxR,UAAU,qCAEhH,SAASyR,EAAkB1jB,EAAQqB,GAAS,IAAK,IAAIyc,EAAI,EAAGA,EAAIzc,EAAMrD,OAAQ8f,IAAK,CAAE,IAAI6F,EAAatiB,EAAMyc,GAAI6F,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAM1oB,OAAO2oB,eAAe/jB,EAAQ2jB,EAAWloB,IAAKkoB,IAE7S,SAASK,EAAaP,EAAaQ,EAAYC,GAAmJ,OAAhID,GAAYP,EAAkBD,EAAY1T,UAAWkU,GAAiBC,GAAaR,EAAkBD,EAAaS,GAAqBT,EAEzM,SAASU,EAAUC,EAAUC,GAAc,GAA0B,oBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIpS,UAAU,sDAAyDmS,EAASrU,UAAY3U,OAAO4mB,OAAOqC,GAAcA,EAAWtU,UAAW,CAAEwD,YAAa,CAAE3T,MAAOwkB,EAAUN,UAAU,EAAMD,cAAc,KAAeQ,GAAYC,EAAgBF,EAAUC,GAEnX,SAASC,EAAgB5F,EAAG6F,GAA+G,OAA1GD,EAAkBlpB,OAAOopB,gBAAkB,SAAyB9F,EAAG6F,GAAsB,OAAjB7F,EAAE+F,UAAYF,EAAU7F,GAAa4F,EAAgB5F,EAAG6F,GAErK,SAASG,EAAaC,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,qBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,oBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQlV,UAAUc,QAAQH,KAAKmU,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOnlB,GAAK,OAAO,GAN9PolB,GAA6B,OAAO,WAAkC,IAAsCxT,EAAlCyT,EAAQC,EAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAYD,EAAgB9W,MAAMiF,YAAa7B,EAASmT,QAAQC,UAAUK,EAAOnS,UAAWqS,QAAqB3T,EAASyT,EAAM7S,MAAMhE,KAAM0E,WAAc,OAAOsS,EAA2BhX,KAAMoD,IAE5Z,SAAS4T,EAA2B3V,EAAMe,GAAQ,GAAIA,IAA2B,WAAlB0C,EAAQ1C,IAAsC,oBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAIuB,UAAU,4DAA+D,OAAOsT,EAAuB5V,GAExR,SAAS4V,EAAuB5V,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAI6V,eAAe,6DAAgE,OAAO7V,EAI/J,SAASyV,EAAgB1G,GAAwJ,OAAnJ0G,EAAkBhqB,OAAOopB,eAAiBppB,OAAOqZ,eAAiB,SAAyBiK,GAAK,OAAOA,EAAE+F,WAAarpB,OAAOqZ,eAAeiK,IAAc0G,EAAgB1G,GAExM,SAAS+G,EAAgBjqB,EAAKC,EAAKmE,GAAiK,OAApJnE,KAAOD,EAAOJ,OAAO2oB,eAAevoB,EAAKC,EAAK,CAAEmE,MAAOA,EAAOgkB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBtoB,EAAIC,GAAOmE,EAAgBpE,EAcpM,SAASkqB,EAAUC,GACxB,IAAIrU,EAAU0B,UAAUhV,OAAS,QAAsBqU,IAAjBW,UAAU,GAAmBA,UAAU,GAAK,GAIlF,OAHAmB,YAAwB,YAAa,qBAAsBwR,EAASrU,GACpElE,YAA6B,oBAAZuY,EAAwB,qIAAsI,4FAA6FA,GAC5QvY,YAAUoH,YAAclD,GAAU,iMAAuMA,GAClO,SAAuBsU,GAC5B,IAAIC,EAAYD,EACZE,EAAwBxU,EAAQyU,cAChCA,OAA0C,IAA1BD,EAAmCrJ,IAAeqJ,EAClE1D,EAAcyD,EAAUzD,aAAeyD,EAAUlnB,MAAQ,YAEzDqnB,EAAkC,SAAUC,GAC9C9B,EAAU6B,EAAoBC,GAE9B,IAAIC,EAASxB,EAAasB,GAE1B,SAASA,IACP,IAAIG,EAEJ5C,EAAgBjV,KAAM0X,GAEtB,IAAK,IAAII,EAAOpT,UAAUhV,OAAQsP,EAAO,IAAIrD,MAAMmc,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/E/Y,EAAK+Y,GAAQrT,UAAUqT,GA2BzB,OAtBAZ,EAAgBF,EAFhBY,EAAQD,EAAOxV,KAAK4B,MAAM4T,EAAQ,CAAC5X,MAAMgU,OAAOhV,KAED,eAAW,GAE1DmY,EAAgBF,EAAuBY,GAAQ,sBAAsB,GAErEV,EAAgBF,EAAuBY,GAAQ,mCAA+B,GAE9EV,EAAgBF,EAAuBY,GAAQ,kCAA8B,GAE7EV,EAAgBF,EAAuBY,GAAQ,MAAOG,uBAEtDb,EAAgBF,EAAuBY,GAAQ,gBAAgB,WAC7D,GAAKA,EAAMI,mBAAX,CAIA,IAAIC,EAAYL,EAAMM,kBAEjBhK,YAAa+J,EAAWL,EAAMhsB,QACjCgsB,EAAMO,SAASF,OAIZL,EAsFT,OAnFAnC,EAAagC,EAAoB,CAAC,CAChCvqB,IAAK,gCACLmE,MAAO,WAEL,OADAwN,YAAUkB,KAAKhN,IAAIqS,QAAS,4HACrBrF,KAAKhN,IAAIqS,UAEjB,CACDlY,IAAK,wBACLmE,MAAO,SAA+B+mB,EAAWH,GAC/C,OAAQT,EAAcY,EAAWrY,KAAKjN,SAAWob,YAAa+J,EAAWlY,KAAKnU,SAE/E,CACDsB,IAAK,oBACLmE,MAAO,WACL0O,KAAKiY,oBAAqB,EAC1BjY,KAAKsY,iBAEN,CACDnrB,IAAK,uBACLmE,MAAO,WACL0O,KAAKiY,oBAAqB,EAEtBjY,KAAKuY,8BACPvY,KAAKuY,8BACLvY,KAAKuY,iCAA8BxU,GAGjC/D,KAAKwY,6BACPxY,KAAKwY,6BACLxY,KAAKwY,gCAA6BzU,KAGrC,CACD5W,IAAK,SACLmE,MAAO,WACL,IAAImnB,EAASzY,KAEb,OAAOmS,cAAKrD,IAAW4J,SAAU,CAC/Bpa,SAAU,SAAkB2O,GAC1B,IAAI+B,EAAkB/B,EAAK+B,gBAE3B,YAAwBjL,IAApBiL,EACK,MAGTyJ,EAAOE,uBAAuB3J,GAGzByJ,EAAOR,mBAIL9F,cAAKoF,EAAWzqB,OAAOulB,OAAO,GAAIoG,EAAO1lB,MAAO0lB,EAAO5sB,MAAO,CACnEmH,IAAKuS,YAAUgS,GAAakB,EAAOzlB,IAAM,YACvC,GALK,aAOV,KAEJ,CACD7F,IAAK,yBACLmE,MAAO,SAAgC0d,GACrC,QAAqBjL,IAAjB/D,KAAKwR,QAAT,CAIAxR,KAAKwR,QAAUxC,EACflQ,YAAuC,WAA7BgG,EAAQkK,GAA+B,uQAAkR8E,EAAaA,GAChV,IAAI8E,EAAU5Y,KAAKwR,QAAQqH,aAC3B7Y,KAAKuY,4BAA8BK,EAAQE,wBAAwB9Y,KAAKsY,cACxEtY,KAAKwY,2BAA6BI,EAAQG,uBAAuB/Y,KAAKsY,iBAEvE,CACDnrB,IAAK,kBACLmE,MAAO,WACL,IAAK0O,KAAKwR,QACR,MAAO,GAGT,IAAIoH,EAAU5Y,KAAKwR,QAAQqH,aAC3B,OAAOxB,EAAQuB,EAAS5Y,KAAKjN,WAI1B2kB,EA5H6B,CA6HpCjS,aAMF,OAJA0R,EAAgBO,EAAoB,cAAe,aAAa1D,OAAOF,EAAa,MAEpFqD,EAAgBO,EAAoB,qBAAsBJ,GAEnD0B,IAAatB,EAAoBJ,I,aChLjC2B,EAA8C,qBAAXjP,OAAyBkP,kBAAkBpoB,YCFzF,SAASgU,EAAQ5X,GAAmV,OAAtO4X,EAArD,oBAAXC,QAAoD,kBAApBA,OAAOC,SAAmC,SAAiB9X,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,oBAAX6X,QAAyB7X,EAAI+X,cAAgBF,QAAU7X,IAAQ6X,OAAOtD,UAAY,gBAAkBvU,GAAiB4X,EAAQ5X,GAInX,SAASkoB,EAAkB1jB,EAAQqB,GAAS,IAAK,IAAIyc,EAAI,EAAGA,EAAIzc,EAAMrD,OAAQ8f,IAAK,CAAE,IAAI6F,EAAatiB,EAAMyc,GAAI6F,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAM1oB,OAAO2oB,eAAe/jB,EAAQ2jB,EAAWloB,IAAKkoB,IAI7S,SAAS8B,EAAgBjqB,EAAKC,EAAKmE,GAAiK,OAApJnE,KAAOD,EAAOJ,OAAO2oB,eAAevoB,EAAKC,EAAK,CAAEmE,MAAOA,EAAOgkB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBtoB,EAAIC,GAAOmE,EAAgBpE,EAEpM,IAAIisB,EAA8B,WACvC,SAASA,EAAeC,EAAMR,EAASS,IATzC,SAAyBnE,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIxR,UAAU,qCAU5GsR,CAAgBjV,KAAMmZ,GAEtBhC,EAAgBnX,KAAM,YAAQ,GAE9BmX,EAAgBnX,KAAM,eAAW,GAEjCmX,EAAgBnX,KAAM,iBAAa,GAEnCA,KAAKoZ,KAAOA,EACZpZ,KAAK4Y,QAAUA,EACf5Y,KAAKqZ,UAAYA,EAhBrB,IAAsBlE,EAAaQ,EAAYC,EA4E7C,OA5EoBT,EAmBPgE,GAnBoBxD,EAmBJ,CAAC,CAC5BxoB,IAAK,YACLmE,MAAO,WACL,IAAIgoB,EAEAF,EAAOpZ,KAAKoZ,KACZR,EAAU5Y,KAAK4Y,QAWnB,OAA8B,QAAtBU,EARmB,WAAvBxU,EAAQsU,EAAKxnB,MACNwnB,EAAKxnB,KACgB,oBAAdwnB,EAAKxnB,KACZwnB,EAAKxnB,KAAKgnB,GAEV,UAGuC,IAAZU,EAAqBA,EAAU,OAEtE,CACDnsB,IAAK,UACLmE,MAAO,WACL,IAAI8nB,EAAOpZ,KAAKoZ,KACZR,EAAU5Y,KAAK4Y,QAEnB,MAA4B,mBAAjBQ,EAAKtc,QACPsc,EAAKtc,QACqB,oBAAjBsc,EAAKtc,SACdsc,EAAKtc,QAAQ8b,KAKvB,CACDzrB,IAAK,aACLmE,MAAO,SAAoBioB,EAAe7nB,GACxC,IAAI0nB,EAAOpZ,KAAKoZ,KACZR,EAAU5Y,KAAK4Y,QACfY,EAAaJ,EAAKI,WACtB,OAAOA,EAAaA,EAAWZ,GAAWlnB,IAAW6nB,EAAcE,gBAEpE,CACDtsB,IAAK,UACLmE,MAAO,WACL,IAAI8nB,EAAOpZ,KAAKoZ,KACZR,EAAU5Y,KAAK4Y,QACfS,EAAYrZ,KAAKqZ,UACjBK,EAAMN,EAAKM,IAEXA,GACFA,EAAId,EAAQ5kB,UAAW4kB,GAGzBS,EAAUM,iBAxE8DvE,EAAkBD,EAAY1T,UAAWkU,GAAiBC,GAAaR,EAAkBD,EAAaS,GA4E3KuD,EAxEgC,GCHlC,SAASS,IACd,IACI5K,EADchjB,qBAAW8iB,KACKE,gBAGlC,OADAlQ,YAA6B,MAAnBkQ,EAAyB,8BAC5BA,ECZT,SAASO,EAAeL,EAAKM,GAAK,OAUlC,SAAyBN,GAAO,GAAIvT,MAAM4K,QAAQ2I,GAAM,OAAOA,EAVtBO,CAAgBP,IAQzD,SAA+BA,EAAKM,GAAK,IAAIE,EAAY,MAAPR,EAAc,KAAyB,qBAAXnK,QAA0BmK,EAAInK,OAAOC,WAAakK,EAAI,cAAe,GAAU,MAANQ,EAAY,OAAQ,IAAkDC,EAAIC,EAAlDC,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAmB,IAAM,IAAKL,EAAKA,EAAGtN,KAAK8M,KAAQY,GAAMH,EAAKD,EAAGM,QAAQC,QAAoBJ,EAAKzF,KAAKuF,EAAGre,QAAYke,GAAKK,EAAKngB,SAAW8f,GAA3DM,GAAK,IAAoE,MAAOI,GAAOH,GAAK,EAAMH,EAAKM,EAApK,QAAqL,IAAWJ,GAAsB,MAAhBJ,EAAE,QAAoBA,EAAE,SAAzC,QAAmE,GAAIK,EAAI,MAAMH,GAAQ,OAAOC,EARzbM,CAAsBjB,EAAKM,IAI5F,SAAqCY,EAAGC,GAAU,IAAKD,EAAG,OAAQ,GAAiB,kBAANA,EAAgB,OAAOE,EAAkBF,EAAGC,GAAS,IAAIE,EAAIzjB,OAAO2U,UAAUC,SAASU,KAAKgO,GAAGzN,MAAM,GAAI,GAAc,WAAN4N,GAAkBH,EAAEnL,cAAasL,EAAIH,EAAEnL,YAAY5U,MAAM,GAAU,QAANkgB,GAAqB,QAANA,EAAa,OAAO5U,MAAM0T,KAAKe,GAAI,GAAU,cAANG,GAAqB,2CAA2C7N,KAAK6N,GAAI,OAAOD,EAAkBF,EAAGC,GAJpTG,CAA4BtB,EAAKM,IAEnI,WAA8B,MAAM,IAAI7L,UAAU,6IAFuF8M,GAMzI,SAASH,EAAkBpB,EAAKwB,IAAkB,MAAPA,GAAeA,EAAMxB,EAAIxf,UAAQghB,EAAMxB,EAAIxf,QAAQ,IAAK,IAAI8f,EAAI,EAAGmB,EAAO,IAAIhV,MAAM+U,GAAMlB,EAAIkB,EAAKlB,IAAOmB,EAAKnB,GAAKN,EAAIM,GAAM,OAAOmB,EAWzK,SAASkJ,EAAwBT,EAAMR,EAASS,GACrD,IAAI7H,EAAUoI,IACVE,ECjBC,SAAuBV,EAAMR,EAASS,GAC3C,IAAIS,EAAUjhB,mBAAQ,WACpB,OAAO,IAAIsgB,EAAeC,EAAMR,EAASS,KACxC,CAACT,EAASS,IAIb,OAHAvoB,qBAAU,WACRgpB,EAAQV,KAAOA,IACd,CAACA,IACGU,EDUOC,CAAcX,EAAMR,EAASS,GACvCW,EElBC,SAAqBZ,GAC1B,OAAOvgB,mBAAQ,WACb,IAAIuK,EAASgW,EAAKzpB,KAElB,OADAmP,YAAoB,MAAVsE,EAAgB,6BACnBA,IACN,CAACgW,IFaWa,CAAYb,GAC3BH,GAA0B,WACxB,GAAgB,MAAZe,EAAkB,CACpB,IACIE,EAAmB3K,EADD4K,YAAeH,EAAUF,EAAStI,GACD,GACnD4I,EAAYF,EAAiB,GAC7BG,EAAaH,EAAiB,GAIlC,OAFAtB,EAAQ0B,iBAAiBF,GACzBf,EAAUiB,iBAAiBF,GACpBC,KAER,CAAC7I,EAASoH,EAASS,EAAWS,EAASE,IGhC5C,SAASO,EAAmBrL,GAAO,OAQnC,SAA4BA,GAAO,GAAIvT,MAAM4K,QAAQ2I,GAAM,OAAOoB,EAAkBpB,GAR1CsL,CAAmBtL,IAM7D,SAA0BE,GAAQ,GAAsB,qBAAXrK,QAAmD,MAAzBqK,EAAKrK,OAAOC,WAA2C,MAAtBoK,EAAK,cAAuB,OAAOzT,MAAM0T,KAAKD,GANjFqL,CAAiBvL,IAItF,SAAqCkB,EAAGC,GAAU,IAAKD,EAAG,OAAQ,GAAiB,kBAANA,EAAgB,OAAOE,EAAkBF,EAAGC,GAAS,IAAIE,EAAIzjB,OAAO2U,UAAUC,SAASU,KAAKgO,GAAGzN,MAAM,GAAI,GAAc,WAAN4N,GAAkBH,EAAEnL,cAAasL,EAAIH,EAAEnL,YAAY5U,MAAM,GAAU,QAANkgB,GAAqB,QAANA,EAAa,OAAO5U,MAAM0T,KAAKe,GAAI,GAAU,cAANG,GAAqB,2CAA2C7N,KAAK6N,GAAI,OAAOD,EAAkBF,EAAGC,GAJxTG,CAA4BtB,IAE1H,WAAgC,MAAM,IAAIvL,UAAU,wIAF8E+W,GAUlI,SAASpK,EAAkBpB,EAAKwB,IAAkB,MAAPA,GAAeA,EAAMxB,EAAIxf,UAAQghB,EAAMxB,EAAIxf,QAAQ,IAAK,IAAI8f,EAAI,EAAGmB,EAAO,IAAIhV,MAAM+U,GAAMlB,EAAIkB,EAAKlB,IAAOmB,EAAKnB,GAAKN,EAAIM,GAAM,OAAOmB,EAGzK,SAASgK,EAAmBC,EAAKC,GACtC,IAAIC,EAAWP,EAAmBM,GAAQ,IAM1C,OAJY,MAARA,GAA+B,oBAARD,GACzBE,EAAS1Q,KAAKwQ,GAGT/hB,mBAAQ,WACb,MAAsB,oBAAR+hB,EAAqBA,IAAQA,IAC1CE,G,gDCtBL,SAASvL,EAAeL,EAAKM,GAAK,OAUlC,SAAyBN,GAAO,GAAIvT,MAAM4K,QAAQ2I,GAAM,OAAOA,EAVtBO,CAAgBP,IAQzD,SAA+BA,EAAKM,GAAK,IAAIE,EAAY,MAAPR,EAAc,KAAyB,qBAAXnK,QAA0BmK,EAAInK,OAAOC,WAAakK,EAAI,cAAe,GAAU,MAANQ,EAAY,OAAQ,IAAkDC,EAAIC,EAAlDC,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAmB,IAAM,IAAKL,EAAKA,EAAGtN,KAAK8M,KAAQY,GAAMH,EAAKD,EAAGM,QAAQC,QAAoBJ,EAAKzF,KAAKuF,EAAGre,QAAYke,GAAKK,EAAKngB,SAAW8f,GAA3DM,GAAK,IAAoE,MAAOI,GAAOH,GAAK,EAAMH,EAAKM,EAApK,QAAqL,IAAWJ,GAAsB,MAAhBJ,EAAE,QAAoBA,EAAE,SAAzC,QAAmE,GAAIK,EAAI,MAAMH,GAAQ,OAAOC,EARzbM,CAAsBjB,EAAKM,IAI5F,SAAqCY,EAAGC,GAAU,IAAKD,EAAG,OAAQ,GAAiB,kBAANA,EAAgB,OAAOE,EAAkBF,EAAGC,GAAS,IAAIE,EAAIzjB,OAAO2U,UAAUC,SAASU,KAAKgO,GAAGzN,MAAM,GAAI,GAAc,WAAN4N,GAAkBH,EAAEnL,cAAasL,EAAIH,EAAEnL,YAAY5U,MAAM,GAAU,QAANkgB,GAAqB,QAANA,EAAa,OAAO5U,MAAM0T,KAAKe,GAAI,GAAU,cAANG,GAAqB,2CAA2C7N,KAAK6N,GAAI,OAAOD,EAAkBF,EAAGC,GAJpTG,CAA4BtB,EAAKM,IAEnI,WAA8B,MAAM,IAAI7L,UAAU,6IAFuF8M,GAMzI,SAASH,EAAkBpB,EAAKwB,IAAkB,MAAPA,GAAeA,EAAMxB,EAAIxf,UAAQghB,EAAMxB,EAAIxf,QAAQ,IAAK,IAAI8f,EAAI,EAAGmB,EAAO,IAAIhV,MAAM+U,GAAMlB,EAAIkB,EAAKlB,IAAOmB,EAAKnB,GAAKN,EAAIM,GAAM,OAAOmB,EAgBzK,SAASoK,EAAanC,EAASvB,EAAS2D,GAC7C,IAGIC,EAAa1L,EAHDrjB,oBAAS,WACvB,OAAOmrB,EAAQuB,MAE0B,GACvCsC,EAAYD,EAAW,GACvBE,EAAeF,EAAW,GAE1BG,EAAkBpkB,uBAAY,WAChC,IAAIqkB,EAAYhE,EAAQuB,GAGnB0C,IAAMJ,EAAWG,KACpBF,EAAaE,GAETL,GACFA,OAGH,CAACE,EAAWtC,EAASoC,IAKxB,OADA/B,EAA0BmC,GACnB,CAACF,EAAWE,GC9CrB,SAAS7L,EAAeL,EAAKM,GAAK,OAUlC,SAAyBN,GAAO,GAAIvT,MAAM4K,QAAQ2I,GAAM,OAAOA,EAVtBO,CAAgBP,IAQzD,SAA+BA,EAAKM,GAAK,IAAIE,EAAY,MAAPR,EAAc,KAAyB,qBAAXnK,QAA0BmK,EAAInK,OAAOC,WAAakK,EAAI,cAAe,GAAU,MAANQ,EAAY,OAAQ,IAAkDC,EAAIC,EAAlDC,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAmB,IAAM,IAAKL,EAAKA,EAAGtN,KAAK8M,KAAQY,GAAMH,EAAKD,EAAGM,QAAQC,QAAoBJ,EAAKzF,KAAKuF,EAAGre,QAAYke,GAAKK,EAAKngB,SAAW8f,GAA3DM,GAAK,IAAoE,MAAOI,GAAOH,GAAK,EAAMH,EAAKM,EAApK,QAAqL,IAAWJ,GAAsB,MAAhBJ,EAAE,QAAoBA,EAAE,SAAzC,QAAmE,GAAIK,EAAI,MAAMH,GAAQ,OAAOC,EARzbM,CAAsBjB,EAAKM,IAI5F,SAAqCY,EAAGC,GAAU,IAAKD,EAAG,OAAQ,GAAiB,kBAANA,EAAgB,OAAOE,EAAkBF,EAAGC,GAAS,IAAIE,EAAIzjB,OAAO2U,UAAUC,SAASU,KAAKgO,GAAGzN,MAAM,GAAI,GAAc,WAAN4N,GAAkBH,EAAEnL,cAAasL,EAAIH,EAAEnL,YAAY5U,MAAM,GAAU,QAANkgB,GAAqB,QAANA,EAAa,OAAO5U,MAAM0T,KAAKe,GAAI,GAAU,cAANG,GAAqB,2CAA2C7N,KAAK6N,GAAI,OAAOD,EAAkBF,EAAGC,GAJpTG,CAA4BtB,EAAKM,IAEnI,WAA8B,MAAM,IAAI7L,UAAU,6IAFuF8M,GAMzI,SAASH,EAAkBpB,EAAKwB,IAAkB,MAAPA,GAAeA,EAAMxB,EAAIxf,UAAQghB,EAAMxB,EAAIxf,QAAQ,IAAK,IAAI8f,EAAI,EAAGmB,EAAO,IAAIhV,MAAM+U,GAAMlB,EAAIkB,EAAKlB,IAAOmB,EAAKnB,GAAKN,EAAIM,GAAM,OAAOmB,ECLzK,SAAS4K,EAAkBC,EAAW5C,EAASS,GACpD,ODYK,SAA0BT,EAASvB,EAASoE,GACjD,IACIC,EAAiBnM,EADDwL,EAAanC,EAASvB,EAASoE,GACA,GAC/CP,EAAYQ,EAAe,GAC3BN,EAAkBM,EAAe,GAarC,OAXAzC,GAA0B,WACxB,IAAImB,EAAYxB,EAAQ+C,eAExB,GAAiB,MAAbvB,EAIJ,OAAOxB,EAAQG,uBAAuBqC,EAAiB,CACrDQ,WAAY,CAACxB,OAEd,CAACxB,EAASwC,IACNF,EC7BAW,CAAiBjD,EAAS4C,GAAa,WAC5C,MAAO,KACN,WACD,OAAOnC,EAAUM,eCJd,SAASmC,EAAqBzC,GACnC,OAAOxgB,mBAAQ,WACb,OAAOwgB,EAAUnF,MAAM6H,eACtB,CAAC1C,IAEC,SAAS2C,EAAsB3C,GACpC,OAAOxgB,mBAAQ,WACb,OAAOwgB,EAAUnF,MAAM+H,gBACtB,CAAC5C,ICIC,SAAS6C,EAAQC,EAAStB,GAC/B,IAAIzB,EAAOuB,EAAmBwB,EAAStB,GACvC/b,aAAWsa,EAAKgD,MAAO,+JACvB,IAAIxD,ECbC,WACL,IAAIpH,EAAUoI,IACd,OAAO/gB,mBAAQ,WACb,OAAO,IAAIwjB,IAAsB7K,KAChC,CAACA,IDSU8K,GACVjD,EEbC,SAAgCkD,EAAmBC,GACxD,IAAIhL,EAAUoI,IACVP,EAAYxgB,mBAAQ,WACtB,OAAO,IAAI4jB,IAAgBjL,EAAQkL,gBAClC,CAAClL,IAeJ,OAdAyH,GAA0B,WAGxB,OAFAI,EAAUkD,kBAAoBA,GAAqB,KACnDlD,EAAUM,YACH,WACL,OAAON,EAAUsD,0BAElB,CAACtD,EAAWkD,IACftD,GAA0B,WAGxB,OAFAI,EAAUmD,mBAAqBA,GAAsB,KACrDnD,EAAUM,YACH,WACL,OAAON,EAAUuD,2BAElB,CAACvD,EAAWmD,IACRnD,EFNSwD,CAAuBzD,EAAKpW,QAASoW,EAAK0D,gBAE1D,OADAjD,EAAwBT,EAAMR,EAASS,GAChC,CAACkC,EAAkBnC,EAAK/B,QAASuB,EAASS,GAAYyC,EAAqBzC,GAAY2C,EAAsB3C,IGjBtH,SAASjE,EAAkB1jB,EAAQqB,GAAS,IAAK,IAAIyc,EAAI,EAAGA,EAAIzc,EAAMrD,OAAQ8f,IAAK,CAAE,IAAI6F,EAAatiB,EAAMyc,GAAI6F,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAM1oB,OAAO2oB,eAAe/jB,EAAQ2jB,EAAWloB,IAAKkoB,IAI7S,SAAS8B,EAAgBjqB,EAAKC,EAAKmE,GAAiK,OAApJnE,KAAOD,EAAOJ,OAAO2oB,eAAevoB,EAAKC,EAAK,CAAEmE,MAAOA,EAAOgkB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBtoB,EAAIC,GAAOmE,EAAgBpE,EAEpM,IAAI6vB,GAA8B,WACvC,SAASA,EAAe3D,EAAMR,IAThC,SAAyB1D,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIxR,UAAU,qCAU5GsR,CAAgBjV,KAAM+c,GAEtB5F,EAAgBnX,KAAM,YAAQ,GAE9BmX,EAAgBnX,KAAM,eAAW,GAEjCA,KAAKoZ,KAAOA,EACZpZ,KAAK4Y,QAAUA,EAbnB,IAAsBzD,EAAaQ,EAAYC,EA6C7C,OA7CoBT,EAgBP4H,GAhBoBpH,EAgBJ,CAAC,CAC5BxoB,IAAK,UACLmE,MAAO,WACL,IAAI8nB,EAAOpZ,KAAKoZ,KACZR,EAAU5Y,KAAK4Y,QACnB,OAAOQ,EAAK4D,SAAU5D,EAAK4D,QAAQpE,EAAQ5kB,UAAW4kB,KAEvD,CACDzrB,IAAK,QACLmE,MAAO,WACL,IAAI8nB,EAAOpZ,KAAKoZ,KACZR,EAAU5Y,KAAK4Y,QAEfQ,EAAK6D,OACP7D,EAAK6D,MAAMrE,EAAQ5kB,UAAW4kB,KAGjC,CACDzrB,IAAK,OACLmE,MAAO,WACL,IAAI8nB,EAAOpZ,KAAKoZ,KACZR,EAAU5Y,KAAK4Y,QAEnB,GAAIQ,EAAK8D,KACP,OAAO9D,EAAK8D,KAAKtE,EAAQ5kB,UAAW4kB,QAxCkCxD,EAAkBD,EAAY1T,UAAWkU,GAAiBC,GAAaR,EAAkBD,EAAaS,GA6C3KmH,EAzCgC,GCRzC,SAASxN,GAAeL,EAAKM,GAAK,OAUlC,SAAyBN,GAAO,GAAIvT,MAAM4K,QAAQ2I,GAAM,OAAOA,EAVtBO,CAAgBP,IAQzD,SAA+BA,EAAKM,GAAK,IAAIE,EAAY,MAAPR,EAAc,KAAyB,qBAAXnK,QAA0BmK,EAAInK,OAAOC,WAAakK,EAAI,cAAe,GAAU,MAANQ,EAAY,OAAQ,IAAkDC,EAAIC,EAAlDC,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAmB,IAAM,IAAKL,EAAKA,EAAGtN,KAAK8M,KAAQY,GAAMH,EAAKD,EAAGM,QAAQC,QAAoBJ,EAAKzF,KAAKuF,EAAGre,QAAYke,GAAKK,EAAKngB,SAAW8f,GAA3DM,GAAK,IAAoE,MAAOI,GAAOH,GAAK,EAAMH,EAAKM,EAApK,QAAqL,IAAWJ,GAAsB,MAAhBJ,EAAE,QAAoBA,EAAE,SAAzC,QAAmE,GAAIK,EAAI,MAAMH,GAAQ,OAAOC,EARzbM,CAAsBjB,EAAKM,IAI5F,SAAqCY,EAAGC,GAAU,IAAKD,EAAG,OAAQ,GAAiB,kBAANA,EAAgB,OAAOE,GAAkBF,EAAGC,GAAS,IAAIE,EAAIzjB,OAAO2U,UAAUC,SAASU,KAAKgO,GAAGzN,MAAM,GAAI,GAAc,WAAN4N,GAAkBH,EAAEnL,cAAasL,EAAIH,EAAEnL,YAAY5U,MAAM,GAAU,QAANkgB,GAAqB,QAANA,EAAa,OAAO5U,MAAM0T,KAAKe,GAAI,GAAU,cAANG,GAAqB,2CAA2C7N,KAAK6N,GAAI,OAAOD,GAAkBF,EAAGC,GAJpTG,CAA4BtB,EAAKM,IAEnI,WAA8B,MAAM,IAAI7L,UAAU,6IAFuF8M,GAMzI,SAASH,GAAkBpB,EAAKwB,IAAkB,MAAPA,GAAeA,EAAMxB,EAAIxf,UAAQghB,EAAMxB,EAAIxf,QAAQ,IAAK,IAAI8f,EAAI,EAAGmB,EAAO,IAAIhV,MAAM+U,GAAMlB,EAAIkB,EAAKlB,IAAOmB,EAAKnB,GAAKN,EAAIM,GAAM,OAAOmB,EAWzK,SAASwM,GAAwB/D,EAAMR,EAASS,GACrD,IAAI7H,EAAUoI,IACVwD,ECjBC,SAAuBhE,EAAMR,GAClC,IAAIwE,EAAavkB,mBAAQ,WACvB,OAAO,IAAIkkB,GAAe3D,EAAMR,KAC/B,CAACA,IAIJ,OAHA9nB,qBAAU,WACRssB,EAAWhE,KAAOA,IACjB,CAACA,IACGgE,EDUUC,CAAcjE,EAAMR,GACjC0E,EEZC,SAAmBlE,GACxB,IAAIkE,EAASlE,EAAKkE,OAClB,OAAOzkB,mBAAQ,WAEb,OADAiG,YAAyB,MAAfsa,EAAKkE,OAAgB,0BACxB3hB,MAAM4K,QAAQ+W,GAAUA,EAAS,CAACA,KACxC,CAACA,IFOSC,CAAUnE,GACvBH,GAA0B,WACxB,IACIuE,EAAmBjO,GADDkO,YAAeH,EAAQF,EAAY5L,GACF,GACnD4I,EAAYoD,EAAiB,GAC7BnD,EAAamD,EAAiB,GAIlC,OAFA5E,EAAQ0B,iBAAiBF,GACzBf,EAAUiB,iBAAiBF,GACpBC,IACN,CAAC7I,EAASoH,EAASwE,EAAY/D,EAAWiE,EAAO3rB,KAAI,SAAUuE,GAChE,OAAOA,EAAEwL,cACR8I,KAAK,O,4BG/BH,SAASkT,GAAqBrE,GACnC,OAAOxgB,mBAAQ,WACb,OAAOwgB,EAAUnF,MAAMkJ,eACtB,CAAC/D,ICQC,SAASsE,GAAQxB,EAAStB,GAC/B,IAAIzB,EAAOuB,EAAmBwB,EAAStB,GACnCjC,ECXC,WACL,IAAIpH,EAAUoI,IACd,OAAO/gB,mBAAQ,WACb,OAAO,IAAI+kB,KAAsBpM,KAChC,CAACA,IDOUqM,GACVxE,EEXC,SAAgCrW,GACrC,IAAIwO,EAAUoI,IACVP,EAAYxgB,mBAAQ,WACtB,OAAO,IAAIilB,KAAgBtM,EAAQkL,gBAClC,CAAClL,IAQJ,OAPAyH,GAA0B,WAGxB,OAFAI,EAAU0E,kBAAoB/a,GAAW,KACzCqW,EAAUM,YACH,WACL,OAAON,EAAU2E,0BAElB,CAAChb,IACGqW,EFDS4E,CAAuB7E,EAAKpW,SAE5C,OADAma,GAAwB/D,EAAMR,EAASS,GAChC,CAACkC,EAAkBnC,EAAK/B,QAASuB,EAASS,GAAYqE,GAAqBrE,IGjBpF,SAAS9J,GAAeL,EAAKM,GAAK,OAUlC,SAAyBN,GAAO,GAAIvT,MAAM4K,QAAQ2I,GAAM,OAAOA,EAVtBO,CAAgBP,IAQzD,SAA+BA,EAAKM,GAAK,IAAIE,EAAY,MAAPR,EAAc,KAAyB,qBAAXnK,QAA0BmK,EAAInK,OAAOC,WAAakK,EAAI,cAAe,GAAU,MAANQ,EAAY,OAAQ,IAAkDC,EAAIC,EAAlDC,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAmB,IAAM,IAAKL,EAAKA,EAAGtN,KAAK8M,KAAQY,GAAMH,EAAKD,EAAGM,QAAQC,QAAoBJ,EAAKzF,KAAKuF,EAAGre,QAAYke,GAAKK,EAAKngB,SAAW8f,GAA3DM,GAAK,IAAoE,MAAOI,GAAOH,GAAK,EAAMH,EAAKM,EAApK,QAAqL,IAAWJ,GAAsB,MAAhBJ,EAAE,QAAoBA,EAAE,SAAzC,QAAmE,GAAIK,EAAI,MAAMH,GAAQ,OAAOC,EARzbM,CAAsBjB,EAAKM,IAI5F,SAAqCY,EAAGC,GAAU,IAAKD,EAAG,OAAQ,GAAiB,kBAANA,EAAgB,OAAOE,GAAkBF,EAAGC,GAAS,IAAIE,EAAIzjB,OAAO2U,UAAUC,SAASU,KAAKgO,GAAGzN,MAAM,GAAI,GAAc,WAAN4N,GAAkBH,EAAEnL,cAAasL,EAAIH,EAAEnL,YAAY5U,MAAM,GAAU,QAANkgB,GAAqB,QAANA,EAAa,OAAO5U,MAAM0T,KAAKe,GAAI,GAAU,cAANG,GAAqB,2CAA2C7N,KAAK6N,GAAI,OAAOD,GAAkBF,EAAGC,GAJpTG,CAA4BtB,EAAKM,IAEnI,WAA8B,MAAM,IAAI7L,UAAU,6IAFuF8M,GAMzI,SAASH,GAAkBpB,EAAKwB,IAAkB,MAAPA,GAAeA,EAAMxB,EAAIxf,UAAQghB,EAAMxB,EAAIxf,QAAQ,IAAK,IAAI8f,EAAI,EAAGmB,EAAO,IAAIhV,MAAM+U,GAAMlB,EAAIkB,EAAKlB,IAAOmB,EAAKnB,GAAKN,EAAIM,GAAM,OAAOmB,EAczK,SAASuN,GAAa7G,GAC3B,IACIuB,EADkBgB,IACQf,aAG1B6C,EAAiBnM,GADDwL,EAAanC,EAASvB,GACS,GAC/C6D,EAAYQ,EAAe,GAC3BN,EAAkBM,EAAe,GAQrC,OANA5qB,qBAAU,WACR,OAAO8nB,EAAQE,wBAAwBsC,MAEzCtqB,qBAAU,WACR,OAAO8nB,EAAQG,uBAAuBqC,MAEjCF,I,6HCjCT,SAAS9F,EAAkB1jB,EAAQqB,GAAS,IAAK,IAAIyc,EAAI,EAAGA,EAAIzc,EAAMrD,OAAQ8f,IAAK,CAAE,IAAI6F,EAAatiB,EAAMyc,GAAI6F,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAM1oB,OAAO2oB,eAAe/jB,EAAQ2jB,EAAWloB,IAAKkoB,IAI7S,SAAS8B,EAAgBjqB,EAAKC,EAAKmE,GAAiK,OAApJnE,KAAOD,EAAOJ,OAAO2oB,eAAevoB,EAAKC,EAAK,CAAEmE,MAAOA,EAAOgkB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBtoB,EAAIC,GAAOmE,EAAgBpE,EAI3M,IAAIixB,EAAuB,CAAC,UAAW,YAAa,aAAc,WAC9DC,EAAwB,CAAC,aAEzBC,EAA0B,WAC5B,SAASA,EAAWjF,EAAMR,EAAS5lB,GACjC,IAAI6kB,EAAQ7X,MAfhB,SAAyBkV,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIxR,UAAU,qCAiB5GsR,CAAgBjV,KAAMqe,GAEtBlH,EAAgBnX,KAAM,QAAS,MAE/BmX,EAAgBnX,KAAM,YAAQ,GAE9BmX,EAAgBnX,KAAM,eAAW,GAEjCmX,EAAgBnX,KAAM,WAAO,GAE7BmX,EAAgBnX,KAAM,aAAa,WACjC,GAAK6X,EAAM9kB,MAUX,OANW8kB,EAAMuB,KAAKkF,UAAUzG,EAAM9kB,MAAO8kB,EAAMe,QAASf,EAAM7kB,IAAIqS,YASxErF,KAAKoZ,KAAOA,EACZpZ,KAAK4Y,QAAUA,EACf5Y,KAAKhN,IAAMA,EAvCf,IAAsBmiB,EAAaQ,EAAYC,EAwF7C,OAxFoBT,EA0CPkJ,GA1CoB1I,EA0CR,CAAC,CACxBxoB,IAAK,eACLmE,MAAO,SAAsByB,GAC3BiN,KAAKjN,MAAQA,IAEd,CACD5F,IAAK,UACLmE,MAAO,WACL,QAAK0O,KAAKjN,SAILiN,KAAKoZ,KAAKtc,SAIRkD,KAAKoZ,KAAKtc,QAAQkD,KAAKjN,MAAOiN,KAAK4Y,YAE3C,CACDzrB,IAAK,aACLmE,MAAO,SAAoBioB,EAAegF,GACxC,QAAKve,KAAKjN,QAILiN,KAAKoZ,KAAKI,WAIRxZ,KAAKoZ,KAAKI,WAAWxZ,KAAKjN,MAAOiN,KAAK4Y,SAHpC2F,IAAahF,EAAcE,iBAKrC,CACDtsB,IAAK,UACLmE,MAAO,WACA0O,KAAKjN,OAILiN,KAAKoZ,KAAKoF,SAIfxe,KAAKoZ,KAAKoF,QAAQxe,KAAKjN,MAAOiN,KAAK4Y,QAAS1T,YAAsBlF,KAAKhN,WApFCoiB,EAAkBD,EAAY1T,UAAWkU,GAAiBC,GAAaR,EAAkBD,EAAaS,GAwF3KyI,EA/EqB,GAkFvB,SAASI,EAAoBrF,GAQlC,OAPAtsB,OAAOC,KAAKqsB,GAAMzY,SAAQ,SAAUxT,GAClC2R,YAAUqf,EAAqBhhB,QAAQhQ,IAAQ,EAAG,yNAAyOgxB,EAAqB3T,KAAK,MAAOrd,GAC5T2R,YAA+B,oBAAdsa,EAAKjsB,GAAqB,oLAA+LA,EAAKA,EAAKisB,EAAKjsB,OAE3PixB,EAAsBzd,SAAQ,SAAUxT,GACtC2R,YAA+B,oBAAdsa,EAAKjsB,GAAqB,oLAA+LA,EAAKA,EAAKisB,EAAKjsB,OAEpP,SAAsByrB,EAAS5lB,GACpC,OAAO,IAAIqrB,EAAWjF,EAAMR,EAAS5lB,IC3FlC,SAAS0rB,EAAW/uB,EAAMypB,EAAM/B,GACrC,IAAIrU,EAAU0B,UAAUhV,OAAS,QAAsBqU,IAAjBW,UAAU,GAAmBA,UAAU,GAAK,GAClFmB,YAAwB,aAAc,iCAAkClW,EAAMypB,EAAM/B,EAASrU,GAC7F,IAAI2b,EAAUhvB,EAEM,oBAATA,IACTmP,YAAUuH,YAAY1W,GAAO,uOAAuPA,GAEpRgvB,EAAU,WACR,OAAOhvB,IAIXmP,YAAUoH,YAAckT,GAAO,iLAA4LA,GAC3N,IAAIwF,EAAeH,EAAoBrF,GAGvC,OAFAta,YAA6B,oBAAZuY,EAAwB,8NAA8OA,GACvRvY,YAAUoH,YAAclD,GAAU,mMAAmNqU,GAC9O,SAAwBC,GAC7B,OAAOuH,YAAgB,CACrBC,qBAAsB,aACtBC,cAAeH,EACfI,gBAAiB7E,IACjB8E,gBAAiB,SAAyBxN,GACxC,OAAO,IAAIgL,IAAgBhL,IAE7ByN,cAAe,SAAuB1N,GACpC,OAAO,IAAI6K,IAAsB7K,IAEnC8F,mBAAoBA,EACpBqH,QAASA,EACTtH,QAASA,EACTrU,QAASA,O,6HC1Cf,SAASoS,EAAkB1jB,EAAQqB,GAAS,IAAK,IAAIyc,EAAI,EAAGA,EAAIzc,EAAMrD,OAAQ8f,IAAK,CAAE,IAAI6F,EAAatiB,EAAMyc,GAAI6F,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAM1oB,OAAO2oB,eAAe/jB,EAAQ2jB,EAAWloB,IAAKkoB,IAI7S,SAAS8B,EAAgBjqB,EAAKC,EAAKmE,GAAiK,OAApJnE,KAAOD,EAAOJ,OAAO2oB,eAAevoB,EAAKC,EAAK,CAAEmE,MAAOA,EAAOgkB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBtoB,EAAIC,GAAOmE,EAAgBpE,EAI3M,IAAIixB,EAAuB,CAAC,UAAW,QAAS,QAE5CgB,EAA0B,WAC5B,SAASA,EAAW/F,EAAMR,EAAS5lB,IAbrC,SAAyBkiB,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIxR,UAAU,qCAc5GsR,CAAgBjV,KAAMmf,GAEtBhI,EAAgBnX,KAAM,QAAS,MAE/BmX,EAAgBnX,KAAM,YAAQ,GAE9BmX,EAAgBnX,KAAM,eAAW,GAEjCmX,EAAgBnX,KAAM,WAAO,GAE7BA,KAAKoZ,KAAOA,EACZpZ,KAAK4Y,QAAUA,EACf5Y,KAAKhN,IAAMA,EAtBf,IAAsBmiB,EAAaQ,EAAYC,EAsE7C,OAtEoBT,EAyBPgK,GAzBoBxJ,EAyBR,CAAC,CACxBxoB,IAAK,eACLmE,MAAO,SAAsByB,GAC3BiN,KAAKjN,MAAQA,IAEd,CACD5F,IAAK,iBACLmE,MAAO,SAAwBsnB,GAC7B5Y,KAAK4Y,QAAUA,IAEhB,CACDzrB,IAAK,UACLmE,MAAO,WACL,OAAK0O,KAAKoZ,KAAK4D,SAIRhd,KAAKoZ,KAAK4D,QAAQhd,KAAKjN,MAAOiN,KAAK4Y,WAE3C,CACDzrB,IAAK,QACLmE,MAAO,WACA0O,KAAKoZ,KAAK6D,OAAUjd,KAAKjN,OAI9BiN,KAAKoZ,KAAK6D,MAAMjd,KAAKjN,MAAOiN,KAAK4Y,QAAS1T,YAAsBlF,KAAKhN,QAEtE,CACD7F,IAAK,OACLmE,MAAO,WACL,GAAK0O,KAAKoZ,KAAK8D,KAUf,OANiBld,KAAKoZ,KAAK8D,KAAKld,KAAKjN,MAAOiN,KAAK4Y,QAAS5Y,KAAKhN,IAAIqS,cA5DK+P,EAAkBD,EAAY1T,UAAWkU,GAAiBC,GAAaR,EAAkBD,EAAaS,GAsE3KuJ,EA9DqB,GAiEvB,SAASC,EAAoBhG,GAKlC,OAJAtsB,OAAOC,KAAKqsB,GAAMzY,SAAQ,SAAUxT,GAClC2R,YAAUqf,EAAqBhhB,QAAQhQ,IAAQ,EAAG,yNAAyOgxB,EAAqB3T,KAAK,MAAOrd,GAC5T2R,YAA+B,oBAAdsa,EAAKjsB,GAAqB,oLAA+LA,EAAKA,EAAKisB,EAAKjsB,OAEpP,SAAsByrB,EAAS5lB,GACpC,OAAO,IAAImsB,EAAW/F,EAAMR,EAAS5lB,ICtElC,SAASqsB,EAAW1vB,EAAMypB,EAAM/B,GACrC,IAAIrU,EAAU0B,UAAUhV,OAAS,QAAsBqU,IAAjBW,UAAU,GAAmBA,UAAU,GAAK,GAClFmB,YAAwB,aAAc,iCAAkClW,EAAMypB,EAAM/B,EAASrU,GAC7F,IAAI2b,EAAUhvB,EAEM,oBAATA,IACTmP,YAAUuH,YAAY1W,GAAM,GAAO,0PAA0QA,GAE7SgvB,EAAU,WACR,OAAOhvB,IAIXmP,YAAUoH,YAAckT,GAAO,iLAA4LA,GAC3N,IAAIkG,EAAeF,EAAoBhG,GAGvC,OAFAta,YAA6B,oBAAZuY,EAAwB,8NAA8OA,GACvRvY,YAAUoH,YAAclD,GAAU,mMAAmNqU,GAC9O,SAAwBC,GAC7B,OAAOuH,YAAgB,CACrBC,qBAAsB,aACtBC,cAAeO,EACfN,gBAAiBvB,IACjByB,cAAe,SAAuB1N,GACpC,OAAO,IAAIoM,IAAsBpM,IAEnCyN,gBAAiB,SAAyBxN,GACxC,OAAO,IAAIqM,IAAgBrM,IAE7B6F,mBAAoBA,EACpBqH,QAASA,EACTtH,QAASA,EACTrU,QAASA,O,yHC5Cf,SAASiS,EAAgBC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIxR,UAAU,qCAEhH,SAASyR,EAAkB1jB,EAAQqB,GAAS,IAAK,IAAIyc,EAAI,EAAGA,EAAIzc,EAAMrD,OAAQ8f,IAAK,CAAE,IAAI6F,EAAatiB,EAAMyc,GAAI6F,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAM1oB,OAAO2oB,eAAe/jB,EAAQ2jB,EAAWloB,IAAKkoB,IAE7S,SAASK,EAAaP,EAAaQ,EAAYC,GAAmJ,OAAhID,GAAYP,EAAkBD,EAAY1T,UAAWkU,GAAiBC,GAAaR,EAAkBD,EAAaS,GAAqBT,EAEzM,SAASgC,EAAgBjqB,EAAKC,EAAKmE,GAAiK,OAApJnE,KAAOD,EAAOJ,OAAO2oB,eAAevoB,EAAKC,EAAK,CAAEmE,MAAOA,EAAOgkB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBtoB,EAAIC,GAAOmE,EAAgBpE,EASpM,IAAIqyB,EAA0B,WACnC,SAASA,EAAWC,GAClBvK,EAAgBjV,KAAMuf,GAEtBpI,EAAgBnX,KAAM,cAAc,GAEpCmX,EAAgBnX,KAAM,cAAU,GAEhCA,KAAKwf,OAASxZ,YAAWwZ,GAAUA,EAASngB,IA+C9C,OA1CAqW,EAAa6J,EAAY,CAAC,CACxBpyB,IAAK,UACLmE,MAAO,WACA0O,KAAKyf,aACRzf,KAAKwf,SACLxf,KAAKyf,YAAa,MAGpB,CAAC,CACHtyB,IAAK,eACLmE,MAUA,SAAsBouB,GACpB,OAAO/I,QAAQ+I,GAAK1Z,YAAW0Z,EAAEC,YAElC,CACDxyB,IAAK,SACLmE,MAAO,SAAgB8R,GACrB,OAAOmc,EAAWK,aAAaxc,GAAUA,EAASmc,EAAWM,QAS9D,CACD1yB,IAAK,SACLmE,MAAO,SAAgBkuB,GACrB,OAAO,IAAID,EAAWC,OAInBD,EAvD4B,GA8DrCpI,EAAgBoI,EAAY,QAAS,CACnCI,QAAStgB,MAGJ,IAAIygB,EAAmC,WAC5C,SAASA,IACP7K,EAAgBjV,KAAM8f,GAEtB3I,EAAgBnX,KAAM,cAAc,GAEpCmX,EAAgBnX,KAAM,mBAAe,GAErC,IAAK,IAAI8X,EAAOpT,UAAUhV,OAAQqwB,EAAc,IAAIpkB,MAAMmc,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IACtFgI,EAAYhI,GAAQrT,UAAUqT,GAGhC/X,KAAK+f,YAAcA,EAwFrB,OAhFArK,EAAaoK,EAAqB,CAAC,CACjC3yB,IAAK,MACLmE,MAAO,SAAaM,GACdoO,KAAKyf,WACP7tB,EAAK+tB,UAEL3f,KAAK+f,YAAY3V,KAAKxY,KASzB,CACDzE,IAAK,SACLmE,MAAO,SAAgBM,GACrB,IAAIouB,GAAgB,EAEpB,IAAKhgB,KAAKyf,WAAY,CACpB,IAAI/V,EAAM1J,KAAK+f,YAAY5iB,QAAQvL,IAEtB,IAAT8X,IACFsW,GAAgB,EAChBhgB,KAAK+f,YAAYE,OAAOvW,EAAK,GAC7B9X,EAAK+tB,WAIT,OAAOK,IAOR,CACD7yB,IAAK,QACLmE,MAAO,WACL,IAAK0O,KAAKyf,WAAY,CAIpB,IAHA,IAAI/O,EAAM1Q,KAAK+f,YAAYrwB,OACvBwwB,EAAqB,IAAIvkB,MAAM+U,GAE1BlB,EAAI,EAAGA,EAAIkB,EAAKlB,IACvB0Q,EAAmB1Q,GAAKxP,KAAK+f,YAAYvQ,GAG3CxP,KAAK+f,YAAc,GAEnB,IAAK,IAAIrQ,EAAK,EAAGA,EAAKgB,EAAKhB,IACzBwQ,EAAmBxQ,GAAIiQ,aAQ5B,CACDxyB,IAAK,UACLmE,MAAO,WACL,IAAK0O,KAAKyf,WAAY,CACpBzf,KAAKyf,YAAa,EAIlB,IAHA,IAAI/O,EAAM1Q,KAAK+f,YAAYrwB,OACvBwwB,EAAqB,IAAIvkB,MAAM+U,GAE1BlB,EAAI,EAAGA,EAAIkB,EAAKlB,IACvB0Q,EAAmB1Q,GAAKxP,KAAK+f,YAAYvQ,GAG3CxP,KAAK+f,YAAc,GAEnB,IAAK,IAAII,EAAM,EAAGA,EAAMzP,EAAKyP,IAC3BD,EAAmBC,GAAKR,eAMzBG,EApGqC,GA4GnCM,EAAgC,WACzC,SAASA,IACPnL,EAAgBjV,KAAMogB,GAEtBjJ,EAAgBnX,KAAM,cAAc,GAEpCmX,EAAgBnX,KAAM,eAAW,GAgDnC,OA7CA0V,EAAa0K,EAAkB,CAAC,CAC9BjzB,IAAK,gBACLmE,MAKA,WACE,OAAO0O,KAAKqF,UAEb,CACDlY,IAAK,gBACLmE,MAAO,SAAuBA,GAC5B,IAAI0uB,EAAgBhgB,KAAKyf,WAEzB,IAAKO,EAAe,CAClB,IAAIK,EAAMrgB,KAAKqF,QACfrF,KAAKqF,QAAU/T,EAEX+uB,GACFA,EAAIV,UAIJK,GAAiB1uB,GACnBA,EAAMquB,YAKT,CACDxyB,IAAK,UACLmE,MAAO,WACL,IAAK0O,KAAKyf,WAAY,CACpBzf,KAAKyf,YAAa,EAClB,IAAIY,EAAMrgB,KAAKqF,QACfrF,KAAKqF,aAAUtB,EAEXsc,GACFA,EAAIV,eAMLS,EAtDkC,G,iBC7L3C,SAAStb,EAAQ5X,GAAmV,OAAtO4X,EAArD,oBAAXC,QAAoD,kBAApBA,OAAOC,SAAmC,SAAiB9X,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,oBAAX6X,QAAyB7X,EAAI+X,cAAgBF,QAAU7X,IAAQ6X,OAAOtD,UAAY,gBAAkBvU,GAAiB4X,EAAQ5X,GAEnX,SAASqiB,EAAeL,EAAKM,GAAK,OAUlC,SAAyBN,GAAO,GAAIvT,MAAM4K,QAAQ2I,GAAM,OAAOA,EAVtBO,CAAgBP,IAQzD,SAA+BA,EAAKM,GAAK,IAAIE,EAAY,MAAPR,EAAc,KAAyB,qBAAXnK,QAA0BmK,EAAInK,OAAOC,WAAakK,EAAI,cAAe,GAAU,MAANQ,EAAY,OAAQ,IAAkDC,EAAIC,EAAlDC,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAmB,IAAM,IAAKL,EAAKA,EAAGtN,KAAK8M,KAAQY,GAAMH,EAAKD,EAAGM,QAAQC,QAAoBJ,EAAKzF,KAAKuF,EAAGre,QAAYke,GAAKK,EAAKngB,SAAW8f,GAA3DM,GAAK,IAAoE,MAAOI,GAAOH,GAAK,EAAMH,EAAKM,EAApK,QAAqL,IAAWJ,GAAsB,MAAhBJ,EAAE,QAAoBA,EAAE,SAAzC,QAAmE,GAAIK,EAAI,MAAMH,GAAQ,OAAOC,EARzbM,CAAsBjB,EAAKM,IAI5F,SAAqCY,EAAGC,GAAU,IAAKD,EAAG,OAAQ,GAAiB,kBAANA,EAAgB,OAAOE,EAAkBF,EAAGC,GAAS,IAAIE,EAAIzjB,OAAO2U,UAAUC,SAASU,KAAKgO,GAAGzN,MAAM,GAAI,GAAc,WAAN4N,GAAkBH,EAAEnL,cAAasL,EAAIH,EAAEnL,YAAY5U,MAAM,GAAU,QAANkgB,GAAqB,QAANA,EAAa,OAAO5U,MAAM0T,KAAKe,GAAI,GAAU,cAANG,GAAqB,2CAA2C7N,KAAK6N,GAAI,OAAOD,EAAkBF,EAAGC,GAJpTG,CAA4BtB,EAAKM,IAEnI,WAA8B,MAAM,IAAI7L,UAAU,6IAFuF8M,GAMzI,SAASH,EAAkBpB,EAAKwB,IAAkB,MAAPA,GAAeA,EAAMxB,EAAIxf,UAAQghB,EAAMxB,EAAIxf,QAAQ,IAAK,IAAI8f,EAAI,EAAGmB,EAAO,IAAIhV,MAAM+U,GAAMlB,EAAIkB,EAAKlB,IAAOmB,EAAKnB,GAAKN,EAAIM,GAAM,OAAOmB,EAQhL,SAASyE,EAAkB1jB,EAAQqB,GAAS,IAAK,IAAIyc,EAAI,EAAGA,EAAIzc,EAAMrD,OAAQ8f,IAAK,CAAE,IAAI6F,EAAatiB,EAAMyc,GAAI6F,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAM1oB,OAAO2oB,eAAe/jB,EAAQ2jB,EAAWloB,IAAKkoB,IAM7S,SAASW,EAAgB5F,EAAG6F,GAA+G,OAA1GD,EAAkBlpB,OAAOopB,gBAAkB,SAAyB9F,EAAG6F,GAAsB,OAAjB7F,EAAE+F,UAAYF,EAAU7F,GAAa4F,EAAgB5F,EAAG6F,GAErK,SAASG,EAAaC,GAAW,IAAIC,EAMrC,WAAuC,GAAuB,qBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,oBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQlV,UAAUc,QAAQH,KAAKmU,QAAQC,UAAUG,QAAS,IAAI,iBAAyB,EAAQ,MAAOnlB,GAAK,OAAO,GAN9PolB,GAA6B,OAAO,WAAkC,IAAsCxT,EAAlCyT,EAAQC,EAAgBT,GAAkB,GAAIC,EAA2B,CAAE,IAAIS,EAAYD,EAAgB9W,MAAMiF,YAAa7B,EAASmT,QAAQC,UAAUK,EAAOnS,UAAWqS,QAAqB3T,EAASyT,EAAM7S,MAAMhE,KAAM0E,WAAc,OAAOsS,EAA2BhX,KAAMoD,IAE5Z,SAAS4T,EAA2B3V,EAAMe,GAAQ,GAAIA,IAA2B,WAAlB0C,EAAQ1C,IAAsC,oBAATA,GAAwB,OAAOA,EAAa,QAAa,IAATA,EAAmB,MAAM,IAAIuB,UAAU,4DAA+D,OAAOsT,EAAuB5V,GAExR,SAAS4V,EAAuB5V,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAI6V,eAAe,6DAAgE,OAAO7V,EAI/J,SAASyV,EAAgB1G,GAAwJ,OAAnJ0G,EAAkBhqB,OAAOopB,eAAiBppB,OAAOqZ,eAAiB,SAAyBiK,GAAK,OAAOA,EAAE+F,WAAarpB,OAAOqZ,eAAeiK,IAAc0G,EAAgB1G,GAExM,SAAS+G,EAAgBjqB,EAAKC,EAAKmE,GAAiK,OAApJnE,KAAOD,EAAOJ,OAAO2oB,eAAevoB,EAAKC,EAAK,CAAEmE,MAAOA,EAAOgkB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBtoB,EAAIC,GAAOmE,EAAgBpE,EAWpM,SAAS2xB,EAAgB5R,GAC9B,IAAIqK,EAAqBrK,EAAKqK,mBAC1ByH,EAAgB9R,EAAK8R,cACrBG,EAAgBjS,EAAKiS,cACrBD,EAAkBhS,EAAKgS,gBACvBD,EAAkB/R,EAAK+R,gBACvBF,EAAuB7R,EAAK6R,qBAC5BH,EAAU1R,EAAK0R,QACftH,EAAUpK,EAAKoK,QAEfG,EADUvK,EAAKjK,QACiByU,cAChCA,OAA0C,IAA1BD,EAAmCrJ,IAAeqJ,EAClED,EAAYD,EACZxD,EAAcwD,EAAmBxD,aAAewD,EAAmBjnB,MAAQ,YAE3EiwB,EAAiC,SAAU3I,IAxCjD,SAAmB7B,EAAUC,GAAc,GAA0B,oBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIpS,UAAU,sDAAyDmS,EAASrU,UAAY3U,OAAO4mB,OAAOqC,GAAcA,EAAWtU,UAAW,CAAEwD,YAAa,CAAE3T,MAAOwkB,EAAUN,UAAU,EAAMD,cAAc,KAAeQ,GAAYC,EAAgBF,EAAUC,GAyC/WF,CAAUyK,EAAmB3I,GAE7B,IA7CkBxC,EAAaQ,EAAYC,EA6CvCgC,EAASxB,EAAakK,GAE1B,SAASA,EAAkBvtB,GACzB,IAAI8kB,EAoCJ,OAxFN,SAAyB3C,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIxR,UAAU,qCAsD1GsR,CAAgBjV,KAAMsgB,GAItBnJ,EAAgBF,EAFhBY,EAAQD,EAAOxV,KAAKpC,KAAMjN,IAEqB,eAAgBilB,uBAE/Db,EAAgBF,EAAuBY,GAAQ,iBAAa,GAE5DV,EAAgBF,EAAuBY,GAAQ,eAAW,GAE1DV,EAAgBF,EAAuBY,GAAQ,sBAAkB,GAEjEV,EAAgBF,EAAuBY,GAAQ,wBAAoB,GAEnEV,EAAgBF,EAAuBY,GAAQ,eAAW,GAE1DV,EAAgBF,EAAuBY,GAAQ,kBAAc,GAE7DV,EAAgBF,EAAuBY,GAAQ,mBAAe,GAE9DV,EAAgBF,EAAuBY,GAAQ,gBAAgB,WAC7D,IAAIK,EAAYL,EAAMM,kBAEjBhK,YAAa+J,EAAWL,EAAMhsB,QACjCgsB,EAAMO,SAASF,MAInBL,EAAM0I,WAAa,IAAIH,EAEvBvI,EAAM2I,aAAaztB,GAEnB8kB,EAAM8H,UAEC9H,EAmJT,OAvOkB1C,EAuFLmL,GAvFkB3K,EAuFC,CAAC,CAC/BxoB,IAAK,eACLmE,MAAO,WACL,OAAO0O,KAAKoa,YAEb,CACDjtB,IAAK,gCACLmE,MAAO,WAEL,OADAwN,YAAUkB,KAAKsF,aAAaD,QAAS,4HAC9BrF,KAAKsF,aAAaD,UAE1B,CACDlY,IAAK,wBACLmE,MAAO,SAA+B+mB,EAAWH,GAC/C,OAAQT,EAAcY,EAAWrY,KAAKjN,SAAWob,YAAa+J,EAAWlY,KAAKnU,SAE/E,CACDsB,IAAK,oBACLmE,MAAO,WACL0O,KAAKugB,WAAa,IAAIH,EACtBpgB,KAAKygB,iBAAc1c,EACnB/D,KAAKwgB,aAAaxgB,KAAKjN,OACvBiN,KAAKsY,iBAEN,CACDnrB,IAAK,qBACLmE,MAAO,SAA4BovB,GAC5BjJ,EAAczX,KAAKjN,MAAO2tB,KAC7B1gB,KAAKwgB,aAAaxgB,KAAKjN,OACvBiN,KAAKsY,kBAGR,CACDnrB,IAAK,uBACLmE,MAAO,WACL0O,KAAK2f,YAEN,CACDxyB,IAAK,eACLmE,MAAO,SAAsByB,GACtBiN,KAAK8Z,UAIV9Z,KAAK8Z,QAAQ0G,aAAaztB,GAC1BiN,KAAK2gB,YAAYhC,EAAQ5rB,OAE1B,CACD5F,IAAK,cACLmE,MAAO,SAAqB3B,GAC1B,GAAKqQ,KAAK4gB,gBAAmB5gB,KAAKwR,SAAYxR,KAAK6gB,kBAI/ClxB,IAASqQ,KAAKygB,YAAlB,CAIAzgB,KAAKygB,YAAc9wB,EAEnB,IACImxB,EAAoBvR,EADDyP,EAAgBrvB,EAAMqQ,KAAK8Z,QAAS9Z,KAAKwR,SACP,GACrD4I,EAAY0G,EAAkB,GAC9BzG,EAAayG,EAAkB,GAEnC9gB,KAAKoa,UAAYA,EACjBpa,KAAK4gB,eAAetG,iBAAiBF,GACrCpa,KAAK6gB,iBAAiBvG,iBAAiBF,GACvC,IACI2G,EADgB/gB,KAAKwR,QAAQqH,aACDE,uBAAuB/Y,KAAKsY,aAAc,CACxEsD,WAAY,CAACxB,KAEfpa,KAAKugB,WAAWS,cAAc,IAAIlB,EAAoB,IAAIP,EAAWwB,GAAc,IAAIxB,EAAWlF,QAEnG,CACDltB,IAAK,UACLmE,MAAO,WACL0O,KAAKugB,WAAWZ,UAEZ3f,KAAK6gB,kBACP7gB,KAAK6gB,iBAAiBvG,iBAAiB,QAG1C,CACDntB,IAAK,kBACLmE,MAAO,WACL,OAAK0O,KAAK6gB,iBAIMxJ,EAAQrX,KAAK6gB,iBAAiB3M,MAAOlU,KAAK4gB,eAAgB5gB,KAAKjN,OAHtE,KAWV,CACD5F,IAAK,SACLmE,MAAO,WACL,IAAImnB,EAASzY,KAEb,OAAOmS,cAAKrD,IAAW4J,SAAU,CAC/Bpa,SAAU,SAAkB2iB,GAC1B,IAAIjS,EAAkBiS,EAAMjS,gBAY5B,OAVAyJ,EAAOE,uBAAuB3J,GAEO,qBAA1BkS,uBACTA,uBAAsB,WACpB,IAAIC,EAEJ,OAA6D,QAArDA,EAAwB1I,EAAOoI,wBAAwD,IAA1BM,OAAmC,EAASA,EAAsBxH,eAIpIxH,cAAKoF,EAAWzqB,OAAOulB,OAAO,GAAIoG,EAAO1lB,MAAO0lB,EAAON,kBAAmB,CAE/EnlB,IAAKuS,YAAUgS,GAAakB,EAAOnT,aAAe,YAChD,UAEL,KAEJ,CACDnY,IAAK,yBACLmE,MAAO,SAAgC0d,QAChBjL,IAAjB/D,KAAKwR,UAIT1S,iBAA8BiF,IAApBiL,EAA+B,uQAAkR8E,EAAaA,QAEhT/P,IAApBiL,IAIJhP,KAAKwR,QAAUxC,EACfhP,KAAK4gB,eAAiB1B,EAAclQ,GACpChP,KAAK6gB,iBAAmB5B,EAAgBjQ,EAAgB0N,cACxD1c,KAAK8Z,QAAUiF,EAAc/e,KAAK4gB,eAAgB5gB,KAAKsF,qBAnOe8P,EAAkBD,EAAY1T,UAAWkU,GAAiBC,GAAaR,EAAkBD,EAAaS,GAuOzK0K,EA7L4B,CA8LnC7a,aAMF,OAJA0R,EAAgBmJ,EAAmB,qBAAsBhJ,GAEzDH,EAAgBmJ,EAAmB,cAAe,GAAGtM,OAAO8K,EAAsB,KAAK9K,OAAOF,EAAa,MAEpGkF,IAAasH,EAAmBhJ,K,kBCtPzC1U,EAAOC,QAVP,SAAgCue,EAASC,GAIvC,OAHKA,IACHA,EAAMD,EAAQze,MAAM,IAEf7V,OAAOw0B,OAAOx0B,OAAOy0B,iBAAiBH,EAAS,CACpDC,IAAK,CACH/vB,MAAOxE,OAAOw0B,OAAOD,QAIcze,EAAOC,QAAQsM,YAAa,EAAMvM,EAAOC,QAAiB,QAAID,EAAOC,S,oBCV9G,IAAI2e,EAAoB,EAAQ,KAC5BC,EAAkB,EAAQ,KAC1BC,EAA6B,EAAQ,KACrCC,EAAoB,EAAQ,KAIhC/e,EAAOC,QAHP,SAA4BqM,GAC1B,OAAOsS,EAAkBtS,IAAQuS,EAAgBvS,IAAQwS,EAA2BxS,IAAQyS,KAEzD/e,EAAOC,QAAQsM,YAAa,EAAMvM,EAAOC,QAAiB,QAAID,EAAOC,S,yZCNnG,SAAS+e,EAAQC,GACtB,IAAIze,EAAS,KAUb,OARe,WAKb,OAJc,MAAVA,IACFA,EAASye,KAGJze,GCPX,SAASgS,EAAkB1jB,EAAQqB,GAAS,IAAK,IAAIyc,EAAI,EAAGA,EAAIzc,EAAMrD,OAAQ8f,IAAK,CAAE,IAAI6F,EAAatiB,EAAMyc,GAAI6F,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAM1oB,OAAO2oB,eAAe/jB,EAAQ2jB,EAAWloB,IAAKkoB,IAI7S,SAAS8B,EAAgBjqB,EAAKC,EAAKmE,GAAiK,OAApJnE,KAAOD,EAAOJ,OAAO2oB,eAAevoB,EAAKC,EAAK,CAAEmE,MAAOA,EAAOgkB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBtoB,EAAIC,GAAOmE,EAAgBpE,EAGpM,IAAI40B,EAAiC,WAC1C,SAASA,EAAkBC,IAV7B,SAAyB7M,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIxR,UAAU,qCAW5GsR,CAAgBjV,KAAM8hB,GAEtB3K,EAAgBnX,KAAM,UAAW,IAEjCmX,EAAgBnX,KAAM,wBAAoB,GAE1CA,KAAK+hB,iBAAmBA,EAb5B,IAAsB5M,EAAaQ,EAAYC,EA4C7C,OA5CoBT,EAgBP2M,GAhBoBnM,EAgBD,CAAC,CAC/BxoB,IAAK,QACLmE,MAAO,SAAe0wB,GACpB,IAAInK,EAAQ7X,KAERiiB,EAAiBjiB,KAAKkiB,QAAQxyB,OAOlC,OADAsQ,KAAKkiB,QDRJ,SAAeC,EAAQC,GAC5B,IAAIC,EAAM,IAAIC,IAEVC,EAAa,SAAoB3wB,GACnC,OAAOywB,EAAIG,IAAI5wB,IAGjBuwB,EAAOxhB,QAAQ4hB,GACfH,EAAOzhB,QAAQ4hB,GACf,IAAInf,EAAS,GAIb,OAHAif,EAAI1hB,SAAQ,SAAUxT,GACpB,OAAOiW,EAAOgH,KAAKjd,MAEdiW,ECLYqf,CAAMziB,KAAKkiB,QAAQQ,QAJd,SAAuB1lB,GACzC,OAAO6a,EAAMkK,iBAAiB/kB,MAAWA,EAAK2lB,UAAY3lB,EAAK2lB,SAASX,OAGjB,CAACA,IAChC,IAAnBC,GAAwBjiB,KAAKkiB,QAAQxyB,OAAS,IAEtD,CACDvC,IAAK,QACLmE,MAAO,SAAesxB,GACpB,IDnBkBC,EAAOjxB,ECmBrBqwB,EAAiBjiB,KAAKkiB,QAAQxyB,OAElC,OADAsQ,KAAKkiB,SDpBaW,ECoBK7iB,KAAKkiB,QAAQQ,OAAO1iB,KAAK+hB,kBDpBvBnwB,ECoB0CgxB,EDnBhEC,EAAMH,QAAO,SAAUlT,GAC5B,OAAOA,IAAM5d,MCmBJqwB,EAAiB,GAA6B,IAAxBjiB,KAAKkiB,QAAQxyB,SAE3C,CACDvC,IAAK,QACLmE,MAAO,WACL0O,KAAKkiB,QAAU,QAxCyD9M,EAAkBD,EAAY1T,UAAWkU,GAAiBC,GAAaR,EAAkBD,EAAaS,GA4C3KkM,EAvCmC,GCRjCgB,EAAYlB,GAAQ,WAC7B,MAAO,WAAWlf,KAAKqgB,UAAUC,cAExBC,EAAWrB,GAAQ,WAC5B,OAAOjL,QAAQ3M,OAAOkZ,WCHxB,SAAS9N,EAAkB1jB,EAAQqB,GAAS,IAAK,IAAIyc,EAAI,EAAGA,EAAIzc,EAAMrD,OAAQ8f,IAAK,CAAE,IAAI6F,EAAatiB,EAAMyc,GAAI6F,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAM1oB,OAAO2oB,eAAe/jB,EAAQ2jB,EAAWloB,IAAKkoB,IAI7S,SAAS8B,EAAgBjqB,EAAKC,EAAKmE,GAAiK,OAApJnE,KAAOD,EAAOJ,OAAO2oB,eAAevoB,EAAKC,EAAK,CAAEmE,MAAOA,EAAOgkB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBtoB,EAAIC,GAAOmE,EAAgBpE,EAEpM,IAAIi2B,EAAoC,WAC7C,SAASA,EAAqBjzB,EAAIkzB,IATpC,SAAyBlO,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIxR,UAAU,qCAU5GsR,CAAgBjV,KAAMmjB,GAEtBhM,EAAgBnX,KAAM,UAAM,GAE5BmX,EAAgBnX,KAAM,UAAM,GAE5BmX,EAAgBnX,KAAM,WAAO,GAE7BmX,EAAgBnX,KAAM,WAAO,GAE7BmX,EAAgBnX,KAAM,WAAO,GAM7B,IAJA,IAAItQ,EAASQ,EAAGR,OAEZ2zB,EAAU,GAEL7T,EAAI,EAAGA,EAAI9f,EAAQ8f,IAC1B6T,EAAQjZ,KAAKoF,GAGf6T,EAAQr2B,MAAK,SAAUkJ,EAAGotB,GACxB,OAAOpzB,EAAGgG,GAAKhG,EAAGozB,IAAM,EAAI,KAS9B,IANA,IAGIC,EACAC,EAJAC,EAAM,GACNC,EAAM,GACNC,EAAK,GAIAjU,EAAK,EAAGA,EAAKhgB,EAAS,EAAGggB,IAChC6T,EAAKrzB,EAAGwf,EAAK,GAAKxf,EAAGwf,GACrB8T,EAAKJ,EAAG1T,EAAK,GAAK0T,EAAG1T,GACrBgU,EAAItZ,KAAKmZ,GACTE,EAAIrZ,KAAKoZ,GACTG,EAAGvZ,KAAKoZ,EAAKD,GAMf,IAFA,IAAIK,EAAM,CAACD,EAAG,IAELxD,EAAM,EAAGA,EAAMuD,EAAIh0B,OAAS,EAAGywB,IAAO,CAC7C,IAAI0D,EAAKF,EAAGxD,GACR2D,EAAQH,EAAGxD,EAAM,GAErB,GAAI0D,EAAKC,GAAS,EAChBF,EAAIxZ,KAAK,OACJ,CACLmZ,EAAKG,EAAIvD,GACT,IAAI4D,EAASL,EAAIvD,EAAM,GACnB6D,EAAST,EAAKQ,EAClBH,EAAIxZ,KAAK,EAAI4Z,IAAWA,EAASD,GAAUF,GAAMG,EAAST,GAAMO,KAIpEF,EAAIxZ,KAAKuZ,EAAGA,EAAGj0B,OAAS,IAMxB,IAJA,IAEIu0B,EAFAC,EAAM,GACNC,EAAM,GAGDC,EAAM,EAAGA,EAAMR,EAAIl0B,OAAS,EAAG00B,IAAO,CAC7CH,EAAIN,EAAGS,GACP,IAAIC,EAAKT,EAAIQ,GACTE,EAAQ,EAAIZ,EAAIU,GAEhBG,EAAUF,EAAKT,EAAIQ,EAAM,GAAKH,EAAIA,EAEtCC,EAAI9Z,MAAM6Z,EAAII,EAAKE,GAAWD,GAC9BH,EAAI/Z,KAAKma,EAAUD,EAAQA,GAG7BtkB,KAAK9P,GAAKA,EACV8P,KAAKojB,GAAKA,EACVpjB,KAAK4jB,IAAMA,EACX5jB,KAAKkkB,IAAMA,EACXlkB,KAAKmkB,IAAMA,EAlFf,IAAsBhP,EAAaQ,EAAYC,EA8H7C,OA9HoBT,EAqFPgO,GArFoBxN,EAqFE,CAAC,CAClCxoB,IAAK,cACLmE,MAAO,SAAqB0Z,GAC1B,IAAI9a,EAAK8P,KAAK9P,GACVkzB,EAAKpjB,KAAKojB,GACVQ,EAAM5jB,KAAK4jB,IACXM,EAAMlkB,KAAKkkB,IACXC,EAAMnkB,KAAKmkB,IAEX3U,EAAItf,EAAGR,OAAS,EAEpB,GAAIsb,IAAM9a,EAAGsf,GACX,OAAO4T,EAAG5T,GAQZ,IAJA,IAEIgV,EAFAC,EAAM,EACNC,EAAOP,EAAIz0B,OAAS,EAGjB+0B,GAAOC,GAAM,CAElB,IAAIC,EAAQz0B,EADZs0B,EAAM7qB,KAAKirB,MAAM,IAAOH,EAAMC,KAG9B,GAAIC,EAAQ3Z,EACVyZ,EAAMD,EAAM,MACP,MAAIG,EAAQ3Z,GAGjB,OAAOoY,EAAGoB,GAFVE,EAAOF,EAAM,GAQjB,IAAIK,EAAO7Z,EAAI9a,EAFfsf,EAAI7V,KAAKiI,IAAI,EAAG8iB,IAGZI,EAASD,EAAOA,EACpB,OAAOzB,EAAG5T,GAAKoU,EAAIpU,GAAKqV,EAAOX,EAAI1U,GAAKsV,EAASX,EAAI3U,GAAKqV,EAAOC,OA1HO1P,EAAkBD,EAAY1T,UAAWkU,GAAiBC,GAAaR,EAAkBD,EAAaS,GA8H3KuN,EA1HsC,GCLxC,SAAS4B,EAAoB/nB,GAClC,IAAIgoB,EAFa,IAERhoB,EAAKioB,SAA4BjoB,EAAOA,EAAKkoB,cAEtD,IAAKF,EACH,OAAO,KAGT,IAAIG,EAAwBH,EAAGI,wBAC3BC,EAAMF,EAAsBE,IAGhC,MAAO,CACLra,EAHSma,EAAsBG,KAI/BC,EAAGF,GAGA,SAASG,EAAqBh0B,GACnC,MAAO,CACLwZ,EAAGxZ,EAAEi0B,QACLF,EAAG/zB,EAAEk0B,SAyBF,SAASC,EAAqBC,EAAY3J,EAAa4J,EAAcC,EAAaC,GAGvF,IAAIC,EAxBN,SAAqBhpB,GACnB,IAAIipB,EAEJ,MAAyB,QAAlBjpB,EAAKkpB,WAAuBpD,OAAwE,QAAtDmD,EAAwBre,SAASue,uBAAuD,IAA1BF,GAAoCA,EAAsBtD,SAAS3lB,KAqBxKopB,CAAYnK,GAEtBoK,EAAkCtB,EADhBiB,EAAUJ,EAAa3J,GAEzCqK,EAAwB,CAC1Btb,EAAG6a,EAAa7a,EAAIqb,EAAgCrb,EACpDua,EAAGM,EAAaN,EAAIc,EAAgCd,GAElDgB,EAAcX,EAAWY,YACzBC,EAAeb,EAAWc,aAC1BC,EAAUb,EAAYa,QACtBC,EAAUd,EAAYc,QAEtBC,EA9BN,SAA4Bb,EAAS/J,EAAasK,EAAaE,GAC7D,IAAIK,EAAmBd,EAAU/J,EAAY3pB,MAAQi0B,EACjDQ,EAAoBf,EAAU/J,EAAY5pB,OAASo0B,EAOvD,OALIxD,KAAc+C,IAChBe,GAAqB/c,OAAOgd,iBAC5BF,GAAoB9c,OAAOgd,kBAGtB,CACLF,iBAAkBA,EAClBC,kBAAmBA,GAmBKE,CAAmBjB,EAAS/J,EAAasK,EAAaE,GAC5EK,EAAmBD,EAAoBC,iBACvCC,EAAoBF,EAAoBE,kBA4BxCG,EAAUnB,EAAYmB,QACtBC,EAAUpB,EAAYoB,QAEtBC,EAA8B,IAAZD,GAAiBA,EACvC,MAAO,CACLnc,EAHgC,IAAZkc,GAAiBA,EAGhBA,EAbF,IAAI/D,EAAqB,CAAC,EAAG,GAAK,GAAI,CACzDmD,EAAsBtb,EACtBsb,EAAsBtb,EAAIub,EAAcO,EACxCR,EAAsBtb,EAAI8b,EAAmBP,IACzBc,YAAYV,GAUhCpB,EAAG6B,EAAkBD,EAhCA,WACrB,IAII5B,EAJe,IAAIpC,EAAqB,CAAC,EAAG,GAAK,GAAI,CACzDmD,EAAsBf,EACtBe,EAAsBf,EAAIkB,EAAeM,EACzCT,EAAsBf,EAAIwB,EAAoBN,IACzBY,YAAYT,GAOjC,OALI3D,KAAc+C,IAEhBT,IAAMvb,OAAOgd,iBAAmB,GAAKD,GAGhCxB,EAoBwB+B,IClG5B,ICAHC,EDAOC,EAAO,kBACPC,EAAM,iBACNC,EAAO,kBACPC,EAAO,kBEHX,SAASC,EAAwBC,EAAcC,EAAY13B,GAChE,IAAIgT,EAAS0kB,EAAW76B,QAAO,SAAU86B,EAAaC,GACpD,OAAOD,GAAeF,EAAaI,QAAQD,KAC1C,IACH,OAAiB,MAAV5kB,EAAiBA,EAAShT,EDFnC,SAAS+mB,EAAgBjqB,EAAKC,EAAKmE,GAAiK,OAApJnE,KAAOD,EAAOJ,OAAO2oB,eAAevoB,EAAKC,EAAK,CAAEmE,MAAOA,EAAOgkB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBtoB,EAAIC,GAAOmE,EAAgBpE,EAIpM,IAAIg7B,GAA8C/Q,EAAzBoQ,EAAqB,GAAwCY,EAAkB,CAC7GC,iBAAkB,CAChBC,MAAO,SAAeR,GACpB,OAAOlsB,MAAM8F,UAAUkB,MAAMP,KAAKylB,EAAaQ,QAEjDxF,MAAO,SAAegF,GACpB,OAAOA,EAAahF,OAEtBgF,aAAc,SAAsBS,GAClC,OAAOA,IAGXC,aAAc,CAAC,WACbpR,EAAgBoQ,EAAoBY,EAAkB,CACxDC,iBAAkB,CAChBI,KAAM,SAAcX,EAAcU,GAChC,OAAOX,EAAwBC,EAAcU,EAAc,KAE7DV,aAAc,SAAsBY,GAClC,OAAOA,IAGXF,aAAc,CAAC,OAAQ,eACrBpR,EAAgBoQ,EAAoBY,EAAiB,CACvDC,iBAAkB,CAChBM,KAAM,SAAcb,EAAcU,GAChC,OAAOX,EAAwBC,EAAcU,EAAc,IAAIlwB,MAAM,OAEvEwvB,aAAc,SAAsBc,GAClC,OAAOA,IAGXJ,aAAc,CAAC,MAAO,mBACpBpR,EAAgBoQ,EAAoBY,EAAkB,CACxDC,iBAAkB,CAChBhyB,KAAM,SAAcyxB,EAAcU,GAChC,OAAOX,EAAwBC,EAAcU,EAAc,KAE7DV,aAAc,SAAsBe,GAClC,OAAOA,IAGXL,aAAc,CAAC,OAAQ,gBACrBhB,GE/CJ,SAASnS,EAAkB1jB,EAAQqB,GAAS,IAAK,IAAIyc,EAAI,EAAGA,EAAIzc,EAAMrD,OAAQ8f,IAAK,CAAE,IAAI6F,EAAatiB,EAAMyc,GAAI6F,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAM1oB,OAAO2oB,eAAe/jB,EAAQ2jB,EAAWloB,IAAKkoB,IAI7S,SAAS8B,EAAgBjqB,EAAKC,EAAKmE,GAAiK,OAApJnE,KAAOD,EAAOJ,OAAO2oB,eAAevoB,EAAKC,EAAK,CAAEmE,MAAOA,EAAOgkB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBtoB,EAAIC,GAAOmE,EAAgBpE,EAEpM,IAAI27B,EAAgC,WACzC,SAASA,EAAiBC,IAT5B,SAAyB5T,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIxR,UAAU,qCAU5GsR,CAAgBjV,KAAM6oB,GAEtB1R,EAAgBnX,KAAM,YAAQ,GAE9BmX,EAAgBnX,KAAM,cAAU,GAEhCA,KAAK8oB,OAASA,EACd9oB,KAAKpO,KAAO,GACZoO,KAAK+oB,8BAdT,IAAsB5T,EAAaQ,EAAYC,EAwE7C,OAxEoBT,EAiBP0T,GAjBoBlT,EAiBF,CAAC,CAC9BxoB,IAAK,8BACLmE,MAAO,WACL,IAAIumB,EAAQ7X,KAEZlT,OAAOC,KAAKiT,KAAK8oB,OAAOV,kBAAkBznB,SAAQ,SAAUqoB,GAC1Dl8B,OAAO2oB,eAAeoC,EAAMjmB,KAAMo3B,EAAU,CAC1CzT,cAAc,EACdD,YAAY,EACZ2T,IAAK,WAGH,OADAl5B,QAAQm5B,KAAK,mCAAmClV,OAAOgV,EAAU,4BAC1D,aAKd,CACD77B,IAAK,mBACLmE,MAAO,SAA0Bu2B,GAC/B,IAAIpP,EAASzY,KAEb,GAAI6nB,EAAc,CAChB,IAAIsB,EAAgB,GACpBr8B,OAAOC,KAAKiT,KAAK8oB,OAAOV,kBAAkBznB,SAAQ,SAAUqoB,GAC1DG,EAAcH,GAAY,CACxB13B,MAAOmnB,EAAOqQ,OAAOV,iBAAiBY,GAAUnB,EAAcpP,EAAOqQ,OAAOP,cAC5EhT,cAAc,EACdD,YAAY,MAGhBxoB,OAAOy0B,iBAAiBvhB,KAAKpO,KAAMu3B,MAGtC,CACDh8B,IAAK,UACLmE,MAAO,WACL,OAAO,IAER,CACDnE,IAAK,YACLmE,MAAO,WACL,OAAO0O,KAAKpO,OAEb,CACDzE,IAAK,aACLmE,MAAO,SAAoBsnB,EAASwQ,GAClC,OAAOA,IAAWxQ,EAAQa,gBAE3B,CACDtsB,IAAK,UACLmE,MAAO,iBApEmE8jB,EAAkBD,EAAY1T,UAAWkU,GAAiBC,GAAaR,EAAkBD,EAAaS,GAwE3KiT,EApEkC,GCDpC,SAASQ,EAAoBxB,GAClC,IAAKA,EACH,OAAO,KAGT,IAAIyB,EAAoB3tB,MAAM8F,UAAUkB,MAAMP,KAAKylB,EAAa0B,OAAS,IACzE,OAAOz8B,OAAOC,KAAKm7B,GAAmBxF,QAAO,SAAU8G,GAErD,OADmBtB,EAAkBsB,GAAgBjB,aACjC9sB,MAAK,SAAUpQ,GACjC,OAAOi+B,EAAkBnsB,QAAQ9R,IAAM,QAExC,IAAM,KChBX,SAAS+pB,EAAkB1jB,EAAQqB,GAAS,IAAK,IAAIyc,EAAI,EAAGA,EAAIzc,EAAMrD,OAAQ8f,IAAK,CAAE,IAAI6F,EAAatiB,EAAMyc,GAAI6F,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAM1oB,OAAO2oB,eAAe/jB,EAAQ2jB,EAAWloB,IAAKkoB,IAI7S,SAAS8B,EAAgBjqB,EAAKC,EAAKmE,GAAiK,OAApJnE,KAAOD,EAAOJ,OAAO2oB,eAAevoB,EAAKC,EAAK,CAAEmE,MAAOA,EAAOgkB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBtoB,EAAIC,GAAOmE,EAAgBpE,EAEpM,IAAIu8B,EAA6B,WACtC,SAASA,EAAcC,EAAe1mB,IATxC,SAAyBkS,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIxR,UAAU,qCAU5GsR,CAAgBjV,KAAMypB,GAEtBtS,EAAgBnX,KAAM,gBAAiB,MAEvCmX,EAAgBnX,KAAM,qBAAiB,GAEvCmX,EAAgBnX,KAAM,mBAAe,GAErCA,KAAK0pB,cAAgBA,EACrB1pB,KAAK2pB,YAAc3mB,EAfvB,IAAsBmS,EAAaQ,EAAYC,EAmD7C,OAnDoBT,EAkBPsU,GAlBoB9T,EAkBL,CAAC,CAC3BxoB,IAAK,SACL87B,IAAK,WACH,OAAIjpB,KAAK0pB,cACA1pB,KAAK0pB,cACe,qBAAX1f,OACTA,YADF,IAMR,CACD7c,IAAK,WACL87B,IAAK,WACH,IAAIW,EAEJ,OAAmD,QAA9CA,EAAsB5pB,KAAK0pB,qBAAmD,IAAxBE,GAAkCA,EAAoBhiB,SACxG5H,KAAK0pB,cAAc9hB,SACjB5H,KAAKgK,OACPhK,KAAKgK,OAAOpC,cAEnB,IAGH,CACDza,IAAK,cACL87B,IAAK,WACH,IAAIY,EAEJ,OAAmD,QAA1CA,EAAoB7pB,KAAK2pB,mBAA+C,IAAtBE,OAA+B,EAASA,EAAkBC,cAAgB9pB,KAAKgK,YA/ClEoL,EAAkBD,EAAY1T,UAAWkU,GAAiBC,GAAaR,EAAkBD,EAAaS,GAmD3K6T,EA/C+B,GCRxC,SAASM,EAAQC,EAAQC,GAAkB,IAAIl9B,EAAOD,OAAOC,KAAKi9B,GAAS,GAAIl9B,OAAOmkB,sBAAuB,CAAE,IAAIiZ,EAAUp9B,OAAOmkB,sBAAsB+Y,GAAaC,IAAkBC,EAAUA,EAAQxH,QAAO,SAAUyH,GAAO,OAAOr9B,OAAOs9B,yBAAyBJ,EAAQG,GAAK7U,eAAkBvoB,EAAKqd,KAAKpG,MAAMjX,EAAMm9B,GAAY,OAAOn9B,EAElV,SAASs9B,EAAc34B,GAAU,IAAK,IAAI8d,EAAI,EAAGA,EAAI9K,UAAUhV,OAAQ8f,IAAK,CAAE,IAAIqB,EAAyB,MAAhBnM,UAAU8K,GAAa9K,UAAU8K,GAAK,GAAQA,EAAI,EAAKua,EAAQj9B,OAAO+jB,IAAS,GAAMlQ,SAAQ,SAAUxT,GAAOgqB,GAAgBzlB,EAAQvE,EAAK0jB,EAAO1jB,OAAsBL,OAAOw9B,0BAA6Bx9B,OAAOy0B,iBAAiB7vB,EAAQ5E,OAAOw9B,0BAA0BzZ,IAAmBkZ,EAAQj9B,OAAO+jB,IAASlQ,SAAQ,SAAUxT,GAAOL,OAAO2oB,eAAe/jB,EAAQvE,EAAKL,OAAOs9B,yBAAyBvZ,EAAQ1jB,OAAe,OAAOuE,EAI7gB,SAAS0jB,GAAkB1jB,EAAQqB,GAAS,IAAK,IAAIyc,EAAI,EAAGA,EAAIzc,EAAMrD,OAAQ8f,IAAK,CAAE,IAAI6F,EAAatiB,EAAMyc,GAAI6F,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAM1oB,OAAO2oB,eAAe/jB,EAAQ2jB,EAAWloB,IAAKkoB,IAI7S,SAAS8B,GAAgBjqB,EAAKC,EAAKmE,GAAiK,OAApJnE,KAAOD,EAAOJ,OAAO2oB,eAAevoB,EAAKC,EAAK,CAAEmE,MAAOA,EAAOgkB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBtoB,EAAIC,GAAOmE,EAAgBpE,EAOpM,I,GAAIq9B,GAAgC,WAGzC,SAASA,EAAiB/Y,EAASkY,EAAe1mB,GAChD,IAAI6U,EAAQ7X,MAjBhB,SAAyBkV,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIxR,UAAU,qCAmB5GsR,CAAgBjV,KAAMuqB,GAEtBpT,GAAgBnX,KAAM,eAAW,GAEjCmX,GAAgBnX,KAAM,eAAW,GAEjCmX,GAAgBnX,KAAM,eAAW,GAEjCmX,GAAgBnX,KAAM,gBAAY,GAElCmX,GAAgBnX,KAAM,yBAAqB,GAE3CmX,GAAgBnX,KAAM,qBAAsB,IAAIwqB,KAEhDrT,GAAgBnX,KAAM,2BAA4B,IAAIwqB,KAEtDrT,GAAgBnX,KAAM,cAAe,IAAIwqB,KAEzCrT,GAAgBnX,KAAM,oBAAqB,IAAIwqB,KAE/CrT,GAAgBnX,KAAM,qBAAsB,MAE5CmX,GAAgBnX,KAAM,gBAAiB,IAEvCmX,GAAgBnX,KAAM,qBAAsB,IAE5CmX,GAAgBnX,KAAM,sBAAuB,MAE7CmX,GAAgBnX,KAAM,sBAAuB,MAE7CmX,GAAgBnX,KAAM,wBAAyB,MAE/CmX,GAAgBnX,KAAM,iBAAiB,GAEvCmX,GAAgBnX,KAAM,wBAAyB,MAE/CmX,GAAgBnX,KAAM,sBAAuB,MAE7CmX,GAAgBnX,KAAM,oBAAqB,MAE3CmX,GAAgBnX,KAAM,mBAAoB,MAE1CmX,GAAgBnX,KAAM,aAAc,MAEpCmX,GAAgBnX,KAAM,yBAAyB,SAAUue,GACvD,IAAI1N,EAASgH,EAAM4S,YAAYxB,IAAI1K,GAEnC,OAAO1N,GAAUkU,EAAoBlU,IAAW,QAGlDsG,GAAgBnX,KAAM,qBAAqB,WACpC6X,EAAM6S,yBAIX7S,EAAM8S,QAAQnM,UAEV3G,EAAM+S,qBACR/S,EAAMgT,SAASC,aAAajT,EAAM+S,qBAGpC/S,EAAM+S,oBAAsB,KAC5B/S,EAAMkT,oBAAsB,SAG9B5T,GAAgBnX,KAAM,oBAAoB,SAAUhD,GAElD,OAAO2Z,QAAQ3Z,GAAQ6a,EAAMjQ,UAAYiQ,EAAMjQ,SAASojB,MAAQnT,EAAMjQ,SAASojB,KAAKrI,SAAS3lB,OAG/Fma,GAAgBnX,KAAM,oCAAoC,WACxD,IAAIhD,EAAO6a,EAAMoT,sBAEL,MAARjuB,GAAgB6a,EAAMkK,iBAAiB/kB,IAIvC6a,EAAMqT,8BAAgCrT,EAAMe,QAAQY,cACtD3B,EAAM8S,QAAQnM,aAIlBrH,GAAgBnX,KAAM,6BAA6B,WACjD6X,EAAMqT,6BAENrT,EAAMsT,mBAAqB,MAG7BhU,GAAgBnX,KAAM,sBAAsB,SAAUxO,GACpD,IAAIA,EAAE45B,iBAAN,CAIA,IAAID,EAAqBtT,EAAMsT,mBAC/BtT,EAAMsT,mBAAqB,KAC3B,IAAItF,EAAeL,EAAqBh0B,GAEpCqmB,EAAMe,QAAQY,cAChB3B,EAAM8S,QAAQnM,UAIhB3G,EAAM8S,QAAQrM,UAAU6M,GAAsB,GAAI,CAChDE,eAAe,EACfC,sBAAuBzT,EAAMyT,sBAC7BzF,aAAcA,IAGhB,IAAIgC,EAAer2B,EAAEq2B,aACjB0D,EAAalC,EAAoBxB,GAErC,GAAIhQ,EAAMe,QAAQY,aAAc,CAC9B,GAAIqO,GAAqD,oBAA9BA,EAAa2D,aAA6B,CAInE,IAAIjN,EAAW1G,EAAMe,QAAQa,cAEzBmM,EAAa/N,EAAM4S,YAAYxB,IAAI1K,GAEnCtC,EAAcpE,EAAM4T,mBAAmBxC,IAAI1K,IAAaqH,EAE5D,GAAI3J,EAAa,CACf,IAAIyP,EAAwB7T,EAAM8T,qCAc9BC,EAAoBjG,EAAqBC,EAAY3J,EAAa4J,EARpD,CAChBc,QANY+E,EAAsB/E,QAOlCC,QANY8E,EAAsB9E,SAQlB,CAChBM,QARYwE,EAAsBxE,QASlCC,QARYuE,EAAsBvE,UAWpCU,EAAa2D,aAAavP,EAAa2P,EAAkB5gB,EAAG4gB,EAAkBrG,IAIlF,IAEmB,OAAjBsC,QAA0C,IAAjBA,GAAmCA,EAAagE,QAAQ,mBAAoB,IACrG,MAAO3b,IAKT2H,EAAMiU,yBAAyBt6B,EAAEE,QAGJmmB,EAAM8T,qCACeI,qBAsBhDlU,EAAM8S,QAAQqB,oBAdd9nB,YAAW,WACT,OAAO2T,EAAM8S,QAAQqB,sBACpB,QAcA,GAAIT,EAET1T,EAAMoU,oBAAoBV,OACrB,IAAI1D,IAAiBA,EAAa0B,QAAU/3B,EAAEE,SAAWF,EAAEE,OAAOw6B,eAAiB16B,EAAEE,OAAOw6B,aAAa,cAI9G,OAGA16B,EAAE4M,sBAIN+Y,GAAgBnX,KAAM,2BAA2B,WAC3C6X,EAAMqT,8BAAgCrT,EAAMe,QAAQY,cAItD3B,EAAM8S,QAAQnM,aAIlBrH,GAAgBnX,KAAM,6BAA6B,SAAUxO,GAK3D,GAJAqmB,EAAMsU,mBAAqB,GAERtU,EAAMuU,kBAAkBC,MAAM76B,EAAEE,UAE9BmmB,EAAMe,QAAQY,aAAnC,CAIA,IAAIqO,EAAer2B,EAAEq2B,aACjB0D,EAAalC,EAAoBxB,GAEjC0D,GAEF1T,EAAMoU,oBAAoBV,EAAY1D,OAI1C1Q,GAAgBnX,KAAM,sBAAsB,SAAUxO,GACpD,IAAI26B,EAAqBtU,EAAMsU,oBAC/BtU,EAAMsU,mBAAqB,GAEtBtU,EAAMe,QAAQY,gBAKnB3B,EAAMyU,cAAgB96B,EAAE+6B,OAIpBJ,EAAmBz8B,OAAS,GAC9BmoB,EAAM8S,QAAQ1N,MAAMkP,EAAoB,CACtCtG,aAAcL,EAAqBh0B,KAIzB26B,EAAmB1wB,MAAK,SAAUkP,GAC9C,OAAOkN,EAAMe,QAAQ4T,gBAAgB7hB,QAKrCnZ,EAAE4M,iBAEE5M,EAAEq2B,eACJr2B,EAAEq2B,aAAa4E,WAAa5U,EAAM6U,6BAKxCvV,GAAgBnX,KAAM,4BAA4B,WAChD6X,EAAM8U,kBAAoB,MAG5BxV,GAAgBnX,KAAM,qBAAqB,SAAUxO,GACnD,IAAIm7B,EAAoB9U,EAAM8U,kBAG9B,GAFA9U,EAAM8U,kBAAoB,IAErB9U,EAAMe,QAAQY,aASjB,OANAhoB,EAAE4M,sBAEE5M,EAAEq2B,eACJr2B,EAAEq2B,aAAa4E,WAAa,SAMhC5U,EAAMyU,cAAgB96B,EAAE+6B,OACxB1U,EAAM+U,iBAAmBpH,EAAqBh0B,GAErB,OAArBqmB,EAAMgV,YAAwD,qBAA1B3L,wBACtCrJ,EAAMgV,WAAa3L,uBAAsB,WACnCrJ,EAAMe,QAAQY,cAChB3B,EAAM8S,QAAQ1N,MAAM0P,GAAqB,GAAI,CAC3C9G,aAAchO,EAAM+U,mBAIxB/U,EAAMgV,WAAa,UAIRF,GAAqB,IAAIlxB,MAAK,SAAUkP,GACrD,OAAOkN,EAAMe,QAAQ4T,gBAAgB7hB,OAKrCnZ,EAAE4M,iBAEE5M,EAAEq2B,eACJr2B,EAAEq2B,aAAa4E,WAAa5U,EAAM6U,yBAE3B7U,EAAM6S,uBAGfl5B,EAAE4M,kBAEF5M,EAAE4M,iBAEE5M,EAAEq2B,eACJr2B,EAAEq2B,aAAa4E,WAAa,YAKlCtV,GAAgBnX,KAAM,6BAA6B,SAAUxO,GACvDqmB,EAAM6S,wBACRl5B,EAAE4M,iBAGcyZ,EAAMuU,kBAAkBU,MAAMt7B,EAAEE,SAM9CmmB,EAAM6S,wBACRxmB,YAAW,WACT,OAAO2T,EAAMkV,sBACZ,MAIP5V,GAAgBnX,KAAM,wBAAwB,SAAUxO,GAIpD,IAAIw7B,GAHNnV,EAAMoV,cAAgB,GAElBpV,EAAM6S,yBAGRl5B,EAAE4M,iBACsD,QAAvD4uB,EAAwBnV,EAAMkT,2BAA2D,IAA1BiC,GAA4CA,EAAsBE,iBAAiB17B,EAAEq2B,eAC5IwB,EAAoB73B,EAAEq2B,eAI/Br2B,EAAE4M,iBAGJyZ,EAAMuU,kBAAkBe,WAG1BhW,GAAgBnX,KAAM,iBAAiB,SAAUxO,GAC/C,IAAIy7B,EAAgBpV,EAAMoV,cAC1BpV,EAAMoV,cAAgB,GAEtBpV,EAAM8S,QAAQ1N,MAAMgQ,EAAe,CACjCpH,aAAcL,EAAqBh0B,KAGrCqmB,EAAM8S,QAAQzN,KAAK,CACjBuP,WAAY5U,EAAM6U,yBAGhB7U,EAAM6S,uBACR7S,EAAMkV,oBACGlV,EAAMe,QAAQY,cACvB3B,EAAM8S,QAAQnM,aAIlBrH,GAAgBnX,KAAM,qBAAqB,SAAUxO,GACnD,IAAIE,EAASF,EAAEE,OAGgB,oBAApBA,EAAO07B,WAKK,UAAnB17B,EAAO27B,SAA0C,WAAnB37B,EAAO27B,SAA2C,aAAnB37B,EAAO27B,SAA0B37B,EAAO47B,oBAMzG97B,EAAE4M,iBACF1M,EAAO07B,gBAGTptB,KAAKgD,QAAU,IAAIymB,EAAcC,EAAe1mB,GAChDhD,KAAK2qB,QAAUnZ,EAAQ+b,aACvBvtB,KAAK4Y,QAAUpH,EAAQqH,aACvB7Y,KAAK6qB,SAAWrZ,EAAQgc,cACxBxtB,KAAKosB,kBAAoB,IAAItK,EAAkB9hB,KAAK+hB,kBApZxD,IAAsB5M,EAAaQ,EAAYC,EA6sB7C,OA7sBoBT,EA2ZPoV,GA3ZoB5U,EA2ZF,CAAC,CAC9BxoB,IAAK,UACLmE,MAAO,WACL,IAAIm8B,EAAuBC,EAE3B,MAAO,CACLjC,mBAAoBzrB,KAAKyrB,mBAAmBxtB,KAC5C0vB,yBAA0B3tB,KAAK2tB,yBAAyB1vB,KACxD2vB,kBAAmB5tB,KAAK4tB,kBAAkB3vB,KAC1CwsB,YAAazqB,KAAKyqB,YAAYxsB,KAC9BktB,oBAA2E,QAArDsC,EAAwBztB,KAAKmrB,0BAA0D,IAA1BsC,OAAmC,EAASA,EAAsB/9B,SAAW,EAChKu9B,cAAejtB,KAAKitB,cAAcv9B,OAClCy8B,mBAAoBnsB,KAAKmsB,mBAAmBz8B,OAC5Ci9B,mBAAyE,QAApDe,EAAwB1tB,KAAK2sB,yBAAyD,IAA1Be,OAAmC,EAASA,EAAsBh+B,SAAW,KAIjK,CACDvC,IAAK,SACL87B,IAAK,WACH,OAAOjpB,KAAKgD,QAAQgH,SAErB,CACD7c,IAAK,WACL87B,IAAK,WACH,OAAOjpB,KAAKgD,QAAQ4E,WAMrB,CACDza,IAAK,cACL87B,IAAK,WACH,OAAOjpB,KAAKgD,QAAQ8mB,cAErB,CACD38B,IAAK,QACLmE,MAAO,WACL,IAAIgQ,EAAOtB,KAAK8pB,YAEhB,QAAa/lB,IAATzC,EAAJ,CAIA,GAAIA,EAAKusB,yBACP,MAAM,IAAI9Z,MAAM,oDAGlBzS,EAAKusB,0BAA2B,EAChC7tB,KAAK8tB,kBAAkBxsB,MAExB,CACDnU,IAAK,WACLmE,MAAO,WACL,IAWMy8B,EAXFzsB,EAAOtB,KAAK8pB,iBAEH/lB,IAATzC,IAIJA,EAAKusB,0BAA2B,EAChC7tB,KAAKguB,qBAAqBhuB,KAAK8pB,aAC/B9pB,KAAKkrB,6BAEDlrB,KAAKiuB,sBAG0B,QAAhCF,EAAe/tB,KAAKgK,cAAqC,IAAjB+jB,GAAmCA,EAAaG,qBAAqBluB,KAAKiuB,yBAGtH,CACD9gC,IAAK,qBACLmE,MAAO,SAA4BitB,EAAUvhB,EAAMgG,GACjD,IAAIyV,EAASzY,KAIb,OAFAA,KAAK2tB,yBAAyBtL,IAAI9D,EAAUvb,GAC5ChD,KAAKyrB,mBAAmBpJ,IAAI9D,EAAUvhB,GAC/B,WACLyb,EAAOgT,mBAAmB0C,OAAO5P,GAEjC9F,EAAOkV,yBAAyBQ,OAAO5P,MAG1C,CACDpxB,IAAK,oBACLmE,MAAO,SAA2BitB,EAAUvhB,EAAMgG,GAChD,IAAIorB,EAASpuB,KAEbA,KAAKyqB,YAAYpI,IAAI9D,EAAUvhB,GAC/BgD,KAAK4tB,kBAAkBvL,IAAI9D,EAAUvb,GAErC,IAAIqrB,EAAkB,SAAyB78B,GAC7C,OAAO48B,EAAOC,gBAAgB78B,EAAG+sB,IAG/B+P,EAAoB,SAA2B98B,GACjD,OAAO48B,EAAOE,kBAAkB98B,IAMlC,OAHAwL,EAAKuxB,aAAa,YAAa,QAC/BvxB,EAAKwxB,iBAAiB,YAAaH,GACnCrxB,EAAKwxB,iBAAiB,cAAeF,GAC9B,WACLF,EAAO3D,YAAY0D,OAAO5P,GAE1B6P,EAAOR,kBAAkBO,OAAO5P,GAEhCvhB,EAAKyxB,oBAAoB,YAAaJ,GACtCrxB,EAAKyxB,oBAAoB,cAAeH,GACxCtxB,EAAKuxB,aAAa,YAAa,YAGlC,CACDphC,IAAK,oBACLmE,MAAO,SAA2BqZ,EAAU3N,GAC1C,IAAI0xB,EAAS1uB,KAET2uB,EAAkB,SAAyBn9B,GAC7C,OAAOk9B,EAAOC,gBAAgBn9B,EAAGmZ,IAG/BikB,EAAiB,SAAwBp9B,GAC3C,OAAOk9B,EAAOE,eAAep9B,EAAGmZ,IAG9BkkB,EAAa,SAAoBr9B,GACnC,OAAOk9B,EAAOG,WAAWr9B,EAAGmZ,IAM9B,OAHA3N,EAAKwxB,iBAAiB,YAAaG,GACnC3xB,EAAKwxB,iBAAiB,WAAYI,GAClC5xB,EAAKwxB,iBAAiB,OAAQK,GACvB,WACL7xB,EAAKyxB,oBAAoB,YAAaE,GACtC3xB,EAAKyxB,oBAAoB,WAAYG,GACrC5xB,EAAKyxB,oBAAoB,OAAQI,MAGpC,CACD1hC,IAAK,oBACLmE,MAAO,SAA2BI,GAE3BA,EAAO88B,mBAIZ98B,EAAO88B,iBAAiB,YAAaxuB,KAAK8uB,oBAC1Cp9B,EAAO88B,iBAAiB,YAAaxuB,KAAK+uB,2BAA2B,GACrEr9B,EAAO88B,iBAAiB,UAAWxuB,KAAKgvB,yBAAyB,GACjEt9B,EAAO88B,iBAAiB,YAAaxuB,KAAKivB,oBAC1Cv9B,EAAO88B,iBAAiB,YAAaxuB,KAAKkvB,2BAA2B,GACrEx9B,EAAO88B,iBAAiB,YAAaxuB,KAAKmvB,2BAA2B,GACrEz9B,EAAO88B,iBAAiB,WAAYxuB,KAAKovB,mBACzC19B,EAAO88B,iBAAiB,WAAYxuB,KAAKqvB,0BAA0B,GACnE39B,EAAO88B,iBAAiB,OAAQxuB,KAAKsvB,eACrC59B,EAAO88B,iBAAiB,OAAQxuB,KAAKuvB,sBAAsB,MAE5D,CACDpiC,IAAK,uBACLmE,MAAO,SAA8BI,GAE9BA,EAAO+8B,sBAIZ/8B,EAAO+8B,oBAAoB,YAAazuB,KAAK8uB,oBAC7Cp9B,EAAO+8B,oBAAoB,YAAazuB,KAAK+uB,2BAA2B,GACxEr9B,EAAO+8B,oBAAoB,UAAWzuB,KAAKgvB,yBAAyB,GACpEt9B,EAAO+8B,oBAAoB,YAAazuB,KAAKivB,oBAC7Cv9B,EAAO+8B,oBAAoB,YAAazuB,KAAKkvB,2BAA2B,GACxEx9B,EAAO+8B,oBAAoB,YAAazuB,KAAKmvB,2BAA2B,GACxEz9B,EAAO+8B,oBAAoB,WAAYzuB,KAAKovB,mBAC5C19B,EAAO+8B,oBAAoB,WAAYzuB,KAAKqvB,0BAA0B,GACtE39B,EAAO+8B,oBAAoB,OAAQzuB,KAAKsvB,eACxC59B,EAAO+8B,oBAAoB,OAAQzuB,KAAKuvB,sBAAsB,MAE/D,CACDpiC,IAAK,8BACLmE,MAAO,WACL,IAAIitB,EAAWve,KAAK4Y,QAAQa,cACxBmU,EAAoB5tB,KAAK4tB,kBAAkB3E,IAAI1K,GACnD,OAAO8L,EAAc,CACnBoC,WAAYzsB,KAAKssB,cAAgB,OAAS,QACzCsB,GAAqB,MAEzB,CACDzgC,IAAK,uBACLmE,MAAO,WACL,OAAI0O,KAAK0qB,uBAEA,OAGF1qB,KAAKwvB,8BAA8B/C,aAE3C,CACDt/B,IAAK,qCACLmE,MAAO,WACL,IAAIitB,EAAWve,KAAK4Y,QAAQa,cAE5B,OAAO4Q,EAAc,CACnB1D,QAAS,GACTC,QAAS,GACTmF,sBAAsB,GAJO/rB,KAAK2tB,yBAAyB1E,IAAI1K,IAKlC,MAEhC,CACDpxB,IAAK,uBACLmE,MAAO,WACL,IAAI0oB,EAAWha,KAAK4Y,QAAQ6W,cAC5B,OAAO3iC,OAAOC,KAAKo7B,GAAa1sB,MAAK,SAAUtO,GAC7C,OAAOg7B,EAAYh7B,KAAS6sB,OAG/B,CACD7sB,IAAK,sBACLmE,MAAO,SAA6B3B,EAAMk4B,GACxC7nB,KAAKkrB,6BACLlrB,KAAK+qB,oBF5nBJ,SAAgCp7B,EAAMk4B,GAC3C,IAAIzkB,EAAS,IAAIylB,EAAiBX,EAAkBv4B,IAEpD,OADAyT,EAAO8pB,iBAAiBrF,GACjBzkB,EEynBwBssB,CAAuB//B,EAAMk4B,GACxD7nB,KAAK4qB,oBAAsB5qB,KAAK6qB,SAAS8E,UAAUhgC,EAAMqQ,KAAK+qB,qBAC9D/qB,KAAK2qB,QAAQrM,UAAU,CAACte,KAAK4qB,wBAE9B,CACDz9B,IAAK,2BACLmE,MAAO,SAAkC0L,GACvC,IAAI4yB,EAAS5vB,KAEbA,KAAKkrB,6BACLlrB,KAAKirB,sBAAwBjuB,EAkB7BgD,KAAK6vB,sBAAwB3rB,YAAW,WACtC,IAAI4rB,EAEJ,OAAqD,QAA7CA,EAAqBF,EAAO9F,mBAAgD,IAAvBgG,OAAgC,EAASA,EAAmBtB,iBAAiB,YAAaoB,EAAOG,kCAAkC,KAhBzK,OAmB1B,CACD5iC,IAAK,6BACLmE,MAAO,WAKD,IAAI0+B,EAJR,QAAIhwB,KAAKirB,wBACPjrB,KAAKirB,sBAAwB,KAEzBjrB,KAAK8pB,cAG2B,QAAjCkG,EAAgBhwB,KAAKgK,cAAsC,IAAlBgmB,GAAoCA,EAAcprB,aAAa5E,KAAK6vB,4BAAyB9rB,GACvI/D,KAAK8pB,YAAY2E,oBAAoB,YAAazuB,KAAK+vB,kCAAkC,IAG3F/vB,KAAK6vB,sBAAwB,MACtB,KAKV,CACD1iC,IAAK,kBACLmE,MAAO,SAAyBE,EAAG+sB,GAC7B/sB,EAAE45B,mBAIDprB,KAAKmrB,qBACRnrB,KAAKmrB,mBAAqB,IAG5BnrB,KAAKmrB,mBAAmB8E,QAAQ1R,MAEjC,CACDpxB,IAAK,kBACLmE,MAAO,SAAyBE,EAAGmZ,GACjC3K,KAAKmsB,mBAAmB8D,QAAQtlB,KAEjC,CACDxd,IAAK,iBACLmE,MAAO,SAAwBE,EAAGmZ,GACD,OAA3B3K,KAAK2sB,oBACP3sB,KAAK2sB,kBAAoB,IAG3B3sB,KAAK2sB,kBAAkBsD,QAAQtlB,KAEhC,CACDxd,IAAK,aACLmE,MAAO,SAAoBE,EAAGmZ,GAC5B3K,KAAKitB,cAAcgD,QAAQtlB,QAzsB6CyK,GAAkBD,EAAY1T,UAAWkU,GAAiBC,GAAaR,GAAkBD,EAAaS,GA6sB3K2U,EApsBkC,GCbhC2F,GAAe,SAAuB1e,EAASE,EAAS1O,GACjE,OAAO,IAAIunB,GAAiB/Y,EAASE,EAAS1O,I,mMCChD,SAASmtB,GAAQj6B,EAAGotB,GAClB,OAAO,SAAC1I,GAAD,OAAS1kB,EAAEotB,EAAE1I,KAEtB,SAASwV,GAAOxV,EAAKyV,GACnB,OAAOA,EAAKzV,GAEd,SAAS0V,GAAUD,EAAME,GACvB,OAAO,SAACC,GAAD,OAAUH,EAAKE,EAAMC,IAE9B,SAASC,GAAUJ,EAAMzV,GACvB,OAAO,kBAAMyV,EAAKzV,IAEpB,SAAS8V,GAAI9V,EAAKyV,GAEhB,OADAA,EAAKzV,GACEA,EAET,SAAS+V,KAAa,2BAAN3xB,EAAM,yBAANA,EAAM,gBACpB,OAAOA,EAET,SAASoD,GAAKiuB,GACZA,IAEF,SAASO,GAAOt/B,GACd,OAAO,kBAAMA,GAEf,SAASu/B,KAAmB,2BAAPC,EAAO,yBAAPA,EAAO,gBAC1B,OAAO,WACLA,EAAMn/B,IAAIyQ,KAGd,SAAS2uB,GAAUnW,GACjB,YAAe,IAARA,EAET,SAASvb,MAET,SAAS2xB,GAAUC,EAASC,GAC1B,OAAOD,EAvCS,EAuCUC,GAE5B,SAASC,GAAQC,EAAW9/B,GAC1B8/B,EA3Cc,EA2CK9/B,GAErB,SAAS67B,GAAM8D,GACbA,EA5CY,GA8Cd,SAASI,GAASC,GAChB,OAAOA,EA9CK,GAgDd,SAASpkB,GAAQ+jB,EAASG,GACxB,OAAOJ,GAAUC,EAASX,GAAUc,EApDtB,IAsDhB,SAASG,GAAWN,EAASC,GAC3B,IAAMM,EAAQP,EAtDE,GAsDiB,SAAC3/B,GAChCkgC,IACAN,EAAa5/B,MAEf,OAAOkgC,EAET,SAASC,KACP,IAAMC,EAAgB,GACtB,OAAO,SAAClS,EAAQ5E,GACd,OAAQ4E,GACN,KA/DQ,EAiEN,YADAkS,EAAczR,OAAO,EAAGyR,EAAchiC,QAExC,KAnEY,EAqEV,OADAgiC,EAActnB,KAAKwQ,GACZ,WACL,IAAMzd,EAAUu0B,EAAcv0B,QAAQyd,GAClCzd,GAAW,GACbu0B,EAAczR,OAAO9iB,EAAS,IAGpC,KA5EU,EAgFR,YAHAu0B,EAAc/uB,QAAQhC,SAAQ,SAACuwB,GAC7BA,EAAatW,MAGjB,QACE,MAAM,IAAI7G,MAAJ,8BAAiCyL,MAI/C,SAASmS,GAAeC,GACtB,IAAItgC,EAAQsgC,EACNC,EAAeJ,KACrB,OAAO,SAACjS,EAAQ5E,GACd,OAAQ4E,GACN,KA1FY,EA2FW5E,EACRtpB,GACb,MACF,KA/FU,EAgGRA,EAAQspB,EACR,MACF,KA/FQ,EAgGN,OAAOtpB,EAEX,OAAOugC,EAAarS,EAAQ5E,IA+BhC,SAASkX,GAAkBb,GACzB,OAAOP,GAAIe,MAAU,SAACM,GAAD,OAAa7kB,GAAQ+jB,EAASc,MAErD,SAASC,GAA0Bf,EAASW,GAC1C,OAAOlB,GAAIiB,GAAeC,IAAU,SAACG,GAAD,OAAa7kB,GAAQ+jB,EAASc,MAEpE,SAASE,KAA+B,2BAAXC,EAAW,yBAAXA,EAAW,gBACtC,OAAO,SAACC,GACN,OAAOD,EAAUE,YAAYhC,GAAQ+B,IAGzC,SAASE,GAAKxhB,GAAsB,2BAAXqhB,EAAW,iCAAXA,EAAW,kBAClC,IAAMI,EAAUL,GAAgB,WAAhB,EAAoBC,GACpC,OAAO,SAAC1S,EAAQ0R,GACd,OAAQ1R,GACN,KAlJY,EAmJV,OAAOwR,GAAUngB,EAAQyhB,EAAQpB,IACnC,KAnJQ,EAqJN,YADA/D,GAAMtc,KAKd,SAAS0hB,GAAkBC,EAAUxiB,GACnC,OAAOwiB,IAAaxiB,EAEtB,SAASyiB,KAAqD,IACxDptB,EADwBqtB,EAAgC,uDAAnBH,GAEzC,OAAO,SAACtiB,GAAD,OAAU,SAACD,GACX0iB,EAAWrtB,EAAS2K,KACvB3K,EAAU2K,EACVC,EAAKD,MAIX,SAAS0S,GAAOiQ,GACd,OAAO,SAAC1iB,GAAD,OAAU,SAAC3e,GAChBqhC,EAAUrhC,IAAU2e,EAAK3e,KAG7B,SAASK,GAAI2gC,GACX,OAAO,SAACriB,GAAD,OAAUkgB,GAAQlgB,EAAMqiB,IAEjC,SAASM,GAAMthC,GACb,OAAO,SAAC2e,GAAD,OAAU,kBAAMA,EAAK3e,KAE9B,SAASuhB,GAAKggB,EAASjB,GACrB,OAAO,SAAC3hB,GAAD,OAAU,SAAC3e,GAAD,OAAW2e,EAAK2hB,EAAUiB,EAAQjB,EAAStgC,MAE9D,SAASwhC,GAAKC,GACZ,OAAO,SAAC9iB,GAAD,OAAU,SAAC3e,GAChByhC,EAAQ,EAAIA,IAAU9iB,EAAK3e,KAG/B,SAAS0hC,GAAaC,GACpB,IACIC,EADAC,EAAe,KAEnB,OAAO,SAACljB,GAAD,OAAU,SAAC3e,GAChB6hC,EAAe7hC,EACX4hC,IAGJA,EAAUhvB,YAAW,WACnBgvB,OAAU,EACVjjB,EAAKkjB,KACJF,MAGP,SAASG,GAAaH,GACpB,IAAIE,EACAD,EACJ,OAAO,SAACjjB,GAAD,OAAU,SAAC3e,GAChB6hC,EAAe7hC,EACX4hC,GACFtuB,aAAasuB,GAEfA,EAAUhvB,YAAW,WACnB+L,EAAKkjB,KACJF,KAGP,SAASI,KAA2B,2BAATC,EAAS,yBAATA,EAAS,gBAClC,IAAMllC,EAAS,IAAIuN,MAAM23B,EAAQ5jC,QAC7B6jC,EAAS,EACTC,EAAc,KACZC,EAAY95B,KAAK+5B,IAAI,EAAGJ,EAAQ5jC,QAAU,EAahD,OAZA4jC,EAAQ3yB,SAAQ,SAACkQ,EAAQhf,GACvB,IAAM8hC,EAAMh6B,KAAK+5B,IAAI,EAAG7hC,GACxBm/B,GAAUngB,GAAQ,SAACvf,GACjB,IAAMsiC,EAAaL,EACnBA,GAAkBI,EAClBvlC,EAAOyD,GAASP,EACZsiC,IAAeH,GAAaF,IAAWE,GAAaD,IACtDA,IACAA,EAAc,YAIb,SAACvjB,GAAD,OAAU,SAAC3e,GAChB,IAAMuiC,EAAQ,kBAAM5jB,EAAK,CAAC3e,GAAO0iB,OAAO5lB,KACpCmlC,IAAWE,EACbI,IAEAL,EAAcK,IAIpB,SAASC,KAAkB,2BAATR,EAAS,yBAATA,EAAS,gBACzB,OAAO,SAAS9T,EAAQ0R,GACtB,OAAQ1R,GACN,KAjPY,EAkPV,OAAOqR,GAAQ,WAAR,cAAYyC,EAAQ3hC,KAAI,SAACkf,GAAD,OAAYmgB,GAAUngB,EAAQqgB,QAC/D,KAlPQ,EAmPN,OACF,QACE,MAAM,IAAInd,MAAJ,8BAAiCyL,MAI/C,SAASuU,GAAIljB,GAAwC,IAAhC6hB,EAAgC,uDAAnBH,GAChC,OAAOF,GAAKxhB,EAAQ4hB,GAAqBC,IAE3C,SAASsB,KAA2B,IAClC,IAAMnC,EAAeJ,KADa,mBAAVwC,EAAU,yBAAVA,EAAU,gBAElC,IAAM7lC,EAAS,IAAIuN,MAAMs4B,EAASvkC,QAC9B6jC,EAAS,EACPE,EAAY95B,KAAK+5B,IAAI,EAAGO,EAASvkC,QAAU,EAWjD,OAVAukC,EAAStzB,SAAQ,SAACkQ,EAAQhf,GACxB,IAAM8hC,EAAMh6B,KAAK+5B,IAAI,EAAG7hC,GACxBm/B,GAAUngB,GAAQ,SAACvf,GACjBlD,EAAOyD,GAASP,GAChBiiC,GAAkBI,KACHF,GACbtC,GAAQU,EAAczjC,SAIrB,SAASoxB,EAAQ0R,GACtB,OAAQ1R,GACN,KA9QY,EAkRV,OAHI+T,IAAWE,GACbvC,EAAa9iC,GAER4iC,GAAUa,EAAcX,GACjC,KAlRQ,EAmRN,OAAO/D,GAAM0E,GACf,QACE,MAAM,IAAI9d,MAAJ,8BAAiCyL,MAI/C,SAAS0U,GAAOjvB,GAAqE,IAAxDkvB,EAAwD,uDAAzC,GAAyC,yDAArB,CAAEC,WAAW,GAA3BA,EAAmC,EAAnCA,UAChD,MAAO,CACL7oC,GAAIA,KACJ0Z,cACAkvB,eACAC,aAGJ,IAAM7oC,GAAK,kBAAMwZ,UA+BjB,IAAMsvB,GAAkD,qBAAbzsB,SAA2BjI,EAAMuZ,gBAAkBvZ,EAAM7O,UACpG,SAASwjC,GAAkBC,EAAYC,EAAMC,GAC3C,IAAMC,EAAoB5nC,OAAOC,KAAKynC,EAAKG,UAAY,IACjDC,EAAoB9nC,OAAOC,KAAKynC,EAAKK,UAAY,IACjDC,EAAchoC,OAAOC,KAAKynC,EAAKO,SAAW,IAC1CC,EAAaloC,OAAOC,KAAKynC,EAAKS,QAAU,IACxCC,EAAUv1B,EAAMoP,cAAc,IACpC,SAASomB,EAAmBC,EAASriC,GAC/BqiC,EAAO,YACTjE,GAAQiE,EAAO,YAAgB,GAFS,oBAIXV,GAJW,IAI1C,IAAK,EAAL,qBAAkD,KAAvCW,EAAuC,QAEhDlE,GADgBiE,EAAQZ,EAAKG,SAASU,IACrBtiC,EAAMsiC,KANiB,kDAQXT,GARW,IAQ1C,IAAK,EAAL,qBAAkD,KAAvCU,EAAuC,QAChD,GAAIA,KAAoBviC,EAEtBo+B,GADgBiE,EAAQZ,EAAKK,SAASS,IACrBviC,EAAMuiC,KAXe,8BActCF,EAAO,YACTjE,GAAQiE,EAAO,YAAgB,GAYnC,SAASG,EAAmBH,GAC1B,OAAOJ,EAAW/nC,QAAO,SAACuoC,EAAUC,GAElC,OADAD,EAASC,GA9Pf,SAAsBxE,GACpB,IAAIO,EACAkE,EACEC,EAAU,kBAAMnE,GAASA,KAC/B,OAAO,SAAShS,EAAQ0R,GACtB,OAAQ1R,GACN,KA7GY,EA8GV,GAAI0R,EAAc,CAChB,GAAIwE,IAAwBxE,EAC1B,OAKF,OAHAyE,IACAD,EAAsBxE,EACtBM,EAAQR,GAAUC,EAASC,GAI3B,OADAyE,IACOt2B,GAEX,KAzHQ,EA4HN,OAFAs2B,SACAD,EAAsB,MAExB,QACE,MAAM,IAAI3hB,MAAJ,8BAAiCyL,MAsOnBoW,CAAaR,EAAQZ,EAAKS,OAAOQ,KAChDD,IACN,IAEL,IAAM/vB,EAAY9F,EAAM7M,YAAW,SAAC+iC,EAAmB7iC,GACrD,IAAQsL,EAAuBu3B,EAAvBv3B,SAAavL,EAArB,YAA+B8iC,EAA/B,IACA,EAAkBl2B,EAAMzT,UAAS,WAC/B,OAAOwkC,GAzEb,SAAc6D,GACZ,IAAMuB,EAA6B,IAAItL,IAWvC,OAVc,SAARuL,EAAS,GAAsD,IAAhDC,EAAgD,EAApDzqC,GAAS0Z,EAA2C,EAA3CA,YAAakvB,EAA8B,EAA9BA,aAAcC,EAAgB,EAAhBA,UACnD,GAAIA,GAAa0B,EAAWG,IAAID,GAC9B,OAAOF,EAAW7M,IAAI+M,GAExB,IAAMZ,EAAUnwB,EAAYkvB,EAAaxiC,KAAI,SAACH,GAAD,OAAOukC,EAAMvkC,OAI1D,OAHI4iC,GACF0B,EAAWzT,IAAI2T,EAAKZ,GAEfA,EAEFW,CAAMxB,GA6DE2B,CAAK3B,IAAa,SAAC4B,GAAD,OAAchB,EAAmBgB,EAAUpjC,SADnEqiC,EAAP,oBAGA,EAAmBz1B,EAAMzT,SAASukC,GAAU8E,EAAoBH,IAAzDI,EAAP,oBAeA,OAdAnB,IAA4B,WAAM,oBACRW,GADQ,IAChC,IAAK,EAAL,qBAAoC,KAAzBS,EAAyB,QAC9BA,KAAa1iC,GACfi+B,GAAUwE,EAASC,GAAY1iC,EAAM0iC,KAHT,8BAMhC,OAAO,WACL3oC,OAAOsB,OAAOonC,GAAU7jC,IAAIw7B,OAE7B,CAACp6B,EAAOyiC,EAAUJ,IACrBf,IAA4B,WAC1Bc,EAAmBC,EAASriC,MAE9B4M,EAAMy2B,oBAAoBpjC,EAAK49B,GAlCjC,SAAsBwE,GACpB,OAAON,EAAY7nC,QAAO,SAACopC,EAAKC,GAK9B,OAJAD,EAAIC,GAAc,SAAChlC,GAEjB6/B,GADgBiE,EAAQZ,EAAKO,QAAQuB,IACpBhlC,IAEZ+kC,IACN,IA2BmCE,CAAanB,KAC5Cz1B,EAAM62B,cACXtB,EAAQ9iB,SACR,CAAE9gB,MAAO8jC,GACTX,EAAO90B,EAAM62B,cACX/B,EAhFR,SAAc1nC,EAAMG,GAKlB,IAJA,IAAMkW,EAAS,GACTvR,EAAQ,GACV6X,EAAM,EACJgH,EAAM3jB,EAAK2C,OACVga,EAAMgH,GACX7e,EAAM9E,EAAK2c,IAAQ,EACnBA,GAAO,EAET,IAAK,IAAM+sB,KAAQvpC,EACZ2E,EAAMmjB,eAAeyhB,KACxBrzB,EAAOqzB,GAAQvpC,EAAIupC,IAGvB,OAAOrzB,EAmEDszB,CAAK,GAAD,mBAAKhC,GAAL,YAA2BE,GAA3B,YAAiDI,IAAajiC,GAClEuL,GACEA,MAyBR,MAAO,CACLmH,YACAkxB,aAxBoB,SAACxpC,GACrB,OAAOwS,EAAM3I,YAAYs5B,GAAUa,GAASxxB,EAAM3T,WAAWkpC,GAAS/nC,IAAO,CAACA,KAwB9EypC,gBAtBuB,SAACzpC,GACxB,IACM0jB,EADUlR,EAAM3T,WAAWkpC,GACV/nC,GACvB,EAA0BwS,EAAMzT,SAASukC,GAAUY,GAAUxgB,IAA7D,mBAAOvf,EAAP,KAAculC,EAAd,KASA,OARAxC,IACE,kBAAMrD,GAAUngB,GAAQ,SAACb,GACnBA,IAAS1e,GACXulC,EAASjG,GAAO5gB,SAGpB,CAACa,EAAQvf,IAEJA,GAWPwlC,WATkB,SAAC3pC,EAAK4pC,GACxB,IACMlmB,EADUlR,EAAM3T,WAAWkpC,GACV/nC,GACvBknC,IAA4B,kBAAMrD,GAAUngB,EAAQkmB,KAAW,CAACA,EAAUlmB,MAS9E,IACMmmB,GADgD,qBAAbpvB,SAA2BjI,EAAMuZ,gBAAkBvZ,EAAM7O,UAE9FmmC,GAA4B,SAACC,GAK/B,OAJAA,EAAUA,EAAS,MAAY,GAAK,QACpCA,EAAUA,EAAS,KAAW,GAAK,OACnCA,EAAUA,EAAS,KAAW,GAAK,OACnCA,EAAUA,EAAS,MAAY,GAAK,QAC7BA,EALuB,CAM7BD,IAAY,IACTE,IAAkB,sBAEpB,EAEC,SAJmB,gBAMpB,EAEC,OARmB,gBAUpB,EAEC,QAZmB,gBAcpB,EAEC,SAhBmB,IAkBlBC,GAAgB,iBAA4B,qBAAfC,WAA6BrtB,OAASqtB,YACnEC,GAAepD,IACnB,WACE,IAAMqD,EAAW5F,GACf,GAGI3hC,EAAM2hC,IAAe,SAAC6F,EAAOhoC,GAAuB,IACpDioC,EADsCC,EAAc,uDAAN,EAE5CC,EAA+D,OAA/CF,EAAKL,KAAa,oBAAoCK,EAAKpG,GAASkG,GACtFG,GAASC,GACX5nC,QAAQonC,GAAmBO,IACzB,4BACA,oCACA,iBACAF,EACAhoC,MAIN,MAAO,CACLQ,MACAunC,cAGJ,GACA,CAAEnD,WAAW,IAEf,SAASwD,GAAiBb,GAA0B,IAAhBc,IAAgB,yDAC5C7kC,EAAM2M,EAAMm4B,OAAO,MACrBC,EAAc,SAACC,KAEnB,GAA8B,qBAAnBC,eAAgC,CACzC,IAAMC,EAAWv4B,EAAM9G,SAAQ,WAC7B,OAAO,IAAIo/B,gBAAe,SAACE,GACzB,IAAMxwB,EAAUwwB,EAAQ,GAAGzmC,OACE,OAAzBiW,EAAQywB,cACVrB,EAASpvB,QAGZ,CAACovB,IACJgB,EAAc,SAACM,GACTA,GAASR,GACXK,EAASI,QAAQD,GACjBrlC,EAAIqS,QAAUgzB,IAEVrlC,EAAIqS,SACN6yB,EAASK,UAAUvlC,EAAIqS,SAEzBrS,EAAIqS,QAAU,OAIpB,MAAO,CAAErS,MAAK+kC,eAEhB,SAASS,GAAQzB,GAA0B,IAAhBc,IAAgB,yDACzC,OAAOD,GAAiBb,EAAUc,GAASE,YAE7C,SAASU,GAA4B1B,EAAU2B,EAAUb,EAASc,EAA8B3oC,EAAK4oC,EAAKC,GACxG,IAAMC,EAAiBn5B,EAAM3I,aAC3B,SAACguB,GAGC,IAFA,IAAM+T,EAuBZ,SAA8Bz6B,EAAUo6B,EAAUpqC,EAAO0B,GACvD,IAAMN,EAAS4O,EAAS5O,OACxB,GAAe,IAAXA,EACF,OAAO,KAGT,IADA,IAAMspC,EAAU,GACPxpB,EAAI,EAAGA,EAAI9f,EAAQ8f,IAAK,CAC/B,IAAMvE,EAAQ3M,EAAS1M,KAAK4d,GAC5B,GAAKvE,QAAiC,IAAxBA,EAAMguB,QAAQpnC,MAA5B,CAGA,IAAMA,EAAQkK,SAASkP,EAAMguB,QAAQpnC,OAC/BqnC,EAAYC,WAAWluB,EAAMguB,QAAQC,WACrCj7B,EAAOy6B,EAASztB,EAAO3c,GAI7B,GAHa,IAAT2P,GACFjO,EAAI,6CAA8C,CAAEib,SAASgsB,GAASmC,OAEpEn7B,IAASi7B,EAAb,CAGA,IAAMG,EAAaL,EAAQA,EAAQtpC,OAAS,GACrB,IAAnBspC,EAAQtpC,QAAgB2pC,EAAWp7B,OAASA,GAAQo7B,EAAWC,WAAaznC,EAAQ,EACtFmnC,EAAQ5uB,KAAK,CAAEmvB,WAAY1nC,EAAOynC,SAAUznC,EAAOoM,SAEnD+6B,EAAQA,EAAQtpC,OAAS,GAAG4pC,aAGhC,OAAON,EAlDYQ,CAAqBxU,EAAG1mB,SAAUo6B,EAAU,eAAgB1oC,GACvEypC,EAAoBzU,EAAGE,eACnBuU,EAAkBR,QAAlB,kBACNQ,EAAoBA,EAAkBvU,cAExC,IAAMwU,EAAiF,WAA/DD,EAAkBE,iBAAiBV,QAAnC,aAClBW,EAAYf,EAAqBA,EAAmBe,UAAYF,EAAkB1vB,OAAO6vB,aAAejyB,SAASue,gBAAgByT,UAAYH,EAAkBG,UAC/JE,EAAejB,EAAqBA,EAAmBiB,aAAeJ,EAAkB9xB,SAASue,gBAAgB2T,aAAeL,EAAkBK,aAClJC,EAAiBlB,EAAqBA,EAAmBnS,aAAegT,EAAkB1vB,OAAOgwB,YAAcP,EAAkB/S,aACvIiS,EAA6B,CAC3BiB,UAAWjgC,KAAKiI,IAAIg4B,EAAW,GAC/BE,eACAC,mBAEK,MAAPnB,GAAuBA,EAsC7B,SAA2B5P,EAAU13B,EAAOtB,GAC5B,WAAVsB,IAAiC,MAATA,OAAgB,EAASA,EAAM+iB,SAAS,QAClErkB,EAAI,GAAD,OAAIg5B,EAAJ,8CAA0D13B,EAAO2lC,GAASgD,MAE/E,GAAc,WAAV3oC,EACF,OAAO,EAET,OAAOyK,SAAkB,MAATzK,EAAgBA,EAAQ,IAAK,IA7Cd4oC,CAAkB,UAAWC,iBAAiBnV,GAAIoV,OAAQpqC,IACtE,OAAX+oC,GACFhC,EAASgC,KAGb,CAAChC,EAAU2B,EAAU1oC,EAAK4oC,EAAKC,EAAoBF,IAErD,OAAOf,GAAiBkB,EAAgBjB,GAwC1C,SAASwC,GAAgBrV,EAAIsV,GAC3B,OAAO3gC,KAAK4gC,MAAMvV,EAAGI,wBAAwBkV,IAE/C,SAASE,GAAmBC,EAAMC,GAChC,OAAO/gC,KAAKghC,IAAIF,EAAOC,GAAQ,KAEjC,SAASE,GAAajC,EAA8BkC,EAA2BC,GAAiE,IAAhDC,EAAgD,uDAA1B17B,GAAMw5B,EAAoB,uCACxImC,EAAcr7B,EAAMm4B,OAAO,MAC3BmD,EAAkBt7B,EAAMm4B,OAAO,MAC/BoD,EAAav7B,EAAMm4B,OAAO,MAC1Bhe,EAAUna,EAAM3I,aACpB,SAACmkC,GACC,IAAMnW,EAAKmW,EAAGzpC,OACR0pC,EAAepW,IAAOhb,QAAUgb,IAAOpd,SACvCgyB,EAAYwB,EAAepxB,OAAO6vB,aAAejyB,SAASue,gBAAgByT,UAAY5U,EAAG4U,UACzFE,EAAesB,EAAexzB,SAASue,gBAAgB2T,aAAe9U,EAAG8U,aACzEC,EAAiBqB,EAAepxB,OAAOgwB,YAAchV,EAAG0B,aACxDmN,EAAQ,WACZ8E,EAA6B,CAC3BiB,UAAWjgC,KAAKiI,IAAIg4B,EAAW,GAC/BE,eACAC,oBAGAoB,EAAGE,kBACLxH,IAEAh0B,GAASy7B,UAAUzH,GAEW,OAA5BoH,EAAgB51B,UACdu0B,IAAcqB,EAAgB51B,SAAWu0B,GAAa,GAAKA,IAAcE,EAAeC,KAC1FkB,EAAgB51B,QAAU,KAC1Bw1B,GAA0B,GACtBK,EAAW71B,UACbT,aAAas2B,EAAW71B,SACxB61B,EAAW71B,QAAU,SAK7B,CAACszB,EAA8BkC,IAYjC,SAASU,EAAiBC,GACxB,IAAMC,EAAmBT,EAAY31B,QACrC,GAAKo2B,MAAoB,iBAAkBA,IAAsD,IAAlCA,EAAiB/U,cAAhF,CAGA,IACIA,EACAoT,EACAF,EAHE8B,EAAiC,WAAtBF,EAASzzB,SAItB0zB,IAAqBzxB,QACvB8vB,EAAengC,KAAKiI,IAAIy4B,GAAgBzyB,SAASue,gBAAiB,UAAWve,SAASue,gBAAgB2T,cACtGpT,EAAe1c,OAAOgwB,YACtBJ,EAAYhyB,SAASue,gBAAgByT,YAErCE,EAAe2B,EAAiB3B,aAChCpT,EAAe2T,GAAgBoB,EAAkB,UACjD7B,EAAY6B,EAAiB7B,WAE/B,IAAM+B,EAAe7B,EAAepT,EAEpC,GADA8U,EAASnW,IAAM1rB,KAAKC,KAAKD,KAAKiI,IAAIjI,KAAKmI,IAAI65B,EAAcH,EAASnW,KAAM,IACpEmV,GAAmB9T,EAAcoT,IAAiB0B,EAASnW,MAAQuU,EAKrE,OAJAjB,EAA6B,CAAEiB,YAAWE,eAAcC,eAAgBrT,SACpEgV,GACFb,GAA0B,IAI1Ba,GACFT,EAAgB51B,QAAUm2B,EAASnW,IAC/B6V,EAAW71B,SACbT,aAAas2B,EAAW71B,SAE1B61B,EAAW71B,QAAUnB,YAAW,WAC9Bg3B,EAAW71B,QAAU,KACrB41B,EAAgB51B,QAAU,KAC1Bw1B,GAA0B,KACzB,MAEHI,EAAgB51B,QAAU,KAE5Bo2B,EAAiBG,SAASJ,IAE5B,SAASK,EAAiBL,GACxBR,EAAY31B,QAAQy2B,SAASN,GAE/B,OAvDA77B,EAAM7O,WAAU,WACd,IAAMirC,EAAWlD,GAA0CmC,EAAY31B,QAIvE,OAHA01B,EAAoBlC,GAA0CmC,EAAY31B,SAC1EyU,EAAQ,CAAEpoB,OAAQqqC,EAAUV,mBAAmB,IAC/CU,EAASvN,iBAAiB,SAAU1U,EAAS,CAAEkiB,SAAS,IACjD,WACLjB,EAAoB,MACpBgB,EAAStN,oBAAoB,SAAU3U,MAExC,CAACkhB,EAAalhB,EAASghB,EAAiBC,EAAqBlC,IA8CzD,CAAEmC,cAAaa,mBAAkBN,oBAE1C,IAAMU,GAAc/H,IAClB,WACE,IAAMgI,EAAuBzK,KACvBmI,EAAYnI,KACZ0K,EAAYxK,GAAe,GAC3BkJ,EAA4BpJ,KAC5B2K,EAAoBzK,GAAe,GACnCoI,EAAiBtI,KACjBqI,EAAerI,KACf4K,EAAe1K,GAAe,GAC9B2K,EAAoB3K,GAAe,GACnC4K,EAAoB5K,GAAe,GACnC6K,EAAe7K,GAAe,GAC9BiK,EAAWnK,KACXqK,EAAWrK,KACXgL,EAAsB9K,IAAe,GAgB3C,OAfAzkB,GACEmlB,GACE6J,EACAvqC,IAAI,qBAAGioC,cAETA,GAEF1sB,GACEmlB,GACE6J,EACAvqC,IAAI,qBAAGmoC,iBAETA,GAEF5sB,GAAQ0sB,EAAWwC,GACZ,CAELF,uBACAtC,YACAG,iBACAsC,eACAC,oBACAC,oBACAC,eACA1C,eACAe,4BAEAe,WACAE,WAEAM,oBACAD,YACAM,yBAGJ,GACA,CAAErI,WAAW,IAETsI,GAAW,CAAEC,IAAK,GACxB,SAASC,GAAUlhC,EAAGmhC,EAAGF,GAAiC,IAA5BG,EAA4B,uDAAxBJ,GAAUK,EAAc,uDAAVL,GAC9C,MAAO,CAAEhhC,IAAGmhC,IAAGF,MAAKG,IAAGC,KAEzB,SAASld,GAAM7iB,GACb,OAAOA,IAAS0/B,GAElB,SAASM,KACP,OAAON,GAET,SAASO,GAAOjgC,EAAM7P,GACpB,GAAI0yB,GAAM7iB,GACR,OAAO0/B,GACT,IAAQhhC,EAAYsB,EAAZtB,EAAGohC,EAAS9/B,EAAT8/B,EAAGC,EAAM//B,EAAN+/B,EACd,GAAI5vC,IAAQuO,EAAG,CACb,GAAImkB,GAAMid,GACR,OAAOC,EACF,GAAIld,GAAMkd,GACf,OAAOD,EAEP,MAA6BI,GAAKJ,GAAlC,mBACA,OAAOK,GAAOC,GAAMpgC,EAAM,CAAEtB,EAD5B,KACwCmhC,EADxC,KACsDC,EAAGO,GAAWP,MAEjE,OACEK,GAAOC,GAAMpgC,EADX7P,EAAMuO,EACW,CAAEohC,EAAGG,GAAOH,EAAG3vC,IAEf,CAAE4vC,EAAGE,GAAOF,EAAG5vC,MAG7C,SAASmwC,GAAKtgC,EAAM7P,GAClB,IAAI0yB,GAAM7iB,GAGV,OAAI7P,IAAQ6P,EAAKtB,EACRsB,EAAK6/B,EACH1vC,EAAM6P,EAAKtB,EACb4hC,GAAKtgC,EAAK8/B,EAAG3vC,GAEbmwC,GAAKtgC,EAAK+/B,EAAG5vC,GAGxB,SAASowC,GAAgBvgC,EAAM1L,GAAoB,IAAbhD,EAAa,uDAAL,IAC5C,GAAIuxB,GAAM7iB,GACR,MAAO,EAAEwgC,SAAU,GAErB,GAAI9jC,OAAOsD,EAAK1O,MAAYgD,EAC1B,MAAO,CAAC0L,EAAKtB,EAAGsB,EAAK6/B,GAEvB,GAAInjC,OAAOsD,EAAK1O,IAAUgD,EAAO,CAC/B,IAAMyrC,EAAIQ,GAAgBvgC,EAAK+/B,EAAGzrC,EAAOhD,GACzC,OAAIyuC,EAAE,MAAQS,IACL,CAACxgC,EAAKtB,EAAGsB,EAAK6/B,GAEdE,EAGX,OAAOQ,GAAgBvgC,EAAK8/B,EAAGxrC,EAAOhD,GAExC,SAASmvC,GAAOzgC,EAAMtB,EAAGmhC,GACvB,OAAIhd,GAAM7iB,GACD4/B,GAAUlhC,EAAGmhC,EAAG,GAErBnhC,IAAMsB,EAAKtB,EACN0hC,GAAMpgC,EAAM,CAAEtB,IAAGmhC,MACfnhC,EAAIsB,EAAKtB,EACXgiC,GAAUN,GAAMpgC,EAAM,CAAE8/B,EAAGW,GAAOzgC,EAAK8/B,EAAGphC,EAAGmhC,MAE7Ca,GAAUN,GAAMpgC,EAAM,CAAE+/B,EAAGU,GAAOzgC,EAAK+/B,EAAGrhC,EAAGmhC,MAGxD,SAASc,GAAW3gC,EAAM4gC,EAAOlkB,GAC/B,GAAImG,GAAM7iB,GACR,MAAO,GAET,IAAQtB,EAAesB,EAAftB,EAAGmhC,EAAY7/B,EAAZ6/B,EAAGC,EAAS9/B,EAAT8/B,EAAGC,EAAM//B,EAAN+/B,EACb35B,EAAS,GAUb,OATI1H,EAAIkiC,IACNx6B,EAASA,EAAO4Q,OAAO2pB,GAAWb,EAAGc,EAAOlkB,KAE1Che,GAAKkiC,GAASliC,GAAKge,GACrBtW,EAAOgH,KAAK,CAAE1O,IAAGmhC,MAEfnhC,GAAKge,IACPtW,EAASA,EAAO4Q,OAAO2pB,GAAWZ,EAAGa,EAAOlkB,KAEvCtW,EAET,SAASy6B,GAAK7gC,GACZ,OAAI6iB,GAAM7iB,GACD,GAEF,GAAP,mBAAW6gC,GAAK7gC,EAAK8/B,IAArB,CAAyB,CAAEphC,EAAGsB,EAAKtB,EAAGmhC,EAAG7/B,EAAK6/B,IAA9C,YAAsDgB,GAAK7gC,EAAK+/B,KAElE,SAASG,GAAKlgC,GACZ,OAAO6iB,GAAM7iB,EAAK+/B,GAAK,CAAC//B,EAAKtB,EAAGsB,EAAK6/B,GAAKK,GAAKlgC,EAAK+/B,GAEtD,SAASM,GAAWrgC,GAClB,OAAO6iB,GAAM7iB,EAAK+/B,GAAK//B,EAAK8/B,EAAIK,GAAOC,GAAMpgC,EAAM,CAAE+/B,EAAGM,GAAWrgC,EAAK+/B,MAE1E,SAASK,GAAMpgC,EAAMgC,GACnB,OAAO49B,QACM,IAAX59B,EAAKtD,EAAesD,EAAKtD,EAAIsB,EAAKtB,OACvB,IAAXsD,EAAK69B,EAAe79B,EAAK69B,EAAI7/B,EAAK6/B,OACrB,IAAb79B,EAAK29B,IAAiB39B,EAAK29B,IAAM3/B,EAAK2/B,SAC3B,IAAX39B,EAAK89B,EAAe99B,EAAK89B,EAAI9/B,EAAK8/B,OACvB,IAAX99B,EAAK+9B,EAAe/9B,EAAK+9B,EAAI//B,EAAK+/B,GAGtC,SAASe,GAAS9gC,GAChB,OAAO6iB,GAAM7iB,IAASA,EAAK2/B,IAAM3/B,EAAK+/B,EAAEJ,IAE1C,SAASe,GAAU1gC,GACjB,OAAO3E,GAAM0lC,GAAK/gC,IAEpB,SAASmgC,GAAOngC,GACd,IAAQ8/B,EAAc9/B,EAAd8/B,EAAGC,EAAW//B,EAAX+/B,EAAGJ,EAAQ3/B,EAAR2/B,IACd,GAAII,EAAEJ,KAAOA,EAAM,GAAKG,EAAEH,KAAOA,EAAM,EACrC,OAAO3/B,EACF,GAAI2/B,EAAMI,EAAEJ,IAAM,EAAG,CAC1B,GAAImB,GAAShB,GACX,OAAOiB,GAAKX,GAAMpgC,EAAM,CAAE2/B,IAAKA,EAAM,KAErC,GAAK9c,GAAMid,IAAOjd,GAAMid,EAAEC,GAUxB,MAAM,IAAIhpB,MAAM,0BAThB,OAAOqpB,GAAMN,EAAEC,EAAG,CAChBD,EAAGM,GAAMN,EAAG,CAAEC,EAAGD,EAAEC,EAAED,IACrBC,EAAGK,GAAMpgC,EAAM,CACb8/B,EAAGA,EAAEC,EAAEA,EACPJ,IAAKA,EAAM,IAEbA,QAON,GAAImB,GAAS9gC,GACX,OAAO3E,GAAM+kC,GAAMpgC,EAAM,CAAE2/B,IAAKA,EAAM,KAEtC,GAAK9c,GAAMkd,IAAOld,GAAMkd,EAAED,GAYxB,MAAM,IAAI/oB,MAAM,0BAXhB,IAAMiqB,EAAKjB,EAAED,EACPmB,EAAOH,GAASE,GAAMjB,EAAEJ,IAAM,EAAII,EAAEJ,IAC1C,OAAOS,GAAMY,EAAI,CACflB,EAAGM,GAAMpgC,EAAM,CACb+/B,EAAGiB,EAAGlB,EACNH,IAAKA,EAAM,IAEbI,EAAG1kC,GAAM+kC,GAAML,EAAG,CAAED,EAAGkB,EAAGjB,EAAGJ,IAAKsB,KAClCtB,IAAKqB,EAAGrB,IAAM,IAQxB,SAASuB,GAAalhC,EAAMu8B,EAAYD,GACtC,GAAIzZ,GAAM7iB,GACR,MAAO,GAET,IAAMmhC,EAAgBZ,GAAgBvgC,EAAMu8B,GAAY,GACxD,OAmBO6E,GAnBST,GAAW3gC,EAAMmhC,EAAe7E,IAmBpB,kBAA6B,CAAEznC,MAA/B,EAAG6J,EAAmCpK,MAAtC,EAAaurC,MAjB3C,SAASuB,GAAcvb,EAAOwb,GAC5B,IAAM3uC,EAASmzB,EAAMnzB,OACrB,GAAe,IAAXA,EACF,MAAO,GAIT,IAFA,MAA8B2uC,EAAOxb,EAAM,IAA9B+a,EAAb,EAAM/rC,MAAcP,EAApB,EAAoBA,MACd8R,EAAS,GACNoM,EAAI,EAAGA,EAAI9f,EAAQ8f,IAAK,CAC/B,MAA+C6uB,EAAOxb,EAAMrT,IAA7C8uB,EAAf,EAAQzsC,MAAyBwpB,EAAjC,EAA0B/pB,MAC1B8R,EAAOgH,KAAK,CAAEwzB,QAAOlkB,IAAK4kB,EAAY,EAAGhtC,UACzCssC,EAAQU,EACRhtC,EAAQ+pB,EAGV,OADAjY,EAAOgH,KAAK,CAAEwzB,QAAOlkB,IAAK8jB,IAAUlsC,UAC7B8R,EAKT,SAAS/K,GAAM2E,GACb,IAAQ+/B,EAAW//B,EAAX+/B,EAAGJ,EAAQ3/B,EAAR2/B,IACX,OAAQ9c,GAAMkd,IAAOld,GAAMkd,EAAEA,IAAMA,EAAEJ,MAAQA,GAAOI,EAAEA,EAAEJ,MAAQA,EAA+D3/B,EAAzDogC,GAAML,EAAG,CAAED,EAAGM,GAAMpgC,EAAM,CAAE+/B,EAAGA,EAAED,IAAMH,IAAKA,EAAM,IAE1H,SAASoB,GAAK/gC,GACZ,IAAQ8/B,EAAM9/B,EAAN8/B,EACR,OAAQjd,GAAMid,IAAMA,EAAEH,MAAQ3/B,EAAK2/B,IAAiD3/B,EAA3CogC,GAAMN,EAAG,CAAEC,EAAGK,GAAMpgC,EAAM,CAAE8/B,EAAGA,EAAEC,MAE5E,SAASwB,GAAiC1b,EAAOvxB,EAAOohC,GAEtD,IAF6E,IAAXkL,EAAW,uDAAH,EACtElkB,EAAMmJ,EAAMnzB,OAAS,EAClBkuC,GAASlkB,GAAK,CACnB,IAAM7nB,EAAQ8H,KAAKirB,OAAOgZ,EAAQlkB,GAAO,GACnC9nB,EAAOixB,EAAMhxB,GACb2sC,EAAQ9L,EAAW9gC,EAAMN,GAC/B,GAAc,IAAVktC,EACF,OAAO3sC,EAET,IAAe,IAAX2sC,EAAc,CAChB,GAAI9kB,EAAMkkB,EAAQ,EAChB,OAAO/rC,EAAQ,EAEjB6nB,EAAM7nB,EAAQ,MACT,CACL,GAAI6nB,IAAQkkB,EACV,OAAO/rC,EAET+rC,EAAQ/rC,EAAQ,GAGpB,MAAM,IAAIkiB,MAAJ,kDAAqD8O,EAAMrY,KAAK,KAAhE,0BAAsFlZ,IAE9F,SAASmtC,GAA0B5b,EAAOvxB,EAAOohC,GAC/C,OAAO7P,EAAM0b,GAAiC1b,EAAOvxB,EAAOohC,IAE9D,SAASgM,GAAU7b,EAAO8b,EAAYC,EAAUlM,GAC9C,IAAM6G,EAAagF,GAAiC1b,EAAO8b,EAAYjM,GACjE4G,EAAWiF,GAAiC1b,EAAO+b,EAAUlM,EAAY6G,GAC/E,OAAO1W,EAAMlgB,MAAM42B,EAAYD,EAAW,GAE5C,IAAMuF,GAAe3K,IACnB,WAEE,MAAO,CAAE4K,iBADgBnN,IAAe,MAG1C,GACA,CAAEyC,WAAW,IAEf,SAAS2K,GAAcC,GACrB,IAAQ/gC,EAA+B+gC,EAA/B/gC,KAAMs7B,EAAyByF,EAAzBzF,WAAYD,EAAa0F,EAAb1F,SAC1B,OAAO,SAAC2F,GACN,OAAOA,EAAMrB,QAAUrE,IAAe0F,EAAMvlB,MAAQ4f,GAAY2F,EAAMvlB,MAAQ8jB,MAAayB,EAAM3tC,QAAU2M,GAG/G,SAASihC,GAAmBC,EAAQC,GAGlC,IAFA,IAAIC,EAAwB,EACxBC,EAAa,EACVD,EAAwBF,GAC7BE,GAAyBD,EAAaE,EAAa,GAAKF,EAAaE,GAAc,EACnFA,IAGF,OAAOA,GADeD,IAA0BF,EACX,EAAI,GAiD3C,SAASI,GAAT,EAA+C1tC,GAAO,IAApB2tC,EAAoB,EAA3B3tC,MACzB,OAAOA,IAAU2tC,EAAY,EAAI3tC,EAAQ2tC,GAAa,EAAI,EAE5D,SAASC,GAAT,EAAkDN,GAAQ,IAAtBO,EAAsB,EAA9BP,OAC1B,OAAOA,IAAWO,EAAa,EAAIP,EAASO,GAAc,EAAI,EAEhE,SAASC,GAAkBC,GACzB,MAAO,CAAE/tC,MAAO+tC,EAAM/tC,MAAOP,MAAOsuC,GAQtC,SAASC,GAAiBC,EAAgBC,EAAWC,EAAUpH,GAC7D,IAAIqH,EAAaH,EACbI,EAAY,EACZC,EAAW,EACXC,EAAa,EACb7G,EAAa,EACjB,GAAkB,IAAdwG,EAAiB,CAGnBK,EADmBH,EADnB1G,EAAagF,GAAiC0B,EAAYF,EAAY,EAAGR,KAEjDJ,OACxB,IAAMkB,EAAK9C,GAAgByC,EAAUD,EAAY,GACjDG,EAAYG,EAAG,GACfF,EAAWE,EAAG,GACVJ,EAAWvwC,QAAUuwC,EAAW1G,GAAYt7B,OAASs/B,GAAgByC,EAAUD,GAAW,KAC5FxG,GAAc,GAEhB0G,EAAaA,EAAWt9B,MAAM,EAAG42B,EAAa,QAE9C0G,EAAa,GAlBmD,oBAoBtB/B,GAAa8B,EAAUD,EAAWvC,MApBZ,IAoBlE,IAAK,EAAL,qBAAyF,eAArE8C,EAAqE,EAA5E1C,MAAoBtsC,EAAwD,EAAxDA,MACzBivC,EAAcD,EAAcJ,EAC5BM,EAAUD,EAAcJ,EAAWC,EAAaG,EAAc3H,EACpEqH,EAAW71B,KAAK,CACd+0B,OAAQqB,EACRviC,KAAM3M,EACNO,MAAOyuC,IAETJ,EAAYI,EACZF,EAAaI,EACbL,EAAW7uC,GA9BqD,8BAgClE,MAAO,CACL2uC,aACAQ,UAAWP,EACXQ,WAAYN,EACZO,SAAUR,GAGd,SAASS,GAAiB/0C,EAA1B,GAAmE,uBAAjCktC,EAAiC,KAAzBqG,EAAyB,KAAXpvC,EAAW,KAAN4oC,EAAM,KAC7DG,EAAOrpC,OAAS,GAClBM,EAAI,sBAAuB+oC,EAAQ9B,GAAS4J,OAE9C,IAAMb,EAAWn0C,EAAMm0C,SACnBc,EAAcd,EACdD,EAAY,EAChB,GAAIX,EAAa1vC,OAAS,GAAKmwB,GAAMmgB,IAA+B,IAAlBjH,EAAOrpC,OAAc,CACrE,IAAMqxC,EAAYhI,EAAO,GAAG96B,KACtBy6B,EAAWK,EAAO,GAAG96B,KAC3B6iC,EAAc1B,EAAanyC,QAAO,SAAC2P,EAAM0iC,GACvC,OAAO7B,GAAOA,GAAO7gC,EAAM0iC,EAAYyB,GAAYzB,EAAa,EAAG5G,KAClEoI,OACE,OAlHT,SAAsBd,EAAUjH,GAC9B,IADsC,EAClCgH,EAAYlgB,GAAMmgB,GAAY,EAAIxC,IADA,cAElBzE,GAFkB,IAEtC,IAAK,EAAL,qBAA4B,KAAjBkG,EAAiB,QAClBhhC,EAA+BghC,EAA/BhhC,KAAMs7B,EAAyB0F,EAAzB1F,WAAYD,EAAa2F,EAAb3F,SAE1B,GADAyG,EAAYpmC,KAAKmI,IAAIi+B,EAAWxG,GAC5B1Z,GAAMmgB,GACRA,EAAWvC,GAAOuC,EAAU,EAAG/hC,OADjC,CAIA,IAAM+iC,EAAoB9C,GAAa8B,EAAUzG,EAAa,EAAGD,EAAW,GAC5E,IAAI0H,EAAkBvlC,KAAKsjC,GAAcE,IAAzC,CAGA,IAX0B,EAWtBgC,GAAgB,EAChBC,GAAe,EAZO,cAa4CF,GAb5C,IAa1B,IAAK,EAAL,qBAAyF,eAArEG,EAAqE,EAA5EvD,MAAwBwD,EAAoD,EAAzD1nB,IAAsB2nB,EAAmC,EAA1C/vC,MACxC2vC,GAIC3H,GAAY6H,GAAcljC,IAASojC,KACrCrB,EAAW/C,GAAO+C,EAAUmB,KAJ9BD,EAAeG,IAAepjC,EAC9BgjC,GAAgB,GAMdG,EAAW9H,GAAYA,GAAY6H,GACjCE,IAAepjC,IACjB+hC,EAAWvC,GAAOuC,EAAU1G,EAAW,EAAG+H,KAxBtB,8BA4BtBH,IACFlB,EAAWvC,GAAOuC,EAAUzG,EAAYt7B,OA/BN,8BAkCtC,MAAO,CAAC+hC,EAAUD,GAiFWuB,CAAaR,EAAa/H,GADhD,mBACJ+H,EADI,KACSf,EADT,KAGP,GAAIe,IAAgBd,EAClB,OAAOn0C,EAET,MAAuEg0C,GAAiBh0C,EAAMo0C,WAAYF,EAAWe,EAAalI,GAA9G2I,EAApB,EAAQtB,WAA2BQ,EAAnC,EAAmCA,UAAWE,EAA9C,EAA8CA,SAAUD,EAAxD,EAAwDA,WACxD,MAAO,CACLV,SAAUc,EACVb,WAAYsB,EACZd,YACAC,aACAC,WACAa,gBAAiBpC,EAAanyC,QAAO,SAAC2P,EAAM/K,GAC1C,OAAO4rC,GAAO7gC,EAAM/K,EAAO4vC,GAAS5vC,EAAO0vC,EAAe3I,MACzDoE,MACHoC,gBAGJ,SAASqC,GAAS5vC,EAAO+K,EAAMg8B,GAC7B,GAAoB,IAAhBh8B,EAAKlN,OACP,OAAO,EAET,MAA4C+uC,GAA0B7hC,EAAM/K,EAAO0tC,IAA3EJ,EAAR,EAAQA,OACFuC,EAAY7vC,EADlB,EAAgBA,MAEVwzB,EAFN,EAAmCpnB,KAEhByjC,GAAaA,EAAY,GAAK9I,EAAMuG,EACvD,OAAO9Z,EAAM,EAAIA,EAAMuT,EAAMvT,EAK/B,SAASsc,GAA0BnG,EAAUoG,EAAOnB,GAClD,GAJF,SAAyBjF,GACvB,MAAsC,qBAAxBA,EAAS8D,WAGnBuC,CAAgBrG,GAClB,OAAOoG,EAAMxC,aAAa5D,EAAS8D,YAAc,EAEjD,IACIl8B,EAAS0+B,GAD2B,SAAnBtG,EAAS3pC,MAAmB4uC,EAAYjF,EAAS3pC,MAChB+vC,GAEtD,OADAx+B,EAASzJ,KAAKiI,IAAI,EAAGwB,EAAQzJ,KAAKmI,IAAI2+B,EAAWr9B,IAIrD,SAAS0+B,GAA2BtC,EAAWoC,GAC7C,IAAKG,GAAUH,GACb,OAAOpC,EAGT,IADA,IAAIwC,EAAc,EACXJ,EAAMxC,aAAa4C,IAAgBxC,EAAYwC,GACpDA,IAEF,OAAOxC,EAAYwC,EAErB,SAASD,GAAUH,GACjB,OAAQ/hB,GAAM+hB,EAAMJ,iBAStB,IAAMS,GAAW,CACfvb,aAAc,SACdF,YAAa,SAET0b,GAAahO,IACjB,YAAqC,uBAAjClkC,EAAiC,KAAjCA,IAAS8uC,EAAwB,KAAxBA,iBACLqD,EAAa1Q,KACb2Q,EAAa3Q,KACb4Q,EAAqBrQ,GAA0BoQ,EAAY,GAC3DE,EAAc7Q,KACd8Q,EAAY9Q,KACZ+Q,EAAiB7Q,GAAe,GAChCyN,EAAezN,GAAe,IAC9B8Q,EAAgB9Q,QAAe,GAC/B+Q,EAAkB/Q,QAAe,GACjC+G,EAAW/G,IAAe,SAAC3M,EAAI12B,GAAL,OAAe+rC,GAAgBrV,EAAIid,GAAS3zC,OACtER,EAAO6jC,QAAe,GACtBiH,EAAMjH,GAAe,GACrBC,EA5JD,CACLqO,WAAY,GACZD,SAAUhD,KACVwE,gBAAiBxE,KACjByD,UAAW,EACXC,WAAY,EACZC,SAAU,EACVvB,aAAc,IAsJRwC,EAAQ5P,GACZK,GAAK8P,EAAY9O,GAAe+L,EAAcpvC,EAAK4oC,GAAM/lB,GAAK+tB,GAAkBhP,GAAUa,MAC1Fb,GAEI+Q,EAAmB3Q,GACvBK,GACE+M,EACA3M,KACA5f,IAAK,SAAC+vB,EAAMC,GAAP,MAAiB,CAAED,KAAMA,EAAKv9B,QAASA,QAASw9B,KAAS,CAC5DD,KAAM,GACNv9B,QAAS,KAEX1T,IAAI,qBAAGixC,SAET,IAEF11B,GACEmlB,GACE+M,EACA1c,IAAO,SAACW,GAAD,OAAaA,EAAQ3zB,OAAS,KACrC2jC,GAAeuO,EAAOhJ,GACtBjnC,IAAI,YAAmC,uBAAjCmxC,EAAiC,KAAlBC,EAAkB,KAAVC,EAAU,KAC/BxB,EAAkBsB,EAAc71C,QAAO,SAAC2P,EAAM/K,EAAO6X,GACzD,OAAO+zB,GAAO7gC,EAAM/K,EAAO4vC,GAAS5vC,EAAOkxC,EAAO9C,WAAY+C,IAASt5B,KACtEszB,MACH,OAAO,2BACF+F,GADL,IAEE3D,aAAc0D,EACdtB,wBAINI,GAEF10B,GACEmlB,GACE+P,EACA/O,GAAeuO,GACflf,IAAO,YAAkC,uBACvC,OADuC,UAAjB+d,aAGxB9uC,IAAI,YAA4C,uBAA1CsxC,EAA0C,YAC9C,MAAO,CACL,CACE1J,WAAY0J,EACZ3J,SAJ0C,EAA3BmH,UAKfxiC,KAL0C,EAAhB0iC,eAUlCwB,GAEFj1B,GAAQu1B,EAAeC,GACvB,IAAMQ,EAAiBlR,GACrBK,GACEoQ,EACA9wC,IAAI,SAACsM,GAAD,YAAmB,IAATA,OAEhB,GAEFiP,GACEmlB,GACEqQ,EACAhgB,IAAO,SAACpxB,GACN,YAAiB,IAAVA,GAAoBuuB,GAAMwR,GAASuQ,GAAO5B,aAEnDruC,IAAI,SAACsM,GAAD,MAAU,CAAC,CAAEs7B,WAAY,EAAGD,SAAU,EAAGr7B,aAE/CkkC,GAEF,IAAMgB,EAAcrR,GAClBO,GACE8P,EACA9O,GAAeuO,GACf/uB,IACE,cAAwC,IAA9BuwB,EAA8B,EAArCxB,MAAqC,mBAAdyB,GAAc,WACtC,MAAO,CACLC,QAASD,IAAaD,EACtBxB,MAAOyB,KAGX,CAAEC,SAAS,EAAO1B,MAAOhQ,IAE3BjgC,IAAI,SAACL,GAAD,OAAWA,EAAMgyC,aAGzBtS,GACEqB,GACEmQ,EACA3vB,IACE,SAAC+vB,EAAM5yB,GACL,MAAO,CAAE6U,KAAM+d,EAAKA,KAAO5yB,EAAM4yB,KAAM5yB,KAEzC,CAAE6U,KAAM,EAAG+d,KAAM,IAEnBjxC,IAAI,SAAC4xC,GAAD,OAASA,EAAI1e,UAEnB,SAACsa,GACC,IAAsB2D,EAAkBzR,GAASuQ,GAAzCxC,aACR,GAAID,EAAS,EACXhO,GAAQ2N,GAAkB,GAC1B3N,GAAQmR,EAAanD,EAASD,GAAmBC,EAAQ2D,SACpD,GAAI3D,EAAS,EAAG,CACrB,IAAMqE,EAAwBnS,GAASsR,GACnCa,EAAsB9zC,OAAS,IACjCyvC,GAAUD,IAAoBC,EAAQqE,IAExCrS,GAAQoR,EAAWpD,OAIzBnO,GAAUqB,GAAKmQ,EAAgBnP,GAAerjC,KAAO,YAAmB,uBAAjB6B,EAAiB,KAAV4xC,EAAU,KAClE5xC,EAAQ,GACV4xC,EACE,2HACA,CAAEjB,kBACFvL,GAASmC,UAIf,IAAMsK,EAAoB5R,GAAkBwQ,GAC5Cp1B,GACEmlB,GACEiQ,EACAjP,GAAeuO,GACfjwC,IAAI,YAA4B,uBAA1BgyC,EAA0B,KAAZZ,EAAY,KACxBa,EAAcb,EAAO3D,aAAa1vC,OAAS,EAC3Cm0C,EAAgB,GAChBC,EAAcf,EAAOpC,SAC3B,GAAIiD,EAAa,CAIf,IAHA,IAAMG,EAAiBzG,GAAKyF,EAAO/C,SAAU,GACzCgE,EAA2B,EAC3B1E,EAAa,EACV0E,EAA2BL,GAAc,CAC9C,IAAMM,EAAgBlB,EAAO3D,aAAaE,GACpC4E,EAAiBnB,EAAO3D,aAAa1vC,SAAW4vC,EAAa,EAAI9B,IAAWuF,EAAO3D,aAAaE,EAAa,GAAK2E,EAAgB,EACxIJ,EAAcz5B,KAAK,CACjBmvB,WAAY0K,EACZ3K,SAAU2K,EACVhmC,KAAM8lC,IAERF,EAAcz5B,KAAK,CACjBmvB,WAAY0K,EAAgB,EAC5B3K,SAAU2K,EAAgB,EAAIC,EAAiB,EAC/CjmC,KAAM6lC,IAERxE,IACA0E,GAA4BE,EAAiB,EAE/C,IAAMC,EAAatG,GAAKkF,EAAO/C,UAK/B,OAJ6BgE,IAA6BL,GAExDQ,EAAW/wB,QAEN+wB,EAAWl3C,QAChB,SAACopC,EAAD,GAAgC,IAArBxkC,EAAqB,EAAxB6J,EAAauC,EAAW,EAAd4+B,EACZ9D,EAAS1C,EAAI0C,OAWjB,OAVqB,IAAjB1C,EAAI8J,WACNpH,EAAS,GAAH,mBACD1C,EAAI0C,QADH,CAEJ,CACEQ,WAAYlD,EAAI6J,UAChB5G,SAAUznC,EAAQ8xC,EAAe,EACjC1lC,KAAMo4B,EAAI8J,aAIT,CACLpH,SACAmH,UAAWruC,EAAQ8xC,EACnBxD,SAAUliC,KAGd,CACE86B,OAAQ8K,EACR3D,UAAWyD,EACXxD,SAAU,IAEZpH,OAEJ,OAAO8E,GAAKkF,EAAO/C,UAAU/yC,QAC3B,SAACopC,EAAD,GAAgC,IAArBxkC,EAAqB,EAAxB6J,EAAauC,EAAW,EAAd4+B,EAChB,MAAO,CACL9D,OAAQ,GAAF,mBAAM1C,EAAI0C,QAAV,CAAkB,CAAEQ,WAAYlD,EAAI6J,UAAW5G,SAAUznC,EAAQ8xC,EAAe,EAAG1lC,KAAMo4B,EAAI8J,YACnGD,UAAWruC,EAAQ8xC,EACnBxD,SAAUliC,KAGd,CACE86B,OAAQ,GACRmH,UAAW,EACXC,SAAU2D,IAEZ/K,WAGNoJ,GAEF,IAAMiC,EAAkBtS,GACtBO,GACEkQ,EACAlP,GAAeuO,EAAOhJ,GACtBjnC,IAAI,YAAwC,uBAE1C,OAAO8vC,IAFmC,UAAxBxB,WAAwB,WAwDhD,OAlDA/yB,GACEmlB,GACEkQ,EACAlP,GAAeuO,EAAOhJ,GACtBjnC,IAAI,YAAgC,uBAA9B0yC,EAA8B,KAAlBtB,EAAkB,KAAVC,EAAU,KAElC,GADoBD,EAAO3D,aAAa1vC,OAAS,EAChC,CACf,GAAImwB,GAAMkjB,EAAO/C,UACf,OAAO+C,EAOT,IALA,IAAIjC,EAAc9D,KACZwG,EAAwBnS,GAASsR,GACnC2B,EAAoB,EACpBhF,EAAa,EACb0C,EAAc,EACXsC,GAAqBD,GAAY,CACtCrC,EAAcwB,EAAsBlE,GACpC,IAAM4E,EAAiBV,EAAsBlE,EAAa,GAAK0C,EAAc,EAC7E1C,IACAgF,GAAqBJ,EAAiB,EAMxC,GAJApD,EAAcjD,GAAKkF,EAAO/C,UAAU/yC,QAAO,SAACopC,EAAD,GAAmB,IAAX36B,EAAW,EAAXA,EAAGmhC,EAAQ,EAARA,EACpD,OAAOY,GAAOpH,EAAK18B,KAAKiI,IAAI,EAAGlG,EAAI2oC,GAAaxH,KAC/CiE,GACoBwD,KAAuBD,EAG5CvD,EAAcrD,GAAOqD,EAAa,EADXxD,GAAKyF,EAAO/C,SAAUgC,IAG7ClB,EAAcrD,GAAOqD,EAAa,EADbvD,GAAgBwF,EAAO/C,SAAwB,EAAbqE,GAAgB,IAGzE,OAAO,2BACFtB,GADL,IAEE/C,SAAUc,GACPjB,GAAiBkD,EAAO9C,WAAY,EAAGa,EAAakC,IAGzD,IAAMlC,EAAcjD,GAAKkF,EAAO/C,UAAU/yC,QAAO,SAACopC,EAAD,GAAmB,IAAX36B,EAAW,EAAXA,EAAGmhC,EAAQ,EAARA,EAC1D,OAAOY,GAAOpH,EAAK18B,KAAKiI,IAAI,EAAGlG,EAAI2oC,GAAaxH,KAC/CG,MACH,OAAO,2BACF+F,GADL,IAEE/C,SAAUc,GACPjB,GAAiBkD,EAAO9C,WAAY,EAAGa,EAAakC,QAK/DpB,GAEK,CAEL9zC,OACAs0C,aACAD,aACA/C,eACAsD,kBACAD,gBACAH,cACAC,YACA6B,kBACAV,oBACAlB,iBACA5J,MAEAgJ,QACAuB,cACAd,qBACAa,iBACAxK,cAGJ/H,GAAI2G,GAAcuH,IAClB,CAAEzK,WAAW,IAETmQ,GAAiD,qBAAb38B,UAA4B,mBAAoBA,SAASue,gBAAgBr3B,MACnH,SAAS01C,GAAuBhJ,GAC9B,IAAMp4B,EAA6B,kBAAbo4B,EAAwB,CAAE3pC,MAAO2pC,GAAaA,EAUpE,OATKp4B,EAAOqhC,QACVrhC,EAAOqhC,MAAQ,SAEZrhC,EAAO2E,UAAaw8B,KACvBnhC,EAAO2E,SAAW,QAEf3E,EAAO+7B,SACV/7B,EAAO+7B,OAAS,GAEX/7B,EAET,IAAMshC,GAAsBxQ,IAC1B,YAaM,8BAZF0N,EAYE,EAZFA,MAAOQ,EAYL,EAZKA,WAAYe,EAYjB,EAZiBA,YAAavK,EAY9B,EAZ8BA,IAY9B,OAVF6D,EAUE,EAVFA,oBACA1C,EASE,EATFA,eACA6B,EAQE,EARFA,SACAf,EAOE,EAPFA,0BACAwB,EAME,EANFA,aACAG,EAKE,EALFA,aACAF,EAIE,EAJFA,kBACAC,EAGE,EAHFA,kBAEAvsC,EACE,KADFA,IAEI20C,EAAgBlT,KAChBmT,EAAgBjT,GAAe,GACjCkT,EAA6B,KAC7BC,EAAmB,KACnBC,EAAyB,KAC7B,SAASpP,IACHkP,IACFA,IACAA,EAA6B,MAE3BE,IACFA,IACAA,EAAyB,MAEvBD,IACFlgC,aAAakgC,GACbA,EAAmB,MAErB3T,GAAQsL,GAAqB,GAgE/B,OA9DAvvB,GACEmlB,GACEsS,EACAtR,GAAeuO,EAAO7H,EAAgBqI,EAAYwC,EAAevI,EAAcG,EAAcxsC,GAC7FqjC,GAAeuF,EAAK0D,EAAmBC,GACvC5qC,IACE,YAKM,6CAJH6pC,EAIG,KAJOuH,EAIP,KAJeiC,EAIf,KAJgC/B,EAIhC,KAJ6CgC,EAI7C,KAJ6DC,EAI7D,KAJ4EC,EAI5E,KAJ2F1B,EAI3F,KAHJT,EAGI,KAFJoC,EAEI,KADJC,EACI,KACEC,EAAiBd,GAAuBhJ,GACtCiJ,EAA4Ba,EAA5Bb,MAAO18B,EAAqBu9B,EAArBv9B,SAAUo3B,EAAWmG,EAAXnG,OACnBsB,EAAYwC,EAAc,EAC1BpxC,EAAQ8vC,GAA0B2D,EAAgBvC,EAAQtC,GAC5Dpb,EAAMoc,GAAS5vC,EAAOkxC,EAAO9C,WAAY+C,GAAQkC,EACvC,QAAVT,GACFpf,GAAO+f,EAAqB7H,GAAgBwF,EAAO/C,SAAUnuC,GAAO,GAAKmzC,EAAkBK,EACvFxzC,IAAU4uC,IACZpb,GAAO8f,IAEU,WAAVV,EACTpf,IAAQ+f,EAAqB7H,GAAgBwF,EAAO/C,SAAUnuC,GAAO,GAAKmzC,EAAkBK,GAAsB,EAElHhgB,GAAO4f,EAEL9F,IACF9Z,GAAO8Z,GAET,IAwCaoG,EAxCPC,EAAQ,SAACC,GACb9P,IACI8P,GACFhC,EAAK,wBAAyB,CAAEjI,YAAYvE,GAAS4J,OACrD1P,GAAQwT,EAAenJ,IAEvBiI,EAAK,yCAA0C,GAAIxM,GAAS4J,QAIhE,GADAlL,IACiB,WAAb5tB,EAAuB,CACzB,IAAI09B,GAAc,EAClBV,EAAyB/T,GAAUmS,GAAa,SAACG,GAC/CmC,EAAcA,GAAenC,KAE/BuB,EAA6BtT,GAAWsJ,GAA2B,WACjE2K,EAAMC,WAGRZ,EAA6BtT,GAAWc,GAAK8Q,GAqBlCoC,EArB+D,IAsB/E,SAACt1B,GACN,IAAMirB,EAAah3B,YAAW,WAC5B+L,GAAK,KACJs1B,GACH,OAAO,SAACj0C,GACFA,IACF2e,GAAK,GACLrL,aAAas2B,QA7B0EsK,GAOnF,OALAV,EAAmB5gC,YAAW,WAC5ByxB,MACC,MACHxE,GAAQsL,GAAqB,GAC7BgH,EAAK,0BAA2B,CAAE5xC,QAAOwzB,MAAKtd,YAAYkvB,GAAS4J,OAC5D,CAAExb,MAAKtd,gBAIpB6zB,GAEK,CACL+I,gBACAC,mBAGJjU,GAAIuR,GAAYjG,GAAa3E,IAC7B,CAAElD,WAAW,IAef,IAAMsR,GAAK,KACLC,GAAO,OAEPC,GAAuB,CAC3BC,UAAU,EACVC,mBAAoB,wBACpBj6C,MAAO,CACLk6C,aAAc,EACdnM,UAAW,EACXG,eAAgB,EAChBD,aAAc,IAIZkM,GAAmB9R,IAAO,YAAiG,0BAA7FgI,EAA6F,EAA7FA,qBAAsBtC,EAAuE,EAAvEA,UAAWG,EAA4D,EAA5DA,eAAgBsC,EAA4C,EAA5CA,aAAcG,EAA8B,EAA9BA,aAAcV,EAAgB,EAAhBA,SACzGmK,EAAatU,IAAe,GAC5BuU,EAAUvU,IAAe,GACzBwU,EAAsB1U,KACtB2U,EAAmB3U,KACnB4U,EAAoB1U,GAAe,GACnC2U,EAAiB3U,GAPQ,GAQzB4U,EAAcvU,GAClBK,GACEyB,GAAMzB,GAAK0B,GAAI6F,GAAY9G,GAAK,GAAIF,IAAM,IAAQP,GAAK0B,GAAI6F,GAAY9G,GAAK,GAAIF,IAAM,GAAQQ,GAAa,OAC3GX,OAEF,GAEI+T,EAAgBxU,GACpBK,GAAKyB,GAAMzB,GAAKyJ,EAAUlJ,IAAM,IAAQP,GAAKyJ,EAAUlJ,IAAM,GAAQQ,GAAa,OAAQX,OAC1F,GAEFvlB,GACEmlB,GACE2B,GAAcD,GAAI6F,GAAY7F,GAAIuS,IAClC30C,IAAI,wDACJ8gC,MAEFyT,GAEFh5B,GAAQmlB,GAAK6T,EAASlT,GAAa,KAAMoT,GACzC,IAAMK,EAAgB3U,GACpBO,GACE2B,GAAckI,EAAsBnI,GAAIgG,GAAiBhG,GAAIsI,GAAetI,GAAIyI,GAAezI,GAAIsS,IACnGxzB,IAAK,SAACxN,EAAD,GAA2H,IAQxHqhC,EACAC,EATwH,0BAAnGC,EAAmG,EAA9GhN,UAAuBE,EAAuF,EAAvFA,aAAgBkL,EAAuE,KAExHn5C,GAFwH,UAEhH,CACZkuC,eAAgBiL,EAChBpL,UAAWgN,EACX9M,iBAEF,OANoB8M,EAAa5B,EAAkBlL,GAD2E,MAUxH8M,EAAavhC,EAAQxZ,MAAM+tC,WAC7B8M,EAAkB,gBAClBC,EAAiBthC,EAAQxZ,MAAM+tC,UAAYgN,IAE3CF,EAAkB,iBAClBC,EAAiBthC,EAAQxZ,MAAM+tC,UAAYgN,GAAcvhC,EAAQshC,gBAE5D,CACLd,UAAU,EACVh6C,QACA66C,kBACAC,mBAaG,CACLd,UAAU,EACVC,mBAXEj6C,EAAMiuC,aAAez0B,EAAQxZ,MAAMiuC,aAChB,iBACZkL,EAAkB3/B,EAAQxZ,MAAMkuC,eACpB,6BACZ6M,EAAavhC,EAAQxZ,MAAM+tC,UACf,oBAEA,yCAKrB/tC,WAED+5C,IACHnT,IAAqB,SAACmQ,EAAM5yB,GAC1B,OAAO4yB,GAAQA,EAAKiD,WAAa71B,EAAK61B,cAItCgB,EAA0B7U,GAC9BK,GACE6J,EACArpB,IACE,SAACxN,EAAD,GAAuF,IAAhEuhC,EAAgE,EAA3EhN,UAAuBE,EAAoD,EAApDA,aAA8BkL,EAAsB,EAAtCjL,eAC/C,GAAKS,GAAmBn1B,EAAQy0B,aAAcA,GAkB5C,MAAO,CACLF,UAAWgN,EACX9M,eACAgN,KAAM,EACNxD,SAAS,GArBX,IAAMuC,EAAW/L,GAAgB8M,EAAa5B,GAAmB,EACjE,OAAI3/B,EAAQu0B,YAAcgN,GAAcf,EAC/B,CACL/L,eACAF,UAAWgN,EACXE,KAAMzhC,EAAQu0B,UAAYgN,EAC1BtD,SAAS,GAGJ,CACLxJ,eACAF,UAAWgN,EACXE,KAAM,EACNxD,SAAS,KAYjB,CAAExJ,aAAc,EAAGgN,KAAM,EAAGlN,UAAW,EAAG0J,SAAS,IAErD5gB,IAAO,SAACpxB,GAAD,OAAWA,EAAMgyC,WACxB3xC,IAAI,SAACL,GAAD,OAAWA,EAAMw1C,SAEvB,GAEF55B,GACEmlB,GACEoU,EACA90C,IAAI,SAAC9F,GAAD,OAAWA,EAAMg6C,aAEvBI,GAEF/4B,GAAQmlB,GAAK4T,EAAYjT,GAAa,KAAMmT,GAC5C,IAAMY,EAAkBpV,GAAegU,IACvCz4B,GACEmlB,GACE6J,EACAvqC,IAAI,qBAAGioC,aACPnH,KACA5f,IACE,SAACwjB,EAAKuQ,GACJ,OAAIvV,GAASmV,GACJ,CAAEQ,UAAW3Q,EAAI2Q,UAAWC,cAAeL,GAE7C,CAAEI,UAAWJ,EAAavQ,EAAI4Q,cAAgBvB,GAAKC,GAAMsB,cAAeL,KAEjF,CAAEI,UAAWrB,GAAMsB,cAAe,IAEpCt1C,IAAI,SAACL,GAAD,OAAWA,EAAM01C,cAEvBD,GAEF75B,GAAQmlB,GAAK6J,EAAsBlJ,GAAa,IAAKJ,GAxJxC,SAwJwDmU,GACrE,IAAMG,EAAiBvV,GAAe,GAqBtC,OApBAzkB,GACEmlB,GACEkU,EACA7jB,IAAO,SAACpxB,GAAD,OAAYA,KAEnBshC,GAAM,IAERsU,GAEFh6B,GACEmlB,GACEuH,EACA5G,GAAa,KACbK,GAAekT,GACf7jB,IAAO,wDACP7P,IAAK,gDAAuB,CAAvB,4BAAqC,CAAC,EAAG,IAC9ClhB,IAAI,mCAAEixC,EAAF,iBAAyBA,MAE/BsE,GAEK,CACLX,cACAL,UACAD,aACAQ,gBACAL,mBACAD,sBACAY,kBACAV,oBACAC,iBACAY,iBACAL,6BAEDlW,GAAIsL,KACDkL,GAAmBjT,IACvB,YAAe,IAAXlkC,EAAW,oBAAXA,IACIo3C,EAAazV,IAAe,GAC5B0V,EAAWvV,GACfO,GACE+U,EACA1kB,IAAO,SAAC4kB,GAAD,OAAWA,KAClB7U,OAMJ,OAHAzB,GAAUoW,GAAY,SAAC91C,GACrBA,GAAS+/B,GAASrhC,EAATqhC,CAAc,gBAAiB,GAAI4F,GAAS4J,UAEhD,CAAEuG,aAAYC,cAEvB1W,GAAI2G,IACJ,CAAElD,WAAW,IAEf,SAASmT,GAAWC,EAAYzQ,GACZ,GAAdyQ,EACFzQ,IAEA7V,uBAAsB,kBAAMqmB,GAAWC,EAAa,EAAGzQ,MAG3D,SAAS0Q,GAAiCjM,EAAU4G,GAClD,IAAM3B,EAAY2B,EAAa,EAE/B,MADkC,kBAAb5G,EAAwBA,EAA8B,SAAnBA,EAAS3pC,MAAmB4uC,EAAYjF,EAAS3pC,MAG3G,IAAM61C,GAAgCxT,IACpC,YAA+F,8BAA3F0N,EAA2F,EAA3FA,MAAOuB,EAAoF,EAApFA,YAAaT,EAAuE,EAAvEA,gBAAqB9I,EAAkD,KAAlDA,UAAe+K,EAAmC,KAAnCA,cAAmB0C,EAAgB,KAAhBA,SACvEM,EAAwBhW,IAAe,GACvCiW,EAA0BjW,GAAe,GACzCkW,EAAkBlW,IAAe,GA2BvC,OA1BAzkB,GACEmlB,GACEgV,EACAhU,GAAeuU,GACfllB,IAAO,wDACPkQ,IAAM,IAER+U,GAEF3W,GACEqB,GACE2B,GAAcmP,EAAakE,GAC3BhU,GAAesU,EAAuB/F,EAAOc,EAAiBmF,GAC9DnlB,IAAO,YAA+F,uBAA1FolB,EAA0F,uBAA9EC,EAA8E,KAApD/H,EAAoD,KAApDA,SAAYgI,EAAwC,KAAtBC,EAAsB,KACpG,OAAOH,KAAejoB,GAAMmgB,IAAajP,GAAUiX,MAAuBD,IAA2BE,KAEvG5U,GAAeuU,KAEjB,YAAkC,IAA9BM,EAA8B,oBAChC/W,GAAQ0W,GAAiB,GACzBN,GAAW,GAAG,WACZhW,GAAWqI,GAAW,kBAAMzI,GAAQwW,GAAuB,MAC3DxW,GAAQwT,EAAeuD,SAItB,CACLP,wBACAC,6BAGJjX,GAAIuR,GAAYjG,GAAayI,GAAqByC,IAClD,CAAE/S,WAAW,IAEf,SAAS+T,GAAsBC,GAC7B,QAAKA,IAGa,WAAXA,EAAsB,SAAW,QAE1C,IAMMC,GAAqBnU,IACzB,YAQM,8BAPFkO,EAOE,EAPFA,WAAYe,EAOV,EAPUA,YAOV,OANF8C,EAME,EANFA,WAAYQ,EAMV,EANUA,cACZ9B,EAKE,KALFA,cACAgD,EAIE,KAJFA,sBAIE,OAHFP,EAGE,EAHFA,WAAYC,EAGV,EAHUA,SACZr3C,EAEE,KAFFA,IACAysC,EACE,KADFA,oBAEI6L,EAAe3W,IAAe,GAC9B4W,EAAqB9W,KACvB+W,EAAsB,KAC1B,SAASC,EAAeC,GACtBvX,GAAQwT,EAAe,CACrB9yC,MAAO,OACP4yC,MAAO,MACP18B,SAAU2gC,IA8Bd,SAASC,EAAqBC,GAC5B,IAAMjkC,EAAS4sB,GAAWkV,GAAe,SAAC56C,IACpC+8C,GAAkB/8C,EAAMg6C,UAAyC,mBAA7Bh6C,EAAMi6C,oBAA4C0C,IACxFnX,GAASrhC,EAATqhC,CAAc,4CAA6C,GAAI4F,GAAS4J,OACxE4H,EAAe,YAGnBvkC,WAAWS,EAAQ,KA2BrB,OA7DAqsB,GACEqB,GACE2B,GAAc3B,GAAK0B,GAAIqO,GAAatP,GAAK,IAAKuU,GAC9ChU,GAAeU,GAAIuU,GAAerC,EAAY0B,EAAuBlL,GACrE9qC,IAAI,YAA0G,6CAAvGsxC,EAAuG,KAA1F6E,EAA0F,KAA9Ec,EAA8E,KAA/DC,EAA+D,KAAlDd,EAAkD,KAA1Be,EAA0B,KACxGC,EAAejB,GAAaC,EAC5BW,EAAuB,OAK3B,OAJIK,IACFL,EAlCqB,SAACN,EAAQnC,GACxC,MAAsB,oBAAXmC,EACFD,GAAsBC,EAAOnC,IAE/BA,GAAckC,GAAsBC,GA8BVY,CAAyBJ,EAAeC,GAAeC,GAC9EC,EAAeA,KAAkBL,GAE5B,CAAEtG,WAAYa,EAAa8F,eAAcL,2BAElDhmB,IAAO,qBAAGqmB,kBAEZ,YAAuD,IAAxC9F,EAAwC,EAApDb,WAAyBsG,EAA2B,EAA3BA,qBACtBF,IACFA,IACAA,EAAsB,MAExBA,EAAsBjX,GAAW4R,GAAa,WAC5C9R,GAASrhC,EAATqhC,CAAc,uBAAwB,CAAE+Q,WAAYa,GAAehM,GAAS4J,OAC5E4H,EAAeC,GACfF,EAAsB,WAa5BxX,GACEqB,GACE2B,GAAcD,GAAIuU,GAAelG,EAAYgF,GAC7C1kB,IAAO,mCAAE0lB,EAAF,KAAYd,EAAZ,YAAuBc,GAAUd,KACxCz0B,IACE,cAAyB,IAAtBvhB,EAAsB,EAAtBA,MAAY0e,EAAU,oBACvB,MAAO,CAAEi5B,UAAW33C,IAAU0e,EAAM1e,MAAO0e,KAE7C,CAAEi5B,WAAW,EAAO33C,MAAO,IAE7BoxB,IAAO,qBAAGumB,aACV5V,GAAeiV,EAAclG,KAE/B,YACEuG,GAAuC,IADlB,wBAIzB3X,GAAUuX,GAAoB,WAC5BI,GAAgD,IAA3BtX,GAASiX,OAEhCtX,GAAUgD,GAAcD,GAAIuU,GAAe7B,IAAgB,YAA4B,uBAA1BmC,EAA0B,KAAX/8C,EAAW,KACjF+8C,IAAkB/8C,EAAMg6C,UAAyC,+BAA7Bh6C,EAAMi6C,oBAC5C2C,EAAe,WAGZ,CAAEH,eAAcC,wBAEzB5X,GAAIuR,GAAY8D,GAAkBtB,GAAqBgD,GAA+BP,GAAkB7P,GAAc2E,KAExH,SAASiN,GAA6BC,GACpC,OAAOA,EAAOl8C,QACZ,SAACopC,EAAK+S,GAGJ,OAFA/S,EAAI+I,aAAah1B,KAAKisB,EAAI+L,YAC1B/L,EAAI+L,YAAcgH,EAAa,EACxB/S,IAET,CACE+L,WAAY,EACZhD,aAAc,KAIpB,IAAMiK,GAAoBnV,IAAO,YAAwE,8BAApEkO,EAAoE,EAApEA,WAAYhD,EAAwD,EAAxDA,aAAcwC,EAA0C,EAA1CA,MAA0C,OAA/BhI,EAA+B,EAA/BA,UAAWyC,EAAoB,EAApBA,aAC7EiN,EAAc7X,KACd8X,EAAkB9X,KAClB+X,EAAuB1X,GAAkBO,GAAKiX,EAAa33C,GAAIu3C,MAyBrE,OAxBAh8B,GACEmlB,GACEmX,EACA73C,IAAI,SAACL,GAAD,OAAWA,EAAM8wC,eAEvBA,GAEFl1B,GACEmlB,GACEmX,EACA73C,IAAI,SAACL,GAAD,OAAWA,EAAM8tC,iBAEvBA,GAEFlyB,GACEmlB,GACE2B,GAAc4F,EAAWgI,EAAOvF,GAChC3Z,IAAO,+CAAiBqf,GAAjB,SACPpwC,IAAI,mCAAEi1C,EAAF,KAAc/6C,EAAd,KAAqBq5C,EAArB,YAAwC3H,GAAgB1xC,EAAM21C,gBAAiB7nC,KAAKiI,IAAIglC,EAAa1B,EAAe,GAAI,KAAK,MACjIzS,KACA9gC,IAAI,SAACE,GAAD,MAAW,CAACA,OAElB03C,GAEK,CAAED,cAAaC,qBACrB5Y,GAAIuR,GAAYjG,KACnB,SAASwN,GAAgB7G,EAAMv9B,GAC7B,SAAUu9B,GAAQA,EAAK,KAAOv9B,EAAQ,IAAMu9B,EAAK,KAAOv9B,EAAQ,IAElE,SAASqkC,GAAgB9G,EAAM5yB,GAC7B,SAAU4yB,GAAQA,EAAKrJ,aAAevpB,EAAKupB,YAAcqJ,EAAKtJ,WAAatpB,EAAKspB,UAElF,IAAMqQ,GAAM,MACNC,GAAS,SACTC,GAAO,OACb,SAASC,GAAYC,EAAUrwB,EAAKstB,GAClC,MAAwB,kBAAb+C,EACF/C,IAActB,IAAMhsB,IAAQiwB,IAAO3C,IAAcrB,IAAQjsB,IAAQkwB,GAASG,EAAW,EAExF/C,IAActB,GACThsB,IAAQiwB,GAAMI,EAAS96C,KAAO86C,EAASxiC,QAEvCmS,IAAQkwB,GAASG,EAAS96C,KAAO86C,EAASxiC,QAIvD,SAASyiC,GAAoB14C,EAAOooB,GAClC,MAAwB,kBAAVpoB,EAAqBA,EAAQA,EAAMooB,IAAQ,EAE3D,IAAMuwB,GAAkB/V,IACtB,YAAiF,0BAA7E0F,EAA6E,EAA7EA,UAAWG,EAAkE,EAAlEA,eAAgBoC,EAAkD,EAAlDA,UAAWE,EAAuC,EAAvCA,aAAcC,EAAyB,EAAzBA,kBAChD4N,EAAezY,KACfmT,EAAgBjT,GAAe,GAC/BwY,EAAqBxY,GAAe,GACpCoY,EAAWpY,GAAe,GAwDhC,MAAO,CAELuY,eACAH,WACAnF,gBACAuF,qBAEAC,aA9DmBpY,GACnBK,GACE2B,GACED,GAAI6F,GACJ7F,GAAIgG,GACJhG,GAAIsI,GACJtI,GAAImW,EAAcT,IAClB1V,GAAIgW,GACJhW,GAAI6Q,GACJ7Q,GAAIuI,GACJvI,GAAIoI,GACJpI,GAAIoW,IAENx4C,IACE,YAUM,uBATJi1C,EASI,KARJ5B,EAQI,KAPJE,EAOI,2BANHmF,EAMG,KANMC,EAMN,KALJC,EAKI,KAJJtF,EAII,KAHJG,EAGI,KAFJoF,EAEI,KADJC,EACI,KACEplB,EAAMuhB,EAAa4D,EACnBE,EAAqBzF,EAAiBG,EACtCuF,EAAgBhxC,KAAKiI,IAAIsjC,EAAgB7f,EAAK,GAChD2hB,EAAY6C,GACVe,EAAsBZ,GAAoBS,EAAqBd,IAC/DkB,EAAyBb,GAAoBS,EAAqBb,IAWxE,OAVAS,GAAWG,EAEXF,GAAcpF,EAAgBE,GAD9BiF,GAAWnF,EAAgBE,GAGbwB,EAAa8D,EAAqBE,IAC9C5D,EAAYtB,KAFd4E,GAAcE,GAIG5D,EAAa+D,EAAgB3F,EAAkB6F,IAC9D7D,EAAYrB,IAEVqB,IAAc6C,GACT,CACLlwC,KAAKiI,IAAIyjB,EAAM6f,EAAgB4E,GAAYS,EAAWZ,GAAK3C,GAAa4D,EAAqB,GAC7FvlB,EAAMslB,EAAgBvF,EAAqBJ,EAAkB8E,GAAYS,EAAWX,GAAQ5C,GAAa6D,GAGtG,QAGXnoB,IAAO,SAACpxB,GAAD,OAAoB,MAATA,KAClBmhC,GAAqBgX,KAEvB,CAAC,EAAG,OAYR9Y,GAAIsL,IACJ,CAAE7H,WAAW,IAaf,IAAM0W,GAAmB,CACvBjoB,MAAO,GACPkoB,SAAU,GACVC,UAAW,EACXjF,aAAc,EACd1gB,IAAK,EACL4lB,OAAQ,EACRrG,cAAe,EACfxC,WAAY,EACZI,eAAgB,GAElB,SAAS0I,GAAeroB,EAAO+e,EAAOY,GACpC,GAAqB,IAAjB3f,EAAMnzB,OACR,MAAO,GAET,IAAKqyC,GAAUH,GACb,OAAO/e,EAAMlxB,KAAI,SAACC,GAAD,mBAAC,eAAeA,GAAhB,IAAsBC,MAAOD,EAAKC,MAAQ2wC,EAAgB2I,cAAev5C,EAAKC,WAEjG,IAPoD,EAO9C0nC,EAAa1W,EAAM,GAAGhxB,MACtBynC,EAAWzW,EAAMA,EAAMnzB,OAAS,GAAGmC,MACnCu5C,EAAkB,GAClBC,EAAcnN,GAAa0D,EAAMJ,gBAAiBjI,EAAYD,GAChEgS,OAAe,EACfC,EAAoB,EAZ4B,cAajC1oB,GAbiC,IAapD,IAAK,EAAL,qBAA0B,KAAfjxB,EAAe,UACnB05C,GAAgBA,EAAa5xB,IAAM9nB,EAAKC,SAC3Cy5C,EAAeD,EAAYj4B,QAC3Bm4B,EAAoB3J,EAAMxC,aAAajiC,QAAQmuC,EAAa1N,QAE9D,IAAI4N,OAAc,EAEhBA,EADE55C,EAAKC,QAAUy5C,EAAa1N,MACb,CACfjuC,KAAM,QACNkC,MAAO05C,GAGQ,CACf15C,MAAOD,EAAKC,OAAS05C,EAAoB,GAAK/I,EAC9ClD,WAAYiM,GAGhBH,EAAgBhhC,KAAhB,2BACKohC,GADL,IAEEvtC,KAAMrM,EAAKqM,KACXkhC,OAAQvtC,EAAKutC,OACbgM,cAAev5C,EAAKC,MACpB/D,KAAM8D,EAAK9D,SAnCqC,8BAsCpD,OAAOs9C,EAET,SAASK,GAAe5oB,EAAOkoB,EAAU3I,EAAYxJ,EAAKgJ,EAAOY,GAC/D,IAAQ7B,EAAoCiB,EAApCjB,SAAUD,EAA0BkB,EAA1BlB,WAAYD,EAAcmB,EAAdnB,UAC1BuK,EAAY,EACZC,EAAS,EACb,GAAIpoB,EAAMnzB,OAAS,EAAG,CACpBs7C,EAAYnoB,EAAM,GAAGsc,OACrB,IAAMuM,EAAW7oB,EAAMA,EAAMnzB,OAAS,GACtCu7C,EAASS,EAASvM,OAASuM,EAASztC,KAEtC,IAAMyjC,EAAYU,EAAa3B,EAEzBpb,EAAM2lB,EACNjF,EAFQrF,EAAagB,EAAYf,GAAYe,EAAY,GAAK9I,EAEvCqS,EAC7B,MAAO,CACLpoB,MAAOqoB,GAAeroB,EAAO+e,EAAOY,GACpCuI,SAAUG,GAAeH,EAAUnJ,EAAOY,GAC1CoC,cAAemG,EAAS99C,QAAO,SAACoF,EAAQT,GAAT,OAAkBA,EAAKqM,KAAO5L,IAAQ,GACrE24C,YACAjF,eACA1gB,MACA4lB,SACA7I,aACAI,kBAGJ,IAAMmJ,GAAkBzX,IACtB,YASM,8BARF0N,EAQE,EARFA,MAAOQ,EAQL,EARKA,WAAYt0C,EAQjB,EARiBA,KAAM00C,EAQvB,EARuBA,eAAgB5J,EAQvC,EARuCA,IAC3CgT,EAOI,YANFxB,EAME,EANFA,aAAcF,EAMZ,EANYA,aAA6B2B,EAMzC,EAN0BjH,cAM1B,OALF+C,EAKE,EALFA,sBAAuBC,EAKrB,EALqBA,wBACvBhD,EAIE,KAJFA,cACFkH,EAGI,KAFFzE,EAEE,KAFFA,SACAvI,EACE,KADFA,iBAEIyK,EAAkB5X,GAAe,IACjCoa,EAAgBta,KACtBvkB,GAAQ0+B,EAAmBrC,gBAAiBA,GAC5C,IAAMyC,EAAYha,GAChBK,GACE2B,GACEqT,EACAvI,EACA/K,GAAIqW,EAAcX,IAClB1V,GAAIqO,GACJrO,GAAI6N,GACJ7N,GAAI6T,GACJD,EACA5T,GAAIwV,GACJxV,GAAIyO,GACJzO,GAAI6E,GACJ9qC,GAEF40B,IAAO,YAAkE,wBAAhEhjB,EAAgE,KAAzDusC,EAAyD,KAApChJ,EAAoC,KAAXiJ,EAAW,MACjEC,EAAuBD,GAASA,EAAMx8C,SAAWuzC,EACvD,OAAOvjC,IAAUusC,IAAsBE,KAEzCx6C,IACE,YAYM,8CATHy6C,EASG,KATUC,EASV,KARJpJ,EAQI,KAPJF,EAOI,KANJmF,EAMI,KALJH,EAKI,KAJJuE,EAII,KAHJC,EAGI,KAFJvJ,EAEI,KADJkJ,EACI,MACEM,EAAazJ,EACX/C,EAAyBwM,EAAzBxM,SAAUC,EAAeuM,EAAfvM,WAClB,GAAoB,IAAhBgD,GAAqC,IAAhBmJ,GAAmC,IAAdC,EAC5C,OAAO,2BAAKvB,IAAZ,IAA8B1I,WAAYa,IAE5C,GAAIpjB,GAAMmgB,GACR,OAAOyL,GA5IrB,SAAsB55C,EAAO+vC,EAAO9zC,GAClC,GAAIi0C,GAAUH,GAAQ,CACpB,IAAMpC,EAAYsC,GAA2BjwC,EAAO+vC,GAEpD,MAAO,CACL,CAAE/vC,MAFe0rC,GAAgBqE,EAAMJ,gBAAiBhC,GAAW,GAE9CvhC,KAAM,EAAGkhC,OAAQ,GACtC,CAAEttC,MAAO2tC,EAAWvhC,KAAM,EAAGkhC,OAAQ,EAAGrxC,KAAMA,GAAQA,EAAK,KAG/D,MAAO,CAAC,CAAE+D,QAAOoM,KAAM,EAAGkhC,OAAQ,EAAGrxC,KAAMA,GAAQA,EAAK,KAoI1C2+C,CAAahF,GAAiCS,EAA0BjF,GAAcuJ,EAAYN,GAClG,GACAjJ,EACAD,EACAwJ,EACAD,GAGJ,IAAMxB,EAAW,GACjB,GAAIuB,EAAiB58C,OAAS,EAAG,CAC/B,IAD+B,EACzB6pC,EAAa+S,EAAiB,GAC9BhT,EAAWgT,EAAiBA,EAAiB58C,OAAS,GACxDyvC,EAAS,EAHkB,cAIXjB,GAAa8B,EAAUzG,EAAYD,IAJxB,IAI/B,IAAK,EAAL,qBAIE,IAJgE,IAAvD2F,EAAuD,QAC1DhhC,EAAOghC,EAAM3tC,MACbo7C,EAAkB/yC,KAAKiI,IAAIq9B,EAAMrB,MAAOrE,GACxCoT,EAAgBhzC,KAAKmI,IAAIm9B,EAAMvlB,IAAK4f,GACjC9pB,EAAIk9B,EAAiBl9B,GAAKm9B,EAAen9B,IAChDu7B,EAAS3gC,KAAK,CAAEvY,MAAO2d,EAAGvR,OAAMkhC,SAAQrxC,KAAMo+C,GAASA,EAAM18B,KAC7D2vB,GAAUlhC,EAViB,+BAcjC,IAAK8pC,EACH,OAAO0D,GAAe,GAAIV,EAAU9H,EAAaD,EAAMwJ,EAAYD,GAErE,IAAMK,EAAgBN,EAAiB58C,OAAS,EAAI48C,EAAiBA,EAAiB58C,OAAS,GAAK,EAAI,EAClGm9C,EAlsClB,SAA6BjwC,EAAMwvC,EAAaC,GAA8B,IAAnBO,EAAmB,uDAAH,EAIzE,OAHIA,EAAgB,IAClBR,EAAczyC,KAAKiI,IAAIwqC,EAAa3N,GAA0B7hC,EAAMgwC,EAAerN,IAAiBJ,SAE/Ff,GAAcM,GAAU9hC,EAAMwvC,EAAaC,EAAW5M,IAAmBE,IA8rC5CmN,CAAoB7M,EAAYmM,EAAaC,EAAWO,GAClF,GAAiC,IAA7BC,EAAkBn9C,OACpB,OAAO,KAET,IAAMq9C,EAAW9J,EAAc,EA0B/B,OAAOwI,GAzBO/a,GAAI,IAAI,SAACttB,GAAW,oBACZypC,GADY,IAChC,IAAK,EAAL,qBAAuC,KAA5B5N,EAA4B,QAC/BW,EAAQX,EAAM3tC,MAChB6tC,EAASS,EAAMT,OACfuN,EAAkBzN,EAAMrB,MACtB3/B,EAAO2hC,EAAM3hC,KACnB,GAAI2hC,EAAMT,OAASiN,EAAa,CAE9B,IAAM1K,GADNgL,GAAmB/yC,KAAKirB,OAAOwnB,EAAcxM,EAAMT,OAAS6D,IAAS/kC,EAAO+kC,KACxC/D,EAAMrB,MAC1CuB,GAAUuC,EAAYzjC,EAAOyjC,EAAYsB,EAEvC0J,EAAkBE,IACpBzN,IAAWyN,EAAgBF,GAAmBzuC,EAC9CyuC,EAAkBE,GAGpB,IADA,IAAMtT,EAAW3/B,KAAKmI,IAAIm9B,EAAMvlB,IAAKqzB,GAC5Bv9B,EAAIk9B,EAAiBl9B,GAAK8pB,KAC7B6F,GAAUkN,GAD6B78B,IAI3CpM,EAAOgH,KAAK,CAAEvY,MAAO2d,EAAGvR,OAAMkhC,SAAQrxC,KAAMo+C,GAASA,EAAM18B,KAC3D2vB,GAAUlhC,EAAO+kC,GArBW,kCAyBL+H,EAAU9H,EAAaD,EAAMwJ,EAAYD,MAI1E7pB,IAAO,SAACpxB,GAAD,OAAqB,OAAVA,KAClBmhC,MAEFqY,IAEF59B,GACEmlB,GACEvkC,EACA40B,GAAOqO,IACPp/B,IAAI,SAACu6C,GAAD,OAAoB,MAATA,OAAgB,EAASA,EAAMx8C,WAEhD0yC,GAEFl1B,GACEmlB,GACE2Z,EACAr6C,IAAI,SAACL,GAAD,OAAWA,EAAMszC,kBAEvBA,GAEF13B,GAAQ03B,EAAeiH,GACvB3+B,GACEmlB,GACE2Z,EACAr6C,IAAI,SAAC9F,GAAD,MAAW,CAACA,EAAMw5B,IAAKx5B,EAAMo/C,YAEnCf,GAEFh9B,GACEmlB,GACE2Z,EACAr6C,IAAI,SAAC9F,GAAD,OAAWA,EAAMg3B,UAEvBkpB,GAEF,IAAMiB,EAAalb,GACjBO,GACE2Z,EACAtpB,IAAO,qBAAGG,MAAkBnzB,OAAS,KACrC2jC,GAAe+O,EAAYt0C,GAC3B40B,IAAO,mCAAIG,EAAJ,KAAIA,MAASogB,EAAb,YAA8BpgB,EAAMA,EAAMnzB,OAAS,GAAGy7C,gBAAkBlI,EAAc,KAC7FtxC,IAAI,yCAA4B,CAA5B,KAA2C,EAA3C,SACJ8gC,GAAqBgX,IACrB93C,IAAI,4CAGFs7C,EAAenb,GACnBO,GACE2Z,EACAhZ,GAAa,KACbtQ,IAAO,YAAyB,IAAtBG,EAAsB,EAAtBA,MAAOkoB,EAAe,EAAfA,SACf,OAAOloB,EAAMnzB,OAAS,GAAKmzB,EAAM,GAAGsoB,gBAAkBJ,EAASr7C,UAEjEiC,IAAI,qBAAGkxB,MAAkB,GAAGhxB,SAC5B4gC,OAGEya,EAAepb,GACnBO,GACE2Z,EACAtpB,IAAO,qBAAGG,MAAkBnzB,OAAS,KACrCiC,IAAI,YAGF,IAHiB,IAAZkxB,EAAY,EAAZA,MACD0W,EAAa,EACbD,EAAWzW,EAAMnzB,OAAS,EACI,UAA3BmzB,EAAM0W,GAAY5pC,MAAoB4pC,EAAaD,GACxDC,IAEF,KAAgC,UAAzB1W,EAAMyW,GAAU3pC,MAAoB2pC,EAAWC,GACpDD,IAEF,MAAO,CACLC,WAAY1W,EAAM0W,GAAY1nC,MAC9BynC,SAAUzW,EAAMyW,GAAUznC,UAG9B4gC,GAAqBiX,MAGzB,OAAO,aAAEsC,YAAWzC,kBAAiByD,aAAYC,eAAcC,eAAcnB,iBAAkBD,KAEjGnb,GACEuR,GACAmH,GACAY,GACAvC,GACAhD,GACAsB,GACAmB,GACAtI,IAEF,CAAEzK,WAAW,IAET+Y,GAAyBjZ,IAC7B,YAAyE,8BAArE0N,EAAqE,EAArEA,MAAOY,EAA8D,EAA9DA,eAAgB10C,EAA8C,EAA9CA,KAAM8qC,EAAwC,EAAxCA,IAASoT,EAA+B,KAA/BA,UAAe3E,EAAgB,KAAhBA,SACjD+F,EAAmBzb,GAAe,GAwBxC,OAvBAzkB,GACEmlB,GACEgV,EACAhU,GAAe+Z,GACf1qB,IAAO,mBAAyB,IAAzB,uBACP2Q,GAAeuO,EAAOY,EAAgB5J,EAAK9qC,GAC3C6D,IAAI,YAA4D,uBAAvDa,EAAuD,uBAA/CuwC,EAA+C,KAAvCwJ,EAAuC,KAAtBvJ,EAAsB,YAAhBkJ,OAAgB,MAAR,GAAQ,EAC1DmB,EAAsB,EAC1B,GAAItK,EAAO3D,aAAa1vC,OAAS,EAAG,qBACdqzC,EAAO3D,cADO,IAClC,IAAK,EAAL,qBAAyC,CACvC,GADuC,QAC3BiO,GAAuB76C,EACjC,MAEF66C,KALgC,+BAQpC,IAAMC,EAAgB96C,EAAQ66C,EACxBxqB,EAAQlnB,MAAM0T,KAAK,CAAE3f,OAAQ49C,IAAiB37C,KAAI,SAAC47C,EAAG17C,GAAJ,MAAe,CAAEA,QAAOoM,KAAM,EAAGkhC,OAAQ,EAAGrxC,KAAMo+C,EAAMr6C,OAChH,OAAO45C,GAAe5oB,EAAO,GAAIyqB,EAAetK,EAAMD,EAAQwJ,OAGlEP,GAEK,CAAEoB,sBAEXzc,GAAIuR,GAAYyJ,GAAiBxE,IACjC,CAAE/S,WAAW,IAEToZ,GAAmBtZ,IACvB,YAA0B,IAAtBgT,EAAsB,oBAAtBA,eACIuG,EAAY9b,IAAe,GAC3Bub,EAAezb,KACfic,EAA0B/b,IAAe,GA2B/C,OA1BAzkB,GACEmlB,GACE6U,EACA7T,GAAeqa,EAAyBD,EAAWP,GACnDxqB,IAAO,wDACP/wB,IAAI,YAAwC,uBAAtCg8C,EAAsC,KAA/B7kB,EAA+B,KAAvB8kB,EAAuB,KAAX3O,EAAW,KAClC4O,EAAgB/kB,EAAhB+kB,KAAMxhB,EAAUvD,EAAVuD,MACd,GAAIuhB,GACF,GAAIC,EAAKF,EAAO1O,GACd,OAAO,OAGT,GAAI5S,EAAMshB,EAAO1O,GACf,OAAO,EAGX,OAAO2O,KAETnb,MAEFgb,GAEFzc,GACEqB,GAAK2B,GAAcyZ,EAAWvG,EAAgBgG,GAAe7Z,GAAeqa,KAC5E,yDAAGE,EAAH,KAAeE,EAAf,KAAyB7O,EAAzB,KAAiCnW,EAAjC,YAA6C8kB,GAAc9kB,GAAUA,EAAOilB,QAAUjlB,EAAOilB,OAAOD,EAAU7O,MAEzG,CAAEwO,YAAWC,0BAAyBxG,iBAAgB8G,uBAAwBd,KAEvFvc,GAAIqV,IACJ,CAAE5R,WAAW,IAET6Z,GAAqB/Z,IAAO,YAA2B,IAAvBqV,EAAuB,oBAAvBA,gBAC9B2E,EAAevc,GAAe,GASpC,OARAzkB,GACEmlB,GACE6b,EACAxrB,IAAO,SAAChzB,GAAD,OAAYA,EAAS,KAC5BiC,IAAI,SAACjC,GAAD,OAAYiM,MAAM0T,KAAK,CAAE3f,WAAUiC,KAAI,SAAC47C,EAAG17C,GAAJ,OAAcA,SAE3D03C,GAEK,CAAE2E,kBACRvd,GAAIgb,KACDwC,GAAwBja,IAC5B,YAA2F,8BAAvFsI,EAAuF,EAAvFA,aAAcH,EAAyE,EAAzEA,aAAcC,EAA2D,EAA3DA,kBAAmBC,EAAwC,EAAxCA,kBAAuByP,EAAiB,KAAjBA,UAClEoC,EAAyB3c,KACzB4c,EAAkBrc,GACtBK,GACE2B,GAAcwI,EAAcD,EAAmBF,EAAcC,EAAmB0P,GAChFr6C,IAAI,YAAwF,uBAAtFwzC,EAAsF,KAAvEE,EAAuE,KAAnDH,EAAmD,KAApCE,EAAoC,KAAhBkJ,EAAgB,KAC1F,OAAOnJ,EAAgBE,EAAqBH,EAAgBE,EAAqBkJ,EAAWvI,aAAeuI,EAAWrD,WAG1H,GAGF,OADA/9B,GAAQ6mB,GAAIsa,GAAkBD,GACvB,CAAEC,kBAAiBD,4BAE5Bzd,GAAIsL,GAAa0P,IACjB,CAAEvX,WAAW,IAEf,SAASma,GAAczrC,GACrB,IACIM,EADAmwB,GAAS,EAEb,OAAO,WAKL,OAJKA,IACHA,GAAS,EACTnwB,EAASN,KAEJM,GAGX,IAAMorC,GAAiBD,IAAc,WACnC,MAAO,kBAAkB7rC,KAAKqgB,UAAUC,YAAc,UAAUtgB,KAAKqgB,UAAUC,cAE3EyrB,GAAwBva,IAC5B,YAOM,8BANF4H,EAME,EANFA,SAAUlC,EAMR,EANQA,UAAWuC,EAMnB,EANmBA,UAAWM,EAM9B,EAN8BA,oBAM9B,OALF8J,EAKE,EALFA,YAAaN,EAKX,EALWA,WAAYc,EAKvB,EALuBA,gBAAiBF,EAKxC,EALwCA,wBAC1CmF,EAIE,KAJFA,UAIE,OAHFtI,EAGE,EAHFA,kBAAmBU,EAGjB,EAHiBA,gBAAiBxC,EAGlC,EAHkCA,MAAOhJ,EAGzC,EAHyCA,IAC3C5oC,EAEE,KAFFA,IACA8uC,EACE,KADFA,iBAEI4P,EAAkB5c,GACtBO,GACE2Z,EACA3Y,GAAewT,GACfh0B,IACE,cAA6H,uBAAzH87B,EAAyH,KAA9GC,EAA8G,KAA9FC,EAA8F,+BAAzEhsB,EAAyE,EAAzEA,MAAOuf,EAAkE,EAAlEA,WAAY6I,EAAsD,EAAtDA,OAAQlF,EAA8C,EAA9CA,aAAgB+I,EAA8B,KACrHC,EAAc9D,EAASlF,EACzBiJ,EAAS,EACTJ,IAAmBxM,IACjBuM,EAAUj/C,OAAS,GAAKmzB,EAAMnzB,OAAS,IACE,IAA3BmzB,EAAM,GAAGsoB,eAAsD,IAA/BwD,EAAU,GAAGxD,eAG5C,KADf6D,EAASD,EAAcF,KAErBG,GAAUF,KAKlB,MAAO,CAACE,EAAQnsB,EAAOuf,EAAY2M,KAErC,CAAC,EAAG,GAAI,EAAG,IAEbrsB,IAAO,mBAAyB,IAAzB,uBACP2Q,GAAeuG,EAAWmN,EAAiBtK,EAAqBwJ,EAAYj2C,EAAK8uC,GACjFpc,IAAO,YAAmF,uBAA/EkkB,EAA+E,KAAnEqI,EAAmE,KAAjDnG,EAAiD,KACxF,OADwF,OAC1DA,GAAuC,IAAflC,GAAoBqI,IAAqBvJ,MAEjG/zC,IAAI,YAA8B,uBAA3Bu9C,EAA2B,uBAEhC,OADAzL,EADgC,MAC3B,gCAAiC,CAAEyL,UAAUjY,GAAS4J,OACpDqO,OAIb,SAASC,EAAahQ,GAChBA,EAAS,GACXhO,GAAQ2K,EAAU,CAAEzW,KAAM8Z,EAAQp3B,SAAU,SAC5CopB,GAAQgL,EAAW,KAEnBhL,GAAQgL,EAAW,GACnBhL,GAAQ2K,EAAU,CAAEzW,KAAM8Z,EAAQp3B,SAAU,UAsEhD,OAnEAipB,GAAUqB,GAAKqc,EAAiBrb,GAAe8I,EAAWoK,KAAe,YAA6C,uBAA3CpH,EAA2C,KAAnCiQ,EAAmC,WAChGZ,KAClBrd,GAAQgL,EAAWiT,EAAkBjQ,GAErCgQ,GAAchQ,MAGlBnO,GACEqB,GACE2B,GAAchC,GAA0BuU,GAAa,GAAQpK,EAAW2C,GACxEpc,IAAO,mCAAE2sB,EAAF,KAAM7E,EAAN,KAAkB8E,EAAlB,YAA+BD,IAAOC,GAAyB,IAAf9E,KACvD74C,IAAI,uDACJqhC,GAAa,IAEfmc,GAEFjiC,GACEmlB,GACE+R,EACAzyC,IAAI,SAACwtC,GACH,MAAO,CAAE9Z,KAAM8Z,OAGnBrD,GAEF9K,GACEqB,GACEqR,EACArQ,GAAeuO,EAAOhJ,GACtBjnC,IAAI,YAA2E,uBAAzEwtC,EAAyE,YAArDuD,EAAqD,EAA/D/B,SAA2BvB,EAAoC,EAApCA,aAAcY,EAAsB,EAAtBA,SAAYgD,EAAU,KAC7E,SAASuM,EAAc7N,GACrB,OAAOA,GAAagB,EAAkBM,GAExC,GAA4B,IAAxB5D,EAAa1vC,OACf,OAAO6/C,EAAcpQ,GAMrB,IAJA,IAAI+P,EAAS,EACPM,EAAmBlS,GAAK0C,EAAU,GACpCX,EAAwB,EACxBC,EAAa,EACVD,EAAwBF,GAAQ,CACrCE,IACA6P,GAAUM,EACV,IAAItL,EAAiB9E,EAAa1vC,SAAW4vC,EAAa,EAAI9B,IAAW4B,EAAaE,EAAa,GAAKF,EAAaE,GAAc,EAC/HD,EAAwB6E,EAAiB/E,IAC3C+P,GAAUM,EACVtL,EAAiB/E,EAASE,EAAwB,GAEpDA,GAAyB6E,EACzBgL,GAAUK,EAAcrL,GACxB5E,IAEF,OAAO4P,OAIb,SAAC/P,GACChO,GAAQgL,EAAWgD,GACnBje,uBAAsB,WACpBiQ,GAAQ2K,EAAU,CAAEzW,IAAK8Z,IACzBje,uBAAsB,WACpBiQ,GAAQgL,EAAW,GACnBhL,GAAQ2N,GAAkB,YAK3B,CAAE3C,eAEXxL,GAAIsL,GAAa+J,GAAkB2F,GAAiBzJ,GAAY5K,GAAcuH,KAE1E4Q,GAAyBvb,IAC7B,YAAiD,uBAA7CmT,EAA6C,KAA7CA,SAAczL,EAA+B,KAA/BA,SAAcoQ,EAAiB,KAAjBA,UACxB0D,EAAmB/d,GAAe,GAuBxC,OAtBAX,GACEqB,GACEgV,EACAhU,GAAeqc,GACfhtB,IAAO,mBAA2B,IAA3B,uBACP/wB,IAAI,kBAAiB,CAAE0zB,IAAnB,0BAEN,SAACmW,GACCjK,GACEc,GACE2Z,EACAlZ,GAAK,GACLpQ,IAAO,SAAC72B,GAAD,OAAWA,EAAMg3B,MAAMnzB,OAAS,OAEzC,WACEwxB,uBAAsB,WACpBiQ,GAAQyK,EAAUJ,YAMrB,CACLkU,sBAGJ/e,GAAIwW,GAAkBlL,GAAa0P,IACnC,CAAEvX,WAAW,IAETub,GAAsBzb,IAC1B,YAA+C,uBAA3C6F,EAA2C,KAA3CA,eAAoBsU,EAAuB,KAAvBA,gBAChBuB,EAAgBje,IAAe,GAarC,MAAO,CAAEie,gBAAeC,mBAZG7d,GACzBK,GACE2B,GAAc4b,EAAe7V,EAAgBsU,GAC7C3rB,IAAO,0CACP/wB,IAAI,YAA2C,uBAAvCqzC,EAAuC,KAAtB8K,EAAsB,KAC7C,OAAOn2C,KAAKiI,IAAI,EAAGojC,EAAkB8K,MAEvC9c,GAAa,GACbP,MAEF,MAIJ9B,GAAIsL,GAAakS,IACjB,CAAE/Z,WAAW,IAET2b,GAAuB7b,IAAO,YAA0C,0BAAtC0H,EAAsC,EAAtCA,SAAUM,EAA4B,EAA5BA,qBAC1C8T,EAA6Bve,KAC7Bwe,EAAqBxe,KACrBye,EAAiBze,KACjB0e,EAAkBxe,IAAe,GACjCkH,EAAqBlH,QAAe,GA2B1C,OA1BAzkB,GACEmlB,GACE2B,GAAcgc,EAA4BC,GAC1Ct+C,IAAI,YAAmF,8BAA/EooC,EAA+E,EAA/EA,eAA2BqW,EAAoD,EAA/DxW,UAA4BE,EAAmC,EAAnCA,aAAkBkR,EAAiB,KAAjBA,UACpE,MAAO,CACLpR,UAAWjgC,KAAKiI,IAAI,EAAGwuC,EAAkBpF,GACzClR,eACAC,sBAINmC,GAEFhvB,GACEmlB,GACEuJ,EACAvI,GAAe4c,GACft+C,IAAI,YAAgC,uBAA9B0+C,EAA8B,KAAjBrF,EAAiB,KAAjBA,UACjB,OAAO,2BACFqF,GADL,IAEEhrB,IAAKgrB,EAAUhrB,IAAM2lB,QAI3BkF,GAEK,CAELC,kBACAtX,qBAEAmX,6BACAC,qBAEAC,oBAEDvf,GAAIsL,KACDqU,GAA+B,SAAC,GAMhC,IALKC,EAKL,EALJC,QACAC,EAII,EAJJA,WACAC,EAGI,EAHJA,YACAC,EAEI,EAFJA,eAEI,IADJC,eAAkB7oC,EACd,EADcA,SAAU08B,EACxB,EADwBA,MAAUoM,EAClC,kBACJ,OAAIN,EAAWG,EACN,2BAAKG,GAAZ,IAAkB9oC,WAAU08B,MAAgB,MAATA,EAAgBA,EAAQ,UAEzDgM,EAAaE,EACR,2BAAKE,GAAZ,IAAkB9oC,WAAU08B,MAAgB,MAATA,EAAgBA,EAAQ,QAEtD,MAEHqM,GAAuB5c,IAC3B,YAIM,8BAHF0N,EAGE,EAHFA,MAAOQ,EAGL,EAHKA,WAAYxJ,EAGjB,EAHiBA,IAGjB,OAFFgB,EAEE,EAFFA,UAAWG,EAET,EAFSA,eAAgBsC,EAEzB,EAFyBA,aAAcC,EAEvC,EAFuCA,kBAAmBC,EAE1D,EAF0DA,kBAAmBE,EAE7E,EAF6EA,oBAC/EkI,EACE,KADFA,cAEI78B,EAAiB2pB,KAwCvB,OAvCAvkB,GACEmlB,GACEvqB,EACAurB,GAAeuO,EAAO7H,EAAgBqI,EAAY/F,EAAcC,EAAmBC,EAAmB3C,GACtGvG,GAAeuF,GACfjnC,IAAI,YAAqI,6CAAlIo/C,EAAkI,KAApHhO,EAAoH,KAA5GiC,EAA4G,KAA3F/B,EAA2F,KAA9EiC,EAA8E,KAA/DE,EAA+D,KAA3CC,EAA2C,KAAvBuB,EAAuB,KAAV5D,EAAU,KAC/H/yB,EAAyF8gC,EAAzF9gC,KAAMlI,EAAmFgpC,EAAnFhpC,SAAU08B,EAAyEsM,EAAzEtM,MAAxB,EAAiGsM,EAAlEC,6BAA/B,MAAuDV,GAAvD,EAAwFO,EAAxF,YAAiGE,EAAjG,IACME,EAActP,GAA0BoP,EAAchO,EAAQE,EAAc,GAC5EsN,EAAW9O,GAASwP,EAAalO,EAAO9C,WAAY+C,GAAQkC,EAAgBE,EAI5E5J,EAAWwV,EAAsB,CACrCR,QAASD,EACTE,WALiBF,EAAWhT,GAAgBwF,EAAO/C,SAAUiR,GAAa,GAM1EP,YALkB9J,EAAaxB,EAM/BuL,eALqB/J,EAAa5B,EAAkBK,EAMpDuL,eAAgB,aAAE7oC,WAAU08B,SAAUoM,KAgBxC,OAdIrV,EACFvrB,GAAQshB,GACNc,GACEoK,EACA/Z,IAAO,SAACpxB,GAAD,OAAqB,IAAVA,KAGlBwhC,GAAKzB,GAASoL,GAAuB,EAAI,IAE3CxsB,GAGFA,GAAQA,IAEHurB,KAET9Y,IAAO,SAACpxB,GAAD,OAAqB,OAAVA,MAEpBqzC,GAEK,CACL78B,oBAGJ6oB,GAAIuR,GAAYjG,GAAayI,GAAqBiH,GAAiBrU,IACnE,CAAElD,WAAW,IAET8c,GAAkBhd,IAAO,YAAuF,8BAAnF0N,EAAmF,EAAnFA,MAAOO,EAA4E,EAA5EA,WAAgBvI,EAA4D,KAA5DA,UAAegO,EAA6C,KAA7CA,wBAA6BP,EAAgB,KAAhBA,SAC9F8J,EAAW1f,KACX2f,EAAmBzf,QAAe,GAkBxC,OAjBAX,GAAUqB,GAAK8e,EAAU9d,GAAeuO,EAAOhI,KAAa,YAAoC,uBAAlC7C,EAAkC,KAAxBgM,EAAwB,KAAhB6D,EAAgB,KAE9F7P,EAAS,CAAEgC,OAjmDN8E,GAgmD2BkF,EAAO/C,UAhmDnBruC,KAAI,WAA6BE,EAAOw/C,GAAc,IAA5C9X,EAA4C,EAA/C79B,EAAkBuC,EAA6B,EAAhC4+B,EACpCyU,EAAWD,EAAUx/C,EAAQ,GAEnC,MAAO,CAAE0nC,aAAYD,SADJgY,EAAWA,EAAS51C,EAAI,EAAI8hC,IACdv/B,WA8lDZ27B,UAAWgN,OAEhC15B,GAAQmlB,GAAK+e,EAAkB1uB,GAAOqO,IAAYp/B,GAAI4/C,KAAwB3J,GAC9E16B,GACEmlB,GACEgV,EACAhU,GAAe+d,GACf1uB,IAAO,wBAAyB,IAAzB,uBACP+P,KACA9gC,IAAI,YACF,OADoB,oBACJonC,WAGpBoJ,GAEK,CACLgP,WACAC,sBAEDzgB,GAAIuR,GAAYjG,GAAayL,GAA+BP,KAC/D,SAASoK,GAAqBC,GAC5B,MAAO,CAAErS,OAAQqS,EAAS5X,UAAW/nC,MAAO,EAAG4yC,MAAO,SAExD,IAAMgN,GAAsBvd,IAC1B,YAWM,wBAVJwd,EAUI,KATJtE,EASI,KARJhG,EAQI,KAPJuK,EAOI,KANJtD,EAMI,KALJuD,EAKI,KAJJhC,EAII,KAHJiC,EAGI,KAFJ/pC,EAEI,KADJgqC,EACI,KACJ,OAAO,2HACFJ,GACAtE,GACAhG,GACAuK,GACAtD,GACAuD,GACAhC,GACAiC,GACA/pC,GACAgqC,KAGPnhB,GACEsZ,GACAkD,GACAhG,GACAqG,GACAW,GACAsB,GACAE,GACAI,GACAe,GACAxZ,KAGEya,GAAa7d,IACjB,YAyBM,+BAvBFkO,EAuBE,EAvBFA,WACAD,EAsBE,EAtBFA,WACAM,EAqBE,EArBFA,cACAC,EAoBE,EApBFA,gBACAQ,EAmBE,EAnBFA,eACAxK,EAkBE,EAlBFA,SACA5qC,EAiBE,EAjBFA,KACA00C,EAgBE,EAhBFA,eACApD,EAeE,EAfFA,aACAiD,EAcE,EAdFA,mBACAzJ,EAaE,EAbFA,IACAgJ,EAYE,EAZFA,MAYE,OAVFgG,EAUE,EAVFA,wBAAyBD,EAUvB,EAVuBA,sBAC3BqK,EASI,KARJC,EAQI,KAPJ3J,EAOI,YANF0D,EAME,EANFA,UAAWzC,EAMT,EANSA,gBAAoB2I,EAM7B,kBALFvN,EAKE,KALFA,cAEAuJ,GAGE,UAHFA,cACA5E,EAEE,KAFFA,YACF6I,EACI,MASJ,OARAjlC,GAAQglC,EAAMhF,aAAciF,EAAcnE,wBAC1C9gC,GACEmlB,GACE8f,EAAclC,mBACdt+C,IAAI,SAACL,GAAD,OAAWA,EAAM8gD,kBAEvBJ,EAAMjY,gBAED,6DAELqI,aACAt0C,OACA00C,iBACAL,aACAyF,0BACAD,wBACA4B,kBACA2E,eACA5E,cACA+I,gBAAiB5P,EACjB6P,kBAAmB5P,EACnB9J,OACG0P,GAdL,IAgBEjG,qBACA2J,YACArH,gBACAzB,iBACAxK,WACA0G,gBAEG8S,GAEAC,GACAH,GA1BL,IA2BEpQ,SACGqQ,KAGPthB,GACEuR,GACAwF,GACAzL,GACAiV,GACA7I,GACAsD,GACAjH,GACA+J,GACAR,GACA5E,GACAoI,KAGEc,GAAgB,iBAChBC,GAAS,SACTC,GAAyBlE,IAAc,WAC3C,GAAwB,qBAAb3mC,SACT,OAAO4qC,GAET,IAAMx1C,EAAO4K,SAAS4uB,cAAc,OAEpC,OADAx5B,EAAKlO,MAAM4jD,SAAWH,GACfv1C,EAAKlO,MAAM4jD,WAAaH,GAAgBA,GAAgBC,MAEjE,SAASG,GAAyB5b,EAAU8B,GAC1C,IAAM+Z,EAAejzC,EAAMm4B,OAAO,MAC5B+a,EAAgBlzC,EAAM3I,aAC1B,SAAC2Q,GACC,GAAgB,OAAZA,GAAqBA,EAAQywB,aAAjC,CAGA,IAEIga,EAAepH,EAFb8H,EAAOnrC,EAAQyd,wBACf2tB,EAAeD,EAAKxgD,MAE1B,GAAIumC,EAAoB,CACtB,IAAMma,EAAyBna,EAAmBzT,wBAC5C6tB,EAAWH,EAAKztB,IAAM2tB,EAAuB3tB,IACnD+sB,EAAgBY,EAAuB3gD,OAASsH,KAAKiI,IAAI,EAAGqxC,GAC5DjI,EAAYiI,EAAWpa,EAAmBe,eAE1CwY,EAAgBpoC,OAAOgwB,YAAcrgC,KAAKiI,IAAI,EAAGkxC,EAAKztB,KACtD2lB,EAAY8H,EAAKztB,IAAMrb,OAAO6vB,YAEhC+Y,EAAavtC,QAAU,CACrB2lC,YACAoH,gBACAW,gBAEFhc,EAAS6b,EAAavtC,YAExB,CAAC0xB,EAAU8B,IAEb,EAA6BjB,GAAiBib,GAAtC9a,EAAR,EAAQA,YAAa/kC,EAArB,EAAqBA,IACfkgD,EAA8BvzC,EAAM3I,aAAY,WACpD67C,EAAc7/C,EAAIqS,WACjB,CAACwtC,EAAe7/C,IAmBnB,OAlBA2M,EAAM7O,WAAU,WACd,GAAI+nC,EAAoB,CACtBA,EAAmBrK,iBAAiB,SAAU0kB,GAC9C,IAAMhb,EAAW,IAAID,eAAeib,GAEpC,OADAhb,EAASI,QAAQO,GACV,WACLA,EAAmBpK,oBAAoB,SAAUykB,GACjDhb,EAASK,UAAUM,IAKrB,OAFA7uB,OAAOwkB,iBAAiB,SAAU0kB,GAClClpC,OAAOwkB,iBAAiB,SAAU0kB,GAC3B,WACLlpC,OAAOykB,oBAAoB,SAAUykB,GACrClpC,OAAOykB,oBAAoB,SAAUykB,MAGxC,CAACA,EAA6Bra,IAC1Bd,EAET,IAAMob,GAAsBxzC,EAAMoP,mBAAc,GAC1CqkC,GAA0BzzC,EAAMoP,mBAAc,GACpD,SAASskC,GAAS/hD,GAChB,OAAOA,EAET,IAAMgiD,GAA2Cpf,IAAO,WACtD,IAAMqf,EAAc5hB,IAAe,SAAC9/B,GAAD,qBAAmBA,MAChD6f,EAAUigB,GAAe,MACzB6hB,EAAe7hB,IAAe,SAAC9/B,GAAD,sBAAoBA,MAClD4hD,EAAa9hB,GAAe,IAC5B+hB,EAAiB/hB,GAAe0hB,IAChCM,EAAkBhiB,GAAe,OACjCqJ,EAAcrJ,GAAetyB,IAC7Bu0C,EAAe,SAACC,GAAkC,IAAxBzjD,EAAwB,uDAAT,KAC7C,OAAO4hC,GACLK,GACEohB,EACA9hD,IAAI,SAACmiD,GAAD,OAAiBA,EAAYD,MACjCphB,MAEFriC,IAGJ,MAAO,CACLshB,UACA6hC,cACAC,eACAC,aACAC,iBACAC,kBACA3Y,cACA+Y,gBAAiBH,EAAa,UAC9BI,gBAAiBJ,EAAa,UAC9BK,qBAAsBL,EAAa,eACnCM,cAAeN,EAAa,OAAQ,OACpCO,cAAeP,EAAa,OAAQ,OACpCQ,eAAgBR,EAAa,QAAS,OACtCS,kBAAmBT,EAAa,WAAY,OAC5CU,iBAAkBV,EAAa,oBAC/BW,sBAAuBX,EAAa,6BAGlCY,GAAmCtgB,IAAO,YAAgC,uBAA9BugB,EAA8B,KAAjBC,EAAiB,KAC9E,OAAO,2BAAKD,GAAgBC,KAC3B/jB,GAAIohB,GAAYuB,KACbqB,GAAiC,SAAC,GAAD,IAAGtiD,EAAH,EAAGA,OAAH,OAAgCsN,EAAM62B,cAAc,MAAO,CAAE1nC,MAAO,CAAEuD,aACvGuiD,GAAc,CAAElC,SAAUD,KAA0BoC,OAAQ,EAAGC,eAAgB,QAC/EC,GAAe,CAAED,eAAgB,QACjCE,GAA0Br1C,EAAMqN,MAAK,YAAgD,QAAvBioC,mBAAuB,SACnFjJ,EAAYkJ,GAAkB,aAC9B/S,EAAagT,GAAe,cAC5BhF,EAAkB+E,GAAkB,mBACpCrc,EAAqBqc,GAAkB,sBACvCE,EAAqCD,GAAe,8BACpDE,EAAgCF,GAAe,wBAC/Cxc,EAA+BE,GAAsBsX,EAAkBiF,EAAqCC,EAC5G9B,EAAc2B,GAAkB,eAChCxjC,EAAUwjC,GAAkB,WAC5B1B,EAAe0B,GAAkB,gBACjChS,EAAiBgS,GAAkB,kBAIjCnd,EAAgBU,GACtB0J,EAJe+S,GAAkB,YAMjChS,EACA+R,EAAc51C,GAAOs5B,EANXuc,GAAkB,OACdC,GAAe,OAQ7Btc,GAPMd,YASR,EAAkCp4B,EAAMzT,SAAS,GAAjD,mBAAOiwC,EAAP,KAAkBmZ,EAAlB,KACAC,GAAa,aAAa,SAACjkD,GACrB6qC,IAAc7qC,GAChBgkD,EAAahkD,MAGjB,IAAMgjD,EAAmBY,GAAkB,oBACrCX,EAAwBW,GAAkB,0BAA4BP,GACtET,EAAgBgB,GAAkB,iBAClCf,EAAgBe,GAAkB,iBAClCd,EAAiBc,GAAkB,kBACnCxB,EAAiBwB,GAAkB,kBACnCzH,EAAYyH,GAAkB,aAC9BM,EAAaN,GAAkB,gBAAgBxlD,OAAS,EACxDmgD,EAAqBqF,GAAkB,sBACvCvN,EAAwBuN,GAAkB,yBAC1CO,EAAiBR,EAAc,GAAH,aAChCS,UAAW,aACXC,WAAY3J,EAAUhB,UAAY6E,EAClC+F,cAAe5J,EAAUjG,aACzBrpC,UAAWy/B,GACRwL,EAAwB,GAAK,CAAEkO,WAAY,WAEhD,OAAKZ,GAAwC,IAAzBjJ,EAAU5J,YAAoBkS,EACzC30C,EAAM62B,cAAc8d,EAAkBwB,GAA2BxB,EAAkB5iC,IAErF/R,EAAM62B,cACX0d,EADK,2BAGA4B,GAA2B5B,EAAexiC,IAH1C,IAIH1e,IAAK+kC,EACLjpC,MAAO2mD,EACP,eAAgBR,EAAc,yBAA2B,wBAE1DA,EAAcjJ,EAAUjB,SAAWiB,EAAUnpB,OAAOlxB,KAAI,SAACC,GACxD,IAAMC,EAAQD,EAAKu5C,cACbh+C,EAAMumD,EAAe7hD,EAAQm6C,EAAUxJ,eAAgB5wC,EAAK9D,KAAM4jB,GACxE,OAAI+7B,EACK9tC,EAAM62B,cAAc+d,EAApB,2BACFuB,GAA2BvB,EAAuB7iC,IADhD,IAELvkB,MACA0E,MAAOD,EAAKC,MACZQ,OAAQT,EAAKqM,KACbtO,KAAMiC,EAAKjC,MAAQ,QACF,UAAdiC,EAAKjC,KAAmB,GAAK,CAAE2vC,WAAY1tC,EAAK0tC,cAGrC,UAAd1tC,EAAKjC,KACAgQ,EAAM62B,cACX4d,EADK,2BAGA0B,GAA2B1B,EAAgB1iC,IAH3C,IAIHvkB,MACA,aAAc0E,EACd,kBAAmBD,EAAKqM,KACxB,kBAAmBrM,EAAKC,MACxB/C,MAAO8lD,KAETpB,EAAa5hD,EAAKC,MAAO6f,IAGpB/R,EAAM62B,cACX2d,EADK,2BAGA2B,GAA2B3B,EAAeziC,IAH1C,IAIHvkB,MACA,aAAc0E,EACd,kBAAmBD,EAAKqM,KACxB,kBAAmBrM,EAAKC,MACxB,wBAAyBD,EAAK0tC,WAC9B1tC,KAAMA,EAAK9D,KACXgB,MAAOimD,KAETS,EAAajC,EAAY3hD,EAAKC,MAAOD,EAAK0tC,WAAY1tC,EAAK9D,KAAM4jB,GAAW6hC,EAAY3hD,EAAKC,MAAOD,EAAK9D,KAAM4jB,WAMnHqkC,GAAgB,CACpB1jD,OAAQ,OACR5B,QAAS,OACTulD,UAAW,OACXtD,SAAU,WACVuD,wBAAyB,SAErBC,GAAgB,CACpB5jD,MAAO,OACPD,OAAQ,OACRqgD,SAAU,WACVrtB,IAAK,GAED8wB,GAAmB,CACvB7jD,MAAO,OACPogD,SAAUD,KACVptB,IAAK,EACLwvB,OAAQ,GAEV,SAASiB,GAA2BnuC,EAAS+J,GAC3C,GAAuB,kBAAZ/J,EAGX,MAAO,CAAE+J,WAEX,IAAM0kC,GAA2Bz2C,EAAMqN,MAAK,WAC1C,IAAMqpC,EAAUnB,GAAkB,mBAC5B7Y,EAAe8Y,GAAe,gBAC9BxB,EAAkBuB,GAAkB,mBACpCliD,EAAMwlC,IAAQ,SAACxT,GAAD,OAAQqX,EAAahC,GAAgBrV,EAAI,cACvDtT,EAAUwjC,GAAkB,WAClC,OAAOmB,EAAU12C,EAAM62B,cAAcmd,EAAiB,CAAE3gD,OAAO2M,EAAM62B,cAAc6f,EAASP,GAA2BO,EAAS3kC,KAAa,QAEzI4kC,GAA2B32C,EAAMqN,MAAK,WAC1C,IAAMupC,EAAUrB,GAAkB,mBAC5B1Y,EAAe2Y,GAAe,gBAC9BxB,EAAkBuB,GAAkB,mBACpCliD,EAAMwlC,IAAQ,SAACxT,GAAD,OAAQwX,EAAanC,GAAgBrV,EAAI,cACvDtT,EAAUwjC,GAAkB,WAClC,OAAOqB,EAAU52C,EAAM62B,cAAcmd,EAAiB,CAAE3gD,OAAO2M,EAAM62B,cAAc+f,EAAST,GAA2BS,EAAS7kC,KAAa,QAE/I,SAAS8kC,GAAT,GAAoH,IAA7EC,EAA6E,EAA3F9f,aAAyC+f,EAAkD,EAA9D5f,WAA0C6f,EAAoB,EAArC/f,gBA6B7E,OA5BkBj3B,EAAMqN,MAAK,YAAyD,IAA7Ble,EAA6B,EAA7BA,MAAOwP,EAAsB,EAAtBA,SAAavL,EAAS,kBAC9E4lC,EAA+B8d,EAAc,wBAC7CpC,EAAoBsC,EAAiB,qBACrC9b,EAA4B4b,EAAc,6BAC1C1b,EAAsB4b,EAAiB,eACvCjlC,EAAUilC,EAAiB,WACjC,EAA4D/b,GAC1DjC,EACAkC,EACAwZ,EACAtZ,GAJMC,EAAR,EAAQA,YAAaa,EAArB,EAAqBA,iBAAkBN,EAAvC,EAAuCA,iBAQvC,OAFAmb,EAAY,WAAYnb,GACxBmb,EAAY,WAAY7a,GACjBl8B,EAAM62B,cACX6d,EADK,yBAGHrhD,IAAKgoC,EACLlsC,MAAO,2BAAKinD,IAAkBjnD,GAC9B,eAAgB,oBAChB,0BAA0B,EAC1B8nD,SAAU,GACP7jD,GACA+iD,GAA2BzB,EAAmB3iC,IAEnDpT,MAKN,SAASu4C,GAAT,GAA0H,IAA7EJ,EAA6E,EAA3F9f,aAAyC+f,EAAkD,EAA9D5f,WAA0C6f,EAAoB,EAArC/f,gBAmCnF,OAlCkBj3B,EAAMqN,MAAK,YAA+D,IAA7Ble,EAA6B,EAA7BA,MAAOwP,EAAsB,EAAtBA,SAAavL,EAAS,kBACpF4lC,EAA+B8d,EAAc,8BAC7CpC,EAAoBsC,EAAiB,qBACrC9b,EAA4B4b,EAAc,6BAC1CpI,EAAkBsI,EAAiB,mBACnCxa,EAAYwa,EAAiB,aAC7B9d,EAAqB8d,EAAiB,sBACtCjlC,EAAUilC,EAAiB,WACjC,EAA4D/b,GAC1DjC,EACAkC,EACAwZ,EACAh1C,GACAw5B,GALMmC,EAAR,EAAQA,YAAaa,EAArB,EAAqBA,iBAAkBN,EAAvC,EAAuCA,iBAevC,OARAvE,IAA4B,WAE1B,OADAgE,EAAY31B,QAAUwzB,GAA0C7uB,OACzD,WACLgxB,EAAY31B,QAAU,QAEvB,CAAC21B,EAAanC,IACjB6d,EAAY,iBAAkBnb,GAC9Bmb,EAAY,WAAY7a,GACjBl8B,EAAM62B,cACX6d,EADK,yBAGHvlD,MAAO,yBAAE4jD,SAAU,YAAe5jD,GAA8B,IAApBu/C,EAAwB,CAAEh8C,OAAQg8C,EAAkBlS,GAAc,IAC9G,0BAA0B,GACvBppC,GACA+iD,GAA2BzB,EAAmB3iC,IAEnDpT,MAKN,IAAMw4C,GAAa,SAAC,GAAiB,IAAfx4C,EAAe,EAAfA,SACduT,EAAMlS,EAAM3T,WAAWmnD,IACvBpZ,EAAiBob,GAAe,kBAChC9C,EAAkB8C,GAAe,mBACjC4B,EAAcve,GAAQrI,GAAQ4J,GAAgB,SAAC/U,GAAD,OAAQqV,GAAgBrV,EAAI,cAOhF,OANArlB,EAAM7O,WAAU,WACV+gB,IACFkoB,EAAeloB,EAAIkoB,gBACnBsY,EAAgBxgC,EAAImlC,eAErB,CAACnlC,EAAKkoB,EAAgBsY,IACF1yC,EAAM62B,cAAc,MAAO,CAAE1nC,MAAOonD,GAAeljD,IAAK+jD,EAAa,qBAAsB,WAAaz4C,IAE3H24C,GAAmB,SAAC,GAAiB,IAAf34C,EAAe,EAAfA,SACpBuT,EAAMlS,EAAM3T,WAAWmnD,IACvBlD,EAAqBkF,GAAe,sBACpC9C,EAAkB8C,GAAe,mBACjCtc,EAAqBqc,GAAkB,sBACvC6B,EAAcpE,GAAyB1C,EAAoBpX,GAOjE,OANAl5B,EAAM7O,WAAU,WACV+gB,IACFwgC,EAAgBxgC,EAAImlC,YACpB/G,EAAmB,CAAEjF,UAAW,EAAGoH,cAAevgC,EAAIkoB,eAAgBgZ,aAAc,SAErF,CAAClhC,EAAKo+B,EAAoBoC,IACN1yC,EAAM62B,cAAc,MAAO,CAAExjC,IAAK+jD,EAAajoD,MAAOonD,GAAe,qBAAsB,UAAY53C,IAE1H44C,GAAuB,SAAC,GAAiB,IAAf54C,EAAe,EAAfA,SACxB64C,EAAcjC,GAAkB,wBAChC7Y,EAAe6Y,GAAkB,gBACjCpmD,EAAQ,2BAAKqnD,IAAR,IAA0Bz5C,UAAW,GAAF,OAAK2/B,EAAL,QACxC3qB,EAAUwjC,GAAkB,WAClC,OAAOv1C,EAAM62B,cAAc2gB,GAAe,MAAO,CAAEroD,QAAO4iB,WAAWpT,IAUvE,GAKoBg2B,GAClBkgB,GACA,CACE7f,SAAU,GACVE,SAAU,CACRuc,iBAAkB,mBAClB1/B,QAAS,UACT42B,aAAc,eACdiL,YAAa,cACbC,aAAc,eACdzJ,SAAU,WACVI,mBAAoB,qBACpB/H,WAAY,aACZkH,YAAa,cACb4E,aAAc,eACd1L,eAAgB,iBAChBoF,wBAAyB,0BACzB6L,WAAY,aACZpN,kBAAmB,oBACnBC,eAAgB,iBAChBoN,eAAgB,iBAChBpB,kBAAmB,oBACnBD,gBAAiB,kBACjB3Z,SAAU,WACVgV,wBAAyB,0BACzBiG,gBAAiB,kBACjB7lD,KAAM,OACNs/C,iBAAkB,mBAClBsC,iBAAkB,mBAClBE,cAAe,gBACfO,gBAAiB,kBACjBtX,mBAAoB,qBACpBmC,YAAa,cACbzD,SAAU,YAEZxC,QAAS,CACP4P,cAAe,gBACf78B,eAAgB,iBAChB8zB,SAAU,WACVE,SAAU,WACVyM,mBAAoB,qBACpB4I,SAAU,YAEZlc,OAAQ,CACNsR,YAAa,cACbyG,WAAY,aACZC,aAAc,eACdC,aAAc,eACd/G,oBAAqB,sBACrBC,iBAAkB,mBAClBgI,uBAAwB,yBACxBrC,cAAe,gBACf3M,aAAc,iBAjEaz/B,EAAMqN,MAAK,SAAsBja,GAChE,IAAMo9C,EAAkB+E,GAAkB,mBACpCD,EAAcC,GAAkB,mBAAmBxlD,OAAS,EAC5DmpC,EAAqBqc,GAAkB,sBACvCkC,EAAcve,GAAsBsX,EAAkBkH,GAAmBC,GACzEC,EAAc1e,GAAsBsX,EAAkB8G,GAAmBH,GAC/E,OAAuBn3C,EAAM62B,cAAc4gB,EAApB,eAAsCrkD,GAASkiD,GAA+Bt1C,EAAM62B,cAAc0gB,GAAsB,KAAsBv3C,EAAM62B,cAAcwe,GAAS,CAAEC,aAAa,KAA0Bt1C,EAAM62B,cAAc+gB,EAAa,KAAsB53C,EAAM62B,cAAc4f,GAAU,MAAuBz2C,EAAM62B,cAAcwe,GAAS,MAAuBr1C,EAAM62B,cAAc8f,GAAU,YAG9Z3lD,GADb,GACE8U,UACc0vC,GAFhB,GAEExe,aACiBue,GAHnB,GAGEte,gBACY2e,GAJd,GAIEze,WA0DIwgB,GAA6Bd,GAAc,CAAE7f,aAAcwe,GAAgBve,gBAAiBse,GAAmBpe,WAAYye,KAC3H8B,GAAmCR,GAAoB,CAAElgB,aAAcwe,GAAgBve,gBAAiBse,GAAmBpe,WAAYye,KACvIiC,GAAW7mD,GAEX8mD,GAAqB,CACzB50B,MAAO,GACPkjB,aAAc,EACdiF,UAAW,EACX3lB,IAAK,EACL4lB,OAAQ,EACR+L,WAAY,EACZU,UAAW,GAEPC,GAAmB,CACvB90B,MAAO,CAAC,CAAEhxB,MAAO,IACjBk0C,aAAc,EACdiF,UAAW,EACX3lB,IAAK,EACL4lB,OAAQ,EACR+L,WAAY,EACZU,UAAW,GAELnd,GAAiC5gC,KAAjC4gC,MAAO3gC,GAA0BD,KAA1BC,KAAMgrB,GAAoBjrB,KAApBirB,MAAO9iB,GAAanI,KAAbmI,IAAKF,GAAQjI,KAARiI,IAOjC,SAASg2C,GAAWre,EAAYD,EAAUxrC,GACxC,OAAO6N,MAAM0T,KAAK,CAAE3f,OAAQ4pC,EAAWC,EAAa,IAAK5nC,KAAI,SAAC47C,EAAG/9B,GAC/D,IAAMqoC,EAAoB,OAAT/pD,EAAgB,KAAOA,EAAK0hB,EAAI+pB,GACjD,MAAO,CAAE1nC,MAAO2d,EAAI+pB,EAAYzrC,KAAM+pD,MAG1C,SAASC,GAAclV,EAAM5yB,GAC3B,OAAO4yB,GAAQA,EAAKnrC,SAAWuY,EAAKvY,QAAUmrC,EAAK5qC,MAAQgY,EAAKhY,IAElE,SAAS+/C,GAAoBnV,EAAM5yB,GACjC,OAAO4yB,GAAQA,EAAKtwC,QAAU0d,EAAK1d,OAASswC,EAAKvwC,SAAW2d,EAAK3d,OAEnE,IAAM2lD,GAA6B9jB,IACjC,YAQM,8BAPF6V,EAOE,EAPFA,SAAUK,EAOR,EAPQA,aAAcF,EAOtB,EAPsBA,aAOtB,OANFtQ,EAME,EANFA,UAAWG,EAMT,EANSA,eAAgB+B,EAMzB,EANyBA,SAAUF,EAMnC,EANmCA,SAAUf,EAM7C,EAN6CA,0BAA2BqB,EAMxE,EANwEA,qBAAsBM,EAM9F,EAN8FA,aAAcH,EAM5G,EAN4GA,aAChHyP,EAKI,KAJJ6F,EAII,YAHFvK,EAGE,EAHFA,WAAYC,EAGV,EAHUA,SAGV,OAFF4I,EAEE,EAFFA,mBAAoBE,EAElB,EAFkBA,gBAAiBtX,EAEnC,EAFmCA,mBAAoBmX,EAEvD,EAFuDA,2BAA4BE,EAEnF,EAFmFA,eACvFlgD,EACI,KACEoyC,EAAazQ,GAAe,GAC5Byb,EAAmBzb,GAAe,GAClCsmB,EAAYtmB,GAAe8lB,IAC3BS,EAAqBvmB,GAAe,CAAEt/B,OAAQ,EAAGC,MAAO,IACxD6lD,EAAiBxmB,GAAe,CAAEt/B,OAAQ,EAAGC,MAAO,IACpDqyC,EAAgBlT,KAChBqI,EAAerI,KACf0K,EAAYxK,GAAe,GAC3B7jC,EAAO6jC,GAAe,MACtBiH,EAAMjH,GAAe,CAAE35B,IAAK,EAAGP,OAAQ,IACvC2gD,EAAe3mB,KACf2f,EAAmB3f,KACnB4mB,EAAyB1mB,IAAe,GACxCiW,EAA0BjW,GAAe,GACzCgW,EAAwBhW,IAAe,GACvCkW,EAAkBlW,IAAe,GACvCX,GACEqB,GACEgV,EACAhU,GAAeuU,GACfllB,IAAO,0DAET,WACEyO,GAAQwW,GAAuB,GAC/BxW,GAAQic,EAAkB,MAG9Bpc,GACEqB,GACE2B,GAAcqT,EAAUM,EAAuBwQ,EAAgBD,EAAoBtQ,EAAyBC,GAC5GnlB,IAAO,YAAmG,uBAAjGolB,EAAiG,KAAtFC,EAAsF,KAA9DuQ,EAA8D,KAA7CC,EAA6C,KAAtBtQ,EAAsB,KACxG,OAAOH,IAAcC,GAAqD,IAA3BuQ,EAAgBjmD,QAA+C,IAA/BkmD,EAAoBlmD,SAAiB41C,OAGxH,YAAwC,IAA9BC,EAA8B,oBACtC/W,GAAQ0W,GAAiB,GACzBN,GAAW,GAAG,WACZpW,GAAQwT,EAAeuD,MAEzB3W,GAAWc,GAAKuH,IAAY,WAC1BzI,GAAQ+Y,EAAc,CAAC,EAAG,IAC1B/Y,GAAQwW,GAAuB,SAIrCz6B,GACEmlB,GACE+e,EACA1uB,IAAO,SAACpxB,GAAD,YAAqB,IAAVA,GAA8B,OAAVA,GAAkBA,EAAMsoC,UAAY,KAC1EhH,GAAM,IAERwa,GAEFpc,GACEqB,GACEgV,EACAhU,GAAe+d,GACf1uB,IAAO,gBAAI8uB,EAAJ,gCAA+B,IAAbA,GAAoC,OAAbA,OAElD,YAAkB,IAAdA,EAAc,oBACXA,IAGLrgB,GAAQ+mB,EAAoB1G,EAASgH,UAAWrnB,GAAQgnB,EAA4B,MAAZ3G,OAAmB,EAASA,EAAS5/C,MAC7Gu/B,GAAQyH,EAAK4Y,EAAS5Y,KAClB4Y,EAAS5X,UAAY,IACvBzI,GAAQknB,GAAwB,GAChC9mB,GAAWc,GAAKuH,EAAW9G,GAAK,KAAK,SAAC2lB,GACpCtnB,GAAQknB,GAAwB,MAElClnB,GAAQyK,EAAU,CAAEvW,IAAKmsB,EAAS5X,iBAIxC1sB,GACEmlB,GACE6lB,EACAvmD,IAAI,qBAAGU,WAET0nC,GAEF7sB,GACEmlB,GACE2B,GACED,GAAImkB,EAAoBH,IACxBhkB,GAAIokB,EAAgBJ,IACpBhkB,GAAI6E,GAAK,SAACgK,EAAM5yB,GAAP,OAAgB4yB,GAAQA,EAAKnrC,SAAWuY,EAAKvY,QAAUmrC,EAAK5qC,MAAQgY,EAAKhY,OAClF+7B,GAAI6F,IAENjoC,IAAI,yCAAyC,CAC3C6mD,SADE,KAEF5mD,KAFE,KAGFgnC,IAHE,KAIFgB,UAJE,UAONwe,GAEFlrC,GACEmlB,GACE2B,GACED,GAAIqO,GACJgI,EACArW,GAAI6E,EAAKkf,IACT/jB,GAAIokB,EAAgBJ,IACpBhkB,GAAImkB,EAAoBH,IACxBhkB,GAAIjmC,GACJimC,GAAIqZ,GACJrZ,GAAIskB,GACJtkB,GAAI4T,GACJ5T,GAAI6T,IAENllB,IAAO,YACL,OADkD,uBAGpD/wB,IACE,YAWM,wBAVJsxC,EAUI,2BATHmJ,EASG,KATUC,EASV,KARJrJ,EAQI,KAPJpxC,EAOI,KANJ4mD,EAMI,KALJtM,EAKI,KAJJwM,EAII,KAFJ3Q,EAEI,KADJG,EACI,KACS9N,EAA8B4I,EAAnChrC,IAAqB2gD,EAAc3V,EAAtBvrC,OACLu/C,EAAiCplD,EAAzCS,OAA2BqlD,EAAc9lD,EAArBU,MACbsmD,EAAkBJ,EAAzBlmD,MACR,GAA0B,IAAtBomD,IAA4C,IAAhBzV,GAAuC,IAAlB2V,GACnD,OAAOnB,GAET,GAAkB,IAAdC,EAAiB,CACnB,IAAMpX,EAAcmH,GAAiCS,EAA0BjF,GAE/E,OArKd,SAA6BpgB,GAC3B,OAAO,2BACF80B,IADL,IAEE90B,UAkKiBg2B,CAAoBjB,GAAWtX,EADJ,IAAhBA,EAAoB3mC,KAAKiI,IAAI82C,EAAoB,EAAG,GAAKpY,EACb4L,IAEhE,IACI3S,EACAD,EAFEwf,EAASC,GAAYH,EAAelB,EAAWiB,GAGhD5Q,EAGsB,IAAhBqE,GAAmC,IAAdC,GAAmBqM,EAAoB,GACrEnf,EAAa,EACbD,EAAWof,EAAoB,IAE/Bnf,EAAauf,EAASl0B,IAAOwnB,EAAchS,IAAW4c,EAAa5c,IACnEd,EAAWwf,EAASl/C,IAAMyyC,EAAYjS,IAAW4c,EAAa5c,IAAW,EACzEd,EAAWx3B,GAAImhC,EAAc,EAAGrhC,GAAI03B,EAAUwf,EAAS,IACvDvf,EAAaz3B,GAAIw3B,EAAU13B,GAAI,EAAG23B,MATlCA,EAAa,EACbD,GAAY,GAUd,IAAMzW,EAAQ+0B,GAAWre,EAAYD,EAAU4S,GAC/C,EAAwB8M,GAAWR,EAAUxV,EAAMpxC,EAAMixB,GAAjDwC,EAAR,EAAQA,IAAK4lB,EAAb,EAAaA,OACPgO,EAAWr/C,GAAKqpC,EAAc6V,GAGpC,MAAO,CAAEj2B,QAAOmoB,UAAW3lB,EAAK0gB,aAFZkT,EAAWjC,GAAciC,EAAW,GAAK7e,EAC1B6Q,EACW5lB,MAAK4lB,SAAQ+L,aAAYU,iBAI7EO,GAEF/qC,GACEmlB,GACEvkC,EACA40B,IAAO,SAACwpB,GAAD,OAAqB,OAAVA,KAClBv6C,IAAI,SAACu6C,GAAD,OAAWA,EAAMx8C,WAEvB0yC,GAEFl1B,GACEmlB,GACE2B,GAAckkB,EAAoBC,EAAgBF,EAAWrf,GAC7DlW,IAAO,YAAuD,uBAArD61B,EAAqD,KAAhCD,EAAgC,KAC5D,OAD4D,KAAbz1B,MAClCnzB,OAAS,GAAgC,IAA3B4oD,EAAgBjmD,QAA+C,IAA/BkmD,EAAoBlmD,UAEjFV,IAAI,YAA6D,uBAA3D4mD,EAA2D,KAAtCD,EAAsC,KAAnBz1B,EAAmB,KAAnBA,MAC5C,EAAwBm2B,GAAWT,EAD4B,KACDD,EAAiBz1B,GAC/E,MAAO,CADP,EAAQwC,IAAR,EAAa4lB,WAGfxY,GAAqBgX,KAEvBS,GAEF,IAAMgP,EAAcvnB,IAAe,GACnCzkB,GACEmlB,GACEuH,EACAvG,GAAe6lB,GACfvnD,IAAI,YAAgC,uBAA9Bi1C,EAA8B,KAClC,OADkC,MACI,IAAfA,MAG3BsS,GAEF,IAAMlM,EAAalb,GACjBO,GACE0B,GAAIkkB,GACJv1B,IAAO,qBAAGG,MAAkBnzB,OAAS,KACrC2jC,GAAe+O,EAAY8W,GAC3Bx2B,IAAO,mCAAIG,EAAJ,KAAIA,MAASogB,EAAb,kBAA4DpgB,EAAMA,EAAMnzB,OAAS,GAAGmC,QAAUoxC,EAAc,KACnHtxC,IAAI,uCAAmC,KACvC8gC,OAGEwa,EAAenb,GACnBO,GACE0B,GAAIkkB,GACJv1B,IAAO,YAAe,IAAZG,EAAY,EAAZA,MACR,OAAOA,EAAMnzB,OAAS,GAAwB,IAAnBmzB,EAAM,GAAGhxB,SAGtC+gC,GAAM,GACNH,OAGEya,EAAepb,GACnBO,GACE0B,GAAIkkB,GACJ5kB,GAAeglB,GACf31B,IAAO,mCAAIG,EAAJ,KAAIA,MAASs2B,EAAb,YAA0Ct2B,EAAMnzB,OAAS,IAAMypD,KACtExnD,IAAI,YAAiB,IAAbkxB,EAAa,oBAAbA,MACN,MAAO,CACL0W,WAAY1W,EAAM,GAAGhxB,MACrBynC,SAAUzW,EAAMA,EAAMnzB,OAAS,GAAGmC,UAGtC4gC,GAAqBiX,IACrB1W,GAAa,KAGjB9lB,GAAQggC,EAAcyE,EAAW3D,wBACjC9gC,GACEmlB,GACEsS,EACAtR,GAAe6kB,EAAoBC,EAAgB/V,EAAYxJ,GAC/DjnC,IAAI,YAAyE,uBAAvE6pC,EAAuE,KAA7D+c,EAA6D,KAAxCD,EAAwC,KAAvBrV,EAAuB,KAAVD,EAAU,KACrEsC,EAAiBd,GAAuBhJ,GACtCiJ,EAA4Ba,EAA5Bb,MAAO18B,EAAqBu9B,EAArBv9B,SAAUo3B,EAAWmG,EAAXnG,OACrBttC,EAAQyzC,EAAezzC,MACb,SAAVA,IACFA,EAAQoxC,EAAc,GAGxB,IAAI5d,EAAMmrB,GAAQ+H,EAAqBvV,EAAMsV,EAD7CzmD,EAAQ+P,GAAI,EAAG/P,EAAOiQ,GAAImhC,EAAc,EAAGpxC,KAU3C,MARc,QAAV4yC,EACFpf,EAAMkV,GAAMlV,EAAMkzB,EAAoBlmD,OAASimD,EAAgBjmD,QAC5C,WAAVoyC,IACTpf,EAAMkV,GAAMlV,EAAMkzB,EAAoBlmD,OAAS,EAAIimD,EAAgBjmD,OAAS,IAE1E8sC,IACF9Z,GAAO8Z,GAEF,CAAE9Z,MAAKtd,gBAGlB6zB,GAEF,IAAMyS,EAAkBrc,GACtBK,GACE4lB,EACAtmD,IAAI,SAACynD,GACH,OAAOA,EAAWrT,aAAeqT,EAAWnO,WAGhD,GASF,OAPA/9B,GACEmlB,GACE4d,EACAt+C,IAAI,SAACihD,GAAD,MAAmB,CAAEtgD,MAAOsgD,EAAaG,aAAc1gD,OAAQugD,EAAaR,mBAElF8F,GAEK,qCAELpqD,OACAs0C,aACA8V,qBACAC,iBACAve,YACAE,eACAiQ,WACAjO,WACAF,WACA+I,gBACA9J,4BACAoV,qBACAC,iBACAC,kBACAtX,qBACAmX,6BACA7T,YACAD,uBACAM,eACAH,eACA+Q,mBACAxU,MACAwY,oBACGO,GAzBL,IA0BE/J,0BAEAqQ,YACA5J,mBACGvC,GA9BL,IA+BEmB,eACAD,aACAE,eACAkL,eACAhR,aACAiR,0BACGroD,KAGP2gC,GAAIsZ,GAAiBhO,GAAa+J,GAAkBwH,GAAkBrG,GAAkB4I,GAAsBzY,KAEhH,SAAS0hB,GAAWR,EAAU5f,EAAKhnC,EAAMixB,GACvC,IAAgBm0B,EAAeplD,EAAvBS,OACR,YAAmB,IAAf2kD,GAA0C,IAAjBn0B,EAAMnzB,OAC1B,CAAE21B,IAAK,EAAG4lB,OAAQ,GAIpB,CAAE5lB,IAFGmrB,GAAQgI,EAAU5f,EAAKhnC,EAAMixB,EAAM,GAAGhxB,OAEpCo5C,OADCuF,GAAQgI,EAAU5f,EAAKhnC,EAAMixB,EAAMA,EAAMnzB,OAAS,GAAGmC,OAASmlD,GAG/E,SAASxG,GAAQgI,EAAU5f,EAAKhnC,EAAMC,GACpC,IAAMinD,EAASC,GAAYP,EAASlmD,MAAOV,EAAKU,MAAOsmC,EAAInhC,QACrDwhD,EAAWr0B,GAAM/yB,EAAQinD,GACzBzzB,EAAM4zB,EAAWrnD,EAAKS,OAASuP,GAAI,EAAGq3C,EAAW,GAAKrgB,EAAI5gC,IAChE,OAAOqtB,EAAM,EAAIA,EAAMuT,EAAI5gC,IAAMqtB,EAEnC,SAAS0zB,GAAYH,EAAelB,EAAW9e,GAC7C,OAAOh3B,GAAI,EAAGgjB,IAAOg0B,EAAgBhgB,IAAQhU,GAAM8yB,GAAa9e,KAElE,IAAMygB,GAA2CnlB,IAAO,WACtD,IAAMqf,EAAc5hB,IAAe,SAAC9/B,GAAD,qBAAmBA,MAChD4hD,EAAa9hB,GAAe,IAC5BjgB,EAAUigB,GAAe,MACzB2nB,EAAgB3nB,GAAe,sBAC/B4nB,EAAgB5nB,GAAe,sBAC/B+hB,EAAiB/hB,GAAe0hB,IAChCM,EAAkBhiB,GAAe,OACjCqJ,EAAcrJ,GAAetyB,IAC7Bu0C,EAAe,SAACC,GAAkC,IAAxBzjD,EAAwB,uDAAT,KAC7C,OAAO4hC,GACLK,GACEohB,EACA9hD,IAAI,SAACmiD,GAAD,OAAiBA,EAAYD,MACjCphB,MAEFriC,IAGJ,MAAO,CACLshB,UACA6hC,cACAE,aACAC,iBACA4F,gBACAC,gBACA5F,kBACA3Y,cACA+Y,gBAAiBH,EAAa,UAC9BI,gBAAiBJ,EAAa,UAC9BM,cAAeN,EAAa,OAAQ,OACpCO,cAAeP,EAAa,OAAQ,OACpCS,kBAAmBT,EAAa,WAAY,OAC5CW,sBAAuBX,EAAa,wBAAyB,WAG3D4F,GAAmCtlB,IAAO,YAA8C,uBAA5CulB,EAA4C,KAA/BC,EAA+B,KAC5F,OAAO,2BAAKD,GAAgBC,KAC3B/oB,GAAIqnB,GAAYqB,KACbM,GAA4Bh6C,EAAMqN,MAAK,WAC3C,IAAMirC,EAAY2B,GAAkB,aAC9BL,EAAgBK,GAAkB,iBAClCN,EAAgBM,GAAkB,iBAClCrG,EAAcqG,GAAkB,eAChClG,EAAiBkG,GAAkB,kBACnCnM,EAAYmM,GAAkB,aAC9BC,EAAuBC,GAAe,gBACtC3F,EAAgByF,GAAkB,iBAClC1F,EAAgB0F,GAAkB,iBAClCrF,EAAwBqF,GAAkB,yBAC1CloC,EAAUkoC,GAAkB,WAC5BzB,EAAiB2B,GAAe,kBAChCC,EAAUD,GAAe,OACzB9pD,EAAM4pD,GAAkB,OACxBvB,EAAyBuB,GAAkB,0BAC3CI,EAAUxhB,IAAQ,SAACxT,GACvB,IAAM8U,EAAe9U,EAAGE,cAAcA,cAAc4U,aACpD+f,EAAqB/f,GACrB,IAAMmgB,EAAYj1B,EAAGk1B,WACrB,GAAID,EAAW,CACb,MAA0BA,EAAU70B,wBAA5B9yB,EAAR,EAAQA,MAAOD,EAAf,EAAeA,OACf8lD,EAAe,CAAE7lD,QAAOD,WAE1B0nD,EAAQ,CACN/hD,IAAKmiD,GAAgB,UAAWhgB,iBAAiBnV,GAAIoV,OAAQpqC,GAC7DyH,OAAQ0iD,GAAgB,aAAchgB,iBAAiBnV,GAAI2zB,UAAW3oD,QAG1E,OAAIqoD,EACK,KAEF14C,EAAM62B,cACX0d,EADK,yBAGHlhD,IAAKgnD,EACLrtD,UAAW4sD,GACRzD,GAA2B5B,EAAexiC,IAL1C,IAMH5iB,MAAO,CAAE6mD,WAAYsC,EAAUjN,UAAW4K,cAAeqC,EAAUlS,cACnE,eAAgB,uBAElBkS,EAAUp1B,MAAMlxB,KAAI,SAACC,GACnB,IAAMzE,EAAMumD,EAAe9hD,EAAKC,MAAOD,EAAK9D,KAAM4jB,GAClD,OAAO+7B,EAAY9tC,EAAM62B,cAAc+d,EAApB,yBACjBpnD,OACG2oD,GAA2BvB,EAAuB7iC,IAFpC,IAGjB7f,MAAOD,EAAKC,MACZQ,OAAQ4lD,EAAUjB,WAClB1kD,MAAO2lD,EAAUP,aACd/3C,EAAM62B,cACT2d,EADG,2BAEE2B,GAA2B3B,EAAeziC,IAF5C,IAEsD/kB,UAAW2sD,EAAe,aAAc1nD,EAAKC,MAAO1E,QAC7GomD,EAAY3hD,EAAKC,MAAOD,EAAK9D,KAAM4jB,WAKrC0oC,GAASz6C,EAAMqN,MAAK,WACxB,IAAMqpC,EAAUuD,GAAkB,mBAC5Bvd,EAAeyd,GAAe,gBAC9BnG,EAAkBiG,GAAkB,mBACpC5mD,EAAMwlC,IAAQ,SAACxT,GAAD,OAAQqX,EAAahC,GAAgBrV,EAAI,cACvDtT,EAAUkoC,GAAkB,WAClC,OAAOvD,EAAU12C,EAAM62B,cAAcmd,EAAiB,CAAE3gD,OAAO2M,EAAM62B,cAAc6f,EAASP,GAA2BO,EAAS3kC,KAAa,QAEzI2oC,GAAS16C,EAAMqN,MAAK,WACxB,IAAMupC,EAAUqD,GAAkB,mBAC5Bpd,EAAesd,GAAe,gBAC9BnG,EAAkBiG,GAAkB,mBACpC5mD,EAAMwlC,IAAQ,SAACxT,GAAD,OAAQwX,EAAanC,GAAgBrV,EAAI,cACvDtT,EAAUkoC,GAAkB,WAClC,OAAOrD,EAAU52C,EAAM62B,cAAcmd,EAAiB,CAAE3gD,OAAO2M,EAAM62B,cAAc+f,EAAST,GAA2BS,EAAS7kC,KAAa,QAEzI4oC,GAAa,SAAC,GAAiB,IAAfh8C,EAAe,EAAfA,SACduT,EAAMlS,EAAM3T,WAAWonD,IACvB+E,EAAiB2B,GAAe,kBAChC5B,EAAqB4B,GAAe,sBACpC/C,EAAcve,IAAQ,SAACxT,GAC3BkzB,EAAmBlzB,EAAGI,4BAQxB,OANAzlB,EAAM7O,WAAU,WACV+gB,IACFqmC,EAAmB,CAAE7lD,OAAQwf,EAAIkoB,eAAgBznC,MAAOuf,EAAI+mC,gBAC5DT,EAAe,CAAE9lD,OAAQwf,EAAImlC,WAAY1kD,MAAOuf,EAAI6lC,eAErD,CAAC7lC,EAAKqmC,EAAoBC,IACNx4C,EAAM62B,cAAc,MAAO,CAAE1nC,MAAOonD,GAAeljD,IAAK+jD,GAAez4C,IAE1Fi8C,GAAmB,SAAC,GAAiB,IAAfj8C,EAAe,EAAfA,SACpBuT,EAAMlS,EAAM3T,WAAWonD,IACvBnD,EAAqB6J,GAAe,sBACpC3B,EAAiB2B,GAAe,kBAChCjhB,EAAqB+gB,GAAkB,sBACvC7C,EAAcpE,GAAyB1C,EAAoBpX,GAOjE,OANAl5B,EAAM7O,WAAU,WACV+gB,IACFsmC,EAAe,CAAE9lD,OAAQwf,EAAImlC,WAAY1kD,MAAOuf,EAAI6lC,YACpDzH,EAAmB,CAAEjF,UAAW,EAAGoH,cAAevgC,EAAIkoB,eAAgBgZ,aAAclhC,EAAI+mC,mBAEzF,CAAC/mC,EAAKo+B,EAAoBkI,IACNx4C,EAAM62B,cAAc,MAAO,CAAExjC,IAAK+jD,EAAajoD,MAAOonD,IAAiB53C,IAShG,GAKoBg2B,GAClBklB,GACA,CACE3kB,SAAU,CACRnjB,QAAS,UACT0wB,WAAY,aACZ2H,SAAU,WACVwJ,YAAa,cACbE,WAAY,aACZC,eAAgB,iBAChB5lD,KAAM,OACNs/C,iBAAkB,mBAClBM,wBAAyB,0BACzBiG,gBAAiB,kBACjB4F,cAAe,gBACfD,cAAe,gBACfnJ,gBAAiB,kBACjBtX,mBAAoB,qBACpBmC,YAAa,cACbzD,SAAU,WACV6Z,iBAAkB,mBAClBxJ,wBAAyB,2BAE3B7S,QAAS,CACP6G,SAAU,WACVE,SAAU,WACV6I,cAAe,iBAEjB1P,OAAQ,CACNsR,YAAa,cACbyG,WAAY,aACZC,aAAc,eACdC,aAAc,eACd/G,oBAAqB,sBACrBC,iBAAkB,mBAClBgS,aAAc,iBA/Caz4C,EAAMqN,MAAK,YAAiC,IAATja,EAAS,oBACrEo9C,EAAkByJ,GAAkB,mBACpC/gB,EAAqB+gB,GAAkB,sBACvCxC,EAAcve,GAAsBsX,EAAkBqK,GAAmBC,GACzElD,EAAc1e,GAAsBsX,EAAkBoK,GAAmBD,GAC/E,OAAuB36C,EAAM62B,cAAc4gB,EAApB,eAAsCrkD,GAAyB4M,EAAM62B,cAAc+gB,EAAa,KAAsB53C,EAAM62B,cAAc4jB,GAAQ,MAAuBz6C,EAAM62B,cAAcmjB,GAAW,MAAuBh6C,EAAM62B,cAAc6jB,GAAQ,YAIpQP,IAFhB,GACEr0C,UADF,GAEEkxB,cACiBijB,GAHnB,GAGEhjB,gBACY8jB,GAJd,GAIE5jB,WAyCI2jB,GAA6BjE,GAAc,CAAE7f,aAAcmjB,GAAgBljB,gBAAiBgjB,GAAmB9iB,WAAY4jB,KAC3HF,GAAmC3D,GAAoB,CAAElgB,aAAcmjB,GAAgBljB,gBAAiBgjB,GAAmB9iB,WAAY4jB,KAC7I,SAASP,GAAgBnxB,EAAU13B,EAAOtB,GAIxC,MAHc,WAAVsB,IAAiC,MAATA,OAAgB,EAASA,EAAM+iB,SAAS,QAClErkB,EAAI,GAAD,OAAIg5B,EAAJ,8CAA0D13B,EAAO2lC,GAASgD,MAEjE,WAAV3oC,EACK,EAEFyK,SAAkB,MAATzK,EAAgBA,EAAQ,IAAK,IAE/C,IACMqpD,GAA4CzmB,IAAO,WACvD,IAAMqf,EAAc5hB,IAAe,SAAC9/B,GAAD,OAA2B8N,EAAM62B,cAAc,KAAM,KAAM,SAAU3kC,MAClG6f,EAAUigB,GAAe,MACzBipB,EAAqBjpB,GAAe,MACpCkpB,EAAqBlpB,GAAe,MACpC8hB,EAAa9hB,GAAe,IAC5B+hB,EAAiB/hB,GAAe0hB,IAChCrY,EAAcrJ,GAAetyB,IAC7Bu0C,EAAe,SAACC,GAAkC,IAAxBzjD,EAAwB,uDAAT,KAC7C,OAAO4hC,GACLK,GACEohB,EACA9hD,IAAI,SAACmiD,GAAD,OAAiBA,EAAYD,MACjCphB,MAEFriC,IAGJ,MAAO,CACLshB,UACA6hC,cACAqH,qBACAC,qBACApH,aACAC,iBACA1Y,cACA8f,eAAgBlH,EAAa,QAAS,SACtCmH,mBAAoBnH,EAAa,YAAa,SAC9CoH,qBAAsBpH,EAAa,YAAa,SAChDqH,mBAAoBrH,EAAa,YAAa,SAC9CsH,kBAAmBtH,EAAa,WAAY,MAC5CS,kBAAmBT,EAAa,WAAY,OAC5CU,iBAAkBV,EAAa,oBAC/BW,sBAAuBX,EAAa,yBACpCuH,UAAWvH,EAAa,iBAGtBwH,GAAiClnB,IAAO,YAAgC,uBAA9BugB,EAA8B,KAAjBC,EAAiB,KAC5E,OAAO,2BAAKD,GAAgBC,KAC3B/jB,GAAIohB,GAAY4I,KACbU,GAA+B,SAAC,GAAD,IAAGhpD,EAAH,EAAGA,OAAH,OAAgCsN,EAAM62B,cAAc,KAAM,KAAsB72B,EAAM62B,cAAc,KAAM,CAAE1nC,MAAO,CAAEuD,cACpJipD,GAAmB,SAAC,GAAD,IAAGjpD,EAAH,EAAGA,OAAH,OAAgCsN,EAAM62B,cAAc,KAAM,KAAsB72B,EAAM62B,cAAc,KAAM,CAAE1nC,MAAO,CAAEuD,SAAQtD,QAAS,EAAGG,OAAQ,OACpKqsD,GAAa,CAAEzG,eAAgB,QAC/B0G,GAAwB77C,EAAMqN,MAAK,WACvC,IAAMg/B,EAAYpV,GAAgB,aAC5BuL,EAAaxL,GAAa,cAC1BwZ,EAAkBvZ,GAAgB,mBAClCiC,EAAqBjC,GAAgB,sBACrCwe,EAAqCze,GAAa,8BAClD0e,EAAgC1e,GAAa,wBAC7CgC,EAA+BE,GAAsBsX,EAAkBiF,EAAqCC,EAC5G9B,EAAc3c,GAAgB,eAC9BsM,EAAiBtM,GAAgB,kBAGvC,EAA6B6B,GAC3B0J,EAHevL,GAAgB,YAK/BsM,EACAvK,EALU/B,GAAgB,YAO1B,EACAiC,GAPMd,EAAR,EAAQA,YAAa/kC,EAArB,EAAqBA,IASrB,EAAkC2M,EAAMzT,SAAS,GAAjD,mBAAOiwC,EAAP,KAAkBmZ,EAAlB,KACAxe,GAAW,aAAa,SAACxlC,GACnB6qC,IAAc7qC,IAChB0B,EAAIqS,QAAQvW,MAAM4N,UAAlB,UAAiCpL,EAAjC,MACAgkD,EAAahkD,OAGjB,IAAMgjD,EAAmB1d,GAAgB,oBACnC2d,EAAwB3d,GAAgB,0BAA4BykB,GACpEF,EAAYvkB,GAAgB,cAAgB0kB,GAC5CL,EAAqBrkB,GAAgB,sBACrCskB,EAAoBtkB,GAAgB,qBACpC8c,EAAiB9c,GAAgB,kBACjC6W,EAAY7W,GAAgB,aAC5BiZ,EAAqBjZ,GAAgB,sBACrC4L,EAAiB5L,GAAgB,kBACjCyL,EAAqBzL,GAAgB,sBACrCllB,EAAUklB,GAAgB,WAChC,GAA2B,IAAvByL,GAA4BiS,EAC9B,OAAO30C,EAAM62B,cAAc8d,EAAkBwB,GAA2BxB,EAAkB5iC,IAE5F,IAAMikC,EAAa3J,EAAUhB,UAAY6E,EAAqB1T,EACxDyZ,EAAgB5J,EAAUjG,aAC1B0V,EAAe9F,EAAa,EAAoBh2C,EAAM62B,cAAc2kB,EAAW,CAAE9oD,OAAQsjD,EAAYxoD,IAAK,cAAeukB,YAAa,KACtIgqC,EAAkB9F,EAAgB,EAAoBj2C,EAAM62B,cAAc2kB,EAAW,CAAE9oD,OAAQujD,EAAezoD,IAAK,iBAAkBukB,YAAa,KAClJmR,EAAQmpB,EAAUnpB,MAAMlxB,KAAI,SAACC,GACjC,IAAMC,EAAQD,EAAKu5C,cACbh+C,EAAMumD,EAAe7hD,EAAQ2wC,EAAgB5wC,EAAK9D,KAAM4jB,GAC9D,OAAI+7B,EACK9tC,EAAM62B,cAAc+d,EAApB,2BACFuB,GAA2BvB,EAAuB7iC,IADhD,IAELvkB,MACA0E,MAAOD,EAAKC,MACZQ,OAAQT,EAAKqM,KACbtO,KAAMiC,EAAKjC,MAAQ,UAGhBgQ,EAAM62B,cACX0kB,EADK,2BAGApF,GAA2BoF,EAAmBxpC,IAH9C,IAIHvkB,MACA,aAAc0E,EACd,kBAAmBD,EAAKqM,KACxB,kBAAmBrM,EAAKC,MACxBD,KAAMA,EAAK9D,KACXgB,MAAOysD,KAEThI,EAAY3hD,EAAKC,MAAOD,EAAK9D,KAAM4jB,OAGvC,OAAO/R,EAAM62B,cACXykB,EADK,aAEHjoD,IAAK+kC,EAAa,eAAgB,sBAAyB+d,GAA2BmF,EAAoBvpC,IAFvG,CAGJ+pC,GAHI,mBAGa54B,GAHb,CAGoB64B,QAGvBC,GAAW,SAAC,GAAiB,IAAfr9C,EAAe,EAAfA,SACZuT,EAAMlS,EAAM3T,WAAWmnD,IACvBpZ,EAAiBpD,GAAa,kBAC9B0b,EAAkB1b,GAAa,mBAC/BogB,EAAcve,GAAQrI,GAAQ4J,GAAgB,SAAC/U,GAAD,OAAQqV,GAAgBrV,EAAI,cAOhF,OANArlB,EAAM7O,WAAU,WACV+gB,IACFkoB,EAAeloB,EAAIkoB,gBACnBsY,EAAgBxgC,EAAImlC,eAErB,CAACnlC,EAAKkoB,EAAgBsY,IACF1yC,EAAM62B,cAAc,MAAO,CAAE1nC,MAAOonD,GAAeljD,IAAK+jD,EAAa,qBAAsB,WAAaz4C,IAE3Hs9C,GAAiB,SAAC,GAAiB,IAAft9C,EAAe,EAAfA,SAClBuT,EAAMlS,EAAM3T,WAAWmnD,IACvBlD,EAAqBtZ,GAAa,sBAClC0b,EAAkB1b,GAAa,mBAC/BkC,EAAqBjC,GAAgB,sBACrCmgB,EAAcpE,GAAyB1C,EAAoBpX,GAOjE,OANAl5B,EAAM7O,WAAU,WACV+gB,IACFwgC,EAAgBxgC,EAAImlC,YACpB/G,EAAmB,CAAEjF,UAAW,EAAGoH,cAAevgC,EAAIkoB,eAAgBgZ,aAAc,SAErF,CAAClhC,EAAKo+B,EAAoBoC,IACN1yC,EAAM62B,cAAc,MAAO,CAAExjC,IAAK+jD,EAAajoD,MAAOonD,GAAe,qBAAsB,UAAY53C,IA2ChI,GAKoBg2B,GAClB8mB,GACA,CACEzmB,SAAU,GACVE,SAAU,CACRnjB,QAAS,UACT42B,aAAc,eACd9F,eAAgB,iBAChB+Q,YAAa,cACbqH,mBAAoB,qBACpBC,mBAAoB,qBACpB9Q,SAAU,WACVI,mBAAoB,qBACpB/H,WAAY,aACZ8L,aAAc,eACdtG,wBAAyB,0BACzB6L,WAAY,aACZnK,YAAa,cACbjD,kBAAmB,oBACnBC,eAAgB,iBAChBoN,eAAgB,iBAChBpB,kBAAmB,oBACnBD,gBAAiB,kBACjB3Z,SAAU,WACVgV,wBAAyB,0BACzB5/C,KAAM,OACNs/C,iBAAkB,mBAClBsC,iBAAkB,mBAClBE,cAAe,gBACfO,gBAAiB,kBACjBtX,mBAAoB,qBACpBmC,YAAa,cACbzD,SAAU,YAEZxC,QAAS,CACP4P,cAAe,gBACf78B,eAAgB,iBAChB8zB,SAAU,WACVE,SAAU,YAEZ7G,OAAQ,CACNsR,YAAa,cACbyG,WAAY,aACZC,aAAc,eACdC,aAAc,eACd/G,oBAAqB,sBACrBC,iBAAkB,mBAClBgI,uBAAwB,yBACxBrC,cAAe,gBACf3M,aAAc,iBA/Fcz/B,EAAMqN,MAAK,SAA2Bja,GACtE,IAAMo9C,EAAkBvZ,GAAgB,mBAClCiC,EAAqBjC,GAAgB,sBACrC0F,EAAoB3F,GAAa,qBACjC4F,EAAoB5F,GAAa,qBACjCikB,EAAqBhkB,GAAgB,sBACrCikB,EAAqBjkB,GAAgB,sBACrCllB,EAAUklB,GAAgB,WAC1BilB,EAAWrjB,GAAQrI,GAAQmM,GAAmB,SAACtX,GAAD,OAAQqV,GAAgBrV,EAAI,cAC1E82B,EAAWtjB,GAAQrI,GAAQoM,GAAmB,SAACvX,GAAD,OAAQqV,GAAgBrV,EAAI,cAC1EoyB,EAAcve,GAAsBsX,EAAkB4L,GAAiBC,GACvEzE,EAAc1e,GAAsBsX,EAAkByL,GAAiBD,GACvEM,EAAWrlB,GAAgB,kBAC3BslB,EAAWtlB,GAAgB,sBAC3BulB,EAAWvlB,GAAgB,wBAC3BwlB,EAAUxB,EAAqBj7C,EAAM62B,cACzC0lB,EADmC,aAGjC/uD,IAAK,YACL2B,MAAO,CAAE+lD,OAAQ,EAAGnC,SAAU,SAAUrtB,IAAK,GAC7CryB,IAAK6oD,GACF/F,GAA2BoG,EAAUxqC,IAE1CkpC,KACE,KACEyB,EAAUxB,EAAqBl7C,EAAM62B,cACzC2lB,EADmC,aAGjChvD,IAAK,YACL2B,MAAO,CAAE+lD,OAAQ,EAAGnC,SAAU,SAAUzH,OAAQ,GAChDj4C,IAAK8oD,GACFhG,GAA2BqG,EAAUzqC,IAE1CmpC,KACE,KACJ,OAAuBl7C,EAAM62B,cAAc4gB,EAApB,eAAsCrkD,GAAyB4M,EAAM62B,cAAc+gB,EAAa,KAAM53C,EAAM62B,cACjIylB,EAD2H,aAEzHntD,MAAO,CAAEwtD,cAAe,EAAGxH,eAAgB,SAAagB,GAA2BmG,EAAUvqC,IAC/F,CAAC0qC,EAAyBz8C,EAAM62B,cAAcglB,GAAO,CAAEruD,IAAK,cAAgBkvD,UAK9E1lB,IAFF,GACElxB,UADF,GAEEkxB,cACAC,GAHF,GAGEA,gBACAE,GAJF,GAIEA,WAuDIklB,GAA2BxF,GAAc,CAAE7f,gBAAcC,mBAAiBE,gBAC1EilB,GAAiClF,GAAoB,CAAElgB,gBAAcC,mBAAiBE,gB,qnBC7kItFylB,GAAsB,SAAtBA,EAAuBC,GAC3B,MAAsB,kBAAXA,EACFA,OAEM,IAAXA,GAAuC,kBAAXA,IAAwBA,EAAOzpD,QAAUypD,EAAOzpD,MAAMuL,UAA6C,kBAA1Bk+C,EAAOzpD,MAAMuL,UAA0D,kBAA1Bk+C,EAAOzpD,MAAMuL,SAC1J,GAE4B,kBAA1Bk+C,EAAOzpD,MAAMuL,SACfk+C,EAAOzpD,MAAMuL,SAEfk+C,EAAOzpD,MAAMuL,SAAS3M,KAAI,SAACsZ,GAAD,OAAWsxC,EAAoBtxC,MAAQT,KAAK,KAEzEiyC,GAAe,SAACtvD,EAAK8P,EAAaD,EAAMS,EAAMi/C,GAClD,MAAyB,oBAAd1/C,EAAK7P,GACPwvD,OAAO3/C,EAAK7P,GAAK,CAAE6P,OAAMS,OAAMi/C,eAAcvkD,SAAS8E,GAEtC,kBAAdD,EAAK7P,GACPovD,GAAoBv/C,EAAK7P,IAAMgL,SAAS8E,GAE1CD,EAAK7P,IAAQwvD,OAAO3/C,EAAK7P,IAAMgL,SAAS8E,IAE3C2/C,GAAsB,SAAC,GAKvB,IAJJ5/C,EAII,EAJJA,KACAS,EAGI,EAHJA,KACAi/C,EAEI,EAFJA,UACAz/C,EACI,EADJA,YAEA,OAAOw/C,GAAa,QAASx/C,EAAaD,EAAMS,EAAMi/C,IAAcD,GAAa,WAAYx/C,EAAaD,EAAMS,EAAMi/C,IAGlHG,GAAoC,SAApCA,EAAqC,GASrC,IARJC,EAQI,EARJA,YACA9/C,EAOI,EAPJA,KACA4V,EAMI,EANJA,aACAmqC,EAKI,EALJA,WAKI,IAJJt/C,YAII,MAJG,GAIH,MAHJu/C,0BAGI,MAHiB,GAGjB,MAFJC,uBAEI,aADJC,aAEMC,OADF,SAC4B,GAAH,sBAAY1/C,GAAZ,CAAkBs/C,EAAW,CAAE//C,OAAM0/C,UAAW9pC,MAC7E,GAAIA,IAAiBkqC,EACnB,MAAO,CACL9/C,OACAggD,qBACAv/C,KAAM0/C,GAGV,KAAc,MAARngD,OAAe,EAASA,EAAKsB,WAAa2+C,IAA+D,KAAnC,MAARjgD,OAAe,EAASA,EAAKogD,UAC/F,MAAO,CAAE9e,UAAW1rB,EAAe,GAIrC,IAFA,IAAIyqC,EAAazqC,EAAe,EAC1B0qC,EAAatgD,EAAKsB,SAAS5O,OACxB8f,EAAI,EAAGA,EAAI8tC,EAAY9tC,GAAK,EAAG,CACtC,IAAMpM,EAASy5C,EAAkC,CAC/CI,kBACAF,aACAD,cACA9/C,KAAMA,EAAKsB,SAASkR,GACpBoD,aAAcyqC,EACdL,mBAAoB,GAAF,mBAAMA,GAAN,CAA0BM,EAAa9tC,EAAI,IAC7D/R,KAAM0/C,IAER,GAAI/5C,EAAOpG,KACT,OAAOoG,EAETi6C,EAAaj6C,EAAOk7B,UAEtB,MAAO,CAAEA,UAAW+e,IAEhBE,GAAqB,SAAC,GAGtB,IAFJvgD,EAEI,EAFJA,KAEI,IADJigD,gBAEA,OAAOJ,GAAkC,CACvCE,WAAY,aAEZE,qBAJE,SAKFjgD,OACA4V,aAAc,EACdkqC,aAAc,IACbxe,UAAY,GAEXkf,GAAkB,SAAlBA,EAAmB,GAUnB,IATJzmB,EASI,EATJA,SACAgmB,EAQI,EARJA,WACAE,EAOI,EAPJA,gBAOI,IANJC,oBAMI,SALJlgD,EAKI,EALJA,KAKI,IAJJygD,kBAII,WAJS,EAIT,EAHJ7qC,EAGI,EAHJA,aAGI,IAFJnV,YAEI,MAFG,GAEH,MADJu/C,0BACI,MADiB,GACjB,EACEG,EAAWD,EAAe,GAAH,sBAAYz/C,GAAZ,CAAkBs/C,EAAW,CAAE//C,OAAM0/C,UAAW9pC,MAQ7E,IAAKsqC,IAEoB,IADAnmB,EARRmmB,OAAe,EAAS,CACvClgD,OACAygD,aACAhgD,KAAM0/C,EACNH,qBACAN,UAAW9pC,IAKT,OAAO,EAGX,IAAK5V,EAAKsB,WAA8B,IAAlBtB,EAAKogD,UAAqBH,IAAoBC,EAClE,OAAOtqC,EAET,IAAIyqC,EAAazqC,EACX0qC,EAAatgD,EAAKsB,SAAS5O,OACjC,GAA6B,oBAAlBsN,EAAKsB,SACd,IAAK,IAAIkR,EAAI,EAAGA,EAAI8tC,EAAY9tC,GAAK,EAWnC,IAAmB,KAVnB6tC,EAAaG,EAAgB,CAC3BzmB,WACAgmB,aACAE,kBACAjgD,KAAMA,EAAKsB,SAASkR,GACpBiuC,WAAYP,OAAe,EAASlgD,EACpC4V,aAAcyqC,EAAa,EAC3BL,mBAAoB,GAAF,mBAAMA,GAAN,CAA0BM,EAAa9tC,EAAI,IAC7D/R,KAAM0/C,KAGN,OAAO,EAIb,OAAOE,GAEHK,GAAiB,SAAjBA,EAAkB,GAUlB,IATJ3mB,EASI,EATJA,SACAgmB,EAQI,EARJA,WACAE,EAOI,EAPJA,gBAOI,IANJC,oBAMI,SALJlgD,EAKI,EALJA,KAKI,IAJJygD,kBAII,WAJS,EAIT,EAHJ7qC,EAGI,EAHJA,aAGI,IAFJnV,YAEI,MAFG,GAEH,MADJu/C,0BACI,MADiB,GACjB,EACEW,EAAW,eAAK3gD,GAChBmgD,EAAWD,EAAe,GAAH,sBAAYz/C,GAAZ,CAAkBs/C,EAAW,CAAE//C,KAAM2gD,EAAUjB,UAAW9pC,MACjFgrC,EAAW,CACf5gD,KAAM2gD,EACNF,aACAhgD,KAAM0/C,EACNH,qBACAN,UAAW9pC,GAEb,IAAK+qC,EAASr/C,WAAkC,IAAtBq/C,EAASP,UAAqBH,IAAoBC,EAC1E,MAAO,CACLR,UAAW9pC,EACX5V,KAAM+5B,EAAS6mB,IAGnB,IAAIP,EAAazqC,EACX0qC,EAAaK,EAASr/C,SAAS5O,OAiBrC,MAhBiC,oBAAtBiuD,EAASr/C,WAClBq/C,EAASr/C,SAAWq/C,EAASr/C,SAAS3M,KAAI,SAACsZ,EAAOuE,GAChD,IAAMquC,EAAYH,EAAe,CAC/B3mB,WACAgmB,aACAE,kBACAjgD,KAAMiO,EACNwyC,WAAYP,OAAe,EAASS,EACpC/qC,aAAcyqC,EAAa,EAC3BL,mBAAoB,GAAF,mBAAMA,GAAN,CAA0BM,EAAa9tC,EAAI,IAC7D/R,KAAM0/C,IAGR,OADAE,EAAaQ,EAAUnB,UAChBmB,EAAU7gD,SAGd,CACLA,KAAM+5B,EAAS6mB,GACflB,UAAWW,IA2CTxf,GAAO,SAAC,GAKR,IAJJlhC,EAII,EAJJA,SACAogD,EAGI,EAHJA,WACAhmB,EAEI,EAFJA,SAEI,IADJkmB,uBACI,SACCtgD,GAAgC,IAApBA,EAASjN,QAG1B8tD,GAAgB,CACdzmB,WACAgmB,aACAE,kBACAC,cAAc,EACdlgD,KAAM,CAAEsB,SAAU3B,GAClBiW,cAAe,EACfnV,KAAM,GACNu/C,mBAAoB,MAGlBrrD,GAAM,SAAC,GAKP,IAJJgL,EAII,EAJJA,SACAogD,EAGI,EAHJA,WACAhmB,EAEI,EAFJA,SAEI,IADJkmB,uBACI,SACJ,OAAKtgD,GAAgC,IAApBA,EAASjN,OAGnBguD,GAAe,CACpB3mB,WACAgmB,aACAE,kBACAC,cAAc,EACdlgD,KAAM,CAAEsB,SAAU3B,GAClBiW,cAAe,EACfnV,KAAM,GACNu/C,mBAAoB,KACnBhgD,KAAKsB,SAXC,IAaLw/C,GAAuB,SAAC,GAGxB,IAFJnhD,EAEI,EAFJA,SAEI,IADJygD,gBACI,SACJ,OAAOzrD,GAAI,CACTgL,WACAo6B,SAAU,gBAAG/5B,EAAH,EAAGA,KAAH,mBAAC,eAAmBA,GAApB,IAA0BogD,cACpCL,WAAY,qBAAGL,WACfO,iBAAiB,KAGfc,GAAmB,SAAC,GAMpB,IALJphD,EAKI,EALJA,SACAc,EAII,EAJJA,KACAugD,EAGI,EAHJA,QACAjB,EAEI,EAFJA,WAEI,IADJE,uBACI,SACEgB,EAAc,cA8Cd76C,EA7CW,SAAX86C,EAAY,GAKZ,QAJJhB,oBAII,SAHJlgD,EAGI,EAHJA,KACAmhD,EAEI,EAFJA,iBACAC,EACI,EADJA,UAEA,IAAKlB,GAAgBH,EAAW,CAAE//C,OAAM0/C,UAAWyB,MAAwB1gD,EAAK2gD,GAC9E,OAAOH,EAET,GAAIG,GAAa3gD,EAAK/N,OAAS,EAC7B,MAA0B,oBAAZsuD,EAAyBA,EAAQ,CAAEhhD,OAAM0/C,UAAWyB,IAAsBH,EAE1F,IAAKhhD,EAAKsB,SACR,MAAM,IAAIyV,MAAM,sDAGlB,IADA,IAAIsqC,EAAgBF,EAAmB,EAC9B3uC,EAAI,EAAGA,EAAIxS,EAAKsB,SAAS5O,OAAQ8f,GAAK,EAAG,CAChD,IAAM8uC,EAAUJ,EAAS,CACvBlhD,KAAMA,EAAKsB,SAASkR,GACpB2uC,iBAAkBE,EAClBD,UAAWA,EAAY,IAEzB,GAAIE,IAAYL,EACd,OAAIK,EACK,2BACFthD,GADL,IAEEsB,SAAU,GAAF,mBACHtB,EAAKsB,SAASqE,MAAM,EAAG6M,IADpB,CAEN8uC,GAFM,YAGHthD,EAAKsB,SAASqE,MAAM6M,EAAI,OAI1B,2BACFxS,GADL,IAEEsB,SAAU,GAAF,mBACHtB,EAAKsB,SAASqE,MAAM,EAAG6M,IADpB,YAEHxS,EAAKsB,SAASqE,MAAM6M,EAAI,OAIjC6uC,GAAiB,EAAId,GAAmB,CAAEvgD,KAAMA,EAAKsB,SAASkR,GAAIytC,oBAEpE,OAAOgB,EAEMC,CAAS,CACtBlhD,KAAM,CAAEsB,SAAU3B,GAClBwhD,kBAAmB,EACnBC,WAAY,EACZlB,cAAc,IAEhB,GAAI95C,IAAW66C,EACb,MAAM,IAAIlqC,MAAM,oCAElB,OAAO3Q,EAAO9E,UAkIVigD,GAAyB,SAAzBA,EAA0B,GAa1B,IA8DAC,EACAC,EACAhB,EA5EJiB,EAYI,EAZJA,YACAC,EAWI,EAXJA,iBACAX,EAUI,EAVJA,QACAf,EASI,EATJA,gBACA2B,EAQI,EARJA,aAQI,IAPJ1B,oBAOI,SANJ2B,EAMI,EANJA,YACA7hD,EAKI,EALJA,KACA4V,EAII,EAJJA,aACAksC,EAGI,EAHJA,aACA/B,EAEI,EAFJA,WAEI,IADJt/C,YACI,MADG,GACH,EACE0/C,EAAW,SAAC5sC,GAAD,OAAO2sC,EAAe,GAAH,sBAAYz/C,GAAZ,CAAkBs/C,EAAW,CAAE//C,KAAMuT,EAAGmsC,UAAW9pC,OACvF,GAAIA,GAAgB+rC,EAAmB,GAAKE,KAAiB7hD,EAAKsB,UAAYtB,EAAKsB,SAAS5O,OAAS,GAAI,CACvG,GAA6B,oBAAlBsN,EAAKsB,SACd,MAAM,IAAIqF,UAAU,gDAEpB,IAAMo7C,EAAiBH,EAAe,CAAExB,UAAU,GAAS,GACrD4B,EAAY,uCACbhiD,GACA+hD,GAFU,IAGbzgD,SAAUtB,EAAKsB,SAAL,CAAiB0/C,GAAjB,mBAA6BhhD,EAAKsB,WAAY,CAAC0/C,KAE3D,MAAO,CACLhhD,KAAMgiD,EACN1gB,UAAW1rB,EAAe,EAC1B4rC,kBAAmB5rC,EAAe,EAClCqsC,WAAY9B,EAAS6B,GACrBvB,WAAYP,OAAe,EAAS8B,GAI1C,GAAIF,GAAgBJ,EAAc,EAAG,CACnC,IAAK1hD,EAAKsB,UAAqC,oBAAlBtB,EAAKsB,WAA6C,IAAlBtB,EAAKogD,UAAqBH,IAAoBC,EACzG,MAAO,CAAElgD,OAAMshC,UAAW1rB,EAAe,GAK3C,IAHA,IACIssC,EACAC,EAFAC,EAAcxsC,EAAe,EAGxBpD,EAAI,EAAGA,EAAIxS,EAAKsB,SAAS5O,OAAQ8f,GAAK,EAAG,CAChD,GAAI4vC,GAAeT,EAAkB,CACnCO,EAAqBE,EACrBD,EAAc3vC,EACd,MAEF4vC,GAAe,EAAI7B,GAAmB,CAAEvgD,KAAMA,EAAKsB,SAASkR,GAAIytC,oBAElE,GAAoB,OAAhBkC,QAAwC,IAAhBA,EAAwB,CAClD,GAAIC,EAAcT,IAAqBE,EACrC,MAAO,CAAE7hD,OAAMshC,UAAW8gB,GAE5BF,EAAqBE,EACrBD,EAAcniD,EAAKsB,SAAS5O,OAE9B,IAAMsvD,EAAY,2BACbhiD,GADU,IAEbsB,SAAU,GAAF,mBACHtB,EAAKsB,SAASqE,MAAM,EAAGw8C,IADpB,CAENnB,GAFM,YAGHhhD,EAAKsB,SAASqE,MAAMw8C,OAG3B,MAAO,CACLniD,KAAMgiD,EACN1gB,UAAW8gB,EACXZ,kBAAmBU,EACnBD,WAAY9B,EAAS6B,GACrBvB,WAAYP,OAAe,EAAS8B,GAGxC,IAAKhiD,EAAKsB,UAAqC,oBAAlBtB,EAAKsB,WAA6C,IAAlBtB,EAAKogD,UAAqBH,IAAoBC,EACzG,MAAO,CAAElgD,OAAMshC,UAAW1rB,EAAe,GAK3C,IAAIyqC,EAAazqC,EAAe,EAC5BysC,EAAcriD,EAAKsB,SACI,oBAAhB+gD,IACTA,EAAcA,EAAY1tD,KAAI,SAACsZ,EAAOuE,GACpC,GAA0B,OAAtBgvC,QAAoD,IAAtBA,EAChC,OAAOvzC,EAET,IAAM4yC,EAAYU,EAAuB,CACvCG,cACAC,mBACAX,UACAf,kBACA2B,eACAC,YAAaA,GAAervC,IAAM6vC,EAAY3vD,OAAS,EACvDsN,KAAMiO,EACN2H,aAAcyqC,EACdyB,aAAcA,EAAe,EAC7B/B,aACAt/C,KAAM,KAWR,MARI,sBAAuBogD,IAEvBW,EAGEX,EAHFW,kBACAf,EAEEI,EAFFJ,WACYgB,EACVZ,EADFoB,YAGJ5B,EAAaQ,EAAUvf,UAChBuf,EAAU7gD,SAGrB,IAAM2gD,EAAW,2BAAK3gD,GAAR,IAAcsB,SAAU+gD,IAChCj8C,EAAS,CACbpG,KAAM2gD,EACNrf,UAAW+e,GAOb,OAL0B,OAAtBmB,QAAoD,IAAtBA,IAChCp7C,EAAOo7C,kBAAoBA,EAC3Bp7C,EAAO67C,WAAP,sBAAwB9B,EAASQ,IAAjC,YAA+Cc,IAC/Cr7C,EAAOq6C,WAAaA,GAEfr6C,GAEHk8C,GAAa,SAAC,GAQd,IAPJ3iD,EAOI,EAPJA,SACO+hD,EAMH,EANJ7uD,MACA8uD,EAKI,EALJA,iBACAX,EAII,EAJJA,QACAjB,EAGI,EAHJA,WAGI,IAFJE,uBAEI,aADJ2B,oBACI,SACJ,IAAKjiD,GAA4B,IAAhB+hD,EACf,MAAO,CACL/hD,SAAU,CAACqhD,GACXtB,UAAW,EACXj/C,KAAM,CAACs/C,EAAW,CAAE//C,KAAMghD,EAAStB,UAAW,KAC9Ce,gBAAY,GAGhB,IAAM8B,EAAehB,GAAuB,CAC1CG,cACAC,mBACAX,UACAf,kBACA2B,eACA7B,aACAG,cAAc,EACd2B,aAAa,EACb7hD,KAAM,CAAEsB,SAAU3B,GAClBiW,cAAe,EACfksC,cAAe,IAEjB,KAAM,sBAAuBS,GAC3B,MAAM,IAAIxrC,MAAM,yCAElB,IAAM2oC,EAAY6C,EAAaf,kBAC/B,MAAO,CACL7hD,SAAU4iD,EAAaviD,KAAKsB,SAC5Bo+C,YACAj/C,KAAM,GAAF,mBACC8hD,EAAaN,YADd,CAEFlC,EAAW,CAAE//C,KAAMghD,EAAStB,gBAE9Be,WAAY8B,EAAa9B,aAuDvB+B,GAAe,SAAfA,EAAgBC,EAAOC,GAC3B,QAASD,EAAMnhD,UAAsC,oBAAnBmhD,EAAMnhD,UAA2BmhD,EAAMnhD,SAAS7C,MAChF,SAACwP,GAAD,OAAWA,IAAUy0C,GAAWF,EAAav0C,EAAOy0C,OAGlDC,GAAW,SAAXA,EAAY3iD,GAAoB,IAAdnN,EAAc,uDAAN,EAC9B,OAAKmN,EAAKsB,SAGmB,oBAAlBtB,EAAKsB,SACPzO,EAAQ,EAEVmN,EAAKsB,SAASrR,QACnB,SAAC2yD,EAAS30C,GAAV,OAAoBtR,KAAKiI,IAAIg+C,EAASD,EAAS10C,EAAOpb,EAAQ,MAC9DA,GAPOA,GA0FL8O,GAAa,sCAAIkhD,EAAJ,yBAAIA,EAAJ,uBAAgBA,EAAQn9B,OAAO/L,SAASnM,KAAK,MAE1Ds1C,GAAiB,CACrBC,eAAe,EACfC,eAAe,EACfljD,SAAS,EACTmjD,8BAA0B,EAC1BliD,QAAS,GACTpR,UAAW,GACXmC,MAAO,GACP2uD,gBAAY,EACZyC,iBAAa,EACbljC,SAAS,EACT5rB,WAAO,EACPmb,cAAU,EACV4zC,aAAc,OAEVC,GAAsB,SAASrtD,GAEnC,IA+BIq2B,EA/BJ,EADAr2B,EAAQ,2BAAK+sD,IAAmB/sD,GAE9BstD,EADF,EACEA,qBACAJ,EAFF,EAEEA,yBACAK,EAHF,EAGEA,mBACAC,EAJF,EAIEA,kBACA/mC,EALF,EAKEA,WACAwD,EANF,EAMEA,QACAlgB,EAPF,EAOEA,QACAE,EARF,EAQEA,KACA5L,EATF,EASEA,MACAmb,EAVF,EAUEA,SACA2zC,EAXF,EAWEA,YACAziD,EAZF,EAYEA,KACAi/C,EAbF,EAaEA,UACAqD,EAdF,EAcEA,cACAC,EAfF,EAeEA,cACAjiD,EAhBF,EAgBEA,QACApR,EAjBF,EAiBEA,UACAmC,EAlBF,EAkBEA,MACA0xD,EAnBF,EAmBEA,QAMAL,GAzBF,EAoBEM,OApBF,EAqBEC,OArBF,EAuBEjD,WAvBF,EAyBE0C,cACGQ,EA1BL,kBA4BMC,EAAYxvD,GAAS4L,EAAK5L,MAC1ByvD,EAAet0C,GAAYvP,EAAKuP,SAChCu0C,EAAqC,QAAjBX,EAAyB,gBAAa,EAE5DrjD,IACFssB,EAAkC,oBAAlBpsB,EAAKsB,UAA2BtB,EAAKogD,SAA2B2D,cAAI,MAAO,CAAEp0D,UAAW,qBAAsB2R,SAA0ByiD,cAAI,MAAO,CAAEp0D,UAAW,qBAAsB2R,SAAU3C,MAAM0T,KAAK,CAAE3f,OAAQ,KAAMiC,KAAI,SAAC47C,EAAG17C,GAAJ,OAA8BkvD,cAC3Q,MACA,CACEp0D,UAAWgS,GACT,0BADmB,OAEnBmiD,QAFmB,IAEnBA,IAAqB,KAGzBjvD,UACS0uD,EAAkCQ,cAAI,MAAO,CAAEp0D,UAAW,oBAAsB,CACzF8/B,WAAY,UAGhB,IAAMu0B,EAAsBd,GAAeV,GAAaU,EAAaljD,GAC/DikD,GAAsBT,GAAWhnC,EACnC0nC,EAAc,CAAE57B,MAAO,GAAM+6B,EAAsBc,MAAO,GAI9D,MAHqB,QAAjBhB,IACFe,EAAc,CAAEC,OAAQ,GAAMd,EAAsB/6B,KAAM,IAErC87B,eAAK,MAAD,YAAC,aAAStyD,MAAO,CAAEuD,OAAQ,SAAasuD,GAAxC,IAAoDriD,SAAU,CACvF2hD,GAA4BjjD,EAAKsB,WAAatB,EAAKsB,SAAS5O,OAAS,GAA8B,oBAAlBsN,EAAKsB,WAA4C8iD,eAAK,MAAO,CAAE9iD,SAAU,CACxIyiD,cACd,SACA,CACEpxD,KAAM,SACN,aAAcqN,EAAKogD,SAAW,WAAa,SAC3CzwD,UAAWgS,GACT3B,EAAKogD,SAAW,sBAAwB,oBADrB,OAEnB0D,QAFmB,IAEnBA,IAAqB,IAEvBhyD,MAAOoyD,EACPxwD,QAAS,kBAAMuvD,EAAyB,CACtCjjD,OACAS,OACAi/C,iBAIN1/C,EAAKogD,WAAa5jC,GAA8BunC,cAC9C,MACA,CACEjyD,MAAO,CAAEwD,MAAO+tD,GAChB1zD,UAAWgS,GACT,oBADmB,OAEnBmiD,QAFmB,IAEnBA,IAAqB,SAKbC,cAAI,MAAO,CAAEp0D,UAAWgS,GAAW,kBAAD,OAAoBmiD,QAApB,IAAoBA,IAAqB,IAAKxiD,SAAUgiD,EACxFc,eACd,MACA,CACEz0D,UAAWgS,GACT,WACAsiD,EAAqB,qBAAuB,GAC5CA,IAAuBjkC,EAAU,oBAAsB,GACvD+iC,EAAgB,sBAAwB,GACxCC,EAAgB,sBAAwB,GALrB,OAMnBc,QANmB,IAMnBA,IAAqB,GANF,OAOnBn0D,QAPmB,IAOnBA,IAAa,IAEfmC,MAAO,aACLuyD,QAASL,EAAsB,GAAM,GAClClyD,GAELwP,SAAU,CACR8qB,EACgBg4B,eACd,MACA,CACEz0D,UAAWgS,GACT,mBACA7B,EAAU,GAAK,+BAFI,OAGnBgkD,QAHmB,IAGnBA,IAAqB,IAEvBxiD,SAAU,CACQ8iD,eACd,MACA,CACEz0D,UAAWgS,GACT,gBADmB,OAEnBmiD,QAFmB,IAEnBA,IAAqB,IAEvBxiD,SAAU,CACQyiD,cACd,OACA,CACEp0D,UAAWgS,GACT,gBACA3B,EAAKuP,SAAW,4BAA8B,IAEhDjO,SAA+B,oBAAdsiD,EAA2BA,EAAU,CACpD5jD,OACAS,OACAi/C,cACGkE,IAGTC,GAAgCE,cAAI,OAAQ,CAAEp0D,UAAW,mBAAoB2R,SAAkC,oBAAjBuiD,EAA8BA,EAAa,CACvI7jD,OACAS,OACAi/C,cACGmE,OAIKE,cAAI,MAAO,CAAEp0D,UAAW,kBAAmB2R,SAAqB,MAAXP,OAAkB,EAASA,EAAQpM,KAAI,SAAC2vD,EAAKzvD,GAAN,OAAgCkvD,cAAI,MAAO,CAAEp0D,UAAW,qBAAsB2R,SAAUgjD,GAAOzvD,sBAWvN0vD,GAAiB,CACrBb,QAAQ,EACR1jC,SAAS,GAELwkC,GAA6B,SAASzuD,GAE1C,MADAA,EAAQ,2BAAKwuD,IAAmBxuD,GACxBiqB,EAAR,EAAQA,QAAS0jC,EAAjB,EAAiBA,OACjB,OAAuBK,cACrB,MACA,CACEp0D,UAAWgS,GACT,mBACAqe,EAAU,6BAA+B,GACzCA,IAAY0jC,EAAS,4BAA8B,OAMrDe,GAAiB,CACrBC,cAAU,EACVC,eAAW,EACXC,gBAAY,EACZ5kC,SAAS,EACTkjC,iBAAa,EACbC,aAAc,OAEV0B,G,4JACJ,WAAS,aACD9uD,EAAQ,2BAAK0uD,IAAmBzhD,KAAKjN,OAEzCuL,EAuBEvL,EAvBFuL,SACAwjD,EAsBE/uD,EAtBF+uD,UACAJ,EAqBE3uD,EArBF2uD,SACAE,EAoBE7uD,EApBF6uD,WACAD,EAmBE5uD,EAnBF4uD,UACAtB,EAkBEttD,EAlBFstD,qBACArD,EAiBEjqD,EAjBFiqD,mBACA+E,EAgBEhvD,EAhBFgvD,kBACArB,EAeE3tD,EAfF2tD,OACAR,EAcEntD,EAdFmtD,YACAljC,EAaEjqB,EAbFiqB,QACA0/B,EAYE3pD,EAZF2pD,UACAsF,EAWEjvD,EAXFivD,UAKMC,GAMJlvD,EAVF0tD,OAUE1tD,EARFmvD,WAQEnvD,EANFiK,MAEMmlD,EAIJpvD,EAJF0K,KAEA0iD,EAEEptD,EAFFotD,aACGQ,EAvBL,YAwBI5tD,EAxBJ,IAyBM+tD,EAAqC,QAAjBX,EAAyB,gBAAa,EAC1DiC,EAAqBpF,EAAmBttD,OACxC2yD,EAAW,GA7BV,cA8B8BrF,EAAmB7kB,WA9BjD,IA8BP,IAAK,EAAL,qBAAmE,8BAAvD3oB,EAAuD,KAApD8yC,EAAoD,KAC7DC,EAAY,GA4BhB,GA3BID,EAAoB,EAEpBC,EADgB,IAAdT,EACU,2DACHtyC,IAAM4yC,EAAqB,EACxB,qDAEA,wBAES,IAAdN,EACTS,EAAY,+BACH/yC,IAAM4yC,EAAqB,IACpCG,EAAY,yDAEdF,EAASj4C,KACS22C,cACd,MACA,CACEjyD,MAAO,CAAEwD,MAAO+tD,GAChB1zD,UAAWgS,GACT,iBACA4jD,EAFmB,OAGnBzB,QAHmB,IAGnBA,IAAqB,KAPR,cAUV,EAAItxC,KAGXktC,IAAcoF,GAAatyC,IAAMmyC,EAAW,CAC9C,IAAIa,EAAqB,GAEvBA,EADEV,IAAcJ,EAAWE,EAAa,EACnB,iCACZlF,IAAcgF,EACF,8BAEA,6BAEvB,IAAMe,EAA0B,QAAjBtC,EAAyB,CACtC7tD,MAAO+tD,EACPc,MAAOd,EAAuB7wC,GAC5B,CACFld,MAAO+tD,EACP/6B,KAAM+6B,EAAuB7wC,GAE/B6yC,EAASj4C,KACS22C,cACd,MACA,CACEjyD,MAAO2zD,EACP91D,UAAWgS,GACT,yBACA6jD,EAFmB,OAGnB1B,QAHmB,IAGnBA,IAAqB,KAGzBtxC,MAtFD,8BA2FP,IAAM1gB,EAAyB,QAAjBqxD,EAAyB,CAAEgB,MAAOd,EAAuB+B,GAAuB,CAAE98B,KAAM+6B,EAAuB+B,GACzHM,EAAsBV,EAI1B,MAHyB,oBAAdA,IACTU,EAAsBV,EAAUtF,EAAWuF,EAAOE,IAE7CJ,EACWX,eACd,MADkB,YAAC,eAGdT,GAHa,IAIhB7xD,MAAO,CAAEuD,OAAQ,GAAF,OAAKqwD,EAAL,OACf/1D,UAAWgS,GAAW,YAAD,OAAcmiD,QAAd,IAAcA,IAAqB,IACxD9tD,IAAK,SAACgK,GAAD,OAAU,EAAKA,KAAOA,GAC3BsB,SAAU,CACR+jD,EACgBtB,cAAI,MAAO,CAAEp0D,UAAW,mBAAoBmC,QAAOwP,SAAUqkD,WAAShxD,IACpF2M,GACA,SAAC2M,GAAD,OAAW6J,uBAAa7J,EAAO,CAC7By1C,SACA1jC,UACAkjC,8B,GAhHgBz6C,aA0H1B5G,GAAe,CACnBme,SAAS,EACTkjC,iBAAa,GAET0C,GAAkB,SAAC7vD,GAEvB,MADAA,EAAQ,2BAAK8L,IAAiB9L,GACtBuL,EAAR,EAAQA,SAAUyjD,EAAlB,EAAkBA,kBAAoCpB,GAAtD,EAAqCF,OAArC,EAA6CvjC,KAA7C,mBACA,OAAO6kC,EACWhB,cAAI,MAAO,CAAEziD,SAAUqkD,WAAShxD,IAC9C2M,GACA,SAAC2M,GAAD,OAAW6J,uBAAa7J,EAAD,eAClB01C,WAMPkC,GAAQ,EACNC,GAA8B,SAAC51C,EAAS0L,GAAV,MAAuB,CACzD2nC,kBAAmBrzC,EAAQ6O,aAC3BukC,mBAAoBpzC,EAAQ+O,cAC5BzC,WAAYZ,EAAQY,aACpBgnC,QAAS5nC,EAAQ4nC,YAyBbuC,GAAgB,SAAC71C,EAAS0L,GAC9B,IAAMoqC,EAAUpqC,EAAQ5kB,UACxB,MAAO,CACL+tD,kBAAmB70C,EAAQkQ,aAC3BsjC,OAAQ9nC,EAAQ8nC,SAChB1jC,QAASpE,EAAQoE,UACjBkjC,YAAa8C,EAAUA,EAAQhmD,UAAO,IAqBpCimD,GAAiB,SAACC,EAAiBtqC,EAASuqC,EAAWC,EAAqB3C,EAAQljD,GACxF,IAWI8lD,EAXAC,EAAkB,EAChBC,EAAWL,EAAgBhB,aACjC,GAAIqB,EAAU,CACZ,IAAQvmD,EAASumD,EAATvmD,KACFS,EAAS8lD,EAAT9lD,MAC+B2lD,EAAoBpmD,KAEvDS,EAAOA,EAAKkF,MAAM,GAAI,IAExB2gD,EAAkB3pD,KAAKmI,IAAIrE,EAAK/N,OAAQwzD,EAAgBzlD,KAAK/N,QAG/D,IAAI8zD,GAA0B5qC,EAAQ5kB,UAAUyJ,MAAQ,IAAI/N,OAC5D,GAAIkpB,EAAQ5kB,UAAUysD,SAAWA,EAAQ,CACvC,IAAMzZ,EAA6C,QAAjCkc,EAAgB/C,cAA0B,EAAI,EAChEkD,EAAe1pD,KAAK4gC,MAClByM,EAAYpuB,EAAQ6qC,iCAAiCz4C,EAAIk4C,EAAgB7C,2BAI3E,GADAmD,EAAyB,EACrBL,EAAW,CACb,IAAMO,EAAmBP,EAAUnmD,KAAKooB,wBAClCu+B,EAAY/qC,EAAQ0S,wBAAwBtgB,EAAI04C,EAAiBp+B,KACvE+9B,EAAe1pD,KAAK4gC,MAClBopB,EAAYT,EAAgB7C,2BAG9BgD,EAAeH,EAAgBzlD,KAAK/N,OAGxC,IAAIgvD,EAAc/kD,KAAKmI,IACrBwhD,EACA3pD,KAAKiI,IAAI,EAAG4hD,EAAyBH,EAAe,IAEtD,QAAiB,IAAb9lD,QAAoC,IAAbA,EAAqB,CAC9C,IAAM2iD,EAActnC,EAAQ5kB,UAAUgJ,KAChC4mD,EAAoBjE,GAASO,GACnCxB,EAAc/kD,KAAKiI,IACjB,EACAjI,KAAKmI,IAAI48C,EAAanhD,EAAWqmD,EAAoB,IAGzD,OAAOlF,GAmCHmF,GAAa,SAAC7+B,EAAIo+B,EAAqB3C,EAAQljD,EAAUumD,EAAgB5mC,EAAM6mC,EAAWC,EAASC,EAAkBC,EAAiBnH,GAC1I,IAAMoH,EAAiB,CACrBjnC,KAAM,SAACgmC,EAAiBtqC,EAASuqC,GAC/B,IAAM//C,EAAS,CACbpG,KAAM4b,EAAQ5kB,UAAUgJ,KACxBS,KAAMmb,EAAQ5kB,UAAUyJ,KACxBi/C,UAAW9jC,EAAQ5kB,UAAU0oD,UAC7B+D,SACA9B,iBAAkBuE,EAAgBxG,UAClC7sD,MAAOozD,GACLC,EACAtqC,EACAuqC,EACAC,EACA3C,EACAljD,IAIJ,OADA2f,EAAK9Z,GACEA,GAET6Z,MAAO,SAACimC,EAAiBtqC,EAASuqC,GAChC,IAAMzE,EAAcuE,GAClBC,EACAtqC,EACAuqC,EACAC,EACA3C,EACAljD,GAEI2iD,EAActnC,EAAQ5kB,UAAUgJ,MAGpCkmD,EAAgBlmD,OAASkjD,GACzBxB,IAAgBwE,EAAgBzlD,KAAK/N,OAAS,KAKhDw+B,qBAAqB20B,IACrBA,GAAQ3hC,uBAAsB,WAC5B,IAAMtvB,EAAOgnB,EAAQ5kB,UAChBpC,GAASgnB,EAAQ8nC,UAGtBqD,EAAU,CACR/mD,KAAMkjD,EACNziD,KAAM7L,EAAK6L,KACXkhD,iBAAkBuE,EAAgBpB,UAClCjyD,MAAO6uD,SAIb1hC,QAAS,SAACkmC,EAAiBtqC,GAAlB,OAtFG,SAACsqC,EAAiBtqC,EAASwqC,EAAqB3C,EAAQljD,EAAUumD,EAAgBG,EAAkBC,EAAiBnH,GACnI,IAAKnkC,EAAQ8nC,SACX,OAAO,EAET,IAAM6C,EAAWL,EAAgBhB,aAC3BkC,EAAYb,EAAWA,EAAS9lD,KAAO,GACvC4mD,EAAYd,EAAWA,EAASvmD,KAAO,GAS7C,QARoBimD,GAClBC,EACAtqC,OACA,EACAwqC,EACA3C,EACAljD,IAEiB6mD,EAAU10D,QAAwC,oBAAvB20D,EAAU/lD,YAG1B,oBAAnBwlD,GAEFA,EAAe,CACpB9mD,KAFe4b,EAAQ5kB,UAAjBgJ,KAGNsnD,SAAU1rC,EAAQ5kB,UAAUyJ,KAC5B8mD,WAAY3rC,EAAQ5kB,UAAUypD,WAC9B+G,cAAe5rC,EAAQ5kB,UAAU0oD,UAEjC+H,SAAUvB,EAAgB5kD,SAASvL,MAAM0K,KACzCinD,WAAYxB,EAAgB5kD,SAASvL,MAAM0qD,WAC3CY,cAAe6E,EAAgB5kD,SAASvL,MAAM2pD,aA0DT1/B,CACrCkmC,EACAtqC,EACAwqC,EACA3C,EACAljD,EACAumD,KAEJ,OAAOzkC,YAAW2kC,EAASG,EAAgBpB,GAApC1jC,CAAmD2F,IAetDpD,GAAU,SAAC+iC,GACf,IAEIC,EAFAC,EAAiB,GACjBC,EAAiB,GAErB,OAAO,SAAC9lD,GACN,IAAM+lD,EAAYj4D,OAAOC,KAAKiS,GAAMhS,OAC9Bg4D,EAAYD,EAAUpzD,KAAI,SAACxE,GAAD,OAAS6R,EAAK7R,MAM9C,OALI63D,EAAUt1D,SAAWm1D,EAAen1D,QAAUs1D,EAAUvpD,MAAK,SAACmf,EAAK/oB,GAAN,OAAgB+oB,IAAQiqC,EAAehzD,OAAWkzD,EAAUtpD,MAAK,SAACtO,EAAK0E,GAAN,OAAgB1E,IAAQ23D,EAAejzD,SACvKgzD,EAAiBG,EACjBF,EAAiBC,EACjBH,EAAcD,EAAE3lD,IAEX4lD,IAGLK,GAAqBrjC,GAAQ09B,IAC7B4F,GAA8BtjC,IAxsBR,SAAC,GAIvB,IAHJjlB,EAGI,EAHJA,SACAogD,EAEI,EAFJA,WAEI,IADJE,uBACI,SACJ,IAAKtgD,GAAgC,IAApBA,EAASjN,OACxB,MAAO,GAET,IAAMy1D,EAAY,GASlB,OARAtnB,GAAK,CACHlhC,WACAogD,aACAE,kBACAlmB,SAAU,SAACquB,GACTD,EAAU/6C,KAAKg7C,MAGZD,KAwrBHE,GAA6BzjC,GAAQ27B,IAEvC+H,GAAgB,EACdC,GAAa,SAACxyD,GAclB,IAbA,IAAMyyD,EAAS,2BACVzyD,GADO,IAEVjE,MAAO,2BAAKiE,EAAM0yD,MAAM32D,OAAUiE,EAAMjE,OACxC42D,WAAY,2BAAK3yD,EAAM0yD,MAAMC,YAAe3yD,EAAM2yD,cAE9CC,EAAsB,CAC1BC,oBAAqBxF,GACrByF,oBAAqBrE,GACrBnB,qBAAsB,GACtByF,gBAAiB,IACjB9D,UAAW,GACX+D,iBAAkBlE,IAEpB,MAAsB/0D,OAAOC,KAAK44D,GAAlC,eAAwD,CAAnD,IAAMK,EAAO,UACO,IAAnBjzD,EAAMizD,KACRR,EAAOQ,QAAoC,IAAzBjzD,EAAM0yD,MAAMO,GAAsBL,EAAoBK,GAAWjzD,EAAM0yD,MAAMO,IAGnG,OAAOR,GAEHS,G,kDACJ,WAAYlzD,GAAO,2BACjB,cAAMA,IACDmzD,UAAY,YAAc,IAAXzoD,EAAW,EAAXA,KAClB,EAAK2a,UAAS,SAAC+tC,GACb,MA7/BW,SAAC,GAKd,IACAC,EACAC,EANJ1pD,EAII,EAJJA,SACAc,EAGI,EAHJA,KACAs/C,EAEI,EAFJA,WAEI,IADJE,gBAeA,MAAO,CACLtgD,SAZmBohD,GAAiB,CACpCphD,WACAc,OACAs/C,aACAE,qBAPE,SAQFe,QAAS,YAAyB,IAAtBhhD,EAAsB,EAAtBA,KAAM0/C,EAAgB,EAAhBA,UAChB0J,EAAcppD,EACdqpD,EAAmB3J,KAMrB1/C,KAAMopD,EACN1J,UAAW2J,GA2+BHC,CAAW,CACb3pD,SAAUwpD,EAAUI,cAAc5pD,SAClCc,OACAs/C,WAAY,EAAKhqD,MAAMgqD,aANbkH,EADZ,EACEtnD,SACMujD,EAFR,EAEEljD,KACWwpD,EAHb,EAGE9J,UAMF,MAAO,CACLuH,mBACA/D,cACAuG,aAAchpD,EAAK/N,OAAS,EAC5B82D,0BACAE,UAAU,OAIhB,EAAK3C,UAAY,YAIX,IAHE7D,EAGF,EAHJljD,KACOypD,EAEH,EAFJ52D,MACkB22D,EACd,EADJ7H,iBAEI,EAAK9yD,MAAM46D,eAAiBA,GAAgB,EAAK56D,MAAM26D,0BAA4BA,GAGvF,EAAKpuC,UAAS,YAAyC,IAAtC6rC,EAAsC,EAAtCA,iBAAkBsC,EAAoB,EAApBA,cAC3BI,EAAsB1C,GAAoBsC,EAAc5pD,SACxDiqD,EAAc3B,GAAmB,CACrCtoD,SAAUgqD,EACV3I,QAASkC,EACTrwD,MAAO42D,EACP9H,iBAAkB6H,EAClB5H,cAAc,EACd7B,WAAY,EAAKhqD,MAAMgqD,aAGnB8J,EADO,EAAKC,QAAQF,EAAYjqD,UACNiqD,EAAYlK,WAAWj/C,KACvD,MAAO,CACLyiD,cACAuG,eACAD,0BACAvC,iBAAkBlG,GAAiB,CACjCphD,SAAUgqD,EACVlpD,KAAMopD,EAAmBlkD,MAAM,GAAI,GACnCq7C,QAAS,gBAAGhhD,EAAH,EAAGA,KAAH,mBAAC,eAAmBA,GAApB,IAA0BogD,UAAU,KAC7CL,WAAY,EAAKhqD,MAAMgqD,aAIzBgK,0BAAsB,EACtBL,UAAU,OAIhB,EAAKloC,QAAU,SAACwoC,GACd,IAAQT,EAAkB,EAAK16D,MAAvB06D,cACR,GAAKS,GAQE,GAAIA,EAAWvG,SAAW,EAAKA,OAAQ,CAC5C,IAAQzjD,EAA0BgqD,EAA1BhqD,KAAMS,EAAoBupD,EAApBvpD,KAAMi/C,EAAcsK,EAAdtK,UAChBuK,EAAa,EAAKl0D,MAAMm0D,wBACF,oBAAfD,IACTA,EAAaA,EAAW,CACtBjqD,OACAwnD,cAAe9H,EACf4H,SAAU7mD,KAGd,IAAId,EAAW,EAAK9Q,MAAMo4D,kBAAoBsC,EAAc5pD,SACxDsqD,IACFtqD,EAAWohD,GAAiB,CAC1BphD,SAAU4pD,EAAc5pD,SAExBc,OACAugD,QAAS,gBAASmJ,EAAT,EAAGnqD,KAAH,sBAA8BmqD,IAEvCpK,WAAY,EAAKhqD,MAAMgqD,cAG3B,EAAKhqD,MAAMxB,SAASoL,GACpB,EAAK5J,MAAMq0D,WAAW,CACpBzqD,WACAK,OACA0/C,eAAW,EACXj/C,UAAM,EACNgnD,cAAU,EACVpG,mBAAe,EACfiG,SAAU7mD,EACV+mD,cAAe9H,UArCjB,EAAKtkC,SAAS,CACZ6rC,sBAAkB,EAClB/D,iBAAa,EACbsG,6BAAyB,EACzBC,kBAAc,EACdC,UAAU,KAoChB,EAAKxpC,KAAO,SAAC8pC,GACX,EAAKK,SAASL,IAEhB,EAAK5D,oBAAsB,SAACpmD,GAC1B,IAAQomD,EAAwB,EAAKrwD,MAA7BqwD,oBACR,OAAIA,GACKA,EAAoBpmD,IAI/B,EAAKg9C,QAAUjnD,EAAMu0D,aAAe3nD,IAAMqY,YAC1C,EAAKuvC,UAAYx0D,EAAMy0D,eAAiB,GACxC,MAA4EjC,GAAWxyD,GAA/EixD,EAAR,EAAQA,QAAS4B,EAAjB,EAAiBA,oBAAqBG,EAAtC,EAAsCA,iBAAkBD,EAAxD,EAAwDA,gBAnHvC,OAoHjB,EAAKrF,OAAL,eAAsB6E,IACtBA,IAAiB,EACjB,EAAKtB,QAAUA,GAAW,EAAKvD,OAC/B,EAAKmF,oBA7WU,SAAC5gC,EAAIkhC,EAAW1nC,EAASwlC,GAC1C,IAAMyD,EAAiB,CACrBnpC,UAAW,SAACvrB,GAEV,OADAmzD,EAAUnzD,GACH,CACLiK,KAAMjK,EAAMiK,KACZygD,WAAY1qD,EAAM0qD,WAClBhgD,KAAM1K,EAAM0K,KACZi/C,UAAW3pD,EAAM2pD,UACjB+D,OAAQ1tD,EAAM0tD,SAGlBjiC,QAAS,SAACzrB,EAAO6lB,GACf4F,EAAQ5F,EAAQ8uC,kBAElBluC,WAAY,SAACzmB,EAAO6lB,GAClB,IAAM+uC,EAAiB/uC,EAAQ5kB,UAAUgJ,KAEzC,OADoBjK,EAAMiK,OACH2qD,IAG3B,OAAOjpC,YAAWslC,EAASyD,EAAgB3E,GAApCpkC,CAAiEsG,GAwV3C4iC,CACzBhC,EACA,EAAKM,UACL,EAAK1nC,QACL,EAAKwlC,SAEP,EAAK6D,wBAnVe,SAAC7iC,EAAIy7B,EAAQvjC,EAAM8mC,GACzC,IAAM8D,EAAwB,CAC5B5qC,KAAM,SAACgmC,EAAiBtqC,GACtB,MAAkCA,EAAQ5kB,UACpCoP,EAAS,CACbpG,KAFF,EAAQA,KAGNS,KAHF,EAAcA,KAIZi/C,UAJF,EAAoBA,UAKlB+D,SACA9B,iBAAkB,EAClB9uD,MAAO,GAGT,OADAqtB,EAAK9Z,GACEA,IAGX,OAAOic,YAAW2kC,EAAS8D,EAAuB/E,GAA3C1jC,CAA0D2F,GAmUhC+iC,CAC7BnF,GACA,EAAKnC,OACL,EAAKvjC,KACL,EAAK8mC,SAEP,EAAKgE,uBAAyBC,4BAA4BC,KACxDvoD,IAAM7M,YAAW,SAACq1D,EAAQn1D,GAC8Bm1D,EAA9Cn5C,gBAA8Cm5C,EAA7BnG,UAAzB,IAAuCrB,EAAvC,YAAsDwH,EAAtD,IACA,OAAuBpH,cACrBvJ,GADwB,aAGtBxkD,IAAK,EAAKgnD,QACVhf,YAAa,SAACotB,GAAD,OAAqBp1D,EAAIqS,QAAU+iD,IAC7CzH,QAKX,EAAK0H,UAAYC,iCAAuBxC,GACxC,EAAKyC,UAAYC,mCAAyB1C,GAC1C,EAAKj6D,MAAQ,CACXo4D,sBAAkB,EAClB/D,iBAAa,EACbsG,6BAAyB,EACzBC,kBAAc,EACdgC,cAAe,GACf1B,0BAAsB,EACtBL,UAAU,EAEVH,cAAe,CACb5pD,SAAU,GACV+rD,qBAAqB,EACrBzrD,iBAAa,EACbG,uBAAmB,IAGvB,EAAK2oD,iBAAmBlC,GACtBkC,EACA,EAAK3C,oBACL,EAAK3C,OACL,EAAK1tD,MAAMwK,SACX,EAAKxK,MAAMiqB,QACX,EAAKE,KACL,EAAK6mC,UACL,EAAKC,QACL,EAAKn4D,MAAMo4D,iBACX,EAAKlxD,MAAM4J,SACX,EAAK5J,MAAMgqD,YAEb,EAAKkD,yBAA2B,EAAKA,yBAAyB0I,KAA9B,gBAChC,EAAKtB,SAAW,EAAKA,SAASsB,KAAd,gBAChB,EAAKzC,UAAY,EAAKA,UAAUyC,KAAf,gBACjB,EAAK5E,UAAY,EAAKA,UAAU4E,KAAf,gBACjB,EAAKnqC,QAAU,EAAKA,QAAQmqC,KAAb,gBACf,EAAKzrC,KAAO,EAAKA,KAAKyrC,KAAV,gBACZ,EAAKC,uBAAyB,EAAKA,uBAAuBD,KAA5B,gBArLb,E,qDAwQnB,WACE1C,EAAkB4C,iBAAiB7oD,KAAKjN,MAAOiN,KAAKnU,OACpD,IAAMi9D,EAAc7C,EAAkB7uD,OACpC4I,KAAKjN,MACLiN,KAAKnU,OACL,GACA,GACA,GAEFmU,KAAKoY,SAAS0wC,GACd9oD,KAAK+oD,yBAA2B/oD,KAAKjN,MAAMic,gBAAgB6J,aAAaE,uBAAuB/Y,KAAK4oD,0B,gCAyCtG,SAAmBloC,EAAWylC,GACxBnmD,KAAKnU,MAAM66D,WAAaP,EAAUO,UAAY1mD,KAAKjN,MAAMi2D,oBAC3DhpD,KAAKjN,MAAMi2D,mBAAmB,CAC5BxvC,WAAYxZ,KAAKnU,MAAM66D,SACvBxG,YAAalgD,KAAKnU,MAAMq0D,gB,kCAI9B,WACElgD,KAAK+oD,6B,oCAEP,WAAyB,YACP/oD,KAAKjN,MAAMic,gBAAgB6J,aAC9BW,cAAgBxZ,KAAKnU,MAAMo4D,kBACtC//C,YAAW,WACT,EAAKsa,e,qBAIX,SAAQ7hB,GACN,OAAOuoD,GAA4B,CACjCjI,iBAAiB,EACjBF,WAAY/8C,KAAKjN,MAAMgqD,WACvBpgD,e,sCAGJ,YAAqD,IAApBssD,EAAoB,EAA1BjsD,KAAkBS,EAAQ,EAARA,KACnC8oD,EAAkBvmD,KAAKnU,MAAvB06D,cACF5pD,EAAWohD,GAAiB,CAChCphD,SAAU4pD,EAAc5pD,SACxBc,OACAugD,QAAS,gBAAGhhD,EAAH,EAAGA,KAAH,mBAAC,eAAmBA,GAApB,IAA0BogD,UAAWpgD,EAAKogD,YACnDL,WAAY/8C,KAAKjN,MAAMgqD,aAEzB/8C,KAAKjN,MAAMxB,SAASoL,GACpBqD,KAAKjN,MAAMm2D,mBAAmB,CAC5BvsD,WACAK,KAAMisD,EACN7L,UAAW6L,EAAW7L,SACtB3/C,W,sBAGJ,YAMG,IALDT,EAKC,EALDA,KACMsnD,EAIL,EAJD7mD,KACW+mD,EAGV,EAHD9H,UACA7sD,EAEC,EAFDA,MACA8uD,EACC,EADDA,iBAEA,EAKIW,GAAW,CACb3iD,SAAUqD,KAAKnU,MAAMo4D,iBACrBjG,QAAShhD,EACTnN,QACA8uD,mBACAC,cAAc,EACd7B,WAAY/8C,KAAKjN,MAAMgqD,aAVvBpgD,EADF,EACEA,SACA+/C,EAFF,EAEEA,UACAj/C,EAHF,EAGEA,KACY0rD,EAJd,EAIE1L,WASFz9C,KAAKjN,MAAMxB,SAASoL,GACpBqD,KAAKjN,MAAMq0D,WAAW,CACpBzqD,WACAK,OACA0/C,YACAj/C,OACAgnD,SAAUhnD,EACV4gD,cAAe3B,EACf4H,WACAE,gBACA2E,qB,uBAGJ,SAAUnxD,EAAV,GAA6F,IAA5E8pD,EAA4E,EAA5EA,UAAWhzD,EAAiE,EAAjEA,MAAOozD,EAA0D,EAA1DA,WAAYkH,EAA8C,EAA9CA,UAAW1H,EAAmC,EAAnCA,SAAUC,EAAyB,EAAzBA,UAAWC,EAAc,EAAdA,WACrE5kD,EAA0DhF,EAA1DgF,KAAMygD,EAAoDzlD,EAApDylD,WAAYhgD,EAAwCzF,EAAxCyF,KAAMu/C,EAAkChlD,EAAlCglD,mBAAoBN,EAAc1kD,EAAd0kD,UACpD,EAOI6I,GAAWvlD,KAAKjN,OANlB+J,EADF,EACEA,QACAU,EAFF,EAEEA,kBACA6iD,EAHF,EAGEA,qBACAjjD,EAJF,EAIEA,kBACA+iD,EALF,EAKEA,aACA6B,EANF,EAMEA,UAEIqH,EAAmBrpD,KAAK+lD,iBACxBuD,EAAsBtpD,KAAK4lD,oBAC3B2D,EAAU9rD,EAAKA,EAAK/N,OAAS,GAC7BqwD,EAAgBwJ,KAAWH,EAC3BpJ,EAAgBD,GAAiBqJ,EAAUG,KAAansD,EACxDosD,EAAiB,CACrBxsD,OACAygD,aACAhgD,OACAu/C,qBACAN,YACAqD,gBACAC,iBAEIyJ,EAAYjsD,EAAoBA,EAAkBgsD,GAAkB,GACpEE,EAAgC,oBAAZ5sD,EAAyBA,EAAQ0sD,GAAkB1sD,EACvE6sD,EAAc,CAClBjN,YACA2D,uBACArjD,OACAS,OACAgjD,OAAQzgD,KAAKygD,OACbN,gBAEF,OAAuBY,cACrBsI,EADwB,YAAC,aAGvBv6D,QACAkzD,YACAF,YACAI,aACAlF,qBACA0E,WACAE,aACAD,aACGgI,GAXmB,IAYtBrrD,SAA0ByiD,cACxBuI,EAD2B,YAAC,aAG1B7L,aACAsC,gBACAC,gBACAljD,QAAS4sD,EACTzJ,yBAA0BjgD,KAAKigD,0BAC5B0J,GACAF,MAITF,K,oBAGJ,WAAS,IAoBHK,EACAlI,EACAE,EAtBG,OACP,EAQI2D,GAAWvlD,KAAKjN,OAPlBic,EADF,EACEA,gBACAlgB,EAFF,EAEEA,MACAnC,EAHF,EAGEA,UACA+4D,EAJF,EAIEA,WACAG,EALF,EAKEA,oBACA9I,EANF,EAMEA,WACAoD,EAPF,EAOEA,aAEF,EAOIngD,KAAKnU,MANP48D,EADF,EACEA,cACA1B,EAFF,EAEEA,qBACA7G,EAHF,EAGEA,YACAuG,EAJF,EAIEA,aACAD,EALF,EAKEA,wBACAD,EANF,EAMEA,cAEI5pD,EAAWqD,KAAKnU,MAAMo4D,kBAAoBsC,EAAc5pD,SACxDmkD,EAAqC,QAAjBX,EAAyB,gBAAa,EAIhE,GAAID,QAA2C,IAA5BsG,EAAoC,CACrD,IAAMI,EAAc3B,GAAmB,CACrCtoD,WACAqhD,QAASkC,EACTrwD,MAAO42D,EACP9H,iBAAkB6H,EAClB5H,cAAc,EACd7B,eAEI8M,EAASrD,EACf9E,EAAWkF,EAAYlK,UACvBkF,EAAa,EAAIyD,GAA2B,CAAEroD,KAAMkjD,IACpD0J,EA7hBY,SAACA,EAAME,EAAWC,GAAuB,IAAdv3D,EAAc,uDAAN,EAC7Cw3D,EAAmB,GAAH,mBACjBJ,EAAKjnD,MAAM,EAAGmnD,IADG,YAEjBF,EAAKjnD,MAAMmnD,EAAYt3D,KAE5B,MAAO,GAAP,mBACKw3D,EAAiBrnD,MAAM,EAAGonD,IAD/B,YAEKH,EAAKjnD,MAAMmnD,EAAWA,EAAYt3D,IAFvC,YAGKw3D,EAAiBrnD,MAAMonD,KAqhBjBE,CACLjqD,KAAK8mD,QAAQF,EAAYjqD,UACzB+kD,EACAmI,EACAjI,QAGFgI,EAAO5pD,KAAK8mD,QAAQnqD,GAEtB,IA5CO,EA4CDysD,EAAY,GA5CX,cA6CqBX,EAActwB,WA7CnC,IA6CP,IAAK,EAAL,qBAAqD,8BAAzC3oB,EAAyC,KAApC/R,EAAoC,KAApCA,KACf2rD,EAAU3rD,EAAKA,EAAK/N,OAAS,IAAM8f,GA9C9B,mCAgDsB,IAAzBu3C,GACF/mD,KAAKg6C,QAAQ30C,QAAQs/B,cAAc,CACjC9yC,MAAOk1D,EACPtiB,MAAO,WAGX,IACIylB,EADAzU,EAAiB3mD,EAErB,GAAoB,IAAhB86D,EAAKl6D,OAAc,CACrB,IAAMy6D,EAAcnqD,KAAK6nD,wBACnBuC,EAAqBvE,EAC3BqE,EAAuBnJ,cAAIoJ,EAAa,CAAE1J,OAAQzgD,KAAKygD,OAAQvjC,KAAMld,KAAKkd,KAAM5e,SAA0ByiD,cAAIqJ,EAAoB,UAC7H,CACL3U,EAAiB,aAAEpjD,OAAQ,QAAWojD,GACtC,IAAM4U,EAAwBrqD,KAAKgoD,sBACnCkC,EAAuBnJ,cACrBsJ,EADwB,aAGtBv8D,KAAM87D,EACN56C,kBACAs7C,iBAAkBtqD,KAAKqoD,UACvBkC,mBAAoBvqD,KAAKuoD,UACzB57D,UAAW,6BACXmC,MAAO42D,EACPnS,YAAa,SAAC1hD,GAAD,OAAW,EAAK24D,UAAUZ,EAAK/3D,GAAQ,CAClDiwD,UAAWjwD,EACXqwD,WAAY,kBAAM0H,EAAK/3D,EAAQ,SAAM,GACrCu3D,YACA1H,WACAC,UAAW8E,EACX7E,iBAEC5hD,KAAKunD,YAId,OAAuBxG,cACrB,MACA,CACEp0D,UAAWgS,GAAW,YAAahS,EAAWm0D,GAC9ChyD,MAAO2mD,EACPn3C,SAAU4rD,O,qBArWhB,SAAcn3D,EAAOlH,EAAO4+D,EAAWC,EAAQC,GAC7C,IACEp5D,EAOEwB,EAPFxB,SACAwrD,EAMEhqD,EANFgqD,WACA1/C,EAKEtK,EALFsK,qBACAJ,EAIElK,EAJFkK,YACAF,EAGEhK,EAHFgK,aACAK,EAEErK,EAFFqK,kBACAwtD,EACE73D,EADF63D,wBAEMrE,EAAkB16D,EAAlB06D,cACR,IAAKtpD,IAAgBF,EAInB,OAHIM,GACFA,EAAqB,IAEhB,CAAEorD,cAAe,IAE1B,IAoBI1B,EApBE8D,EAAW,CAAEtE,cAAe,IAClC,EAv2BS,SAAC,GAQR,IAPJxJ,EAOI,EAPJA,WACApgD,EAMI,EANJA,SACAM,EAKI,EALJA,YACAF,EAII,EAJJA,aACAK,EAGI,EAHJA,kBAGI,IAFJ0tD,2BAEI,aADJC,6BACI,SACAC,EAAa,EA4DX5nD,EA3DO,SAAP6nD,EAAQ,GAA4D,QAA1D/N,oBAA0D,SAApClgD,EAAoC,EAApCA,KAAM4V,EAA8B,EAA9BA,aAA8B,IAAhBnV,YAAgB,MAAT,GAAS,EACpEH,EAAU,GACV4tD,GAAc,EACdC,GAAgB,EACdhO,EAAWD,EAAe,GAAH,sBAAYz/C,GAAZ,CAAkBs/C,EAAW,CAAE//C,OAAM0/C,UAAW9pC,MACvEw4C,EAAYlO,OAAe,EAAS,CACxCz/C,KAAM0/C,EACNT,UAAW9pC,GAEPy4C,EAAcruD,EAAKsB,UAAqC,oBAAlBtB,EAAKsB,UAA2BtB,EAAKsB,SAAS5O,OAAS,GAC9FwtD,GAAgBngD,EAAa,2BAAKquD,GAAN,IAAiBpuD,OAAMC,mBAClD+tD,IAAe5tD,IACjB+tD,GAAgB,GAElBH,GAAc,EACdE,GAAc,GAEhB,IAAI7N,EAAazqC,EACXorC,EAAU,eAAKhhD,GAkCrB,OAjCIquD,IACFrN,EAAQ1/C,SAAW0/C,EAAQ1/C,SAAS3M,KAAI,SAACsZ,GACvC,IAAM4yC,EAAYoN,EAAK,CACrBjuD,KAAMiO,EACN2H,aAAcyqC,EAAa,EAC3B5/C,KAAM0/C,IAgBR,OAdIU,EAAU7gD,KAAKogD,SACjBC,EAAaQ,EAAUnB,UAEvBW,GAAc,GAEZQ,EAAUvgD,QAAQ5N,OAAS,GAAKmuD,EAAUsN,iBAC5C7tD,EAAU,GAAH,mBAAOA,GAAP,YAAmBugD,EAAUvgD,UAChCugD,EAAUsN,gBACZA,GAAgB,IAEdL,GAAuBjN,EAAUvgD,QAAQ5N,OAAS,IAAMo7D,GAAuBC,IAA0BlN,EAAUsN,iBACrHnN,EAAQZ,UAAW,IAGhBS,EAAU7gD,SAGhBkgD,GAAiBc,EAAQZ,WAC5B9/C,EAAUA,EAAQ3L,KAAI,SAAC6sC,GAAD,mBAAC,eAClBA,GADiB,IAEpBke,eAAW,QAGXwO,IACF5tD,EAAU,CAAC,2BAAK8tD,GAAT,IAAoBpuD,KAAMghD,KAA1B,mBAAwC1gD,KAE1C,CACLN,KAAMM,EAAQ5N,OAAS,EAAIsuD,EAAUhhD,EACrCM,UACA6tD,gBACAzO,UAAWW,GAGA4N,CAAK,CAClBjuD,KAAM,CAAEsB,SAAU3B,GAClBugD,cAAc,EACdtqC,cAAe,IAEjB,MAAO,CACLtV,QAAS8F,EAAO9F,QAChBX,SAAUyG,EAAOpG,KAAKsB,UA2xByCg/B,CAAK,CAClEyf,aACApgD,SAAUiuD,EAA0B9M,GAAqB,CACvDnhD,SAAU4pD,EAAc5pD,SACxBygD,UAAU,IACPmJ,EAAc5pD,SACnBM,cACAF,aAAcA,GAAgB6/C,GAC9Bx/C,oBACA0tD,oBAAqBJ,IAAWC,EAChCI,wBAAyBL,IAVTY,EAAlB,EAAQ3uD,SAAqC8rD,EAA7C,EAAoCnrD,QAyBpC,OAbIotD,IACFG,EAAStE,cAAcmC,qBAAsB,EAC7Cn3D,EAAS+5D,IAEPjuD,GACFA,EAAqBorD,GAGnBgC,QAAmC,IAAtBrtD,GAAgCA,EAAoBqrD,EAAc/4D,SACjFq3D,EAAuB0B,EAAcrrD,GAAmBs/C,WAE1DmO,EAASpC,cAAgBA,EACzBoC,EAAS9D,qBAAuBA,EACzB8D,I,8BAIT,SAAwB93D,EAAOlH,GAC7B,IAAQ06D,EAAkB16D,EAAlB06D,cACR1oB,GAAK,CACHlhC,SAAU4pD,EAAc5pD,SACxBogD,WAAYhqD,EAAMgqD,WAClBhmB,SAAU,YAAmD,IAAhD/5B,EAAgD,EAAhDA,KAAMS,EAA0C,EAA1CA,KAAMu/C,EAAoC,EAApCA,mBAAoBN,EAAgB,EAAhBA,UACvC1/C,EAAKsB,UAAqC,oBAAlBtB,EAAKsB,WAA4BtB,EAAKogD,UAAYrqD,EAAMw4D,4BAClFvuD,EAAKsB,SAAS,CACZtB,OACAS,OACAu/C,qBACAN,YAEAzsC,KAAM,SAACu7C,GAAD,OAAmBz4D,EAAMxB,SAC7BwsD,GAAiB,CACfphD,SAAU4pD,EAAc5pD,SACxBc,OACAugD,QAAS,gBAASyN,EAAT,EAAGzuD,KAAH,OAGPyuD,IAAYzuD,EAAZ,2BACKyuD,GADL,IAEEntD,SAAUktD,IACRC,GAEN1O,WAAYhqD,EAAMgqD,sB,sCAoBhC,SAAgC1kC,EAAW8tC,GACzC,IAAQI,EAAkBJ,EAAlBI,cACFsE,EAAW,GACXa,EAAmB,eAAKnF,GACxBoF,EAAkBC,IAAQrF,EAAc5pD,SAAU0b,EAAU1b,UAgClE,OA/BA+uD,EAAiB/uD,SAAW0b,EAAU1b,SACjCgvD,EAgBOC,IAAQrF,EAActpD,YAAaob,EAAUpb,aAK9CspD,EAAcnpD,oBAAsBib,EAAUjb,mBACvDtQ,OAAOulB,OACLw4C,EACA5E,EAAkB7uD,OAAOihB,EAAW8tC,GAAW,GAAM,GAAM,IAP7Dr5D,OAAOulB,OACLw4C,EACA5E,EAAkB7uD,OAAOihB,EAAW8tC,GAAW,GAAM,GAAM,KAlBzDI,EAAcmC,oBAChBgD,EAAiBhD,qBAAsB,GAEvCmC,EAAS9D,0BAAuB,EAChCd,EAAkB4C,iBAAiBxwC,EAAW8tC,GAC9Cr5D,OAAOulB,OACLw4C,EACA5E,EAAkB7uD,OAAOihB,EAAW8tC,GAAW,GAAO,GAAO,KAGjE0E,EAAS5G,sBAAmB,EAC5B4G,EAAS3K,iBAAc,EACvB2K,EAASrE,6BAA0B,EACnCqE,EAASpE,kBAAe,EACxBoE,EAASnE,UAAW,GAYtBgF,EAAiBzuD,YAAcob,EAAUpb,YACzCyuD,EAAiBtuD,kBAAoBib,EAAUjb,kBAC/CytD,EAAStE,cAAT,2BAA8BmF,GAAqBb,EAAStE,eACrDsE,M,GAzTqBplD,aAmiBhCwgD,GAAkBpnD,aAAe,CAC/B/B,SAAS,EACTkgB,aAAS,EACTomC,oBAAqB,kBAAM,GAC3Bz2D,UAAW,GACXq3D,aAAS,EACTxmD,uBAAmB,EACnBu/C,WAl4DwB,SAAC,GAAD,SAAGL,WAm4D3BgJ,WAAY,GACZnoD,cAAU,EACVwoD,sBAAkB,EAClBH,yBAAqB,EACrBwB,WAAY,aAEZ8B,mBAAoB,aAEpBrD,yBAAqB,EACrBxF,0BAAsB,EACtBhjD,0BAAsB,EACtBD,uBAAmB,EACnBL,kBAAc,EACdE,iBAAa,EACbiqD,yBAAyB,EACzBpB,qBAAiB,EACjBh3D,MAAO,GACP22D,MAAO,GACPuD,mBAAoB,aAEpB4B,yBAAyB,EACzBzK,aAAc,MACdvuC,WAAW,EACXm4B,SAAU,GAEZ,IAAM8hB,GAAgC,SAAS94D,GAC7C,OAAuBguD,cAAIjyC,IAAW4J,SAAU,CAAEpa,SAAU,gBAAG0Q,EAAH,EAAGA,gBAAH,YAA6C,IAApBA,OAA6B,EAAyB+xC,cAAIkF,GAAD,YAAC,eAAwBlzD,GAAzB,IAAgCic,yBAE1K88C,GAAe,SAAS/4D,GAC5B,OAAuBguD,cAAIzvC,IAAa,CAAEM,UAAW7e,EAAM6e,UAAWH,QAASye,GAAc5xB,SAA0ByiD,cAAI8K,GAAD,eAAqC94D,Q,oBCx6DjK,IAAI0iB,EAAiB,EAAQ,KAC7B,SAASsU,EAAQC,EAAQC,GACvB,IAAIl9B,EAAOD,OAAOC,KAAKi9B,GACvB,GAAIl9B,OAAOmkB,sBAAuB,CAChC,IAAIiZ,EAAUp9B,OAAOmkB,sBAAsB+Y,GAC3CC,IAAmBC,EAAUA,EAAQxH,QAAO,SAAUyH,GACpD,OAAOr9B,OAAOs9B,yBAAyBJ,EAAQG,GAAK7U,eACjDvoB,EAAKqd,KAAKpG,MAAMjX,EAAMm9B,GAE7B,OAAOn9B,EAaT6V,EAAOC,QAXP,SAAwBnR,GACtB,IAAK,IAAI8d,EAAI,EAAGA,EAAI9K,UAAUhV,OAAQ8f,IAAK,CACzC,IAAIqB,EAAS,MAAQnM,UAAU8K,GAAK9K,UAAU8K,GAAK,GACnDA,EAAI,EAAIua,EAAQj9B,OAAO+jB,IAAS,GAAIlQ,SAAQ,SAAUxT,GACpDsoB,EAAe/jB,EAAQvE,EAAK0jB,EAAO1jB,OAChCL,OAAOw9B,0BAA4Bx9B,OAAOy0B,iBAAiB7vB,EAAQ5E,OAAOw9B,0BAA0BzZ,IAAWkZ,EAAQj9B,OAAO+jB,IAASlQ,SAAQ,SAAUxT,GAC5JL,OAAO2oB,eAAe/jB,EAAQvE,EAAKL,OAAOs9B,yBAAyBvZ,EAAQ1jB,OAG/E,OAAOuE,GAEwBkR,EAAOC,QAAQsM,YAAa,EAAMvM,EAAOC,QAAiB,QAAID,EAAOC,S,oBCtBtG,IAAIkpD,EAA+B,EAAQ,KAgB3CnpD,EAAOC,QAfP,SAAkCgO,EAAQC,GACxC,GAAc,MAAVD,EAAgB,MAAO,GAC3B,IACI1jB,EAAKqiB,EADL9d,EAASq6D,EAA6Bl7C,EAAQC,GAElD,GAAIhkB,OAAOmkB,sBAAuB,CAChC,IAAIC,EAAmBpkB,OAAOmkB,sBAAsBJ,GACpD,IAAKrB,EAAI,EAAGA,EAAI0B,EAAiBxhB,OAAQ8f,IACvCriB,EAAM+jB,EAAiB1B,GACnBsB,EAAS3T,QAAQhQ,IAAQ,GACxBL,OAAO2U,UAAU0P,qBAAqB/O,KAAKyO,EAAQ1jB,KACxDuE,EAAOvE,GAAO0jB,EAAO1jB,IAGzB,OAAOuE,GAEkCkR,EAAOC,QAAQsM,YAAa,EAAMvM,EAAOC,QAAiB,QAAID,EAAOC,S,yJCdhH/V,OAAO2oB,eAAe5S,EAAS,aAAc,CAAEvR,OAAO,IAEtD,IAAI06D,EAAaC,EAAQ,GACrBC,EAAQD,EAAQ,GAChBE,EAAQF,EAAQ,IAChBG,EAAWH,EAAQ,KACnBI,EAAWJ,EAAQ,KAEvB,SAASK,EAAuB96D,GAAK,OAAOA,GAAkB,kBAANA,GAAkB,YAAaA,EAAIA,EAAI,CAAE,QAAWA,GAE5G,IAAI+6D,EAA8BD,EAAsBH,GACpDK,EAAiCF,EAAsBF,GAIrDK,EAAa,SAAC3qD,EAAKF,EAAK2hC,GAAX,OAAmB5pC,KAAKirB,MAAMjrB,KAAKmI,IAAIF,EAAKjI,KAAKiI,IAAIE,EAAKyhC,MAiBvEilB,EAA2B,SAAAkE,GAAO,OAAI,WAKzC9sB,GAAU,IAJX50B,EAIW,EAJXA,EACA2hD,EAGW,EAHXA,EACApnC,EAEW,EAFXA,EACAqnC,EACW,EADXA,EAEMC,EAASlzD,KAAKmI,IAAI6qD,EAAI,EAAGD,GAI/B,GAHgB9sB,EAAM50B,GAAKA,GAAK40B,EAAM50B,GAAKA,EAAI2hD,GACtB/sB,EAAMra,GAAKA,GAAKqa,EAAMra,GAAKA,EAAIqnC,EAE7C,CACT,GAAIhtB,EAAM50B,EAAIA,EAAI6hD,EAChB,OAAQjtB,EAAM50B,EAAIA,EAAI6hD,GAAUA,EAGlC,GAAIjtB,EAAM50B,EAAIA,EAAI2hD,EAAIE,EACpB,QAAS7hD,EAAI2hD,EAAI/sB,EAAM50B,EAAI6hD,GAAUA,EAIzC,OAAO,IAEHvE,EAAyB,SAAAoE,GAAO,OAAI,WAKvC9sB,GAAU,IAJXra,EAIW,EAJXA,EACAqnC,EAGW,EAHXA,EACA5hD,EAEW,EAFXA,EACA2hD,EACW,EADXA,EAEME,EAASlzD,KAAKmI,IAAI8qD,EAAI,EAAGF,GAI/B,GAHgB9sB,EAAMra,GAAKA,GAAKqa,EAAMra,GAAKA,EAAIqnC,GACtBhtB,EAAM50B,GAAKA,GAAK40B,EAAM50B,GAAKA,EAAI2hD,EAE7C,CACT,GAAI/sB,EAAMra,EAAIA,EAAIsnC,EAChB,OAAQjtB,EAAMra,EAAIA,EAAIsnC,GAAUA,EAGlC,GAAIjtB,EAAMra,EAAIA,EAAIqnC,EAAIC,EACpB,QAAStnC,EAAIqnC,EAAIhtB,EAAMra,EAAIsnC,GAAUA,EAIzC,OAAO,IAEHC,EAA4BtE,EA7CX,KA8CjBuE,EAA0BzE,EA9CT,KA+CjBzpD,EAAe,CACnBmuD,eAlEW,aAmEX1C,iBAAkByC,EAClBxC,mBAAoBuC,EACpBG,mBAAoB,IAEhBhF,EAA2B,SAAAiF,GA4I/B,OAAOX,EAAc,SA3IM,SAAAx5D,GAIzB,IAAIo6D,EAHJp6D,EAAQ,EAAH,KAAQ8L,GACR9L,GAGL,IACIq6D,EADEC,EAAkBnB,EAAMl0C,YAE1Bs1C,EAAS,EACTC,EAAS,EACTC,GAAW,EACX9G,GAAW,EACT+G,EAAkBjB,EAAiB,SAAY,SAAAkB,GACnD,MAKIP,EAAU/nC,wBACRuoC,EAAM,CACV3iD,EAPF,EACEsa,KAOAC,EARF,EAEEF,IAOAsnC,EATF,EAGEr6D,MAOAs6D,EAVF,EAIEv6D,QAQIu7D,EA5FM,SAAAF,GAChB,MAAiB,cAAbA,EAAI/9D,KACC,CACLqb,EAAG0iD,EAAIG,eAAe,GAAGpoC,QACzBF,EAAGmoC,EAAIG,eAAe,GAAGnoC,SAItB,CACL1a,EAAG0iD,EAAIjoC,QACPF,EAAGmoC,EAAIhoC,SAkFUooC,CAAUJ,GACzBJ,EAASv6D,EAAMw3D,mBAAmBoD,EAAKC,GACvCL,EAASx6D,EAAMu3D,iBAAiBqD,EAAKC,GAEhCR,IAAUE,IAAUC,GACvBQ,MAED,IAAK,CACNrqD,UAAU,IAEZwoD,EAAMp7D,WAAU,YACdq8D,EAAYE,EAAgBhoD,UAE2B,oBAA/B8nD,EAAU3+B,kBAChC2+B,EAAU3+B,iBAAiB,WAAYw/B,GAGzChkD,OAAOpC,SAASojB,KAAKwD,iBAAiB,YAAaw/B,GACnD,IAAMjF,EAA2Bh2D,EAAMic,gBAAgB6J,aAAaE,wBAAuB,kBAAMk1C,OACjG,OAAO,WACDd,GAAsD,oBAAlCA,EAAU1+B,qBAChC0+B,EAAU1+B,oBAAoB,WAAYu/B,GAG5ChkD,OAAOpC,SAASojB,KAAKyD,oBAAoB,YAAau/B,GACtDjF,IACAmF,OAED,IAEH,IAAMF,EAAc,SAAAN,GACdhH,IAAa8G,IACfW,IACAV,EAAgBC,KAIdO,EAAsB,WAC1B,IAAMz0C,EAAazmB,EAAMic,gBAAgB6J,aAAaW,cAEjDktC,GAAYltC,EACfktC,GAAW,EACFA,IAAaltC,IACtBktC,GAAW,EACXwH,MAIEC,EAAS,WACbX,GAAW,EACXxjD,OAAOpC,SAASojB,KAAKwD,iBAAiB,WAAYi/B,GAClDzjD,OAAOpC,SAASojB,KAAKwD,iBAAiB,YAAai/B,IAS/CM,EAAiB,WACrB,IAAIv+C,EAAI,GAEK,SAAP4+C,IACJ,GAAiC,IAA7Br7D,EAAMk6D,oBAA4BK,EAASC,IAAW,EAA1D,CAOA,IAFA/9C,GAAK,GAEG,EAAG,CACT,MAOI29C,EANFkB,EADF,EACEA,WACAz0B,EAFF,EAEEA,UACA00B,EAHF,EAGEA,YACAx0B,EAJF,EAIEA,aACAy0B,EALF,EAKEA,YACAC,EANF,EAMEA,aAEIC,EAAUnB,EAASH,EAAUkB,WAAa5B,EAAW,EAAG6B,EAAcC,EAAaF,EAAaf,EAASv6D,EAAMk6D,oBAAsBoB,EACrIK,EAASnB,EAASJ,EAAUvzB,UAAY6yB,EAAW,EAAG3yB,EAAe00B,EAAc50B,EAAY2zB,EAASx6D,EAAMk6D,oBAAsBrzB,EAC1I7mC,EAAMi6D,eAAeyB,EAASC,GAGhCtB,EAAQlsC,sBAAsBktC,QApB5BF,IAuBJE,IAGIF,EAAgB,WApCpBV,GAAW,EACXxjD,OAAOpC,SAASojB,KAAKyD,oBAAoB,WAAYg/B,GACrDzjD,OAAOpC,SAASojB,KAAKyD,oBAAoB,YAAag/B,GAoCtDH,EAAS,EACTC,EAAS,EAELH,IACFl/B,qBAAqBk/B,GACrBA,OAAQrpD,IAIZ,EAMIhR,EADCuP,GALL,EACE2qD,mBADF,EAEE3C,iBAFF,EAGEC,mBAHF,EAIEyC,eAJF,QAOA,OAAOhB,EAAWjL,IAAImM,EAAf,GACLl6D,IAAKq6D,GACF/qD,MAI8C4qD,IAgBvDrqD,EAAQ2lD,yBAA2BA,EACnC3lD,EAAQolD,yBAA2BA,EACnCplD,EAAQylD,uBAAyBA,EACjCzlD,EAAO,QAhBsC,SAAAqqD,GAC3C,IAAMyB,EAAqB1G,EAAyBiF,GACpD,OAAO,SAAAn6D,GACL,OAAOi5D,EAAWjL,IAAIsL,EAASv9C,WAAW4J,SAAU,CAClDpa,SAAU,gBACR0Q,EADQ,EACRA,gBADQ,YAEgBjL,IAApBiL,OAAgCjL,EAAYioD,EAAWjL,IAAI4N,EAAf,OAAwC57D,GAAxC,IAChDic,gBAAiBA,UAUzBnM,EAAQiqD,0BAA4BA,EACpCjqD,EAAQkqD,wBAA0BA,G,qBCvPlC,YAUA,IAAI6B,EAAkB,sBASlB/tD,EAAS,aAGTC,EAAa,qBAGbC,EAAa,aAGbC,EAAY,cAGZC,EAAelF,SAGfmF,EAA8B,iBAAVC,GAAsBA,GAAUA,EAAOrU,SAAWA,QAAUqU,EAGhFC,EAA0B,iBAARC,MAAoBA,MAAQA,KAAKvU,SAAWA,QAAUuU,KAGxEC,EAAOJ,GAAcE,GAAYG,SAAS,cAATA,GAUjCC,EAPc1U,OAAO2U,UAOQC,SAG7BC,EAAYhI,KAAKiI,IACjBC,EAAYlI,KAAKmI,IAkBjBC,EAAM,WACR,OAAOT,EAAKU,KAAKD,OAyDnB,SAAS9K,EAAS6L,EAAMC,EAAMC,GAC5B,IAAIC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAAiB,EACjBC,GAAU,EACVC,GAAS,EACTC,GAAW,EAEf,GAAmB,mBAARZ,EACT,MAAM,IAAIa,UAAUirD,GAUtB,SAAShrD,EAAWC,GAClB,IAAI7E,EAAOiE,EACPa,EAAUZ,EAKd,OAHAD,EAAWC,OAAWa,EACtBR,EAAiBM,EACjBT,EAASN,EAAKkB,MAAMF,EAAS9E,GAI/B,SAASiF,EAAYJ,GAMnB,OAJAN,EAAiBM,EAEjBR,EAAUa,WAAWC,EAAcpB,GAE5BS,EAAUI,EAAWC,GAAQT,EAWtC,SAASgB,EAAaP,GACpB,IAAIQ,EAAoBR,EAAOP,EAM/B,YAAyBS,IAAjBT,GAA+Be,GAAqBtB,GACzDsB,EAAoB,GAAOZ,GANJI,EAAON,GAM8BJ,EAGjE,SAASgB,IACP,IAAIN,EAAO9B,IACX,GAAIqC,EAAaP,GACf,OAAOS,EAAaT,GAGtBR,EAAUa,WAAWC,EAzBvB,SAAuBN,GACrB,IAEIT,EAASL,GAFWc,EAAOP,GAI/B,OAAOG,EAAS5B,EAAUuB,EAAQD,GAHRU,EAAON,IAGkCH,EAoBhCmB,CAAcV,IAGnD,SAASS,EAAaT,GAKpB,OAJAR,OAAUU,EAINL,GAAYT,EACPW,EAAWC,IAEpBZ,EAAWC,OAAWa,EACfX,GAeT,SAASoB,IACP,IAAIX,EAAO9B,IACP0C,EAAaL,EAAaP,GAM9B,GAJAZ,EAAWyB,UACXxB,EAAWlD,KACXsD,EAAeO,EAEXY,EAAY,CACd,QAAgBV,IAAZV,EACF,OAAOY,EAAYX,GAErB,GAAIG,EAGF,OADAJ,EAAUa,WAAWC,EAAcpB,GAC5Ba,EAAWN,GAMtB,YAHgBS,IAAZV,IACFA,EAAUa,WAAWC,EAAcpB,IAE9BK,EAIT,OAxGAL,EAAOb,EAASa,IAAS,EACrBd,EAASe,KACXQ,IAAYR,EAAQQ,QAEpBL,GADAM,EAAS,YAAaT,GACHrB,EAAUO,EAASc,EAAQG,UAAY,EAAGJ,GAAQI,EACrEO,EAAW,aAAcV,IAAYA,EAAQU,SAAWA,GAiG1Dc,EAAUG,OAnCV,gBACkBZ,IAAZV,GACFuB,aAAavB,GAEfE,EAAiB,EACjBN,EAAWK,EAAeJ,EAAWG,OAAUU,GA+BjDS,EAAUK,MA5BV,WACE,YAAmBd,IAAZV,EAAwBD,EAASkB,EAAavC,MA4BhDyC,EA0FT,SAASvC,EAAS3Q,GAChB,IAAI3B,SAAc2B,EAClB,QAASA,IAAkB,UAAR3B,GAA4B,YAARA,GA4EzC,SAASuS,EAAS5Q,GAChB,GAAoB,iBAATA,EACT,OAAOA,EAET,GAhCF,SAAkBA,GAChB,MAAuB,iBAATA,GAtBhB,SAAsBA,GACpB,QAASA,GAAyB,iBAATA,EAsBtB6Q,CAAa7Q,IAvXF,mBAuXYkQ,EAAeY,KAAK9Q,GA8B1C+Q,CAAS/Q,GACX,OAzZM,IA2ZR,GAAI2Q,EAAS3Q,GAAQ,CACnB,IAAIgR,EAAgC,mBAAjBhR,EAAMiR,QAAwBjR,EAAMiR,UAAYjR,EACnEA,EAAQ2Q,EAASK,GAAUA,EAAQ,GAAMA,EAE3C,GAAoB,iBAAThR,EACT,OAAiB,IAAVA,EAAcA,GAASA,EAEhCA,EAAQA,EAAMkR,QAAQ3B,EAAQ,IAC9B,IAAI4B,EAAW1B,EAAW2B,KAAKpR,GAC/B,OAAQmR,GAAYzB,EAAU0B,KAAKpR,GAC/B2P,EAAa3P,EAAMqR,MAAM,GAAIF,EAAW,EAAI,GAC3C3B,EAAW4B,KAAKpR,GAtab,KAsa6BA,EAGvCsR,EAAOC,QA9IP,SAAkBC,EAAMC,EAAMC,GAC5B,IAAIQ,GAAU,EACVE,GAAW,EAEf,GAAmB,mBAARZ,EACT,MAAM,IAAIa,UAAUirD,GAMtB,OAJI3sD,EAASe,KACXQ,EAAU,YAAaR,IAAYA,EAAQQ,QAAUA,EACrDE,EAAW,aAAcV,IAAYA,EAAQU,SAAWA,GAEnDzM,EAAS6L,EAAMC,EAAM,CAC1B,QAAWS,EACX,QAAWT,EACX,SAAYW,O,oHCtTF,MAAd,eAAyB,qB,4FAAzB,EAAyB,I,+DAAzB,EAAyB,U,UACX,MAAd,eAA0B,qB,4FAA1B,EAA0B,I,+DAA1B,EAA0B,U,UACZ,MAAd,eAA8B,qB,4FAA9B,EAA8B,I,+DAA9B,EAA8B,U,UAChB,M,ySAAd,eAAgC,qB,4FAAhC,EAAgC,I,+DAAhC,EAAgC,W,oFCYhBmrD,KAAT,SAAcv7C,GACpBw7C,EAAUz7C,YAAY07C,EAAYr7C,OAAOJ,KAhBhB,MAAgB,EAAhB,KACE,EAAkB,EAAlB,KAGtBw7C,EAAY,IAAIx8C,EAAS,UACzBy8C,EAAc,IAAIx7C,EAAW,YAACu7C,EAAU/7C,uB,kCCC9C,Y,mDAIgBI,2B,EAwBA67C,sC,yBA5BhB,IAAMC,EAA0B,qBAAX9tD,EAAyBA,EAASE,KACjD6tD,EACJD,EAAcE,kBAAqBF,EAAcG,uBAE5C,SAASj8C,EAAyB4jB,GACxC,OAAO,WAKN,IAAMs4B,EAAgBnrD,WAAWorD,EAAa,GAIxCC,EAAiBC,YAAYF,EAAa,IAEhD,SAASA,IAGR1qD,aAAayqD,GACbI,cAAcF,GACdx4B,MAOI,SAASi4B,EAAoCj4B,GACnD,IAAIxpC,EAAS,EACP2qC,EAAW,IAAIg3B,EAAwBn4B,GACvC/5B,EAAO4K,SAAS8nD,eAAe,IAErC,OADAx3B,EAASI,QAAQt7B,EAAM,CAAE2yD,eAAe,IACjC,WACNpiE,GAAUA,EACRyP,EAAalP,KAAOP,GAIjB,IAAM2lB,EACuB,oBAA5Bg8C,EAYJF,EA4BA77C,E,EAzCSD,oB,+ICxCAU,E,WAGZ,WACSJ,EACAo8C,GACP,U,KAFOp8C,U,KACAo8C,U,KAJFt8C,KAAsB,K,8BAOtBlR,WACN,IACCpC,KAAKsT,MAAQtT,KAAKsT,OACjB,MAAOhkB,GACR0Q,KAAKwT,QAAQlkB,GAHd,QAKC0Q,KAAKsT,KAAO,KACZtT,KAAK4vD,QAAQ5vD,W,OAfH4T,W,oHCCbhR,EAAOC,QAAU,SAASyY,EAAMplB,EAAGotB,GACjC,GAAIptB,IAAMotB,EAAG,OAAO,EAEpB,GAAIptB,GAAKotB,GAAiB,iBAALptB,GAA6B,iBAALotB,EAAe,CAC1D,GAAIptB,EAAE+O,cAAgBqe,EAAEre,YAAa,OAAO,EAE5C,IAAIvV,EAAQ8f,EAAGziB,EACf,GAAI4O,MAAM4K,QAAQrQ,GAAI,CAEpB,IADAxG,EAASwG,EAAExG,SACG4zB,EAAE5zB,OAAQ,OAAO,EAC/B,IAAK8f,EAAI9f,EAAgB,IAAR8f,KACf,IAAK8L,EAAMplB,EAAEsZ,GAAI8T,EAAE9T,IAAK,OAAO,EACjC,OAAO,EAKT,GAAItZ,EAAE+O,cAAgB4qD,OAAQ,OAAO35D,EAAE2a,SAAWyS,EAAEzS,QAAU3a,EAAEg8C,QAAU5uB,EAAE4uB,MAC5E,GAAIh8C,EAAEqM,UAAYzV,OAAO2U,UAAUc,QAAS,OAAOrM,EAAEqM,YAAc+gB,EAAE/gB,UACrE,GAAIrM,EAAEwL,WAAa5U,OAAO2U,UAAUC,SAAU,OAAOxL,EAAEwL,aAAe4hB,EAAE5hB,WAIxE,IADAhS,GADA3C,EAAOD,OAAOC,KAAKmJ,IACLxG,UACC5C,OAAOC,KAAKu2B,GAAG5zB,OAAQ,OAAO,EAE7C,IAAK8f,EAAI9f,EAAgB,IAAR8f,KACf,IAAK1iB,OAAO2U,UAAUuT,eAAe5S,KAAKkhB,EAAGv2B,EAAKyiB,IAAK,OAAO,EAEhE,IAAKA,EAAI9f,EAAgB,IAAR8f,KAAY,CAC3B,IAAIriB,EAAMJ,EAAKyiB,GAEf,IAAK8L,EAAMplB,EAAE/I,GAAMm2B,EAAEn2B,IAAO,OAAO,EAGrC,OAAO,EAIT,OAAO+I,IAAIA,GAAKotB,IAAIA,I,qBC5CtB,cAUA,IAGIwsC,EAAiB,4BAOjBC,EAAmB,iBAGnBC,EAAU,qBACVC,EAAW,iBAEXC,EAAU,mBACVC,EAAU,gBACVC,EAAW,iBACXC,EAAU,oBAEVC,EAAS,eACTC,EAAY,kBAEZC,EAAY,kBACZC,EAAa,mBAEbC,EAAY,kBACZC,EAAS,eACTC,EAAY,kBACZC,EAAY,kBAEZC,EAAa,mBAEbC,EAAiB,uBACjBC,EAAc,oBAkBdC,EAAe,8BAGfC,EAAW,mBAGXC,EAAiB,GACrBA,EAxBiB,yBAwBYA,EAvBZ,yBAwBjBA,EAvBc,sBAuBYA,EAtBX,uBAuBfA,EAtBe,uBAsBYA,EArBZ,uBAsBfA,EArBsB,8BAqBYA,EApBlB,wBAqBhBA,EApBgB,yBAoBY,EAC5BA,EAAenB,GAAWmB,EAAelB,GACzCkB,EAAeJ,GAAkBI,EAAejB,GAChDiB,EAAeH,GAAeG,EAAehB,GAC7CgB,EAAef,GAAYe,EAAed,GAC1Cc,EAAeb,GAAUa,EAAeZ,GACxCY,EAAeX,GAAaW,EAAeT,GAC3CS,EAAeR,GAAUQ,EAAeP,GACxCO,EAAeL,IAAc,EAG7B,IAAI5vD,EAA8B,iBAAVC,GAAsBA,GAAUA,EAAOrU,SAAWA,QAAUqU,EAGhFC,EAA0B,iBAARC,MAAoBA,MAAQA,KAAKvU,SAAWA,QAAUuU,KAGxEC,EAAOJ,GAAcE,GAAYG,SAAS,cAATA,GAGjC6vD,EAA4CvuD,IAAYA,EAAQoiB,UAAYpiB,EAG5EwuD,EAAaD,GAAgC,iBAAVxuD,GAAsBA,IAAWA,EAAOqiB,UAAYriB,EAGvF0uD,EAAgBD,GAAcA,EAAWxuD,UAAYuuD,EAGrDG,EAAcD,GAAiBpwD,EAAWswD,QAG1CC,EAAY,WACd,IACE,OAAOF,GAAeA,EAAYG,SAAWH,EAAYG,QAAQ,QACjE,MAAOlgE,KAHK,GAOZmgE,EAAmBF,GAAYA,EAASG,aAuD5C,SAASC,EAAUC,EAAOn/B,GAIxB,IAHA,IAAI9gC,GAAS,EACTnC,EAAkB,MAAToiE,EAAgB,EAAIA,EAAMpiE,SAE9BmC,EAAQnC,GACf,GAAIijC,EAAUm/B,EAAMjgE,GAAQA,EAAOigE,GACjC,OAAO,EAGX,OAAO,EAkET,SAASC,EAAWpgE,GAClB,IAAIE,GAAS,EACTuR,EAASzH,MAAMhK,EAAIsM,MAKvB,OAHAtM,EAAIgP,SAAQ,SAASrP,EAAOnE,GAC1BiW,IAASvR,GAAS,CAAC1E,EAAKmE,MAEnB8R,EAwBT,SAAS4uD,EAAW3vC,GAClB,IAAIxwB,GAAS,EACTuR,EAASzH,MAAM0mB,EAAIpkB,MAKvB,OAHAokB,EAAI1hB,SAAQ,SAASrP,GACnB8R,IAASvR,GAASP,KAEb8R,EAIT,IAxBiBN,EAAMmvD,EAwBnBC,EAAav2D,MAAM8F,UACnB0wD,EAAY5wD,SAASE,UACrB2wD,EAActlE,OAAO2U,UAGrB4wD,EAAa/wD,EAAK,sBAGlBgxD,EAAeH,EAAUzwD,SAGzBsT,EAAiBo9C,EAAYp9C,eAG7Bu9C,EAAc,WAChB,IAAIC,EAAM,SAASC,KAAKJ,GAAcA,EAAWtlE,MAAQslE,EAAWtlE,KAAK2lE,UAAY,IACrF,OAAOF,EAAO,iBAAmBA,EAAO,GAFxB,GAUdG,EAAuBP,EAAY1wD,SAGnCkxD,EAAa/C,OAAO,IACtByC,EAAalwD,KAAK4S,GAAgBxS,QA7PjB,sBA6PuC,QACvDA,QAAQ,yDAA0D,SAAW,KAI5EqwD,EAASvB,EAAgBhwD,EAAKuxD,YAAS9uD,EACvCgB,EAASzD,EAAKyD,OACd+tD,EAAaxxD,EAAKwxD,WAClB3hD,EAAuBihD,EAAYjhD,qBACnC8O,EAASiyC,EAAWjyC,OACpB8yC,EAAiBhuD,EAASA,EAAOiuD,iBAAcjvD,EAG/CkvD,GAAmBnmE,OAAOmkB,sBAC1BiiD,GAAiBL,EAASA,EAAOM,cAAWpvD,EAC5CqvD,IAnEatwD,EAmEQhW,OAAOC,KAnETklE,EAmEenlE,OAlE7B,SAAS8tB,GACd,OAAO9X,EAAKmvD,EAAUr3C,MAoEtBy4C,GAAWC,GAAUhyD,EAAM,YAC3BkpB,GAAM8oC,GAAUhyD,EAAM,OACtBiyD,GAAUD,GAAUhyD,EAAM,WAC1BghB,GAAMgxC,GAAUhyD,EAAM,OACtBkyD,GAAUF,GAAUhyD,EAAM,WAC1BmyD,GAAeH,GAAUxmE,OAAQ,UAGjC4mE,GAAqBC,GAASN,IAC9BO,GAAgBD,GAASnpC,IACzBqpC,GAAoBF,GAASJ,IAC7BO,GAAgBH,GAASrxC,IACzByxC,GAAoBJ,GAASH,IAG7BQ,GAAcjvD,EAASA,EAAOtD,eAAYsC,EAC1CkwD,GAAgBD,GAAcA,GAAYzxD,aAAUwB,EASxD,SAASmwD,GAAK/7B,GACZ,IAAItmC,GAAS,EACTnC,EAAoB,MAAXyoC,EAAkB,EAAIA,EAAQzoC,OAG3C,IADAsQ,KAAKm0D,UACItiE,EAAQnC,GAAQ,CACvB,IAAI0kE,EAAQj8B,EAAQtmC,GACpBmO,KAAKqiB,IAAI+xC,EAAM,GAAIA,EAAM,KA+F7B,SAASC,GAAUl8B,GACjB,IAAItmC,GAAS,EACTnC,EAAoB,MAAXyoC,EAAkB,EAAIA,EAAQzoC,OAG3C,IADAsQ,KAAKm0D,UACItiE,EAAQnC,GAAQ,CACvB,IAAI0kE,EAAQj8B,EAAQtmC,GACpBmO,KAAKqiB,IAAI+xC,EAAM,GAAIA,EAAM,KA4G7B,SAASE,GAASn8B,GAChB,IAAItmC,GAAS,EACTnC,EAAoB,MAAXyoC,EAAkB,EAAIA,EAAQzoC,OAG3C,IADAsQ,KAAKm0D,UACItiE,EAAQnC,GAAQ,CACvB,IAAI0kE,EAAQj8B,EAAQtmC,GACpBmO,KAAKqiB,IAAI+xC,EAAM,GAAIA,EAAM,KA+F7B,SAASG,GAASnmE,GAChB,IAAIyD,GAAS,EACTnC,EAAmB,MAAVtB,EAAiB,EAAIA,EAAOsB,OAGzC,IADAsQ,KAAKw0D,SAAW,IAAIF,KACXziE,EAAQnC,GACfsQ,KAAKwiB,IAAIp0B,EAAOyD,IA2CpB,SAAS4iE,GAAMt8B,GACb,IAAIrqC,EAAOkS,KAAKw0D,SAAW,IAAIH,GAAUl8B,GACzCn4B,KAAK/B,KAAOnQ,EAAKmQ,KAmGnB,SAASy2D,GAAcpjE,EAAOqjE,GAC5B,IAAIC,EAAQruD,GAAQjV,GAChBujE,GAASD,GAASE,GAAYxjE,GAC9ByjE,GAAUH,IAAUC,GAAS1B,GAAS7hE,GACtC0jE,GAAUJ,IAAUC,IAAUE,GAAUnD,GAAatgE,GACrD2jE,EAAcL,GAASC,GAASE,GAAUC,EAC1C5xD,EAAS6xD,EAloBf,SAAmB1kD,EAAG2kD,GAIpB,IAHA,IAAIrjE,GAAS,EACTuR,EAASzH,MAAM4U,KAEV1e,EAAQ0e,GACfnN,EAAOvR,GAASqjE,EAASrjE,GAE3B,OAAOuR,EA2nBoB+xD,CAAU7jE,EAAM5B,OAAQitD,QAAU,GACzDjtD,EAAS0T,EAAO1T,OAEpB,IAAK,IAAIvC,KAAOmE,GACTqjE,IAAa3/C,EAAe5S,KAAK9Q,EAAOnE,IACvC8nE,IAEQ,UAAP9nE,GAEC4nE,IAAkB,UAAP5nE,GAA0B,UAAPA,IAE9B6nE,IAAkB,UAAP7nE,GAA0B,cAAPA,GAA8B,cAAPA,IAEtDioE,GAAQjoE,EAAKuC,KAElB0T,EAAOgH,KAAKjd,GAGhB,OAAOiW,EAWT,SAASiyD,GAAavD,EAAO3kE,GAE3B,IADA,IAAIuC,EAASoiE,EAAMpiE,OACZA,KACL,GAAI4lE,GAAGxD,EAAMpiE,GAAQ,GAAIvC,GACvB,OAAOuC,EAGX,OAAQ,EA0BV,SAAS6lE,GAAWjkE,GAClB,OAAa,MAATA,OACeyS,IAAVzS,EAt1BQ,qBARL,gBAg2BJyhE,GAAkBA,KAAkBjmE,OAAOwE,GA0arD,SAAmBA,GACjB,IAAIkkE,EAAQxgD,EAAe5S,KAAK9Q,EAAOyhE,GACnCv0D,EAAMlN,EAAMyhE,GAEhB,IACEzhE,EAAMyhE,QAAkBhvD,EACxB,IAAI0xD,GAAW,EACf,MAAOjkE,IAET,IAAI4R,EAASuvD,EAAqBvwD,KAAK9Q,GACnCmkE,IACED,EACFlkE,EAAMyhE,GAAkBv0D,SAEjBlN,EAAMyhE,IAGjB,OAAO3vD,EA1bHsyD,CAAUpkE,GA4iBhB,SAAwBA,GACtB,OAAOqhE,EAAqBvwD,KAAK9Q,GA5iB7BkQ,CAAelQ,GAUrB,SAASqkE,GAAgBrkE,GACvB,OAAO6Q,GAAa7Q,IAAUikE,GAAWjkE,IAAU0+D,EAiBrD,SAAS4F,GAAYtkE,EAAOgR,EAAOuzD,EAASC,EAAYC,GACtD,OAAIzkE,IAAUgR,IAGD,MAAThR,GAA0B,MAATgR,IAAmBH,GAAa7Q,KAAW6Q,GAAaG,GACpEhR,IAAUA,GAASgR,IAAUA,EAmBxC,SAAyB0nB,EAAQ1nB,EAAOuzD,EAASC,EAAYE,EAAWD,GACtE,IAAIE,EAAW1vD,GAAQyjB,GACnBksC,EAAW3vD,GAAQjE,GACnB6zD,EAASF,EAAWhG,EAAWmG,GAAOpsC,GACtCqsC,EAASH,EAAWjG,EAAWmG,GAAO9zD,GAKtCg0D,GAHJH,EAASA,GAAUnG,EAAUQ,EAAY2F,IAGhB3F,EACrB+F,GAHJF,EAASA,GAAUrG,EAAUQ,EAAY6F,IAGhB7F,EACrBgG,EAAYL,GAAUE,EAE1B,GAAIG,GAAarD,GAASnpC,GAAS,CACjC,IAAKmpC,GAAS7wD,GACZ,OAAO,EAET2zD,GAAW,EACXK,GAAW,EAEb,GAAIE,IAAcF,EAEhB,OADAP,IAAUA,EAAQ,IAAItB,IACdwB,GAAYrE,GAAa5nC,GAC7BysC,GAAYzsC,EAAQ1nB,EAAOuzD,EAASC,EAAYE,EAAWD,GAiKnE,SAAoB/rC,EAAQ1nB,EAAO9D,EAAKq3D,EAASC,EAAYE,EAAWD,GACtE,OAAQv3D,GACN,KAAKwyD,EACH,GAAKhnC,EAAO0sC,YAAcp0D,EAAMo0D,YAC3B1sC,EAAO2sC,YAAcr0D,EAAMq0D,WAC9B,OAAO,EAET3sC,EAASA,EAAO6iC,OAChBvqD,EAAQA,EAAMuqD,OAEhB,KAAKkE,EACH,QAAK/mC,EAAO0sC,YAAcp0D,EAAMo0D,aAC3BV,EAAU,IAAIlD,EAAW9oC,GAAS,IAAI8oC,EAAWxwD,KAKxD,KAAK4tD,EACL,KAAKC,EACL,KAAKI,EAGH,OAAO+E,IAAItrC,GAAS1nB,GAEtB,KAAK8tD,EACH,OAAOpmC,EAAO35B,MAAQiS,EAAMjS,MAAQ25B,EAAOx6B,SAAW8S,EAAM9S,QAE9D,KAAKkhE,EACL,KAAKE,EAIH,OAAO5mC,GAAW1nB,EAAQ,GAE5B,KAAKguD,EACH,IAAIsG,EAAU7E,EAEhB,KAAKpB,EACH,IAAIkG,EAroCiB,EAqoCLhB,EAGhB,GAFAe,IAAYA,EAAU5E,GAElBhoC,EAAO/rB,MAAQqE,EAAMrE,OAAS44D,EAChC,OAAO,EAGT,IAAIC,EAAUf,EAAM9sC,IAAIe,GACxB,GAAI8sC,EACF,OAAOA,GAAWx0D,EAEpBuzD,GA/oCuB,EAkpCvBE,EAAM1zC,IAAI2H,EAAQ1nB,GAClB,IAAIc,EAASqzD,GAAYG,EAAQ5sC,GAAS4sC,EAAQt0D,GAAQuzD,EAASC,EAAYE,EAAWD,GAE1F,OADAA,EAAK,OAAW/rC,GACT5mB,EAET,KAAKytD,EACH,GAAIoD,GACF,OAAOA,GAAc7xD,KAAK4nB,IAAWiqC,GAAc7xD,KAAKE,GAG9D,OAAO,EA9NDy0D,CAAW/sC,EAAQ1nB,EAAO6zD,EAAQN,EAASC,EAAYE,EAAWD,GAExE,KAj8ByB,EAi8BnBF,GAAiC,CACrC,IAAImB,EAAeV,GAAYthD,EAAe5S,KAAK4nB,EAAQ,eACvDitC,EAAeV,GAAYvhD,EAAe5S,KAAKE,EAAO,eAE1D,GAAI00D,GAAgBC,EAAc,CAChC,IAAIC,EAAeF,EAAehtC,EAAO14B,QAAU04B,EAC/CmtC,EAAeF,EAAe30D,EAAMhR,QAAUgR,EAGlD,OADAyzD,IAAUA,EAAQ,IAAItB,IACfuB,EAAUkB,EAAcC,EAActB,EAASC,EAAYC,IAGtE,IAAKS,EACH,OAAO,EAGT,OADAT,IAAUA,EAAQ,IAAItB,IA6NxB,SAAsBzqC,EAAQ1nB,EAAOuzD,EAASC,EAAYE,EAAWD,GACnE,IAAIc,EA9qCqB,EA8qCThB,EACZuB,EAAWC,GAAWrtC,GACtBstC,EAAYF,EAAS1nE,OAErB6nE,EADWF,GAAW/0D,GACD5S,OAEzB,GAAI4nE,GAAaC,IAAcV,EAC7B,OAAO,EAET,IAAIhlE,EAAQylE,EACZ,KAAOzlE,KAAS,CACd,IAAI1E,EAAMiqE,EAASvlE,GACnB,KAAMglE,EAAY1pE,KAAOmV,EAAQ0S,EAAe5S,KAAKE,EAAOnV,IAC1D,OAAO,EAIX,IAAI2pE,EAAUf,EAAM9sC,IAAIe,GACxB,GAAI8sC,GAAWf,EAAM9sC,IAAI3mB,GACvB,OAAOw0D,GAAWx0D,EAEpB,IAAIc,GAAS,EACb2yD,EAAM1zC,IAAI2H,EAAQ1nB,GAClByzD,EAAM1zC,IAAI/f,EAAO0nB,GAEjB,IAAIwtC,EAAWX,EACf,OAAShlE,EAAQylE,GAAW,CAE1B,IAAIG,EAAWztC,EADf78B,EAAMiqE,EAASvlE,IAEX6lE,EAAWp1D,EAAMnV,GAErB,GAAI2oE,EACF,IAAI6B,EAAWd,EACXf,EAAW4B,EAAUD,EAAUtqE,EAAKmV,EAAO0nB,EAAQ+rC,GACnDD,EAAW2B,EAAUC,EAAUvqE,EAAK68B,EAAQ1nB,EAAOyzD,GAGzD,UAAmBhyD,IAAb4zD,EACGF,IAAaC,GAAY1B,EAAUyB,EAAUC,EAAU7B,EAASC,EAAYC,GAC7E4B,GACD,CACLv0D,GAAS,EACT,MAEFo0D,IAAaA,EAAkB,eAAPrqE,GAE1B,GAAIiW,IAAWo0D,EAAU,CACvB,IAAII,EAAU5tC,EAAO/kB,YACjB4yD,EAAUv1D,EAAM2C,YAGhB2yD,GAAWC,KACV,gBAAiB7tC,MAAU,gBAAiB1nB,IACzB,mBAAXs1D,GAAyBA,aAAmBA,GACjC,mBAAXC,GAAyBA,aAAmBA,IACvDz0D,GAAS,GAKb,OAFA2yD,EAAK,OAAW/rC,GAChB+rC,EAAK,OAAWzzD,GACTc,EAzRA00D,CAAa9tC,EAAQ1nB,EAAOuzD,EAASC,EAAYE,EAAWD,GA3D5DgC,CAAgBzmE,EAAOgR,EAAOuzD,EAASC,EAAYF,GAAaG,IAsEzE,SAASiC,GAAa1mE,GACpB,SAAK2Q,GAAS3Q,IAwahB,SAAkBwR,GAChB,QAASyvD,GAAeA,KAAczvD,EAzadm1D,CAAS3mE,MAGnB0U,GAAW1U,GAASshE,EAAa3B,GAChCvuD,KAAKixD,GAASriE,IAsB/B,SAAS4mE,GAASluC,GAChB,IAwZF,SAAqB14B,GACnB,IAAI6mE,EAAO7mE,GAASA,EAAM2T,YACtBmB,EAAwB,mBAAR+xD,GAAsBA,EAAK12D,WAAc2wD,EAE7D,OAAO9gE,IAAU8U,EA5ZZgyD,CAAYpuC,GACf,OAAOopC,GAAWppC,GAEpB,IAAI5mB,EAAS,GACb,IAAK,IAAIjW,KAAOL,OAAOk9B,GACjBhV,EAAe5S,KAAK4nB,EAAQ78B,IAAe,eAAPA,GACtCiW,EAAOgH,KAAKjd,GAGhB,OAAOiW,EAgBT,SAASqzD,GAAY3E,EAAOxvD,EAAOuzD,EAASC,EAAYE,EAAWD,GACjE,IAAIc,EAlhCqB,EAkhCThB,EACZwC,EAAYvG,EAAMpiE,OAClB6nE,EAAYj1D,EAAM5S,OAEtB,GAAI2oE,GAAad,KAAeV,GAAaU,EAAYc,GACvD,OAAO,EAGT,IAAIvB,EAAUf,EAAM9sC,IAAI6oC,GACxB,GAAIgF,GAAWf,EAAM9sC,IAAI3mB,GACvB,OAAOw0D,GAAWx0D,EAEpB,IAAIzQ,GAAS,EACTuR,GAAS,EACTk1D,EA/hCuB,EA+hCfzC,EAAoC,IAAItB,QAAWxwD,EAM/D,IAJAgyD,EAAM1zC,IAAIyvC,EAAOxvD,GACjByzD,EAAM1zC,IAAI/f,EAAOwvD,KAGRjgE,EAAQwmE,GAAW,CAC1B,IAAIE,EAAWzG,EAAMjgE,GACjB6lE,EAAWp1D,EAAMzQ,GAErB,GAAIikE,EACF,IAAI6B,EAAWd,EACXf,EAAW4B,EAAUa,EAAU1mE,EAAOyQ,EAAOwvD,EAAOiE,GACpDD,EAAWyC,EAAUb,EAAU7lE,EAAOigE,EAAOxvD,EAAOyzD,GAE1D,QAAiBhyD,IAAb4zD,EAAwB,CAC1B,GAAIA,EACF,SAEFv0D,GAAS,EACT,MAGF,GAAIk1D,GACF,IAAKzG,EAAUvvD,GAAO,SAASo1D,EAAUc,GACnC,GA72BarrE,EA62BOqrE,GAANF,EA52BXriC,IAAI9oC,KA62BForE,IAAab,GAAY1B,EAAUuC,EAAUb,EAAU7B,EAASC,EAAYC,IAC/E,OAAOuC,EAAKluD,KAAKouD,GA/2B/B,IAAyBrrE,KAi3BX,CACNiW,GAAS,EACT,YAEG,GACDm1D,IAAab,IACX1B,EAAUuC,EAAUb,EAAU7B,EAASC,EAAYC,GACpD,CACL3yD,GAAS,EACT,OAKJ,OAFA2yD,EAAK,OAAWjE,GAChBiE,EAAK,OAAWzzD,GACTc,EAyKT,SAASi0D,GAAWrtC,GAClB,OApZF,SAAwBA,EAAQyuC,EAAUC,GACxC,IAAIt1D,EAASq1D,EAASzuC,GACtB,OAAOzjB,GAAQyjB,GAAU5mB,EAhuB3B,SAAmB0uD,EAAO1jE,GAKxB,IAJA,IAAIyD,GAAS,EACTnC,EAAStB,EAAOsB,OAChByvC,EAAS2yB,EAAMpiE,SAEVmC,EAAQnC,GACfoiE,EAAM3yB,EAASttC,GAASzD,EAAOyD,GAEjC,OAAOigE,EAwtB2B6G,CAAUv1D,EAAQs1D,EAAY1uC,IAkZzD4uC,CAAe5uC,EAAQj9B,GAAM8rE,IAWtC,SAASC,GAAWnnE,EAAKxE,GACvB,IAAIW,EAAO6D,EAAI6iE,SACf,OAqHF,SAAmBljE,GACjB,IAAI3B,SAAc2B,EAClB,MAAgB,UAAR3B,GAA4B,UAARA,GAA4B,UAARA,GAA4B,WAARA,EACrD,cAAV2B,EACU,OAAVA,EAzHEynE,CAAU5rE,GACbW,EAAmB,iBAAPX,EAAkB,SAAW,QACzCW,EAAK6D,IAWX,SAAS2hE,GAAUtpC,EAAQ78B,GACzB,IAAImE,EAxjCN,SAAkB04B,EAAQ78B,GACxB,OAAiB,MAAV68B,OAAiBjmB,EAAYimB,EAAO78B,GAujC/BkkC,CAASrH,EAAQ78B,GAC7B,OAAO6qE,GAAa1mE,GAASA,OAAQyS,EAp2BvCmwD,GAAKzyD,UAAU0yD,MAvEf,WACEn0D,KAAKw0D,SAAWf,GAAeA,GAAa,MAAQ,GACpDzzD,KAAK/B,KAAO,GAsEdi2D,GAAKzyD,UAAL,OAzDA,SAAoBtU,GAClB,IAAIiW,EAASpD,KAAKi2B,IAAI9oC,WAAe6S,KAAKw0D,SAASrnE,GAEnD,OADA6S,KAAK/B,MAAQmF,EAAS,EAAI,EACnBA,GAuDT8wD,GAAKzyD,UAAUwnB,IA3Cf,SAAiB97B,GACf,IAAIW,EAAOkS,KAAKw0D,SAChB,GAAIf,GAAc,CAChB,IAAIrwD,EAAStV,EAAKX,GAClB,OAAOiW,IAAW0sD,OAAiB/rD,EAAYX,EAEjD,OAAO4R,EAAe5S,KAAKtU,EAAMX,GAAOW,EAAKX,QAAO4W,GAsCtDmwD,GAAKzyD,UAAUw0B,IA1Bf,SAAiB9oC,GACf,IAAIW,EAAOkS,KAAKw0D,SAChB,OAAOf,QAA8B1vD,IAAdjW,EAAKX,GAAsB6nB,EAAe5S,KAAKtU,EAAMX,IAyB9E+mE,GAAKzyD,UAAU4gB,IAZf,SAAiBl1B,EAAKmE,GACpB,IAAIxD,EAAOkS,KAAKw0D,SAGhB,OAFAx0D,KAAK/B,MAAQ+B,KAAKi2B,IAAI9oC,GAAO,EAAI,EACjCW,EAAKX,GAAQsmE,SAA0B1vD,IAAVzS,EAAuBw+D,EAAiBx+D,EAC9D0O,MAuHTq0D,GAAU5yD,UAAU0yD,MApFpB,WACEn0D,KAAKw0D,SAAW,GAChBx0D,KAAK/B,KAAO,GAmFdo2D,GAAU5yD,UAAV,OAvEA,SAAyBtU,GACvB,IAAIW,EAAOkS,KAAKw0D,SACZ3iE,EAAQwjE,GAAavnE,EAAMX,GAE/B,QAAI0E,EAAQ,KAIRA,GADY/D,EAAK4B,OAAS,EAE5B5B,EAAK0Z,MAELyY,EAAO7d,KAAKtU,EAAM+D,EAAO,KAEzBmO,KAAK/B,MACA,IA0DTo2D,GAAU5yD,UAAUwnB,IA9CpB,SAAsB97B,GACpB,IAAIW,EAAOkS,KAAKw0D,SACZ3iE,EAAQwjE,GAAavnE,EAAMX,GAE/B,OAAO0E,EAAQ,OAAIkS,EAAYjW,EAAK+D,GAAO,IA2C7CwiE,GAAU5yD,UAAUw0B,IA/BpB,SAAsB9oC,GACpB,OAAOkoE,GAAar1D,KAAKw0D,SAAUrnE,IAAQ,GA+B7CknE,GAAU5yD,UAAU4gB,IAlBpB,SAAsBl1B,EAAKmE,GACzB,IAAIxD,EAAOkS,KAAKw0D,SACZ3iE,EAAQwjE,GAAavnE,EAAMX,GAQ/B,OANI0E,EAAQ,KACRmO,KAAK/B,KACPnQ,EAAKsc,KAAK,CAACjd,EAAKmE,KAEhBxD,EAAK+D,GAAO,GAAKP,EAEZ0O,MAyGTs0D,GAAS7yD,UAAU0yD,MAtEnB,WACEn0D,KAAK/B,KAAO,EACZ+B,KAAKw0D,SAAW,CACd,KAAQ,IAAIN,GACZ,IAAO,IAAK1pC,IAAO6pC,IACnB,OAAU,IAAIH,KAkElBI,GAAS7yD,UAAT,OArDA,SAAwBtU,GACtB,IAAIiW,EAAS01D,GAAW94D,KAAM7S,GAAjB,OAAgCA,GAE7C,OADA6S,KAAK/B,MAAQmF,EAAS,EAAI,EACnBA,GAmDTkxD,GAAS7yD,UAAUwnB,IAvCnB,SAAqB97B,GACnB,OAAO2rE,GAAW94D,KAAM7S,GAAK87B,IAAI97B,IAuCnCmnE,GAAS7yD,UAAUw0B,IA3BnB,SAAqB9oC,GACnB,OAAO2rE,GAAW94D,KAAM7S,GAAK8oC,IAAI9oC,IA2BnCmnE,GAAS7yD,UAAU4gB,IAdnB,SAAqBl1B,EAAKmE,GACxB,IAAIxD,EAAOgrE,GAAW94D,KAAM7S,GACxB8Q,EAAOnQ,EAAKmQ,KAIhB,OAFAnQ,EAAKu0B,IAAIl1B,EAAKmE,GACd0O,KAAK/B,MAAQnQ,EAAKmQ,MAAQA,EAAO,EAAI,EAC9B+B,MAyDTu0D,GAAS9yD,UAAU+gB,IAAM+xC,GAAS9yD,UAAU2I,KAnB5C,SAAqB9Y,GAEnB,OADA0O,KAAKw0D,SAASnyC,IAAI/wB,EAAOw+D,GAClB9vD,MAkBTu0D,GAAS9yD,UAAUw0B,IANnB,SAAqB3kC,GACnB,OAAO0O,KAAKw0D,SAASv+B,IAAI3kC,IAqG3BmjE,GAAMhzD,UAAU0yD,MA3EhB,WACEn0D,KAAKw0D,SAAW,IAAIH,GACpBr0D,KAAK/B,KAAO,GA0Edw2D,GAAMhzD,UAAN,OA9DA,SAAqBtU,GACnB,IAAIW,EAAOkS,KAAKw0D,SACZpxD,EAAStV,EAAI,OAAWX,GAG5B,OADA6S,KAAK/B,KAAOnQ,EAAKmQ,KACVmF,GA0DTqxD,GAAMhzD,UAAUwnB,IA9ChB,SAAkB97B,GAChB,OAAO6S,KAAKw0D,SAASvrC,IAAI97B,IA8C3BsnE,GAAMhzD,UAAUw0B,IAlChB,SAAkB9oC,GAChB,OAAO6S,KAAKw0D,SAASv+B,IAAI9oC,IAkC3BsnE,GAAMhzD,UAAU4gB,IArBhB,SAAkBl1B,EAAKmE,GACrB,IAAIxD,EAAOkS,KAAKw0D,SAChB,GAAI1mE,aAAgBumE,GAAW,CAC7B,IAAI2E,EAAQlrE,EAAK0mE,SACjB,IAAKhqC,IAAQwuC,EAAMtpE,OAASupE,IAG1B,OAFAD,EAAM5uD,KAAK,CAACjd,EAAKmE,IACjB0O,KAAK/B,OAASnQ,EAAKmQ,KACZ+B,KAETlS,EAAOkS,KAAKw0D,SAAW,IAAIF,GAAS0E,GAItC,OAFAlrE,EAAKu0B,IAAIl1B,EAAKmE,GACd0O,KAAK/B,KAAOnQ,EAAKmQ,KACV+B,MA+hBT,IAAI64D,GAAc5F,GAA+B,SAASjpC,GACxD,OAAc,MAAVA,EACK,IAETA,EAASl9B,OAAOk9B,GA9sClB,SAAqB8nC,EAAOn/B,GAM1B,IALA,IAAI9gC,GAAS,EACTnC,EAAkB,MAAToiE,EAAgB,EAAIA,EAAMpiE,OACnCwpE,EAAW,EACX91D,EAAS,KAEJvR,EAAQnC,GAAQ,CACvB,IAAI4B,EAAQwgE,EAAMjgE,GACd8gC,EAAUrhC,EAAOO,EAAOigE,KAC1B1uD,EAAO81D,KAAc5nE,GAGzB,OAAO8R,EAmsCA+1D,CAAYlG,GAAiBjpC,IAAS,SAASovC,GACpD,OAAOjoD,EAAqB/O,KAAK4nB,EAAQovC,QAsd7C,WACE,MAAO,IA5cLhD,GAASb,GAkCb,SAASH,GAAQ9jE,EAAO5B,GAEtB,SADAA,EAAmB,MAAVA,EAAiBqgE,EAAmBrgE,KAE1B,iBAAT4B,GAAqB4/D,EAASxuD,KAAKpR,KAC1CA,GAAS,GAAKA,EAAQ,GAAK,GAAKA,EAAQ5B,EA4D7C,SAASikE,GAAS7wD,GAChB,GAAY,MAARA,EAAc,CAChB,IACE,OAAOwvD,EAAalwD,KAAKU,GACzB,MAAOtR,IACT,IACE,OAAQsR,EAAO,GACf,MAAOtR,KAEX,MAAO,GAmCT,SAAS8jE,GAAGhkE,EAAOgR,GACjB,OAAOhR,IAAUgR,GAAUhR,IAAUA,GAASgR,IAAUA,GA5IrD+wD,IAAY+C,GAAO,IAAI/C,GAAS,IAAIgG,YAAY,MAAQrI,GACxDxmC,IAAO4rC,GAAO,IAAI5rC,KAAQ8lC,GAC1BiD,IAAW6C,GAAO7C,GAAQ+F,YAAc7I,GACxCnuC,IAAO8zC,GAAO,IAAI9zC,KAAQquC,GAC1B6C,IAAW4C,GAAO,IAAI5C,KAAY1C,KACrCsF,GAAS,SAAS9kE,GAChB,IAAI8R,EAASmyD,GAAWjkE,GACpB6mE,EAAO/0D,GAAUotD,EAAYl/D,EAAM2T,iBAAclB,EACjDw1D,EAAapB,EAAOxE,GAASwE,GAAQ,GAEzC,GAAIoB,EACF,OAAQA,GACN,KAAK7F,GAAoB,OAAO1C,EAChC,KAAK4C,GAAe,OAAOtD,EAC3B,KAAKuD,GAAmB,OAAOpD,EAC/B,KAAKqD,GAAe,OAAOnD,EAC3B,KAAKoD,GAAmB,OAAOjD,EAGnC,OAAO1tD,IA8IX,IAAI0xD,GAAca,GAAgB,WAAa,OAAOjxD,UAApB,IAAsCixD,GAAkB,SAASrkE,GACjG,OAAO6Q,GAAa7Q,IAAU0jB,EAAe5S,KAAK9Q,EAAO,YACtD6f,EAAqB/O,KAAK9Q,EAAO,WA0BlCiV,GAAU5K,MAAM4K,QAgDpB,IAAI4sD,GAAWD,IA4Of,WACE,OAAO,GA1LT,SAASltD,GAAW1U,GAClB,IAAK2Q,GAAS3Q,GACZ,OAAO,EAIT,IAAIkN,EAAM+2D,GAAWjkE,GACrB,OAAOkN,GAAO6xD,GAnmDH,8BAmmDc7xD,GAxmDZ,0BAwmD6BA,GA7lD7B,kBA6lDgDA,EA6B/D,SAASg7D,GAASloE,GAChB,MAAuB,iBAATA,GACZA,GAAS,GAAKA,EAAQ,GAAK,GAAKA,GAASy+D,EA4B7C,SAAS9tD,GAAS3Q,GAChB,IAAI3B,SAAc2B,EAClB,OAAgB,MAATA,IAA0B,UAAR3B,GAA4B,YAARA,GA2B/C,SAASwS,GAAa7Q,GACpB,OAAgB,MAATA,GAAiC,iBAATA,EAoBjC,IAAIsgE,GAAeD,EAhiDnB,SAAmB7uD,GACjB,OAAO,SAASxR,GACd,OAAOwR,EAAKxR,IA8hDsBmoE,CAAU9H,GAnvBhD,SAA0BrgE,GACxB,OAAO6Q,GAAa7Q,IAClBkoE,GAASloE,EAAM5B,WAAayhE,EAAeoE,GAAWjkE,KA+wB1D,SAASvE,GAAKi9B,GACZ,OA1NgB,OADG14B,EA2NA04B,IA1NKwvC,GAASloE,EAAM5B,UAAYsW,GAAW1U,GA0NjCojE,GAAc1qC,GAAUkuC,GAASluC,GA3NhE,IAAqB14B,EAqQrBsR,EAAOC,QAlNP,SAAiBvR,EAAOgR,GACtB,OAAOszD,GAAYtkE,EAAOgR,M,+CC1lD5BM,EAAOC,QAZP,SAAuCgO,EAAQC,GAC7C,GAAc,MAAVD,EAAgB,MAAO,GAC3B,IAEI1jB,EAAKqiB,EAFL9d,EAAS,GACTqf,EAAajkB,OAAOC,KAAK8jB,GAE7B,IAAKrB,EAAI,EAAGA,EAAIuB,EAAWrhB,OAAQ8f,IACjCriB,EAAM4jB,EAAWvB,GACbsB,EAAS3T,QAAQhQ,IAAQ,IAC7BuE,EAAOvE,GAAO0jB,EAAO1jB,IAEvB,OAAOuE,GAEuCkR,EAAOC,QAAQsM,YAAa,EAAMvM,EAAOC,QAAiB,QAAID,EAAOC,S,iCCZ9G,SAAS4a,EAAe9tB,EAAM+B,EAAQ8f,GAC3C,IAAIqZ,EAAWrZ,EAAQgc,cACnB7iB,EAAWkgB,EAAS6uC,UAAU/pE,EAAM+B,GACxC,MAAO,CAACiZ,EAAU,WAChB,OAAOkgB,EAAS8uC,aAAahvD,KAG1B,SAASwP,EAAexqB,EAAMkhB,EAAQW,GAC3C,IAAIqZ,EAAWrZ,EAAQgc,cACnBjP,EAAWsM,EAAS8E,UAAUhgC,EAAMkhB,GACxC,MAAO,CAAC0N,EAAU,WAChB,OAAOsM,EAASC,aAAavM,KAXjC,qE,iCCAA,iEAEA,SAASnJ,EAAkB1jB,EAAQqB,GAAS,IAAK,IAAIyc,EAAI,EAAGA,EAAIzc,EAAMrD,OAAQ8f,IAAK,CAAE,IAAI6F,EAAatiB,EAAMyc,GAAI6F,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAM1oB,OAAO2oB,eAAe/jB,EAAQ2jB,EAAWloB,IAAKkoB,IAI7S,SAAS8B,EAAgBjqB,EAAKC,EAAKmE,GAAiK,OAApJnE,KAAOD,EAAOJ,OAAO2oB,eAAevoB,EAAKC,EAAK,CAAEmE,MAAOA,EAAOgkB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBtoB,EAAIC,GAAOmE,EAAgBpE,EAKpM,IAAIuvB,EAA+B,WAGxC,SAASA,EAAgBhL,GACvB,IAAIoG,EAAQ7X,MAfhB,SAAyBkV,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIxR,UAAU,qCAiB5GsR,CAAgBjV,KAAMyc,GAEtBtF,EAAgBnX,KAAM,QAASiU,YAAmB,CAChD8H,WAAY,SAAoB/e,EAAMgG,GACpC6U,EAAM+hD,kBAEN/hD,EAAM0E,kBAAoBvZ,GAAW,KAEjC+R,YAAM/X,GACR6a,EAAMgiD,cAAgB78D,EAEtB6a,EAAMiiD,eAAiB98D,EAGzB6a,EAAMkiD,uBAER99C,YAAa,SAAqBjf,EAAMgG,GACtC6U,EAAMmiD,mBAENniD,EAAM2E,mBAAqBxZ,GAAW,KAElC+R,YAAM/X,GACR6a,EAAMoiD,eAAiBj9D,EAEvB6a,EAAMqiD,gBAAkBl9D,EAG1B6a,EAAMsiD,2BAIVhjD,EAAgBnX,KAAM,YAAa,MAEnCmX,EAAgBnX,KAAM,gBAAiB,MAEvCmX,EAAgBnX,KAAM,sBAAkB,GAExCmX,EAAgBnX,KAAM,4BAA6B,MAEnDmX,EAAgBnX,KAAM,6BAAyB,GAE/CmX,EAAgBnX,KAAM,iBAAkB,MAExCmX,EAAgBnX,KAAM,uBAAmB,GAEzCmX,EAAgBnX,KAAM,6BAA8B,MAEpDmX,EAAgBnX,KAAM,8BAA0B,GAEhDmX,EAAgBnX,KAAM,yBAA0B,MAEhDmX,EAAgBnX,KAAM,0BAA2B,MAEjDmX,EAAgBnX,KAAM,iCAAkC,MAExDmX,EAAgBnX,KAAM,2BAA4B,MAElDmX,EAAgBnX,KAAM,kCAAmC,MAEzDmX,EAAgBnX,KAAM,eAAW,GAEjCA,KAAKyR,QAAUA,EA1EnB,IAAsB0D,EAAaQ,EAAYC,EA2O7C,OA3OoBT,EA6EPsH,GA7EoB9G,EA6EH,CAAC,CAC7BxoB,IAAK,mBACLmE,MAAO,SAA0B8oE,GAC3Bp6D,KAAKoa,YAAcggD,IAIvBp6D,KAAKoa,UAAYggD,EACjBp6D,KAAK2Z,eAEN,CACDxsB,IAAK,gBACL87B,IAAK,WACH,OAAOjpB,KAAK+b,aAEb,CACD5uB,IAAK,oBACL87B,IAAK,WACH,OAAOjpB,KAAKq6D,2BAEdh4C,IAAK,SAAarf,GAChBhD,KAAKq6D,0BAA4Br3D,IAElC,CACD7V,IAAK,qBACL87B,IAAK,WACH,OAAOjpB,KAAKs6D,4BAEdj4C,IAAK,SAAarf,GAChBhD,KAAKs6D,2BAA6Bt3D,IAEnC,CACD7V,IAAK,YACLmE,MAAO,WACL0O,KAAK+5D,sBACL/5D,KAAKm6D,yBAEN,CACDhtE,IAAK,sBACLmE,MAAO,WACL,IAAIyqB,EAAa/b,KAAK+b,WAElBw+C,EAAYv6D,KAAKw6D,sBAAwBx6D,KAAKy6D,gCAAkCz6D,KAAK06D,6BAErFH,GACFv6D,KAAK2c,uBAGF3c,KAAKoa,YAIL2B,EAKDw+C,IACFv6D,KAAK26D,uBAAyB36D,KAAKoa,UACnCpa,KAAK46D,wBAA0B7+C,EAC/B/b,KAAK66D,+BAAiC76D,KAAKuc,kBAC3Cvc,KAAK86D,sBAAwB96D,KAAKyR,QAAQ8uC,kBAAkBvgD,KAAKoa,UAAW2B,EAAY/b,KAAKuc,oBAR7Fvc,KAAK46D,wBAA0B7+C,KAWlC,CACD5uB,IAAK,uBACLmE,MAAO,WACL,IAAI2qB,EAAcjc,KAAKic,YAEnBs+C,EAAYv6D,KAAKw6D,sBAAwBx6D,KAAK+6D,iCAAmC/6D,KAAKg7D,8BAEtFT,GACFv6D,KAAK4c,wBAGF5c,KAAKoa,YAIL6B,EAKDs+C,IACFv6D,KAAK26D,uBAAyB36D,KAAKoa,UACnCpa,KAAKi7D,yBAA2Bh/C,EAChCjc,KAAKk7D,gCAAkCl7D,KAAKwc,mBAC5Cxc,KAAKm7D,uBAAyBn7D,KAAKyR,QAAQ6uC,mBAAmBtgD,KAAKoa,UAAW6B,EAAajc,KAAKwc,qBARhGxc,KAAKi7D,yBAA2Bh/C,KAWnC,CACD9uB,IAAK,qBACLmE,MAAO,WACL,OAAO0O,KAAK26D,yBAA2B36D,KAAKoa,YAE7C,CACDjtB,IAAK,+BACLmE,MAAO,WACL,OAAO0O,KAAK46D,0BAA4B56D,KAAK+b,aAE9C,CACD5uB,IAAK,gCACLmE,MAAO,WACL,OAAO0O,KAAKi7D,2BAA6Bj7D,KAAKic,cAE/C,CACD9uB,IAAK,6BACLmE,MAAO,WACL,OAAQ6c,YAAanO,KAAK66D,+BAAgC76D,KAAKuc,qBAEhE,CACDpvB,IAAK,8BACLmE,MAAO,WACL,OAAQ6c,YAAanO,KAAKk7D,gCAAiCl7D,KAAKwc,sBAEjE,CACDrvB,IAAK,uBACLmE,MAAO,WACD0O,KAAK86D,wBACP96D,KAAK86D,wBACL96D,KAAK86D,2BAAwB/2D,KAGhC,CACD5W,IAAK,wBACLmE,MAAO,WACD0O,KAAKm7D,yBACPn7D,KAAKm7D,yBACLn7D,KAAKm7D,4BAAyBp3D,EAC9B/D,KAAKk6D,gBAAkB,KACvBl6D,KAAKi6D,eAAiB,QAGzB,CACD9sE,IAAK,aACL87B,IAAK,WACH,OAAOjpB,KAAK85D,gBAAkB95D,KAAK65D,eAAiB75D,KAAK65D,cAAcx0D,UAExE,CACDlY,IAAK,cACL87B,IAAK,WACH,OAAOjpB,KAAKk6D,iBAAmBl6D,KAAKi6D,gBAAkBj6D,KAAKi6D,eAAe50D,UAE3E,CACDlY,IAAK,kBACLmE,MAAO,WACL0O,KAAK85D,eAAiB,KACtB95D,KAAK65D,cAAgB,OAEtB,CACD1sE,IAAK,mBACLmE,MAAO,WACL0O,KAAKk6D,gBAAkB,KACvBl6D,KAAKi6D,eAAiB,UAvOkD7kD,EAAkBD,EAAY1T,UAAWkU,GAAiBC,GAAaR,EAAkBD,EAAaS,GA2O3K6G,EApOiC,I,iCCX1C,+CAEA,SAASrH,EAAkB1jB,EAAQqB,GAAS,IAAK,IAAIyc,EAAI,EAAGA,EAAIzc,EAAMrD,OAAQ8f,IAAK,CAAE,IAAI6F,EAAatiB,EAAMyc,GAAI6F,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAM1oB,OAAO2oB,eAAe/jB,EAAQ2jB,EAAWloB,IAAKkoB,IAI7S,SAAS8B,EAAgBjqB,EAAKC,EAAKmE,GAAiK,OAApJnE,KAAOD,EAAOJ,OAAO2oB,eAAevoB,EAAKC,EAAK,CAAEmE,MAAOA,EAAOgkB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBtoB,EAAIC,GAAOmE,EAAgBpE,EAG3M,IAAIkuE,GAAmB,EACnBC,GAAsB,EACfh/C,EAAqC,WAC9C,SAASA,EAAsB7K,IAZjC,SAAyB0D,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIxR,UAAU,qCAa5GsR,CAAgBjV,KAAMqc,GAEtBlF,EAAgBnX,KAAM,uBAAmB,GAEzCmX,EAAgBnX,KAAM,WAAY,MAElCA,KAAKs7D,gBAAkB9pD,EAAQqH,aAfnC,IAAsB1D,EAAaQ,EAAYC,EAoJ7C,OApJoBT,EAkBPkH,GAlBoB1G,EAkBG,CAAC,CACnCxoB,IAAK,mBACLmE,MAAO,SAA0BitB,GAC/Bve,KAAKue,SAAWA,IAEjB,CACDpxB,IAAK,eACLmE,MAAO,WACL,OAAO0O,KAAKue,WAEb,CACDpxB,IAAK,UACLmE,MAAO,WACLwN,aAAWs8D,EAAkB,yJAE7B,IAEE,OADAA,GAAmB,EACZp7D,KAAKs7D,gBAAgBC,cAAcv7D,KAAKue,UAFjD,QAIE68C,GAAmB,KAGtB,CACDjuE,IAAK,aACLmE,MAAO,WACL,IAAK0O,KAAKue,SACR,OAAO,EAGTzf,aAAWu8D,EAAqB,+JAEhC,IAEE,OADAA,GAAsB,EACfr7D,KAAKs7D,gBAAgBE,iBAAiBx7D,KAAKue,UAFpD,QAIE88C,GAAsB,KAGzB,CACDluE,IAAK,yBACLmE,MAAO,SAAgCmqE,EAAUz4D,GAC/C,OAAOhD,KAAKs7D,gBAAgBviD,uBAAuB0iD,EAAUz4D,KAE9D,CACD7V,IAAK,mBACLmE,MAAO,SAA0BitB,GAC/B,OAAOve,KAAKs7D,gBAAgBE,iBAAiBj9C,KAE9C,CACDpxB,IAAK,eACLmE,MAAO,SAAsBqZ,EAAU3H,GACrC,OAAOhD,KAAKs7D,gBAAgBI,aAAa/wD,EAAU3H,KAEpD,CACD7V,IAAK,eACLmE,MAAO,WACL,OAAO0O,KAAKs7D,gBAAgBK,iBAE7B,CACDxuE,IAAK,iBACLmE,MAAO,WACL,OAAO0O,KAAKs7D,gBAAgBM,mBAE7B,CACDzuE,IAAK,cACLmE,MAAO,WACL,OAAO0O,KAAKs7D,gBAAgB7hD,gBAE7B,CACDtsB,IAAK,0BACLmE,MAAO,SAAiCmqE,GACtC,OAAOz7D,KAAKs7D,gBAAgBxiD,wBAAwB2iD,KAErD,CACDtuE,IAAK,gBACLmE,MAAO,SAAuBitB,GAC5B,OAAOve,KAAKs7D,gBAAgBC,cAAch9C,KAE3C,CACDpxB,IAAK,kBACLmE,MAAO,SAAyBqZ,GAC9B,OAAO3K,KAAKs7D,gBAAgB9uC,gBAAgB7hB,KAE7C,CACDxd,IAAK,cACLmE,MAAO,WACL,OAAO0O,KAAKs7D,gBAAgB7rC,gBAE7B,CACDtiC,IAAK,UACLmE,MAAO,WACL,OAAO0O,KAAKs7D,gBAAgBtnE,YAE7B,CACD7G,IAAK,gBACLmE,MAAO,WACL,OAAO0O,KAAKs7D,gBAAgB5T,kBAE7B,CACDv6D,IAAK,UACLmE,MAAO,WACL,OAAO0O,KAAKs7D,gBAAgB9a,YAE7B,CACDrzD,IAAK,yBACLmE,MAAO,WACL,OAAO0O,KAAKs7D,gBAAgBO,2BAE7B,CACD1uE,IAAK,+BACLmE,MAAO,WACL,OAAO0O,KAAKs7D,gBAAgBQ,iCAE7B,CACD3uE,IAAK,wBACLmE,MAAO,WACL,OAAO0O,KAAKs7D,gBAAgBhwC,0BAE7B,CACDn+B,IAAK,kBACLmE,MAAO,WACL,OAAO0O,KAAKs7D,gBAAgBS,oBAE7B,CACD5uE,IAAK,iCACLmE,MAAO,WACL,OAAO0O,KAAKs7D,gBAAgB7X,sCAhJ4CruC,EAAkBD,EAAY1T,UAAWkU,GAAiBC,GAAaR,EAAkBD,EAAaS,GAoJ3KyG,EA7IuC,I,iCCXhD,+CAEA,SAASjH,EAAkB1jB,EAAQqB,GAAS,IAAK,IAAIyc,EAAI,EAAGA,EAAIzc,EAAMrD,OAAQ8f,IAAK,CAAE,IAAI6F,EAAatiB,EAAMyc,GAAI6F,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAM1oB,OAAO2oB,eAAe/jB,EAAQ2jB,EAAWloB,IAAKkoB,IAI7S,SAAS8B,EAAgBjqB,EAAKC,EAAKmE,GAAiK,OAApJnE,KAAOD,EAAOJ,OAAO2oB,eAAevoB,EAAKC,EAAK,CAAEmE,MAAOA,EAAOgkB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBtoB,EAAIC,GAAOmE,EAAgBpE,EAG3M,IAAI8uE,GAAmB,EACZp+C,EAAqC,WAC9C,SAASA,EAAsBpM,IAXjC,SAAyB0D,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIxR,UAAU,qCAY5GsR,CAAgBjV,KAAM4d,GAEtBzG,EAAgBnX,KAAM,uBAAmB,GAEzCmX,EAAgBnX,KAAM,WAAY,MAElCA,KAAKs7D,gBAAkB9pD,EAAQqH,aAdnC,IAAsB1D,EAAaQ,EAAYC,EA2G7C,OA3GoBT,EAiBPyI,GAjBoBjI,EAiBG,CAAC,CACnCxoB,IAAK,mBACLmE,MAAO,SAA0BqZ,GAC/B3K,KAAK2K,SAAWA,IAEjB,CACDxd,IAAK,eACLmE,MAAO,WACL,OAAO0O,KAAK2K,WAEb,CACDxd,IAAK,yBACLmE,MAAO,SAAgCmqE,EAAUz4D,GAC/C,OAAOhD,KAAKs7D,gBAAgBviD,uBAAuB0iD,EAAUz4D,KAE9D,CACD7V,IAAK,UACLmE,MAAO,WAIL,IAAK0O,KAAK2K,SACR,OAAO,EAGT7L,aAAWk9D,EAAkB,yJAE7B,IAEE,OADAA,GAAmB,EACZh8D,KAAKs7D,gBAAgB9uC,gBAAgBxsB,KAAK2K,UAFnD,QAIEqxD,GAAmB,KAGtB,CACD7uE,IAAK,SACLmE,MAAO,SAAgB0R,GACrB,QAAKhD,KAAK2K,UAIH3K,KAAKs7D,gBAAgBI,aAAa17D,KAAK2K,SAAU3H,KAEzD,CACD7V,IAAK,cACLmE,MAAO,WACL,OAAO0O,KAAKs7D,gBAAgB7rC,gBAE7B,CACDtiC,IAAK,UACLmE,MAAO,WACL,OAAO0O,KAAKs7D,gBAAgBtnE,YAE7B,CACD7G,IAAK,gBACLmE,MAAO,WACL,OAAO0O,KAAKs7D,gBAAgB5T,kBAE7B,CACDv6D,IAAK,UACLmE,MAAO,WACL,OAAO0O,KAAKs7D,gBAAgB9a,YAE7B,CACDrzD,IAAK,yBACLmE,MAAO,WACL,OAAO0O,KAAKs7D,gBAAgBO,2BAE7B,CACD1uE,IAAK,+BACLmE,MAAO,WACL,OAAO0O,KAAKs7D,gBAAgBQ,iCAE7B,CACD3uE,IAAK,wBACLmE,MAAO,WACL,OAAO0O,KAAKs7D,gBAAgBhwC,0BAE7B,CACDn+B,IAAK,kBACLmE,MAAO,WACL,OAAO0O,KAAKs7D,gBAAgBS,oBAE7B,CACD5uE,IAAK,iCACLmE,MAAO,WACL,OAAO0O,KAAKs7D,gBAAgB7X,sCAvG4CruC,EAAkBD,EAAY1T,UAAWkU,GAAiBC,GAAaR,EAAkBD,EAAaS,GA2G3KgI,EArGuC,I,iCCVhD,iEAEA,SAASxI,EAAkB1jB,EAAQqB,GAAS,IAAK,IAAIyc,EAAI,EAAGA,EAAIzc,EAAMrD,OAAQ8f,IAAK,CAAE,IAAI6F,EAAatiB,EAAMyc,GAAI6F,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAM1oB,OAAO2oB,eAAe/jB,EAAQ2jB,EAAWloB,IAAKkoB,IAI7S,SAAS8B,EAAgBjqB,EAAKC,EAAKmE,GAAiK,OAApJnE,KAAOD,EAAOJ,OAAO2oB,eAAevoB,EAAKC,EAAK,CAAEmE,MAAOA,EAAOgkB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBtoB,EAAIC,GAAOmE,EAAgBpE,EAKpM,IAAI4wB,EAA+B,WAExC,SAASA,EAAgBrM,GACvB,IAAIoG,EAAQ7X,MAdhB,SAAyBkV,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIxR,UAAU,qCAgB5GsR,CAAgBjV,KAAM8d,GAEtB3G,EAAgBnX,KAAM,QAASiU,YAAmB,CAChDmJ,WAAY,SAAoBpgB,EAAMgG,GACpC6U,EAAMokD,kBAENpkD,EAAMkG,kBAAoB/a,EAEtB+R,YAAM/X,GACR6a,EAAMqkD,cAAgBl/D,EAEtB6a,EAAM8vC,eAAiB3qD,EAGzB6a,EAAM8B,gBAIVxC,EAAgBnX,KAAM,YAAa,MAEnCmX,EAAgBnX,KAAM,gBAAiB,MAEvCmX,EAAgBnX,KAAM,sBAAkB,GAExCmX,EAAgBnX,KAAM,4BAA6B,MAEnDmX,EAAgBnX,KAAM,6BAAyB,GAE/CmX,EAAgBnX,KAAM,yBAA0B,MAEhDmX,EAAgBnX,KAAM,0BAA2B,MAEjDmX,EAAgBnX,KAAM,iCAAkC,MAExDmX,EAAgBnX,KAAM,eAAW,GAEjCA,KAAKyR,QAAUA,EAhDnB,IAAsB0D,EAAaQ,EAAYC,EA0I7C,OA1IoBT,EAmDP2I,GAnDoBnI,EAmDH,CAAC,CAC7BxoB,IAAK,gBACL87B,IAAK,WACH,OAAOjpB,KAAKod,aAEb,CACDjwB,IAAK,YACLmE,MAAO,WAEL,IAAIipE,EAAYv6D,KAAKw6D,sBAAwBx6D,KAAKm8D,uBAAyBn8D,KAAKo8D,mBAE5E7B,GACFv6D,KAAKge,uBAGP,IAAIZ,EAAapd,KAAKod,WAEjBpd,KAAKoa,YAILgD,EAKDm9C,IACFv6D,KAAK26D,uBAAyB36D,KAAKoa,UACnCpa,KAAKq8D,wBAA0Bj/C,EAC/Bpd,KAAKs8D,+BAAiCt8D,KAAK+d,kBAC3C/d,KAAKu8D,sBAAwBv8D,KAAKyR,QAAQswC,kBAAkB/hD,KAAKoa,UAAWgD,EAAYpd,KAAK+d,oBAR7F/d,KAAKq8D,wBAA0Bj/C,KAWlC,CACDjwB,IAAK,mBACLmE,MAAO,SAA0B8oE,GAC3BA,IAAiBp6D,KAAKoa,YAI1Bpa,KAAKoa,UAAYggD,EACjBp6D,KAAK2Z,eAEN,CACDxsB,IAAK,oBACL87B,IAAK,WACH,OAAOjpB,KAAKw8D,2BAEdn6C,IAAK,SAAarf,GAChBhD,KAAKw8D,0BAA4Bx5D,IAElC,CACD7V,IAAK,qBACLmE,MAAO,WACL,OAAO0O,KAAK26D,yBAA2B36D,KAAKoa,YAE7C,CACDjtB,IAAK,sBACLmE,MAAO,WACL,OAAO0O,KAAKq8D,0BAA4Br8D,KAAKod,aAE9C,CACDjwB,IAAK,mBACLmE,MAAO,WACL,OAAQ6c,YAAanO,KAAKs8D,+BAAgCt8D,KAAK+d,qBAEhE,CACD5wB,IAAK,uBACLmE,MAAO,WACD0O,KAAKu8D,wBACPv8D,KAAKu8D,wBACLv8D,KAAKu8D,2BAAwBx4D,KAGhC,CACD5W,IAAK,aACL87B,IAAK,WACH,OAAOjpB,KAAK2nD,gBAAkB3nD,KAAKk8D,eAAiBl8D,KAAKk8D,cAAc72D,UAExE,CACDlY,IAAK,kBACLmE,MAAO,WACL0O,KAAKk8D,cAAgB,KACrBl8D,KAAK2nD,eAAiB,UAtIkDvyC,EAAkBD,EAAY1T,UAAWkU,GAAiBC,GAAaR,EAAkBD,EAAaS,GA0I3KkI,EAnIiC,I,iFCX/B2+C,EAAc,uBACdC,EAAa,sBACbC,EAAsB,+BACtBC,EAAQ,iBACRC,EAAO,gBACPC,EAAW,oBCJf,SAASC,EAAgBl3C,EAAcm3C,GAC5C,MAAO,CACLrtE,KAAM8sE,EACNltE,QAAS,CACPytE,mBAAoBA,GAAsB,KAC1Cn3C,aAAcA,GAAgB,OCNpC,SAAS/gB,EAAQ5X,GAAmV,OAAtO4X,EAArD,oBAAXC,QAAoD,kBAApBA,OAAOC,SAAmC,SAAiB9X,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,oBAAX6X,QAAyB7X,EAAI+X,cAAgBF,QAAU7X,IAAQ6X,OAAOtD,UAAY,gBAAkBvU,GAAiB4X,EAAQ5X,GAU5W,SAAS+7B,EAAI/7B,EAAKuQ,EAAMrN,GAC7B,OAAOqN,EAAKpF,MAAM,KAAKpL,QAAO,SAAUiJ,EAAG+mE,GACzC,OAAO/mE,GAAKA,EAAE+mE,GAAK/mE,EAAE+mE,GAAK7sE,GAAgB,OACzClD,GAME,SAASgwE,EAAQr6C,EAAOjxB,GAC7B,OAAOixB,EAAMH,QAAO,SAAUlT,GAC5B,OAAOA,IAAM5d,KAgBV,SAASqQ,EAASgE,GACvB,MAA0B,WAAnBnB,EAAQmB,GAQV,SAASk3D,EAAIh7C,EAAQC,GAC1B,IAAIzwB,EAAM,IAAI64B,IAEVjI,EAAa,SAAoB3wB,GACnCD,EAAI0wB,IAAIzwB,EAAMD,EAAIskC,IAAIrkC,GAAQD,EAAIs3B,IAAIr3B,GAAQ,EAAI,IAGpDuwB,EAAOxhB,QAAQ4hB,GACfH,EAAOzhB,QAAQ4hB,GACf,IAAInf,EAAS,GAMb,OALAzR,EAAIgP,SAAQ,SAAUnO,EAAOrF,GACb,IAAVqF,GACF4Q,EAAOgH,KAAKjd,MAGTiW,ECzDT,IAAIg6D,EAAyB,CAC3BztE,KAAM8sE,EACNltE,QAAS,CACPs2B,aAAc,KACdm3C,mBAAoB,OAGjB,SAASK,EAAgB7rD,GAC9B,OAAO,WACL,IAAI8rD,EAAY54D,UAAUhV,OAAS,QAAsBqU,IAAjBW,UAAU,GAAmBA,UAAU,GAAK,GAChF1B,EAAU0B,UAAUhV,OAAS,QAAsBqU,IAAjBW,UAAU,GAAmBA,UAAU,GAAK,CAChF2mB,eAAe,GAEbkyC,EAAwBv6D,EAAQqoB,cAChCA,OAA0C,IAA1BkyC,GAA0CA,EAC1D13C,EAAe7iB,EAAQ6iB,aACvByF,EAAwBtoB,EAAQsoB,sBAChC1S,EAAUpH,EAAQqH,aAClBgS,EAAWrZ,EAAQgc,cAEvBhc,EAAQ/lB,SAASsxE,EAAgBl3C,IACjC23C,EAAiBF,EAAW1kD,EAASiS,GAErC,IAAItM,EAAWk/C,EAAmBH,EAAW1kD,GAE7C,GAAiB,OAAb2F,EAAJ,CAMA,IAAIy+C,EAAqB,KAEzB,GAAIn3C,EAAc,CAChB,IAAKyF,EACH,MAAM,IAAIvX,MAAM,yCAGlB2pD,EAAsCpyC,GACtC0xC,EAAqB1xC,EAAsB/M,GAI7C/M,EAAQ/lB,SAASsxE,EAAgBl3C,EAAcm3C,IAC/C,IAAInsD,EAASga,EAAS8yC,UAAUp/C,GAC5B3sB,EAAOif,EAAOyN,UAAU1F,EAAS2F,GAErC,GAAY,MAAR3sB,EAAJ,CAIAgsE,EAAmBhsE,GACnBi5B,EAASgzC,UAAUt/C,GACnB,IAAIvE,EAAW6Q,EAASizC,cAAcv/C,GACtC,MAAO,CACL5uB,KAAM+sE,EACNntE,QAAS,CACPyqB,SAAUA,EACVpoB,KAAMA,EACN2sB,SAAUA,EACVsH,aAAcA,GAAgB,KAC9Bm3C,mBAAoBA,GAAsB,KAC1CpB,iBAAkBvwC,UApCpB7Z,EAAQ/lB,SAAS2xE,IA0CvB,SAASI,EAAiBF,EAAW1kD,EAASiS,GAC5C/rB,aAAW8Z,EAAQY,aAAc,yCACjC8jD,EAAU38D,SAAQ,SAAU4d,GAC1Bzf,YAAU+rB,EAAS8yC,UAAUp/C,GAAW,2CAI5C,SAASm/C,EAAsCpyC,GAC7CxsB,YAA2C,oBAA1BwsB,EAAsC,4EAGzD,SAASsyC,EAAmBhsE,GAC1BkN,YAAUmD,EAASrQ,GAAO,2BAG5B,SAAS6rE,EAAmBH,EAAW1kD,GAGrC,IAFA,IAAI2F,EAAW,KAEN/O,EAAI8tD,EAAU5tE,OAAS,EAAG8f,GAAK,EAAGA,IACzC,GAAIoJ,EAAQ2iD,cAAc+B,EAAU9tD,IAAK,CACvC+O,EAAW++C,EAAU9tD,GACrB,MAIJ,OAAO+O,EChGF,SAASw/C,EAAwBvsD,GACtC,OAAO,WAGL,GAFcA,EAAQqH,aAEVW,aACV,MAAO,CACL7pB,KAAMgtE,ICPP,SAASqB,EAAYC,EAAYC,GACtC,OAAwB,OAApBA,EACoB,OAAfD,EAGFtiE,MAAM4K,QAAQ03D,GAAcA,EAAWxiE,MAAK,SAAUpQ,GAC3D,OAAOA,IAAM6yE,KACVD,IAAeC,ECJf,SAASC,EAAY3sD,GAC1B,OAAO,SAAe4sD,GACpB,IAAInxD,EAAOvI,UAAUhV,OAAS,QAAsBqU,IAAjBW,UAAU,GAAmBA,UAAU,GAAK,GAC3EmhB,EAAe5Y,EAAK4Y,aAExBw4C,EAAuBD,GACvB,IAAIE,EAAYF,EAAaz7D,MAAM,GAC/BiW,EAAUpH,EAAQqH,aAClBgS,EAAWrZ,EAAQgc,cACvB+wC,EAAgBD,EAAW1lD,EAASiS,GACpC,IAAIqzC,EAAkBtlD,EAAQ6W,cAG9B,OAFA+uC,EAA2BF,EAAWzzC,EAAUqzC,GAChDO,EAAgBH,EAAW1lD,EAASiS,GAC7B,CACLl7B,KAAMitE,EACNrtE,QAAS,CACP+uE,UAAWA,EACXz4C,aAAcA,GAAgB,QAMtC,SAASw4C,EAAuBD,GAC9Bt/D,YAAUnD,MAAM4K,QAAQ63D,GAAe,sCAGzC,SAASG,EAAgBD,EAAW1lD,EAASiS,GAC3C/rB,YAAU8Z,EAAQY,aAAc,yCAChC1a,aAAW8Z,EAAQ4nC,UAAW,iCAE9B,IAAK,IAAIhxC,EAAI,EAAGA,EAAI8uD,EAAU5uE,OAAQ8f,IAAK,CACzC,IAAI7E,EAAW2zD,EAAU9uD,GACzB1Q,YAAUw/D,EAAUI,YAAY/zD,KAAc6E,EAAG,wDACjD,IAAI9d,EAASm5B,EAAS8zC,UAAUh0D,GAChC7L,YAAUpN,EAAQ,yCAItB,SAAS8sE,EAA2BF,EAAWzzC,EAAUqzC,GAIvD,IAAK,IAAI1uD,EAAI8uD,EAAU5uE,OAAS,EAAG8f,GAAK,EAAGA,IAAK,CAC9C,IAAI7E,EAAW2zD,EAAU9uD,GAGpBwuD,EAFYnzC,EAAS+zC,cAAcj0D,GAEXuzD,IAC3BI,EAAUr+C,OAAOzQ,EAAG,IAK1B,SAASivD,EAAgBH,EAAW1lD,EAASiS,GAE3CyzC,EAAU39D,SAAQ,SAAUgK,GACbkgB,EAAS8zC,UAAUh0D,GACzBsS,MAAMrE,EAASjO,MC5D1B,SAASof,EAAQC,EAAQC,GAAkB,IAAIl9B,EAAOD,OAAOC,KAAKi9B,GAAS,GAAIl9B,OAAOmkB,sBAAuB,CAAE,IAAIiZ,EAAUp9B,OAAOmkB,sBAAsB+Y,GAAaC,IAAkBC,EAAUA,EAAQxH,QAAO,SAAUyH,GAAO,OAAOr9B,OAAOs9B,yBAAyBJ,EAAQG,GAAK7U,eAAkBvoB,EAAKqd,KAAKpG,MAAMjX,EAAMm9B,GAAY,OAAOn9B,EAElV,SAASs9B,EAAc34B,GAAU,IAAK,IAAI8d,EAAI,EAAGA,EAAI9K,UAAUhV,OAAQ8f,IAAK,CAAE,IAAIqB,EAAyB,MAAhBnM,UAAU8K,GAAa9K,UAAU8K,GAAK,GAAQA,EAAI,EAAKua,EAAQj9B,OAAO+jB,IAAS,GAAMlQ,SAAQ,SAAUxT,GAAOgqB,EAAgBzlB,EAAQvE,EAAK0jB,EAAO1jB,OAAsBL,OAAOw9B,0BAA6Bx9B,OAAOy0B,iBAAiB7vB,EAAQ5E,OAAOw9B,0BAA0BzZ,IAAmBkZ,EAAQj9B,OAAO+jB,IAASlQ,SAAQ,SAAUxT,GAAOL,OAAO2oB,eAAe/jB,EAAQvE,EAAKL,OAAOs9B,yBAAyBvZ,EAAQ1jB,OAAe,OAAOuE,EAE7gB,SAASylB,EAAgBjqB,EAAKC,EAAKmE,GAAiK,OAApJnE,KAAOD,EAAOJ,OAAO2oB,eAAevoB,EAAKC,EAAK,CAAEmE,MAAOA,EAAOgkB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBtoB,EAAIC,GAAOmE,EAAgBpE,EAKpM,SAAS2xE,EAAWrtD,GACzB,OAAO,WACL,IAAIxO,EAAU0B,UAAUhV,OAAS,QAAsBqU,IAAjBW,UAAU,GAAmBA,UAAU,GAAK,GAC9EkU,EAAUpH,EAAQqH,aAClBgS,EAAWrZ,EAAQgc,cACvBgwC,EAAiB5kD,GACjB,IAAI0lD,EAAYQ,EAAoBlmD,GAEpC0lD,EAAU39D,SAAQ,SAAUgK,EAAU9Y,GACpC,IAAIm1D,EAAa+X,EAAoBp0D,EAAU9Y,EAAOg5B,EAAUjS,GAC5D4G,EAAS,CACX7vB,KAAMktE,EACNttE,QAAS,CACPy3D,WAAY38B,EAAcA,EAAc,GAAIrnB,GAAUgkD,KAG1Dx1C,EAAQ/lB,SAAS+zB,OAKvB,SAASg+C,EAAiB5kD,GACxB9Z,YAAU8Z,EAAQY,aAAc,wCAChC1a,aAAW8Z,EAAQ4nC,UAAW,qDAGhC,SAASue,EAAoBp0D,EAAU9Y,EAAOg5B,EAAUjS,GACtD,IAAIlnB,EAASm5B,EAAS8zC,UAAUh0D,GAC5Bq8C,EAAat1D,EAASA,EAAOwrB,KAAKtE,EAASjO,QAAY5G,EAO3D,OAGF,SAA8BijD,GAC5BloD,YAAgC,qBAAfkoD,GAA8B/kD,EAAS+kD,GAAa,sDAVrEgY,CAAqBhY,GAEK,qBAAfA,IACTA,EAAuB,IAAVn1D,EAAc,GAAK+mB,EAAQ8uC,iBAGnCV,EAOT,SAAS8X,EAAoBlmD,GAC3B,IAAI0lD,EAAY1lD,EAAQ+iD,eAAej5C,OAAO9J,EAAQ4T,gBAAiB5T,GAEvE,OADA0lD,EAAU/2D,UACH+2D,ECpDF,SAASW,EAAcztD,GAC5B,OAAO,WACL,IAAIoH,EAAUpH,EAAQqH,aAClBgS,EAAWrZ,EAAQgc,eAgB3B,SAA0B5U,GACxB9Z,YAAU8Z,EAAQY,aAAc,2CAhB9B0lD,CAAiBtmD,GACjB,IAAI2F,EAAW3F,EAAQa,cAEP,MAAZ8E,IACWsM,EAAS8yC,UAAUp/C,GAAU,GACnCC,QAAQ5F,EAAS2F,GACxBsM,EAASs0C,eAGX,MAAO,CACLxvE,KAAMmtE,ICdZ,SAAS1nD,EAAkB1jB,EAAQqB,GAAS,IAAK,IAAIyc,EAAI,EAAGA,EAAIzc,EAAMrD,OAAQ8f,IAAK,CAAE,IAAI6F,EAAatiB,EAAMyc,GAAI6F,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAM1oB,OAAO2oB,eAAe/jB,EAAQ2jB,EAAWloB,IAAKkoB,IAI7S,SAAS8B,EAAgBjqB,EAAKC,EAAKmE,GAAiK,OAApJnE,KAAOD,EAAOJ,OAAO2oB,eAAevoB,EAAKC,EAAK,CAAEmE,MAAOA,EAAOgkB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBtoB,EAAIC,GAAOmE,EAAgBpE,EAGpM,IAAIkyE,EAAmC,WAC5C,SAASA,EAAoBzzE,EAAOitB,GAClC,IAAIf,EAAQ7X,MAXhB,SAAyBkV,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIxR,UAAU,qCAa5GsR,CAAgBjV,KAAMo/D,GAEtBjoD,EAAgBnX,KAAM,aAAS,GAE/BmX,EAAgBnX,KAAM,eAAW,GAEjCmX,EAAgBnX,KAAM,eAAW,GAEjCmX,EAAgBnX,KAAM,WAAW,GAEjCmX,EAAgBnX,KAAM,wBAAwB,WAC5C,IAAIq/D,EAAcxnD,EAAMlsB,MAAMwlD,WAAW//B,SAAW,EAEhDyG,EAAMpG,UACJ4tD,IAAgBxnD,EAAMynD,SACxBznD,EAAMpG,QAAQ8tD,QAEd1nD,EAAMynD,SAAU,IACND,GAAexnD,EAAMynD,UAC/BznD,EAAMpG,QAAQ+tD,WAEd3nD,EAAMynD,SAAU,OAKtBt/D,KAAKrU,MAAQA,EACbqU,KAAK4Y,QAAUA,EACfjtB,EAAMqlC,UAAUhxB,KAAKy/D,sBArCzB,IAAsBtqD,EAAaQ,EAAYC,EA+F7C,OA/FoBT,EAwCPiqD,EAxCoBzpD,EAwCC,CAAC,CACjCxoB,IAAK,iBACLmE,MAAO,SAAwBmgB,GAC7BzR,KAAKyR,QAAUA,IAEhB,CACDtkB,IAAK,aACLmE,MAAO,WACL,OAAO0O,KAAK4Y,UAEb,CACDzrB,IAAK,aACLmE,MAAO,WACL,OAAO0O,KAAKyR,UAEb,CACDtkB,IAAK,cACLmE,MAAO,WACL,OAAO0O,KAAK4Y,QAAQiS,WAErB,CACD19B,IAAK,aACLmE,MAAO,WAEL,IAAIkgB,EAAUxR,KACVvU,EAAWuU,KAAKrU,MAAMF,SAgBtBk/B,EC/EH,SAA+BnZ,GACpC,MAAO,CACL8M,UAAW++C,EAAgB7rD,GAC3Bwa,kBAAmB+xC,EAAwBvsD,GAC3CyL,MAAOkhD,EAAY3sD,GACnB0L,KAAM2hD,EAAWrtD,GACjBgN,QAASygD,EAAcztD,IDyEPkuD,CAAsB1/D,MACpC,OAAOlT,OAAOC,KAAK49B,GAAS19B,QAAO,SAAU0yE,EAAcxyE,GACzD,IAhByByyE,EAgBrBpgD,EAASmL,EAAQx9B,GAErB,OADAwyE,EAAaxyE,IAjBYyyE,EAiBapgD,EAhB/B,WACL,IAAK,IAAI1H,EAAOpT,UAAUhV,OAAQsP,EAAO,IAAIrD,MAAMmc,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/E/Y,EAAK+Y,GAAQrT,UAAUqT,GAGzB,IAAIyH,EAASogD,EAAc57D,MAAMwN,EAASxS,GAEpB,qBAAXwgB,GACT/zB,EAAS+zB,KASNmgD,IACN,MAEJ,CACDxyE,IAAK,WACLmE,MAAO,SAAkBkuB,GACvBxf,KAAKrU,MAAMF,SAAS+zB,MA3FwC7J,GAAYP,EAAkBD,EAAY1T,UAAWkU,GAAiBC,GAAaR,EAAkBD,EAAaS,GA+F3KwpD,EA1FqC,G,KEA9C,SAASS,EAAuBrvE,GAC9B,MAAO,yBAA2BA,EAAO,4CAA8CA,EAAhF,kFAIT,IAAIsvE,EACuB,oBAAX/6D,QAAyBA,OAAOg7D,YAAc,eAS1DC,EAAe,WACjB,OAAOrmE,KAAKsmE,SAASv+D,SAAS,IAAIw+D,UAAU,GAAG7nE,MAAM,IAAImS,KAAK,MAG5D21D,EAAc,CAChBC,KAAM,eAAiBJ,IACvBK,QAAS,kBAAoBL,IAC7BM,qBAAsB,WACpB,MAAO,+BAAiCN,MAQ5C,SAAS95D,EAAchZ,GACrB,GAAmB,kBAARA,GAA4B,OAARA,EAAc,OAAO,EAGpD,IAFA,IAAIkZ,EAAQlZ,EAE4B,OAAjCJ,OAAOqZ,eAAeC,IAC3BA,EAAQtZ,OAAOqZ,eAAeC,GAGhC,OAAOtZ,OAAOqZ,eAAejZ,KAASkZ,EAwFxC,SAASm6D,EAAYC,EAASC,EAAgBC,GAC5C,IAAIz/C,EAEJ,GAA8B,oBAAnBw/C,GAAqD,oBAAbC,GAA+C,oBAAbA,GAAmD,oBAAjBh8D,UAAU,GAC/H,MAAM,IAAIqP,MAA8C8rD,EAAuB,IAQjF,GAL8B,oBAAnBY,GAAqD,qBAAbC,IACjDA,EAAWD,EACXA,OAAiB18D,GAGK,qBAAb28D,EAA0B,CACnC,GAAwB,oBAAbA,EACT,MAAM,IAAI3sD,MAA8C8rD,EAAuB,IAGjF,OAAOa,EAASH,EAATG,CAAsBF,EAASC,GAGxC,GAAuB,oBAAZD,EACT,MAAM,IAAIzsD,MAA8C8rD,EAAuB,IAGjF,IAAIc,EAAiBH,EACjBI,EAAeH,EACfI,EAAmB,GACnBC,EAAgBD,EAChBE,GAAgB,EASpB,SAASC,IACHF,IAAkBD,IACpBC,EAAgBD,EAAiBl+D,SAUrC,SAASwuC,IACP,GAAI4vB,EACF,MAAM,IAAIhtD,MAA8C8rD,EAAuB,IAGjF,OAAOe,EA2BT,SAAS5vC,EAAUyqC,GACjB,GAAwB,oBAAbA,EACT,MAAM,IAAI1nD,MAA8C8rD,EAAuB,IAGjF,GAAIkB,EACF,MAAM,IAAIhtD,MAA8C8rD,EAAuB,IAGjF,IAAIoB,GAAe,EAGnB,OAFAD,IACAF,EAAc12D,KAAKqxD,GACZ,WACL,GAAKwF,EAAL,CAIA,GAAIF,EACF,MAAM,IAAIhtD,MAA8C8rD,EAAuB,IAGjFoB,GAAe,EACfD,IACA,IAAInvE,EAAQivE,EAAc3jE,QAAQs+D,GAClCqF,EAAc7gD,OAAOpuB,EAAO,GAC5BgvE,EAAmB,OA8BvB,SAASp1E,EAAS+zB,GAChB,IAAKtZ,EAAcsZ,GACjB,MAAM,IAAIzL,MAA8C8rD,EAAuB,IAGjF,GAA2B,qBAAhBrgD,EAAO7vB,KAChB,MAAM,IAAIokB,MAA8C8rD,EAAuB,IAGjF,GAAIkB,EACF,MAAM,IAAIhtD,MAA8C8rD,EAAuB,IAGjF,IACEkB,GAAgB,EAChBH,EAAeD,EAAeC,EAAcphD,GAF9C,QAIEuhD,GAAgB,EAKlB,IAFA,IAAIG,EAAYL,EAAmBC,EAE1BtxD,EAAI,EAAGA,EAAI0xD,EAAUxxE,OAAQ8f,IAAK,EAEzCisD,EADeyF,EAAU1xD,MAI3B,OAAOgQ,EAcT,SAAS2hD,EAAeC,GACtB,GAA2B,oBAAhBA,EACT,MAAM,IAAIrtD,MAA8C8rD,EAAuB,KAGjFc,EAAiBS,EAKjB31E,EAAS,CACPkE,KAAMwwE,EAAYE,UAWtB,SAASN,IACP,IAAI9yD,EAEAo0D,EAAiBrwC,EACrB,OAAO/jB,EAAO,CASZ+jB,UAAW,SAAmBkH,GAC5B,GAAwB,kBAAbA,GAAsC,OAAbA,EAClC,MAAM,IAAInkB,MAA8C8rD,EAAuB,KAGjF,SAASyB,IACHppC,EAASloB,MACXkoB,EAASloB,KAAKmhC,KAMlB,OAFAmwB,IAEO,CACLvgD,YAFgBsgD,EAAeC,OAK7BxB,GAAgB,WACtB,OAAO9/D,MACNiN,EASL,OAHAxhB,EAAS,CACPkE,KAAMwwE,EAAYC,QAEbn/C,EAAQ,CACbx1B,SAAUA,EACVulC,UAAWA,EACXmgB,SAAUA,EACVgwB,eAAgBA,IACTrB,GAAgBC,EAAY9+C,EC7XhC,IAAIsgD,EAAiB,SAAwBrrE,EAAGotB,GACrD,OAAOptB,IAAMotB,GAQR,SAASk+C,EAAeC,EAASC,GACtC,OAAKD,IAAYC,MAELD,IAAYC,KAGfD,EAAQz2D,IAAM02D,EAAQ12D,GAAKy2D,EAAQl8C,IAAMm8C,EAAQn8C,GASrD,SAASo8C,EAAezrE,EAAGotB,GAChC,IAAIsoC,EAAUlnD,UAAUhV,OAAS,QAAsBqU,IAAjBW,UAAU,GAAmBA,UAAU,GAAK68D,EAElF,GAAIrrE,EAAExG,SAAW4zB,EAAE5zB,OACjB,OAAO,EAGT,IAAK,IAAI8f,EAAI,EAAGA,EAAItZ,EAAExG,SAAU8f,EAC9B,IAAKo8C,EAAQ11D,EAAEsZ,GAAI8T,EAAE9T,IACnB,OAAO,EAIX,OAAO,ECrCT,SAASua,EAAQC,EAAQC,GAAkB,IAAIl9B,EAAOD,OAAOC,KAAKi9B,GAAS,GAAIl9B,OAAOmkB,sBAAuB,CAAE,IAAIiZ,EAAUp9B,OAAOmkB,sBAAsB+Y,GAAaC,IAAkBC,EAAUA,EAAQxH,QAAO,SAAUyH,GAAO,OAAOr9B,OAAOs9B,yBAAyBJ,EAAQG,GAAK7U,eAAkBvoB,EAAKqd,KAAKpG,MAAMjX,EAAMm9B,GAAY,OAAOn9B,EAElV,SAASs9B,EAAc34B,GAAU,IAAK,IAAI8d,EAAI,EAAGA,EAAI9K,UAAUhV,OAAQ8f,IAAK,CAAE,IAAIqB,EAAyB,MAAhBnM,UAAU8K,GAAa9K,UAAU8K,GAAK,GAAQA,EAAI,EAAKua,EAAQj9B,OAAO+jB,IAAS,GAAMlQ,SAAQ,SAAUxT,GAAOgqB,EAAgBzlB,EAAQvE,EAAK0jB,EAAO1jB,OAAsBL,OAAOw9B,0BAA6Bx9B,OAAOy0B,iBAAiB7vB,EAAQ5E,OAAOw9B,0BAA0BzZ,IAAmBkZ,EAAQj9B,OAAO+jB,IAASlQ,SAAQ,SAAUxT,GAAOL,OAAO2oB,eAAe/jB,EAAQvE,EAAKL,OAAOs9B,yBAAyBvZ,EAAQ1jB,OAAe,OAAOuE,EAE7gB,SAASylB,EAAgBjqB,EAAKC,EAAKmE,GAAiK,OAApJnE,KAAOD,EAAOJ,OAAO2oB,eAAevoB,EAAKC,EAAK,CAAEmE,MAAOA,EAAOgkB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBtoB,EAAIC,GAAOmE,EAAgBpE,EAI3M,IAAI00E,EAAe,CACjBC,0BAA2B,KAC3BC,oBAAqB,KACrBj8C,aAAc,MAET,SAAS54B,IACd,IAAIpB,EAAQ6Y,UAAUhV,OAAS,QAAsBqU,IAAjBW,UAAU,GAAmBA,UAAU,GAAKk9D,EAC5EpiD,EAAS9a,UAAUhV,OAAS,EAAIgV,UAAU,QAAKX,EAC/CxU,EAAUiwB,EAAOjwB,QAErB,OAAQiwB,EAAO7vB,MACb,KAAK8sE,EACL,KAAKC,EACH,MAAO,CACLmF,0BAA2BtyE,EAAQytE,mBACnC8E,oBAAqBvyE,EAAQs2B,aAC7BA,aAAct2B,EAAQs2B,cAG1B,KAAK+2C,EACH,OAAI4E,EAAe31E,EAAMg6B,aAAct2B,EAAQs2B,cACtCh6B,EAGFw+B,EAAcA,EAAc,GAAIx+B,GAAQ,GAAI,CACjDg6B,aAAct2B,EAAQs2B,eAG1B,KAAKi3C,EACL,KAAKD,EACH,OAAO+E,EAET,QACE,OAAO/1E,GCzCN,IAAIk2E,GAAa,sBACbC,GAAa,sBACbC,GAAgB,yBAChBC,GAAgB,yBCH3B,SAASn4C,GAAQC,EAAQC,GAAkB,IAAIl9B,EAAOD,OAAOC,KAAKi9B,GAAS,GAAIl9B,OAAOmkB,sBAAuB,CAAE,IAAIiZ,EAAUp9B,OAAOmkB,sBAAsB+Y,GAAaC,IAAkBC,EAAUA,EAAQxH,QAAO,SAAUyH,GAAO,OAAOr9B,OAAOs9B,yBAAyBJ,EAAQG,GAAK7U,eAAkBvoB,EAAKqd,KAAKpG,MAAMjX,EAAMm9B,GAAY,OAAOn9B,EAElV,SAASs9B,GAAc34B,GAAU,IAAK,IAAI8d,EAAI,EAAGA,EAAI9K,UAAUhV,OAAQ8f,IAAK,CAAE,IAAIqB,EAAyB,MAAhBnM,UAAU8K,GAAa9K,UAAU8K,GAAK,GAAQA,EAAI,EAAKua,GAAQj9B,OAAO+jB,IAAS,GAAMlQ,SAAQ,SAAUxT,GAAOgqB,GAAgBzlB,EAAQvE,EAAK0jB,EAAO1jB,OAAsBL,OAAOw9B,0BAA6Bx9B,OAAOy0B,iBAAiB7vB,EAAQ5E,OAAOw9B,0BAA0BzZ,IAAmBkZ,GAAQj9B,OAAO+jB,IAASlQ,SAAQ,SAAUxT,GAAOL,OAAO2oB,eAAe/jB,EAAQvE,EAAKL,OAAOs9B,yBAAyBvZ,EAAQ1jB,OAAe,OAAOuE,EAE7gB,SAASylB,GAAgBjqB,EAAKC,EAAKmE,GAAiK,OAApJnE,KAAOD,EAAOJ,OAAO2oB,eAAevoB,EAAKC,EAAK,CAAEmE,MAAOA,EAAOgkB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBtoB,EAAIC,GAAOmE,EAAgBpE,EAK3M,IAAI00E,GAAe,CACjB5nD,SAAU,KACVpoB,KAAM,KACN2sB,SAAU,KACV+/C,UAAW,GACXtX,WAAY,KACZxG,SAAS,EACTob,eAAgB,MAEX,SAAS3uE,KACd,IAAIpB,EAAQ6Y,UAAUhV,OAAS,QAAsBqU,IAAjBW,UAAU,GAAmBA,UAAU,GAAKk9D,GAC5EpiD,EAAS9a,UAAUhV,OAAS,EAAIgV,UAAU,QAAKX,EAC/CxU,EAAUiwB,EAAOjwB,QAErB,OAAQiwB,EAAO7vB,MACb,KAAK+sE,EACH,OAAOryC,GAAcA,GAAc,GAAIx+B,GAAQ,GAAI,CACjDmuB,SAAUzqB,EAAQyqB,SAClBpoB,KAAMrC,EAAQqC,KACd2sB,SAAUhvB,EAAQgvB,SAClBq9C,eAAgBrsE,EAAQqsE,eACxB5U,WAAY,KACZxG,SAAS,IAGb,KAAKmc,EACH,OAAOtyC,GAAcA,GAAc,GAAIx+B,GAAQ,GAAI,CACjD+vE,gBAAgB,IAGpB,KAAKgB,EACH,OAAOvyC,GAAcA,GAAc,GAAIx+B,GAAQ,GAAI,CACjDyyE,UAAW/uE,EAAQ+uE,YAGvB,KAAK4D,GACH,OAAmD,IAA/Cr2E,EAAMyyE,UAAUnhE,QAAQ5N,EAAQob,UAC3B9e,EAGFw+B,GAAcA,GAAc,GAAIx+B,GAAQ,GAAI,CACjDyyE,UAAWpB,EAAQrxE,EAAMyyE,UAAW/uE,EAAQob,YAGhD,KAAKkyD,EACH,OAAOxyC,GAAcA,GAAc,GAAIx+B,GAAQ,GAAI,CACjDm7D,WAAYz3D,EAAQy3D,WACpBxG,SAAS,EACT8d,UAAW,KAGf,KAAKxB,EACH,OAAOzyC,GAAcA,GAAc,GAAIx+B,GAAQ,GAAI,CACjDmuB,SAAU,KACVpoB,KAAM,KACN2sB,SAAU,KACVyoC,WAAY,KACZxG,SAAS,EACTob,eAAgB,KAChB0C,UAAW,KAGf,QACE,OAAOzyE,GCvEN,SAASoB,KACd,IAAIpB,EAAQ6Y,UAAUhV,OAAS,QAAsBqU,IAAjBW,UAAU,GAAmBA,UAAU,GAAK,EAC5E8a,EAAS9a,UAAUhV,OAAS,EAAIgV,UAAU,QAAKX,EAEnD,OAAQyb,EAAO7vB,MACb,KAAKoyE,GACL,KAAKC,GACH,OAAOn2E,EAAQ,EAEjB,KAAKo2E,GACL,KAAKC,GACH,OAAOr2E,EAAQ,EAEjB,QACE,OAAOA,GCdN,IAAIg+C,GAAO,GACPs4B,GAAM,GAUV,SAASC,GAASC,EAAUzmD,GACjC,OAAIymD,IAAax4B,KAIbw4B,IAAaF,IAA6B,qBAAfvmD,IfoDIwG,EehDMigD,EAAZzmD,EfiDf8G,QAAO,SAAUr3B,GAC7B,OAAO+2B,EAAOjlB,QAAQ9R,IAAM,MejDbqE,OAAS,GAD1B,IfgDmC0yB,EgBhE9B,SAASn1B,KACd,IAEIuyB,EAAS9a,UAAUhV,OAAS,EAAIgV,UAAU,QAAKX,EAEnD,OAAQyb,EAAO7vB,MACb,KAAKitE,EACH,MAEF,KAAKmF,GACL,KAAKC,GACL,KAAKE,GACL,KAAKD,GACH,OAAOp4B,GAMT,QACE,OAAOs4B,GAGX,IAAIG,EAAkB9iD,EAAOjwB,QACzBgzE,EAAwBD,EAAgBhE,UACxCA,OAAsC,IAA1BiE,EAAmC,GAAKA,EACpDC,EAAwBF,EAAgBG,cACxCA,OAA0C,IAA1BD,EAAmC,GAAKA,EACxDp/D,EAAS+5D,EAAImB,EAAWmE,GACxBlI,EAAYn3D,EAAO1T,OAAS,IAAMiyE,EAAerD,EAAWmE,GAEhE,IAAKlI,EACH,OAAO1wB,GAKT,IAAI64B,EAAwBD,EAAcA,EAAc/yE,OAAS,GAC7DizE,EAAoBrE,EAAUA,EAAU5uE,OAAS,GAYrD,OAVIgzE,IAA0BC,IACxBD,GACFt/D,EAAOgH,KAAKs4D,GAGVC,GACFv/D,EAAOgH,KAAKu4D,IAITv/D,ECvDF,SAASnW,KACd,IAAIpB,EAAQ6Y,UAAUhV,OAAS,QAAsBqU,IAAjBW,UAAU,GAAmBA,UAAU,GAAK,EAChF,OAAO7Y,EAAQ,ECFjB,SAASk+B,GAAQC,EAAQC,GAAkB,IAAIl9B,EAAOD,OAAOC,KAAKi9B,GAAS,GAAIl9B,OAAOmkB,sBAAuB,CAAE,IAAIiZ,EAAUp9B,OAAOmkB,sBAAsB+Y,GAAaC,IAAkBC,EAAUA,EAAQxH,QAAO,SAAUyH,GAAO,OAAOr9B,OAAOs9B,yBAAyBJ,EAAQG,GAAK7U,eAAkBvoB,EAAKqd,KAAKpG,MAAMjX,EAAMm9B,GAAY,OAAOn9B,EAElV,SAASs9B,GAAc34B,GAAU,IAAK,IAAI8d,EAAI,EAAGA,EAAI9K,UAAUhV,OAAQ8f,IAAK,CAAE,IAAIqB,EAAyB,MAAhBnM,UAAU8K,GAAa9K,UAAU8K,GAAK,GAAQA,EAAI,EAAKua,GAAQj9B,OAAO+jB,IAAS,GAAMlQ,SAAQ,SAAUxT,GAAOgqB,GAAgBzlB,EAAQvE,EAAK0jB,EAAO1jB,OAAsBL,OAAOw9B,0BAA6Bx9B,OAAOy0B,iBAAiB7vB,EAAQ5E,OAAOw9B,0BAA0BzZ,IAAmBkZ,GAAQj9B,OAAO+jB,IAASlQ,SAAQ,SAAUxT,GAAOL,OAAO2oB,eAAe/jB,EAAQvE,EAAKL,OAAOs9B,yBAAyBvZ,EAAQ1jB,OAAe,OAAOuE,EAE7gB,SAASylB,GAAgBjqB,EAAKC,EAAKmE,GAAiK,OAApJnE,KAAOD,EAAOJ,OAAO2oB,eAAevoB,EAAKC,EAAK,CAAEmE,MAAOA,EAAOgkB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBtoB,EAAIC,GAAOmE,EAAgBpE,EAQpM,SAASD,KACd,IAAIpB,EAAQ6Y,UAAUhV,OAAS,QAAsBqU,IAAjBW,UAAU,GAAmBA,UAAU,GAAK,GAC5E8a,EAAS9a,UAAUhV,OAAS,EAAIgV,UAAU,QAAKX,EACnD,MAAO,CACL6+D,gBAAiBA,GAAgB/2E,EAAM+2E,gBAAiB,CACtDjzE,KAAM6vB,EAAO7vB,KACbJ,QAAS86B,GAAcA,GAAc,GAAI7K,EAAOjwB,SAAU,GAAI,CAC5DkzE,cAAex5C,EAAIp9B,EAAO,0BAA2B,QAGzDg3E,WAAYA,EAAWh3E,EAAMg3E,WAAYrjD,GACzCpO,SAAUA,GAASvlB,EAAMulB,SAAUoO,GACnCsjD,cAAeA,GAAcj3E,EAAMi3E,cAAetjD,GAClDujD,QAASA,GAAQl3E,EAAMk3E,UCRpB,SAASC,GAAS9sE,EAAGotB,GAC1B,MAAO,CACLtY,EAAG9U,EAAE8U,EAAIsY,EAAEtY,EACXua,EAAGrvB,EAAEqvB,EAAIjC,EAAEiC,GClBf,SAASnQ,GAAkB1jB,EAAQqB,GAAS,IAAK,IAAIyc,EAAI,EAAGA,EAAIzc,EAAMrD,OAAQ8f,IAAK,CAAE,IAAI6F,EAAatiB,EAAMyc,GAAI6F,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAM1oB,OAAO2oB,eAAe/jB,EAAQ2jB,EAAWloB,IAAKkoB,IAI7S,SAAS8B,GAAgBjqB,EAAKC,EAAKmE,GAAiK,OAApJnE,KAAOD,EAAOJ,OAAO2oB,eAAevoB,EAAKC,EAAK,CAAEmE,MAAOA,EAAOgkB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBtoB,EAAIC,GAAOmE,EAAgBpE,ELH3M28C,GAAKo5B,aAAc,EACnBd,GAAIe,YAAa,EKQV,ICZIC,GDYAC,GAAmC,WAC5C,SAASA,EAAoBz3E,EAAOk/B,IAbtC,SAAyB3V,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIxR,UAAU,qCAc5GsR,CAAgBjV,KAAMojE,GAEtBjsD,GAAgBnX,KAAM,aAAS,GAE/BmX,GAAgBnX,KAAM,gBAAY,GAElCA,KAAKrU,MAAQA,EACbqU,KAAK6qB,SAAWA,EAjBpB,IAAsB1V,EAAaQ,EAAYC,EA6O7C,OA7OoBT,EAoBPiuD,EApBoBztD,EAoBC,CAAC,CACjCxoB,IAAK,yBACLmE,MAAO,SAAgCmqE,GACrC,IAAI5jD,EAAQ7X,KAERgD,EAAU0B,UAAUhV,OAAS,QAAsBqU,IAAjBW,UAAU,GAAmBA,UAAU,GAAK,CAChFkX,gBAAY7X,GAEV6X,EAAa5Y,EAAQ4Y,WACzB9c,YAA8B,oBAAb28D,EAAyB,gCAC1C38D,YAAgC,qBAAf8c,GAA8BjgB,MAAM4K,QAAQqV,GAAa,4DAC1E,IAAIynD,EAAcrjE,KAAKrU,MAAMwlD,WAAW4xB,QAEpCzqD,EAAe,WACjB,IAAIzsB,EAAQgsB,EAAMlsB,MAAMwlD,WAEpBmyB,EAAiBz3E,EAAMk3E,QAE3B,IACwBO,IAAmBD,GAAeC,IAAmBD,EAAc,IAAMjB,GAASv2E,EAAM+2E,gBAAiBhnD,IAG7H6/C,IAJJ,QAOE4H,EAAcC,IAIlB,OAAOtjE,KAAKrU,MAAMqlC,UAAU1Y,KAE7B,CACDnrB,IAAK,0BACLmE,MAAO,SAAiCmqE,GACtC,IAAIhjD,EAASzY,KAEblB,YAA8B,oBAAb28D,EAAyB,gCAC1C,IAAI8H,EAAgBvjE,KAAKrU,MAAMwlD,WAAW0xB,WAa1C,OAAO7iE,KAAKrU,MAAMqlC,WAXC,WACjB,IAAI9Y,EAAYO,EAAO9sB,MAAMwlD,WAAW0xB,WAEpC3qD,IAAcqrD,IAIlBA,EAAgBrrD,EAChBujD,UAKH,CACDtuE,IAAK,gBACLmE,MAAO,SAAuBitB,GAC5B,IAAKA,EACH,OAAO,EAGT,IAAI1N,EAAS7Q,KAAK6qB,SAAS8yC,UAAUp/C,GAGrC,OAFAzf,YAAU+R,EAAQ,6CAA6CmD,OAAOuK,KAElEve,KAAKwZ,cAIF3I,EAAO/T,QAAQkD,KAAMue,KAE7B,CACDpxB,IAAK,kBACLmE,MAAO,SAAyBqZ,GAE9B,IAAKA,EACH,OAAO,EAGT,IAAIjZ,EAASsO,KAAK6qB,SAAS8zC,UAAUh0D,GAGrC,OAFA7L,YAAUpN,EAAQ,6CAA6CsiB,OAAOrJ,OAEjE3K,KAAKwZ,cAAgBxZ,KAAKwgD,YAMxBwd,EAFUh+D,KAAK6qB,SAAS+zC,cAAcj0D,GACvB3K,KAAKyvB,gBACwB/9B,EAAOsrB,QAAQhd,KAAM2K,KAEzE,CACDxd,IAAK,aACLmE,MAAO,WACL,OAAOqlB,QAAQ3W,KAAKyvB,iBAErB,CACDtiC,IAAK,mBACLmE,MAAO,SAA0BitB,GAE/B,IAAKA,EACH,OAAO,EAGT,IAAI1N,EAAS7Q,KAAK6qB,SAAS8yC,UAAUp/C,GAAU,GAG/C,OAFAzf,YAAU+R,EAAQ,6CAA6CmD,OAAOuK,OAEjEve,KAAKwZ,eAAiBxZ,KAAK47D,mBAIf57D,KAAK6qB,SAASizC,cAAcv/C,KACvBve,KAAKyvB,eAMpB5e,EAAO2I,WAAWxZ,KAAMue,KAEhC,CACDpxB,IAAK,eACLmE,MAAO,SAAsBqZ,GAC3B,IAAI3H,EAAU0B,UAAUhV,OAAS,QAAsBqU,IAAjBW,UAAU,GAAmBA,UAAU,GAAK,CAChF8+D,SAAS,GAIX,IAAK74D,EACH,OAAO,EAGT,IAAI64D,EAAUxgE,EAAQwgE,QAEtB,IAAKxjE,KAAKwZ,aACR,OAAO,EAGT,IAAIykD,EAAaj+D,KAAK6qB,SAAS+zC,cAAcj0D,GACzCuzD,EAAkBl+D,KAAKyvB,cAE3B,GAAIyuC,IAAoBF,EAAYC,EAAYC,GAC9C,OAAO,EAGT,IAAII,EAAYt+D,KAAK27D,eAErB,IAAK2C,EAAU5uE,OACb,OAAO,EAGT,IAAImC,EAAQysE,EAAUnhE,QAAQwN,GAE9B,OAAI64D,EACK3xE,IAAUysE,EAAU5uE,OAAS,EAE7BmC,GAAS,IAGnB,CACD1E,IAAK,cACLmE,MAAO,WACL,OAAO0O,KAAKrU,MAAMwlD,WAAW2xB,cAAc9oD,WAE5C,CACD7sB,IAAK,UACLmE,MAAO,WACL,OAAO0O,KAAKrU,MAAMwlD,WAAW2xB,cAAclxE,OAE5C,CACDzE,IAAK,cACLmE,MAAO,WACL,OAAO0O,KAAKrU,MAAMwlD,WAAW2xB,cAAcvkD,WAE5C,CACDpxB,IAAK,eACLmE,MAAO,WACL,OAAO0O,KAAKrU,MAAMwlD,WAAW2xB,cAAcxE,YAE5C,CACDnxE,IAAK,gBACLmE,MAAO,WACL,OAAO0O,KAAKrU,MAAMwlD,WAAW2xB,cAAc9b,aAE5C,CACD75D,IAAK,UACLmE,MAAO,WACL,OAAO0O,KAAKrU,MAAMwlD,WAAW2xB,cAActiB,UAE5C,CACDrzD,IAAK,iBACLmE,MAAO,WACL,OAAOqlB,QAAQ3W,KAAKrU,MAAMwlD,WAAW2xB,cAAclH,kBAEpD,CACDzuE,IAAK,yBACLmE,MAAO,WACL,OAAO0O,KAAKrU,MAAMwlD,WAAW0xB,WAAWf,sBAEzC,CACD30E,IAAK,+BACLmE,MAAO,WACL,OAAO0O,KAAKrU,MAAMwlD,WAAW0xB,WAAWhB,4BAEzC,CACD10E,IAAK,kBACLmE,MAAO,WACL,OAAO0O,KAAKrU,MAAMwlD,WAAW0xB,WAAWh9C,eAEzC,CACD14B,IAAK,wBACLmE,MAAO,WACL,ODxMC,SAA+BzF,GACpC,IA5BkBqK,EAAGotB,EA4BjBuC,EAAeh6B,EAAMg6B,aACrBi8C,EAAsBj2E,EAAMi2E,oBAC5BD,EAA4Bh2E,EAAMg2E,0BAEtC,OAAKh8C,GAAiBi8C,GAAwBD,EAIvCmB,IApCc1/C,EAoCau+C,EAnC3B,CACL72D,GAFgB9U,EAoCE2vB,GAlCb7a,EAAIsY,EAAEtY,EACXua,EAAGrvB,EAAEqvB,EAAIjC,EAAEiC,IAiCiDu8C,GAHrD,KCkME2B,CAAuBzjE,KAAKrU,MAAMwlD,WAAW0xB,cAErD,CACD11E,IAAK,iCACLmE,MAAO,WACL,OD5LC,SAAwCzF,GAC7C,IAAIg6B,EAAeh6B,EAAMg6B,aACrBi8C,EAAsBj2E,EAAMi2E,oBAEhC,OAAKj8C,GAAiBi8C,EAIfkB,GAASn9C,EAAci8C,GAHrB,KCuLE4B,CAAgC1jE,KAAKrU,MAAMwlD,WAAW0xB,eAzODltD,GAAYP,GAAkBD,EAAY1T,UAAWkU,GAAiBC,GAAaR,GAAkBD,EAAaS,GA6O3KwtD,EArOqC,GEZ1CO,GAAe,ECAnB,SAAS7+D,GAAQ5X,GAAmV,OAAtO4X,GAArD,oBAAXC,QAAoD,kBAApBA,OAAOC,SAAmC,SAAiB9X,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,oBAAX6X,QAAyB7X,EAAI+X,cAAgBF,QAAU7X,IAAQ6X,OAAOtD,UAAY,gBAAkBvU,GAAiB4X,GAAQ5X,GAa5W,SAAS02E,GAAaj0E,EAAM2W,GAC7BA,GAAc3K,MAAM4K,QAAQ5W,GAC9BA,EAAKgR,SAAQ,SAAUtV,GACrB,OAAOu4E,GAAav4E,GAAG,MAK3ByT,YAA0B,kBAATnP,GAAuC,WAAlBmV,GAAQnV,GAAoB2W,EAAa,8DAAgE,2CFnBjJ,SAAW68D,GACTA,EAAW,OAAa,SACxBA,EAAW,OAAa,SAF1B,CAGGA,KAAgBA,GAAc,K,cGHjC,SAAS/tD,GAAkB1jB,EAAQqB,GAAS,IAAK,IAAIyc,EAAI,EAAGA,EAAIzc,EAAMrD,OAAQ8f,IAAK,CAAE,IAAI6F,EAAatiB,EAAMyc,GAAI6F,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAM1oB,OAAO2oB,eAAe/jB,EAAQ2jB,EAAWloB,IAAKkoB,IAI7S,SAAS8B,GAAgBjqB,EAAKC,EAAKmE,GAAiK,OAApJnE,KAAOD,EAAOJ,OAAO2oB,eAAevoB,EAAKC,EAAK,CAAEmE,MAAOA,EAAOgkB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBtoB,EAAIC,GAAOmE,EAAgBpE,EAE3M,SAASqiB,GAAeL,EAAKM,GAAK,OAUlC,SAAyBN,GAAO,GAAIvT,MAAM4K,QAAQ2I,GAAM,OAAOA,EAVtBO,CAAgBP,IAQzD,SAA+BA,EAAKM,GAAK,IAAIE,EAAY,MAAPR,EAAc,KAAyB,qBAAXnK,QAA0BmK,EAAInK,OAAOC,WAAakK,EAAI,cAAe,GAAU,MAANQ,EAAY,OAAQ,IAAkDC,EAAIC,EAAlDC,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAmB,IAAM,IAAKL,EAAKA,EAAGtN,KAAK8M,KAAQY,GAAMH,EAAKD,EAAGM,QAAQC,QAAoBJ,EAAKzF,KAAKuF,EAAGre,QAAYke,GAAKK,EAAKngB,SAAW8f,GAA3DM,GAAK,IAAoE,MAAOI,GAAOH,GAAK,EAAMH,EAAKM,EAApK,QAAqL,IAAWJ,GAAsB,MAAhBJ,EAAE,QAAoBA,EAAE,SAAzC,QAAmE,GAAIK,EAAI,MAAMH,GAAQ,OAAOC,EARzbM,CAAsBjB,EAAKM,IAI5F,SAAqCY,EAAGC,GAAU,IAAKD,EAAG,OAAQ,GAAiB,kBAANA,EAAgB,OAAOE,GAAkBF,EAAGC,GAAS,IAAIE,EAAIzjB,OAAO2U,UAAUC,SAASU,KAAKgO,GAAGzN,MAAM,GAAI,GAAc,WAAN4N,GAAkBH,EAAEnL,cAAasL,EAAIH,EAAEnL,YAAY5U,MAAM,GAAU,QAANkgB,GAAqB,QAANA,EAAa,OAAO5U,MAAM0T,KAAKe,GAAI,GAAU,cAANG,GAAqB,2CAA2C7N,KAAK6N,GAAI,OAAOD,GAAkBF,EAAGC,GAJpTG,CAA4BtB,EAAKM,IAEnI,WAA8B,MAAM,IAAI7L,UAAU,6IAFuF8M,GAMzI,SAASH,GAAkBpB,EAAKwB,IAAkB,MAAPA,GAAeA,EAAMxB,EAAIxf,UAAQghB,EAAMxB,EAAIxf,QAAQ,IAAK,IAAI8f,EAAI,EAAGmB,EAAO,IAAIhV,MAAM+U,GAAMlB,EAAIkB,EAAKlB,IAAOmB,EAAKnB,GAAKN,EAAIM,GAAM,OAAOmB,EAahL,SAASkzD,GAAiBC,GACxB,IAAIv4E,GF1BGo4E,ME0BoBjiE,WAE3B,OAAQoiE,GACN,KAAKX,GAAYY,OACf,MAAO,IAAI/vD,OAAOzoB,GAEpB,KAAK43E,GAAYa,OACf,MAAO,IAAIhwD,OAAOzoB,GAEpB,QACE,MAAM,IAAIwoB,MAAM,yBAAyBC,OAAO8vD,KAItD,SAASG,GAAuB7pD,GAC9B,OAAQA,EAAU,IAChB,IAAK,IACH,OAAO+oD,GAAYY,OAErB,IAAK,IACH,OAAOZ,GAAYa,OAErB,QACEllE,aAAU,EAAO,4BAA4BkV,OAAOoG,KAI1D,SAAS8pD,GAAiBvyE,EAAKwyE,GAC7B,IAAIhsC,EAAUxmC,EAAIwmC,UACdisC,GAAS,EAEb,EAAG,CACD,IAAIC,EAAgBlsC,EAAQnoB,OACxBC,EAAOo0D,EAAcp0D,KAIzB,GAH0BV,GAAe80D,EAAc/yE,MAAO,GAC9B,KAElB6yE,EACZ,OAAO,EAGTC,IAAWn0D,SACHm0D,GAEV,OAAO,EAGF,IAAIE,GAAmC,WAC5C,SAASA,EAAoB34E,IA5E/B,SAAyBupB,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIxR,UAAU,qCA6E5GsR,CAAgBjV,KAAMskE,GAEtBntD,GAAgBnX,KAAM,QAAS,IAAIwqB,KAEnCrT,GAAgBnX,KAAM,cAAe,IAAIwqB,KAEzCrT,GAAgBnX,KAAM,cAAe,IAAIwqB,KAEzCrT,GAAgBnX,KAAM,iBAAkB,MAExCmX,GAAgBnX,KAAM,eAAgB,MAEtCmX,GAAgBnX,KAAM,aAAS,GAE/BA,KAAKrU,MAAQA,EAvFjB,IAAsBwpB,EAAaQ,EAAYC,EA4M7C,OA5MoBT,EA0FPmvD,EA1FoB3uD,EA0FC,CAAC,CACjCxoB,IAAK,YACLmE,MAAO,SAAmB3B,EAAMkhB,GAC9B+yD,GAAaj0E,GD9FZ,SAAgCkhB,GACrC/R,YAAoC,oBAAnB+R,EAAO/T,QAAwB,sCAChDgC,YAAsC,oBAArB+R,EAAOyN,UAA0B,wCAClDxf,YAAoC,oBAAnB+R,EAAO2N,QAAwB,sCC4F5C+lD,CAAuB1zD,GACvB,IAAI0N,EAAWve,KAAKwkE,WAAWrB,GAAYY,OAAQp0E,EAAMkhB,GAEzD,OADA7Q,KAAKrU,MAAMF,SZhGV,SAAmB8yB,GACxB,MAAO,CACL5uB,KAAMoyE,GACNxyE,QAAS,CACPgvB,SAAUA,IY4FUkmD,CAAWlmD,IACxBA,IAER,CACDpxB,IAAK,YACLmE,MAAO,SAAmB3B,EAAM+B,GAC9BkyE,GAAaj0E,GAAM,GDlGlB,SAAgC+B,GACrCoN,YAAoC,oBAAnBpN,EAAOsrB,QAAwB,sCAChDle,YAAkC,oBAAjBpN,EAAOurB,MAAsB,oCAC9Cne,YAAiC,oBAAhBpN,EAAOwrB,KAAqB,wCCgGzCwnD,CAAuBhzE,GACvB,IAAIiZ,EAAW3K,KAAKwkE,WAAWrB,GAAYa,OAAQr0E,EAAM+B,GAEzD,OADAsO,KAAKrU,MAAMF,SZjGV,SAAmBkf,GACxB,MAAO,CACLhb,KAAMqyE,GACNzyE,QAAS,CACPob,SAAUA,IY6FUg6D,CAAWh6D,IACxBA,IAER,CACDxd,IAAK,kBACLmE,MAAO,SAAyBwoB,GAC9B,OAAOoqD,GAAiBlkE,KAAK4kE,YAAa9qD,IAAYoqD,GAAiBlkE,KAAK6kE,YAAa/qD,KAE1F,CACD3sB,IAAK,YACLmE,MAAO,SAAmBitB,GACxB,IAAIumD,EAAgBpgE,UAAUhV,OAAS,QAAsBqU,IAAjBW,UAAU,IAAmBA,UAAU,GACnF5F,YAAUkB,KAAK+kE,WAAWxmD,GAAW,+BACrC,IAAIymD,EAAWF,GAAiBvmD,IAAave,KAAKilE,eAC9Cp0D,EAASm0D,EAAWhlE,KAAKklE,aAAellE,KAAK4kE,YAAY37C,IAAI1K,GACjE,OAAO1N,IAER,CACD1jB,IAAK,YACLmE,MAAO,SAAmBqZ,GAExB,OADA7L,YAAUkB,KAAKmlE,WAAWx6D,GAAW,+BAC9B3K,KAAK6kE,YAAY57C,IAAIte,KAE7B,CACDxd,IAAK,gBACLmE,MAAO,SAAuBitB,GAE5B,OADAzf,YAAUkB,KAAK+kE,WAAWxmD,GAAW,+BAC9Bve,KAAKupB,MAAMN,IAAI1K,KAEvB,CACDpxB,IAAK,gBACLmE,MAAO,SAAuBqZ,GAE5B,OADA7L,YAAUkB,KAAKmlE,WAAWx6D,GAAW,+BAC9B3K,KAAKupB,MAAMN,IAAIte,KAEvB,CACDxd,IAAK,aACLmE,MAAO,SAAoB8oB,GAEzB,OADW6pD,GAAuB7pD,KAClB+oD,GAAYY,SAE7B,CACD52E,IAAK,aACLmE,MAAO,SAAoB8oB,GAEzB,OADW6pD,GAAuB7pD,KAClB+oD,GAAYa,SAE7B,CACD72E,IAAK,eACLmE,MAAO,SAAsBitB,GAC3B,IAAI1G,EAAQ7X,KAEZlB,YAAUkB,KAAK29D,UAAUp/C,GAAW,gCACpCve,KAAKrU,MAAMF,SZ9IV,SAAsB8yB,GAC3B,MAAO,CACL5uB,KAAMsyE,GACN1yE,QAAS,CACPgvB,SAAUA,IY0IU6mD,CAAc7mD,IAClCswC,iBAAK,WACHh3C,EAAM+sD,YAAYz2C,OAAO5P,GAEzB1G,EAAM0R,MAAM4E,OAAO5P,QAGtB,CACDpxB,IAAK,eACLmE,MAAO,SAAsBqZ,GAC3B7L,YAAUkB,KAAK2+D,UAAUh0D,GAAW,gCACpC3K,KAAKrU,MAAMF,SZjJV,SAAsBkf,GAC3B,MAAO,CACLhb,KAAMuyE,GACN3yE,QAAS,CACPob,SAAUA,IY6IU06D,CAAc16D,IAClC3K,KAAK6kE,YAAY12C,OAAOxjB,GACxB3K,KAAKupB,MAAM4E,OAAOxjB,KAEnB,CACDxd,IAAK,YACLmE,MAAO,SAAmBitB,GACxB,IAAI1N,EAAS7Q,KAAK29D,UAAUp/C,GAC5Bzf,YAAU+R,EAAQ,gCAClB7Q,KAAKilE,eAAiB1mD,EACtBve,KAAKklE,aAAer0D,IAErB,CACD1jB,IAAK,cACLmE,MAAO,WACLwN,YAAUkB,KAAKklE,aAAc,oCAC7BllE,KAAKilE,eAAiB,KACtBjlE,KAAKklE,aAAe,OAErB,CACD/3E,IAAK,aACLmE,MAAO,SAAoBwyE,EAAMn0E,EAAMmqB,GACrC,IAAIvuB,EAAKs4E,GAAiBC,GAS1B,OARA9jE,KAAKupB,MAAMlH,IAAI92B,EAAIoE,GAEfm0E,IAASX,GAAYY,OACvB/jE,KAAK4kE,YAAYviD,IAAI92B,EAAIuuB,GAChBgqD,IAASX,GAAYa,QAC9BhkE,KAAK6kE,YAAYxiD,IAAI92B,EAAIuuB,GAGpBvuB,KAxMqDoqB,GAAYP,GAAkBD,EAAY1T,UAAWkU,GAAiBC,GAAaR,GAAkBD,EAAaS,GA4M3K0uD,EArIqC,GCtEvC,SAASxyD,GAAsBwzD,GACpC,IAAI57C,EAAgBhlB,UAAUhV,OAAS,QAAsBqU,IAAjBW,UAAU,GAAmBA,UAAU,QAAKX,EACpFwhE,EAAiB7gE,UAAUhV,OAAS,QAAsBqU,IAAjBW,UAAU,GAAmBA,UAAU,GAAK,GACrFkN,EAAYlN,UAAUhV,OAAS,QAAsBqU,IAAjBW,UAAU,IAAmBA,UAAU,GAC3E/Y,EAAQ65E,GAAkB5zD,GAC1BgH,EAAU,IAAIwqD,GAAoBz3E,EAAO,IAAI24E,GAAoB34E,IACjE6lB,EAAU,IAAI4tD,EAAoBzzE,EAAOitB,GACzCnH,EAAU6zD,EAAe9zD,EAASkY,EAAe67C,GAErD,OADA/zD,EAAQi0D,eAAeh0D,GAChBD,EAGT,SAASg0D,GAAkB5zD,GAGzB,IAAI8zD,EAAkC,qBAAX17D,QAA0BA,OAAO27D,6BAC5D,OAAOpF,EAAYtzE,GAAQ2kB,GAAa8zD,GAAiBA,EAAc,CACrEr1E,KAAM,WACNu1E,WAAY","file":"static/js/24.7bc8c85d.chunk.js","sourcesContent":["/* eslint-disable multiline-ternary */\nimport { Fragment, useContext, useEffect, useState } from \"react\"\nimport { useParams } from \"react-router-dom\"\nimport toast from \"react-hot-toast\"\nimport Cleave from \"cleave.js/react\"\nimport {\n  Row,\n  Col,\n  Form,\n  Button,\n  Input,\n  Label,\n  Modal,\n  ModalBody,\n  ModalHeader,\n  CardText\n} from \"reactstrap\"\nimport { useTranslation } from \"react-i18next\"\nimport UILoader from \"@components/ui-loader\"\nimport Spinner from \"@components/spinner/Loading-spinner\"\nimport \"moment/locale/id\"\nimport { ThemeColors } from \"@src/utility/context/ThemeColors\"\nimport { selectThemeColors } from \"@utils\"\nimport Select from \"react-select\"\nimport Flatpickr from \"react-flatpickr\"\nimport \"@styles/react/libs/flatpickr/flatpickr.scss\"\nimport { Indonesian } from \"flatpickr/dist/l10n/id.js\"\nimport { useForm, Controller } from \"react-hook-form\"\nimport {\n  storeName,\n  pageTitle,\n  postData,\n  putData,\n  resetSelectedData,\n  getDataById\n} from \"../store\"\n\nimport { useDispatch, useSelector } from \"react-redux\"\n\nconst ModalAddEdit = ({\n  show,\n  setShow,\n  detailPage,\n  formState,\n  setFormState,\n  currentData = null\n}) => {\n  const { t } = useTranslation()\n  const { id } = useParams()\n  const dispatch = useDispatch()\n  const store = useSelector((state) => state[storeName])\n  const { colors } = useContext(ThemeColors)\n  const [tgl1, setTgl1] = useState(null)\n  const [loadingText, setLoadingText] = useState(\"Please Wait\")\n  const {\n    control,\n    setError,\n    handleSubmit,\n    formState: { errors }\n  } = useForm({})\n\n  const Loader = () => {\n    return (\n      <Fragment>\n        <Spinner />\n        <CardText className=\"mb-0 mt-1\">{t(loadingText)}...</CardText>\n      </Fragment>\n    )\n  }\n\n  function sortedObject(unordered) {\n    return Object.keys(unordered)\n      .sort()\n      .reduce((obj, key) => {\n        obj[key] = unordered[key]\n        return obj\n      }, {})\n  }\n\n  const countChanges = (data) => {\n    if (formState === \"edit\") {\n      const storeData = { ...sortedObject(store.selectedData) }\n      delete storeData[\"id\"]\n      for (let key in storeData) {\n        if (!(key in data)) delete storeData[key]\n      }\n      // console.log(JSON.stringify(sortedObject(storeData)))\n      // console.log(JSON.stringify(sortedObject(data)))\n      return (\n        JSON.stringify(sortedObject(storeData)) !==\n        JSON.stringify(sortedObject(data))\n      )\n    } else {\n      return true\n    }\n  }\n\n  const updateDataToApi = (data) => {\n    if (countChanges(data)) {\n      if (\n        Object.values(data).every((field) => {\n          return field !== null && field !== \"\"\n        })\n      ) {\n        setLoadingText(`${t(\"Updating\")} ${t(pageTitle)} ${t(\"Detail\")} Data`)\n        dispatch(putData(data)).then((res) => {\n          // console.log(res)\n          if (res.meta.requestStatus === \"fulfilled\") {\n            setShow(!show)\n            toast.success(`${t(\"Successfully Updated\")} ${t(pageTitle)}`, {\n              style: {\n                padding: \"16px\",\n                color: colors.success.main,\n                border: `1px solid ${colors.success.main}`\n              },\n              iconTheme: {\n                primary: colors.success.main\n              }\n            })\n            if (detailPage) {\n              dispatch(getDataById(id))\n            }\n          } else if (res.meta.requestStatus === \"rejected\") {\n            toast.error(res.payload?.message, {\n              style: {\n                padding: \"16px\",\n                color: colors.danger.main,\n                border: `1px solid ${colors.danger.main}`\n              },\n              iconTheme: {\n                primary: colors.danger.main\n              }\n            })\n          }\n        })\n      } else {\n        for (const key in data) {\n          if (data[key]?.length === 0) {\n            setError(key, {\n              type: \"manual\"\n            })\n          }\n        }\n      }\n    } else {\n      toast(`${t(\"You haven't changed anything\")}`, { icon: \"\" })\n    }\n  }\n\n  const postDataToApi = (data) => {\n    if (\n      Object.values(data).every((field) => {\n        return field !== null && field !== \"\"\n      })\n    ) {\n      setLoadingText(`${t(`Creating a New ${pageTitle}`)}`)\n      data[\"depth\"] = currentData.depth + 1\n      data[\"parent_id\"] = currentData.id\n      dispatch(postData(data)).then((res) => {\n        // console.log(res)\n        console.log(res)\n        if (res.meta.requestStatus === \"fulfilled\") {\n          setShow(!show)\n          toast.success(`${t(\"Successfully Created\")} ${t(pageTitle)}`, {\n            style: {\n              padding: \"16px\",\n              color: colors.success.main,\n              border: `1px solid ${colors.success.main}`\n            },\n            iconTheme: {\n              primary: colors.success.main\n            }\n          })\n          if (detailPage) {\n            dispatch(getDataById(id))\n          }\n        } else if (res.meta.requestStatus === \"rejected\") {\n          toast.error(res.payload.message, {\n            style: {\n              padding: \"16px\",\n              color: colors.danger.main,\n              border: `1px solid ${colors.danger.main}`\n            },\n            iconTheme: {\n              primary: colors.danger.main\n            }\n          })\n        }\n      })\n    } else {\n      for (const key in data) {\n        if (data[key] !== null && data[key]?.length === 0) {\n          setError(key, {\n            type: \"manual\"\n          })\n        }\n      }\n    }\n  }\n\n  const handleReset = () => {\n    dispatch(resetSelectedData())\n  }\n\n  return (\n    <Modal\n      isOpen={show}\n      toggle={() => {\n        handleReset()\n        setShow(!show)\n      }}\n      className=\"modal-dialog-centered modal-lg\"\n    >\n      <UILoader\n        blocking={store.isLoadingAddEdit || store.isLoadingDetail}\n        loader={<Loader />}\n      >\n        <ModalHeader\n          className=\"bg-transparent\"\n          toggle={() => {\n            handleReset()\n            setShow(!show)\n          }}\n        ></ModalHeader>\n        <ModalBody className=\"px-sm-5 pt-50 pb-5\">\n          <div className=\"text-center mb-2\">\n            <h2 className=\"mb-1\">\n              {formState === \"edit\" ? t(\"Edit\") : t(\"Add\")} {t(pageTitle)}\n            </h2>\n            {formState !== \"edit\" ? (\n              <p>\n                Setelah menambahkan data {t(\"Unit\")} baru, maka pastikan logout\n                dulu akun anda.\n              </p>\n            ) : null}\n          </div>\n          <Form\n            onSubmit={\n              formState === \"edit\"\n                ? handleSubmit(updateDataToApi)\n                : handleSubmit(postDataToApi)\n            }\n          >\n            <Row className=\"gy-1 pt-75\">\n              <Col md={12} xs={12}>\n                <Label className=\"form-label\" for=\"name\">\n                  {t(\"Name\")}\n                  <span className=\"text-danger\">*</span>\n                </Label>\n                <Controller\n                  defaultValue={store.selectedData?.name ?? \"\"}\n                  control={control}\n                  id=\"name\"\n                  name=\"name\"\n                  render={({ field }) => (\n                    <Input\n                      {...field}\n                      className={\n                        errors.name ? \"form-control is-invalid\" : \"form-control\"\n                      }\n                      id=\"name\"\n                      invalid={errors.name && true}\n                    />\n                  )}\n                />\n              </Col>\n\n              <Col md={12} xs={12}>\n                <Label className=\"form-label\" for=\"description\">\n                  {t(\"Code\")}\n                  <span className=\"text-danger\">*</span>\n                </Label>\n                <Controller\n                  defaultValue={store.selectedData?.code ?? \"\"}\n                  control={control}\n                  id=\"code\"\n                  name=\"code\"\n                  render={({ field }) => (\n                    <Input\n                      {...field}\n                      className={\n                        errors.code ? \"form-control is-invalid\" : \"form-control\"\n                      }\n                      id=\"code\"\n                      invalid={errors.code && true}\n                    />\n                  )}\n                />\n              </Col>\n\n              <Col xs={12} className=\"text-center mt-2 pt-50\">\n                <Button type=\"submit\" className=\"me-1\" color=\"primary\">\n                  {t(\"Submit\")}\n                </Button>\n                <Button\n                  type=\"reset\"\n                  color=\"secondary\"\n                  outline\n                  onClick={() => {\n                    handleReset()\n                    setFormState(\"add\")\n                    setShow(false)\n                  }}\n                >\n                  {t(\"Cancel\")}\n                </Button>\n              </Col>\n            </Row>\n          </Form>\n        </ModalBody>\n      </UILoader>\n    </Modal>\n  )\n}\n\nexport default ModalAddEdit\n","import { Fragment, useEffect, useState } from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { useTranslation } from \"react-i18next\"\nimport Table from \"./Table\"\nimport { Row, Col, Input } from \"reactstrap\"\nimport StatsHorizontal from \"@components/widgets/stats/StatsHorizontal\"\nimport { User, UserPlus, UserCheck, UserX } from \"react-feather\"\nimport Icon from \"@mui/material/Icon\"\nimport AddCardOutlinedIcon from \"@mui/icons-material/AddCardOutlined\"\nimport \"./style.scss\"\nimport Breadcrumbs from \"@components/breadcrumbs\"\nimport Tree from \"./Tree\"\nimport {\n  storeName,\n  getAlwaysGrid,\n  getApiSummaryData,\n  getSummaryData\n} from \"./store\"\nimport { Skeleton } from \"@mui/material\"\n\nconst List = () => {\n  const { t } = useTranslation()\n  const dispatch = useDispatch()\n  const store = useSelector((state) => state[storeName])\n  const [searchTerm, setSearchTerm] = useState(\"\")\n\n  const handleFilter = (event) => {\n    // console.log(\"handleFilter\")\n    setSearchTerm(event)\n    // debounceFn(event)\n  }\n\n  useEffect(() => {\n    if (\n      getApiSummaryData &&\n      (store.dataSummary?.length === 0 ||\n        (!store.isLoadingSummary && getAlwaysGrid))\n    ) {\n      dispatch(getSummaryData({}))\n    }\n  }, [dispatch, store.dataSummary?.length])\n\n  const colors = [\n    \"primary\",\n    \"success\",\n    \"warning\",\n    \"danger\",\n    \"info\",\n    \"secondary\"\n  ]\n\n  return (\n    <>\n      <div className=\"content-header row\">\n        <Breadcrumbs\n          title={t(\"Instance & Corporate\")}\n          data={[{ title: t(\"App Setting\") }, { title: t(\"Instance\") }]}\n        />\n        <div className=\"content-header-right text-md-end col-md-3 col-12 d-md-block d-none\">\n          <div className=\"breadcrumb-right dropdown\">\n            <div className=\"d-flex align-items-center mb-sm-0 mb-1 me-1\">\n              <label className=\"mb-0\" htmlFor=\"search-invoice\">\n                {t(\"Search\")}:\n              </label>\n              <Input\n                id=\"search-invoice\"\n                className=\"ms-50 w-100\"\n                type=\"text\"\n                value={searchTerm}\n                onChange={(e) => handleFilter(e.target.value)}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"content-header-right text-md-end col-md-3 col-12 d-md-block d-none\">\n        <div className=\"breadcrumb-right dropdown\"></div>\n      </div>\n      <div className=\"app-user-list\">\n        {getApiSummaryData && (\n          <Row>\n            {store.dataSummary?.map((item, index) => {\n              return (\n                <Col>\n                  <StatsHorizontal\n                    color={colors[index]}\n                    statTitle={`${t(item.title)}`}\n                    icon={\n                      item.icon ? (\n                        <Icon\n                          baseClassName=\"material-icons-outlined\"\n                          fontSize=\"20\"\n                        >\n                          {item.icon}\n                        </Icon>\n                      ) : (\n                        <Icon\n                          baseClassName=\"material-icons-outlined\"\n                          fontSize=\"20\"\n                        >\n                          lightbulb\n                        </Icon>\n                      )\n                    }\n                    renderStats={\n                      store.isLoadingSummary ? (\n                        <Skeleton\n                          sx={{ bgcolor: \"#eef2f8\" }}\n                          animation=\"wave\"\n                          height={25}\n                          width={40}\n                          className=\"fw-bolder mb-75\"\n                        />\n                      ) : (\n                        <h3 className=\"fw-bolder mb-75\">\n                          {item.count_format ?? item.count}\n                        </h3>\n                      )\n                    }\n                  />\n                </Col>\n              )\n            })}\n          </Row>\n        )}\n        <Tree searchString={searchTerm} />\n        {/* <Table /> */}\n      </div>\n    </>\n  )\n}\n\nexport default List\n","/* eslint-disable implicit-arrow-linebreak */\n/* eslint-disable no-confusing-arrow */\n/* eslint-disable multiline-ternary */\nimport {\n  Fragment,\n  useState,\n  useEffect,\n  useContext,\n  useMemo,\n  useCallback,\n  forwardRef\n} from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { AbilityContext } from \"@src/utility/context/Can\"\nimport ModalAddEdit from \"./modal\"\nimport { neutralizeBack, revivalBack } from \"@src/utility/Utils\"\nimport {\n  storeName,\n  pageTitle,\n  serverSideGrid,\n  detailFromGrid,\n  dynamicColumns,\n  getApiAfterPut,\n  getApiAfterPost,\n  getApiAfterDelete,\n  getSummarysData,\n  getAlwaysGrid,\n  getDataList,\n  getDataById,\n  setDataById,\n  deleteData,\n  deleteSelectedRowData\n} from \"./store\"\nimport { getInvoice } from \"../../invoices/store\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport ReactPaginate from \"react-paginate\"\nimport DataTable from \"react-data-table-component\"\nimport debounce from \"lodash.debounce\"\nimport {\n  ChevronDown,\n  Share,\n  Printer,\n  FileText,\n  File,\n  Grid\n} from \"react-feather\"\n\nimport { getUserData } from \"@utils\"\n\nimport UILoader from \"@components/ui-loader\"\nimport Spinner from \"@components/spinner/Loading-spinner\"\nimport { ThemeColors } from \"@src/utility/context/ThemeColors\"\nimport toast from \"react-hot-toast\"\nimport {\n  Row,\n  Col,\n  Card,\n  Input,\n  Button,\n  DropdownMenu,\n  DropdownItem,\n  DropdownToggle,\n  UncontrolledDropdown,\n  CardText\n} from \"reactstrap\"\n\nimport \"@styles/react/libs/react-select/_react-select.scss\"\nimport \"@styles/react/libs/tables/react-dataTable-component.scss\"\nimport Swal from \"sweetalert2\"\nimport withReactContent from \"sweetalert2-react-content\"\nimport { Skeleton } from \"@mui/material\"\nimport Moment from \"moment\"\nimport GlobalActionsTable from \"../../../shared/GlobaActionsTable\"\nimport { NoDataDisplay, Loader } from \"@src/shared/CommonComponents\"\n\nconst MySwal = withReactContent(Swal)\n\n// ** Bootstrap Checkbox Component\nconst BootstrapCheckbox = forwardRef((props, ref) => (\n  <div className=\"form-check\">\n    <Input type=\"checkbox\" ref={ref} {...props} />\n  </div>\n))\n\n// ** Table Header\nconst CustomHeader = ({\n  store,\n  toggleSidebar,\n  handlePerPage,\n  rowsPerPage,\n  handleFilter,\n  searchTerm,\n  selectedRow,\n  handleDeleteSelected\n}) => {\n  const { t } = useTranslation()\n  const ability = useContext(AbilityContext)\n  const dispatch = useDispatch()\n  const storeInvoice = useSelector((state) => state.invoices)\n  const userData = getUserData()\n\n  return (\n    <div className=\"invoice-list-table-header w-100 me-1 ms-50 mt-2 mb-75\">\n      <Row>\n        <Col xl=\"4\" className=\"d-flex align-items-center p-0\">\n          <div className=\"d-flex align-items-center w-100\">\n            <label htmlFor=\"rows-per-page\">{t(\"Show\")}</label>\n            <Input\n              className=\"mx-50\"\n              type=\"select\"\n              id=\"rows-per-page\"\n              value={rowsPerPage}\n              onChange={handlePerPage}\n              style={{ width: \"5rem\" }}\n            >\n              <option value=\"10\">10</option>\n              <option value=\"25\">25</option>\n              <option value=\"50\">50</option>\n            </Input>\n            <label htmlFor=\"rows-per-page\">{t(\"Entries\")}</label>\n          </div>\n        </Col>\n        <Col\n          xl=\"8\"\n          className=\"d-flex align-items-sm-center justify-content-xl-end justify-content-start flex-xl-nowrap flex-wrap flex-sm-row flex-column pe-xl-1 p-0 mt-xl-0 mt-1\"\n        >\n          {selectedRow?.length > 0 &&\n          ability.can(\"delete\", sessionStorage.getItem(\"current_page_perm\")) ? (\n            <div className=\"d-flex align-items-center mb-sm-0 mb-1 me-1\">\n              <Button\n                className=\"delete-users\"\n                color=\"danger\"\n                onClick={handleDeleteSelected}\n              >\n                {t(\"Delete\")} {selectedRow.length} {t(`Selected ${pageTitle}`)}\n              </Button>\n            </div>\n          ) : null}\n          <div className=\"d-flex align-items-center mb-sm-0 mb-1 me-1\">\n            <label className=\"mb-0\" htmlFor=\"search-invoice\">\n              {t(\"Search\")}:\n            </label>\n            <Input\n              id=\"search-invoice\"\n              className=\"ms-50 w-100\"\n              type=\"text\"\n              value={searchTerm}\n              onChange={(e) => handleFilter(e.target.value)}\n            />\n          </div>\n\n          <div className=\"d-flex align-items-center table-header-actions\">\n            <UncontrolledDropdown className=\"me-1\">\n              <DropdownToggle color=\"secondary\" caret outline>\n                <Share className=\"font-small-4 me-50\" />\n                <span className=\"align-middle\">{t(\"Export\")}</span>\n              </DropdownToggle>\n              <DropdownMenu>\n                <DropdownItem\n                  className=\"w-100\"\n                  onClick={() =>\n                    dispatch(\n                      getInvoice({\n                        rpt_name: \"sample\",\n                        output_type: \"pdf\",\n                        dataYear: userData.dataYear,\n                        print: true,\n                        as_attachment: true,\n                        par_UNITKEY: 139,\n                        par_SAMPLE: \"ahh...ini adalah sample parameter\"\n                      })\n                    )\n                  }\n                >\n                  <Printer className=\"font-small-4 me-50\" />\n                  <span className=\"align-middle\">{t(\"Print\")}</span>\n                </DropdownItem>\n                <DropdownItem\n                  className=\"w-100\"\n                  onClick={() =>\n                    dispatch(\n                      getInvoice({\n                        rpt_name: \"sample\",\n                        output_type: \"pdf\",\n                        dataYear: userData.dataYear,\n                        par_UNITKEY: 139,\n                        par_SAMPLE: \"ahh...ini adalah sample parameter\"\n                      })\n                    )\n                  }\n                >\n                  <File className=\"font-small-4 me-50\" />\n                  <span className=\"align-middle\">PDF</span>\n                </DropdownItem>\n\n                <DropdownItem\n                  className=\"w-100\"\n                  onClick={() =>\n                    dispatch(\n                      getInvoice({\n                        rpt_name: \"sample\",\n                        output_type: \"xls\",\n                        dataYear: userData.dataYear,\n                        as_attachment: true,\n                        par_UNITKEY: 139,\n                        par_SAMPLE: \"ahh...ini adalah sample parameter\"\n                      })\n                    )\n                  }\n                >\n                  <Grid className=\"font-small-4 me-50\" />\n                  <span className=\"align-middle\">Excel</span>\n                </DropdownItem>\n\n                <DropdownItem\n                  className=\"w-100\"\n                  // onClick={() => downloadCSV(store.data)}\n                  onClick={() =>\n                    dispatch(\n                      getInvoice({\n                        rpt_name: \"sample\",\n                        output_type: \"csv\",\n                        dataYear: userData.dataYear,\n                        as_attachment: true,\n                        par_UNITKEY: 139,\n                        par_SAMPLE: \"ahh...ini adalah sample parameter\"\n                      })\n                    )\n                  }\n                >\n                  <FileText className=\"font-small-4 me-50\" />\n                  <span className=\"align-middle\">CSV</span>\n                </DropdownItem>\n\n                {/* <DropdownItem className=\"w-100\">\n                  <Copy className=\"font-small-4 me-50\" />\n                  <span className=\"align-middle\">Copy</span>\n                </DropdownItem> */}\n              </DropdownMenu>\n            </UncontrolledDropdown>\n\n            {ability.can(\n              \"post\",\n              sessionStorage.getItem(\"current_page_perm\")\n            ) ? (\n              <Button\n                className=\"add-new-user\"\n                color=\"primary\"\n                onClick={toggleSidebar}\n                // onClick={handleAdd}\n              >\n                {t(\"Add New\")} {t(pageTitle)}\n              </Button>\n            ) : null}\n          </div>\n        </Col>\n      </Row>\n    </div>\n  )\n}\n\nconst List = () => {\n  const dispatch = useDispatch()\n  const store = useSelector((state) => state[storeName])\n\n  const { t } = useTranslation()\n  const ability = useContext(AbilityContext)\n\n  const { colors } = useContext(ThemeColors)\n  const [sort_dir, setSortDir] = useState(\"desc\")\n  const [searchTerm, setSearchTerm] = useState(\"\")\n  const [currentPage, setCurrentPage] = useState(1)\n  const [sort, setSort] = useState(\"id\")\n  const [rowsPerPage, setRowsPerPage] = useState(10)\n  const [selectedRows, setSelectedRows] = useState([])\n  const [toggleCleared, setToggleCleared] = useState(false)\n\n  const [sidebarOpen, setSidebarOpen] = useState(false)\n  const [loading, setLoading] = useState(false)\n  const [loadingText, setLoadingText] = useState(\"Please Wait\")\n  const [showModal, setShowModal] = useState(false)\n  const [formState, setFormState] = useState(null)\n\n  const handleEdit = (rowData) => {\n    setFormState(\"edit\")\n    if (!detailFromGrid) {\n      setLoadingText(\n        `${t(\"Loading\")} ${t(\"Detail\")} ${t(\"Data\")} ${t(pageTitle)}`\n      )\n      setLoading(true)\n      dispatch(getDataById(rowData.id)).then((res) => {\n        if (res.meta.requestStatus === \"rejected\") {\n          setLoading(false)\n          toast.error(res.payload.message, {\n            style: {\n              padding: \"16px\",\n              color: colors.danger.main,\n              border: `1px solid ${colors.danger.main}`\n            },\n            iconTheme: {\n              primary: colors.danger.main\n            }\n          })\n        } else {\n          setLoading(false)\n          setShowModal(true)\n        }\n      })\n    } else {\n      setLoadingText(\n        `${t(\"Loading\")} ${t(\"Detail\")} ${t(\"Data\")} ${t(pageTitle)}`\n      )\n      setLoading(true)\n      dispatch(setDataById(rowData)).then(() => {\n        setLoading(false)\n        setShowModal(true)\n      })\n    }\n  }\n\n  const handleCloseModal = () => {\n    setSidebarOpen(!sidebarOpen)\n    setShowModal(!showModal)\n    revivalBack()\n  }\n\n  const toggleSidebar = () => {\n    // console.log(\"here\")\n    setFormState(\"add\")\n    setSidebarOpen(!sidebarOpen)\n    setShowModal(!showModal)\n    neutralizeBack(handleCloseModal)\n  }\n\n  const handleDelete = async (id) => {\n    const result = await MySwal.fire({\n      title: `${t(\"Are you sure?\")}`,\n      text: `${t(\"You won't be able to revert\")} ${t(pageTitle)}!`,\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonText: `${t(\"Yes, Delete\")} ${t(pageTitle)}!`,\n      cancelButtonText: `${t(\"Cancel\")}`,\n      customClass: {\n        confirmButton: \"btn btn-primary\",\n        cancelButton: \"btn btn-outline-danger ms-1\"\n      },\n      buttonsStyling: false\n    })\n    if (result.value) {\n      setLoadingText(`${t(\"Deleting\")} Data ${t(pageTitle)}`)\n      setLoading(true)\n      dispatch(deleteData(id)).then((res) => {\n        // console.log(res)\n        if (res.meta.requestStatus === \"fulfilled\") {\n          setLoading(false)\n          toast.success(`${t(\"Successfully deleted\")} ${t(pageTitle)}`, {\n            style: {\n              padding: \"16px\",\n              color: colors.success.main,\n              border: `1px solid ${colors.success.main}`\n            },\n            iconTheme: {\n              primary: colors.success.main\n            }\n          })\n        } else if (res.meta.requestStatus === \"rejected\") {\n          setLoading(false)\n          toast.error(res.payload.message, {\n            style: {\n              padding: \"16px\",\n              color: colors.danger.main,\n              border: `1px solid ${colors.danger.main}`\n            },\n            iconTheme: {\n              primary: colors.danger.main\n            }\n          })\n        }\n      })\n    }\n  }\n\n  const handleDeleteSelected = async () => {\n    const countSelectedCopy = selectedRows.length\n    const result = await MySwal.fire({\n      title: `${t(\"Are you sure?\")}`,\n      text: `${t(\"You will delete\")} ${countSelectedCopy} ${t(\n        \"selected data. Deleted data cannot be recovered\"\n      )}!`,\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonText: `${t(\"Yes, Delete\")} ${countSelectedCopy} ${t(\n        pageTitle\n      )}!`,\n      cancelButtonText: `${t(\"Cancel\")}`,\n      customClass: {\n        confirmButton: \"btn btn-primary\",\n        cancelButton: \"btn btn-outline-danger ms-1\"\n      },\n      buttonsStyling: false\n    })\n    if (result.value) {\n      setLoadingText(\n        `${t(\"Deleting\")} ${countSelectedCopy} Data ${t(pageTitle)}`\n      )\n      setLoading(true)\n      const values = selectedRows.map((a) => a.id)\n      // console.log(values)\n      dispatch(deleteSelectedRowData({ id: values })).then((res) => {\n        // console.log(res)\n        if (res.meta.requestStatus === \"fulfilled\") {\n          setSelectedRows([])\n          setToggleCleared(!toggleCleared)\n          setLoading(false)\n          toast.success(\n            `${t(\"Successfully deleted\")} ${countSelectedCopy} ${t(pageTitle)}`,\n            {\n              style: {\n                padding: \"16px\",\n                color: colors.success.main,\n                border: `1px solid ${colors.success.main}`\n              },\n              iconTheme: {\n                primary: colors.success.main\n              }\n            }\n          )\n        } else if (res.meta.requestStatus === \"rejected\") {\n          setLoading(false)\n          toast.error(res.payload.message, {\n            style: {\n              padding: \"16px\",\n              color: colors.danger.main,\n              border: `1px solid ${colors.danger.main}`\n            },\n            iconTheme: {\n              primary: colors.danger.main\n            }\n          })\n        }\n      })\n    }\n  }\n\n  /////PAGINATION SERVERSIDE\n  const handlePagination = (page) => {\n    dispatch(\n      getDataList({\n        sort_dir,\n        sort,\n        search: searchTerm,\n        length: rowsPerPage,\n        page: page.selected + 1\n      })\n    )\n    setCurrentPage(page.selected + 1)\n  }\n\n  const handlePerPage = (e) => {\n    const value = parseInt(e.currentTarget.value)\n    dispatch(\n      getDataList({\n        sort_dir,\n        sort,\n        search: searchTerm,\n        length: value,\n        page: currentPage\n      })\n    )\n    setRowsPerPage(value)\n  }\n\n  const handleDebounceFn = (inputValue) => {\n    dispatch(\n      getDataList({\n        sort_dir,\n        search: inputValue,\n        sort,\n        page: currentPage,\n        length: rowsPerPage\n      })\n    )\n  }\n\n  const debounceFn = useCallback(debounce(handleDebounceFn, 500), [])\n\n  const handleFilter = (event) => {\n    setSearchTerm(event)\n    debounceFn(event)\n  }\n\n  const handleSort = (column, sortDirection) => {\n    setSortDir(sortDirection)\n    setSort(column.sortField)\n    dispatch(\n      getDataList({\n        sort_dir,\n        sort,\n        search: searchTerm,\n        page: currentPage,\n        length: rowsPerPage\n      })\n    )\n  }\n\n  const handleRowSelected = useCallback((state) => {\n    setSelectedRows(state.selectedRows)\n  }, [])\n\n  const CustomPagination = () => {\n    const count = Number(Math.ceil(store.total / rowsPerPage))\n\n    return (\n      <ReactPaginate\n        previousLabel={\"\"}\n        nextLabel={\"\"}\n        pageCount={count || 1}\n        activeClassName=\"active\"\n        forcePage={currentPage !== 0 ? currentPage - 1 : 0}\n        onPageChange={(page) => handlePagination(page)}\n        pageClassName={\"page-item\"}\n        nextLinkClassName={\"page-link\"}\n        nextClassName={\"page-item next\"}\n        previousClassName={\"page-item prev\"}\n        previousLinkClassName={\"page-link\"}\n        pageLinkClassName={\"page-link\"}\n        containerClassName={\n          \"pagination react-paginate justify-content-end my-2 pe-1\"\n        }\n      />\n    )\n  }\n\n  const renderCell = (row, column) => {\n    const field = row[column.fieldName]\n    const dataFormat = column.dataFormat\n    if (dataFormat) {\n      if (dataFormat.includes(\":\")) {\n        const columnTypeFormat = dataFormat.split(\":\")\n        const columnType = columnTypeFormat[0]\n        const columnFormat = columnTypeFormat[1]\n        let columnFormated = row[column.fieldName]\n        if (columnType === \"date\") {\n          columnFormated = Moment(field).format(\"DD MMM YYYY\")\n          if (columnFormat) {\n            columnFormated = Moment(field).format(columnFormat)\n          }\n        }\n        if (columnType === \"datetime\") {\n          columnFormated = Moment(field).format(\"DD MMM YYYY HH:mm\")\n          if (columnFormat) {\n            columnFormated = Moment(field).format(columnFormat)\n          }\n        }\n        return columnFormated\n      }\n    }\n    return row[column.fieldName]\n  }\n\n  const columns = [\n    ...dynamicColumns.map((column) => ({\n      name: column.columnName,\n      sortField: column.fieldName,\n      center: false,\n      sortable: true,\n      selector: (row) => row[column.fieldName],\n      cell: (row) => renderCell(row, column)\n    })),\n    {\n      name: t(\"Actions\"),\n      center: true,\n      width: \"140px\",\n      cell: (row) => (\n        <GlobalActionsTable\n          row={row}\n          handleDelete={handleDelete}\n          handleEdit={handleEdit}\n        />\n      )\n    }\n  ]\n\n  const tableColumns = useMemo(\n    () =>\n      store.isLoading\n        ? columns.map((column) => ({\n            name: t(column.name),\n            ...column,\n            sortable: false,\n            cell: (row) => (\n              <Skeleton\n                sx={{ bgcolor: colors.dark.light }}\n                animation=\"wave\"\n                className={column.name === \"Actions\" ? \"ms-2\" : \"\"}\n                width={column.name === \"Actions\" ? 10 : \"100%\"}\n                height={40}\n              />\n            )\n          }))\n        : columns.map((column) => ({\n            name: t(column.name),\n            ...column\n          })),\n    [store.isLoading, columns]\n  )\n\n  const dataToRender = () => {\n    const filters = {\n      search: searchTerm\n    }\n    const isFiltered = Object.keys(filters).some(function (k) {\n      return filters[k].length > 0\n    })\n    if (!store.isLoading) {\n      if (store.data.length > 0) {\n        return store.data\n      } else if (store.data.length === 0 && isFiltered) {\n        return []\n      } else {\n        // console.log(store.allData)\n        // return store.allData.slice(0, rowsPerPage)\n      }\n    } else {\n      return Array(10).fill({})\n    }\n  }\n\n  useEffect(() => {\n    if (store.data.length === 0 || (!store.isLoading && getAlwaysGrid)) {\n      setLoadingText(`${t(\"Loading Data\")} ${t(pageTitle)}`)\n      dispatch(\n        getDataList({\n          sort_dir,\n          sort,\n          search: searchTerm,\n          page: currentPage,\n          length: rowsPerPage\n        })\n      )\n    }\n  }, [dispatch, store.data.length, sort_dir, sort, currentPage])\n\n  return (\n    <Fragment>\n      <UILoader blocking={loading} loader={<Loader />}>\n        <Card className=\"overflow-hidden\">\n          <div className=\"react-dataTable react-dataTable-selectable-rows\">\n            <DataTable\n              noHeader\n              subHeader\n              sortServer\n              responsive\n              pagination\n              paginationServer\n              paginationTotalRows={store.total}\n              paginationComponent={CustomPagination}\n              selectableRows\n              onSelectedRowsChange={handleRowSelected}\n              selectableRowsHighlight\n              // onRowClicked={handleRowSelected}\n              clearSelectedRows={toggleCleared}\n              selectableRowsComponent={BootstrapCheckbox}\n              noDataComponent={<NoDataDisplay />}\n              // fixedHeader\n              // fixedHeaderScrollHeight=\"600px\"\n              style={{ \"min-height\": \"400px\" }}\n              highlightOnHover\n              pointerOnHover\n              columns={tableColumns}\n              onSort={handleSort}\n              sortIcon={<ChevronDown />}\n              className=\"react-dataTable\"\n              data={dataToRender()}\n              subHeaderComponent={\n                <CustomHeader\n                  store={store}\n                  searchTerm={searchTerm}\n                  rowsPerPage={rowsPerPage}\n                  handleFilter={handleFilter}\n                  handlePerPage={handlePerPage}\n                  toggleSidebar={toggleSidebar}\n                  selectedRow={selectedRows}\n                  handleDeleteSelected={handleDeleteSelected}\n                />\n              }\n            />\n          </div>\n        </Card>\n\n        {/* <Sidebar open={sidebarOpen} toggleSidebar={toggleSidebar} /> */}\n      </UILoader>\n\n      {showModal && (\n        <ModalAddEdit\n          formState={formState}\n          show={showModal}\n          setShow={toggleSidebar}\n          detailPage={false}\n          setFormState={setFormState}\n        />\n      )}\n    </Fragment>\n  )\n}\n\nexport default List\n","/* eslint-disable implicit-arrow-linebreak */\n/* eslint-disable no-confusing-arrow */\n/* eslint-disable multiline-ternary */\nimport { Fragment, useState, useEffect, useContext } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { AbilityContext } from \"@src/utility/context/Can\"\nimport ModalAddEdit from \"./modal\"\nimport { neutralizeBack, revivalBack } from \"@src/utility/Utils\"\nimport {\n  storeName,\n  pageTitle,\n  serverSideGrid,\n  detailFromGrid,\n  getApiAfterPut,\n  getApiAfterPost,\n  getApiAfterDelete,\n  getSummarysData,\n  getAlwaysGrid,\n  getDataList,\n  getDataById,\n  setDataById,\n  deleteData,\n  deleteSelectedRowData,\n  setDataList,\n  setDataListNested,\n  putData\n} from \"./store\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { Edit2, Trash2, Plus } from \"react-feather\"\n\nimport { getUserData } from \"@utils\"\n\nimport UILoader from \"@components/ui-loader\"\nimport Spinner from \"@components/spinner/Loading-spinner\"\nimport { ThemeColors } from \"@src/utility/context/ThemeColors\"\nimport toast from \"react-hot-toast\"\nimport { Card, Button, UncontrolledTooltip, CardText } from \"reactstrap\"\nimport Swal from \"sweetalert2\"\nimport withReactContent from \"sweetalert2-react-content\"\nconst MySwal = withReactContent(Swal)\nimport \"@styles/react/libs/react-select/_react-select.scss\"\nimport \"@styles/react/libs/tables/react-dataTable-component.scss\"\nimport SortableTree from \"@nosferatu500/react-sortable-tree\"\nimport { NoDataDisplay, Loader } from \"@src/shared/CommonComponents\"\nimport Avatar from \"@components/avatar\"\n\nconst List = (searchString) => {\n  const dispatch = useDispatch()\n  const store = useSelector((state) => state[storeName])\n  const { t } = useTranslation()\n  const [sidebarOpen, setSidebarOpen] = useState(false)\n  const ability = useContext(AbilityContext)\n  const [loading, setLoading] = useState(false)\n  const [loadingText, setLoadingText] = useState(\"Please Wait\")\n  const [showModal, setShowModal] = useState(false)\n  const [formState, setFormState] = useState(null)\n  const [currentDataAdd, setCurrentDataAdd] = useState(null)\n\n  const [searchFocusIndex, setSearchFocusIndex] = useState(0)\n  const [searchFoundCount, setSearchFoundCount] = useState(null)\n\n  const { colors } = useContext(ThemeColors)\n\n  const handleEdit = (rowData) => {\n    setFormState(\"edit\")\n    if (!detailFromGrid) {\n      setLoadingText(\n        `${t(\"Loading\")} ${t(\"Detail\")} ${t(\"Data\")} ${t(pageTitle)}`\n      )\n      setLoading(true)\n      dispatch(getDataById(rowData.id)).then((res) => {\n        if (res.meta.requestStatus === \"rejected\") {\n          setLoading(false)\n          toast.error(res.payload.message, {\n            style: {\n              padding: \"16px\",\n              color: colors.danger.main,\n              border: `1px solid ${colors.danger.main}`\n            },\n            iconTheme: {\n              primary: colors.danger.main\n            }\n          })\n        } else {\n          setLoading(false)\n          setShowModal(true)\n        }\n      })\n    } else {\n      setLoadingText(\n        `${t(\"Loading\")} ${t(\"Detail\")} ${t(\"Data\")} ${t(pageTitle)}`\n      )\n      setLoading(true)\n      dispatch(setDataById(rowData)).then(() => {\n        setLoading(false)\n        setShowModal(true)\n      })\n    }\n  }\n\n  const handleDelete = async (id) => {\n    const result = await MySwal.fire({\n      title: `${t(\"Are you sure?\")}`,\n      text: `${t(\"You won't be able to revert\")} ${t(pageTitle)}!`,\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonText: `${t(\"Yes, Delete\")} ${t(pageTitle)}!`,\n      cancelButtonText: `${t(\"Cancel\")}`,\n      customClass: {\n        confirmButton: \"btn btn-primary\",\n        cancelButton: \"btn btn-outline-danger ms-1\"\n      },\n      buttonsStyling: false\n    })\n    if (result.value) {\n      setLoadingText(`${t(\"Deleting\")} Data ${t(pageTitle)}`)\n      setLoading(true)\n      dispatch(deleteData(id)).then((res) => {\n        // console.log(res)\n        if (res.meta.requestStatus === \"fulfilled\") {\n          setLoading(false)\n          toast.success(`${t(\"Successfully deleted\")} ${t(pageTitle)}`, {\n            style: {\n              padding: \"16px\",\n              color: colors.success.main,\n              border: `1px solid ${colors.success.main}`\n            },\n            iconTheme: {\n              primary: colors.success.main\n            }\n          })\n        } else if (res.meta.requestStatus === \"rejected\") {\n          setLoading(false)\n          toast.error(res.payload.message, {\n            style: {\n              padding: \"16px\",\n              color: colors.danger.main,\n              border: `1px solid ${colors.danger.main}`\n            },\n            iconTheme: {\n              primary: colors.danger.main\n            }\n          })\n        }\n      })\n    }\n  }\n\n  const toggleSidebar = (row = null) => {\n    // console.log(row.id)\n    setCurrentDataAdd(row)\n    setFormState(\"add\")\n    setSidebarOpen(!sidebarOpen)\n    setShowModal(!showModal)\n    neutralizeBack(handleCloseModal)\n  }\n\n  const handleCloseModal = () => {\n    setSidebarOpen(!sidebarOpen)\n    setShowModal(!showModal)\n    revivalBack()\n  }\n\n  const handleChange = (tree) => {\n    // console.log(tree)\n    dispatch(setDataListNested(tree))\n  }\n\n  const eventCanDragNode = (args) => {\n    // console.log(args)\n    if (args.node.is_app_header) {\n      return false\n    }\n    return true\n  }\n\n  const onMoveNode = ({\n    treeData,\n    node,\n    nextParentNode,\n    prevPath,\n    prevTreeIndex,\n    nextPath,\n    nextTreeIndex\n  }) => {\n    // console.log(nextParentNode)\n    const data = {\n      name: node.name,\n      id: node.id,\n      parent_id: nextParentNode.id\n    }\n    updateDataToApi(data, true)\n  }\n\n  const updateDataToApi = (data, notReload = false) => {\n    // console.log(data)\n    setLoadingText(`${t(\"Updating\")} ${t(pageTitle)} Data`)\n    if (notReload) data[\"notReload\"] = true\n    const nameMsg = data.name\n    delete data[\"name\"]\n    dispatch(putData(data, notReload)).then((res) => {\n      // console.log(res)\n      if (res.meta.requestStatus === \"fulfilled\") {\n        toast.success(\n          `${t(\"Successfully Updated\")} ${t(pageTitle)} ${nameMsg}`,\n          {\n            style: {\n              padding: \"16px\",\n              color: colors.success.main,\n              border: `1px solid ${colors.success.main}`\n            },\n            iconTheme: {\n              primary: colors.success.main\n            }\n          }\n        )\n      } else if (res.meta.requestStatus === \"rejected\") {\n        toast.error(res.payload.message, {\n          style: {\n            padding: \"16px\",\n            color: colors.danger.main,\n            border: `1px solid ${colors.danger.main}`\n          },\n          iconTheme: {\n            primary: colors.danger.main\n          }\n        })\n      }\n    })\n  }\n\n  const customSearchMethod = ({ node, searchQuery }) => {\n    return (\n      searchQuery &&\n      node.name.toLowerCase().indexOf(searchQuery.toLowerCase()) > -1\n    )\n  }\n\n  const selectPrevMatch = () =>\n    setSearchFocusIndex(\n      searchFocusIndex !== null\n        ? (searchFoundCount + searchFocusIndex - 1) % searchFoundCount\n        : searchFoundCount - 1\n    )\n\n  const selectNextMatch = () =>\n    setSearchFocusIndex(\n      searchFocusIndex !== null ? (searchFocusIndex + 1) % searchFoundCount : 0\n    )\n\n  useEffect(() => {\n    // console.log(store)\n    if (\n      (store.dataNested.length === 0 && !store.isLoadingNested) ||\n      getAlwaysGrid\n    ) {\n      setLoadingText(`${t(\"Loading Data\")} ${t(pageTitle)}`)\n      dispatch(getDataList({}))\n    }\n  }, [dispatch, store.dataNested.length > 0])\n\n  return (\n    <Fragment>\n      <UILoader blocking={store.isLoadingNested} loader={<Loader />}>\n        <Card className=\"overflow-hidden\">\n          <div className=\"react-dataTable react-dataTable-selectable-rows\">\n            <div\n              style={{\n                height: 1000,\n                marginLeft: 20,\n                marginRight: 20,\n                marginTop: 40\n              }}\n            >\n              <SortableTree\n                treeData={store.dataNested}\n                onChange={handleChange}\n                // onMoveNode={onMoveNode}\n                // canDrag={eventCanDragNode}\n                canDrag={false}\n                searchMethod={customSearchMethod}\n                searchQuery={searchString.searchString}\n                searchFocusOffset={searchFocusIndex}\n                searchFinishCallback={(matches) => {\n                  setSearchFoundCount(matches.length)\n                  setSearchFocusIndex(\n                    matches.length > 0 ? searchFocusIndex % matches.length : 0\n                  )\n                }}\n                // onlyExpandSearchedNodes\n                maxDepth={10}\n                generateNodeProps={({ node, path }) => ({\n                  style: {\n                    fontSize: node.is_app_header ? `16px` : \"14px\",\n                    fontWeight: node.is_app_header ? `bold` : \"normal\"\n                  },\n                  title: (\n                    <div className=\"d-flex justify-content-left align-items-center\">\n                      {\n                        node?.attributes?.logo && (\n                          <img\n                            className=\"me-1\"\n                            src={node.attributes.logo}\n                            // width=\"60\"\n                            height=\"25\"\n                          />\n                        )\n                        // : (\n                        //   <Avatar\n                        //     initials\n                        //     className=\"me-1\"\n                        //     color={\"light-primary\"}\n                        //     content={node.name || \"\"}\n                        //   />\n                        // )\n                      }\n                      <div className=\"d-flex flex-column\">\n                        <span className=\"fw-bolder\">\n                          {/* {node.code}  */}\n                          {node.name}\n                        </span>\n                      </div>\n                    </div>\n                  ),\n                  buttons: [\n                    ability.can(\n                      \"post\",\n                      sessionStorage.getItem(\"current_page_perm\")\n                    ) ? (\n                      <>\n                        <Button.Ripple\n                          className=\"btn-icon rounded-circle\"\n                          color=\"flat-primary\"\n                          id=\"btn-add-child\"\n                          onClick={(e) => {\n                            toggleSidebar(node)\n                          }}\n                        >\n                          <Plus size={16} />\n                        </Button.Ripple>\n                        <UncontrolledTooltip\n                          placement=\"left\"\n                          target=\"btn-add-child\"\n                        >\n                          {t(\"Add Child\")}\n                        </UncontrolledTooltip>\n                      </>\n                    ) : null,\n                    ability.can(\n                      \"update\",\n                      sessionStorage.getItem(\"current_page_perm\")\n                    ) &&\n                    !node.is_app_header &&\n                    !node.disableEdit ? (\n                      <>\n                        <Button.Ripple\n                          className=\"btn-icon rounded-circle\"\n                          color=\"flat-info\"\n                          id=\"btn-edit\"\n                          onClick={(e) => {\n                            e.preventDefault()\n                            handleEdit(node)\n                          }}\n                        >\n                          <Edit2 size={16} />\n                        </Button.Ripple>\n                        <UncontrolledTooltip placement=\"left\" target=\"btn-edit\">\n                          {t(\"Edit\")}\n                        </UncontrolledTooltip>\n                      </>\n                    ) : null,\n                    ability.can(\n                      \"delete\",\n                      sessionStorage.getItem(\"current_page_perm\")\n                    ) &&\n                    !node.disableDelete &&\n                    node?.children?.length === 0 ? (\n                      <>\n                        <Button.Ripple\n                          id=\"btn-delete\"\n                          className=\"btn-icon rounded-circle\"\n                          color=\"flat-danger\"\n                          onClick={(e) => {\n                            e.preventDefault()\n                            handleDelete(node.id)\n                          }}\n                        >\n                          <Trash2 size={16} />\n                        </Button.Ripple>\n                        <UncontrolledTooltip\n                          placement=\"left\"\n                          target=\"btn-delete\"\n                        >\n                          {t(\"Delete\")}\n                        </UncontrolledTooltip>\n                      </>\n                    ) : null\n                  ]\n                })}\n              />\n            </div>\n          </div>\n        </Card>\n      </UILoader>\n\n      {showModal && (\n        <ModalAddEdit\n          formState={formState}\n          show={showModal}\n          setShow={toggleSidebar}\n          detailPage={false}\n          setFormState={setFormState}\n          currentData={currentDataAdd}\n        />\n      )}\n    </Fragment>\n  )\n}\n\nexport default List\n","// ** React Imports\nimport { Fragment } from \"react\"\n\n// ** Third Party Components\nimport Proptypes from \"prop-types\"\nimport classnames from \"classnames\"\n\n// ** Reactstrap Imports\nimport { Spinner } from \"reactstrap\"\n\n// ** Styles\nimport \"./ui-loader.scss\"\n\nconst UILoader = (props) => {\n  const { children, blocking, loader, className, tag, overlayColor } = props\n\n  const Tag = tag\n\n  return (\n    <Tag\n      className={classnames(\"ui-loader\", {\n        [className]: className,\n        show: blocking\n      })}\n    >\n      {children}\n      {blocking ? (\n        <Fragment>\n          <div\n            className=\"overlay\" /*eslint-disable */\n            {...(blocking && overlayColor\n              ? { style: { backgroundColor: overlayColor } }\n              : {})}\n            /*eslint-enable */\n          ></div>\n          <div className=\"loader\">{loader}</div>\n        </Fragment>\n      ) : null}\n    </Tag>\n  )\n}\n\nexport default UILoader\n\nUILoader.defaultProps = {\n  tag: \"div\",\n  blocking: false,\n  loader: <Spinner color=\"primary\" />\n}\n\nUILoader.propTypes = {\n  tag: Proptypes.string,\n  loader: Proptypes.any,\n  className: Proptypes.string,\n  overlayColor: Proptypes.string,\n  blocking: Proptypes.bool.isRequired\n}\n","export function shallowEqual<T>(\n  objA: T,\n  objB: T,\n  compare?: (a: T, b: T, key?: string) => boolean | void,\n  compareContext?: any\n) {\n  var compareResult = compare\n    ? compare.call(compareContext, objA, objB)\n    : void 0;\n  if (compareResult !== void 0) {\n    return !!compareResult;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || !objA || typeof objB !== 'object' || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\n  // Test for A's keys different from B.\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = (objA as any)[key];\n    var valueB = (objB as any)[key];\n\n    compareResult = compare\n      ? compare.call(compareContext, valueA, valueB, key)\n      : void 0;\n\n    if (\n      compareResult === false ||\n      (compareResult === void 0 && valueA !== valueB)\n    ) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","export const mounts = [\n  {\n    key: 'title',\n    getter: swal => swal.getTitle(),\n  },\n  {\n    key: 'html',\n    getter: swal => swal.getHtmlContainer(),\n  },\n  {\n    key: 'confirmButtonText',\n    getter: swal => swal.getConfirmButton(),\n  },\n  {\n    key: 'denyButtonText',\n    getter: swal => swal.getDenyButton(),\n  },\n  {\n    key: 'cancelButtonText',\n    getter: swal => swal.getCancelButton(),\n  },\n  {\n    key: 'footer',\n    getter: swal => swal.getFooter(),\n  },\n  {\n    key: 'closeButtonHtml',\n    getter: swal => swal.getCloseButton(),\n  },\n  {\n    key: 'iconHtml',\n    getter: swal => swal.getIcon().querySelector('.swal2-icon-content'),\n  },\n  {\n    key: 'loaderHtml',\n    getter: swal => swal.getLoader(),\n  },\n]\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { mounts } from './mounts'\n\nconst noop = () => {} // eslint-disable-line @typescript-eslint/no-empty-function\n\nexport default function withReactContent (ParentSwal) {\n  /* Returns `params` separated into a tuple of `reactParams` (the React params that need to be rendered)\n  and`otherParams` (all the other parameters, with any React params replaced with a space ' ') */\n  function extractReactParams (params) {\n    const reactParams = {}\n    const otherParams = {}\n    const mountKeys = mounts.map(mount => mount.key)\n    Object.entries(params).forEach(([key, value]) => {\n      if (mountKeys.includes(key) && React.isValidElement(value)) {\n        reactParams[key] = value\n        otherParams[key] = ' '\n      } else {\n        otherParams[key] = value\n      }\n    })\n    return [reactParams, otherParams]\n  }\n  function render (swal, reactParams) {\n    Object.entries(reactParams).forEach(([key, value]) => {\n      const mount = mounts.find(mount => mount.key === key)\n      const domElement = mount.getter(ParentSwal)\n      ReactDOM.render(value, domElement)\n      swal.__mountedDomElements.push(domElement)\n    })\n  }\n\n  function unrender (swal) {\n    swal.__mountedDomElements.forEach(domElement => {\n      ReactDOM.unmountComponentAtNode(domElement)\n    })\n    swal.__mountedDomElements = []\n  }\n\n  return class extends ParentSwal {\n    static argsToParams (args) {\n      if (React.isValidElement(args[0]) || React.isValidElement(args[1])) {\n        const params = {}\n        ;['title', 'html', 'icon'].forEach((name, index) => {\n          if (args[index] !== undefined) {\n            params[name] = args[index]\n          }\n        })\n        return params\n      } else {\n        return ParentSwal.argsToParams(args)\n      }\n    }\n\n    _main (params, mixinParams) {\n      this.__mountedDomElements = []\n      this.__params = Object.assign({}, mixinParams, params)\n      const [reactParams, otherParams] = extractReactParams(this.__params)\n      const superDidOpen = otherParams.didOpen || noop\n      const superDidDestroy = otherParams.didDestroy || noop\n      return super._main(\n        Object.assign({}, otherParams, {\n          didOpen: popup => {\n            render(this, reactParams)\n            superDidOpen(popup)\n          },\n          didDestroy: popup => {\n            superDidDestroy(popup)\n            unrender(this)\n          },\n        }),\n      )\n    }\n\n    update (params) {\n      Object.assign(this.__params, params)\n      unrender(this)\n      const [reactParams, otherParams] = extractReactParams(this.__params)\n      super.update(otherParams)\n      render(this, reactParams)\n    }\n  }\n}\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function getDecoratedComponent(instanceRef) {\n  var currentRef = instanceRef.current;\n\n  if (currentRef == null) {\n    return null;\n  } else if (currentRef.decoratedRef) {\n    // go through the private field in decorateHandler to avoid the invariant hit\n    return currentRef.decoratedRef.current;\n  } else {\n    return currentRef;\n  }\n}\nexport function isClassComponent(Component) {\n  return Component && Component.prototype && typeof Component.prototype.render === 'function';\n}\nexport function isRefForwardingComponent(C) {\n  var _item$$$typeof;\n\n  var item = C;\n  return (item === null || item === void 0 ? void 0 : (_item$$$typeof = item.$$typeof) === null || _item$$$typeof === void 0 ? void 0 : _item$$$typeof.toString()) === 'Symbol(react.forward_ref)';\n}\nexport function isRefable(C) {\n  return isClassComponent(C) || isRefForwardingComponent(C);\n}\nexport function checkDecoratorArguments(functionName, signature) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var i = 0; i < (arguments.length <= 2 ? 0 : arguments.length - 2); i++) {\n      var arg = i + 2 < 2 || arguments.length <= i + 2 ? undefined : arguments[i + 2];\n\n      if (arg && arg.prototype && arg.prototype.render) {\n        // eslint-disable-next-line no-console\n        console.error('You seem to be applying the arguments in the wrong order. ' + \"It should be \".concat(functionName, \"(\").concat(signature, \")(Component), not the other way around. \") + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#you-seem-to-be-applying-the-arguments-in-the-wrong-order');\n        return;\n      }\n    }\n  }\n}\nexport function isFunction(input) {\n  return typeof input === 'function';\n}\nexport function noop() {// noop\n}\n\nfunction isObjectLike(input) {\n  return _typeof(input) === 'object' && input !== null;\n}\n\nexport function isPlainObject(input) {\n  if (!isObjectLike(input)) {\n    return false;\n  }\n\n  if (Object.getPrototypeOf(input) === null) {\n    return true;\n  }\n\n  var proto = input;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(input) === proto;\n}\nexport function isValidType(type, allowArray) {\n  return typeof type === 'string' || _typeof(type) === 'symbol' || !!allowArray && Array.isArray(type) && type.every(function (t) {\n    return isValidType(t, false);\n  });\n}","import { AbilityContext } from \"@src/utility/context/Can\"\nimport { renderIcon } from \"@src/views/apps/menu/store/my_menu\"\nimport { getUserData, parseStrAndField } from \"@utils\"\nimport { Fragment, useContext } from \"react\"\nimport { CornerDownRight, Edit2, Eye, Trash2 } from \"react-feather\"\nimport { useTranslation } from \"react-i18next\"\nimport { useNavigate, useParams } from \"react-router-dom\"\nimport { Button, UncontrolledTooltip } from \"reactstrap\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport {\n  getBaseUrl,\n  getDataList,\n  resetData\n} from \"@src/shared/dynamic_pages/store\"\n\nconst GlobalActionsTable = ({\n  row,\n  pageAttr,\n  handleDelete,\n  handleEdit,\n  disabledAction = [],\n  onlyText = false,\n  withText = false,\n  outline = false,\n  rowClickEvent = \"edit\"\n}) => {\n  const { t } = useTranslation()\n  const ability = useContext(AbilityContext)\n  const navigate = useNavigate()\n  const storeAll = useSelector((state) => state.dynamicStore)\n  const store = useSelector((state) => state.dynamic_temp_state)\n  const dispatch = useDispatch()\n  const dynamicColumnsExtraActionsButton =\n    pageAttr?.crudOpt?.dynamicColumnsExtraActionsButton\n\n  const extraBtnPrefixId = `btn-extra-action-${row?.id}`\n\n  function getDepthValue(obj, path, defaultValue = null) {\n    let props\n    if (typeof obj === \"undefined\") return defaultValue\n    if (typeof path === \"string\") {\n      props = path.split(\".\").reverse()\n    } else {\n      props = path\n    }\n    if (path.length === 0) return obj || defaultValue\n    let current = props.pop()\n    return getDepthValue(obj?.[current], props, defaultValue)\n  }\n\n  const scrollToDiv = (divId) => {\n    const element = document.getElementById(divId)\n    if (element) {\n      element.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"start\"\n      })\n    }\n  }\n\n  const extraBtnShowCondition = (crudOpt, row = null) => {\n    let result = false\n    if (crudOpt?.showIf) {\n      crudOpt?.showIf?.map((item, index) => {\n        let field = item?.field\n        let operator = item?.operator\n        let value = item?.value\n\n        let currentRowValue = null\n        let evalStr = null\n\n        if (field?.includes(\"__userData\")) {\n          const userData = getUserData()\n          if (field === \"__userData.name__\") {\n            currentRowValue = userData?.name\n          } else if (field === \"__userData.isManager__\") {\n            currentRowValue = userData?.isManager\n          } else if (field === \"__userData.email__\") {\n            currentRowValue = userData?.email\n          } else if (field === \"__userData.id__\") {\n            currentRowValue = userData?.id\n          } else if (field === \"__userData.username__\") {\n            currentRowValue = userData?.username\n          }\n\n          evalStr = `'${currentRowValue}' ${operator} ${value}`\n          if (\n            [null, undefined, \"\", false].includes(currentRowValue) &&\n            (value === \"null\" || value === \"false\")\n          ) {\n            evalStr = `${currentRowValue} ${operator} ${currentRowValue}`\n          }\n\n          try {\n            if (item?.showIf_or === true) {\n              result = result || eval(evalStr)\n            } else {\n              result = eval(evalStr)\n            }\n          } catch (error) {\n            result = false\n          }\n          // console.log(field, evalStr, result)\n        } else {\n          currentRowValue = field?.includes(\".\")\n            ? getDepthValue(row, field)\n            : row?.[field]\n\n          evalStr = `'${currentRowValue}' ${operator} ${value}`\n\n          if (\n            [null, undefined, \"\", false].includes(currentRowValue) &&\n            (value === \"null\" || value === \"false\")\n          ) {\n            evalStr = `${currentRowValue} ${operator} ${currentRowValue}`\n          }\n\n          try {\n            if (item?.showIf_or === true) {\n              result = result || eval(evalStr)\n            } else {\n              result = eval(evalStr)\n            }\n          } catch (error) {\n            result = false\n          }\n          // console.log(field, evalStr, result)\n        }\n      })\n    } else {\n      result = true\n    }\n    return result\n  }\n\n  const enabledBtnViewCondition = (crudOpt, row = null) => {\n    const paramss = useParams()\n    let result = false\n    if (crudOpt?.enabledViewBtnCondition) {\n      crudOpt?.enabledViewBtnCondition?.map((item) => {\n        let field = item?.field\n        let operator = item?.operator\n        let value = item?.value\n\n        let currentRowValue = null\n        let evalStr = null\n\n        if (field?.includes(\"__userData\")) {\n          const userData = getUserData()\n          if (field === \"__userData.name__\") {\n            currentRowValue = userData?.name\n          } else if (field === \"__userData.isManager__\") {\n            currentRowValue = userData?.isManager\n          } else if (field === \"__userData.email__\") {\n            currentRowValue = userData?.email\n          } else if (field === \"__userData.id__\") {\n            currentRowValue = userData?.id\n          } else if (field === \"__userData.username__\") {\n            currentRowValue = userData?.username\n          }\n\n          evalStr = `'${currentRowValue}' ${operator} ${value}`\n          if (\n            [null, undefined, \"\", false].includes(currentRowValue) &&\n            (value === \"null\" || value === \"false\")\n          ) {\n            evalStr = `${currentRowValue} ${operator} ${currentRowValue}`\n          }\n\n          try {\n            if (crudOpt?.enabledViewBtnCondition_or === true) {\n              result = result || eval(evalStr)\n            } else {\n              result = eval(evalStr)\n            }\n          } catch (error) {\n            result = false\n          }\n          // console.log(field, evalStr, result)\n        } else {\n          currentRowValue = field?.includes(\".\")\n            ? getDepthValue(row, field)\n            : row?.[field]\n\n          evalStr = `'${currentRowValue}' ${operator} ${value}`\n\n          if (\n            [null, undefined, \"\", false].includes(currentRowValue) &&\n            (value === \"null\" || value === \"false\")\n          ) {\n            evalStr = `${currentRowValue} ${operator} ${currentRowValue}`\n          }\n\n          try {\n            if (crudOpt?.enabledViewBtnCondition_or === true) {\n              result = result || eval(evalStr)\n            } else {\n              result = eval(evalStr)\n            }\n          } catch (error) {\n            result = false\n          }\n          // console.log(field, evalStr, result)\n        }\n      })\n    }\n\n    if (\n      !ability.can(\"update\", sessionStorage.getItem(\"current_page_perm\")) &&\n      !ability.can(\"post\", sessionStorage.getItem(\"current_page_perm\"))\n    ) {\n      result = true\n    }\n\n    if (paramss?.pageType === \"view\") {\n      result = true\n    }\n\n    return result\n  }\n\n  function hasColorClass(className) {\n    let result = \"\"\n    if (className && !className?.includes(\"flat\")) {\n      result = \"has-color\"\n    }\n    return result\n  }\n\n  return (\n    <div className=\"column-action text-center\">\n      {dynamicColumnsExtraActionsButton\n        ? dynamicColumnsExtraActionsButton?.map((item, index) => {\n            return (\n              extraBtnShowCondition(item, row) && (\n                <Fragment key={`${extraBtnPrefixId}-fragment-${index}`}>\n                  <Button.Ripple\n                    key={`${extraBtnPrefixId}-${index}`}\n                    outline={\n                      item?.outline &&\n                      /^(flat-|gradient-|relief-)/.test(item?.color) === false\n                    }\n                    id={`${extraBtnPrefixId}-${index}`}\n                    className={`btn-icon ms-25 extra-btn-table } ${\n                      !item?.text ? \"rounded-circle \" : \"\"\n                    }`}\n                    color={item?.color ? item?.color : \"flat-secondary\"}\n                    onClick={(e) => {\n                      e.preventDefault()\n                      let staticUrl = item?.clickLinkUrl?.static\n                      let fieldUrl = item?.clickLinkUrl?.field\n                      let widgetId = item?.clickLinkSlideToWidget?.widget_id\n\n                      if (staticUrl && !fieldUrl && !widgetId) {\n                        let params = \"\"\n                        let paramsFromFields =\n                          item?.clickLinkUrl?.paramsFromFields\n                        let paramsArr = []\n                        if (paramsFromFields) {\n                          paramsFromFields?.map((it, idx) => {\n                            let paramKey = it?.paramName\n                            // let paramValue = row?.[it?.fieldName]\n                            let paramValue = parseStrAndField(\n                              row,\n                              it?.fieldName\n                            )\n                            params += `&${paramKey}=${paramValue}`\n                            paramsArr.push(`${paramKey}=${paramValue}`)\n                          })\n                        }\n\n                        let appendToEndpointPath =\n                          item?.clickLinkUrl?.appendToEndpointPath\n                        if (appendToEndpointPath) {\n                          // let appendToEndpointPathObj = appendToEndpointPath?.split(\",\")\n                          appendToEndpointPath?.map((it, idx) => {\n                            let paramKey = it?.paramName\n                            let paramValue = parseStrAndField(row, it)\n                            params += `/${paramValue}`\n                            paramsArr.push(`${paramValue}`)\n                          })\n                        }\n\n                        const isQueryStr = staticUrl?.includes(\"?\")\n\n                        let newStaticUrl = !appendToEndpointPath\n                          ? `${staticUrl}${\n                              isQueryStr ? \"\" : \"?\"\n                            }${paramsArr.join(\"&\")}`\n                          : `${staticUrl}${\n                              isQueryStr ? \"/\" : \"/\"\n                            }${paramsArr.join(\"/\")}`\n\n                        let staticUrlFix = !appendToEndpointPath\n                          ? newStaticUrl\n                              .replace(\"&&\", \"&\")\n                              .replace(\"/?&\", \"?\")\n                              .replace(\"??\", \"?\")\n                              .replace(\"/?\", \"?\")\n                              .replace(\"/&\", \"&\")\n                              .replace(\"?&\", \"?\")\n                              .replace(\"&?\", \"&\")\n                              .replace(\"?&\", \"\")\n                          : newStaticUrl\n\n                        if (\n                          staticUrl.startsWith(\"http://\") ||\n                          staticUrl.startsWith(\"https://\")\n                        ) {\n                          // console.log(staticUrlFix)\n                          window.open(staticUrlFix, \"_blank\", \"noreferrer\")\n                        } else {\n                          navigate(newStaticUrl)\n                        }\n                      } else if (fieldUrl && !staticUrl && !widgetId) {\n                        let params = \"\"\n                        let paramsFromFields =\n                          item?.clickLinkUrl?.paramsFromFields\n                        // console.log(fieldUrl.includes(\".\"))\n                        let fieldUrlFix = fieldUrl.includes(\".\")\n                          ? getDepthValue(row, fieldUrl)\n                          : row?.[fieldUrl]\n                        // console.log(fieldUrlFix)\n                        if (fieldUrlFix) {\n                          // console.log(fieldUrlFix)\n                          if (paramsFromFields) {\n                            paramsFromFields?.map((it, idx) => {\n                              let paramKey = it?.paramName\n                              let paramValue = row?.[it?.fieldName]\n                              params += `${paramKey}=${paramValue}&`\n                            })\n                          }\n                          fieldUrlFix = `${fieldUrlFix}?${params.replace(\n                            /&$/,\n                            \"\"\n                          )}`\n                          if (\n                            fieldUrlFix.startsWith(\"http://\") ||\n                            fieldUrlFix.startsWith(\"https://\")\n                          ) {\n                            // console.log(fieldUrlFix)\n                            window.open(fieldUrlFix, \"_blank\", \"noreferrer\")\n                          } else {\n                            navigate(fieldUrlFix)\n                          }\n                        }\n                      } else if (!fieldUrl && !staticUrl && widgetId) {\n                        let params = \"\"\n                        let paramsFromFields =\n                          item?.clickLinkSlideToWidget?.paramsFromFields\n\n                        if (paramsFromFields) {\n                          paramsFromFields?.map((it, idx) => {\n                            let paramKey = it?.paramName\n                            let paramValue = row?.[it?.fieldName]\n                            params += `${paramKey}=${paramValue}&`\n                          })\n                        }\n                        setTimeout(() => {\n                          scrollToDiv(`widget_${widgetId}`)\n                        }, 400)\n                      }\n\n                      const clickLinkFillGlobalFilter =\n                        item?.clickLinkFillGlobalFilter\n                      // console.log(clickLinkFillGlobalFilter)\n                      if (clickLinkFillGlobalFilter) {\n                        const targetId = clickLinkFillGlobalFilter?.widget_id\n                        const element = document.getElementById(\n                          `widget_${targetId}`\n                        )\n                        if (element) {\n                          const store_to_reset =\n                            element.getAttribute(\"storename\")\n\n                          let params = {}\n                          let paramsFromFields =\n                            item?.clickLinkFillGlobalFilter?.paramsFromFields\n\n                          if (paramsFromFields) {\n                            paramsFromFields?.map((it, idx) => {\n                              let paramKey = it?.paramName\n                              let paramValue = row?.[it?.fieldName]\n                              params[`${paramKey}`] = paramValue\n                            })\n                          }\n\n                          storeAll.pageAttributes[\n                            store_to_reset\n                          ]?.options?.data?.dynamicCard?.map((x, index) => {\n                            // console.log(x)\n                            if (x?.children) {\n                              x.children?.map((child, index) => {\n                                // console.log(storeAll)\n                                // console.log(store)\n                                const widget_id =\n                                  child?.chart_id ??\n                                  child?.cardId ??\n                                  child?.pageId ??\n                                  child?.crudOpt?.pageId ??\n                                  index\n\n                                const targetAttr = child\n\n                                const linkToGlobalFilterName =\n                                  child?.linkToGlobalFilter ??\n                                  child?.crudOpt?.linkToGlobalFilter ??\n                                  child?.dataFrom?.linkToGlobalFilter\n\n                                // console.log(widget_id, targetId)\n\n                                if (\n                                  child?.type === \"global_filter\" &&\n                                  widget_id === targetId\n                                ) {\n                                  // console.log(targetAttr)\n                                  // if (storeAll?.pageData?.[store_to_reset]?.data) {\n                                  //   dispatch(resetData(store_to_reset))\n                                  // }\n                                  // dispatch(\n                                  //   getDataList({\n                                  //     ...(storeAll?.pageData?.[store_to_reset]\n                                  //       ?.params ?? {}),\n                                  //     ...params,\n                                  //     storeName: store_to_reset,\n                                  //     endpointName:\n                                  //     child?.crudOpt\n                                  //         ?.endpointName,\n                                  //     baseUrl:\n                                  //     child?.crudOpt\n                                  //         ?.baseUrl\n                                  //   })\n                                  // )\n                                }\n\n                                // else if (child?.crudOpt && targetId === linkToGlobalFilterName) {\n                                //   const child_widget_id =\n                                //   child?.chart_id ??\n                                //   child?.cardId ??\n                                //   child?.pageId ??\n                                //   child?.crudOpt?.pageId ??\n                                //   index\n                                // }\n                              })\n                            } else {\n                              const widget_id =\n                                x?.chart_id ??\n                                x?.cardId ??\n                                x?.pageId ??\n                                x?.crudOpt?.pageId ??\n                                index\n\n                              const targetAttr = x\n                              const linkToGlobalFilterName =\n                                x?.linkToGlobalFilter ??\n                                x?.crudOpt?.linkToGlobalFilter ??\n                                x?.dataFrom?.linkToGlobalFilter\n\n                              // console.log(widget_id, targetId)\n\n                              if (\n                                x?.type === \"global_filter\" &&\n                                widget_id === targetId\n                              ) {\n                                // console.log(targetAttr)\n                                // console.log(storeAll)\n                              } else if (\n                                x?.crudOpt &&\n                                targetId === linkToGlobalFilterName\n                              ) {\n                                const childStoreName = `${\n                                  x?.crudOpt?.baseUrl ??\n                                  x?.dataFrom?.baseUrl ??\n                                  x?.baseUrl\n                                }_${widget_id}`\n\n                                // console.log(params, x)\n                                // console.log(storeAll, childStoreName)\n\n                                if (\n                                  storeAll?.pageData?.[childStoreName]?.data\n                                ) {\n                                  dispatch(resetData(childStoreName))\n                                }\n\n                                dispatch(\n                                  getDataList({\n                                    ...(storeAll?.pageData?.[childStoreName]\n                                      ?.params ?? {}),\n                                    ...params,\n                                    storeName: childStoreName,\n                                    endpointName: x?.crudOpt?.endpointName,\n                                    baseUrl: x?.crudOpt?.baseUrl\n                                  })\n                                )\n                              }\n\n                              // const linkToGlobalFilterName =\n                              //   x?.linkToGlobalFilter ??\n                              //   x?.crudOpt?.linkToGlobalFilter ??\n                              //   x?.dataFrom?.linkToGlobalFilter\n                              // if (linkToGlobalFilterName) {\n                              //   const widget_id = x?.chart_id ?? x?.cardId\n                              //   // console.log(params?.storeName, linkToGlobalFilterName)\n                              //   if (params?.storeName === linkToGlobalFilterName) {\n                              //     isLinkedToChilds = true\n                              //     if (x?.crudOpt) {\n                              //       const store_to_reset = `${\n                              //         x?.crudOpt?.baseUrl ?? x?.dataFrom?.baseUrl ?? x?.baseUrl\n                              //       }_${widget_id}`\n                              //       // console.log(store_to_reset)\n                              //       // if (storeAll?.pageData?.[store_to_reset]?.data) {\n                              //       resetDataByStore(store_to_reset, params)\n                              //       // }\n                              //     } else {\n                              //       const store_to_reset = `${widget_id}`\n                              //       const copyParams = { ...params }\n                              //       delete copyParams.storeName\n                              //       copyParams[\"item\"] = x\n                              //       handleChangeFilterFromChild(copyParams)\n                              //     }\n                              //   }\n                              // }\n                            }\n                          })\n                        }\n                      }\n                    }}\n                  >\n                    {\n                      <Fragment>\n                        {item?.icon &&\n                          renderIcon(item?.icon, \"align-middle\", 16)}\n                        {item?.text && (\n                          <span className=\"ms-25 align-middle\">\n                            {t(item?.text)}\n                          </span>\n                        )}\n                      </Fragment>\n                    }\n                  </Button.Ripple>\n                  {!pageAttr?.isViewOnRow && (\n                    <UncontrolledTooltip\n                      key={`${extraBtnPrefixId}-tooltip-${index}`}\n                      placement=\"left\"\n                      target={`${extraBtnPrefixId}-${index}`}\n                    >\n                      {item?.tooltip ? t(item?.tooltip) : t(item?.text)}\n                    </UncontrolledTooltip>\n                  )}\n                </Fragment>\n              )\n            )\n          })\n        : null}\n\n      {ability.can(\"delete\", sessionStorage.getItem(\"current_page_perm\")) &&\n      !disabledAction.includes(\"delete\") &&\n      !pageAttr?.onDashboard ? (\n        <Fragment>\n          <Button.Ripple\n            outline={outline}\n            id={`btn-delete-${row.id}`}\n            className={`btn-action-table ms-25 btn-icon ${\n              !outline ? \"rounded-circle \" : \"\"\n            }`}\n            color={!outline ? \"flat-secondary\" : \"secondary\"}\n            onClick={(e) => {\n              e.preventDefault()\n              handleDelete(row.id)\n            }}\n          >\n            {!onlyText && <Trash2 size={16} />}\n            {(onlyText || withText) && (\n              <span className=\"align-middle ms-25\">{t(\"Delete\")}</span>\n            )}\n          </Button.Ripple>\n          {!pageAttr?.isViewOnRow && (\n            <UncontrolledTooltip\n              placement=\"left\"\n              target={`btn-delete-${row.id}`}\n            >\n              {t(\"Delete\")}\n            </UncontrolledTooltip>\n          )}\n        </Fragment>\n      ) : null}\n\n      {rowClickEvent !== \"view\" &&\n      ability.can(\"update\", sessionStorage.getItem(\"current_page_perm\")) &&\n      !disabledAction.includes(\"update\") &&\n      !pageAttr?.onDashboard ? (\n        <Fragment>\n          <Button.Ripple\n            outline={outline}\n            className={`btn-action-table ms-25 btn-icon ${\n              !outline ? \"rounded-circle \" : \"\"\n            }`}\n            color={!outline ? \"flat-secondary\" : \"secondary\"}\n            id={`btn-edit-${row.id}`}\n            onClick={(e) => {\n              e.preventDefault()\n              handleEdit(row)\n            }}\n          >\n            {!onlyText && <Edit2 size={16} />}\n            {(onlyText || withText) && (\n              <span className=\"align-middle ms-25\">{t(\"Edit\")}</span>\n            )}\n          </Button.Ripple>\n          {!pageAttr?.isViewOnRow && (\n            <UncontrolledTooltip placement=\"left\" target={`btn-edit-${row.id}`}>\n              {t(\"Edit\")}\n            </UncontrolledTooltip>\n          )}\n        </Fragment>\n      ) : null}\n\n      {(rowClickEvent === \"view\" && !disabledAction.includes(\"view\")) ||\n      (enabledBtnViewCondition(pageAttr?.crudOpt, row) &&\n        !pageAttr?.crudOpt?.saveAsNewBtn &&\n        !pageAttr?.crudOpt?.data?.dynamicForm?.some(\n          (item) => item.type === \"selectTable\"\n        ) &&\n        !pageAttr?.onDashboard) ? (\n        <Fragment>\n          <Button.Ripple\n            outline={outline}\n            className={`btn-action-table ms-25 btn-icon ${\n              !outline ? \"rounded-circle \" : \"\"\n            }`}\n            color={!outline ? \"flat-secondary\" : \"secondary\"}\n            id={`btn-view-${row.id}`}\n            onClick={(e) => {\n              e.preventDefault()\n              handleEdit(row, null, \"view\")\n            }}\n          >\n            {!onlyText && <Eye size={16} />}\n            {(onlyText || withText) && (\n              <span className=\"align-middle ms-25\">{t(\"View\")}</span>\n            )}\n          </Button.Ripple>\n          {!pageAttr?.isViewOnRow && (\n            <UncontrolledTooltip placement=\"left\" target={`btn-view-${row.id}`}>\n              {t(\"View Detail\")}\n            </UncontrolledTooltip>\n          )}\n        </Fragment>\n      ) : null}\n\n      {ability.can(\"post\", sessionStorage.getItem(\"current_page_perm\")) &&\n      !disabledAction.includes(\"add-child\") &&\n      pageAttr?.crudOpt?.gridTheme === \"table_tree\" &&\n      !pageAttr?.onDashboard ? (\n        <Fragment>\n          <Button.Ripple\n            outline={outline}\n            id={`btn-add-child-${row.id}`}\n            className={`btn-action-table btn-icon ${\n              !outline ? \"rounded-circle \" : \"\"\n            }`}\n            color={!outline ? \"flat-secondary\" : \"secondary\"}\n            onClick={(e) => {\n              e.preventDefault()\n              handleEdit(null, {\n                [pageAttr?.crudOpt?.ganttParentIdField ?? \"parent_id\"]: row?.id\n              })\n            }}\n          >\n            {!onlyText && <CornerDownRight size={16} />}\n            {/* {!onlyText && renderIcon(\"fontAwesome:folder-tree\", \"\", 16)} */}\n            {/* {!onlyText && renderIcon(\"material:subdirectory_arrow_right\", \"\", 16)} */}\n            {(onlyText || withText) && (\n              <span className=\"align-middle ms-25\">{t(\"Add Child\")}</span>\n            )}\n          </Button.Ripple>\n          {!pageAttr?.isViewOnRow && (\n            <UncontrolledTooltip\n              placement=\"left\"\n              target={`btn-add-child-${row.id}`}\n            >\n              {t(\"Add Child\")}\n            </UncontrolledTooltip>\n          )}\n        </Fragment>\n      ) : null}\n\n      {/* {rowClickEvent === \"view\" || !disabledAction.includes(\"view\") ? (\n        <Fragment>\n          <Button.Ripple\n            outline={outline}\n            className={`btn-icon ms-1 ${!outline ? \"rounded-circle \" : \"\"}`}\n            color={!outline ? \"flat-info\" : \"info\"}\n            id={`btn-view-${row.id}`}\n            onClick={(e) => {\n              e.preventDefault()\n              handleEdit(row)\n            }}\n          >\n            {!onlyText && <Eye size={16} />}\n            {(onlyText || withText) && (\n              <span className=\"align-middle ms-25\">{t(\"View\")}</span>\n            )}\n          </Button.Ripple>\n          <UncontrolledTooltip placement=\"left\" target={`btn-view-${row.id}`}>\n            {t(\"View Detail\")}\n          </UncontrolledTooltip>\n        </Fragment>\n      ) : null} */}\n    </div>\n  )\n}\n\nexport default GlobalActionsTable\n","// ** React Imports\nimport { Fragment } from \"react\"\nimport { Link } from \"react-router-dom\"\n\n// ** Third Party Components\nimport Proptypes from \"prop-types\"\nimport classnames from \"classnames\"\nimport { Grid, CheckSquare, MessageSquare, Mail, Calendar } from \"react-feather\"\nimport { useTranslation } from \"react-i18next\"\n\n// ** Reactstrap Imports\nimport {\n  Breadcrumb,\n  DropdownMenu,\n  DropdownItem,\n  BreadcrumbItem,\n  DropdownToggle,\n  UncontrolledButtonDropdown\n} from \"reactstrap\"\n\nconst BreadCrumbs = (props) => {\n  const { t } = useTranslation()\n  // ** Props\n  const { data, title, mb, subtitle } = props\n\n  const renderBreadCrumbs = () => {\n    return data.map((item, index) => {\n      const Wrapper = item.link ? Link : Fragment\n      const isLastItem = data.length - 1 === index\n      return (\n        <BreadcrumbItem\n          tag=\"li\"\n          key={index}\n          active={!isLastItem}\n          className={classnames({ \"text-primary\": !isLastItem })}\n        >\n          <Wrapper {...(item.link ? { to: item.link } : {})}>\n            {item.title}\n          </Wrapper>\n        </BreadcrumbItem>\n      )\n    })\n  }\n\n  return (\n    <div\n      className={`content-header-left col-md-9 col-8 ${\n        mb || mb === 0 ? `mb-${mb}` : \"mb-2\"\n      }`}\n    >\n      <div className=\"row breadcrumbs-top\">\n        <div className=\"col-12\">\n          {title ? (\n            <h2 className=\"content-header-title float-start mb-0\">{title}</h2>\n          ) : (\n            \"\"\n          )}\n          <div className=\"breadcrumb-wrapper vs-breadcrumbs d-sm-block d-none col-12\">\n            <Breadcrumb>\n              <BreadcrumbItem tag=\"li\">\n                <Link to=\"/\">{t(\"Home\")}</Link>\n              </BreadcrumbItem>\n              {renderBreadCrumbs()}\n            </Breadcrumb>\n          </div>\n        </div>\n        <div className=\"col-12\">{subtitle ?? \"\"}</div>\n      </div>\n    </div>\n  )\n}\nexport default BreadCrumbs\n\n// ** PropTypes\nBreadCrumbs.propTypes = {\n  title: Proptypes.string.isRequired,\n  data: Proptypes.arrayOf(\n    Proptypes.shape({\n      link: Proptypes.string,\n      title: Proptypes.string.isRequired\n    })\n  )\n}\n","import { useEffect, memo } from 'react';\n/**\n * A utility for rendering a drag preview image\n */\n\nexport var DragPreviewImage = memo(function DragPreviewImage(_ref) {\n  var connect = _ref.connect,\n      src = _ref.src;\n  useEffect(function () {\n    if (typeof Image === 'undefined') return;\n    var connected = false;\n    var img = new Image();\n    img.src = src;\n\n    img.onload = function () {\n      connect(img);\n      connected = true;\n    };\n\n    return function () {\n      if (connected) {\n        connect(null);\n      }\n    };\n  });\n  return null;\n});","// ** Third Party Components\nimport PropTypes from \"prop-types\"\nimport classnames from \"classnames\"\n\n// ** Reactstrap Imports\nimport { Card, CardBody } from \"reactstrap\"\nimport { Fragment } from \"react\"\n\nconst StatsHorizontal = ({\n  icon,\n  color,\n  cardColor,\n  stats,\n  renderStats,\n  statTitle,\n  className,\n  countTextColor,\n  countTextStyle = {},\n  titleStyle = {},\n  statsMargin,\n  solidColor = false,\n  cardStyle = {},\n  titleOnTop = false\n}) => {\n  const cardColorFix = !solidColor ? `bg-light-${cardColor}` : `bg-${cardColor}`\n  return (\n    <Card\n      style={{ ...cardStyle }}\n      {...(cardColor ? { className: cardColorFix, inverse: true } : {})}\n    >\n      <CardBody className={className}>\n        {!titleOnTop ? (\n          <div className=\"d-flex justify-content-between align-items-center\">\n            {renderStats ? (\n              renderStats\n            ) : (\n              <Fragment>\n                <div>\n                  {renderStats ? (\n                    renderStats\n                  ) : (\n                    <h3\n                      className={classnames(\"fw-bolder\", {\n                        \"mb-0\": !statsMargin,\n                        [statsMargin]: statsMargin\n                      })}\n                      style={{\n                        color: countTextColor ?? \"#5e5873\",\n                        ...countTextStyle\n                      }}\n                    >\n                      {stats}\n                    </h3>\n                  )}\n\n                  <p style={{ ...titleStyle }} className=\"card-text\">\n                    {statTitle}\n                  </p>\n                </div>\n                <div\n                  className={`avatar avatar-stats p-50 m-0 ${\n                    color ? `bg-light-${color}` : \"bg-light-primary\"\n                  }`}\n                >\n                  <div className=\"avatar-content\">{icon}</div>\n                </div>\n              </Fragment>\n            )}\n          </div>\n        ) : (\n          <Fragment>\n            <div>\n              <p style={{ ...titleStyle }} className=\"card-text\">\n                {statTitle}\n              </p>\n            </div>\n            <div className=\"d-flex justify-content-between align-items-center\">\n              {renderStats ? (\n                renderStats\n              ) : (\n                <Fragment>\n                  <div>\n                    {renderStats ? (\n                      renderStats\n                    ) : (\n                      <h3\n                        className={classnames(\"fw-bolder\", {\n                          \"mb-0\": !statsMargin,\n                          [statsMargin]: statsMargin\n                        })}\n                        style={{\n                          color: countTextColor ?? \"#5e5873\",\n                          ...countTextStyle\n                        }}\n                      >\n                        {stats}\n                      </h3>\n                    )}\n                  </div>\n                  <div\n                    className={`avatar avatar-stats p-50 m-0 ${\n                      color ? `bg-light-${color}` : \"bg-light-primary\"\n                    }`}\n                  >\n                    <div className=\"avatar-content\">{icon}</div>\n                  </div>\n                </Fragment>\n              )}\n            </div>\n          </Fragment>\n        )}\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default StatsHorizontal\n\n// ** PropTypes\nStatsHorizontal.propTypes = {\n  stats: PropTypes.string,\n  renderStats: PropTypes.any,\n  className: PropTypes.string,\n  icon: PropTypes.element,\n  color: PropTypes.string,\n  cardColor: PropTypes.string,\n  statTitle: PropTypes.string,\n  statsMargin: PropTypes.oneOf([\n    \"mb-0\",\n    \"mb-25\",\n    \"mb-50\",\n    \"mb-75\",\n    \"mb-1\",\n    \"mb-2\",\n    \"mb-3\",\n    \"mb-4\",\n    \"mb-5\"\n  ])\n}\n","import { createContext } from 'react';\n/**\n * Create the React Context\n */\n\nexport var DndContext = createContext({\n  dragDropManager: undefined\n});","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\nmodule.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nmodule.exports = _iterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nmodule.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _excluded = [\"children\"];\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect, memo } from 'react';\nimport { createDragDropManager } from 'dnd-core';\nimport { DndContext } from './DndContext';\nvar refCount = 0;\nvar INSTANCE_SYM = Symbol.for('__REACT_DND_CONTEXT_INSTANCE__');\n/**\n * A React component that provides the React-DnD context\n */\n\nexport var DndProvider = memo(function DndProvider(_ref) {\n  var children = _ref.children,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _getDndContextValue = getDndContextValue(props),\n      _getDndContextValue2 = _slicedToArray(_getDndContextValue, 2),\n      manager = _getDndContextValue2[0],\n      isGlobalInstance = _getDndContextValue2[1]; // memoized from props\n\n  /**\n   * If the global context was used to store the DND context\n   * then where theres no more references to it we should\n   * clean it up to avoid memory leaks\n   */\n\n\n  useEffect(function () {\n    if (isGlobalInstance) {\n      var context = getGlobalContext();\n      ++refCount;\n      return function () {\n        if (--refCount === 0) {\n          context[INSTANCE_SYM] = null;\n        }\n      };\n    }\n  }, []);\n  return _jsx(DndContext.Provider, Object.assign({\n    value: manager\n  }, {\n    children: children\n  }), void 0);\n});\n\nfunction getDndContextValue(props) {\n  if ('manager' in props) {\n    var _manager = {\n      dragDropManager: props.manager\n    };\n    return [_manager, false];\n  }\n\n  var manager = createSingletonDndContext(props.backend, props.context, props.options, props.debugMode);\n  var isGlobalInstance = !props.context;\n  return [manager, isGlobalInstance];\n}\n\nfunction createSingletonDndContext(backend) {\n  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getGlobalContext();\n  var options = arguments.length > 2 ? arguments[2] : undefined;\n  var debugMode = arguments.length > 3 ? arguments[3] : undefined;\n  var ctx = context;\n\n  if (!ctx[INSTANCE_SYM]) {\n    ctx[INSTANCE_SYM] = {\n      dragDropManager: createDragDropManager(backend, context, options, debugMode)\n    };\n  }\n\n  return ctx[INSTANCE_SYM];\n}\n\nfunction getGlobalContext() {\n  return typeof global !== 'undefined' ? global : window;\n}","/* eslint-disable no-restricted-globals, @typescript-eslint/ban-ts-comment, @typescript-eslint/no-unused-vars, @typescript-eslint/no-non-null-assertion */\nimport type { Task } from './types.js'\nimport { makeRequestCall, makeRequestCallFromTimer } from './makeRequestCall.js'\n\nexport class AsapQueue {\n\tprivate queue: Task[] = []\n\t// We queue errors to ensure they are thrown in right order (FIFO).\n\t// Array-as-queue is good enough here, since we are just dealing with exceptions.\n\tprivate pendingErrors: any[] = []\n\t// Once a flush has been requested, no further calls to `requestFlush` are\n\t// necessary until the next `flush` completes.\n\t// @ts-ignore\n\tprivate flushing = false\n\t// `requestFlush` is an implementation-specific method that attempts to kick\n\t// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n\t// the event queue before yielding to the browser's own event loop.\n\tprivate requestFlush: () => void\n\n\tprivate requestErrorThrow: () => void\n\t// The position of the next task to execute in the task queue. This is\n\t// preserved between calls to `flush` so that it can be resumed if\n\t// a task throws an exception.\n\tprivate index = 0\n\t// If a task schedules additional tasks recursively, the task queue can grow\n\t// unbounded. To prevent memory exhaustion, the task queue will periodically\n\t// truncate already-completed tasks.\n\tprivate capacity = 1024\n\n\tpublic constructor() {\n\t\t// `requestFlush` requests that the high priority event queue be flushed as\n\t\t// soon as possible.\n\t\t// This is useful to prevent an error thrown in a task from stalling the event\n\t\t// queue if the exception handled by Node.jss\n\t\t// `process.on(\"uncaughtException\")` or by a domain.\n\n\t\t// `requestFlush` is implemented using a strategy based on data collected from\n\t\t// every available SauceLabs Selenium web driver worker at time of writing.\n\t\t// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\t\tthis.requestFlush = makeRequestCall(this.flush)\n\t\tthis.requestErrorThrow = makeRequestCallFromTimer(() => {\n\t\t\t// Throw first error\n\t\t\tif (this.pendingErrors.length) {\n\t\t\t\tthrow this.pendingErrors.shift()\n\t\t\t}\n\t\t})\n\t}\n\n\t// Use the fastest means possible to execute a task in its own turn, with\n\t// priority over other events including IO, animation, reflow, and redraw\n\t// events in browsers.\n\t//\n\t// An exception thrown by a task will permanently interrupt the processing of\n\t// subsequent tasks. The higher level `asap` function ensures that if an\n\t// exception is thrown by a task, that the task queue will continue flushing as\n\t// soon as possible, but if you use `rawAsap` directly, you are responsible to\n\t// either ensure that no exceptions are thrown from your task, or to manually\n\t// call `rawAsap.requestFlush` if an exception is thrown.\n\tpublic enqueueTask(task: Task): void {\n\t\tconst { queue: q, requestFlush } = this\n\t\tif (!q.length) {\n\t\t\trequestFlush()\n\t\t\tthis.flushing = true\n\t\t}\n\t\t// Equivalent to push, but avoids a function call.\n\t\tq[q.length] = task\n\t}\n\n\t// The flush function processes all tasks that have been scheduled with\n\t// `rawAsap` unless and until one of those tasks throws an exception.\n\t// If a task throws an exception, `flush` ensures that its state will remain\n\t// consistent and will resume where it left off when called again.\n\t// However, `flush` does not make any arrangements to be called again if an\n\t// exception is thrown.\n\tprivate flush = () => {\n\t\tconst { queue: q } = this\n\t\twhile (this.index < q.length) {\n\t\t\tconst currentIndex = this.index\n\t\t\t// Advance the index before calling the task. This ensures that we will\n\t\t\t// begin flushing on the next task the task throws an error.\n\t\t\tthis.index++\n\t\t\tq[currentIndex]!.call()\n\t\t\t// Prevent leaking memory for long chains of recursive calls to `asap`.\n\t\t\t// If we call `asap` within tasks scheduled by `asap`, the queue will\n\t\t\t// grow, but to avoid an O(n) walk for every task we execute, we don't\n\t\t\t// shift tasks off the queue after they have been executed.\n\t\t\t// Instead, we periodically shift 1024 tasks off the queue.\n\t\t\tif (this.index > this.capacity) {\n\t\t\t\t// Manually shift all values starting at the index back to the\n\t\t\t\t// beginning of the queue.\n\t\t\t\tfor (\n\t\t\t\t\tlet scan = 0, newLength = q.length - this.index;\n\t\t\t\t\tscan < newLength;\n\t\t\t\t\tscan++\n\t\t\t\t) {\n\t\t\t\t\tq[scan] = q[scan + this.index]!\n\t\t\t\t}\n\t\t\t\tq.length -= this.index\n\t\t\t\tthis.index = 0\n\t\t\t}\n\t\t}\n\t\tq.length = 0\n\t\tthis.index = 0\n\t\tthis.flushing = false\n\t}\n\n\t// In a web browser, exceptions are not fatal. However, to avoid\n\t// slowing down the queue of pending tasks, we rethrow the error in a\n\t// lower priority turn.\n\tpublic registerPendingError = (err: any) => {\n\t\tthis.pendingErrors.push(err)\n\t\tthis.requestErrorThrow()\n\t}\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// // its existence.\n// rawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n","import type { Task } from './types.js'\nimport { RawTask } from './RawTask.js'\n\nexport class TaskFactory {\n\tprivate freeTasks: RawTask[] = []\n\n\tpublic constructor(private onError: (err: any) => void) {}\n\n\tpublic create(task: () => void): Task {\n\t\tconst tasks = this.freeTasks\n\t\tconst t = tasks.length\n\t\t\t? (tasks.pop() as RawTask)\n\t\t\t: new RawTask(this.onError, (t) => (tasks[tasks.length] = t))\n\t\tt.task = task\n\t\treturn t\n\t}\n}\n","import { invariant } from '@react-dnd/invariant';\nimport { cloneElement, isValidElement } from 'react';\n\nfunction throwIfCompositeComponentElement(element) {\n  // Custom components can no longer be wrapped directly in React DnD 2.0\n  // so that we don't need to depend on findDOMNode() from react-dom.\n  if (typeof element.type === 'string') {\n    return;\n  }\n\n  var displayName = element.type.displayName || element.type.name || 'the component';\n  throw new Error('Only native element nodes can now be passed to React DnD connectors.' + \"You can either wrap \".concat(displayName, \" into a <div>, or turn it into a \") + 'drag source or a drop target itself.');\n}\n\nfunction wrapHookToRecognizeElement(hook) {\n  return function () {\n    var elementOrNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    // When passed a node, call the hook straight away.\n    if (!isValidElement(elementOrNode)) {\n      var node = elementOrNode;\n      hook(node, options); // return the node so it can be chained (e.g. when within callback refs\n      // <div ref={node => connectDragSource(connectDropTarget(node))}/>\n\n      return node;\n    } // If passed a ReactElement, clone it and attach this function as a ref.\n    // This helps us achieve a neat API where user doesn't even know that refs\n    // are being used under the hood.\n\n\n    var element = elementOrNode;\n    throwIfCompositeComponentElement(element); // When no options are passed, use the hook directly\n\n    var ref = options ? function (node) {\n      return hook(node, options);\n    } : hook;\n    return cloneWithRef(element, ref);\n  };\n}\n\nexport function wrapConnectorHooks(hooks) {\n  var wrappedHooks = {};\n  Object.keys(hooks).forEach(function (key) {\n    var hook = hooks[key]; // ref objects should be passed straight through without wrapping\n\n    if (key.endsWith('Ref')) {\n      wrappedHooks[key] = hooks[key];\n    } else {\n      var wrappedHook = wrapHookToRecognizeElement(hook);\n\n      wrappedHooks[key] = function () {\n        return wrappedHook;\n      };\n    }\n  });\n  return wrappedHooks;\n}\n\nfunction setRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else {\n    ref.current = node;\n  }\n}\n\nfunction cloneWithRef(element, newRef) {\n  var previousRef = element.ref;\n  invariant(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' + 'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' + 'Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs');\n\n  if (!previousRef) {\n    // When there is no ref on the element, use the new ref directly\n    return cloneElement(element, {\n      ref: newRef\n    });\n  } else {\n    return cloneElement(element, {\n      ref: function ref(node) {\n        setRef(previousRef, node);\n        setRef(newRef, node);\n      }\n    });\n  }\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function isRef(obj) {\n  return (// eslint-disable-next-line no-prototype-builtins\n    obj !== null && _typeof(obj) === 'object' && Object.prototype.hasOwnProperty.call(obj, 'current')\n  );\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { createRef, Component } from 'react';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { invariant } from '@react-dnd/invariant';\nimport hoistStatics from 'hoist-non-react-statics';\nimport { DndContext } from '../core';\nimport { isRefable, checkDecoratorArguments, isPlainObject } from './utils';\n/**\n * @param collect The props collector function\n * @param options The DnD options\n */\n\nexport function DragLayer(collect) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  checkDecoratorArguments('DragLayer', 'collect[, options]', collect, options);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ', 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the second argument to DragLayer to be a plain object when specified. ' + 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', options);\n  return function decorateLayer(DecoratedComponent) {\n    var Decorated = DecoratedComponent;\n    var _options$arePropsEqua = options.arePropsEqual,\n        arePropsEqual = _options$arePropsEqua === void 0 ? shallowEqual : _options$arePropsEqua;\n    var displayName = Decorated.displayName || Decorated.name || 'Component';\n\n    var DragLayerContainer = /*#__PURE__*/function (_Component) {\n      _inherits(DragLayerContainer, _Component);\n\n      var _super = _createSuper(DragLayerContainer);\n\n      function DragLayerContainer() {\n        var _this;\n\n        _classCallCheck(this, DragLayerContainer);\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        _this = _super.call.apply(_super, [this].concat(args));\n\n        _defineProperty(_assertThisInitialized(_this), \"manager\", void 0);\n\n        _defineProperty(_assertThisInitialized(_this), \"isCurrentlyMounted\", false);\n\n        _defineProperty(_assertThisInitialized(_this), \"unsubscribeFromOffsetChange\", void 0);\n\n        _defineProperty(_assertThisInitialized(_this), \"unsubscribeFromStateChange\", void 0);\n\n        _defineProperty(_assertThisInitialized(_this), \"ref\", createRef());\n\n        _defineProperty(_assertThisInitialized(_this), \"handleChange\", function () {\n          if (!_this.isCurrentlyMounted) {\n            return;\n          }\n\n          var nextState = _this.getCurrentState();\n\n          if (!shallowEqual(nextState, _this.state)) {\n            _this.setState(nextState);\n          }\n        });\n\n        return _this;\n      }\n\n      _createClass(DragLayerContainer, [{\n        key: \"getDecoratedComponentInstance\",\n        value: function getDecoratedComponentInstance() {\n          invariant(this.ref.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');\n          return this.ref.current;\n        }\n      }, {\n        key: \"shouldComponentUpdate\",\n        value: function shouldComponentUpdate(nextProps, nextState) {\n          return !arePropsEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n        }\n      }, {\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          this.isCurrentlyMounted = true;\n          this.handleChange();\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          this.isCurrentlyMounted = false;\n\n          if (this.unsubscribeFromOffsetChange) {\n            this.unsubscribeFromOffsetChange();\n            this.unsubscribeFromOffsetChange = undefined;\n          }\n\n          if (this.unsubscribeFromStateChange) {\n            this.unsubscribeFromStateChange();\n            this.unsubscribeFromStateChange = undefined;\n          }\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          var _this2 = this;\n\n          return _jsx(DndContext.Consumer, {\n            children: function children(_ref) {\n              var dragDropManager = _ref.dragDropManager;\n\n              if (dragDropManager === undefined) {\n                return null;\n              }\n\n              _this2.receiveDragDropManager(dragDropManager); // Let componentDidMount fire to initialize the collected state\n\n\n              if (!_this2.isCurrentlyMounted) {\n                return null;\n              }\n\n              return _jsx(Decorated, Object.assign({}, _this2.props, _this2.state, {\n                ref: isRefable(Decorated) ? _this2.ref : null\n              }), void 0);\n            }\n          }, void 0);\n        }\n      }, {\n        key: \"receiveDragDropManager\",\n        value: function receiveDragDropManager(dragDropManager) {\n          if (this.manager !== undefined) {\n            return;\n          }\n\n          this.manager = dragDropManager;\n          invariant(_typeof(dragDropManager) === 'object', 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to render a DndProvider component in your top-level component. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n          var monitor = this.manager.getMonitor();\n          this.unsubscribeFromOffsetChange = monitor.subscribeToOffsetChange(this.handleChange);\n          this.unsubscribeFromStateChange = monitor.subscribeToStateChange(this.handleChange);\n        }\n      }, {\n        key: \"getCurrentState\",\n        value: function getCurrentState() {\n          if (!this.manager) {\n            return {};\n          }\n\n          var monitor = this.manager.getMonitor();\n          return collect(monitor, this.props);\n        }\n      }]);\n\n      return DragLayerContainer;\n    }(Component);\n\n    _defineProperty(DragLayerContainer, \"displayName\", \"DragLayer(\".concat(displayName, \")\"));\n\n    _defineProperty(DragLayerContainer, \"DecoratedComponent\", DecoratedComponent);\n\n    return hoistStatics(DragLayerContainer, DecoratedComponent);\n  };\n}","import { useLayoutEffect, useEffect } from 'react'; // suppress the useLayoutEffect warning on server side.\n\nexport var useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var DragSourceImpl = /*#__PURE__*/function () {\n  function DragSourceImpl(spec, monitor, connector) {\n    _classCallCheck(this, DragSourceImpl);\n\n    _defineProperty(this, \"spec\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"connector\", void 0);\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.connector = connector;\n  }\n\n  _createClass(DragSourceImpl, [{\n    key: \"beginDrag\",\n    value: function beginDrag() {\n      var _result;\n\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var result = null;\n\n      if (_typeof(spec.item) === 'object') {\n        result = spec.item;\n      } else if (typeof spec.item === 'function') {\n        result = spec.item(monitor);\n      } else {\n        result = {};\n      }\n\n      return (_result = result) !== null && _result !== void 0 ? _result : null;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (typeof spec.canDrag === 'boolean') {\n        return spec.canDrag;\n      } else if (typeof spec.canDrag === 'function') {\n        return spec.canDrag(monitor);\n      } else {\n        return true;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(globalMonitor, target) {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var isDragging = spec.isDragging;\n      return isDragging ? isDragging(monitor) : target === globalMonitor.getSourceId();\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var connector = this.connector;\n      var end = spec.end;\n\n      if (end) {\n        end(monitor.getItem(), monitor);\n      }\n\n      connector.reconnect();\n    }\n  }]);\n\n  return DragSourceImpl;\n}();","import { useContext } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { DndContext } from '../core';\n/**\n * A hook to retrieve the DragDropManager from Context\n */\n\nexport function useDragDropManager() {\n  var _useContext = useContext(DndContext),\n      dragDropManager = _useContext.dragDropManager;\n\n  invariant(dragDropManager != null, 'Expected drag drop context');\n  return dragDropManager;\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { registerSource } from '../../internals';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nimport { useDragSource } from './useDragSource';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useDragType } from './useDragType';\nexport function useRegisteredDragSource(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var handler = useDragSource(spec, monitor, connector);\n  var itemType = useDragType(spec);\n  useIsomorphicLayoutEffect(function registerDragSource() {\n    if (itemType != null) {\n      var _registerSource = registerSource(itemType, handler, manager),\n          _registerSource2 = _slicedToArray(_registerSource, 2),\n          handlerId = _registerSource2[0],\n          unregister = _registerSource2[1];\n\n      monitor.receiveHandlerId(handlerId);\n      connector.receiveHandlerId(handlerId);\n      return unregister;\n    }\n  }, [manager, monitor, connector, handler, itemType]);\n}","import { useEffect, useMemo } from 'react';\nimport { DragSourceImpl } from './DragSourceImpl';\nexport function useDragSource(spec, monitor, connector) {\n  var handler = useMemo(function () {\n    return new DragSourceImpl(spec, monitor, connector);\n  }, [monitor, connector]);\n  useEffect(function () {\n    handler.spec = spec;\n  }, [spec]);\n  return handler;\n}","import { invariant } from '@react-dnd/invariant';\nimport { useMemo } from 'react';\nexport function useDragType(spec) {\n  return useMemo(function () {\n    var result = spec.type;\n    invariant(result != null, 'spec.type must be defined');\n    return result;\n  }, [spec]);\n}","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { useMemo } from 'react';\nexport function useOptionalFactory(arg, deps) {\n  var memoDeps = _toConsumableArray(deps || []);\n\n  if (deps == null && typeof arg !== 'function') {\n    memoDeps.push(arg);\n  }\n\n  return useMemo(function () {\n    return typeof arg === 'function' ? arg() : arg;\n  }, memoDeps);\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport equal from 'fast-deep-equal';\nimport { useState, useCallback } from 'react';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\n/**\n *\n * @param monitor The monitor to collect state from\n * @param collect The collecting function\n * @param onUpdate A method to invoke when updates occur\n */\n\nexport function useCollector(monitor, collect, onUpdate) {\n  var _useState = useState(function () {\n    return collect(monitor);\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      collected = _useState2[0],\n      setCollected = _useState2[1];\n\n  var updateCollected = useCallback(function () {\n    var nextValue = collect(monitor); // This needs to be a deep-equality check because some monitor-collected values\n    // include XYCoord objects that may be equivalent, but do not have instance equality.\n\n    if (!equal(collected, nextValue)) {\n      setCollected(nextValue);\n\n      if (onUpdate) {\n        onUpdate();\n      }\n    }\n  }, [collected, monitor, onUpdate]); // update the collected properties after react renders.\n  // Note that the \"Dustbin Stress Test\" fails if this is not\n  // done when the component updates\n\n  useIsomorphicLayoutEffect(updateCollected);\n  return [collected, updateCollected];\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nimport { useCollector } from './useCollector';\nexport function useMonitorOutput(monitor, collect, onCollect) {\n  var _useCollector = useCollector(monitor, collect, onCollect),\n      _useCollector2 = _slicedToArray(_useCollector, 2),\n      collected = _useCollector2[0],\n      updateCollected = _useCollector2[1];\n\n  useIsomorphicLayoutEffect(function subscribeToMonitorStateChange() {\n    var handlerId = monitor.getHandlerId();\n\n    if (handlerId == null) {\n      return;\n    }\n\n    return monitor.subscribeToStateChange(updateCollected, {\n      handlerIds: [handlerId]\n    });\n  }, [monitor, updateCollected]);\n  return collected;\n}","import { useMonitorOutput } from './useMonitorOutput';\nexport function useCollectedProps(collector, monitor, connector) {\n  return useMonitorOutput(monitor, collector || function () {\n    return {};\n  }, function () {\n    return connector.reconnect();\n  });\n}","import { useMemo } from 'react';\nexport function useConnectDragSource(connector) {\n  return useMemo(function () {\n    return connector.hooks.dragSource();\n  }, [connector]);\n}\nexport function useConnectDragPreview(connector) {\n  return useMemo(function () {\n    return connector.hooks.dragPreview();\n  }, [connector]);\n}","import { useRegisteredDragSource } from './useRegisteredDragSource';\nimport { useOptionalFactory } from '../useOptionalFactory';\nimport { useDragSourceMonitor } from './useDragSourceMonitor';\nimport { useDragSourceConnector } from './useDragSourceConnector';\nimport { useCollectedProps } from '../useCollectedProps';\nimport { useConnectDragPreview, useConnectDragSource } from './connectors';\nimport { invariant } from '@react-dnd/invariant';\n/**\n * useDragSource hook\n * @param sourceSpec The drag source specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\n\nexport function useDrag(specArg, deps) {\n  var spec = useOptionalFactory(specArg, deps);\n  invariant(!spec.begin, \"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)\");\n  var monitor = useDragSourceMonitor();\n  var connector = useDragSourceConnector(spec.options, spec.previewOptions);\n  useRegisteredDragSource(spec, monitor, connector);\n  return [useCollectedProps(spec.collect, monitor, connector), useConnectDragSource(connector), useConnectDragPreview(connector)];\n}","import { useMemo } from 'react';\nimport { DragSourceMonitorImpl } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nexport function useDragSourceMonitor() {\n  var manager = useDragDropManager();\n  return useMemo(function () {\n    return new DragSourceMonitorImpl(manager);\n  }, [manager]);\n}","import { useMemo } from 'react';\nimport { SourceConnector } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nexport function useDragSourceConnector(dragSourceOptions, dragPreviewOptions) {\n  var manager = useDragDropManager();\n  var connector = useMemo(function () {\n    return new SourceConnector(manager.getBackend());\n  }, [manager]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragSourceOptions = dragSourceOptions || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDragSource();\n    };\n  }, [connector, dragSourceOptions]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragPreviewOptions = dragPreviewOptions || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDragPreview();\n    };\n  }, [connector, dragPreviewOptions]);\n  return connector;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var DropTargetImpl = /*#__PURE__*/function () {\n  function DropTargetImpl(spec, monitor) {\n    _classCallCheck(this, DropTargetImpl);\n\n    _defineProperty(this, \"spec\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    this.spec = spec;\n    this.monitor = monitor;\n  }\n\n  _createClass(DropTargetImpl, [{\n    key: \"canDrop\",\n    value: function canDrop() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      return spec.canDrop ? spec.canDrop(monitor.getItem(), monitor) : true;\n    }\n  }, {\n    key: \"hover\",\n    value: function hover() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (spec.hover) {\n        spec.hover(monitor.getItem(), monitor);\n      }\n    }\n  }, {\n    key: \"drop\",\n    value: function drop() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (spec.drop) {\n        return spec.drop(monitor.getItem(), monitor);\n      }\n    }\n  }]);\n\n  return DropTargetImpl;\n}();","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { registerTarget } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nimport { useAccept } from './useAccept';\nimport { useDropTarget } from './useDropTarget';\nexport function useRegisteredDropTarget(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var dropTarget = useDropTarget(spec, monitor);\n  var accept = useAccept(spec);\n  useIsomorphicLayoutEffect(function registerDropTarget() {\n    var _registerTarget = registerTarget(accept, dropTarget, manager),\n        _registerTarget2 = _slicedToArray(_registerTarget, 2),\n        handlerId = _registerTarget2[0],\n        unregister = _registerTarget2[1];\n\n    monitor.receiveHandlerId(handlerId);\n    connector.receiveHandlerId(handlerId);\n    return unregister;\n  }, [manager, monitor, dropTarget, connector, accept.map(function (a) {\n    return a.toString();\n  }).join('|')]);\n}","import { useEffect, useMemo } from 'react';\nimport { DropTargetImpl } from './DropTargetImpl';\nexport function useDropTarget(spec, monitor) {\n  var dropTarget = useMemo(function () {\n    return new DropTargetImpl(spec, monitor);\n  }, [monitor]);\n  useEffect(function () {\n    dropTarget.spec = spec;\n  }, [spec]);\n  return dropTarget;\n}","import { invariant } from '@react-dnd/invariant';\nimport { useMemo } from 'react';\n/**\n * Internal utility hook to get an array-version of spec.accept.\n * The main utility here is that we aren't creating a new array on every render if a non-array spec.accept is passed in.\n * @param spec\n */\n\nexport function useAccept(spec) {\n  var accept = spec.accept;\n  return useMemo(function () {\n    invariant(spec.accept != null, 'accept must be defined');\n    return Array.isArray(accept) ? accept : [accept];\n  }, [accept]);\n}","import { useMemo } from 'react';\nexport function useConnectDropTarget(connector) {\n  return useMemo(function () {\n    return connector.hooks.dropTarget();\n  }, [connector]);\n}","import { useRegisteredDropTarget } from './useRegisteredDropTarget';\nimport { useOptionalFactory } from '../useOptionalFactory';\nimport { useDropTargetMonitor } from './useDropTargetMonitor';\nimport { useDropTargetConnector } from './useDropTargetConnector';\nimport { useCollectedProps } from '../useCollectedProps';\nimport { useConnectDropTarget } from './connectors';\n/**\n * useDropTarget Hook\n * @param spec The drop target specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\n\nexport function useDrop(specArg, deps) {\n  var spec = useOptionalFactory(specArg, deps);\n  var monitor = useDropTargetMonitor();\n  var connector = useDropTargetConnector(spec.options);\n  useRegisteredDropTarget(spec, monitor, connector);\n  return [useCollectedProps(spec.collect, monitor, connector), useConnectDropTarget(connector)];\n}","import { useMemo } from 'react';\nimport { DropTargetMonitorImpl } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nexport function useDropTargetMonitor() {\n  var manager = useDragDropManager();\n  return useMemo(function () {\n    return new DropTargetMonitorImpl(manager);\n  }, [manager]);\n}","import { useMemo } from 'react';\nimport { TargetConnector } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nexport function useDropTargetConnector(options) {\n  var manager = useDragDropManager();\n  var connector = useMemo(function () {\n    return new TargetConnector(manager.getBackend());\n  }, [manager]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dropTargetOptions = options || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDropTarget();\n    };\n  }, [options]);\n  return connector;\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useEffect } from 'react';\nimport { useDragDropManager } from './useDragDropManager';\nimport { useCollector } from './useCollector';\n/**\n * useDragLayer Hook\n * @param collector The property collector\n */\n\nexport function useDragLayer(collect) {\n  var dragDropManager = useDragDropManager();\n  var monitor = dragDropManager.getMonitor();\n\n  var _useCollector = useCollector(monitor, collect),\n      _useCollector2 = _slicedToArray(_useCollector, 2),\n      collected = _useCollector2[0],\n      updateCollected = _useCollector2[1];\n\n  useEffect(function () {\n    return monitor.subscribeToOffsetChange(updateCollected);\n  });\n  useEffect(function () {\n    return monitor.subscribeToStateChange(updateCollected);\n  });\n  return collected;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { isPlainObject, getDecoratedComponent } from './utils';\nvar ALLOWED_SPEC_METHODS = ['canDrag', 'beginDrag', 'isDragging', 'endDrag'];\nvar REQUIRED_SPEC_METHODS = ['beginDrag'];\n\nvar SourceImpl = /*#__PURE__*/function () {\n  function SourceImpl(spec, monitor, ref) {\n    var _this = this;\n\n    _classCallCheck(this, SourceImpl);\n\n    _defineProperty(this, \"props\", null);\n\n    _defineProperty(this, \"spec\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"ref\", void 0);\n\n    _defineProperty(this, \"beginDrag\", function () {\n      if (!_this.props) {\n        return;\n      }\n\n      var item = _this.spec.beginDrag(_this.props, _this.monitor, _this.ref.current);\n\n      if (process.env.NODE_ENV !== 'production') {\n        invariant(isPlainObject(item), 'beginDrag() must return a plain object that represents the dragged item. ' + 'Instead received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', item);\n      }\n\n      return item;\n    });\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.ref = ref;\n  }\n\n  _createClass(SourceImpl, [{\n    key: \"receiveProps\",\n    value: function receiveProps(props) {\n      this.props = props;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      if (!this.props) {\n        return false;\n      }\n\n      if (!this.spec.canDrag) {\n        return true;\n      }\n\n      return this.spec.canDrag(this.props, this.monitor);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(globalMonitor, sourceId) {\n      if (!this.props) {\n        return false;\n      }\n\n      if (!this.spec.isDragging) {\n        return sourceId === globalMonitor.getSourceId();\n      }\n\n      return this.spec.isDragging(this.props, this.monitor);\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {\n      if (!this.props) {\n        return;\n      }\n\n      if (!this.spec.endDrag) {\n        return;\n      }\n\n      this.spec.endDrag(this.props, this.monitor, getDecoratedComponent(this.ref));\n    }\n  }]);\n\n  return SourceImpl;\n}();\n\nexport function createSourceFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drag source specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', ALLOWED_SPEC_METHODS.join(', '), key);\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);\n  });\n  REQUIRED_SPEC_METHODS.forEach(function (key) {\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);\n  });\n  return function createSource(monitor, ref) {\n    return new SourceImpl(spec, monitor, ref);\n  };\n}","import { invariant } from '@react-dnd/invariant';\nimport { registerSource, DragSourceMonitorImpl, SourceConnector } from '../internals';\nimport { checkDecoratorArguments, isPlainObject, isValidType } from './utils';\nimport { decorateHandler } from './decorateHandler';\nimport { createSourceFactory } from './createSourceFactory';\n/**\n * Decorates a component as a dragsource\n * @param type The dragsource type\n * @param spec The drag source specification\n * @param collect The props collector function\n * @param options DnD options\n */\n\nexport function DragSource(type, spec, collect) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  checkDecoratorArguments('DragSource', 'type, spec, collect[, options]', type, spec, collect, options);\n  var getType = type;\n\n  if (typeof type !== 'function') {\n    invariant(isValidType(type), 'Expected \"type\" provided as the first argument to DragSource to be ' + 'a string, or a function that returns a string given the current props. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', type);\n\n    getType = function getType() {\n      return type;\n    };\n  }\n\n  invariant(isPlainObject(spec), 'Expected \"spec\" provided as the second argument to DragSource to be ' + 'a plain object. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', spec);\n  var createSource = createSourceFactory(spec);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DragSource to be ' + 'a function that returns a plain object of props to inject. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the fourth argument to DragSource to be ' + 'a plain object when specified. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', collect);\n  return function decorateSource(DecoratedComponent) {\n    return decorateHandler({\n      containerDisplayName: 'DragSource',\n      createHandler: createSource,\n      registerHandler: registerSource,\n      createConnector: function createConnector(backend) {\n        return new SourceConnector(backend);\n      },\n      createMonitor: function createMonitor(manager) {\n        return new DragSourceMonitorImpl(manager);\n      },\n      DecoratedComponent: DecoratedComponent,\n      getType: getType,\n      collect: collect,\n      options: options\n    });\n  };\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { isPlainObject, getDecoratedComponent } from './utils';\nvar ALLOWED_SPEC_METHODS = ['canDrop', 'hover', 'drop'];\n\nvar TargetImpl = /*#__PURE__*/function () {\n  function TargetImpl(spec, monitor, ref) {\n    _classCallCheck(this, TargetImpl);\n\n    _defineProperty(this, \"props\", null);\n\n    _defineProperty(this, \"spec\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"ref\", void 0);\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.ref = ref;\n  }\n\n  _createClass(TargetImpl, [{\n    key: \"receiveProps\",\n    value: function receiveProps(props) {\n      this.props = props;\n    }\n  }, {\n    key: \"receiveMonitor\",\n    value: function receiveMonitor(monitor) {\n      this.monitor = monitor;\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      if (!this.spec.canDrop) {\n        return true;\n      }\n\n      return this.spec.canDrop(this.props, this.monitor);\n    }\n  }, {\n    key: \"hover\",\n    value: function hover() {\n      if (!this.spec.hover || !this.props) {\n        return;\n      }\n\n      this.spec.hover(this.props, this.monitor, getDecoratedComponent(this.ref));\n    }\n  }, {\n    key: \"drop\",\n    value: function drop() {\n      if (!this.spec.drop) {\n        return undefined;\n      }\n\n      var dropResult = this.spec.drop(this.props, this.monitor, this.ref.current);\n\n      if (process.env.NODE_ENV !== 'production') {\n        invariant(typeof dropResult === 'undefined' || isPlainObject(dropResult), 'drop() must either return undefined, or an object that represents the drop result. ' + 'Instead received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', dropResult);\n      }\n\n      return dropResult;\n    }\n  }]);\n\n  return TargetImpl;\n}();\n\nexport function createTargetFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drop target specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', ALLOWED_SPEC_METHODS.join(', '), key);\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drop target specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', key, key, spec[key]);\n  });\n  return function createTarget(monitor, ref) {\n    return new TargetImpl(spec, monitor, ref);\n  };\n}","import { invariant } from '@react-dnd/invariant';\nimport { TargetConnector, DropTargetMonitorImpl, registerTarget } from '../internals';\nimport { isPlainObject, isValidType } from './utils';\nimport { checkDecoratorArguments } from './utils';\nimport { decorateHandler } from './decorateHandler';\nimport { createTargetFactory } from './createTargetFactory';\n/**\n * @param type The accepted target type\n * @param spec The DropTarget specification\n * @param collect The props collector function\n * @param options Options\n */\n\nexport function DropTarget(type, spec, collect) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  checkDecoratorArguments('DropTarget', 'type, spec, collect[, options]', type, spec, collect, options);\n  var getType = type;\n\n  if (typeof type !== 'function') {\n    invariant(isValidType(type, true), 'Expected \"type\" provided as the first argument to DropTarget to be ' + 'a string, an array of strings, or a function that returns either given ' + 'the current props. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', type);\n\n    getType = function getType() {\n      return type;\n    };\n  }\n\n  invariant(isPlainObject(spec), 'Expected \"spec\" provided as the second argument to DropTarget to be ' + 'a plain object. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', spec);\n  var createTarget = createTargetFactory(spec);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DropTarget to be ' + 'a function that returns a plain object of props to inject. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the fourth argument to DropTarget to be ' + 'a plain object when specified. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);\n  return function decorateTarget(DecoratedComponent) {\n    return decorateHandler({\n      containerDisplayName: 'DropTarget',\n      createHandler: createTarget,\n      registerHandler: registerTarget,\n      createMonitor: function createMonitor(manager) {\n        return new DropTargetMonitorImpl(manager);\n      },\n      createConnector: function createConnector(backend) {\n        return new TargetConnector(backend);\n      },\n      DecoratedComponent: DecoratedComponent,\n      getType: getType,\n      collect: collect,\n      options: options\n    });\n  };\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { isFunction, noop } from './utils';\n/**\n * Provides a set of static methods for creating Disposables.\n * @param {Function} action Action to run during the first call to dispose.\n * The action is guaranteed to be run at most once.\n */\n\nexport var Disposable = /*#__PURE__*/function () {\n  function Disposable(action) {\n    _classCallCheck(this, Disposable);\n\n    _defineProperty(this, \"isDisposed\", false);\n\n    _defineProperty(this, \"action\", void 0);\n\n    this.action = isFunction(action) ? action : noop;\n  }\n  /** Performs the task of cleaning up resources. */\n\n\n  _createClass(Disposable, [{\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.action();\n        this.isDisposed = true;\n      }\n    }\n  }], [{\n    key: \"isDisposable\",\n    value:\n    /**\n     * Gets the disposable that does nothing when disposed.\n     */\n\n    /**\n     * Validates whether the given object is a disposable\n     * @param {Object} Object to test whether it has a dispose method\n     * @returns {Boolean} true if a disposable object, else false.\n     */\n    function isDisposable(d) {\n      return Boolean(d && isFunction(d.dispose));\n    }\n  }, {\n    key: \"_fixup\",\n    value: function _fixup(result) {\n      return Disposable.isDisposable(result) ? result : Disposable.empty;\n    }\n    /**\n     * Creates a disposable object that invokes the specified action when disposed.\n     * @param {Function} dispose Action to run during the first call to dispose.\n     * The action is guaranteed to be run at most once.\n     * @return {Disposable} The disposable object that runs the given action upon disposal.\n     */\n\n  }, {\n    key: \"create\",\n    value: function create(action) {\n      return new Disposable(action);\n    }\n  }]);\n\n  return Disposable;\n}();\n/**\n * Represents a group of disposable resources that are disposed together.\n * @constructor\n */\n\n_defineProperty(Disposable, \"empty\", {\n  dispose: noop\n});\n\nexport var CompositeDisposable = /*#__PURE__*/function () {\n  function CompositeDisposable() {\n    _classCallCheck(this, CompositeDisposable);\n\n    _defineProperty(this, \"isDisposed\", false);\n\n    _defineProperty(this, \"disposables\", void 0);\n\n    for (var _len = arguments.length, disposables = new Array(_len), _key = 0; _key < _len; _key++) {\n      disposables[_key] = arguments[_key];\n    }\n\n    this.disposables = disposables;\n  }\n  /**\n   * Adds a disposable to the CompositeDisposable or disposes the disposable if the CompositeDisposable is disposed.\n   * @param {Any} item Disposable to add.\n   */\n\n\n  _createClass(CompositeDisposable, [{\n    key: \"add\",\n    value: function add(item) {\n      if (this.isDisposed) {\n        item.dispose();\n      } else {\n        this.disposables.push(item);\n      }\n    }\n    /**\n     * Removes and disposes the first occurrence of a disposable from the CompositeDisposable.\n     * @param {Any} item Disposable to remove.\n     * @returns {Boolean} true if found; false otherwise.\n     */\n\n  }, {\n    key: \"remove\",\n    value: function remove(item) {\n      var shouldDispose = false;\n\n      if (!this.isDisposed) {\n        var idx = this.disposables.indexOf(item);\n\n        if (idx !== -1) {\n          shouldDispose = true;\n          this.disposables.splice(idx, 1);\n          item.dispose();\n        }\n      }\n\n      return shouldDispose;\n    }\n    /**\n     *  Disposes all disposables in the group and removes them from the group but\n     *  does not dispose the CompositeDisposable.\n     */\n\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      if (!this.isDisposed) {\n        var len = this.disposables.length;\n        var currentDisposables = new Array(len);\n\n        for (var i = 0; i < len; i++) {\n          currentDisposables[i] = this.disposables[i];\n        }\n\n        this.disposables = [];\n\n        for (var _i = 0; _i < len; _i++) {\n          currentDisposables[_i].dispose();\n        }\n      }\n    }\n    /**\n     *  Disposes all disposables in the group and removes them from the group.\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        var len = this.disposables.length;\n        var currentDisposables = new Array(len);\n\n        for (var i = 0; i < len; i++) {\n          currentDisposables[i] = this.disposables[i];\n        }\n\n        this.disposables = [];\n\n        for (var _i2 = 0; _i2 < len; _i2++) {\n          currentDisposables[_i2].dispose();\n        }\n      }\n    }\n  }]);\n\n  return CompositeDisposable;\n}();\n/**\n * Represents a disposable resource whose underlying disposable resource can\n * be replaced by another disposable resource, causing automatic disposal of\n * the previous underlying disposable resource.\n */\n\nexport var SerialDisposable = /*#__PURE__*/function () {\n  function SerialDisposable() {\n    _classCallCheck(this, SerialDisposable);\n\n    _defineProperty(this, \"isDisposed\", false);\n\n    _defineProperty(this, \"current\", void 0);\n  }\n\n  _createClass(SerialDisposable, [{\n    key: \"getDisposable\",\n    value:\n    /**\n     * Gets the underlying disposable.\n     * @returns {Any} the underlying disposable.\n     */\n    function getDisposable() {\n      return this.current;\n    }\n  }, {\n    key: \"setDisposable\",\n    value: function setDisposable(value) {\n      var shouldDispose = this.isDisposed;\n\n      if (!shouldDispose) {\n        var old = this.current;\n        this.current = value;\n\n        if (old) {\n          old.dispose();\n        }\n      }\n\n      if (shouldDispose && value) {\n        value.dispose();\n      }\n    }\n    /** Performs the task of cleaning up resources. */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        var old = this.current;\n        this.current = undefined;\n\n        if (old) {\n          old.dispose();\n        }\n      }\n    }\n  }]);\n\n  return SerialDisposable;\n}();","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { createRef, Component } from 'react';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { invariant } from '@react-dnd/invariant';\nimport { DndContext } from '../core';\nimport { isPlainObject } from './utils';\nimport { Disposable, CompositeDisposable, SerialDisposable } from './disposables';\nimport { isRefable } from './utils';\nimport hoistStatics from 'hoist-non-react-statics';\nexport function decorateHandler(_ref) {\n  var DecoratedComponent = _ref.DecoratedComponent,\n      createHandler = _ref.createHandler,\n      createMonitor = _ref.createMonitor,\n      createConnector = _ref.createConnector,\n      registerHandler = _ref.registerHandler,\n      containerDisplayName = _ref.containerDisplayName,\n      getType = _ref.getType,\n      collect = _ref.collect,\n      options = _ref.options;\n  var _options$arePropsEqua = options.arePropsEqual,\n      arePropsEqual = _options$arePropsEqua === void 0 ? shallowEqual : _options$arePropsEqua;\n  var Decorated = DecoratedComponent;\n  var displayName = DecoratedComponent.displayName || DecoratedComponent.name || 'Component';\n\n  var DragDropContainer = /*#__PURE__*/function (_Component) {\n    _inherits(DragDropContainer, _Component);\n\n    var _super = _createSuper(DragDropContainer);\n\n    function DragDropContainer(props) {\n      var _this;\n\n      _classCallCheck(this, DragDropContainer);\n\n      _this = _super.call(this, props);\n\n      _defineProperty(_assertThisInitialized(_this), \"decoratedRef\", createRef());\n\n      _defineProperty(_assertThisInitialized(_this), \"handlerId\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"manager\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"handlerMonitor\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"handlerConnector\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"handler\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"disposable\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"currentType\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"handleChange\", function () {\n        var nextState = _this.getCurrentState();\n\n        if (!shallowEqual(nextState, _this.state)) {\n          _this.setState(nextState);\n        }\n      });\n\n      _this.disposable = new SerialDisposable();\n\n      _this.receiveProps(props);\n\n      _this.dispose();\n\n      return _this;\n    }\n\n    _createClass(DragDropContainer, [{\n      key: \"getHandlerId\",\n      value: function getHandlerId() {\n        return this.handlerId;\n      }\n    }, {\n      key: \"getDecoratedComponentInstance\",\n      value: function getDecoratedComponentInstance() {\n        invariant(this.decoratedRef.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');\n        return this.decoratedRef.current;\n      }\n    }, {\n      key: \"shouldComponentUpdate\",\n      value: function shouldComponentUpdate(nextProps, nextState) {\n        return !arePropsEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.disposable = new SerialDisposable();\n        this.currentType = undefined;\n        this.receiveProps(this.props);\n        this.handleChange();\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        if (!arePropsEqual(this.props, prevProps)) {\n          this.receiveProps(this.props);\n          this.handleChange();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.dispose();\n      }\n    }, {\n      key: \"receiveProps\",\n      value: function receiveProps(props) {\n        if (!this.handler) {\n          return;\n        }\n\n        this.handler.receiveProps(props);\n        this.receiveType(getType(props));\n      }\n    }, {\n      key: \"receiveType\",\n      value: function receiveType(type) {\n        if (!this.handlerMonitor || !this.manager || !this.handlerConnector) {\n          return;\n        }\n\n        if (type === this.currentType) {\n          return;\n        }\n\n        this.currentType = type;\n\n        var _registerHandler = registerHandler(type, this.handler, this.manager),\n            _registerHandler2 = _slicedToArray(_registerHandler, 2),\n            handlerId = _registerHandler2[0],\n            unregister = _registerHandler2[1];\n\n        this.handlerId = handlerId;\n        this.handlerMonitor.receiveHandlerId(handlerId);\n        this.handlerConnector.receiveHandlerId(handlerId);\n        var globalMonitor = this.manager.getMonitor();\n        var unsubscribe = globalMonitor.subscribeToStateChange(this.handleChange, {\n          handlerIds: [handlerId]\n        });\n        this.disposable.setDisposable(new CompositeDisposable(new Disposable(unsubscribe), new Disposable(unregister)));\n      }\n    }, {\n      key: \"dispose\",\n      value: function dispose() {\n        this.disposable.dispose();\n\n        if (this.handlerConnector) {\n          this.handlerConnector.receiveHandlerId(null);\n        }\n      }\n    }, {\n      key: \"getCurrentState\",\n      value: function getCurrentState() {\n        if (!this.handlerConnector) {\n          return {};\n        }\n\n        var nextState = collect(this.handlerConnector.hooks, this.handlerMonitor, this.props);\n\n        if (process.env.NODE_ENV !== 'production') {\n          invariant(isPlainObject(nextState), 'Expected `collect` specified as the second argument to ' + '%s for %s to return a plain object of props to inject. ' + 'Instead, received %s.', containerDisplayName, displayName, nextState);\n        }\n\n        return nextState;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n\n        return _jsx(DndContext.Consumer, {\n          children: function children(_ref2) {\n            var dragDropManager = _ref2.dragDropManager;\n\n            _this2.receiveDragDropManager(dragDropManager);\n\n            if (typeof requestAnimationFrame !== 'undefined') {\n              requestAnimationFrame(function () {\n                var _this2$handlerConnect;\n\n                return (_this2$handlerConnect = _this2.handlerConnector) === null || _this2$handlerConnect === void 0 ? void 0 : _this2$handlerConnect.reconnect();\n              });\n            }\n\n            return _jsx(Decorated, Object.assign({}, _this2.props, _this2.getCurrentState(), {\n              // NOTE: if Decorated is a Function Component, decoratedRef will not be populated unless it's a refforwarding component.\n              ref: isRefable(Decorated) ? _this2.decoratedRef : null\n            }), void 0);\n          }\n        }, void 0);\n      }\n    }, {\n      key: \"receiveDragDropManager\",\n      value: function receiveDragDropManager(dragDropManager) {\n        if (this.manager !== undefined) {\n          return;\n        }\n\n        invariant(dragDropManager !== undefined, 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to render a DndProvider component in your top-level component. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n\n        if (dragDropManager === undefined) {\n          return;\n        }\n\n        this.manager = dragDropManager;\n        this.handlerMonitor = createMonitor(dragDropManager);\n        this.handlerConnector = createConnector(dragDropManager.getBackend());\n        this.handler = createHandler(this.handlerMonitor, this.decoratedRef);\n      }\n    }]);\n\n    return DragDropContainer;\n  }(Component);\n\n  _defineProperty(DragDropContainer, \"DecoratedComponent\", DecoratedComponent);\n\n  _defineProperty(DragDropContainer, \"displayName\", \"\".concat(containerDisplayName, \"(\").concat(displayName, \")\"));\n\n  return hoistStatics(DragDropContainer, DecoratedComponent);\n}","function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}\nmodule.exports = _taggedTemplateLiteral, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\nvar iterableToArray = require(\"./iterableToArray.js\");\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\nmodule.exports = _toConsumableArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// cheap lodash replacements\nexport function memoize(fn) {\n  var result = null;\n\n  var memoized = function memoized() {\n    if (result == null) {\n      result = fn();\n    }\n\n    return result;\n  };\n\n  return memoized;\n}\n/**\n * drop-in replacement for _.without\n */\n\nexport function without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\nexport function union(itemsA, itemsB) {\n  var set = new Set();\n\n  var insertItem = function insertItem(item) {\n    return set.add(item);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  set.forEach(function (key) {\n    return result.push(key);\n  });\n  return result;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { union, without } from './utils/js_utils';\nexport var EnterLeaveCounter = /*#__PURE__*/function () {\n  function EnterLeaveCounter(isNodeInDocument) {\n    _classCallCheck(this, EnterLeaveCounter);\n\n    _defineProperty(this, \"entered\", []);\n\n    _defineProperty(this, \"isNodeInDocument\", void 0);\n\n    this.isNodeInDocument = isNodeInDocument;\n  }\n\n  _createClass(EnterLeaveCounter, [{\n    key: \"enter\",\n    value: function enter(enteringNode) {\n      var _this = this;\n\n      var previousLength = this.entered.length;\n\n      var isNodeEntered = function isNodeEntered(node) {\n        return _this.isNodeInDocument(node) && (!node.contains || node.contains(enteringNode));\n      };\n\n      this.entered = union(this.entered.filter(isNodeEntered), [enteringNode]);\n      return previousLength === 0 && this.entered.length > 0;\n    }\n  }, {\n    key: \"leave\",\n    value: function leave(leavingNode) {\n      var previousLength = this.entered.length;\n      this.entered = without(this.entered.filter(this.isNodeInDocument), leavingNode);\n      return previousLength > 0 && this.entered.length === 0;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.entered = [];\n    }\n  }]);\n\n  return EnterLeaveCounter;\n}();","import { memoize } from './utils/js_utils';\nexport var isFirefox = memoize(function () {\n  return /firefox/i.test(navigator.userAgent);\n});\nexport var isSafari = memoize(function () {\n  return Boolean(window.safari);\n});","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var MonotonicInterpolant = /*#__PURE__*/function () {\n  function MonotonicInterpolant(xs, ys) {\n    _classCallCheck(this, MonotonicInterpolant);\n\n    _defineProperty(this, \"xs\", void 0);\n\n    _defineProperty(this, \"ys\", void 0);\n\n    _defineProperty(this, \"c1s\", void 0);\n\n    _defineProperty(this, \"c2s\", void 0);\n\n    _defineProperty(this, \"c3s\", void 0);\n\n    var length = xs.length; // Rearrange xs and ys so that xs is sorted\n\n    var indexes = [];\n\n    for (var i = 0; i < length; i++) {\n      indexes.push(i);\n    }\n\n    indexes.sort(function (a, b) {\n      return xs[a] < xs[b] ? -1 : 1;\n    }); // Get consecutive differences and slopes\n\n    var dys = [];\n    var dxs = [];\n    var ms = [];\n    var dx;\n    var dy;\n\n    for (var _i = 0; _i < length - 1; _i++) {\n      dx = xs[_i + 1] - xs[_i];\n      dy = ys[_i + 1] - ys[_i];\n      dxs.push(dx);\n      dys.push(dy);\n      ms.push(dy / dx);\n    } // Get degree-1 coefficients\n\n\n    var c1s = [ms[0]];\n\n    for (var _i2 = 0; _i2 < dxs.length - 1; _i2++) {\n      var m2 = ms[_i2];\n      var mNext = ms[_i2 + 1];\n\n      if (m2 * mNext <= 0) {\n        c1s.push(0);\n      } else {\n        dx = dxs[_i2];\n        var dxNext = dxs[_i2 + 1];\n        var common = dx + dxNext;\n        c1s.push(3 * common / ((common + dxNext) / m2 + (common + dx) / mNext));\n      }\n    }\n\n    c1s.push(ms[ms.length - 1]); // Get degree-2 and degree-3 coefficients\n\n    var c2s = [];\n    var c3s = [];\n    var m;\n\n    for (var _i3 = 0; _i3 < c1s.length - 1; _i3++) {\n      m = ms[_i3];\n      var c1 = c1s[_i3];\n      var invDx = 1 / dxs[_i3];\n\n      var _common = c1 + c1s[_i3 + 1] - m - m;\n\n      c2s.push((m - c1 - _common) * invDx);\n      c3s.push(_common * invDx * invDx);\n    }\n\n    this.xs = xs;\n    this.ys = ys;\n    this.c1s = c1s;\n    this.c2s = c2s;\n    this.c3s = c3s;\n  }\n\n  _createClass(MonotonicInterpolant, [{\n    key: \"interpolate\",\n    value: function interpolate(x) {\n      var xs = this.xs,\n          ys = this.ys,\n          c1s = this.c1s,\n          c2s = this.c2s,\n          c3s = this.c3s; // The rightmost point in the dataset should give an exact result\n\n      var i = xs.length - 1;\n\n      if (x === xs[i]) {\n        return ys[i];\n      } // Search for the interval x is in, returning the corresponding y if x is one of the original xs\n\n\n      var low = 0;\n      var high = c3s.length - 1;\n      var mid;\n\n      while (low <= high) {\n        mid = Math.floor(0.5 * (low + high));\n        var xHere = xs[mid];\n\n        if (xHere < x) {\n          low = mid + 1;\n        } else if (xHere > x) {\n          high = mid - 1;\n        } else {\n          return ys[mid];\n        }\n      }\n\n      i = Math.max(0, high); // Interpolate\n\n      var diff = x - xs[i];\n      var diffSq = diff * diff;\n      return ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq;\n    }\n  }]);\n\n  return MonotonicInterpolant;\n}();","import { isSafari, isFirefox } from './BrowserDetector';\nimport { MonotonicInterpolant } from './MonotonicInterpolant';\nvar ELEMENT_NODE = 1;\nexport function getNodeClientOffset(node) {\n  var el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;\n\n  if (!el) {\n    return null;\n  }\n\n  var _el$getBoundingClient = el.getBoundingClientRect(),\n      top = _el$getBoundingClient.top,\n      left = _el$getBoundingClient.left;\n\n  return {\n    x: left,\n    y: top\n  };\n}\nexport function getEventClientOffset(e) {\n  return {\n    x: e.clientX,\n    y: e.clientY\n  };\n}\n\nfunction isImageNode(node) {\n  var _document$documentEle;\n\n  return node.nodeName === 'IMG' && (isFirefox() || !((_document$documentEle = document.documentElement) !== null && _document$documentEle !== void 0 && _document$documentEle.contains(node)));\n}\n\nfunction getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight) {\n  var dragPreviewWidth = isImage ? dragPreview.width : sourceWidth;\n  var dragPreviewHeight = isImage ? dragPreview.height : sourceHeight; // Work around @2x coordinate discrepancies in browsers\n\n  if (isSafari() && isImage) {\n    dragPreviewHeight /= window.devicePixelRatio;\n    dragPreviewWidth /= window.devicePixelRatio;\n  }\n\n  return {\n    dragPreviewWidth: dragPreviewWidth,\n    dragPreviewHeight: dragPreviewHeight\n  };\n}\n\nexport function getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint) {\n  // The browsers will use the image intrinsic size under different conditions.\n  // Firefox only cares if it's an image, but WebKit also wants it to be detached.\n  var isImage = isImageNode(dragPreview);\n  var dragPreviewNode = isImage ? sourceNode : dragPreview;\n  var dragPreviewNodeOffsetFromClient = getNodeClientOffset(dragPreviewNode);\n  var offsetFromDragPreview = {\n    x: clientOffset.x - dragPreviewNodeOffsetFromClient.x,\n    y: clientOffset.y - dragPreviewNodeOffsetFromClient.y\n  };\n  var sourceWidth = sourceNode.offsetWidth,\n      sourceHeight = sourceNode.offsetHeight;\n  var anchorX = anchorPoint.anchorX,\n      anchorY = anchorPoint.anchorY;\n\n  var _getDragPreviewSize = getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight),\n      dragPreviewWidth = _getDragPreviewSize.dragPreviewWidth,\n      dragPreviewHeight = _getDragPreviewSize.dragPreviewHeight;\n\n  var calculateYOffset = function calculateYOffset() {\n    var interpolantY = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the top\n    offsetFromDragPreview.y, // Align at the center\n    offsetFromDragPreview.y / sourceHeight * dragPreviewHeight, // Dock to the bottom\n    offsetFromDragPreview.y + dragPreviewHeight - sourceHeight]);\n    var y = interpolantY.interpolate(anchorY); // Work around Safari 8 positioning bug\n\n    if (isSafari() && isImage) {\n      // We'll have to wait for @3x to see if this is entirely correct\n      y += (window.devicePixelRatio - 1) * dragPreviewHeight;\n    }\n\n    return y;\n  };\n\n  var calculateXOffset = function calculateXOffset() {\n    // Interpolate coordinates depending on anchor point\n    // If you know a simpler way to do this, let me know\n    var interpolantX = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the left\n    offsetFromDragPreview.x, // Align at the center\n    offsetFromDragPreview.x / sourceWidth * dragPreviewWidth, // Dock to the right\n    offsetFromDragPreview.x + dragPreviewWidth - sourceWidth]);\n    return interpolantX.interpolate(anchorX);\n  }; // Force offsets if specified in the options.\n\n\n  var offsetX = offsetPoint.offsetX,\n      offsetY = offsetPoint.offsetY;\n  var isManualOffsetX = offsetX === 0 || offsetX;\n  var isManualOffsetY = offsetY === 0 || offsetY;\n  return {\n    x: isManualOffsetX ? offsetX : calculateXOffset(),\n    y: isManualOffsetY ? offsetY : calculateYOffset()\n  };\n}","export var FILE = '__NATIVE_FILE__';\nexport var URL = '__NATIVE_URL__';\nexport var TEXT = '__NATIVE_TEXT__';\nexport var HTML = '__NATIVE_HTML__';","var _nativeTypesConfig;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport * as NativeTypes from '../NativeTypes';\nimport { getDataFromDataTransfer } from './getDataFromDataTransfer';\nexport var nativeTypesConfig = (_nativeTypesConfig = {}, _defineProperty(_nativeTypesConfig, NativeTypes.FILE, {\n  exposeProperties: {\n    files: function files(dataTransfer) {\n      return Array.prototype.slice.call(dataTransfer.files);\n    },\n    items: function items(dataTransfer) {\n      return dataTransfer.items;\n    },\n    dataTransfer: function dataTransfer(_dataTransfer) {\n      return _dataTransfer;\n    }\n  },\n  matchesTypes: ['Files']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.HTML, {\n  exposeProperties: {\n    html: function html(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '');\n    },\n    dataTransfer: function dataTransfer(_dataTransfer2) {\n      return _dataTransfer2;\n    }\n  },\n  matchesTypes: ['Html', 'text/html']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.URL, {\n  exposeProperties: {\n    urls: function urls(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '').split('\\n');\n    },\n    dataTransfer: function dataTransfer(_dataTransfer3) {\n      return _dataTransfer3;\n    }\n  },\n  matchesTypes: ['Url', 'text/uri-list']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.TEXT, {\n  exposeProperties: {\n    text: function text(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '');\n    },\n    dataTransfer: function dataTransfer(_dataTransfer4) {\n      return _dataTransfer4;\n    }\n  },\n  matchesTypes: ['Text', 'text/plain']\n}), _nativeTypesConfig);","export function getDataFromDataTransfer(dataTransfer, typesToTry, defaultValue) {\n  var result = typesToTry.reduce(function (resultSoFar, typeToTry) {\n    return resultSoFar || dataTransfer.getData(typeToTry);\n  }, '');\n  return result != null ? result : defaultValue;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var NativeDragSource = /*#__PURE__*/function () {\n  function NativeDragSource(config) {\n    _classCallCheck(this, NativeDragSource);\n\n    _defineProperty(this, \"item\", void 0);\n\n    _defineProperty(this, \"config\", void 0);\n\n    this.config = config;\n    this.item = {};\n    this.initializeExposedProperties();\n  }\n\n  _createClass(NativeDragSource, [{\n    key: \"initializeExposedProperties\",\n    value: function initializeExposedProperties() {\n      var _this = this;\n\n      Object.keys(this.config.exposeProperties).forEach(function (property) {\n        Object.defineProperty(_this.item, property, {\n          configurable: true,\n          enumerable: true,\n          get: function get() {\n            // eslint-disable-next-line no-console\n            console.warn(\"Browser doesn't allow reading \\\"\".concat(property, \"\\\" until the drop event.\"));\n            return null;\n          }\n        });\n      });\n    }\n  }, {\n    key: \"loadDataTransfer\",\n    value: function loadDataTransfer(dataTransfer) {\n      var _this2 = this;\n\n      if (dataTransfer) {\n        var newProperties = {};\n        Object.keys(this.config.exposeProperties).forEach(function (property) {\n          newProperties[property] = {\n            value: _this2.config.exposeProperties[property](dataTransfer, _this2.config.matchesTypes),\n            configurable: true,\n            enumerable: true\n          };\n        });\n        Object.defineProperties(this.item, newProperties);\n      }\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      return true;\n    }\n  }, {\n    key: \"beginDrag\",\n    value: function beginDrag() {\n      return this.item;\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(monitor, handle) {\n      return handle === monitor.getSourceId();\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {// empty\n    }\n  }]);\n\n  return NativeDragSource;\n}();","import { nativeTypesConfig } from './nativeTypesConfig';\nimport { NativeDragSource } from './NativeDragSource';\nexport function createNativeDragSource(type, dataTransfer) {\n  var result = new NativeDragSource(nativeTypesConfig[type]);\n  result.loadDataTransfer(dataTransfer);\n  return result;\n}\nexport function matchNativeItemType(dataTransfer) {\n  if (!dataTransfer) {\n    return null;\n  }\n\n  var dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || []);\n  return Object.keys(nativeTypesConfig).filter(function (nativeItemType) {\n    var matchesTypes = nativeTypesConfig[nativeItemType].matchesTypes;\n    return matchesTypes.some(function (t) {\n      return dataTransferTypes.indexOf(t) > -1;\n    });\n  })[0] || null;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var OptionsReader = /*#__PURE__*/function () {\n  function OptionsReader(globalContext, options) {\n    _classCallCheck(this, OptionsReader);\n\n    _defineProperty(this, \"ownerDocument\", null);\n\n    _defineProperty(this, \"globalContext\", void 0);\n\n    _defineProperty(this, \"optionsArgs\", void 0);\n\n    this.globalContext = globalContext;\n    this.optionsArgs = options;\n  }\n\n  _createClass(OptionsReader, [{\n    key: \"window\",\n    get: function get() {\n      if (this.globalContext) {\n        return this.globalContext;\n      } else if (typeof window !== 'undefined') {\n        return window;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      var _this$globalContext;\n\n      if ((_this$globalContext = this.globalContext) !== null && _this$globalContext !== void 0 && _this$globalContext.document) {\n        return this.globalContext.document;\n      } else if (this.window) {\n        return this.window.document;\n      } else {\n        return undefined;\n      }\n    }\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      var _this$optionsArgs;\n\n      return ((_this$optionsArgs = this.optionsArgs) === null || _this$optionsArgs === void 0 ? void 0 : _this$optionsArgs.rootElement) || this.window;\n    }\n  }]);\n\n  return OptionsReader;\n}();","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { EnterLeaveCounter } from './EnterLeaveCounter';\nimport { getNodeClientOffset, getEventClientOffset, getDragPreviewOffset } from './OffsetUtils';\nimport { createNativeDragSource, matchNativeItemType } from './NativeDragSources';\nimport * as NativeTypes from './NativeTypes';\nimport { OptionsReader } from './OptionsReader';\nexport var HTML5BackendImpl = /*#__PURE__*/function () {\n  // React-Dnd Components\n  // Internal State\n  function HTML5BackendImpl(manager, globalContext, options) {\n    var _this = this;\n\n    _classCallCheck(this, HTML5BackendImpl);\n\n    _defineProperty(this, \"options\", void 0);\n\n    _defineProperty(this, \"actions\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"registry\", void 0);\n\n    _defineProperty(this, \"enterLeaveCounter\", void 0);\n\n    _defineProperty(this, \"sourcePreviewNodes\", new Map());\n\n    _defineProperty(this, \"sourcePreviewNodeOptions\", new Map());\n\n    _defineProperty(this, \"sourceNodes\", new Map());\n\n    _defineProperty(this, \"sourceNodeOptions\", new Map());\n\n    _defineProperty(this, \"dragStartSourceIds\", null);\n\n    _defineProperty(this, \"dropTargetIds\", []);\n\n    _defineProperty(this, \"dragEnterTargetIds\", []);\n\n    _defineProperty(this, \"currentNativeSource\", null);\n\n    _defineProperty(this, \"currentNativeHandle\", null);\n\n    _defineProperty(this, \"currentDragSourceNode\", null);\n\n    _defineProperty(this, \"altKeyPressed\", false);\n\n    _defineProperty(this, \"mouseMoveTimeoutTimer\", null);\n\n    _defineProperty(this, \"asyncEndDragFrameId\", null);\n\n    _defineProperty(this, \"dragOverTargetIds\", null);\n\n    _defineProperty(this, \"lastClientOffset\", null);\n\n    _defineProperty(this, \"hoverRafId\", null);\n\n    _defineProperty(this, \"getSourceClientOffset\", function (sourceId) {\n      var source = _this.sourceNodes.get(sourceId);\n\n      return source && getNodeClientOffset(source) || null;\n    });\n\n    _defineProperty(this, \"endDragNativeItem\", function () {\n      if (!_this.isDraggingNativeItem()) {\n        return;\n      }\n\n      _this.actions.endDrag();\n\n      if (_this.currentNativeHandle) {\n        _this.registry.removeSource(_this.currentNativeHandle);\n      }\n\n      _this.currentNativeHandle = null;\n      _this.currentNativeSource = null;\n    });\n\n    _defineProperty(this, \"isNodeInDocument\", function (node) {\n      // Check the node either in the main document or in the current context\n      return Boolean(node && _this.document && _this.document.body && _this.document.body.contains(node));\n    });\n\n    _defineProperty(this, \"endDragIfSourceWasRemovedFromDOM\", function () {\n      var node = _this.currentDragSourceNode;\n\n      if (node == null || _this.isNodeInDocument(node)) {\n        return;\n      }\n\n      if (_this.clearCurrentDragSourceNode() && _this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragStartCapture\", function () {\n      _this.clearCurrentDragSourceNode();\n\n      _this.dragStartSourceIds = [];\n    });\n\n    _defineProperty(this, \"handleTopDragStart\", function (e) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      var dragStartSourceIds = _this.dragStartSourceIds;\n      _this.dragStartSourceIds = null;\n      var clientOffset = getEventClientOffset(e); // Avoid crashing if we missed a drop event or our previous drag died\n\n      if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      } // Don't publish the source just yet (see why below)\n\n\n      _this.actions.beginDrag(dragStartSourceIds || [], {\n        publishSource: false,\n        getSourceClientOffset: _this.getSourceClientOffset,\n        clientOffset: clientOffset\n      });\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (_this.monitor.isDragging()) {\n        if (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n          // Use custom drag image if user specifies it.\n          // If child drag source refuses drag but parent agrees,\n          // use parent's node as drag image. Neither works in IE though.\n          var sourceId = _this.monitor.getSourceId();\n\n          var sourceNode = _this.sourceNodes.get(sourceId);\n\n          var dragPreview = _this.sourcePreviewNodes.get(sourceId) || sourceNode;\n\n          if (dragPreview) {\n            var _this$getCurrentSourc = _this.getCurrentSourcePreviewNodeOptions(),\n                anchorX = _this$getCurrentSourc.anchorX,\n                anchorY = _this$getCurrentSourc.anchorY,\n                offsetX = _this$getCurrentSourc.offsetX,\n                offsetY = _this$getCurrentSourc.offsetY;\n\n            var anchorPoint = {\n              anchorX: anchorX,\n              anchorY: anchorY\n            };\n            var offsetPoint = {\n              offsetX: offsetX,\n              offsetY: offsetY\n            };\n            var dragPreviewOffset = getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);\n            dataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);\n          }\n        }\n\n        try {\n          // Firefox won't drag without setting data\n          dataTransfer === null || dataTransfer === void 0 ? void 0 : dataTransfer.setData('application/json', {});\n        } catch (err) {// IE doesn't support MIME types in setData\n        } // Store drag source node so we can check whether\n        // it is removed from DOM and trigger endDrag manually.\n\n\n        _this.setCurrentDragSourceNode(e.target); // Now we are ready to publish the drag source.. or are we not?\n\n\n        var _this$getCurrentSourc2 = _this.getCurrentSourcePreviewNodeOptions(),\n            captureDraggingState = _this$getCurrentSourc2.captureDraggingState;\n\n        if (!captureDraggingState) {\n          // Usually we want to publish it in the next tick so that browser\n          // is able to screenshot the current (not yet dragging) state.\n          //\n          // It also neatly avoids a situation where render() returns null\n          // in the same tick for the source element, and browser freaks out.\n          setTimeout(function () {\n            return _this.actions.publishDragSource();\n          }, 0);\n        } else {\n          // In some cases the user may want to override this behavior, e.g.\n          // to work around IE not supporting custom drag previews.\n          //\n          // When using a custom drag layer, the only way to prevent\n          // the default drag preview from drawing in IE is to screenshot\n          // the dragging state in which the node itself has zero opacity\n          // and height. In this case, though, returning null from render()\n          // will abruptly end the dragging, which is not obvious.\n          //\n          // This is the reason such behavior is strictly opt-in.\n          _this.actions.publishDragSource();\n        }\n      } else if (nativeType) {\n        // A native item (such as URL) dragged from inside the document\n        _this.beginDragNativeItem(nativeType);\n      } else if (dataTransfer && !dataTransfer.types && (e.target && !e.target.hasAttribute || !e.target.hasAttribute('draggable'))) {\n        // Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n        // Just let it drag. It's a native type (URL or text) and will be picked up in\n        // dragenter handler.\n        return;\n      } else {\n        // If by this time no drag source reacted, tell browser not to drag.\n        e.preventDefault();\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragEndCapture\", function () {\n      if (_this.clearCurrentDragSourceNode() && _this.monitor.isDragging()) {\n        // Firefox can dispatch this event in an infinite loop\n        // if dragend handler does something like showing an alert.\n        // Only proceed if we have not handled it already.\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragEnterCapture\", function (e) {\n      _this.dragEnterTargetIds = [];\n\n      var isFirstEnter = _this.enterLeaveCounter.enter(e.target);\n\n      if (!isFirstEnter || _this.monitor.isDragging()) {\n        return;\n      }\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (nativeType) {\n        // A native item (such as file or URL) dragged from outside the document\n        _this.beginDragNativeItem(nativeType, dataTransfer);\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragEnter\", function (e) {\n      var dragEnterTargetIds = _this.dragEnterTargetIds;\n      _this.dragEnterTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey; // If the target changes position as the result of `dragenter`, `dragover` might still\n      // get dispatched despite target being no longer there. The easy solution is to check\n      // whether there actually is a target before firing `hover`.\n\n      if (dragEnterTargetIds.length > 0) {\n        _this.actions.hover(dragEnterTargetIds, {\n          clientOffset: getEventClientOffset(e)\n        });\n      }\n\n      var canDrop = dragEnterTargetIds.some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // IE requires this to fire dragover events\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragOverCapture\", function () {\n      _this.dragOverTargetIds = [];\n    });\n\n    _defineProperty(this, \"handleTopDragOver\", function (e) {\n      var dragOverTargetIds = _this.dragOverTargetIds;\n      _this.dragOverTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        // Prevent default \"drop and blow away the whole document\" action.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n      _this.lastClientOffset = getEventClientOffset(e);\n\n      if (_this.hoverRafId === null && typeof requestAnimationFrame !== 'undefined') {\n        _this.hoverRafId = requestAnimationFrame(function () {\n          if (_this.monitor.isDragging()) {\n            _this.actions.hover(dragOverTargetIds || [], {\n              clientOffset: _this.lastClientOffset\n            });\n          }\n\n          _this.hoverRafId = null;\n        });\n      }\n\n      var canDrop = (dragOverTargetIds || []).some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // Show user-specified drop effect.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      } else if (_this.isDraggingNativeItem()) {\n        // Don't show a nice cursor but still prevent default\n        // \"drop and blow away the whole document\" action.\n        e.preventDefault();\n      } else {\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragLeaveCapture\", function (e) {\n      if (_this.isDraggingNativeItem()) {\n        e.preventDefault();\n      }\n\n      var isLastLeave = _this.enterLeaveCounter.leave(e.target);\n\n      if (!isLastLeave) {\n        return;\n      }\n\n      if (_this.isDraggingNativeItem()) {\n        setTimeout(function () {\n          return _this.endDragNativeItem();\n        }, 0);\n      }\n    });\n\n    _defineProperty(this, \"handleTopDropCapture\", function (e) {\n      _this.dropTargetIds = [];\n\n      if (_this.isDraggingNativeItem()) {\n        var _this$currentNativeSo;\n\n        e.preventDefault();\n        (_this$currentNativeSo = _this.currentNativeSource) === null || _this$currentNativeSo === void 0 ? void 0 : _this$currentNativeSo.loadDataTransfer(e.dataTransfer);\n      } else if (matchNativeItemType(e.dataTransfer)) {\n        // Dragging some elements, like <a> and <img> may still behave like a native drag event,\n        // even if the current drag event matches a user-defined type.\n        // Stop the default behavior when we're not expecting a native item to be dropped.\n        e.preventDefault();\n      }\n\n      _this.enterLeaveCounter.reset();\n    });\n\n    _defineProperty(this, \"handleTopDrop\", function (e) {\n      var dropTargetIds = _this.dropTargetIds;\n      _this.dropTargetIds = [];\n\n      _this.actions.hover(dropTargetIds, {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      _this.actions.drop({\n        dropEffect: _this.getCurrentDropEffect()\n      });\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      } else if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty(this, \"handleSelectStart\", function (e) {\n      var target = e.target; // Only IE requires us to explicitly say\n      // we want drag drop operation to start\n\n      if (typeof target.dragDrop !== 'function') {\n        return;\n      } // Inputs and textareas should be selectable\n\n\n      if (target.tagName === 'INPUT' || target.tagName === 'SELECT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\n        return;\n      } // For other targets, ask IE\n      // to enable drag and drop\n\n\n      e.preventDefault();\n      target.dragDrop();\n    });\n\n    this.options = new OptionsReader(globalContext, options);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.registry = manager.getRegistry();\n    this.enterLeaveCounter = new EnterLeaveCounter(this.isNodeInDocument);\n  }\n  /**\n   * Generate profiling statistics for the HTML5Backend.\n   */\n\n\n  _createClass(HTML5BackendImpl, [{\n    key: \"profile\",\n    value: function profile() {\n      var _this$dragStartSource, _this$dragOverTargetI;\n\n      return {\n        sourcePreviewNodes: this.sourcePreviewNodes.size,\n        sourcePreviewNodeOptions: this.sourcePreviewNodeOptions.size,\n        sourceNodeOptions: this.sourceNodeOptions.size,\n        sourceNodes: this.sourceNodes.size,\n        dragStartSourceIds: ((_this$dragStartSource = this.dragStartSourceIds) === null || _this$dragStartSource === void 0 ? void 0 : _this$dragStartSource.length) || 0,\n        dropTargetIds: this.dropTargetIds.length,\n        dragEnterTargetIds: this.dragEnterTargetIds.length,\n        dragOverTargetIds: ((_this$dragOverTargetI = this.dragOverTargetIds) === null || _this$dragOverTargetI === void 0 ? void 0 : _this$dragOverTargetI.length) || 0\n      };\n    } // public for test\n\n  }, {\n    key: \"window\",\n    get: function get() {\n      return this.options.window;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      return this.options.document;\n    }\n    /**\n     * Get the root element to use for event subscriptions\n     */\n\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      return this.options.rootElement;\n    }\n  }, {\n    key: \"setup\",\n    value: function setup() {\n      var root = this.rootElement;\n\n      if (root === undefined) {\n        return;\n      }\n\n      if (root.__isReactDndBackendSetUp) {\n        throw new Error('Cannot have two HTML5 backends at the same time.');\n      }\n\n      root.__isReactDndBackendSetUp = true;\n      this.addEventListeners(root);\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      var root = this.rootElement;\n\n      if (root === undefined) {\n        return;\n      }\n\n      root.__isReactDndBackendSetUp = false;\n      this.removeEventListeners(this.rootElement);\n      this.clearCurrentDragSourceNode();\n\n      if (this.asyncEndDragFrameId) {\n        var _this$window;\n\n        (_this$window = this.window) === null || _this$window === void 0 ? void 0 : _this$window.cancelAnimationFrame(this.asyncEndDragFrameId);\n      }\n    }\n  }, {\n    key: \"connectDragPreview\",\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this2 = this;\n\n      this.sourcePreviewNodeOptions.set(sourceId, options);\n      this.sourcePreviewNodes.set(sourceId, node);\n      return function () {\n        _this2.sourcePreviewNodes.delete(sourceId);\n\n        _this2.sourcePreviewNodeOptions.delete(sourceId);\n      };\n    }\n  }, {\n    key: \"connectDragSource\",\n    value: function connectDragSource(sourceId, node, options) {\n      var _this3 = this;\n\n      this.sourceNodes.set(sourceId, node);\n      this.sourceNodeOptions.set(sourceId, options);\n\n      var handleDragStart = function handleDragStart(e) {\n        return _this3.handleDragStart(e, sourceId);\n      };\n\n      var handleSelectStart = function handleSelectStart(e) {\n        return _this3.handleSelectStart(e);\n      };\n\n      node.setAttribute('draggable', 'true');\n      node.addEventListener('dragstart', handleDragStart);\n      node.addEventListener('selectstart', handleSelectStart);\n      return function () {\n        _this3.sourceNodes.delete(sourceId);\n\n        _this3.sourceNodeOptions.delete(sourceId);\n\n        node.removeEventListener('dragstart', handleDragStart);\n        node.removeEventListener('selectstart', handleSelectStart);\n        node.setAttribute('draggable', 'false');\n      };\n    }\n  }, {\n    key: \"connectDropTarget\",\n    value: function connectDropTarget(targetId, node) {\n      var _this4 = this;\n\n      var handleDragEnter = function handleDragEnter(e) {\n        return _this4.handleDragEnter(e, targetId);\n      };\n\n      var handleDragOver = function handleDragOver(e) {\n        return _this4.handleDragOver(e, targetId);\n      };\n\n      var handleDrop = function handleDrop(e) {\n        return _this4.handleDrop(e, targetId);\n      };\n\n      node.addEventListener('dragenter', handleDragEnter);\n      node.addEventListener('dragover', handleDragOver);\n      node.addEventListener('drop', handleDrop);\n      return function () {\n        node.removeEventListener('dragenter', handleDragEnter);\n        node.removeEventListener('dragover', handleDragOver);\n        node.removeEventListener('drop', handleDrop);\n      };\n    }\n  }, {\n    key: \"addEventListeners\",\n    value: function addEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.addEventListener) {\n        return;\n      }\n\n      target.addEventListener('dragstart', this.handleTopDragStart);\n      target.addEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.addEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.addEventListener('dragenter', this.handleTopDragEnter);\n      target.addEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.addEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.addEventListener('dragover', this.handleTopDragOver);\n      target.addEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.addEventListener('drop', this.handleTopDrop);\n      target.addEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"removeEventListeners\",\n    value: function removeEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.removeEventListener) {\n        return;\n      }\n\n      target.removeEventListener('dragstart', this.handleTopDragStart);\n      target.removeEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.removeEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.removeEventListener('dragenter', this.handleTopDragEnter);\n      target.removeEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.removeEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.removeEventListener('dragover', this.handleTopDragOver);\n      target.removeEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.removeEventListener('drop', this.handleTopDrop);\n      target.removeEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"getCurrentSourceNodeOptions\",\n    value: function getCurrentSourceNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourceNodeOptions = this.sourceNodeOptions.get(sourceId);\n      return _objectSpread({\n        dropEffect: this.altKeyPressed ? 'copy' : 'move'\n      }, sourceNodeOptions || {});\n    }\n  }, {\n    key: \"getCurrentDropEffect\",\n    value: function getCurrentDropEffect() {\n      if (this.isDraggingNativeItem()) {\n        // It makes more sense to default to 'copy' for native resources\n        return 'copy';\n      }\n\n      return this.getCurrentSourceNodeOptions().dropEffect;\n    }\n  }, {\n    key: \"getCurrentSourcePreviewNodeOptions\",\n    value: function getCurrentSourcePreviewNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId);\n      return _objectSpread({\n        anchorX: 0.5,\n        anchorY: 0.5,\n        captureDraggingState: false\n      }, sourcePreviewNodeOptions || {});\n    }\n  }, {\n    key: \"isDraggingNativeItem\",\n    value: function isDraggingNativeItem() {\n      var itemType = this.monitor.getItemType();\n      return Object.keys(NativeTypes).some(function (key) {\n        return NativeTypes[key] === itemType;\n      });\n    }\n  }, {\n    key: \"beginDragNativeItem\",\n    value: function beginDragNativeItem(type, dataTransfer) {\n      this.clearCurrentDragSourceNode();\n      this.currentNativeSource = createNativeDragSource(type, dataTransfer);\n      this.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);\n      this.actions.beginDrag([this.currentNativeHandle]);\n    }\n  }, {\n    key: \"setCurrentDragSourceNode\",\n    value: function setCurrentDragSourceNode(node) {\n      var _this5 = this;\n\n      this.clearCurrentDragSourceNode();\n      this.currentDragSourceNode = node; // A timeout of > 0 is necessary to resolve Firefox issue referenced\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n\n      var MOUSE_MOVE_TIMEOUT = 1000; // Receiving a mouse event in the middle of a dragging operation\n      // means it has ended and the drag source node disappeared from DOM,\n      // so the browser didn't dispatch the dragend event.\n      //\n      // We need to wait before we start listening for mousemove events.\n      // This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n      // immediately in some browsers.\n      //\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n      //\n\n      this.mouseMoveTimeoutTimer = setTimeout(function () {\n        var _this5$rootElement;\n\n        return (_this5$rootElement = _this5.rootElement) === null || _this5$rootElement === void 0 ? void 0 : _this5$rootElement.addEventListener('mousemove', _this5.endDragIfSourceWasRemovedFromDOM, true);\n      }, MOUSE_MOVE_TIMEOUT);\n    }\n  }, {\n    key: \"clearCurrentDragSourceNode\",\n    value: function clearCurrentDragSourceNode() {\n      if (this.currentDragSourceNode) {\n        this.currentDragSourceNode = null;\n\n        if (this.rootElement) {\n          var _this$window2;\n\n          (_this$window2 = this.window) === null || _this$window2 === void 0 ? void 0 : _this$window2.clearTimeout(this.mouseMoveTimeoutTimer || undefined);\n          this.rootElement.removeEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);\n        }\n\n        this.mouseMoveTimeoutTimer = null;\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"handleDragStart\",\n    value: function handleDragStart(e, sourceId) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      if (!this.dragStartSourceIds) {\n        this.dragStartSourceIds = [];\n      }\n\n      this.dragStartSourceIds.unshift(sourceId);\n    }\n  }, {\n    key: \"handleDragEnter\",\n    value: function handleDragEnter(e, targetId) {\n      this.dragEnterTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDragOver\",\n    value: function handleDragOver(e, targetId) {\n      if (this.dragOverTargetIds === null) {\n        this.dragOverTargetIds = [];\n      }\n\n      this.dragOverTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDrop\",\n    value: function handleDrop(e, targetId) {\n      this.dropTargetIds.unshift(targetId);\n    }\n  }]);\n\n  return HTML5BackendImpl;\n}();","import { HTML5BackendImpl } from './HTML5BackendImpl';\nimport * as NativeTypes from './NativeTypes';\nexport { getEmptyImage } from './getEmptyImage';\nexport { NativeTypes };\nexport var HTML5Backend = function createBackend(manager, context, options) {\n  return new HTML5BackendImpl(manager, context, options);\n};","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nconst PUBLISH = 0;\nconst SUBSCRIBE = 1;\nconst RESET = 2;\nconst VALUE = 4;\nfunction compose(a, b) {\n  return (arg) => a(b(arg));\n}\nfunction thrush(arg, proc) {\n  return proc(arg);\n}\nfunction curry2to1(proc, arg1) {\n  return (arg2) => proc(arg1, arg2);\n}\nfunction curry1to0(proc, arg) {\n  return () => proc(arg);\n}\nfunction tap(arg, proc) {\n  proc(arg);\n  return arg;\n}\nfunction tup(...args) {\n  return args;\n}\nfunction call(proc) {\n  proc();\n}\nfunction always(value) {\n  return () => value;\n}\nfunction joinProc(...procs) {\n  return () => {\n    procs.map(call);\n  };\n}\nfunction isDefined(arg) {\n  return arg !== void 0;\n}\nfunction noop() {\n}\nfunction subscribe(emitter, subscription) {\n  return emitter(SUBSCRIBE, subscription);\n}\nfunction publish(publisher, value) {\n  publisher(PUBLISH, value);\n}\nfunction reset(emitter) {\n  emitter(RESET);\n}\nfunction getValue(depot) {\n  return depot(VALUE);\n}\nfunction connect(emitter, publisher) {\n  return subscribe(emitter, curry2to1(publisher, PUBLISH));\n}\nfunction handleNext(emitter, subscription) {\n  const unsub = emitter(SUBSCRIBE, (value) => {\n    unsub();\n    subscription(value);\n  });\n  return unsub;\n}\nfunction stream() {\n  const subscriptions = [];\n  return (action, arg) => {\n    switch (action) {\n      case RESET:\n        subscriptions.splice(0, subscriptions.length);\n        return;\n      case SUBSCRIBE:\n        subscriptions.push(arg);\n        return () => {\n          const indexOf = subscriptions.indexOf(arg);\n          if (indexOf > -1) {\n            subscriptions.splice(indexOf, 1);\n          }\n        };\n      case PUBLISH:\n        subscriptions.slice().forEach((subscription) => {\n          subscription(arg);\n        });\n        return;\n      default:\n        throw new Error(`unrecognized action ${action}`);\n    }\n  };\n}\nfunction statefulStream(initial) {\n  let value = initial;\n  const innerSubject = stream();\n  return (action, arg) => {\n    switch (action) {\n      case SUBSCRIBE:\n        const subscription = arg;\n        subscription(value);\n        break;\n      case PUBLISH:\n        value = arg;\n        break;\n      case VALUE:\n        return value;\n    }\n    return innerSubject(action, arg);\n  };\n}\nfunction eventHandler(emitter) {\n  let unsub;\n  let currentSubscription;\n  const cleanup = () => unsub && unsub();\n  return function(action, subscription) {\n    switch (action) {\n      case SUBSCRIBE:\n        if (subscription) {\n          if (currentSubscription === subscription) {\n            return;\n          }\n          cleanup();\n          currentSubscription = subscription;\n          unsub = subscribe(emitter, subscription);\n          return unsub;\n        } else {\n          cleanup();\n          return noop;\n        }\n      case RESET:\n        cleanup();\n        currentSubscription = null;\n        return;\n      default:\n        throw new Error(`unrecognized action ${action}`);\n    }\n  };\n}\nfunction streamFromEmitter(emitter) {\n  return tap(stream(), (stream2) => connect(emitter, stream2));\n}\nfunction statefulStreamFromEmitter(emitter, initial) {\n  return tap(statefulStream(initial), (stream2) => connect(emitter, stream2));\n}\nfunction combineOperators(...operators) {\n  return (subscriber) => {\n    return operators.reduceRight(thrush, subscriber);\n  };\n}\nfunction pipe(source, ...operators) {\n  const project = combineOperators(...operators);\n  return (action, subscription) => {\n    switch (action) {\n      case SUBSCRIBE:\n        return subscribe(source, project(subscription));\n      case RESET:\n        reset(source);\n        return;\n    }\n  };\n}\nfunction defaultComparator(previous, next) {\n  return previous === next;\n}\nfunction distinctUntilChanged(comparator = defaultComparator) {\n  let current;\n  return (done) => (next) => {\n    if (!comparator(current, next)) {\n      current = next;\n      done(next);\n    }\n  };\n}\nfunction filter(predicate) {\n  return (done) => (value) => {\n    predicate(value) && done(value);\n  };\n}\nfunction map(project) {\n  return (done) => compose(done, project);\n}\nfunction mapTo(value) {\n  return (done) => () => done(value);\n}\nfunction scan(scanner, initial) {\n  return (done) => (value) => done(initial = scanner(initial, value));\n}\nfunction skip(times) {\n  return (done) => (value) => {\n    times > 0 ? times-- : done(value);\n  };\n}\nfunction throttleTime(interval) {\n  let currentValue = null;\n  let timeout;\n  return (done) => (value) => {\n    currentValue = value;\n    if (timeout) {\n      return;\n    }\n    timeout = setTimeout(() => {\n      timeout = void 0;\n      done(currentValue);\n    }, interval);\n  };\n}\nfunction debounceTime(interval) {\n  let currentValue;\n  let timeout;\n  return (done) => (value) => {\n    currentValue = value;\n    if (timeout) {\n      clearTimeout(timeout);\n    }\n    timeout = setTimeout(() => {\n      done(currentValue);\n    }, interval);\n  };\n}\nfunction withLatestFrom(...sources) {\n  const values = new Array(sources.length);\n  let called = 0;\n  let pendingCall = null;\n  const allCalled = Math.pow(2, sources.length) - 1;\n  sources.forEach((source, index) => {\n    const bit = Math.pow(2, index);\n    subscribe(source, (value) => {\n      const prevCalled = called;\n      called = called | bit;\n      values[index] = value;\n      if (prevCalled !== allCalled && called === allCalled && pendingCall) {\n        pendingCall();\n        pendingCall = null;\n      }\n    });\n  });\n  return (done) => (value) => {\n    const call2 = () => done([value].concat(values));\n    if (called === allCalled) {\n      call2();\n    } else {\n      pendingCall = call2;\n    }\n  };\n}\nfunction merge(...sources) {\n  return function(action, subscription) {\n    switch (action) {\n      case SUBSCRIBE:\n        return joinProc(...sources.map((source) => subscribe(source, subscription)));\n      case RESET:\n        return;\n      default:\n        throw new Error(`unrecognized action ${action}`);\n    }\n  };\n}\nfunction duc(source, comparator = defaultComparator) {\n  return pipe(source, distinctUntilChanged(comparator));\n}\nfunction combineLatest(...emitters) {\n  const innerSubject = stream();\n  const values = new Array(emitters.length);\n  let called = 0;\n  const allCalled = Math.pow(2, emitters.length) - 1;\n  emitters.forEach((source, index) => {\n    const bit = Math.pow(2, index);\n    subscribe(source, (value) => {\n      values[index] = value;\n      called = called | bit;\n      if (called === allCalled) {\n        publish(innerSubject, values);\n      }\n    });\n  });\n  return function(action, subscription) {\n    switch (action) {\n      case SUBSCRIBE:\n        if (called === allCalled) {\n          subscription(values);\n        }\n        return subscribe(innerSubject, subscription);\n      case RESET:\n        return reset(innerSubject);\n      default:\n        throw new Error(`unrecognized action ${action}`);\n    }\n  };\n}\nfunction system(constructor, dependencies = [], { singleton } = { singleton: true }) {\n  return {\n    id: id(),\n    constructor,\n    dependencies,\n    singleton\n  };\n}\nconst id = () => Symbol();\nfunction init(systemSpec) {\n  const singletons = /* @__PURE__ */ new Map();\n  const _init = ({ id: id2, constructor, dependencies, singleton }) => {\n    if (singleton && singletons.has(id2)) {\n      return singletons.get(id2);\n    }\n    const system2 = constructor(dependencies.map((e) => _init(e)));\n    if (singleton) {\n      singletons.set(id2, system2);\n    }\n    return system2;\n  };\n  return _init(systemSpec);\n}\nfunction omit(keys, obj) {\n  const result = {};\n  const index = {};\n  let idx = 0;\n  const len = keys.length;\n  while (idx < len) {\n    index[keys[idx]] = 1;\n    idx += 1;\n  }\n  for (const prop in obj) {\n    if (!index.hasOwnProperty(prop)) {\n      result[prop] = obj[prop];\n    }\n  }\n  return result;\n}\nconst useIsomorphicLayoutEffect$2 = typeof document !== \"undefined\" ? React.useLayoutEffect : React.useEffect;\nfunction systemToComponent(systemSpec, map2, Root) {\n  const requiredPropNames = Object.keys(map2.required || {});\n  const optionalPropNames = Object.keys(map2.optional || {});\n  const methodNames = Object.keys(map2.methods || {});\n  const eventNames = Object.keys(map2.events || {});\n  const Context = React.createContext({});\n  function applyPropsToSystem(system2, props) {\n    if (system2[\"propsReady\"]) {\n      publish(system2[\"propsReady\"], false);\n    }\n    for (const requiredPropName of requiredPropNames) {\n      const stream2 = system2[map2.required[requiredPropName]];\n      publish(stream2, props[requiredPropName]);\n    }\n    for (const optionalPropName of optionalPropNames) {\n      if (optionalPropName in props) {\n        const stream2 = system2[map2.optional[optionalPropName]];\n        publish(stream2, props[optionalPropName]);\n      }\n    }\n    if (system2[\"propsReady\"]) {\n      publish(system2[\"propsReady\"], true);\n    }\n  }\n  function buildMethods(system2) {\n    return methodNames.reduce((acc, methodName) => {\n      acc[methodName] = (value) => {\n        const stream2 = system2[map2.methods[methodName]];\n        publish(stream2, value);\n      };\n      return acc;\n    }, {});\n  }\n  function buildEventHandlers(system2) {\n    return eventNames.reduce((handlers, eventName) => {\n      handlers[eventName] = eventHandler(system2[map2.events[eventName]]);\n      return handlers;\n    }, {});\n  }\n  const Component = React.forwardRef((propsWithChildren, ref) => {\n    const { children, ...props } = propsWithChildren;\n    const [system2] = React.useState(() => {\n      return tap(init(systemSpec), (system22) => applyPropsToSystem(system22, props));\n    });\n    const [handlers] = React.useState(curry1to0(buildEventHandlers, system2));\n    useIsomorphicLayoutEffect$2(() => {\n      for (const eventName of eventNames) {\n        if (eventName in props) {\n          subscribe(handlers[eventName], props[eventName]);\n        }\n      }\n      return () => {\n        Object.values(handlers).map(reset);\n      };\n    }, [props, handlers, system2]);\n    useIsomorphicLayoutEffect$2(() => {\n      applyPropsToSystem(system2, props);\n    });\n    React.useImperativeHandle(ref, always(buildMethods(system2)));\n    return React.createElement(\n      Context.Provider,\n      { value: system2 },\n      Root ? React.createElement(\n        Root,\n        omit([...requiredPropNames, ...optionalPropNames, ...eventNames], props),\n        children\n      ) : children\n    );\n  });\n  const usePublisher2 = (key) => {\n    return React.useCallback(curry2to1(publish, React.useContext(Context)[key]), [key]);\n  };\n  const useEmitterValue2 = (key) => {\n    const system2 = React.useContext(Context);\n    const source = system2[key];\n    const [value, setValue] = React.useState(curry1to0(getValue, source));\n    useIsomorphicLayoutEffect$2(\n      () => subscribe(source, (next) => {\n        if (next !== value) {\n          setValue(always(next));\n        }\n      }),\n      [source, value]\n    );\n    return value;\n  };\n  const useEmitter2 = (key, callback) => {\n    const context = React.useContext(Context);\n    const source = context[key];\n    useIsomorphicLayoutEffect$2(() => subscribe(source, callback), [callback, source]);\n  };\n  return {\n    Component,\n    usePublisher: usePublisher2,\n    useEmitterValue: useEmitterValue2,\n    useEmitter: useEmitter2\n  };\n}\nconst useIsomorphicLayoutEffect = typeof document !== \"undefined\" ? React.useLayoutEffect : React.useEffect;\nconst useIsomorphicLayoutEffect$1 = useIsomorphicLayoutEffect;\nvar LogLevel = /* @__PURE__ */ ((LogLevel2) => {\n  LogLevel2[LogLevel2[\"DEBUG\"] = 0] = \"DEBUG\";\n  LogLevel2[LogLevel2[\"INFO\"] = 1] = \"INFO\";\n  LogLevel2[LogLevel2[\"WARN\"] = 2] = \"WARN\";\n  LogLevel2[LogLevel2[\"ERROR\"] = 3] = \"ERROR\";\n  return LogLevel2;\n})(LogLevel || {});\nconst CONSOLE_METHOD_MAP = {\n  [\n    0\n    /* DEBUG */\n  ]: \"debug\",\n  [\n    1\n    /* INFO */\n  ]: \"log\",\n  [\n    2\n    /* WARN */\n  ]: \"warn\",\n  [\n    3\n    /* ERROR */\n  ]: \"error\"\n};\nconst getGlobalThis = () => typeof globalThis === \"undefined\" ? window : globalThis;\nconst loggerSystem = system(\n  () => {\n    const logLevel = statefulStream(\n      3\n      /* ERROR */\n    );\n    const log = statefulStream((label, message, level = 1) => {\n      var _a;\n      const currentLevel = (_a = getGlobalThis()[\"VIRTUOSO_LOG_LEVEL\"]) != null ? _a : getValue(logLevel);\n      if (level >= currentLevel) {\n        console[CONSOLE_METHOD_MAP[level]](\n          \"%creact-virtuoso: %c%s %o\",\n          \"color: #0253b3; font-weight: bold\",\n          \"color: initial\",\n          label,\n          message\n        );\n      }\n    });\n    return {\n      log,\n      logLevel\n    };\n  },\n  [],\n  { singleton: true }\n);\nfunction useSizeWithElRef(callback, enabled = true) {\n  const ref = React.useRef(null);\n  let callbackRef = (_el) => {\n  };\n  if (typeof ResizeObserver !== \"undefined\") {\n    const observer = React.useMemo(() => {\n      return new ResizeObserver((entries) => {\n        const element = entries[0].target;\n        if (element.offsetParent !== null) {\n          callback(element);\n        }\n      });\n    }, [callback]);\n    callbackRef = (elRef) => {\n      if (elRef && enabled) {\n        observer.observe(elRef);\n        ref.current = elRef;\n      } else {\n        if (ref.current) {\n          observer.unobserve(ref.current);\n        }\n        ref.current = null;\n      }\n    };\n  }\n  return { ref, callbackRef };\n}\nfunction useSize(callback, enabled = true) {\n  return useSizeWithElRef(callback, enabled).callbackRef;\n}\nfunction useChangedListContentsSizes(callback, itemSize, enabled, scrollContainerStateCallback, log, gap, customScrollParent) {\n  const memoedCallback = React.useCallback(\n    (el) => {\n      const ranges = getChangedChildSizes(el.children, itemSize, \"offsetHeight\", log);\n      let scrollableElement = el.parentElement;\n      while (!scrollableElement.dataset[\"virtuosoScroller\"]) {\n        scrollableElement = scrollableElement.parentElement;\n      }\n      const windowScrolling = scrollableElement.lastElementChild.dataset[\"viewportType\"] === \"window\";\n      const scrollTop = customScrollParent ? customScrollParent.scrollTop : windowScrolling ? window.pageYOffset || document.documentElement.scrollTop : scrollableElement.scrollTop;\n      const scrollHeight = customScrollParent ? customScrollParent.scrollHeight : windowScrolling ? document.documentElement.scrollHeight : scrollableElement.scrollHeight;\n      const viewportHeight = customScrollParent ? customScrollParent.offsetHeight : windowScrolling ? window.innerHeight : scrollableElement.offsetHeight;\n      scrollContainerStateCallback({\n        scrollTop: Math.max(scrollTop, 0),\n        scrollHeight,\n        viewportHeight\n      });\n      gap == null ? void 0 : gap(resolveGapValue$1(\"row-gap\", getComputedStyle(el).rowGap, log));\n      if (ranges !== null) {\n        callback(ranges);\n      }\n    },\n    [callback, itemSize, log, gap, customScrollParent, scrollContainerStateCallback]\n  );\n  return useSizeWithElRef(memoedCallback, enabled);\n}\nfunction getChangedChildSizes(children, itemSize, field, log) {\n  const length = children.length;\n  if (length === 0) {\n    return null;\n  }\n  const results = [];\n  for (let i = 0; i < length; i++) {\n    const child = children.item(i);\n    if (!child || child.dataset.index === void 0) {\n      continue;\n    }\n    const index = parseInt(child.dataset.index);\n    const knownSize = parseFloat(child.dataset.knownSize);\n    const size = itemSize(child, field);\n    if (size === 0) {\n      log(\"Zero-sized element, this should not happen\", { child }, LogLevel.ERROR);\n    }\n    if (size === knownSize) {\n      continue;\n    }\n    const lastResult = results[results.length - 1];\n    if (results.length === 0 || lastResult.size !== size || lastResult.endIndex !== index - 1) {\n      results.push({ startIndex: index, endIndex: index, size });\n    } else {\n      results[results.length - 1].endIndex++;\n    }\n  }\n  return results;\n}\nfunction resolveGapValue$1(property, value, log) {\n  if (value !== \"normal\" && !(value == null ? void 0 : value.endsWith(\"px\"))) {\n    log(`${property} was not resolved to pixel value correctly`, value, LogLevel.WARN);\n  }\n  if (value === \"normal\") {\n    return 0;\n  }\n  return parseInt(value != null ? value : \"0\", 10);\n}\nfunction correctItemSize(el, dimension) {\n  return Math.round(el.getBoundingClientRect()[dimension]);\n}\nfunction approximatelyEqual(num1, num2) {\n  return Math.abs(num1 - num2) < 1.01;\n}\nfunction useScrollTop(scrollContainerStateCallback, smoothScrollTargetReached, scrollerElement, scrollerRefCallback = noop, customScrollParent) {\n  const scrollerRef = React.useRef(null);\n  const scrollTopTarget = React.useRef(null);\n  const timeoutRef = React.useRef(null);\n  const handler = React.useCallback(\n    (ev) => {\n      const el = ev.target;\n      const windowScroll = el === window || el === document;\n      const scrollTop = windowScroll ? window.pageYOffset || document.documentElement.scrollTop : el.scrollTop;\n      const scrollHeight = windowScroll ? document.documentElement.scrollHeight : el.scrollHeight;\n      const viewportHeight = windowScroll ? window.innerHeight : el.offsetHeight;\n      const call2 = () => {\n        scrollContainerStateCallback({\n          scrollTop: Math.max(scrollTop, 0),\n          scrollHeight,\n          viewportHeight\n        });\n      };\n      if (ev.suppressFlushSync) {\n        call2();\n      } else {\n        ReactDOM.flushSync(call2);\n      }\n      if (scrollTopTarget.current !== null) {\n        if (scrollTop === scrollTopTarget.current || scrollTop <= 0 || scrollTop === scrollHeight - viewportHeight) {\n          scrollTopTarget.current = null;\n          smoothScrollTargetReached(true);\n          if (timeoutRef.current) {\n            clearTimeout(timeoutRef.current);\n            timeoutRef.current = null;\n          }\n        }\n      }\n    },\n    [scrollContainerStateCallback, smoothScrollTargetReached]\n  );\n  React.useEffect(() => {\n    const localRef = customScrollParent ? customScrollParent : scrollerRef.current;\n    scrollerRefCallback(customScrollParent ? customScrollParent : scrollerRef.current);\n    handler({ target: localRef, suppressFlushSync: true });\n    localRef.addEventListener(\"scroll\", handler, { passive: true });\n    return () => {\n      scrollerRefCallback(null);\n      localRef.removeEventListener(\"scroll\", handler);\n    };\n  }, [scrollerRef, handler, scrollerElement, scrollerRefCallback, customScrollParent]);\n  function scrollToCallback(location) {\n    const scrollerElement2 = scrollerRef.current;\n    if (!scrollerElement2 || \"offsetHeight\" in scrollerElement2 && scrollerElement2.offsetHeight === 0) {\n      return;\n    }\n    const isSmooth = location.behavior === \"smooth\";\n    let offsetHeight;\n    let scrollHeight;\n    let scrollTop;\n    if (scrollerElement2 === window) {\n      scrollHeight = Math.max(correctItemSize(document.documentElement, \"height\"), document.documentElement.scrollHeight);\n      offsetHeight = window.innerHeight;\n      scrollTop = document.documentElement.scrollTop;\n    } else {\n      scrollHeight = scrollerElement2.scrollHeight;\n      offsetHeight = correctItemSize(scrollerElement2, \"height\");\n      scrollTop = scrollerElement2.scrollTop;\n    }\n    const maxScrollTop = scrollHeight - offsetHeight;\n    location.top = Math.ceil(Math.max(Math.min(maxScrollTop, location.top), 0));\n    if (approximatelyEqual(offsetHeight, scrollHeight) || location.top === scrollTop) {\n      scrollContainerStateCallback({ scrollTop, scrollHeight, viewportHeight: offsetHeight });\n      if (isSmooth) {\n        smoothScrollTargetReached(true);\n      }\n      return;\n    }\n    if (isSmooth) {\n      scrollTopTarget.current = location.top;\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n      timeoutRef.current = setTimeout(() => {\n        timeoutRef.current = null;\n        scrollTopTarget.current = null;\n        smoothScrollTargetReached(true);\n      }, 1e3);\n    } else {\n      scrollTopTarget.current = null;\n    }\n    scrollerElement2.scrollTo(location);\n  }\n  function scrollByCallback(location) {\n    scrollerRef.current.scrollBy(location);\n  }\n  return { scrollerRef, scrollByCallback, scrollToCallback };\n}\nconst domIOSystem = system(\n  () => {\n    const scrollContainerState = stream();\n    const scrollTop = stream();\n    const deviation = statefulStream(0);\n    const smoothScrollTargetReached = stream();\n    const statefulScrollTop = statefulStream(0);\n    const viewportHeight = stream();\n    const scrollHeight = stream();\n    const headerHeight = statefulStream(0);\n    const fixedHeaderHeight = statefulStream(0);\n    const fixedFooterHeight = statefulStream(0);\n    const footerHeight = statefulStream(0);\n    const scrollTo = stream();\n    const scrollBy = stream();\n    const scrollingInProgress = statefulStream(false);\n    connect(\n      pipe(\n        scrollContainerState,\n        map(({ scrollTop: scrollTop2 }) => scrollTop2)\n      ),\n      scrollTop\n    );\n    connect(\n      pipe(\n        scrollContainerState,\n        map(({ scrollHeight: scrollHeight2 }) => scrollHeight2)\n      ),\n      scrollHeight\n    );\n    connect(scrollTop, statefulScrollTop);\n    return {\n      // input\n      scrollContainerState,\n      scrollTop,\n      viewportHeight,\n      headerHeight,\n      fixedHeaderHeight,\n      fixedFooterHeight,\n      footerHeight,\n      scrollHeight,\n      smoothScrollTargetReached,\n      // signals\n      scrollTo,\n      scrollBy,\n      // state\n      statefulScrollTop,\n      deviation,\n      scrollingInProgress\n    };\n  },\n  [],\n  { singleton: true }\n);\nconst NIL_NODE = { lvl: 0 };\nfunction newAANode(k, v, lvl, l = NIL_NODE, r = NIL_NODE) {\n  return { k, v, lvl, l, r };\n}\nfunction empty(node) {\n  return node === NIL_NODE;\n}\nfunction newTree() {\n  return NIL_NODE;\n}\nfunction remove(node, key) {\n  if (empty(node))\n    return NIL_NODE;\n  const { k, l, r } = node;\n  if (key === k) {\n    if (empty(l)) {\n      return r;\n    } else if (empty(r)) {\n      return l;\n    } else {\n      const [lastKey, lastValue] = last(l);\n      return adjust(clone(node, { k: lastKey, v: lastValue, l: deleteLast(l) }));\n    }\n  } else if (key < k) {\n    return adjust(clone(node, { l: remove(l, key) }));\n  } else {\n    return adjust(clone(node, { r: remove(r, key) }));\n  }\n}\nfunction find(node, key) {\n  if (empty(node)) {\n    return;\n  }\n  if (key === node.k) {\n    return node.v;\n  } else if (key < node.k) {\n    return find(node.l, key);\n  } else {\n    return find(node.r, key);\n  }\n}\nfunction findMaxKeyValue(node, value, field = \"k\") {\n  if (empty(node)) {\n    return [-Infinity, void 0];\n  }\n  if (Number(node[field]) === value) {\n    return [node.k, node.v];\n  }\n  if (Number(node[field]) < value) {\n    const r = findMaxKeyValue(node.r, value, field);\n    if (r[0] === -Infinity) {\n      return [node.k, node.v];\n    } else {\n      return r;\n    }\n  }\n  return findMaxKeyValue(node.l, value, field);\n}\nfunction insert(node, k, v) {\n  if (empty(node)) {\n    return newAANode(k, v, 1);\n  }\n  if (k === node.k) {\n    return clone(node, { k, v });\n  } else if (k < node.k) {\n    return rebalance(clone(node, { l: insert(node.l, k, v) }));\n  } else {\n    return rebalance(clone(node, { r: insert(node.r, k, v) }));\n  }\n}\nfunction walkWithin(node, start, end) {\n  if (empty(node)) {\n    return [];\n  }\n  const { k, v, l, r } = node;\n  let result = [];\n  if (k > start) {\n    result = result.concat(walkWithin(l, start, end));\n  }\n  if (k >= start && k <= end) {\n    result.push({ k, v });\n  }\n  if (k <= end) {\n    result = result.concat(walkWithin(r, start, end));\n  }\n  return result;\n}\nfunction walk(node) {\n  if (empty(node)) {\n    return [];\n  }\n  return [...walk(node.l), { k: node.k, v: node.v }, ...walk(node.r)];\n}\nfunction last(node) {\n  return empty(node.r) ? [node.k, node.v] : last(node.r);\n}\nfunction deleteLast(node) {\n  return empty(node.r) ? node.l : adjust(clone(node, { r: deleteLast(node.r) }));\n}\nfunction clone(node, args) {\n  return newAANode(\n    args.k !== void 0 ? args.k : node.k,\n    args.v !== void 0 ? args.v : node.v,\n    args.lvl !== void 0 ? args.lvl : node.lvl,\n    args.l !== void 0 ? args.l : node.l,\n    args.r !== void 0 ? args.r : node.r\n  );\n}\nfunction isSingle(node) {\n  return empty(node) || node.lvl > node.r.lvl;\n}\nfunction rebalance(node) {\n  return split(skew(node));\n}\nfunction adjust(node) {\n  const { l, r, lvl } = node;\n  if (r.lvl >= lvl - 1 && l.lvl >= lvl - 1) {\n    return node;\n  } else if (lvl > r.lvl + 1) {\n    if (isSingle(l)) {\n      return skew(clone(node, { lvl: lvl - 1 }));\n    } else {\n      if (!empty(l) && !empty(l.r)) {\n        return clone(l.r, {\n          l: clone(l, { r: l.r.l }),\n          r: clone(node, {\n            l: l.r.r,\n            lvl: lvl - 1\n          }),\n          lvl\n        });\n      } else {\n        throw new Error(\"Unexpected empty nodes\");\n      }\n    }\n  } else {\n    if (isSingle(node)) {\n      return split(clone(node, { lvl: lvl - 1 }));\n    } else {\n      if (!empty(r) && !empty(r.l)) {\n        const rl = r.l;\n        const rlvl = isSingle(rl) ? r.lvl - 1 : r.lvl;\n        return clone(rl, {\n          l: clone(node, {\n            r: rl.l,\n            lvl: lvl - 1\n          }),\n          r: split(clone(r, { l: rl.r, lvl: rlvl })),\n          lvl: rl.lvl + 1\n        });\n      } else {\n        throw new Error(\"Unexpected empty nodes\");\n      }\n    }\n  }\n}\nfunction rangesWithin(node, startIndex, endIndex) {\n  if (empty(node)) {\n    return [];\n  }\n  const adjustedStart = findMaxKeyValue(node, startIndex)[0];\n  return toRanges(walkWithin(node, adjustedStart, endIndex));\n}\nfunction arrayToRanges(items, parser) {\n  const length = items.length;\n  if (length === 0) {\n    return [];\n  }\n  let { index: start, value } = parser(items[0]);\n  const result = [];\n  for (let i = 1; i < length; i++) {\n    const { index: nextIndex, value: nextValue } = parser(items[i]);\n    result.push({ start, end: nextIndex - 1, value });\n    start = nextIndex;\n    value = nextValue;\n  }\n  result.push({ start, end: Infinity, value });\n  return result;\n}\nfunction toRanges(nodes) {\n  return arrayToRanges(nodes, ({ k: index, v: value }) => ({ index, value }));\n}\nfunction split(node) {\n  const { r, lvl } = node;\n  return !empty(r) && !empty(r.r) && r.lvl === lvl && r.r.lvl === lvl ? clone(r, { l: clone(node, { r: r.l }), lvl: lvl + 1 }) : node;\n}\nfunction skew(node) {\n  const { l } = node;\n  return !empty(l) && l.lvl === node.lvl ? clone(l, { r: clone(node, { l: l.r }) }) : node;\n}\nfunction findIndexOfClosestSmallerOrEqual(items, value, comparator, start = 0) {\n  let end = items.length - 1;\n  while (start <= end) {\n    const index = Math.floor((start + end) / 2);\n    const item = items[index];\n    const match = comparator(item, value);\n    if (match === 0) {\n      return index;\n    }\n    if (match === -1) {\n      if (end - start < 2) {\n        return index - 1;\n      }\n      end = index - 1;\n    } else {\n      if (end === start) {\n        return index;\n      }\n      start = index + 1;\n    }\n  }\n  throw new Error(`Failed binary finding record in array - ${items.join(\",\")}, searched for ${value}`);\n}\nfunction findClosestSmallerOrEqual(items, value, comparator) {\n  return items[findIndexOfClosestSmallerOrEqual(items, value, comparator)];\n}\nfunction findRange(items, startValue, endValue, comparator) {\n  const startIndex = findIndexOfClosestSmallerOrEqual(items, startValue, comparator);\n  const endIndex = findIndexOfClosestSmallerOrEqual(items, endValue, comparator, startIndex);\n  return items.slice(startIndex, endIndex + 1);\n}\nconst recalcSystem = system(\n  () => {\n    const recalcInProgress = statefulStream(false);\n    return { recalcInProgress };\n  },\n  [],\n  { singleton: true }\n);\nfunction rangeIncludes(refRange) {\n  const { size, startIndex, endIndex } = refRange;\n  return (range) => {\n    return range.start === startIndex && (range.end === endIndex || range.end === Infinity) && range.value === size;\n  };\n}\nfunction affectedGroupCount(offset, groupIndices) {\n  let recognizedOffsetItems = 0;\n  let groupIndex = 0;\n  while (recognizedOffsetItems < offset) {\n    recognizedOffsetItems += groupIndices[groupIndex + 1] - groupIndices[groupIndex] - 1;\n    groupIndex++;\n  }\n  const offsetIsExact = recognizedOffsetItems === offset;\n  return groupIndex - (offsetIsExact ? 0 : 1);\n}\nfunction insertRanges(sizeTree, ranges) {\n  let syncStart = empty(sizeTree) ? 0 : Infinity;\n  for (const range of ranges) {\n    const { size, startIndex, endIndex } = range;\n    syncStart = Math.min(syncStart, startIndex);\n    if (empty(sizeTree)) {\n      sizeTree = insert(sizeTree, 0, size);\n      continue;\n    }\n    const overlappingRanges = rangesWithin(sizeTree, startIndex - 1, endIndex + 1);\n    if (overlappingRanges.some(rangeIncludes(range))) {\n      continue;\n    }\n    let firstPassDone = false;\n    let shouldInsert = false;\n    for (const { start: rangeStart, end: rangeEnd, value: rangeValue } of overlappingRanges) {\n      if (!firstPassDone) {\n        shouldInsert = rangeValue !== size;\n        firstPassDone = true;\n      } else {\n        if (endIndex >= rangeStart || size === rangeValue) {\n          sizeTree = remove(sizeTree, rangeStart);\n        }\n      }\n      if (rangeEnd > endIndex && endIndex >= rangeStart) {\n        if (rangeValue !== size) {\n          sizeTree = insert(sizeTree, endIndex + 1, rangeValue);\n        }\n      }\n    }\n    if (shouldInsert) {\n      sizeTree = insert(sizeTree, startIndex, size);\n    }\n  }\n  return [sizeTree, syncStart];\n}\nfunction initialSizeState() {\n  return {\n    offsetTree: [],\n    sizeTree: newTree(),\n    groupOffsetTree: newTree(),\n    lastIndex: 0,\n    lastOffset: 0,\n    lastSize: 0,\n    groupIndices: []\n  };\n}\nfunction indexComparator({ index: itemIndex }, index) {\n  return index === itemIndex ? 0 : index < itemIndex ? -1 : 1;\n}\nfunction offsetComparator({ offset: itemOffset }, offset) {\n  return offset === itemOffset ? 0 : offset < itemOffset ? -1 : 1;\n}\nfunction offsetPointParser(point) {\n  return { index: point.index, value: point };\n}\nfunction rangesWithinOffsets(tree, startOffset, endOffset, minStartIndex = 0) {\n  if (minStartIndex > 0) {\n    startOffset = Math.max(startOffset, findClosestSmallerOrEqual(tree, minStartIndex, indexComparator).offset);\n  }\n  return arrayToRanges(findRange(tree, startOffset, endOffset, offsetComparator), offsetPointParser);\n}\nfunction createOffsetTree(prevOffsetTree, syncStart, sizeTree, gap) {\n  let offsetTree = prevOffsetTree;\n  let prevIndex = 0;\n  let prevSize = 0;\n  let prevOffset = 0;\n  let startIndex = 0;\n  if (syncStart !== 0) {\n    startIndex = findIndexOfClosestSmallerOrEqual(offsetTree, syncStart - 1, indexComparator);\n    const offsetInfo = offsetTree[startIndex];\n    prevOffset = offsetInfo.offset;\n    const kv = findMaxKeyValue(sizeTree, syncStart - 1);\n    prevIndex = kv[0];\n    prevSize = kv[1];\n    if (offsetTree.length && offsetTree[startIndex].size === findMaxKeyValue(sizeTree, syncStart)[1]) {\n      startIndex -= 1;\n    }\n    offsetTree = offsetTree.slice(0, startIndex + 1);\n  } else {\n    offsetTree = [];\n  }\n  for (const { start: startIndex2, value } of rangesWithin(sizeTree, syncStart, Infinity)) {\n    const indexOffset = startIndex2 - prevIndex;\n    const aOffset = indexOffset * prevSize + prevOffset + indexOffset * gap;\n    offsetTree.push({\n      offset: aOffset,\n      size: value,\n      index: startIndex2\n    });\n    prevIndex = startIndex2;\n    prevOffset = aOffset;\n    prevSize = value;\n  }\n  return {\n    offsetTree,\n    lastIndex: prevIndex,\n    lastOffset: prevOffset,\n    lastSize: prevSize\n  };\n}\nfunction sizeStateReducer(state, [ranges, groupIndices, log, gap]) {\n  if (ranges.length > 0) {\n    log(\"received item sizes\", ranges, LogLevel.DEBUG);\n  }\n  const sizeTree = state.sizeTree;\n  let newSizeTree = sizeTree;\n  let syncStart = 0;\n  if (groupIndices.length > 0 && empty(sizeTree) && ranges.length === 2) {\n    const groupSize = ranges[0].size;\n    const itemSize = ranges[1].size;\n    newSizeTree = groupIndices.reduce((tree, groupIndex) => {\n      return insert(insert(tree, groupIndex, groupSize), groupIndex + 1, itemSize);\n    }, newSizeTree);\n  } else {\n    [newSizeTree, syncStart] = insertRanges(newSizeTree, ranges);\n  }\n  if (newSizeTree === sizeTree) {\n    return state;\n  }\n  const { offsetTree: newOffsetTree, lastIndex, lastSize, lastOffset } = createOffsetTree(state.offsetTree, syncStart, newSizeTree, gap);\n  return {\n    sizeTree: newSizeTree,\n    offsetTree: newOffsetTree,\n    lastIndex,\n    lastOffset,\n    lastSize,\n    groupOffsetTree: groupIndices.reduce((tree, index) => {\n      return insert(tree, index, offsetOf(index, newOffsetTree, gap));\n    }, newTree()),\n    groupIndices\n  };\n}\nfunction offsetOf(index, tree, gap) {\n  if (tree.length === 0) {\n    return 0;\n  }\n  const { offset, index: startIndex, size } = findClosestSmallerOrEqual(tree, index, indexComparator);\n  const itemCount = index - startIndex;\n  const top = size * itemCount + (itemCount - 1) * gap + offset;\n  return top > 0 ? top + gap : top;\n}\nfunction isGroupLocation(location) {\n  return typeof location.groupIndex !== \"undefined\";\n}\nfunction originalIndexFromLocation(location, sizes, lastIndex) {\n  if (isGroupLocation(location)) {\n    return sizes.groupIndices[location.groupIndex] + 1;\n  } else {\n    const numericIndex = location.index === \"LAST\" ? lastIndex : location.index;\n    let result = originalIndexFromItemIndex(numericIndex, sizes);\n    result = Math.max(0, result, Math.min(lastIndex, result));\n    return result;\n  }\n}\nfunction originalIndexFromItemIndex(itemIndex, sizes) {\n  if (!hasGroups(sizes)) {\n    return itemIndex;\n  }\n  let groupOffset = 0;\n  while (sizes.groupIndices[groupOffset] <= itemIndex + groupOffset) {\n    groupOffset++;\n  }\n  return itemIndex + groupOffset;\n}\nfunction hasGroups(sizes) {\n  return !empty(sizes.groupOffsetTree);\n}\nfunction sizeTreeToRanges(sizeTree) {\n  return walk(sizeTree).map(({ k: startIndex, v: size }, index, sizeArray) => {\n    const nextSize = sizeArray[index + 1];\n    const endIndex = nextSize ? nextSize.k - 1 : Infinity;\n    return { startIndex, endIndex, size };\n  });\n}\nconst SIZE_MAP = {\n  offsetHeight: \"height\",\n  offsetWidth: \"width\"\n};\nconst sizeSystem = system(\n  ([{ log }, { recalcInProgress }]) => {\n    const sizeRanges = stream();\n    const totalCount = stream();\n    const statefulTotalCount = statefulStreamFromEmitter(totalCount, 0);\n    const unshiftWith = stream();\n    const shiftWith = stream();\n    const firstItemIndex = statefulStream(0);\n    const groupIndices = statefulStream([]);\n    const fixedItemSize = statefulStream(void 0);\n    const defaultItemSize = statefulStream(void 0);\n    const itemSize = statefulStream((el, field) => correctItemSize(el, SIZE_MAP[field]));\n    const data = statefulStream(void 0);\n    const gap = statefulStream(0);\n    const initial = initialSizeState();\n    const sizes = statefulStreamFromEmitter(\n      pipe(sizeRanges, withLatestFrom(groupIndices, log, gap), scan(sizeStateReducer, initial), distinctUntilChanged()),\n      initial\n    );\n    const prevGroupIndices = statefulStreamFromEmitter(\n      pipe(\n        groupIndices,\n        distinctUntilChanged(),\n        scan((prev, curr) => ({ prev: prev.current, current: curr }), {\n          prev: [],\n          current: []\n        }),\n        map(({ prev }) => prev)\n      ),\n      []\n    );\n    connect(\n      pipe(\n        groupIndices,\n        filter((indexes) => indexes.length > 0),\n        withLatestFrom(sizes, gap),\n        map(([groupIndices2, sizes2, gap2]) => {\n          const groupOffsetTree = groupIndices2.reduce((tree, index, idx) => {\n            return insert(tree, index, offsetOf(index, sizes2.offsetTree, gap2) || idx);\n          }, newTree());\n          return {\n            ...sizes2,\n            groupIndices: groupIndices2,\n            groupOffsetTree\n          };\n        })\n      ),\n      sizes\n    );\n    connect(\n      pipe(\n        totalCount,\n        withLatestFrom(sizes),\n        filter(([totalCount2, { lastIndex }]) => {\n          return totalCount2 < lastIndex;\n        }),\n        map(([totalCount2, { lastIndex, lastSize }]) => {\n          return [\n            {\n              startIndex: totalCount2,\n              endIndex: lastIndex,\n              size: lastSize\n            }\n          ];\n        })\n      ),\n      sizeRanges\n    );\n    connect(fixedItemSize, defaultItemSize);\n    const trackItemSizes = statefulStreamFromEmitter(\n      pipe(\n        fixedItemSize,\n        map((size) => size === void 0)\n      ),\n      true\n    );\n    connect(\n      pipe(\n        defaultItemSize,\n        filter((value) => {\n          return value !== void 0 && empty(getValue(sizes).sizeTree);\n        }),\n        map((size) => [{ startIndex: 0, endIndex: 0, size }])\n      ),\n      sizeRanges\n    );\n    const listRefresh = streamFromEmitter(\n      pipe(\n        sizeRanges,\n        withLatestFrom(sizes),\n        scan(\n          ({ sizes: oldSizes }, [_, newSizes]) => {\n            return {\n              changed: newSizes !== oldSizes,\n              sizes: newSizes\n            };\n          },\n          { changed: false, sizes: initial }\n        ),\n        map((value) => value.changed)\n      )\n    );\n    subscribe(\n      pipe(\n        firstItemIndex,\n        scan(\n          (prev, next) => {\n            return { diff: prev.prev - next, prev: next };\n          },\n          { diff: 0, prev: 0 }\n        ),\n        map((val) => val.diff)\n      ),\n      (offset) => {\n        const { groupIndices: groupIndices2 } = getValue(sizes);\n        if (offset > 0) {\n          publish(recalcInProgress, true);\n          publish(unshiftWith, offset + affectedGroupCount(offset, groupIndices2));\n        } else if (offset < 0) {\n          const prevGroupIndicesValue = getValue(prevGroupIndices);\n          if (prevGroupIndicesValue.length > 0) {\n            offset -= affectedGroupCount(-offset, prevGroupIndicesValue);\n          }\n          publish(shiftWith, offset);\n        }\n      }\n    );\n    subscribe(pipe(firstItemIndex, withLatestFrom(log)), ([index, log2]) => {\n      if (index < 0) {\n        log2(\n          \"`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value\",\n          { firstItemIndex },\n          LogLevel.ERROR\n        );\n      }\n    });\n    const beforeUnshiftWith = streamFromEmitter(unshiftWith);\n    connect(\n      pipe(\n        unshiftWith,\n        withLatestFrom(sizes),\n        map(([unshiftWith2, sizes2]) => {\n          const groupedMode = sizes2.groupIndices.length > 0;\n          const initialRanges = [];\n          const defaultSize = sizes2.lastSize;\n          if (groupedMode) {\n            const firstGroupSize = find(sizes2.sizeTree, 0);\n            let prependedGroupItemsCount = 0;\n            let groupIndex = 0;\n            while (prependedGroupItemsCount < unshiftWith2) {\n              const theGroupIndex = sizes2.groupIndices[groupIndex];\n              const groupItemCount = sizes2.groupIndices.length === groupIndex + 1 ? Infinity : sizes2.groupIndices[groupIndex + 1] - theGroupIndex - 1;\n              initialRanges.push({\n                startIndex: theGroupIndex,\n                endIndex: theGroupIndex,\n                size: firstGroupSize\n              });\n              initialRanges.push({\n                startIndex: theGroupIndex + 1,\n                endIndex: theGroupIndex + 1 + groupItemCount - 1,\n                size: defaultSize\n              });\n              groupIndex++;\n              prependedGroupItemsCount += groupItemCount + 1;\n            }\n            const sizeTreeKV = walk(sizes2.sizeTree);\n            const firstGroupIsExpanded = prependedGroupItemsCount !== unshiftWith2;\n            if (firstGroupIsExpanded) {\n              sizeTreeKV.shift();\n            }\n            return sizeTreeKV.reduce(\n              (acc, { k: index, v: size }) => {\n                let ranges = acc.ranges;\n                if (acc.prevSize !== 0) {\n                  ranges = [\n                    ...acc.ranges,\n                    {\n                      startIndex: acc.prevIndex,\n                      endIndex: index + unshiftWith2 - 1,\n                      size: acc.prevSize\n                    }\n                  ];\n                }\n                return {\n                  ranges,\n                  prevIndex: index + unshiftWith2,\n                  prevSize: size\n                };\n              },\n              {\n                ranges: initialRanges,\n                prevIndex: unshiftWith2,\n                prevSize: 0\n              }\n            ).ranges;\n          }\n          return walk(sizes2.sizeTree).reduce(\n            (acc, { k: index, v: size }) => {\n              return {\n                ranges: [...acc.ranges, { startIndex: acc.prevIndex, endIndex: index + unshiftWith2 - 1, size: acc.prevSize }],\n                prevIndex: index + unshiftWith2,\n                prevSize: size\n              };\n            },\n            {\n              ranges: [],\n              prevIndex: 0,\n              prevSize: defaultSize\n            }\n          ).ranges;\n        })\n      ),\n      sizeRanges\n    );\n    const shiftWithOffset = streamFromEmitter(\n      pipe(\n        shiftWith,\n        withLatestFrom(sizes, gap),\n        map(([shiftWith2, { offsetTree }, gap2]) => {\n          const newFirstItemIndex = -shiftWith2;\n          return offsetOf(newFirstItemIndex, offsetTree, gap2);\n        })\n      )\n    );\n    connect(\n      pipe(\n        shiftWith,\n        withLatestFrom(sizes, gap),\n        map(([shiftWith2, sizes2, gap2]) => {\n          const groupedMode = sizes2.groupIndices.length > 0;\n          if (groupedMode) {\n            if (empty(sizes2.sizeTree)) {\n              return sizes2;\n            }\n            let newSizeTree = newTree();\n            const prevGroupIndicesValue = getValue(prevGroupIndices);\n            let removedItemsCount = 0;\n            let groupIndex = 0;\n            let groupOffset = 0;\n            while (removedItemsCount < -shiftWith2) {\n              groupOffset = prevGroupIndicesValue[groupIndex];\n              const groupItemCount = prevGroupIndicesValue[groupIndex + 1] - groupOffset - 1;\n              groupIndex++;\n              removedItemsCount += groupItemCount + 1;\n            }\n            newSizeTree = walk(sizes2.sizeTree).reduce((acc, { k, v }) => {\n              return insert(acc, Math.max(0, k + shiftWith2), v);\n            }, newSizeTree);\n            const aGroupIsShrunk = removedItemsCount !== -shiftWith2;\n            if (aGroupIsShrunk) {\n              const firstGroupSize = find(sizes2.sizeTree, groupOffset);\n              newSizeTree = insert(newSizeTree, 0, firstGroupSize);\n              const nextItemSize = findMaxKeyValue(sizes2.sizeTree, -shiftWith2 + 1)[1];\n              newSizeTree = insert(newSizeTree, 1, nextItemSize);\n            }\n            return {\n              ...sizes2,\n              sizeTree: newSizeTree,\n              ...createOffsetTree(sizes2.offsetTree, 0, newSizeTree, gap2)\n            };\n          } else {\n            const newSizeTree = walk(sizes2.sizeTree).reduce((acc, { k, v }) => {\n              return insert(acc, Math.max(0, k + shiftWith2), v);\n            }, newTree());\n            return {\n              ...sizes2,\n              sizeTree: newSizeTree,\n              ...createOffsetTree(sizes2.offsetTree, 0, newSizeTree, gap2)\n            };\n          }\n        })\n      ),\n      sizes\n    );\n    return {\n      // input\n      data,\n      totalCount,\n      sizeRanges,\n      groupIndices,\n      defaultItemSize,\n      fixedItemSize,\n      unshiftWith,\n      shiftWith,\n      shiftWithOffset,\n      beforeUnshiftWith,\n      firstItemIndex,\n      gap,\n      // output\n      sizes,\n      listRefresh,\n      statefulTotalCount,\n      trackItemSizes,\n      itemSize\n    };\n  },\n  tup(loggerSystem, recalcSystem),\n  { singleton: true }\n);\nconst SUPPORTS_SCROLL_TO_OPTIONS = typeof document !== \"undefined\" && \"scrollBehavior\" in document.documentElement.style;\nfunction normalizeIndexLocation(location) {\n  const result = typeof location === \"number\" ? { index: location } : location;\n  if (!result.align) {\n    result.align = \"start\";\n  }\n  if (!result.behavior || !SUPPORTS_SCROLL_TO_OPTIONS) {\n    result.behavior = \"auto\";\n  }\n  if (!result.offset) {\n    result.offset = 0;\n  }\n  return result;\n}\nconst scrollToIndexSystem = system(\n  ([\n    { sizes, totalCount, listRefresh, gap },\n    {\n      scrollingInProgress,\n      viewportHeight,\n      scrollTo,\n      smoothScrollTargetReached,\n      headerHeight,\n      footerHeight,\n      fixedHeaderHeight,\n      fixedFooterHeight\n    },\n    { log }\n  ]) => {\n    const scrollToIndex = stream();\n    const topListHeight = statefulStream(0);\n    let unsubscribeNextListRefresh = null;\n    let cleartTimeoutRef = null;\n    let unsubscribeListRefresh = null;\n    function cleanup() {\n      if (unsubscribeNextListRefresh) {\n        unsubscribeNextListRefresh();\n        unsubscribeNextListRefresh = null;\n      }\n      if (unsubscribeListRefresh) {\n        unsubscribeListRefresh();\n        unsubscribeListRefresh = null;\n      }\n      if (cleartTimeoutRef) {\n        clearTimeout(cleartTimeoutRef);\n        cleartTimeoutRef = null;\n      }\n      publish(scrollingInProgress, false);\n    }\n    connect(\n      pipe(\n        scrollToIndex,\n        withLatestFrom(sizes, viewportHeight, totalCount, topListHeight, headerHeight, footerHeight, log),\n        withLatestFrom(gap, fixedHeaderHeight, fixedFooterHeight),\n        map(\n          ([\n            [location, sizes2, viewportHeight2, totalCount2, topListHeight2, headerHeight2, footerHeight2, log2],\n            gap2,\n            fixedHeaderHeight2,\n            fixedFooterHeight2\n          ]) => {\n            const normalLocation = normalizeIndexLocation(location);\n            const { align, behavior, offset } = normalLocation;\n            const lastIndex = totalCount2 - 1;\n            const index = originalIndexFromLocation(normalLocation, sizes2, lastIndex);\n            let top = offsetOf(index, sizes2.offsetTree, gap2) + headerHeight2;\n            if (align === \"end\") {\n              top += fixedHeaderHeight2 + findMaxKeyValue(sizes2.sizeTree, index)[1] - viewportHeight2 + fixedFooterHeight2;\n              if (index === lastIndex) {\n                top += footerHeight2;\n              }\n            } else if (align === \"center\") {\n              top += (fixedHeaderHeight2 + findMaxKeyValue(sizes2.sizeTree, index)[1] - viewportHeight2 + fixedFooterHeight2) / 2;\n            } else {\n              top -= topListHeight2;\n            }\n            if (offset) {\n              top += offset;\n            }\n            const retry = (listChanged) => {\n              cleanup();\n              if (listChanged) {\n                log2(\"retrying to scroll to\", { location }, LogLevel.DEBUG);\n                publish(scrollToIndex, location);\n              } else {\n                log2(\"list did not change, scroll successful\", {}, LogLevel.DEBUG);\n              }\n            };\n            cleanup();\n            if (behavior === \"smooth\") {\n              let listChanged = false;\n              unsubscribeListRefresh = subscribe(listRefresh, (changed) => {\n                listChanged = listChanged || changed;\n              });\n              unsubscribeNextListRefresh = handleNext(smoothScrollTargetReached, () => {\n                retry(listChanged);\n              });\n            } else {\n              unsubscribeNextListRefresh = handleNext(pipe(listRefresh, watchChangesFor(150)), retry);\n            }\n            cleartTimeoutRef = setTimeout(() => {\n              cleanup();\n            }, 1200);\n            publish(scrollingInProgress, true);\n            log2(\"scrolling from index to\", { index, top, behavior }, LogLevel.DEBUG);\n            return { top, behavior };\n          }\n        )\n      ),\n      scrollTo\n    );\n    return {\n      scrollToIndex,\n      topListHeight\n    };\n  },\n  tup(sizeSystem, domIOSystem, loggerSystem),\n  { singleton: true }\n);\nfunction watchChangesFor(limit) {\n  return (done) => {\n    const timeoutRef = setTimeout(() => {\n      done(false);\n    }, limit);\n    return (value) => {\n      if (value) {\n        done(true);\n        clearTimeout(timeoutRef);\n      }\n    };\n  };\n}\nconst UP = \"up\";\nconst DOWN = \"down\";\nconst NONE$1 = \"none\";\nconst INITIAL_BOTTOM_STATE = {\n  atBottom: false,\n  notAtBottomBecause: \"NOT_SHOWING_LAST_ITEM\",\n  state: {\n    offsetBottom: 0,\n    scrollTop: 0,\n    viewportHeight: 0,\n    scrollHeight: 0\n  }\n};\nconst DEFAULT_AT_TOP_THRESHOLD = 0;\nconst stateFlagsSystem = system(([{ scrollContainerState, scrollTop, viewportHeight, headerHeight, footerHeight, scrollBy }]) => {\n  const isAtBottom = statefulStream(false);\n  const isAtTop = statefulStream(true);\n  const atBottomStateChange = stream();\n  const atTopStateChange = stream();\n  const atBottomThreshold = statefulStream(4);\n  const atTopThreshold = statefulStream(DEFAULT_AT_TOP_THRESHOLD);\n  const isScrolling = statefulStreamFromEmitter(\n    pipe(\n      merge(pipe(duc(scrollTop), skip(1), mapTo(true)), pipe(duc(scrollTop), skip(1), mapTo(false), debounceTime(100))),\n      distinctUntilChanged()\n    ),\n    false\n  );\n  const isScrollingBy = statefulStreamFromEmitter(\n    pipe(merge(pipe(scrollBy, mapTo(true)), pipe(scrollBy, mapTo(false), debounceTime(200))), distinctUntilChanged()),\n    false\n  );\n  connect(\n    pipe(\n      combineLatest(duc(scrollTop), duc(atTopThreshold)),\n      map(([top, atTopThreshold2]) => top <= atTopThreshold2),\n      distinctUntilChanged()\n    ),\n    isAtTop\n  );\n  connect(pipe(isAtTop, throttleTime(50)), atTopStateChange);\n  const atBottomState = streamFromEmitter(\n    pipe(\n      combineLatest(scrollContainerState, duc(viewportHeight), duc(headerHeight), duc(footerHeight), duc(atBottomThreshold)),\n      scan((current, [{ scrollTop: scrollTop2, scrollHeight }, viewportHeight2, _headerHeight, _footerHeight, atBottomThreshold2]) => {\n        const isAtBottom2 = scrollTop2 + viewportHeight2 - scrollHeight > -atBottomThreshold2;\n        const state = {\n          viewportHeight: viewportHeight2,\n          scrollTop: scrollTop2,\n          scrollHeight\n        };\n        if (isAtBottom2) {\n          let atBottomBecause;\n          let scrollTopDelta;\n          if (scrollTop2 > current.state.scrollTop) {\n            atBottomBecause = \"SCROLLED_DOWN\";\n            scrollTopDelta = current.state.scrollTop - scrollTop2;\n          } else {\n            atBottomBecause = \"SIZE_DECREASED\";\n            scrollTopDelta = current.state.scrollTop - scrollTop2 || current.scrollTopDelta;\n          }\n          return {\n            atBottom: true,\n            state,\n            atBottomBecause,\n            scrollTopDelta\n          };\n        }\n        let notAtBottomBecause;\n        if (state.scrollHeight > current.state.scrollHeight) {\n          notAtBottomBecause = \"SIZE_INCREASED\";\n        } else if (viewportHeight2 < current.state.viewportHeight) {\n          notAtBottomBecause = \"VIEWPORT_HEIGHT_DECREASING\";\n        } else if (scrollTop2 < current.state.scrollTop) {\n          notAtBottomBecause = \"SCROLLING_UPWARDS\";\n        } else {\n          notAtBottomBecause = \"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM\";\n        }\n        return {\n          atBottom: false,\n          notAtBottomBecause,\n          state\n        };\n      }, INITIAL_BOTTOM_STATE),\n      distinctUntilChanged((prev, next) => {\n        return prev && prev.atBottom === next.atBottom;\n      })\n    )\n  );\n  const lastJumpDueToItemResize = statefulStreamFromEmitter(\n    pipe(\n      scrollContainerState,\n      scan(\n        (current, { scrollTop: scrollTop2, scrollHeight, viewportHeight: viewportHeight2 }) => {\n          if (!approximatelyEqual(current.scrollHeight, scrollHeight)) {\n            const atBottom = scrollHeight - (scrollTop2 + viewportHeight2) < 1;\n            if (current.scrollTop !== scrollTop2 && atBottom) {\n              return {\n                scrollHeight,\n                scrollTop: scrollTop2,\n                jump: current.scrollTop - scrollTop2,\n                changed: true\n              };\n            } else {\n              return {\n                scrollHeight,\n                scrollTop: scrollTop2,\n                jump: 0,\n                changed: true\n              };\n            }\n          } else {\n            return {\n              scrollTop: scrollTop2,\n              scrollHeight,\n              jump: 0,\n              changed: false\n            };\n          }\n        },\n        { scrollHeight: 0, jump: 0, scrollTop: 0, changed: false }\n      ),\n      filter((value) => value.changed),\n      map((value) => value.jump)\n    ),\n    0\n  );\n  connect(\n    pipe(\n      atBottomState,\n      map((state) => state.atBottom)\n    ),\n    isAtBottom\n  );\n  connect(pipe(isAtBottom, throttleTime(50)), atBottomStateChange);\n  const scrollDirection = statefulStream(DOWN);\n  connect(\n    pipe(\n      scrollContainerState,\n      map(({ scrollTop: scrollTop2 }) => scrollTop2),\n      distinctUntilChanged(),\n      scan(\n        (acc, scrollTop2) => {\n          if (getValue(isScrollingBy)) {\n            return { direction: acc.direction, prevScrollTop: scrollTop2 };\n          }\n          return { direction: scrollTop2 < acc.prevScrollTop ? UP : DOWN, prevScrollTop: scrollTop2 };\n        },\n        { direction: DOWN, prevScrollTop: 0 }\n      ),\n      map((value) => value.direction)\n    ),\n    scrollDirection\n  );\n  connect(pipe(scrollContainerState, throttleTime(50), mapTo(NONE$1)), scrollDirection);\n  const scrollVelocity = statefulStream(0);\n  connect(\n    pipe(\n      isScrolling,\n      filter((value) => !value),\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n      mapTo(0)\n    ),\n    scrollVelocity\n  );\n  connect(\n    pipe(\n      scrollTop,\n      throttleTime(100),\n      withLatestFrom(isScrolling),\n      filter(([_, isScrolling2]) => !!isScrolling2),\n      scan(([_, prev], [next]) => [prev, next], [0, 0]),\n      map(([prev, next]) => next - prev)\n    ),\n    scrollVelocity\n  );\n  return {\n    isScrolling,\n    isAtTop,\n    isAtBottom,\n    atBottomState,\n    atTopStateChange,\n    atBottomStateChange,\n    scrollDirection,\n    atBottomThreshold,\n    atTopThreshold,\n    scrollVelocity,\n    lastJumpDueToItemResize\n  };\n}, tup(domIOSystem));\nconst propsReadySystem = system(\n  ([{ log }]) => {\n    const propsReady = statefulStream(false);\n    const didMount = streamFromEmitter(\n      pipe(\n        propsReady,\n        filter((ready) => ready),\n        distinctUntilChanged()\n      )\n    );\n    subscribe(propsReady, (value) => {\n      value && getValue(log)(\"props updated\", {}, LogLevel.DEBUG);\n    });\n    return { propsReady, didMount };\n  },\n  tup(loggerSystem),\n  { singleton: true }\n);\nfunction skipFrames(frameCount, callback) {\n  if (frameCount == 0) {\n    callback();\n  } else {\n    requestAnimationFrame(() => skipFrames(frameCount - 1, callback));\n  }\n}\nfunction getInitialTopMostItemIndexNumber(location, totalCount) {\n  const lastIndex = totalCount - 1;\n  const index = typeof location === \"number\" ? location : location.index === \"LAST\" ? lastIndex : location.index;\n  return index;\n}\nconst initialTopMostItemIndexSystem = system(\n  ([{ sizes, listRefresh, defaultItemSize }, { scrollTop }, { scrollToIndex }, { didMount }]) => {\n    const scrolledToInitialItem = statefulStream(true);\n    const initialTopMostItemIndex = statefulStream(0);\n    const scrollScheduled = statefulStream(false);\n    connect(\n      pipe(\n        didMount,\n        withLatestFrom(initialTopMostItemIndex),\n        filter(([_, location]) => !!location),\n        mapTo(false)\n      ),\n      scrolledToInitialItem\n    );\n    subscribe(\n      pipe(\n        combineLatest(listRefresh, didMount),\n        withLatestFrom(scrolledToInitialItem, sizes, defaultItemSize, scrollScheduled),\n        filter(([[, didMount2], scrolledToInitialItem2, { sizeTree }, defaultItemSize2, scrollScheduled2]) => {\n          return didMount2 && (!empty(sizeTree) || isDefined(defaultItemSize2)) && !scrolledToInitialItem2 && !scrollScheduled2;\n        }),\n        withLatestFrom(initialTopMostItemIndex)\n      ),\n      ([, initialTopMostItemIndex2]) => {\n        publish(scrollScheduled, true);\n        skipFrames(3, () => {\n          handleNext(scrollTop, () => publish(scrolledToInitialItem, true));\n          publish(scrollToIndex, initialTopMostItemIndex2);\n        });\n      }\n    );\n    return {\n      scrolledToInitialItem,\n      initialTopMostItemIndex\n    };\n  },\n  tup(sizeSystem, domIOSystem, scrollToIndexSystem, propsReadySystem),\n  { singleton: true }\n);\nfunction normalizeFollowOutput(follow) {\n  if (!follow) {\n    return false;\n  }\n  return follow === \"smooth\" ? \"smooth\" : \"auto\";\n}\nconst behaviorFromFollowOutput = (follow, isAtBottom) => {\n  if (typeof follow === \"function\") {\n    return normalizeFollowOutput(follow(isAtBottom));\n  }\n  return isAtBottom && normalizeFollowOutput(follow);\n};\nconst followOutputSystem = system(\n  ([\n    { totalCount, listRefresh },\n    { isAtBottom, atBottomState },\n    { scrollToIndex },\n    { scrolledToInitialItem },\n    { propsReady, didMount },\n    { log },\n    { scrollingInProgress }\n  ]) => {\n    const followOutput = statefulStream(false);\n    const autoscrollToBottom = stream();\n    let pendingScrollHandle = null;\n    function scrollToBottom(followOutputBehavior) {\n      publish(scrollToIndex, {\n        index: \"LAST\",\n        align: \"end\",\n        behavior: followOutputBehavior\n      });\n    }\n    subscribe(\n      pipe(\n        combineLatest(pipe(duc(totalCount), skip(1)), didMount),\n        withLatestFrom(duc(followOutput), isAtBottom, scrolledToInitialItem, scrollingInProgress),\n        map(([[totalCount2, didMount2], followOutput2, isAtBottom2, scrolledToInitialItem2, scrollingInProgress2]) => {\n          let shouldFollow = didMount2 && scrolledToInitialItem2;\n          let followOutputBehavior = \"auto\";\n          if (shouldFollow) {\n            followOutputBehavior = behaviorFromFollowOutput(followOutput2, isAtBottom2 || scrollingInProgress2);\n            shouldFollow = shouldFollow && !!followOutputBehavior;\n          }\n          return { totalCount: totalCount2, shouldFollow, followOutputBehavior };\n        }),\n        filter(({ shouldFollow }) => shouldFollow)\n      ),\n      ({ totalCount: totalCount2, followOutputBehavior }) => {\n        if (pendingScrollHandle) {\n          pendingScrollHandle();\n          pendingScrollHandle = null;\n        }\n        pendingScrollHandle = handleNext(listRefresh, () => {\n          getValue(log)(\"following output to \", { totalCount: totalCount2 }, LogLevel.DEBUG);\n          scrollToBottom(followOutputBehavior);\n          pendingScrollHandle = null;\n        });\n      }\n    );\n    function trapNextSizeIncrease(followOutput2) {\n      const cancel = handleNext(atBottomState, (state) => {\n        if (followOutput2 && !state.atBottom && state.notAtBottomBecause === \"SIZE_INCREASED\" && !pendingScrollHandle) {\n          getValue(log)(\"scrolling to bottom due to increased size\", {}, LogLevel.DEBUG);\n          scrollToBottom(\"auto\");\n        }\n      });\n      setTimeout(cancel, 100);\n    }\n    subscribe(\n      pipe(\n        combineLatest(duc(followOutput), totalCount, propsReady),\n        filter(([follow, , ready]) => follow && ready),\n        scan(\n          ({ value }, [, next]) => {\n            return { refreshed: value === next, value: next };\n          },\n          { refreshed: false, value: 0 }\n        ),\n        filter(({ refreshed }) => refreshed),\n        withLatestFrom(followOutput, totalCount)\n      ),\n      ([, followOutput2]) => {\n        trapNextSizeIncrease(followOutput2 !== false);\n      }\n    );\n    subscribe(autoscrollToBottom, () => {\n      trapNextSizeIncrease(getValue(followOutput) !== false);\n    });\n    subscribe(combineLatest(duc(followOutput), atBottomState), ([followOutput2, state]) => {\n      if (followOutput2 && !state.atBottom && state.notAtBottomBecause === \"VIEWPORT_HEIGHT_DECREASING\") {\n        scrollToBottom(\"auto\");\n      }\n    });\n    return { followOutput, autoscrollToBottom };\n  },\n  tup(sizeSystem, stateFlagsSystem, scrollToIndexSystem, initialTopMostItemIndexSystem, propsReadySystem, loggerSystem, domIOSystem)\n);\nfunction groupCountsToIndicesAndCount(counts) {\n  return counts.reduce(\n    (acc, groupCount) => {\n      acc.groupIndices.push(acc.totalCount);\n      acc.totalCount += groupCount + 1;\n      return acc;\n    },\n    {\n      totalCount: 0,\n      groupIndices: []\n    }\n  );\n}\nconst groupedListSystem = system(([{ totalCount, groupIndices, sizes }, { scrollTop, headerHeight }]) => {\n  const groupCounts = stream();\n  const topItemsIndexes = stream();\n  const groupIndicesAndCount = streamFromEmitter(pipe(groupCounts, map(groupCountsToIndicesAndCount)));\n  connect(\n    pipe(\n      groupIndicesAndCount,\n      map((value) => value.totalCount)\n    ),\n    totalCount\n  );\n  connect(\n    pipe(\n      groupIndicesAndCount,\n      map((value) => value.groupIndices)\n    ),\n    groupIndices\n  );\n  connect(\n    pipe(\n      combineLatest(scrollTop, sizes, headerHeight),\n      filter(([_, sizes2]) => hasGroups(sizes2)),\n      map(([scrollTop2, state, headerHeight2]) => findMaxKeyValue(state.groupOffsetTree, Math.max(scrollTop2 - headerHeight2, 0), \"v\")[0]),\n      distinctUntilChanged(),\n      map((index) => [index])\n    ),\n    topItemsIndexes\n  );\n  return { groupCounts, topItemsIndexes };\n}, tup(sizeSystem, domIOSystem));\nfunction tupleComparator(prev, current) {\n  return !!(prev && prev[0] === current[0] && prev[1] === current[1]);\n}\nfunction rangeComparator(prev, next) {\n  return !!(prev && prev.startIndex === next.startIndex && prev.endIndex === next.endIndex);\n}\nconst TOP = \"top\";\nconst BOTTOM = \"bottom\";\nconst NONE = \"none\";\nfunction getOverscan(overscan, end, direction) {\n  if (typeof overscan === \"number\") {\n    return direction === UP && end === TOP || direction === DOWN && end === BOTTOM ? overscan : 0;\n  } else {\n    if (direction === UP) {\n      return end === TOP ? overscan.main : overscan.reverse;\n    } else {\n      return end === BOTTOM ? overscan.main : overscan.reverse;\n    }\n  }\n}\nfunction getViewportIncrease(value, end) {\n  return typeof value === \"number\" ? value : value[end] || 0;\n}\nconst sizeRangeSystem = system(\n  ([{ scrollTop, viewportHeight, deviation, headerHeight, fixedHeaderHeight }]) => {\n    const listBoundary = stream();\n    const topListHeight = statefulStream(0);\n    const increaseViewportBy = statefulStream(0);\n    const overscan = statefulStream(0);\n    const visibleRange = statefulStreamFromEmitter(\n      pipe(\n        combineLatest(\n          duc(scrollTop),\n          duc(viewportHeight),\n          duc(headerHeight),\n          duc(listBoundary, tupleComparator),\n          duc(overscan),\n          duc(topListHeight),\n          duc(fixedHeaderHeight),\n          duc(deviation),\n          duc(increaseViewportBy)\n        ),\n        map(\n          ([\n            scrollTop2,\n            viewportHeight2,\n            headerHeight2,\n            [listTop, listBottom],\n            overscan2,\n            topListHeight2,\n            fixedHeaderHeight2,\n            deviation2,\n            increaseViewportBy2\n          ]) => {\n            const top = scrollTop2 - deviation2;\n            const stickyHeaderHeight = topListHeight2 + fixedHeaderHeight2;\n            const headerVisible = Math.max(headerHeight2 - top, 0);\n            let direction = NONE;\n            const topViewportAddition = getViewportIncrease(increaseViewportBy2, TOP);\n            const bottomViewportAddition = getViewportIncrease(increaseViewportBy2, BOTTOM);\n            listTop -= deviation2;\n            listTop += headerHeight2 + fixedHeaderHeight2;\n            listBottom += headerHeight2 + fixedHeaderHeight2;\n            listBottom -= deviation2;\n            if (listTop > scrollTop2 + stickyHeaderHeight - topViewportAddition) {\n              direction = UP;\n            }\n            if (listBottom < scrollTop2 - headerVisible + viewportHeight2 + bottomViewportAddition) {\n              direction = DOWN;\n            }\n            if (direction !== NONE) {\n              return [\n                Math.max(top - headerHeight2 - getOverscan(overscan2, TOP, direction) - topViewportAddition, 0),\n                top - headerVisible - fixedHeaderHeight2 + viewportHeight2 + getOverscan(overscan2, BOTTOM, direction) + bottomViewportAddition\n              ];\n            }\n            return null;\n          }\n        ),\n        filter((value) => value != null),\n        distinctUntilChanged(tupleComparator)\n      ),\n      [0, 0]\n    );\n    return {\n      // input\n      listBoundary,\n      overscan,\n      topListHeight,\n      increaseViewportBy,\n      // output\n      visibleRange\n    };\n  },\n  tup(domIOSystem),\n  { singleton: true }\n);\nfunction probeItemSet(index, sizes, data) {\n  if (hasGroups(sizes)) {\n    const itemIndex = originalIndexFromItemIndex(index, sizes);\n    const groupIndex = findMaxKeyValue(sizes.groupOffsetTree, itemIndex)[0];\n    return [\n      { index: groupIndex, size: 0, offset: 0 },\n      { index: itemIndex, size: 0, offset: 0, data: data && data[0] }\n    ];\n  }\n  return [{ index, size: 0, offset: 0, data: data && data[0] }];\n}\nconst EMPTY_LIST_STATE = {\n  items: [],\n  topItems: [],\n  offsetTop: 0,\n  offsetBottom: 0,\n  top: 0,\n  bottom: 0,\n  topListHeight: 0,\n  totalCount: 0,\n  firstItemIndex: 0\n};\nfunction transposeItems(items, sizes, firstItemIndex) {\n  if (items.length === 0) {\n    return [];\n  }\n  if (!hasGroups(sizes)) {\n    return items.map((item) => ({ ...item, index: item.index + firstItemIndex, originalIndex: item.index }));\n  }\n  const startIndex = items[0].index;\n  const endIndex = items[items.length - 1].index;\n  const transposedItems = [];\n  const groupRanges = rangesWithin(sizes.groupOffsetTree, startIndex, endIndex);\n  let currentRange = void 0;\n  let currentGroupIndex = 0;\n  for (const item of items) {\n    if (!currentRange || currentRange.end < item.index) {\n      currentRange = groupRanges.shift();\n      currentGroupIndex = sizes.groupIndices.indexOf(currentRange.start);\n    }\n    let transposedItem;\n    if (item.index === currentRange.start) {\n      transposedItem = {\n        type: \"group\",\n        index: currentGroupIndex\n      };\n    } else {\n      transposedItem = {\n        index: item.index - (currentGroupIndex + 1) + firstItemIndex,\n        groupIndex: currentGroupIndex\n      };\n    }\n    transposedItems.push({\n      ...transposedItem,\n      size: item.size,\n      offset: item.offset,\n      originalIndex: item.index,\n      data: item.data\n    });\n  }\n  return transposedItems;\n}\nfunction buildListState(items, topItems, totalCount, gap, sizes, firstItemIndex) {\n  const { lastSize, lastOffset, lastIndex } = sizes;\n  let offsetTop = 0;\n  let bottom = 0;\n  if (items.length > 0) {\n    offsetTop = items[0].offset;\n    const lastItem = items[items.length - 1];\n    bottom = lastItem.offset + lastItem.size;\n  }\n  const itemCount = totalCount - lastIndex;\n  const total = lastOffset + itemCount * lastSize + (itemCount - 1) * gap;\n  const top = offsetTop;\n  const offsetBottom = total - bottom;\n  return {\n    items: transposeItems(items, sizes, firstItemIndex),\n    topItems: transposeItems(topItems, sizes, firstItemIndex),\n    topListHeight: topItems.reduce((height, item) => item.size + height, 0),\n    offsetTop,\n    offsetBottom,\n    top,\n    bottom,\n    totalCount,\n    firstItemIndex\n  };\n}\nconst listStateSystem = system(\n  ([\n    { sizes, totalCount, data, firstItemIndex, gap },\n    groupedListSystem2,\n    { visibleRange, listBoundary, topListHeight: rangeTopListHeight },\n    { scrolledToInitialItem, initialTopMostItemIndex },\n    { topListHeight },\n    stateFlags,\n    { didMount },\n    { recalcInProgress }\n  ]) => {\n    const topItemsIndexes = statefulStream([]);\n    const itemsRendered = stream();\n    connect(groupedListSystem2.topItemsIndexes, topItemsIndexes);\n    const listState = statefulStreamFromEmitter(\n      pipe(\n        combineLatest(\n          didMount,\n          recalcInProgress,\n          duc(visibleRange, tupleComparator),\n          duc(totalCount),\n          duc(sizes),\n          duc(initialTopMostItemIndex),\n          scrolledToInitialItem,\n          duc(topItemsIndexes),\n          duc(firstItemIndex),\n          duc(gap),\n          data\n        ),\n        filter(([mount, recalcInProgress2, , totalCount2, , , , , , , data2]) => {\n          const dataChangeInProgress = data2 && data2.length !== totalCount2;\n          return mount && !recalcInProgress2 && !dataChangeInProgress;\n        }),\n        map(\n          ([\n            ,\n            ,\n            [startOffset, endOffset],\n            totalCount2,\n            sizes2,\n            initialTopMostItemIndex2,\n            scrolledToInitialItem2,\n            topItemsIndexes2,\n            firstItemIndex2,\n            gap2,\n            data2\n          ]) => {\n            const sizesValue = sizes2;\n            const { sizeTree, offsetTree } = sizesValue;\n            if (totalCount2 === 0 || startOffset === 0 && endOffset === 0) {\n              return { ...EMPTY_LIST_STATE, totalCount: totalCount2 };\n            }\n            if (empty(sizeTree)) {\n              return buildListState(\n                probeItemSet(getInitialTopMostItemIndexNumber(initialTopMostItemIndex2, totalCount2), sizesValue, data2),\n                [],\n                totalCount2,\n                gap2,\n                sizesValue,\n                firstItemIndex2\n              );\n            }\n            const topItems = [];\n            if (topItemsIndexes2.length > 0) {\n              const startIndex = topItemsIndexes2[0];\n              const endIndex = topItemsIndexes2[topItemsIndexes2.length - 1];\n              let offset = 0;\n              for (const range of rangesWithin(sizeTree, startIndex, endIndex)) {\n                const size = range.value;\n                const rangeStartIndex = Math.max(range.start, startIndex);\n                const rangeEndIndex = Math.min(range.end, endIndex);\n                for (let i = rangeStartIndex; i <= rangeEndIndex; i++) {\n                  topItems.push({ index: i, size, offset, data: data2 && data2[i] });\n                  offset += size;\n                }\n              }\n            }\n            if (!scrolledToInitialItem2) {\n              return buildListState([], topItems, totalCount2, gap2, sizesValue, firstItemIndex2);\n            }\n            const minStartIndex = topItemsIndexes2.length > 0 ? topItemsIndexes2[topItemsIndexes2.length - 1] + 1 : 0;\n            const offsetPointRanges = rangesWithinOffsets(offsetTree, startOffset, endOffset, minStartIndex);\n            if (offsetPointRanges.length === 0) {\n              return null;\n            }\n            const maxIndex = totalCount2 - 1;\n            const items = tap([], (result) => {\n              for (const range of offsetPointRanges) {\n                const point = range.value;\n                let offset = point.offset;\n                let rangeStartIndex = range.start;\n                const size = point.size;\n                if (point.offset < startOffset) {\n                  rangeStartIndex += Math.floor((startOffset - point.offset + gap2) / (size + gap2));\n                  const itemCount = rangeStartIndex - range.start;\n                  offset += itemCount * size + itemCount * gap2;\n                }\n                if (rangeStartIndex < minStartIndex) {\n                  offset += (minStartIndex - rangeStartIndex) * size;\n                  rangeStartIndex = minStartIndex;\n                }\n                const endIndex = Math.min(range.end, maxIndex);\n                for (let i = rangeStartIndex; i <= endIndex; i++) {\n                  if (offset >= endOffset) {\n                    break;\n                  }\n                  result.push({ index: i, size, offset, data: data2 && data2[i] });\n                  offset += size + gap2;\n                }\n              }\n            });\n            return buildListState(items, topItems, totalCount2, gap2, sizesValue, firstItemIndex2);\n          }\n        ),\n        //@ts-expect-error filter needs to be fixed\n        filter((value) => value !== null),\n        distinctUntilChanged()\n      ),\n      EMPTY_LIST_STATE\n    );\n    connect(\n      pipe(\n        data,\n        filter(isDefined),\n        map((data2) => data2 == null ? void 0 : data2.length)\n      ),\n      totalCount\n    );\n    connect(\n      pipe(\n        listState,\n        map((value) => value.topListHeight)\n      ),\n      topListHeight\n    );\n    connect(topListHeight, rangeTopListHeight);\n    connect(\n      pipe(\n        listState,\n        map((state) => [state.top, state.bottom])\n      ),\n      listBoundary\n    );\n    connect(\n      pipe(\n        listState,\n        map((state) => state.items)\n      ),\n      itemsRendered\n    );\n    const endReached = streamFromEmitter(\n      pipe(\n        listState,\n        filter(({ items }) => items.length > 0),\n        withLatestFrom(totalCount, data),\n        filter(([{ items }, totalCount2]) => items[items.length - 1].originalIndex === totalCount2 - 1),\n        map(([, totalCount2, data2]) => [totalCount2 - 1, data2]),\n        distinctUntilChanged(tupleComparator),\n        map(([count]) => count)\n      )\n    );\n    const startReached = streamFromEmitter(\n      pipe(\n        listState,\n        throttleTime(200),\n        filter(({ items, topItems }) => {\n          return items.length > 0 && items[0].originalIndex === topItems.length;\n        }),\n        map(({ items }) => items[0].index),\n        distinctUntilChanged()\n      )\n    );\n    const rangeChanged = streamFromEmitter(\n      pipe(\n        listState,\n        filter(({ items }) => items.length > 0),\n        map(({ items }) => {\n          let startIndex = 0;\n          let endIndex = items.length - 1;\n          while (items[startIndex].type === \"group\" && startIndex < endIndex) {\n            startIndex++;\n          }\n          while (items[endIndex].type === \"group\" && endIndex > startIndex) {\n            endIndex--;\n          }\n          return {\n            startIndex: items[startIndex].index,\n            endIndex: items[endIndex].index\n          };\n        }),\n        distinctUntilChanged(rangeComparator)\n      )\n    );\n    return { listState, topItemsIndexes, endReached, startReached, rangeChanged, itemsRendered, ...stateFlags };\n  },\n  tup(\n    sizeSystem,\n    groupedListSystem,\n    sizeRangeSystem,\n    initialTopMostItemIndexSystem,\n    scrollToIndexSystem,\n    stateFlagsSystem,\n    propsReadySystem,\n    recalcSystem\n  ),\n  { singleton: true }\n);\nconst initialItemCountSystem = system(\n  ([{ sizes, firstItemIndex, data, gap }, { listState }, { didMount }]) => {\n    const initialItemCount = statefulStream(0);\n    connect(\n      pipe(\n        didMount,\n        withLatestFrom(initialItemCount),\n        filter(([, count]) => count !== 0),\n        withLatestFrom(sizes, firstItemIndex, gap, data),\n        map(([[, count], sizes2, firstItemIndex2, gap2, data2 = []]) => {\n          let includedGroupsCount = 0;\n          if (sizes2.groupIndices.length > 0) {\n            for (const index of sizes2.groupIndices) {\n              if (index - includedGroupsCount >= count) {\n                break;\n              }\n              includedGroupsCount++;\n            }\n          }\n          const adjustedCount = count + includedGroupsCount;\n          const items = Array.from({ length: adjustedCount }).map((_, index) => ({ index, size: 0, offset: 0, data: data2[index] }));\n          return buildListState(items, [], adjustedCount, gap2, sizes2, firstItemIndex2);\n        })\n      ),\n      listState\n    );\n    return { initialItemCount };\n  },\n  tup(sizeSystem, listStateSystem, propsReadySystem),\n  { singleton: true }\n);\nconst scrollSeekSystem = system(\n  ([{ scrollVelocity }]) => {\n    const isSeeking = statefulStream(false);\n    const rangeChanged = stream();\n    const scrollSeekConfiguration = statefulStream(false);\n    connect(\n      pipe(\n        scrollVelocity,\n        withLatestFrom(scrollSeekConfiguration, isSeeking, rangeChanged),\n        filter(([_, config]) => !!config),\n        map(([speed, config, isSeeking2, range]) => {\n          const { exit, enter } = config;\n          if (isSeeking2) {\n            if (exit(speed, range)) {\n              return false;\n            }\n          } else {\n            if (enter(speed, range)) {\n              return true;\n            }\n          }\n          return isSeeking2;\n        }),\n        distinctUntilChanged()\n      ),\n      isSeeking\n    );\n    subscribe(\n      pipe(combineLatest(isSeeking, scrollVelocity, rangeChanged), withLatestFrom(scrollSeekConfiguration)),\n      ([[isSeeking2, velocity, range], config]) => isSeeking2 && config && config.change && config.change(velocity, range)\n    );\n    return { isSeeking, scrollSeekConfiguration, scrollVelocity, scrollSeekRangeChanged: rangeChanged };\n  },\n  tup(stateFlagsSystem),\n  { singleton: true }\n);\nconst topItemCountSystem = system(([{ topItemsIndexes }]) => {\n  const topItemCount = statefulStream(0);\n  connect(\n    pipe(\n      topItemCount,\n      filter((length) => length > 0),\n      map((length) => Array.from({ length }).map((_, index) => index))\n    ),\n    topItemsIndexes\n  );\n  return { topItemCount };\n}, tup(listStateSystem));\nconst totalListHeightSystem = system(\n  ([{ footerHeight, headerHeight, fixedHeaderHeight, fixedFooterHeight }, { listState }]) => {\n    const totalListHeightChanged = stream();\n    const totalListHeight = statefulStreamFromEmitter(\n      pipe(\n        combineLatest(footerHeight, fixedFooterHeight, headerHeight, fixedHeaderHeight, listState),\n        map(([footerHeight2, fixedFooterHeight2, headerHeight2, fixedHeaderHeight2, listState2]) => {\n          return footerHeight2 + fixedFooterHeight2 + headerHeight2 + fixedHeaderHeight2 + listState2.offsetBottom + listState2.bottom;\n        })\n      ),\n      0\n    );\n    connect(duc(totalListHeight), totalListHeightChanged);\n    return { totalListHeight, totalListHeightChanged };\n  },\n  tup(domIOSystem, listStateSystem),\n  { singleton: true }\n);\nfunction simpleMemoize(func) {\n  let called = false;\n  let result;\n  return () => {\n    if (!called) {\n      called = true;\n      result = func();\n    }\n    return result;\n  };\n}\nconst isMobileSafari = simpleMemoize(() => {\n  return /iP(ad|od|hone)/i.test(navigator.userAgent) && /WebKit/i.test(navigator.userAgent);\n});\nconst upwardScrollFixSystem = system(\n  ([\n    { scrollBy, scrollTop, deviation, scrollingInProgress },\n    { isScrolling, isAtBottom, scrollDirection, lastJumpDueToItemResize },\n    { listState },\n    { beforeUnshiftWith, shiftWithOffset, sizes, gap },\n    { log },\n    { recalcInProgress }\n  ]) => {\n    const deviationOffset = streamFromEmitter(\n      pipe(\n        listState,\n        withLatestFrom(lastJumpDueToItemResize),\n        scan(\n          ([, prevItems, prevTotalCount, prevTotalHeight], [{ items, totalCount, bottom, offsetBottom }, lastJumpDueToItemResize2]) => {\n            const totalHeight = bottom + offsetBottom;\n            let newDev = 0;\n            if (prevTotalCount === totalCount) {\n              if (prevItems.length > 0 && items.length > 0) {\n                const atStart = items[0].originalIndex === 0 && prevItems[0].originalIndex === 0;\n                if (!atStart) {\n                  newDev = totalHeight - prevTotalHeight;\n                  if (newDev !== 0) {\n                    newDev += lastJumpDueToItemResize2;\n                  }\n                }\n              }\n            }\n            return [newDev, items, totalCount, totalHeight];\n          },\n          [0, [], 0, 0]\n        ),\n        filter(([amount]) => amount !== 0),\n        withLatestFrom(scrollTop, scrollDirection, scrollingInProgress, isAtBottom, log, recalcInProgress),\n        filter(([, scrollTop2, scrollDirection2, scrollingInProgress2, , , recalcInProgress2]) => {\n          return !recalcInProgress2 && !scrollingInProgress2 && scrollTop2 !== 0 && scrollDirection2 === UP;\n        }),\n        map(([[amount], , , , , log2]) => {\n          log2(\"Upward scrolling compensation\", { amount }, LogLevel.DEBUG);\n          return amount;\n        })\n      )\n    );\n    function scrollByWith(offset) {\n      if (offset > 0) {\n        publish(scrollBy, { top: -offset, behavior: \"auto\" });\n        publish(deviation, 0);\n      } else {\n        publish(deviation, 0);\n        publish(scrollBy, { top: -offset, behavior: \"auto\" });\n      }\n    }\n    subscribe(pipe(deviationOffset, withLatestFrom(deviation, isScrolling)), ([offset, deviationAmount, isScrolling2]) => {\n      if (isScrolling2 && isMobileSafari()) {\n        publish(deviation, deviationAmount - offset);\n      } else {\n        scrollByWith(-offset);\n      }\n    });\n    subscribe(\n      pipe(\n        combineLatest(statefulStreamFromEmitter(isScrolling, false), deviation, recalcInProgress),\n        filter(([is, deviation2, recalc]) => !is && !recalc && deviation2 !== 0),\n        map(([_, deviation2]) => deviation2),\n        throttleTime(1)\n      ),\n      scrollByWith\n    );\n    connect(\n      pipe(\n        shiftWithOffset,\n        map((offset) => {\n          return { top: -offset };\n        })\n      ),\n      scrollBy\n    );\n    subscribe(\n      pipe(\n        beforeUnshiftWith,\n        withLatestFrom(sizes, gap),\n        map(([offset, { lastSize: defaultItemSize, groupIndices, sizeTree }, gap2]) => {\n          function getItemOffset(itemCount) {\n            return itemCount * (defaultItemSize + gap2);\n          }\n          if (groupIndices.length === 0) {\n            return getItemOffset(offset);\n          } else {\n            let amount = 0;\n            const defaultGroupSize = find(sizeTree, 0);\n            let recognizedOffsetItems = 0;\n            let groupIndex = 0;\n            while (recognizedOffsetItems < offset) {\n              recognizedOffsetItems++;\n              amount += defaultGroupSize;\n              let groupItemCount = groupIndices.length === groupIndex + 1 ? Infinity : groupIndices[groupIndex + 1] - groupIndices[groupIndex] - 1;\n              if (recognizedOffsetItems + groupItemCount > offset) {\n                amount -= defaultGroupSize;\n                groupItemCount = offset - recognizedOffsetItems + 1;\n              }\n              recognizedOffsetItems += groupItemCount;\n              amount += getItemOffset(groupItemCount);\n              groupIndex++;\n            }\n            return amount;\n          }\n        })\n      ),\n      (offset) => {\n        publish(deviation, offset);\n        requestAnimationFrame(() => {\n          publish(scrollBy, { top: offset });\n          requestAnimationFrame(() => {\n            publish(deviation, 0);\n            publish(recalcInProgress, false);\n          });\n        });\n      }\n    );\n    return { deviation };\n  },\n  tup(domIOSystem, stateFlagsSystem, listStateSystem, sizeSystem, loggerSystem, recalcSystem)\n);\nconst initialScrollTopSystem = system(\n  ([{ didMount }, { scrollTo }, { listState }]) => {\n    const initialScrollTop = statefulStream(0);\n    subscribe(\n      pipe(\n        didMount,\n        withLatestFrom(initialScrollTop),\n        filter(([, offset]) => offset !== 0),\n        map(([, offset]) => ({ top: offset }))\n      ),\n      (location) => {\n        handleNext(\n          pipe(\n            listState,\n            skip(1),\n            filter((state) => state.items.length > 1)\n          ),\n          () => {\n            requestAnimationFrame(() => {\n              publish(scrollTo, location);\n            });\n          }\n        );\n      }\n    );\n    return {\n      initialScrollTop\n    };\n  },\n  tup(propsReadySystem, domIOSystem, listStateSystem),\n  { singleton: true }\n);\nconst alignToBottomSystem = system(\n  ([{ viewportHeight }, { totalListHeight }]) => {\n    const alignToBottom = statefulStream(false);\n    const paddingTopAddition = statefulStreamFromEmitter(\n      pipe(\n        combineLatest(alignToBottom, viewportHeight, totalListHeight),\n        filter(([enabled]) => enabled),\n        map(([, viewportHeight2, totalListHeight2]) => {\n          return Math.max(0, viewportHeight2 - totalListHeight2);\n        }),\n        throttleTime(0),\n        distinctUntilChanged()\n      ),\n      0\n    );\n    return { alignToBottom, paddingTopAddition };\n  },\n  tup(domIOSystem, totalListHeightSystem),\n  { singleton: true }\n);\nconst windowScrollerSystem = system(([{ scrollTo, scrollContainerState }]) => {\n  const windowScrollContainerState = stream();\n  const windowViewportRect = stream();\n  const windowScrollTo = stream();\n  const useWindowScroll = statefulStream(false);\n  const customScrollParent = statefulStream(void 0);\n  connect(\n    pipe(\n      combineLatest(windowScrollContainerState, windowViewportRect),\n      map(([{ viewportHeight, scrollTop: windowScrollTop, scrollHeight }, { offsetTop }]) => {\n        return {\n          scrollTop: Math.max(0, windowScrollTop - offsetTop),\n          scrollHeight,\n          viewportHeight\n        };\n      })\n    ),\n    scrollContainerState\n  );\n  connect(\n    pipe(\n      scrollTo,\n      withLatestFrom(windowViewportRect),\n      map(([scrollTo2, { offsetTop }]) => {\n        return {\n          ...scrollTo2,\n          top: scrollTo2.top + offsetTop\n        };\n      })\n    ),\n    windowScrollTo\n  );\n  return {\n    // config\n    useWindowScroll,\n    customScrollParent,\n    // input\n    windowScrollContainerState,\n    windowViewportRect,\n    // signals\n    windowScrollTo\n  };\n}, tup(domIOSystem));\nconst defaultCalculateViewLocation = ({\n  itemTop: itemTop2,\n  itemBottom,\n  viewportTop,\n  viewportBottom,\n  locationParams: { behavior, align, ...rest }\n}) => {\n  if (itemTop2 < viewportTop) {\n    return { ...rest, behavior, align: align != null ? align : \"start\" };\n  }\n  if (itemBottom > viewportBottom) {\n    return { ...rest, behavior, align: align != null ? align : \"end\" };\n  }\n  return null;\n};\nconst scrollIntoViewSystem = system(\n  ([\n    { sizes, totalCount, gap },\n    { scrollTop, viewportHeight, headerHeight, fixedHeaderHeight, fixedFooterHeight, scrollingInProgress },\n    { scrollToIndex }\n  ]) => {\n    const scrollIntoView = stream();\n    connect(\n      pipe(\n        scrollIntoView,\n        withLatestFrom(sizes, viewportHeight, totalCount, headerHeight, fixedHeaderHeight, fixedFooterHeight, scrollTop),\n        withLatestFrom(gap),\n        map(([[viewLocation, sizes2, viewportHeight2, totalCount2, headerHeight2, fixedHeaderHeight2, fixedFooterHeight2, scrollTop2], gap2]) => {\n          const { done, behavior, align, calculateViewLocation = defaultCalculateViewLocation, ...rest } = viewLocation;\n          const actualIndex = originalIndexFromLocation(viewLocation, sizes2, totalCount2 - 1);\n          const itemTop2 = offsetOf(actualIndex, sizes2.offsetTree, gap2) + headerHeight2 + fixedHeaderHeight2;\n          const itemBottom = itemTop2 + findMaxKeyValue(sizes2.sizeTree, actualIndex)[1];\n          const viewportTop = scrollTop2 + fixedHeaderHeight2;\n          const viewportBottom = scrollTop2 + viewportHeight2 - fixedFooterHeight2;\n          const location = calculateViewLocation({\n            itemTop: itemTop2,\n            itemBottom,\n            viewportTop,\n            viewportBottom,\n            locationParams: { behavior, align, ...rest }\n          });\n          if (location) {\n            done && handleNext(\n              pipe(\n                scrollingInProgress,\n                filter((value) => value === false),\n                // skips the initial publish of false, and the cleanup call.\n                // but if scrollingInProgress is true, we skip the initial publish.\n                skip(getValue(scrollingInProgress) ? 1 : 2)\n              ),\n              done\n            );\n          } else {\n            done && done();\n          }\n          return location;\n        }),\n        filter((value) => value !== null)\n      ),\n      scrollToIndex\n    );\n    return {\n      scrollIntoView\n    };\n  },\n  tup(sizeSystem, domIOSystem, scrollToIndexSystem, listStateSystem, loggerSystem),\n  { singleton: true }\n);\nconst stateLoadSystem = system(([{ sizes, sizeRanges }, { scrollTop }, { initialTopMostItemIndex }, { didMount }]) => {\n  const getState = stream();\n  const restoreStateFrom = statefulStream(void 0);\n  subscribe(pipe(getState, withLatestFrom(sizes, scrollTop)), ([callback, sizes2, scrollTop2]) => {\n    const ranges = sizeTreeToRanges(sizes2.sizeTree);\n    callback({ ranges, scrollTop: scrollTop2 });\n  });\n  connect(pipe(restoreStateFrom, filter(isDefined), map(locationFromSnapshot)), initialTopMostItemIndex);\n  connect(\n    pipe(\n      didMount,\n      withLatestFrom(restoreStateFrom),\n      filter(([, state]) => state !== void 0),\n      distinctUntilChanged(),\n      map(([, snapshot]) => {\n        return snapshot.ranges;\n      })\n    ),\n    sizeRanges\n  );\n  return {\n    getState,\n    restoreStateFrom\n  };\n}, tup(sizeSystem, domIOSystem, initialTopMostItemIndexSystem, propsReadySystem));\nfunction locationFromSnapshot(snapshot) {\n  return { offset: snapshot.scrollTop, index: 0, align: \"start\" };\n}\nconst featureGroup1System = system(\n  ([\n    sizeRange,\n    initialItemCount,\n    propsReady,\n    scrollSeek,\n    totalListHeight,\n    initialScrollTopSystem2,\n    alignToBottom,\n    windowScroller,\n    scrollIntoView,\n    logger\n  ]) => {\n    return {\n      ...sizeRange,\n      ...initialItemCount,\n      ...propsReady,\n      ...scrollSeek,\n      ...totalListHeight,\n      ...initialScrollTopSystem2,\n      ...alignToBottom,\n      ...windowScroller,\n      ...scrollIntoView,\n      ...logger\n    };\n  },\n  tup(\n    sizeRangeSystem,\n    initialItemCountSystem,\n    propsReadySystem,\n    scrollSeekSystem,\n    totalListHeightSystem,\n    initialScrollTopSystem,\n    alignToBottomSystem,\n    windowScrollerSystem,\n    scrollIntoViewSystem,\n    loggerSystem\n  )\n);\nconst listSystem = system(\n  ([\n    {\n      totalCount,\n      sizeRanges,\n      fixedItemSize,\n      defaultItemSize,\n      trackItemSizes,\n      itemSize,\n      data,\n      firstItemIndex,\n      groupIndices,\n      statefulTotalCount,\n      gap,\n      sizes\n    },\n    { initialTopMostItemIndex, scrolledToInitialItem },\n    domIO,\n    stateLoad,\n    followOutput,\n    { listState, topItemsIndexes, ...flags },\n    { scrollToIndex },\n    _,\n    { topItemCount },\n    { groupCounts },\n    featureGroup1\n  ]) => {\n    connect(flags.rangeChanged, featureGroup1.scrollSeekRangeChanged);\n    connect(\n      pipe(\n        featureGroup1.windowViewportRect,\n        map((value) => value.visibleHeight)\n      ),\n      domIO.viewportHeight\n    );\n    return {\n      // input\n      totalCount,\n      data,\n      firstItemIndex,\n      sizeRanges,\n      initialTopMostItemIndex,\n      scrolledToInitialItem,\n      topItemsIndexes,\n      topItemCount,\n      groupCounts,\n      fixedItemHeight: fixedItemSize,\n      defaultItemHeight: defaultItemSize,\n      gap,\n      ...followOutput,\n      // output\n      statefulTotalCount,\n      listState,\n      scrollToIndex,\n      trackItemSizes,\n      itemSize,\n      groupIndices,\n      // exported from stateFlagsSystem\n      ...flags,\n      // the bag of IO from featureGroup1System\n      ...featureGroup1,\n      ...domIO,\n      sizes,\n      ...stateLoad\n    };\n  },\n  tup(\n    sizeSystem,\n    initialTopMostItemIndexSystem,\n    domIOSystem,\n    stateLoadSystem,\n    followOutputSystem,\n    listStateSystem,\n    scrollToIndexSystem,\n    upwardScrollFixSystem,\n    topItemCountSystem,\n    groupedListSystem,\n    featureGroup1System\n  )\n);\nconst WEBKIT_STICKY = \"-webkit-sticky\";\nconst STICKY = \"sticky\";\nconst positionStickyCssValue = simpleMemoize(() => {\n  if (typeof document === \"undefined\") {\n    return STICKY;\n  }\n  const node = document.createElement(\"div\");\n  node.style.position = WEBKIT_STICKY;\n  return node.style.position === WEBKIT_STICKY ? WEBKIT_STICKY : STICKY;\n});\nfunction useWindowViewportRectRef(callback, customScrollParent) {\n  const viewportInfo = React.useRef(null);\n  const calculateInfo = React.useCallback(\n    (element) => {\n      if (element === null || !element.offsetParent) {\n        return;\n      }\n      const rect = element.getBoundingClientRect();\n      const visibleWidth = rect.width;\n      let visibleHeight, offsetTop;\n      if (customScrollParent) {\n        const customScrollParentRect = customScrollParent.getBoundingClientRect();\n        const deltaTop = rect.top - customScrollParentRect.top;\n        visibleHeight = customScrollParentRect.height - Math.max(0, deltaTop);\n        offsetTop = deltaTop + customScrollParent.scrollTop;\n      } else {\n        visibleHeight = window.innerHeight - Math.max(0, rect.top);\n        offsetTop = rect.top + window.pageYOffset;\n      }\n      viewportInfo.current = {\n        offsetTop,\n        visibleHeight,\n        visibleWidth\n      };\n      callback(viewportInfo.current);\n    },\n    [callback, customScrollParent]\n  );\n  const { callbackRef, ref } = useSizeWithElRef(calculateInfo);\n  const scrollAndResizeEventHandler = React.useCallback(() => {\n    calculateInfo(ref.current);\n  }, [calculateInfo, ref]);\n  React.useEffect(() => {\n    if (customScrollParent) {\n      customScrollParent.addEventListener(\"scroll\", scrollAndResizeEventHandler);\n      const observer = new ResizeObserver(scrollAndResizeEventHandler);\n      observer.observe(customScrollParent);\n      return () => {\n        customScrollParent.removeEventListener(\"scroll\", scrollAndResizeEventHandler);\n        observer.unobserve(customScrollParent);\n      };\n    } else {\n      window.addEventListener(\"scroll\", scrollAndResizeEventHandler);\n      window.addEventListener(\"resize\", scrollAndResizeEventHandler);\n      return () => {\n        window.removeEventListener(\"scroll\", scrollAndResizeEventHandler);\n        window.removeEventListener(\"resize\", scrollAndResizeEventHandler);\n      };\n    }\n  }, [scrollAndResizeEventHandler, customScrollParent]);\n  return callbackRef;\n}\nconst VirtuosoMockContext = React.createContext(void 0);\nconst VirtuosoGridMockContext = React.createContext(void 0);\nfunction identity(value) {\n  return value;\n}\nconst listComponentPropsSystem = /* @__PURE__ */ system(() => {\n  const itemContent = statefulStream((index) => `Item ${index}`);\n  const context = statefulStream(null);\n  const groupContent = statefulStream((index) => `Group ${index}`);\n  const components = statefulStream({});\n  const computeItemKey = statefulStream(identity);\n  const headerFooterTag = statefulStream(\"div\");\n  const scrollerRef = statefulStream(noop);\n  const distinctProp = (propName, defaultValue = null) => {\n    return statefulStreamFromEmitter(\n      pipe(\n        components,\n        map((components2) => components2[propName]),\n        distinctUntilChanged()\n      ),\n      defaultValue\n    );\n  };\n  return {\n    context,\n    itemContent,\n    groupContent,\n    components,\n    computeItemKey,\n    headerFooterTag,\n    scrollerRef,\n    FooterComponent: distinctProp(\"Footer\"),\n    HeaderComponent: distinctProp(\"Header\"),\n    TopItemListComponent: distinctProp(\"TopItemList\"),\n    ListComponent: distinctProp(\"List\", \"div\"),\n    ItemComponent: distinctProp(\"Item\", \"div\"),\n    GroupComponent: distinctProp(\"Group\", \"div\"),\n    ScrollerComponent: distinctProp(\"Scroller\", \"div\"),\n    EmptyPlaceholder: distinctProp(\"EmptyPlaceholder\"),\n    ScrollSeekPlaceholder: distinctProp(\"ScrollSeekPlaceholder\")\n  };\n});\nconst combinedSystem$2 = /* @__PURE__ */ system(([listSystem2, propsSystem]) => {\n  return { ...listSystem2, ...propsSystem };\n}, tup(listSystem, listComponentPropsSystem));\nconst DefaultScrollSeekPlaceholder$1 = ({ height }) => /* @__PURE__ */ React.createElement(\"div\", { style: { height } });\nconst GROUP_STYLE = { position: positionStickyCssValue(), zIndex: 1, overflowAnchor: \"none\" };\nconst ITEM_STYLE$1 = { overflowAnchor: \"none\" };\nconst Items$1 = /* @__PURE__ */ React.memo(function VirtuosoItems({ showTopList = false }) {\n  const listState = useEmitterValue$2(\"listState\");\n  const sizeRanges = usePublisher$2(\"sizeRanges\");\n  const useWindowScroll = useEmitterValue$2(\"useWindowScroll\");\n  const customScrollParent = useEmitterValue$2(\"customScrollParent\");\n  const windowScrollContainerStateCallback = usePublisher$2(\"windowScrollContainerState\");\n  const _scrollContainerStateCallback = usePublisher$2(\"scrollContainerState\");\n  const scrollContainerStateCallback = customScrollParent || useWindowScroll ? windowScrollContainerStateCallback : _scrollContainerStateCallback;\n  const itemContent = useEmitterValue$2(\"itemContent\");\n  const context = useEmitterValue$2(\"context\");\n  const groupContent = useEmitterValue$2(\"groupContent\");\n  const trackItemSizes = useEmitterValue$2(\"trackItemSizes\");\n  const itemSize = useEmitterValue$2(\"itemSize\");\n  const log = useEmitterValue$2(\"log\");\n  const listGap = usePublisher$2(\"gap\");\n  const { callbackRef } = useChangedListContentsSizes(\n    sizeRanges,\n    itemSize,\n    trackItemSizes,\n    showTopList ? noop : scrollContainerStateCallback,\n    log,\n    listGap,\n    customScrollParent\n  );\n  const [deviation, setDeviation] = React.useState(0);\n  useEmitter$2(\"deviation\", (value) => {\n    if (deviation !== value) {\n      setDeviation(value);\n    }\n  });\n  const EmptyPlaceholder = useEmitterValue$2(\"EmptyPlaceholder\");\n  const ScrollSeekPlaceholder = useEmitterValue$2(\"ScrollSeekPlaceholder\") || DefaultScrollSeekPlaceholder$1;\n  const ListComponent = useEmitterValue$2(\"ListComponent\");\n  const ItemComponent = useEmitterValue$2(\"ItemComponent\");\n  const GroupComponent = useEmitterValue$2(\"GroupComponent\");\n  const computeItemKey = useEmitterValue$2(\"computeItemKey\");\n  const isSeeking = useEmitterValue$2(\"isSeeking\");\n  const hasGroups2 = useEmitterValue$2(\"groupIndices\").length > 0;\n  const paddingTopAddition = useEmitterValue$2(\"paddingTopAddition\");\n  const scrolledToInitialItem = useEmitterValue$2(\"scrolledToInitialItem\");\n  const containerStyle = showTopList ? {} : {\n    boxSizing: \"border-box\",\n    paddingTop: listState.offsetTop + paddingTopAddition,\n    paddingBottom: listState.offsetBottom,\n    marginTop: deviation,\n    ...scrolledToInitialItem ? {} : { visibility: \"hidden\" }\n  };\n  if (!showTopList && listState.totalCount === 0 && EmptyPlaceholder) {\n    return React.createElement(EmptyPlaceholder, contextPropIfNotDomElement(EmptyPlaceholder, context));\n  }\n  return React.createElement(\n    ListComponent,\n    {\n      ...contextPropIfNotDomElement(ListComponent, context),\n      ref: callbackRef,\n      style: containerStyle,\n      \"data-test-id\": showTopList ? \"virtuoso-top-item-list\" : \"virtuoso-item-list\"\n    },\n    (showTopList ? listState.topItems : listState.items).map((item) => {\n      const index = item.originalIndex;\n      const key = computeItemKey(index + listState.firstItemIndex, item.data, context);\n      if (isSeeking) {\n        return React.createElement(ScrollSeekPlaceholder, {\n          ...contextPropIfNotDomElement(ScrollSeekPlaceholder, context),\n          key,\n          index: item.index,\n          height: item.size,\n          type: item.type || \"item\",\n          ...item.type === \"group\" ? {} : { groupIndex: item.groupIndex }\n        });\n      }\n      if (item.type === \"group\") {\n        return React.createElement(\n          GroupComponent,\n          {\n            ...contextPropIfNotDomElement(GroupComponent, context),\n            key,\n            \"data-index\": index,\n            \"data-known-size\": item.size,\n            \"data-item-index\": item.index,\n            style: GROUP_STYLE\n          },\n          groupContent(item.index, context)\n        );\n      } else {\n        return React.createElement(\n          ItemComponent,\n          {\n            ...contextPropIfNotDomElement(ItemComponent, context),\n            key,\n            \"data-index\": index,\n            \"data-known-size\": item.size,\n            \"data-item-index\": item.index,\n            \"data-item-group-index\": item.groupIndex,\n            item: item.data,\n            style: ITEM_STYLE$1\n          },\n          hasGroups2 ? itemContent(item.index, item.groupIndex, item.data, context) : itemContent(item.index, item.data, context)\n        );\n      }\n    })\n  );\n});\nconst scrollerStyle = {\n  height: \"100%\",\n  outline: \"none\",\n  overflowY: \"auto\",\n  position: \"relative\",\n  WebkitOverflowScrolling: \"touch\"\n};\nconst viewportStyle = {\n  width: \"100%\",\n  height: \"100%\",\n  position: \"absolute\",\n  top: 0\n};\nconst topItemListStyle = {\n  width: \"100%\",\n  position: positionStickyCssValue(),\n  top: 0,\n  zIndex: 1\n};\nfunction contextPropIfNotDomElement(element, context) {\n  if (typeof element === \"string\") {\n    return void 0;\n  }\n  return { context };\n}\nconst Header$1 = /* @__PURE__ */ React.memo(function VirtuosoHeader() {\n  const Header2 = useEmitterValue$2(\"HeaderComponent\");\n  const headerHeight = usePublisher$2(\"headerHeight\");\n  const headerFooterTag = useEmitterValue$2(\"headerFooterTag\");\n  const ref = useSize((el) => headerHeight(correctItemSize(el, \"height\")));\n  const context = useEmitterValue$2(\"context\");\n  return Header2 ? React.createElement(headerFooterTag, { ref }, React.createElement(Header2, contextPropIfNotDomElement(Header2, context))) : null;\n});\nconst Footer$1 = /* @__PURE__ */ React.memo(function VirtuosoFooter() {\n  const Footer2 = useEmitterValue$2(\"FooterComponent\");\n  const footerHeight = usePublisher$2(\"footerHeight\");\n  const headerFooterTag = useEmitterValue$2(\"headerFooterTag\");\n  const ref = useSize((el) => footerHeight(correctItemSize(el, \"height\")));\n  const context = useEmitterValue$2(\"context\");\n  return Footer2 ? React.createElement(headerFooterTag, { ref }, React.createElement(Footer2, contextPropIfNotDomElement(Footer2, context))) : null;\n});\nfunction buildScroller({ usePublisher: usePublisher2, useEmitter: useEmitter2, useEmitterValue: useEmitterValue2 }) {\n  const Scroller2 = React.memo(function VirtuosoScroller({ style, children, ...props }) {\n    const scrollContainerStateCallback = usePublisher2(\"scrollContainerState\");\n    const ScrollerComponent = useEmitterValue2(\"ScrollerComponent\");\n    const smoothScrollTargetReached = usePublisher2(\"smoothScrollTargetReached\");\n    const scrollerRefCallback = useEmitterValue2(\"scrollerRef\");\n    const context = useEmitterValue2(\"context\");\n    const { scrollerRef, scrollByCallback, scrollToCallback } = useScrollTop(\n      scrollContainerStateCallback,\n      smoothScrollTargetReached,\n      ScrollerComponent,\n      scrollerRefCallback\n    );\n    useEmitter2(\"scrollTo\", scrollToCallback);\n    useEmitter2(\"scrollBy\", scrollByCallback);\n    return React.createElement(\n      ScrollerComponent,\n      {\n        ref: scrollerRef,\n        style: { ...scrollerStyle, ...style },\n        \"data-test-id\": \"virtuoso-scroller\",\n        \"data-virtuoso-scroller\": true,\n        tabIndex: 0,\n        ...props,\n        ...contextPropIfNotDomElement(ScrollerComponent, context)\n      },\n      children\n    );\n  });\n  return Scroller2;\n}\nfunction buildWindowScroller({ usePublisher: usePublisher2, useEmitter: useEmitter2, useEmitterValue: useEmitterValue2 }) {\n  const Scroller2 = React.memo(function VirtuosoWindowScroller({ style, children, ...props }) {\n    const scrollContainerStateCallback = usePublisher2(\"windowScrollContainerState\");\n    const ScrollerComponent = useEmitterValue2(\"ScrollerComponent\");\n    const smoothScrollTargetReached = usePublisher2(\"smoothScrollTargetReached\");\n    const totalListHeight = useEmitterValue2(\"totalListHeight\");\n    const deviation = useEmitterValue2(\"deviation\");\n    const customScrollParent = useEmitterValue2(\"customScrollParent\");\n    const context = useEmitterValue2(\"context\");\n    const { scrollerRef, scrollByCallback, scrollToCallback } = useScrollTop(\n      scrollContainerStateCallback,\n      smoothScrollTargetReached,\n      ScrollerComponent,\n      noop,\n      customScrollParent\n    );\n    useIsomorphicLayoutEffect$1(() => {\n      scrollerRef.current = customScrollParent ? customScrollParent : window;\n      return () => {\n        scrollerRef.current = null;\n      };\n    }, [scrollerRef, customScrollParent]);\n    useEmitter2(\"windowScrollTo\", scrollToCallback);\n    useEmitter2(\"scrollBy\", scrollByCallback);\n    return React.createElement(\n      ScrollerComponent,\n      {\n        style: { position: \"relative\", ...style, ...totalListHeight !== 0 ? { height: totalListHeight + deviation } : {} },\n        \"data-virtuoso-scroller\": true,\n        ...props,\n        ...contextPropIfNotDomElement(ScrollerComponent, context)\n      },\n      children\n    );\n  });\n  return Scroller2;\n}\nconst Viewport$2 = ({ children }) => {\n  const ctx = React.useContext(VirtuosoMockContext);\n  const viewportHeight = usePublisher$2(\"viewportHeight\");\n  const fixedItemHeight = usePublisher$2(\"fixedItemHeight\");\n  const viewportRef = useSize(compose(viewportHeight, (el) => correctItemSize(el, \"height\")));\n  React.useEffect(() => {\n    if (ctx) {\n      viewportHeight(ctx.viewportHeight);\n      fixedItemHeight(ctx.itemHeight);\n    }\n  }, [ctx, viewportHeight, fixedItemHeight]);\n  return /* @__PURE__ */ React.createElement(\"div\", { style: viewportStyle, ref: viewportRef, \"data-viewport-type\": \"element\" }, children);\n};\nconst WindowViewport$2 = ({ children }) => {\n  const ctx = React.useContext(VirtuosoMockContext);\n  const windowViewportRect = usePublisher$2(\"windowViewportRect\");\n  const fixedItemHeight = usePublisher$2(\"fixedItemHeight\");\n  const customScrollParent = useEmitterValue$2(\"customScrollParent\");\n  const viewportRef = useWindowViewportRectRef(windowViewportRect, customScrollParent);\n  React.useEffect(() => {\n    if (ctx) {\n      fixedItemHeight(ctx.itemHeight);\n      windowViewportRect({ offsetTop: 0, visibleHeight: ctx.viewportHeight, visibleWidth: 100 });\n    }\n  }, [ctx, windowViewportRect, fixedItemHeight]);\n  return /* @__PURE__ */ React.createElement(\"div\", { ref: viewportRef, style: viewportStyle, \"data-viewport-type\": \"window\" }, children);\n};\nconst TopItemListContainer = ({ children }) => {\n  const TopItemList = useEmitterValue$2(\"TopItemListComponent\");\n  const headerHeight = useEmitterValue$2(\"headerHeight\");\n  const style = { ...topItemListStyle, marginTop: `${headerHeight}px` };\n  const context = useEmitterValue$2(\"context\");\n  return React.createElement(TopItemList || \"div\", { style, context }, children);\n};\nconst ListRoot = /* @__PURE__ */ React.memo(function VirtuosoRoot(props) {\n  const useWindowScroll = useEmitterValue$2(\"useWindowScroll\");\n  const showTopList = useEmitterValue$2(\"topItemsIndexes\").length > 0;\n  const customScrollParent = useEmitterValue$2(\"customScrollParent\");\n  const TheScroller = customScrollParent || useWindowScroll ? WindowScroller$2 : Scroller$2;\n  const TheViewport = customScrollParent || useWindowScroll ? WindowViewport$2 : Viewport$2;\n  return /* @__PURE__ */ React.createElement(TheScroller, { ...props }, showTopList && /* @__PURE__ */ React.createElement(TopItemListContainer, null, /* @__PURE__ */ React.createElement(Items$1, { showTopList: true })), /* @__PURE__ */ React.createElement(TheViewport, null, /* @__PURE__ */ React.createElement(Header$1, null), /* @__PURE__ */ React.createElement(Items$1, null), /* @__PURE__ */ React.createElement(Footer$1, null)));\n});\nconst {\n  Component: List,\n  usePublisher: usePublisher$2,\n  useEmitterValue: useEmitterValue$2,\n  useEmitter: useEmitter$2\n} = /* @__PURE__ */ systemToComponent(\n  combinedSystem$2,\n  {\n    required: {},\n    optional: {\n      restoreStateFrom: \"restoreStateFrom\",\n      context: \"context\",\n      followOutput: \"followOutput\",\n      itemContent: \"itemContent\",\n      groupContent: \"groupContent\",\n      overscan: \"overscan\",\n      increaseViewportBy: \"increaseViewportBy\",\n      totalCount: \"totalCount\",\n      groupCounts: \"groupCounts\",\n      topItemCount: \"topItemCount\",\n      firstItemIndex: \"firstItemIndex\",\n      initialTopMostItemIndex: \"initialTopMostItemIndex\",\n      components: \"components\",\n      atBottomThreshold: \"atBottomThreshold\",\n      atTopThreshold: \"atTopThreshold\",\n      computeItemKey: \"computeItemKey\",\n      defaultItemHeight: \"defaultItemHeight\",\n      fixedItemHeight: \"fixedItemHeight\",\n      itemSize: \"itemSize\",\n      scrollSeekConfiguration: \"scrollSeekConfiguration\",\n      headerFooterTag: \"headerFooterTag\",\n      data: \"data\",\n      initialItemCount: \"initialItemCount\",\n      initialScrollTop: \"initialScrollTop\",\n      alignToBottom: \"alignToBottom\",\n      useWindowScroll: \"useWindowScroll\",\n      customScrollParent: \"customScrollParent\",\n      scrollerRef: \"scrollerRef\",\n      logLevel: \"logLevel\"\n    },\n    methods: {\n      scrollToIndex: \"scrollToIndex\",\n      scrollIntoView: \"scrollIntoView\",\n      scrollTo: \"scrollTo\",\n      scrollBy: \"scrollBy\",\n      autoscrollToBottom: \"autoscrollToBottom\",\n      getState: \"getState\"\n    },\n    events: {\n      isScrolling: \"isScrolling\",\n      endReached: \"endReached\",\n      startReached: \"startReached\",\n      rangeChanged: \"rangeChanged\",\n      atBottomStateChange: \"atBottomStateChange\",\n      atTopStateChange: \"atTopStateChange\",\n      totalListHeightChanged: \"totalListHeightChanged\",\n      itemsRendered: \"itemsRendered\",\n      groupIndices: \"groupIndices\"\n    }\n  },\n  ListRoot\n);\nconst Scroller$2 = /* @__PURE__ */ buildScroller({ usePublisher: usePublisher$2, useEmitterValue: useEmitterValue$2, useEmitter: useEmitter$2 });\nconst WindowScroller$2 = /* @__PURE__ */ buildWindowScroller({ usePublisher: usePublisher$2, useEmitterValue: useEmitterValue$2, useEmitter: useEmitter$2 });\nconst Virtuoso = List;\nconst GroupedVirtuoso = List;\nconst INITIAL_GRID_STATE = {\n  items: [],\n  offsetBottom: 0,\n  offsetTop: 0,\n  top: 0,\n  bottom: 0,\n  itemHeight: 0,\n  itemWidth: 0\n};\nconst PROBE_GRID_STATE = {\n  items: [{ index: 0 }],\n  offsetBottom: 0,\n  offsetTop: 0,\n  top: 0,\n  bottom: 0,\n  itemHeight: 0,\n  itemWidth: 0\n};\nconst { round, ceil, floor, min, max } = Math;\nfunction buildProbeGridState(items) {\n  return {\n    ...PROBE_GRID_STATE,\n    items\n  };\n}\nfunction buildItems(startIndex, endIndex, data) {\n  return Array.from({ length: endIndex - startIndex + 1 }).map((_, i) => {\n    const dataItem = data === null ? null : data[i + startIndex];\n    return { index: i + startIndex, data: dataItem };\n  });\n}\nfunction gapComparator(prev, next) {\n  return prev && prev.column === next.column && prev.row === next.row;\n}\nfunction dimensionComparator(prev, next) {\n  return prev && prev.width === next.width && prev.height === next.height;\n}\nconst gridSystem = /* @__PURE__ */ system(\n  ([\n    { overscan, visibleRange, listBoundary },\n    { scrollTop, viewportHeight, scrollBy, scrollTo, smoothScrollTargetReached, scrollContainerState, footerHeight, headerHeight },\n    stateFlags,\n    scrollSeek,\n    { propsReady, didMount },\n    { windowViewportRect, useWindowScroll, customScrollParent, windowScrollContainerState, windowScrollTo },\n    log\n  ]) => {\n    const totalCount = statefulStream(0);\n    const initialItemCount = statefulStream(0);\n    const gridState = statefulStream(INITIAL_GRID_STATE);\n    const viewportDimensions = statefulStream({ height: 0, width: 0 });\n    const itemDimensions = statefulStream({ height: 0, width: 0 });\n    const scrollToIndex = stream();\n    const scrollHeight = stream();\n    const deviation = statefulStream(0);\n    const data = statefulStream(null);\n    const gap = statefulStream({ row: 0, column: 0 });\n    const stateChanged = stream();\n    const restoreStateFrom = stream();\n    const stateRestoreInProgress = statefulStream(false);\n    const initialTopMostItemIndex = statefulStream(0);\n    const scrolledToInitialItem = statefulStream(true);\n    const scrollScheduled = statefulStream(false);\n    subscribe(\n      pipe(\n        didMount,\n        withLatestFrom(initialTopMostItemIndex),\n        filter(([_, location]) => !!location)\n      ),\n      () => {\n        publish(scrolledToInitialItem, false);\n        publish(initialItemCount, 0);\n      }\n    );\n    subscribe(\n      pipe(\n        combineLatest(didMount, scrolledToInitialItem, itemDimensions, viewportDimensions, initialTopMostItemIndex, scrollScheduled),\n        filter(([didMount2, scrolledToInitialItem2, itemDimensions2, viewportDimensions2, , scrollScheduled2]) => {\n          return didMount2 && !scrolledToInitialItem2 && itemDimensions2.height !== 0 && viewportDimensions2.height !== 0 && !scrollScheduled2;\n        })\n      ),\n      ([, , , , initialTopMostItemIndex2]) => {\n        publish(scrollScheduled, true);\n        skipFrames(1, () => {\n          publish(scrollToIndex, initialTopMostItemIndex2);\n        });\n        handleNext(pipe(scrollTop), () => {\n          publish(listBoundary, [0, 0]);\n          publish(scrolledToInitialItem, true);\n        });\n      }\n    );\n    connect(\n      pipe(\n        restoreStateFrom,\n        filter((value) => value !== void 0 && value !== null && value.scrollTop > 0),\n        mapTo(0)\n      ),\n      initialItemCount\n    );\n    subscribe(\n      pipe(\n        didMount,\n        withLatestFrom(restoreStateFrom),\n        filter(([, snapshot]) => snapshot !== void 0 && snapshot !== null)\n      ),\n      ([, snapshot]) => {\n        if (!snapshot) {\n          return;\n        }\n        publish(viewportDimensions, snapshot.viewport), publish(itemDimensions, snapshot == null ? void 0 : snapshot.item);\n        publish(gap, snapshot.gap);\n        if (snapshot.scrollTop > 0) {\n          publish(stateRestoreInProgress, true);\n          handleNext(pipe(scrollTop, skip(1)), (_value) => {\n            publish(stateRestoreInProgress, false);\n          });\n          publish(scrollTo, { top: snapshot.scrollTop });\n        }\n      }\n    );\n    connect(\n      pipe(\n        viewportDimensions,\n        map(({ height }) => height)\n      ),\n      viewportHeight\n    );\n    connect(\n      pipe(\n        combineLatest(\n          duc(viewportDimensions, dimensionComparator),\n          duc(itemDimensions, dimensionComparator),\n          duc(gap, (prev, next) => prev && prev.column === next.column && prev.row === next.row),\n          duc(scrollTop)\n        ),\n        map(([viewport, item, gap2, scrollTop2]) => ({\n          viewport,\n          item,\n          gap: gap2,\n          scrollTop: scrollTop2\n        }))\n      ),\n      stateChanged\n    );\n    connect(\n      pipe(\n        combineLatest(\n          duc(totalCount),\n          visibleRange,\n          duc(gap, gapComparator),\n          duc(itemDimensions, dimensionComparator),\n          duc(viewportDimensions, dimensionComparator),\n          duc(data),\n          duc(initialItemCount),\n          duc(stateRestoreInProgress),\n          duc(scrolledToInitialItem),\n          duc(initialTopMostItemIndex)\n        ),\n        filter(([, , , , , , , stateRestoreInProgress2]) => {\n          return !stateRestoreInProgress2;\n        }),\n        map(\n          ([\n            totalCount2,\n            [startOffset, endOffset],\n            gap2,\n            item,\n            viewport,\n            data2,\n            initialItemCount2,\n            ,\n            scrolledToInitialItem2,\n            initialTopMostItemIndex2\n          ]) => {\n            const { row: rowGap, column: columnGap } = gap2;\n            const { height: itemHeight, width: itemWidth } = item;\n            const { width: viewportWidth } = viewport;\n            if (initialItemCount2 === 0 && (totalCount2 === 0 || viewportWidth === 0)) {\n              return INITIAL_GRID_STATE;\n            }\n            if (itemWidth === 0) {\n              const startIndex2 = getInitialTopMostItemIndexNumber(initialTopMostItemIndex2, totalCount2);\n              const endIndex2 = startIndex2 === 0 ? Math.max(initialItemCount2 - 1, 0) : startIndex2;\n              return buildProbeGridState(buildItems(startIndex2, endIndex2, data2));\n            }\n            const perRow = itemsPerRow(viewportWidth, itemWidth, columnGap);\n            let startIndex;\n            let endIndex;\n            if (!scrolledToInitialItem2) {\n              startIndex = 0;\n              endIndex = -1;\n            } else if (startOffset === 0 && endOffset === 0 && initialItemCount2 > 0) {\n              startIndex = 0;\n              endIndex = initialItemCount2 - 1;\n            } else {\n              startIndex = perRow * floor((startOffset + rowGap) / (itemHeight + rowGap));\n              endIndex = perRow * ceil((endOffset + rowGap) / (itemHeight + rowGap)) - 1;\n              endIndex = min(totalCount2 - 1, max(endIndex, perRow - 1));\n              startIndex = min(endIndex, max(0, startIndex));\n            }\n            const items = buildItems(startIndex, endIndex, data2);\n            const { top, bottom } = gridLayout(viewport, gap2, item, items);\n            const rowCount = ceil(totalCount2 / perRow);\n            const totalHeight = rowCount * itemHeight + (rowCount - 1) * rowGap;\n            const offsetBottom = totalHeight - bottom;\n            return { items, offsetTop: top, offsetBottom, top, bottom, itemHeight, itemWidth };\n          }\n        )\n      ),\n      gridState\n    );\n    connect(\n      pipe(\n        data,\n        filter((data2) => data2 !== null),\n        map((data2) => data2.length)\n      ),\n      totalCount\n    );\n    connect(\n      pipe(\n        combineLatest(viewportDimensions, itemDimensions, gridState, gap),\n        filter(([viewportDimensions2, itemDimensions2, { items }]) => {\n          return items.length > 0 && itemDimensions2.height !== 0 && viewportDimensions2.height !== 0;\n        }),\n        map(([viewportDimensions2, itemDimensions2, { items }, gap2]) => {\n          const { top, bottom } = gridLayout(viewportDimensions2, gap2, itemDimensions2, items);\n          return [top, bottom];\n        }),\n        distinctUntilChanged(tupleComparator)\n      ),\n      listBoundary\n    );\n    const hasScrolled = statefulStream(false);\n    connect(\n      pipe(\n        scrollTop,\n        withLatestFrom(hasScrolled),\n        map(([scrollTop2, hasScrolled2]) => {\n          return hasScrolled2 || scrollTop2 !== 0;\n        })\n      ),\n      hasScrolled\n    );\n    const endReached = streamFromEmitter(\n      pipe(\n        duc(gridState),\n        filter(({ items }) => items.length > 0),\n        withLatestFrom(totalCount, hasScrolled),\n        filter(([{ items }, totalCount2, hasScrolled2]) => hasScrolled2 && items[items.length - 1].index === totalCount2 - 1),\n        map(([, totalCount2]) => totalCount2 - 1),\n        distinctUntilChanged()\n      )\n    );\n    const startReached = streamFromEmitter(\n      pipe(\n        duc(gridState),\n        filter(({ items }) => {\n          return items.length > 0 && items[0].index === 0;\n        }),\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n        mapTo(0),\n        distinctUntilChanged()\n      )\n    );\n    const rangeChanged = streamFromEmitter(\n      pipe(\n        duc(gridState),\n        withLatestFrom(stateRestoreInProgress),\n        filter(([{ items }, stateRestoreInProgress2]) => items.length > 0 && !stateRestoreInProgress2),\n        map(([{ items }]) => {\n          return {\n            startIndex: items[0].index,\n            endIndex: items[items.length - 1].index\n          };\n        }),\n        distinctUntilChanged(rangeComparator),\n        throttleTime(0)\n      )\n    );\n    connect(rangeChanged, scrollSeek.scrollSeekRangeChanged);\n    connect(\n      pipe(\n        scrollToIndex,\n        withLatestFrom(viewportDimensions, itemDimensions, totalCount, gap),\n        map(([location, viewportDimensions2, itemDimensions2, totalCount2, gap2]) => {\n          const normalLocation = normalizeIndexLocation(location);\n          const { align, behavior, offset } = normalLocation;\n          let index = normalLocation.index;\n          if (index === \"LAST\") {\n            index = totalCount2 - 1;\n          }\n          index = max(0, index, min(totalCount2 - 1, index));\n          let top = itemTop(viewportDimensions2, gap2, itemDimensions2, index);\n          if (align === \"end\") {\n            top = round(top - viewportDimensions2.height + itemDimensions2.height);\n          } else if (align === \"center\") {\n            top = round(top - viewportDimensions2.height / 2 + itemDimensions2.height / 2);\n          }\n          if (offset) {\n            top += offset;\n          }\n          return { top, behavior };\n        })\n      ),\n      scrollTo\n    );\n    const totalListHeight = statefulStreamFromEmitter(\n      pipe(\n        gridState,\n        map((gridState2) => {\n          return gridState2.offsetBottom + gridState2.bottom;\n        })\n      ),\n      0\n    );\n    connect(\n      pipe(\n        windowViewportRect,\n        map((viewportInfo) => ({ width: viewportInfo.visibleWidth, height: viewportInfo.visibleHeight }))\n      ),\n      viewportDimensions\n    );\n    return {\n      // input\n      data,\n      totalCount,\n      viewportDimensions,\n      itemDimensions,\n      scrollTop,\n      scrollHeight,\n      overscan,\n      scrollBy,\n      scrollTo,\n      scrollToIndex,\n      smoothScrollTargetReached,\n      windowViewportRect,\n      windowScrollTo,\n      useWindowScroll,\n      customScrollParent,\n      windowScrollContainerState,\n      deviation,\n      scrollContainerState,\n      footerHeight,\n      headerHeight,\n      initialItemCount,\n      gap,\n      restoreStateFrom,\n      ...scrollSeek,\n      initialTopMostItemIndex,\n      // output\n      gridState,\n      totalListHeight,\n      ...stateFlags,\n      startReached,\n      endReached,\n      rangeChanged,\n      stateChanged,\n      propsReady,\n      stateRestoreInProgress,\n      ...log\n    };\n  },\n  tup(sizeRangeSystem, domIOSystem, stateFlagsSystem, scrollSeekSystem, propsReadySystem, windowScrollerSystem, loggerSystem)\n);\nfunction gridLayout(viewport, gap, item, items) {\n  const { height: itemHeight } = item;\n  if (itemHeight === void 0 || items.length === 0) {\n    return { top: 0, bottom: 0 };\n  }\n  const top = itemTop(viewport, gap, item, items[0].index);\n  const bottom = itemTop(viewport, gap, item, items[items.length - 1].index) + itemHeight;\n  return { top, bottom };\n}\nfunction itemTop(viewport, gap, item, index) {\n  const perRow = itemsPerRow(viewport.width, item.width, gap.column);\n  const rowCount = floor(index / perRow);\n  const top = rowCount * item.height + max(0, rowCount - 1) * gap.row;\n  return top > 0 ? top + gap.row : top;\n}\nfunction itemsPerRow(viewportWidth, itemWidth, gap) {\n  return max(1, floor((viewportWidth + gap) / (floor(itemWidth) + gap)));\n}\nconst gridComponentPropsSystem = /* @__PURE__ */ system(() => {\n  const itemContent = statefulStream((index) => `Item ${index}`);\n  const components = statefulStream({});\n  const context = statefulStream(null);\n  const itemClassName = statefulStream(\"virtuoso-grid-item\");\n  const listClassName = statefulStream(\"virtuoso-grid-list\");\n  const computeItemKey = statefulStream(identity);\n  const headerFooterTag = statefulStream(\"div\");\n  const scrollerRef = statefulStream(noop);\n  const distinctProp = (propName, defaultValue = null) => {\n    return statefulStreamFromEmitter(\n      pipe(\n        components,\n        map((components2) => components2[propName]),\n        distinctUntilChanged()\n      ),\n      defaultValue\n    );\n  };\n  return {\n    context,\n    itemContent,\n    components,\n    computeItemKey,\n    itemClassName,\n    listClassName,\n    headerFooterTag,\n    scrollerRef,\n    FooterComponent: distinctProp(\"Footer\"),\n    HeaderComponent: distinctProp(\"Header\"),\n    ListComponent: distinctProp(\"List\", \"div\"),\n    ItemComponent: distinctProp(\"Item\", \"div\"),\n    ScrollerComponent: distinctProp(\"Scroller\", \"div\"),\n    ScrollSeekPlaceholder: distinctProp(\"ScrollSeekPlaceholder\", \"div\")\n  };\n});\nconst combinedSystem$1 = /* @__PURE__ */ system(([gridSystem2, gridComponentPropsSystem2]) => {\n  return { ...gridSystem2, ...gridComponentPropsSystem2 };\n}, tup(gridSystem, gridComponentPropsSystem));\nconst GridItems = /* @__PURE__ */ React.memo(function GridItems2() {\n  const gridState = useEmitterValue$1(\"gridState\");\n  const listClassName = useEmitterValue$1(\"listClassName\");\n  const itemClassName = useEmitterValue$1(\"itemClassName\");\n  const itemContent = useEmitterValue$1(\"itemContent\");\n  const computeItemKey = useEmitterValue$1(\"computeItemKey\");\n  const isSeeking = useEmitterValue$1(\"isSeeking\");\n  const scrollHeightCallback = usePublisher$1(\"scrollHeight\");\n  const ItemComponent = useEmitterValue$1(\"ItemComponent\");\n  const ListComponent = useEmitterValue$1(\"ListComponent\");\n  const ScrollSeekPlaceholder = useEmitterValue$1(\"ScrollSeekPlaceholder\");\n  const context = useEmitterValue$1(\"context\");\n  const itemDimensions = usePublisher$1(\"itemDimensions\");\n  const gridGap = usePublisher$1(\"gap\");\n  const log = useEmitterValue$1(\"log\");\n  const stateRestoreInProgress = useEmitterValue$1(\"stateRestoreInProgress\");\n  const listRef = useSize((el) => {\n    const scrollHeight = el.parentElement.parentElement.scrollHeight;\n    scrollHeightCallback(scrollHeight);\n    const firstItem = el.firstChild;\n    if (firstItem) {\n      const { width, height } = firstItem.getBoundingClientRect();\n      itemDimensions({ width, height });\n    }\n    gridGap({\n      row: resolveGapValue(\"row-gap\", getComputedStyle(el).rowGap, log),\n      column: resolveGapValue(\"column-gap\", getComputedStyle(el).columnGap, log)\n    });\n  });\n  if (stateRestoreInProgress) {\n    return null;\n  }\n  return React.createElement(\n    ListComponent,\n    {\n      ref: listRef,\n      className: listClassName,\n      ...contextPropIfNotDomElement(ListComponent, context),\n      style: { paddingTop: gridState.offsetTop, paddingBottom: gridState.offsetBottom },\n      \"data-test-id\": \"virtuoso-item-list\"\n    },\n    gridState.items.map((item) => {\n      const key = computeItemKey(item.index, item.data, context);\n      return isSeeking ? React.createElement(ScrollSeekPlaceholder, {\n        key,\n        ...contextPropIfNotDomElement(ScrollSeekPlaceholder, context),\n        index: item.index,\n        height: gridState.itemHeight,\n        width: gridState.itemWidth\n      }) : React.createElement(\n        ItemComponent,\n        { ...contextPropIfNotDomElement(ItemComponent, context), className: itemClassName, \"data-index\": item.index, key },\n        itemContent(item.index, item.data, context)\n      );\n    })\n  );\n});\nconst Header = React.memo(function VirtuosoHeader2() {\n  const Header2 = useEmitterValue$1(\"HeaderComponent\");\n  const headerHeight = usePublisher$1(\"headerHeight\");\n  const headerFooterTag = useEmitterValue$1(\"headerFooterTag\");\n  const ref = useSize((el) => headerHeight(correctItemSize(el, \"height\")));\n  const context = useEmitterValue$1(\"context\");\n  return Header2 ? React.createElement(headerFooterTag, { ref }, React.createElement(Header2, contextPropIfNotDomElement(Header2, context))) : null;\n});\nconst Footer = React.memo(function VirtuosoGridFooter() {\n  const Footer2 = useEmitterValue$1(\"FooterComponent\");\n  const footerHeight = usePublisher$1(\"footerHeight\");\n  const headerFooterTag = useEmitterValue$1(\"headerFooterTag\");\n  const ref = useSize((el) => footerHeight(correctItemSize(el, \"height\")));\n  const context = useEmitterValue$1(\"context\");\n  return Footer2 ? React.createElement(headerFooterTag, { ref }, React.createElement(Footer2, contextPropIfNotDomElement(Footer2, context))) : null;\n});\nconst Viewport$1 = ({ children }) => {\n  const ctx = React.useContext(VirtuosoGridMockContext);\n  const itemDimensions = usePublisher$1(\"itemDimensions\");\n  const viewportDimensions = usePublisher$1(\"viewportDimensions\");\n  const viewportRef = useSize((el) => {\n    viewportDimensions(el.getBoundingClientRect());\n  });\n  React.useEffect(() => {\n    if (ctx) {\n      viewportDimensions({ height: ctx.viewportHeight, width: ctx.viewportWidth });\n      itemDimensions({ height: ctx.itemHeight, width: ctx.itemWidth });\n    }\n  }, [ctx, viewportDimensions, itemDimensions]);\n  return /* @__PURE__ */ React.createElement(\"div\", { style: viewportStyle, ref: viewportRef }, children);\n};\nconst WindowViewport$1 = ({ children }) => {\n  const ctx = React.useContext(VirtuosoGridMockContext);\n  const windowViewportRect = usePublisher$1(\"windowViewportRect\");\n  const itemDimensions = usePublisher$1(\"itemDimensions\");\n  const customScrollParent = useEmitterValue$1(\"customScrollParent\");\n  const viewportRef = useWindowViewportRectRef(windowViewportRect, customScrollParent);\n  React.useEffect(() => {\n    if (ctx) {\n      itemDimensions({ height: ctx.itemHeight, width: ctx.itemWidth });\n      windowViewportRect({ offsetTop: 0, visibleHeight: ctx.viewportHeight, visibleWidth: ctx.viewportWidth });\n    }\n  }, [ctx, windowViewportRect, itemDimensions]);\n  return /* @__PURE__ */ React.createElement(\"div\", { ref: viewportRef, style: viewportStyle }, children);\n};\nconst GridRoot = /* @__PURE__ */ React.memo(function GridRoot2({ ...props }) {\n  const useWindowScroll = useEmitterValue$1(\"useWindowScroll\");\n  const customScrollParent = useEmitterValue$1(\"customScrollParent\");\n  const TheScroller = customScrollParent || useWindowScroll ? WindowScroller$1 : Scroller$1;\n  const TheViewport = customScrollParent || useWindowScroll ? WindowViewport$1 : Viewport$1;\n  return /* @__PURE__ */ React.createElement(TheScroller, { ...props }, /* @__PURE__ */ React.createElement(TheViewport, null, /* @__PURE__ */ React.createElement(Header, null), /* @__PURE__ */ React.createElement(GridItems, null), /* @__PURE__ */ React.createElement(Footer, null)));\n});\nconst {\n  Component: Grid,\n  usePublisher: usePublisher$1,\n  useEmitterValue: useEmitterValue$1,\n  useEmitter: useEmitter$1\n} = /* @__PURE__ */ systemToComponent(\n  combinedSystem$1,\n  {\n    optional: {\n      context: \"context\",\n      totalCount: \"totalCount\",\n      overscan: \"overscan\",\n      itemContent: \"itemContent\",\n      components: \"components\",\n      computeItemKey: \"computeItemKey\",\n      data: \"data\",\n      initialItemCount: \"initialItemCount\",\n      scrollSeekConfiguration: \"scrollSeekConfiguration\",\n      headerFooterTag: \"headerFooterTag\",\n      listClassName: \"listClassName\",\n      itemClassName: \"itemClassName\",\n      useWindowScroll: \"useWindowScroll\",\n      customScrollParent: \"customScrollParent\",\n      scrollerRef: \"scrollerRef\",\n      logLevel: \"logLevel\",\n      restoreStateFrom: \"restoreStateFrom\",\n      initialTopMostItemIndex: \"initialTopMostItemIndex\"\n    },\n    methods: {\n      scrollTo: \"scrollTo\",\n      scrollBy: \"scrollBy\",\n      scrollToIndex: \"scrollToIndex\"\n    },\n    events: {\n      isScrolling: \"isScrolling\",\n      endReached: \"endReached\",\n      startReached: \"startReached\",\n      rangeChanged: \"rangeChanged\",\n      atBottomStateChange: \"atBottomStateChange\",\n      atTopStateChange: \"atTopStateChange\",\n      stateChanged: \"stateChanged\"\n    }\n  },\n  GridRoot\n);\nconst Scroller$1 = /* @__PURE__ */ buildScroller({ usePublisher: usePublisher$1, useEmitterValue: useEmitterValue$1, useEmitter: useEmitter$1 });\nconst WindowScroller$1 = /* @__PURE__ */ buildWindowScroller({ usePublisher: usePublisher$1, useEmitterValue: useEmitterValue$1, useEmitter: useEmitter$1 });\nfunction resolveGapValue(property, value, log) {\n  if (value !== \"normal\" && !(value == null ? void 0 : value.endsWith(\"px\"))) {\n    log(`${property} was not resolved to pixel value correctly`, value, LogLevel.WARN);\n  }\n  if (value === \"normal\") {\n    return 0;\n  }\n  return parseInt(value != null ? value : \"0\", 10);\n}\nconst VirtuosoGrid = Grid;\nconst tableComponentPropsSystem = /* @__PURE__ */ system(() => {\n  const itemContent = statefulStream((index) => /* @__PURE__ */ React.createElement(\"td\", null, \"Item $\", index));\n  const context = statefulStream(null);\n  const fixedHeaderContent = statefulStream(null);\n  const fixedFooterContent = statefulStream(null);\n  const components = statefulStream({});\n  const computeItemKey = statefulStream(identity);\n  const scrollerRef = statefulStream(noop);\n  const distinctProp = (propName, defaultValue = null) => {\n    return statefulStreamFromEmitter(\n      pipe(\n        components,\n        map((components2) => components2[propName]),\n        distinctUntilChanged()\n      ),\n      defaultValue\n    );\n  };\n  return {\n    context,\n    itemContent,\n    fixedHeaderContent,\n    fixedFooterContent,\n    components,\n    computeItemKey,\n    scrollerRef,\n    TableComponent: distinctProp(\"Table\", \"table\"),\n    TableHeadComponent: distinctProp(\"TableHead\", \"thead\"),\n    TableFooterComponent: distinctProp(\"TableFoot\", \"tfoot\"),\n    TableBodyComponent: distinctProp(\"TableBody\", \"tbody\"),\n    TableRowComponent: distinctProp(\"TableRow\", \"tr\"),\n    ScrollerComponent: distinctProp(\"Scroller\", \"div\"),\n    EmptyPlaceholder: distinctProp(\"EmptyPlaceholder\"),\n    ScrollSeekPlaceholder: distinctProp(\"ScrollSeekPlaceholder\"),\n    FillerRow: distinctProp(\"FillerRow\")\n  };\n});\nconst combinedSystem = /* @__PURE__ */ system(([listSystem2, propsSystem]) => {\n  return { ...listSystem2, ...propsSystem };\n}, tup(listSystem, tableComponentPropsSystem));\nconst DefaultScrollSeekPlaceholder = ({ height }) => /* @__PURE__ */ React.createElement(\"tr\", null, /* @__PURE__ */ React.createElement(\"td\", { style: { height } }));\nconst DefaultFillerRow = ({ height }) => /* @__PURE__ */ React.createElement(\"tr\", null, /* @__PURE__ */ React.createElement(\"td\", { style: { height, padding: 0, border: 0 } }));\nconst ITEM_STYLE = { overflowAnchor: \"none\" };\nconst Items = /* @__PURE__ */ React.memo(function VirtuosoItems2() {\n  const listState = useEmitterValue(\"listState\");\n  const sizeRanges = usePublisher(\"sizeRanges\");\n  const useWindowScroll = useEmitterValue(\"useWindowScroll\");\n  const customScrollParent = useEmitterValue(\"customScrollParent\");\n  const windowScrollContainerStateCallback = usePublisher(\"windowScrollContainerState\");\n  const _scrollContainerStateCallback = usePublisher(\"scrollContainerState\");\n  const scrollContainerStateCallback = customScrollParent || useWindowScroll ? windowScrollContainerStateCallback : _scrollContainerStateCallback;\n  const itemContent = useEmitterValue(\"itemContent\");\n  const trackItemSizes = useEmitterValue(\"trackItemSizes\");\n  const itemSize = useEmitterValue(\"itemSize\");\n  const log = useEmitterValue(\"log\");\n  const { callbackRef, ref } = useChangedListContentsSizes(\n    sizeRanges,\n    itemSize,\n    trackItemSizes,\n    scrollContainerStateCallback,\n    log,\n    void 0,\n    customScrollParent\n  );\n  const [deviation, setDeviation] = React.useState(0);\n  useEmitter(\"deviation\", (value) => {\n    if (deviation !== value) {\n      ref.current.style.marginTop = `${value}px`;\n      setDeviation(value);\n    }\n  });\n  const EmptyPlaceholder = useEmitterValue(\"EmptyPlaceholder\");\n  const ScrollSeekPlaceholder = useEmitterValue(\"ScrollSeekPlaceholder\") || DefaultScrollSeekPlaceholder;\n  const FillerRow = useEmitterValue(\"FillerRow\") || DefaultFillerRow;\n  const TableBodyComponent = useEmitterValue(\"TableBodyComponent\");\n  const TableRowComponent = useEmitterValue(\"TableRowComponent\");\n  const computeItemKey = useEmitterValue(\"computeItemKey\");\n  const isSeeking = useEmitterValue(\"isSeeking\");\n  const paddingTopAddition = useEmitterValue(\"paddingTopAddition\");\n  const firstItemIndex = useEmitterValue(\"firstItemIndex\");\n  const statefulTotalCount = useEmitterValue(\"statefulTotalCount\");\n  const context = useEmitterValue(\"context\");\n  if (statefulTotalCount === 0 && EmptyPlaceholder) {\n    return React.createElement(EmptyPlaceholder, contextPropIfNotDomElement(EmptyPlaceholder, context));\n  }\n  const paddingTop = listState.offsetTop + paddingTopAddition + deviation;\n  const paddingBottom = listState.offsetBottom;\n  const paddingTopEl = paddingTop > 0 ? /* @__PURE__ */ React.createElement(FillerRow, { height: paddingTop, key: \"padding-top\", context }) : null;\n  const paddingBottomEl = paddingBottom > 0 ? /* @__PURE__ */ React.createElement(FillerRow, { height: paddingBottom, key: \"padding-bottom\", context }) : null;\n  const items = listState.items.map((item) => {\n    const index = item.originalIndex;\n    const key = computeItemKey(index + firstItemIndex, item.data, context);\n    if (isSeeking) {\n      return React.createElement(ScrollSeekPlaceholder, {\n        ...contextPropIfNotDomElement(ScrollSeekPlaceholder, context),\n        key,\n        index: item.index,\n        height: item.size,\n        type: item.type || \"item\"\n      });\n    }\n    return React.createElement(\n      TableRowComponent,\n      {\n        ...contextPropIfNotDomElement(TableRowComponent, context),\n        key,\n        \"data-index\": index,\n        \"data-known-size\": item.size,\n        \"data-item-index\": item.index,\n        item: item.data,\n        style: ITEM_STYLE\n      },\n      itemContent(item.index, item.data, context)\n    );\n  });\n  return React.createElement(\n    TableBodyComponent,\n    { ref: callbackRef, \"data-test-id\": \"virtuoso-item-list\", ...contextPropIfNotDomElement(TableBodyComponent, context) },\n    [paddingTopEl, ...items, paddingBottomEl]\n  );\n});\nconst Viewport = ({ children }) => {\n  const ctx = React.useContext(VirtuosoMockContext);\n  const viewportHeight = usePublisher(\"viewportHeight\");\n  const fixedItemHeight = usePublisher(\"fixedItemHeight\");\n  const viewportRef = useSize(compose(viewportHeight, (el) => correctItemSize(el, \"height\")));\n  React.useEffect(() => {\n    if (ctx) {\n      viewportHeight(ctx.viewportHeight);\n      fixedItemHeight(ctx.itemHeight);\n    }\n  }, [ctx, viewportHeight, fixedItemHeight]);\n  return /* @__PURE__ */ React.createElement(\"div\", { style: viewportStyle, ref: viewportRef, \"data-viewport-type\": \"element\" }, children);\n};\nconst WindowViewport = ({ children }) => {\n  const ctx = React.useContext(VirtuosoMockContext);\n  const windowViewportRect = usePublisher(\"windowViewportRect\");\n  const fixedItemHeight = usePublisher(\"fixedItemHeight\");\n  const customScrollParent = useEmitterValue(\"customScrollParent\");\n  const viewportRef = useWindowViewportRectRef(windowViewportRect, customScrollParent);\n  React.useEffect(() => {\n    if (ctx) {\n      fixedItemHeight(ctx.itemHeight);\n      windowViewportRect({ offsetTop: 0, visibleHeight: ctx.viewportHeight, visibleWidth: 100 });\n    }\n  }, [ctx, windowViewportRect, fixedItemHeight]);\n  return /* @__PURE__ */ React.createElement(\"div\", { ref: viewportRef, style: viewportStyle, \"data-viewport-type\": \"window\" }, children);\n};\nconst TableRoot = /* @__PURE__ */ React.memo(function TableVirtuosoRoot(props) {\n  const useWindowScroll = useEmitterValue(\"useWindowScroll\");\n  const customScrollParent = useEmitterValue(\"customScrollParent\");\n  const fixedHeaderHeight = usePublisher(\"fixedHeaderHeight\");\n  const fixedFooterHeight = usePublisher(\"fixedFooterHeight\");\n  const fixedHeaderContent = useEmitterValue(\"fixedHeaderContent\");\n  const fixedFooterContent = useEmitterValue(\"fixedFooterContent\");\n  const context = useEmitterValue(\"context\");\n  const theadRef = useSize(compose(fixedHeaderHeight, (el) => correctItemSize(el, \"height\")));\n  const tfootRef = useSize(compose(fixedFooterHeight, (el) => correctItemSize(el, \"height\")));\n  const TheScroller = customScrollParent || useWindowScroll ? WindowScroller : Scroller;\n  const TheViewport = customScrollParent || useWindowScroll ? WindowViewport : Viewport;\n  const TheTable = useEmitterValue(\"TableComponent\");\n  const TheTHead = useEmitterValue(\"TableHeadComponent\");\n  const TheTFoot = useEmitterValue(\"TableFooterComponent\");\n  const theHead = fixedHeaderContent ? React.createElement(\n    TheTHead,\n    {\n      key: \"TableHead\",\n      style: { zIndex: 2, position: \"sticky\", top: 0 },\n      ref: theadRef,\n      ...contextPropIfNotDomElement(TheTHead, context)\n    },\n    fixedHeaderContent()\n  ) : null;\n  const theFoot = fixedFooterContent ? React.createElement(\n    TheTFoot,\n    {\n      key: \"TableFoot\",\n      style: { zIndex: 1, position: \"sticky\", bottom: 0 },\n      ref: tfootRef,\n      ...contextPropIfNotDomElement(TheTFoot, context)\n    },\n    fixedFooterContent()\n  ) : null;\n  return /* @__PURE__ */ React.createElement(TheScroller, { ...props }, /* @__PURE__ */ React.createElement(TheViewport, null, React.createElement(\n    TheTable,\n    { style: { borderSpacing: 0, overflowAnchor: \"none\" }, ...contextPropIfNotDomElement(TheTable, context) },\n    [theHead, /* @__PURE__ */ React.createElement(Items, { key: \"TableBody\" }), theFoot]\n  )));\n});\nconst {\n  Component: Table,\n  usePublisher,\n  useEmitterValue,\n  useEmitter\n} = /* @__PURE__ */ systemToComponent(\n  combinedSystem,\n  {\n    required: {},\n    optional: {\n      context: \"context\",\n      followOutput: \"followOutput\",\n      firstItemIndex: \"firstItemIndex\",\n      itemContent: \"itemContent\",\n      fixedHeaderContent: \"fixedHeaderContent\",\n      fixedFooterContent: \"fixedFooterContent\",\n      overscan: \"overscan\",\n      increaseViewportBy: \"increaseViewportBy\",\n      totalCount: \"totalCount\",\n      topItemCount: \"topItemCount\",\n      initialTopMostItemIndex: \"initialTopMostItemIndex\",\n      components: \"components\",\n      groupCounts: \"groupCounts\",\n      atBottomThreshold: \"atBottomThreshold\",\n      atTopThreshold: \"atTopThreshold\",\n      computeItemKey: \"computeItemKey\",\n      defaultItemHeight: \"defaultItemHeight\",\n      fixedItemHeight: \"fixedItemHeight\",\n      itemSize: \"itemSize\",\n      scrollSeekConfiguration: \"scrollSeekConfiguration\",\n      data: \"data\",\n      initialItemCount: \"initialItemCount\",\n      initialScrollTop: \"initialScrollTop\",\n      alignToBottom: \"alignToBottom\",\n      useWindowScroll: \"useWindowScroll\",\n      customScrollParent: \"customScrollParent\",\n      scrollerRef: \"scrollerRef\",\n      logLevel: \"logLevel\"\n    },\n    methods: {\n      scrollToIndex: \"scrollToIndex\",\n      scrollIntoView: \"scrollIntoView\",\n      scrollTo: \"scrollTo\",\n      scrollBy: \"scrollBy\"\n    },\n    events: {\n      isScrolling: \"isScrolling\",\n      endReached: \"endReached\",\n      startReached: \"startReached\",\n      rangeChanged: \"rangeChanged\",\n      atBottomStateChange: \"atBottomStateChange\",\n      atTopStateChange: \"atTopStateChange\",\n      totalListHeightChanged: \"totalListHeightChanged\",\n      itemsRendered: \"itemsRendered\",\n      groupIndices: \"groupIndices\"\n    }\n  },\n  TableRoot\n);\nconst Scroller = /* @__PURE__ */ buildScroller({ usePublisher, useEmitterValue, useEmitter });\nconst WindowScroller = /* @__PURE__ */ buildWindowScroller({ usePublisher, useEmitterValue, useEmitter });\nconst TableVirtuoso = Table;\nexport {\n  GroupedVirtuoso,\n  LogLevel,\n  TableVirtuoso,\n  Virtuoso,\n  VirtuosoGrid,\n  VirtuosoGridMockContext,\n  VirtuosoMockContext\n};\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport React, { Component, Children, cloneElement } from 'react';\nimport withScrolling, { createScrollingComponent, createVerticalStrength, createHorizontalStrength } from '@nosferatu500/react-dnd-scrollzone';\nimport isEqual from 'lodash.isequal';\nimport { DragSource, DropTarget, DndContext, DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { Virtuoso } from 'react-virtuoso';\n\nconst defaultGetNodeKey = ({ treeIndex }) => treeIndex;\nconst getReactElementText = (parent) => {\n  if (typeof parent === \"string\") {\n    return parent;\n  }\n  if (parent === void 0 || typeof parent !== \"object\" || !parent.props || !parent.props.children || typeof parent.props.children !== \"string\" && typeof parent.props.children !== \"object\") {\n    return \"\";\n  }\n  if (typeof parent.props.children === \"string\") {\n    return parent.props.children;\n  }\n  return parent.props.children.map((child) => getReactElementText(child)).join(\"\");\n};\nconst stringSearch = (key, searchQuery, node, path, treeIndex) => {\n  if (typeof node[key] === \"function\") {\n    return String(node[key]({ node, path, treeIndex })).includes(searchQuery);\n  }\n  if (typeof node[key] === \"object\") {\n    return getReactElementText(node[key]).includes(searchQuery);\n  }\n  return node[key] && String(node[key]).includes(searchQuery);\n};\nconst defaultSearchMethod = ({\n  node,\n  path,\n  treeIndex,\n  searchQuery\n}) => {\n  return stringSearch(\"title\", searchQuery, node, path, treeIndex) || stringSearch(\"subtitle\", searchQuery, node, path, treeIndex);\n};\n\nconst getNodeDataAtTreeIndexOrNextIndex = ({\n  targetIndex,\n  node,\n  currentIndex,\n  getNodeKey,\n  path = [],\n  lowerSiblingCounts = [],\n  ignoreCollapsed = true,\n  isPseudoRoot = false\n}) => {\n  const selfPath = isPseudoRoot ? [] : [...path, getNodeKey({ node, treeIndex: currentIndex })];\n  if (currentIndex === targetIndex) {\n    return {\n      node,\n      lowerSiblingCounts,\n      path: selfPath\n    };\n  }\n  if (!(node == null ? void 0 : node.children) || ignoreCollapsed && (node == null ? void 0 : node.expanded) !== true) {\n    return { nextIndex: currentIndex + 1 };\n  }\n  let childIndex = currentIndex + 1;\n  const childCount = node.children.length;\n  for (let i = 0; i < childCount; i += 1) {\n    const result = getNodeDataAtTreeIndexOrNextIndex({\n      ignoreCollapsed,\n      getNodeKey,\n      targetIndex,\n      node: node.children[i],\n      currentIndex: childIndex,\n      lowerSiblingCounts: [...lowerSiblingCounts, childCount - i - 1],\n      path: selfPath\n    });\n    if (result.node) {\n      return result;\n    }\n    childIndex = result.nextIndex;\n  }\n  return { nextIndex: childIndex };\n};\nconst getDescendantCount = ({\n  node,\n  ignoreCollapsed = true\n}) => {\n  return getNodeDataAtTreeIndexOrNextIndex({\n    getNodeKey: () => {\n    },\n    ignoreCollapsed,\n    node,\n    currentIndex: 0,\n    targetIndex: -1\n  }).nextIndex - 1;\n};\nconst walkDescendants = ({\n  callback,\n  getNodeKey,\n  ignoreCollapsed,\n  isPseudoRoot = false,\n  node,\n  parentNode = void 0,\n  currentIndex,\n  path = [],\n  lowerSiblingCounts = []\n}) => {\n  const selfPath = isPseudoRoot ? [] : [...path, getNodeKey({ node, treeIndex: currentIndex })];\n  const selfInfo = isPseudoRoot ? void 0 : {\n    node,\n    parentNode,\n    path: selfPath,\n    lowerSiblingCounts,\n    treeIndex: currentIndex\n  };\n  if (!isPseudoRoot) {\n    const callbackResult = callback(selfInfo);\n    if (callbackResult === false) {\n      return false;\n    }\n  }\n  if (!node.children || node.expanded !== true && ignoreCollapsed && !isPseudoRoot) {\n    return currentIndex;\n  }\n  let childIndex = currentIndex;\n  const childCount = node.children.length;\n  if (typeof node.children !== \"function\") {\n    for (let i = 0; i < childCount; i += 1) {\n      childIndex = walkDescendants({\n        callback,\n        getNodeKey,\n        ignoreCollapsed,\n        node: node.children[i],\n        parentNode: isPseudoRoot ? void 0 : node,\n        currentIndex: childIndex + 1,\n        lowerSiblingCounts: [...lowerSiblingCounts, childCount - i - 1],\n        path: selfPath\n      });\n      if (childIndex === false) {\n        return false;\n      }\n    }\n  }\n  return childIndex;\n};\nconst mapDescendants = ({\n  callback,\n  getNodeKey,\n  ignoreCollapsed,\n  isPseudoRoot = false,\n  node,\n  parentNode = void 0,\n  currentIndex,\n  path = [],\n  lowerSiblingCounts = []\n}) => {\n  const nextNode = { ...node };\n  const selfPath = isPseudoRoot ? [] : [...path, getNodeKey({ node: nextNode, treeIndex: currentIndex })];\n  const selfInfo = {\n    node: nextNode,\n    parentNode,\n    path: selfPath,\n    lowerSiblingCounts,\n    treeIndex: currentIndex\n  };\n  if (!nextNode.children || nextNode.expanded !== true && ignoreCollapsed && !isPseudoRoot) {\n    return {\n      treeIndex: currentIndex,\n      node: callback(selfInfo)\n    };\n  }\n  let childIndex = currentIndex;\n  const childCount = nextNode.children.length;\n  if (typeof nextNode.children !== \"function\") {\n    nextNode.children = nextNode.children.map((child, i) => {\n      const mapResult = mapDescendants({\n        callback,\n        getNodeKey,\n        ignoreCollapsed,\n        node: child,\n        parentNode: isPseudoRoot ? void 0 : nextNode,\n        currentIndex: childIndex + 1,\n        lowerSiblingCounts: [...lowerSiblingCounts, childCount - i - 1],\n        path: selfPath\n      });\n      childIndex = mapResult.treeIndex;\n      return mapResult.node;\n    });\n  }\n  return {\n    node: callback(selfInfo),\n    treeIndex: childIndex\n  };\n};\nconst getVisibleNodeCount = ({ treeData }) => {\n  const traverse = (node) => {\n    if (!node.children || node.expanded !== true || typeof node.children === \"function\") {\n      return 1;\n    }\n    return 1 + node.children.reduce(\n      (total, currentNode) => total + traverse(currentNode),\n      0\n    );\n  };\n  return treeData.reduce(\n    (total, currentNode) => total + traverse(currentNode),\n    0\n  );\n};\nconst getVisibleNodeInfoAtIndex = ({\n  treeData,\n  index: targetIndex,\n  getNodeKey\n}) => {\n  if (!treeData || treeData.length === 0) {\n    return void 0;\n  }\n  const result = getNodeDataAtTreeIndexOrNextIndex({\n    targetIndex,\n    getNodeKey,\n    node: {\n      children: treeData,\n      expanded: true\n    },\n    currentIndex: -1,\n    path: [],\n    lowerSiblingCounts: [],\n    isPseudoRoot: true\n  });\n  if (result.node) {\n    return result;\n  }\n  return void 0;\n};\nconst walk = ({\n  treeData,\n  getNodeKey,\n  callback,\n  ignoreCollapsed = true\n}) => {\n  if (!treeData || treeData.length === 0) {\n    return;\n  }\n  walkDescendants({\n    callback,\n    getNodeKey,\n    ignoreCollapsed,\n    isPseudoRoot: true,\n    node: { children: treeData },\n    currentIndex: -1,\n    path: [],\n    lowerSiblingCounts: []\n  });\n};\nconst map = ({\n  treeData,\n  getNodeKey,\n  callback,\n  ignoreCollapsed = true\n}) => {\n  if (!treeData || treeData.length === 0) {\n    return [];\n  }\n  return mapDescendants({\n    callback,\n    getNodeKey,\n    ignoreCollapsed,\n    isPseudoRoot: true,\n    node: { children: treeData },\n    currentIndex: -1,\n    path: [],\n    lowerSiblingCounts: []\n  }).node.children;\n};\nconst toggleExpandedForAll = ({\n  treeData,\n  expanded = true\n}) => {\n  return map({\n    treeData,\n    callback: ({ node }) => ({ ...node, expanded }),\n    getNodeKey: ({ treeIndex }) => treeIndex,\n    ignoreCollapsed: false\n  });\n};\nconst changeNodeAtPath = ({\n  treeData,\n  path,\n  newNode,\n  getNodeKey,\n  ignoreCollapsed = true\n}) => {\n  const RESULT_MISS = \"RESULT_MISS\";\n  const traverse = ({\n    isPseudoRoot = false,\n    node,\n    currentTreeIndex,\n    pathIndex\n  }) => {\n    if (!isPseudoRoot && getNodeKey({ node, treeIndex: currentTreeIndex }) !== path[pathIndex]) {\n      return RESULT_MISS;\n    }\n    if (pathIndex >= path.length - 1) {\n      return typeof newNode === \"function\" ? newNode({ node, treeIndex: currentTreeIndex }) : newNode;\n    }\n    if (!node.children) {\n      throw new Error(\"Path referenced children of node with no children.\");\n    }\n    let nextTreeIndex = currentTreeIndex + 1;\n    for (let i = 0; i < node.children.length; i += 1) {\n      const result2 = traverse({\n        node: node.children[i],\n        currentTreeIndex: nextTreeIndex,\n        pathIndex: pathIndex + 1\n      });\n      if (result2 !== RESULT_MISS) {\n        if (result2) {\n          return {\n            ...node,\n            children: [\n              ...node.children.slice(0, i),\n              result2,\n              ...node.children.slice(i + 1)\n            ]\n          };\n        }\n        return {\n          ...node,\n          children: [\n            ...node.children.slice(0, i),\n            ...node.children.slice(i + 1)\n          ]\n        };\n      }\n      nextTreeIndex += 1 + getDescendantCount({ node: node.children[i], ignoreCollapsed });\n    }\n    return RESULT_MISS;\n  };\n  const result = traverse({\n    node: { children: treeData },\n    currentTreeIndex: -1,\n    pathIndex: -1,\n    isPseudoRoot: true\n  });\n  if (result === RESULT_MISS) {\n    throw new Error(\"No node found at the given path.\");\n  }\n  return result.children;\n};\nconst removeNodeAtPath = ({\n  treeData,\n  path,\n  getNodeKey,\n  ignoreCollapsed = true\n}) => {\n  return changeNodeAtPath({\n    treeData,\n    path,\n    getNodeKey,\n    ignoreCollapsed,\n    newNode: void 0\n    // Delete the node\n  });\n};\nconst removeNode = ({\n  treeData,\n  path,\n  getNodeKey,\n  ignoreCollapsed = true\n}) => {\n  let removedNode;\n  let removedTreeIndex;\n  const nextTreeData = changeNodeAtPath({\n    treeData,\n    path,\n    getNodeKey,\n    ignoreCollapsed,\n    newNode: ({ node, treeIndex }) => {\n      removedNode = node;\n      removedTreeIndex = treeIndex;\n      return void 0;\n    }\n  });\n  return {\n    treeData: nextTreeData,\n    node: removedNode,\n    treeIndex: removedTreeIndex\n  };\n};\nconst getNodeAtPath = ({\n  treeData,\n  path,\n  getNodeKey,\n  ignoreCollapsed = true\n}) => {\n  let foundNodeInfo;\n  try {\n    changeNodeAtPath({\n      treeData,\n      path,\n      getNodeKey,\n      ignoreCollapsed,\n      newNode: ({ node, treeIndex }) => {\n        foundNodeInfo = { node, treeIndex };\n        return node;\n      }\n    });\n  } catch {\n  }\n  return foundNodeInfo;\n};\nconst addNodeUnderParent = ({\n  treeData,\n  newNode,\n  parentKey = void 0,\n  getNodeKey,\n  ignoreCollapsed = true,\n  expandParent = false,\n  addAsFirstChild = false\n}) => {\n  if (parentKey === null || parentKey === void 0) {\n    return addAsFirstChild ? {\n      treeData: [newNode, ...treeData || []],\n      treeIndex: 0\n    } : {\n      treeData: [...treeData || [], newNode],\n      treeIndex: (treeData || []).length\n    };\n  }\n  let insertedTreeIndex;\n  let hasBeenAdded = false;\n  const changedTreeData = map({\n    treeData,\n    getNodeKey,\n    ignoreCollapsed,\n    callback: ({ node, treeIndex, path }) => {\n      const key = path ? path[path.length - 1] : void 0;\n      if (hasBeenAdded || key !== parentKey) {\n        return node;\n      }\n      hasBeenAdded = true;\n      const parentNode = {\n        ...node\n      };\n      if (expandParent) {\n        parentNode.expanded = true;\n      }\n      if (!parentNode.children) {\n        insertedTreeIndex = treeIndex + 1;\n        return {\n          ...parentNode,\n          children: [newNode]\n        };\n      }\n      if (typeof parentNode.children === \"function\") {\n        throw new TypeError(\"Cannot add to children defined by a function\");\n      }\n      let nextTreeIndex = treeIndex + 1;\n      for (let i = 0; i < parentNode.children.length; i += 1) {\n        nextTreeIndex += 1 + getDescendantCount({ node: parentNode.children[i], ignoreCollapsed });\n      }\n      insertedTreeIndex = nextTreeIndex;\n      const children = addAsFirstChild ? [newNode, ...parentNode.children] : [...parentNode.children, newNode];\n      return {\n        ...parentNode,\n        children\n      };\n    }\n  });\n  if (!hasBeenAdded) {\n    throw new Error(\"No node found with the given key.\");\n  }\n  return {\n    treeData: changedTreeData,\n    treeIndex: insertedTreeIndex\n  };\n};\nconst addNodeAtDepthAndIndex = ({\n  targetDepth,\n  minimumTreeIndex,\n  newNode,\n  ignoreCollapsed,\n  expandParent,\n  isPseudoRoot = false,\n  isLastChild,\n  node,\n  currentIndex,\n  currentDepth,\n  getNodeKey,\n  path = []\n}) => {\n  const selfPath = (n) => isPseudoRoot ? [] : [...path, getNodeKey({ node: n, treeIndex: currentIndex })];\n  if (currentIndex >= minimumTreeIndex - 1 || isLastChild && !(node.children && node.children.length > 0)) {\n    if (typeof node.children === \"function\") {\n      throw new TypeError(\"Cannot add to children defined by a function\");\n    } else {\n      const extraNodeProps = expandParent ? { expanded: true } : {};\n      const nextNode2 = {\n        ...node,\n        ...extraNodeProps,\n        children: node.children ? [newNode, ...node.children] : [newNode]\n      };\n      return {\n        node: nextNode2,\n        nextIndex: currentIndex + 2,\n        insertedTreeIndex: currentIndex + 1,\n        parentPath: selfPath(nextNode2),\n        parentNode: isPseudoRoot ? void 0 : nextNode2\n      };\n    }\n  }\n  if (currentDepth >= targetDepth - 1) {\n    if (!node.children || typeof node.children === \"function\" || node.expanded !== true && ignoreCollapsed && !isPseudoRoot) {\n      return { node, nextIndex: currentIndex + 1 };\n    }\n    let childIndex2 = currentIndex + 1;\n    let insertedTreeIndex2;\n    let insertIndex;\n    for (let i = 0; i < node.children.length; i += 1) {\n      if (childIndex2 >= minimumTreeIndex) {\n        insertedTreeIndex2 = childIndex2;\n        insertIndex = i;\n        break;\n      }\n      childIndex2 += 1 + getDescendantCount({ node: node.children[i], ignoreCollapsed });\n    }\n    if (insertIndex === null || insertIndex === void 0) {\n      if (childIndex2 < minimumTreeIndex && !isLastChild) {\n        return { node, nextIndex: childIndex2 };\n      }\n      insertedTreeIndex2 = childIndex2;\n      insertIndex = node.children.length;\n    }\n    const nextNode2 = {\n      ...node,\n      children: [\n        ...node.children.slice(0, insertIndex),\n        newNode,\n        ...node.children.slice(insertIndex)\n      ]\n    };\n    return {\n      node: nextNode2,\n      nextIndex: childIndex2,\n      insertedTreeIndex: insertedTreeIndex2,\n      parentPath: selfPath(nextNode2),\n      parentNode: isPseudoRoot ? void 0 : nextNode2\n    };\n  }\n  if (!node.children || typeof node.children === \"function\" || node.expanded !== true && ignoreCollapsed && !isPseudoRoot) {\n    return { node, nextIndex: currentIndex + 1 };\n  }\n  let insertedTreeIndex;\n  let pathFragment;\n  let parentNode;\n  let childIndex = currentIndex + 1;\n  let newChildren = node.children;\n  if (typeof newChildren !== \"function\") {\n    newChildren = newChildren.map((child, i) => {\n      if (insertedTreeIndex !== null && insertedTreeIndex !== void 0) {\n        return child;\n      }\n      const mapResult = addNodeAtDepthAndIndex({\n        targetDepth,\n        minimumTreeIndex,\n        newNode,\n        ignoreCollapsed,\n        expandParent,\n        isLastChild: isLastChild && i === newChildren.length - 1,\n        node: child,\n        currentIndex: childIndex,\n        currentDepth: currentDepth + 1,\n        getNodeKey,\n        path: []\n        // Cannot determine the parent path until the children have been processed\n      });\n      if (\"insertedTreeIndex\" in mapResult) {\n        ({\n          insertedTreeIndex,\n          parentNode,\n          parentPath: pathFragment\n        } = mapResult);\n      }\n      childIndex = mapResult.nextIndex;\n      return mapResult.node;\n    });\n  }\n  const nextNode = { ...node, children: newChildren };\n  const result = {\n    node: nextNode,\n    nextIndex: childIndex\n  };\n  if (insertedTreeIndex !== null && insertedTreeIndex !== void 0) {\n    result.insertedTreeIndex = insertedTreeIndex;\n    result.parentPath = [...selfPath(nextNode), ...pathFragment];\n    result.parentNode = parentNode;\n  }\n  return result;\n};\nconst insertNode = ({\n  treeData,\n  depth: targetDepth,\n  minimumTreeIndex,\n  newNode,\n  getNodeKey,\n  ignoreCollapsed = true,\n  expandParent = false\n}) => {\n  if (!treeData && targetDepth === 0) {\n    return {\n      treeData: [newNode],\n      treeIndex: 0,\n      path: [getNodeKey({ node: newNode, treeIndex: 0 })],\n      parentNode: void 0\n    };\n  }\n  const insertResult = addNodeAtDepthAndIndex({\n    targetDepth,\n    minimumTreeIndex,\n    newNode,\n    ignoreCollapsed,\n    expandParent,\n    getNodeKey,\n    isPseudoRoot: true,\n    isLastChild: true,\n    node: { children: treeData },\n    currentIndex: -1,\n    currentDepth: -1\n  });\n  if (!(\"insertedTreeIndex\" in insertResult)) {\n    throw new Error(\"No suitable position found to insert.\");\n  }\n  const treeIndex = insertResult.insertedTreeIndex;\n  return {\n    treeData: insertResult.node.children,\n    treeIndex,\n    path: [\n      ...insertResult.parentPath,\n      getNodeKey({ node: newNode, treeIndex })\n    ],\n    parentNode: insertResult.parentNode\n  };\n};\nconst getFlatDataFromTree = ({\n  treeData,\n  getNodeKey,\n  ignoreCollapsed = true\n}) => {\n  if (!treeData || treeData.length === 0) {\n    return [];\n  }\n  const flattened = [];\n  walk({\n    treeData,\n    getNodeKey,\n    ignoreCollapsed,\n    callback: (nodeInfo) => {\n      flattened.push(nodeInfo);\n    }\n  });\n  return flattened;\n};\nconst getTreeFromFlatData = ({\n  flatData,\n  getKey = (node) => node.id,\n  getParentKey = (node) => node.parentId,\n  rootKey = \"0\"\n}) => {\n  if (!flatData) {\n    return [];\n  }\n  const childrenToParents = {};\n  for (const child of flatData) {\n    const parentKey = getParentKey(child);\n    if (parentKey in childrenToParents) {\n      childrenToParents[parentKey].push(child);\n    } else {\n      childrenToParents[parentKey] = [child];\n    }\n  }\n  if (!(rootKey in childrenToParents)) {\n    return [];\n  }\n  const trav = (parent) => {\n    const parentKey = getKey(parent);\n    if (parentKey in childrenToParents) {\n      return {\n        ...parent,\n        children: childrenToParents[parentKey].map((child) => trav(child))\n      };\n    }\n    return { ...parent };\n  };\n  return childrenToParents[rootKey].map((child) => trav(child));\n};\nconst isDescendant = (older, younger) => {\n  return !!older.children && typeof older.children !== \"function\" && older.children.some(\n    (child) => child === younger || isDescendant(child, younger)\n  );\n};\nconst getDepth = (node, depth = 0) => {\n  if (!node.children) {\n    return depth;\n  }\n  if (typeof node.children === \"function\") {\n    return depth + 1;\n  }\n  return node.children.reduce(\n    (deepest, child) => Math.max(deepest, getDepth(child, depth + 1)),\n    depth\n  );\n};\nconst find = ({\n  getNodeKey,\n  treeData,\n  searchQuery,\n  searchMethod,\n  searchFocusOffset,\n  expandAllMatchPaths = false,\n  expandFocusMatchPaths = true\n}) => {\n  let matchCount = 0;\n  const trav = ({ isPseudoRoot = false, node, currentIndex, path = [] }) => {\n    let matches = [];\n    let isSelfMatch = false;\n    let hasFocusMatch = false;\n    const selfPath = isPseudoRoot ? [] : [...path, getNodeKey({ node, treeIndex: currentIndex })];\n    const extraInfo = isPseudoRoot ? void 0 : {\n      path: selfPath,\n      treeIndex: currentIndex\n    };\n    const hasChildren = node.children && typeof node.children !== \"function\" && node.children.length > 0;\n    if (!isPseudoRoot && searchMethod({ ...extraInfo, node, searchQuery })) {\n      if (matchCount === searchFocusOffset) {\n        hasFocusMatch = true;\n      }\n      matchCount += 1;\n      isSelfMatch = true;\n    }\n    let childIndex = currentIndex;\n    const newNode = { ...node };\n    if (hasChildren) {\n      newNode.children = newNode.children.map((child) => {\n        const mapResult = trav({\n          node: child,\n          currentIndex: childIndex + 1,\n          path: selfPath\n        });\n        if (mapResult.node.expanded) {\n          childIndex = mapResult.treeIndex;\n        } else {\n          childIndex += 1;\n        }\n        if (mapResult.matches.length > 0 || mapResult.hasFocusMatch) {\n          matches = [...matches, ...mapResult.matches];\n          if (mapResult.hasFocusMatch) {\n            hasFocusMatch = true;\n          }\n          if (expandAllMatchPaths && mapResult.matches.length > 0 || (expandAllMatchPaths || expandFocusMatchPaths) && mapResult.hasFocusMatch) {\n            newNode.expanded = true;\n          }\n        }\n        return mapResult.node;\n      });\n    }\n    if (!isPseudoRoot && !newNode.expanded) {\n      matches = matches.map((match) => ({\n        ...match,\n        treeIndex: void 0\n      }));\n    }\n    if (isSelfMatch) {\n      matches = [{ ...extraInfo, node: newNode }, ...matches];\n    }\n    return {\n      node: matches.length > 0 ? newNode : node,\n      matches,\n      hasFocusMatch,\n      treeIndex: childIndex\n    };\n  };\n  const result = trav({\n    node: { children: treeData },\n    isPseudoRoot: true,\n    currentIndex: -1\n  });\n  return {\n    matches: result.matches,\n    treeData: result.node.children\n  };\n};\n\nconst classnames = (...classes) => classes.filter(Boolean).join(\" \");\n\nconst defaultProps$3 = {\n  isSearchMatch: false,\n  isSearchFocus: false,\n  canDrag: false,\n  toggleChildrenVisibility: void 0,\n  buttons: [],\n  className: \"\",\n  style: {},\n  parentNode: void 0,\n  draggedNode: void 0,\n  canDrop: false,\n  title: void 0,\n  subtitle: void 0,\n  rowDirection: \"ltr\"\n};\nconst NodeRendererDefault = function(props) {\n  props = { ...defaultProps$3, ...props };\n  const {\n    scaffoldBlockPxWidth,\n    toggleChildrenVisibility,\n    connectDragPreview,\n    connectDragSource,\n    isDragging,\n    canDrop,\n    canDrag,\n    node,\n    title,\n    subtitle,\n    draggedNode,\n    path,\n    treeIndex,\n    isSearchMatch,\n    isSearchFocus,\n    buttons,\n    className,\n    style,\n    didDrop,\n    treeId: _treeId,\n    isOver: _isOver,\n    // Not needed, but preserved for other renderers\n    parentNode: _parentNode,\n    // Needed for dndManager\n    rowDirection,\n    ...otherProps\n  } = props;\n  const nodeTitle = title || node.title;\n  const nodeSubtitle = subtitle || node.subtitle;\n  const rowDirectionClass = rowDirection === \"rtl\" ? \"rst__rtl\" : void 0;\n  let handle;\n  if (canDrag) {\n    handle = typeof node.children === \"function\" && node.expanded ? /* @__PURE__ */ jsx(\"div\", { className: \"rst__loadingHandle\", children: /* @__PURE__ */ jsx(\"div\", { className: \"rst__loadingCircle\", children: Array.from({ length: 12 }).map((_, index) => /* @__PURE__ */ jsx(\n      \"div\",\n      {\n        className: classnames(\n          \"rst__loadingCirclePoint\",\n          rowDirectionClass ?? \"\"\n        )\n      },\n      index\n    )) }) }) : connectDragSource(/* @__PURE__ */ jsx(\"div\", { className: \"rst__moveHandle\" }), {\n      dropEffect: \"copy\"\n    });\n  }\n  const isDraggedDescendant = draggedNode && isDescendant(draggedNode, node);\n  const isLandingPadActive = !didDrop && isDragging;\n  let buttonStyle = { left: -0.5 * scaffoldBlockPxWidth, right: 0 };\n  if (rowDirection === \"rtl\") {\n    buttonStyle = { right: -0.5 * scaffoldBlockPxWidth, left: 0 };\n  }\n  return /* @__PURE__ */ jsxs(\"div\", { style: { height: \"100%\" }, ...otherProps, children: [\n    toggleChildrenVisibility && node.children && (node.children.length > 0 || typeof node.children === \"function\") && /* @__PURE__ */ jsxs(\"div\", { children: [\n      /* @__PURE__ */ jsx(\n        \"button\",\n        {\n          type: \"button\",\n          \"aria-label\": node.expanded ? \"Collapse\" : \"Expand\",\n          className: classnames(\n            node.expanded ? \"rst__collapseButton\" : \"rst__expandButton\",\n            rowDirectionClass ?? \"\"\n          ),\n          style: buttonStyle,\n          onClick: () => toggleChildrenVisibility({\n            node,\n            path,\n            treeIndex\n          })\n        }\n      ),\n      node.expanded && !isDragging && /* @__PURE__ */ jsx(\n        \"div\",\n        {\n          style: { width: scaffoldBlockPxWidth },\n          className: classnames(\n            \"rst__lineChildren\",\n            rowDirectionClass ?? \"\"\n          )\n        }\n      )\n    ] }),\n    /* @__PURE__ */ jsx(\"div\", { className: classnames(\"rst__rowWrapper\", rowDirectionClass ?? \"\"), children: connectDragPreview(\n      /* @__PURE__ */ jsxs(\n        \"div\",\n        {\n          className: classnames(\n            \"rst__row\",\n            isLandingPadActive ? \"rst__rowLandingPad\" : \"\",\n            isLandingPadActive && !canDrop ? \"rst__rowCancelPad\" : \"\",\n            isSearchMatch ? \"rst__rowSearchMatch\" : \"\",\n            isSearchFocus ? \"rst__rowSearchFocus\" : \"\",\n            rowDirectionClass ?? \"\",\n            className ?? \"\"\n          ),\n          style: {\n            opacity: isDraggedDescendant ? 0.5 : 1,\n            ...style\n          },\n          children: [\n            handle,\n            /* @__PURE__ */ jsxs(\n              \"div\",\n              {\n                className: classnames(\n                  \"rst__rowContents\",\n                  canDrag ? \"\" : \"rst__rowContentsDragDisabled\",\n                  rowDirectionClass ?? \"\"\n                ),\n                children: [\n                  /* @__PURE__ */ jsxs(\n                    \"div\",\n                    {\n                      className: classnames(\n                        \"rst__rowLabel\",\n                        rowDirectionClass ?? \"\"\n                      ),\n                      children: [\n                        /* @__PURE__ */ jsx(\n                          \"span\",\n                          {\n                            className: classnames(\n                              \"rst__rowTitle\",\n                              node.subtitle ? \"rst__rowTitleWithSubtitle\" : \"\"\n                            ),\n                            children: typeof nodeTitle === \"function\" ? nodeTitle({\n                              node,\n                              path,\n                              treeIndex\n                            }) : nodeTitle\n                          }\n                        ),\n                        nodeSubtitle && /* @__PURE__ */ jsx(\"span\", { className: \"rst__rowSubtitle\", children: typeof nodeSubtitle === \"function\" ? nodeSubtitle({\n                          node,\n                          path,\n                          treeIndex\n                        }) : nodeSubtitle })\n                      ]\n                    }\n                  ),\n                  /* @__PURE__ */ jsx(\"div\", { className: \"rst__rowToolbar\", children: buttons == null ? void 0 : buttons.map((btn, index) => /* @__PURE__ */ jsx(\"div\", { className: \"rst__toolbarButton\", children: btn }, index)) })\n                ]\n              }\n            )\n          ]\n        }\n      )\n    ) })\n  ] });\n};\n\nconst defaultProps$2 = {\n  isOver: false,\n  canDrop: false\n};\nconst PlaceholderRendererDefault = function(props) {\n  props = { ...defaultProps$2, ...props };\n  const { canDrop, isOver } = props;\n  return /* @__PURE__ */ jsx(\n    \"div\",\n    {\n      className: classnames(\n        \"rst__placeholder\",\n        canDrop ? \"rst__placeholderLandingPad\" : \"\",\n        canDrop && !isOver ? \"rst__placeholderCancelPad\" : \"\"\n      )\n    }\n  );\n};\n\nconst defaultProps$1 = {\n  swapFrom: void 0,\n  swapDepth: void 0,\n  swapLength: void 0,\n  canDrop: false,\n  draggedNode: void 0,\n  rowDirection: \"ltr\"\n};\nclass TreeNodeComponent extends Component {\n  render() {\n    const props = { ...defaultProps$1, ...this.props };\n    const {\n      children,\n      listIndex,\n      swapFrom,\n      swapLength,\n      swapDepth,\n      scaffoldBlockPxWidth,\n      lowerSiblingCounts,\n      connectDropTarget,\n      isOver,\n      draggedNode,\n      canDrop,\n      treeIndex,\n      rowHeight,\n      treeId: _treeId,\n      // Delete from otherProps\n      getPrevRow: _getPrevRow,\n      // Delete from otherProps\n      node: _node,\n      // Delete from otherProps\n      path: _path,\n      // Delete from otherProps\n      rowDirection,\n      ...otherProps\n    } = props;\n    const rowDirectionClass = rowDirection === \"rtl\" ? \"rst__rtl\" : void 0;\n    const scaffoldBlockCount = lowerSiblingCounts.length;\n    const scaffold = [];\n    for (const [i, lowerSiblingCount] of lowerSiblingCounts.entries()) {\n      let lineClass = \"\";\n      if (lowerSiblingCount > 0) {\n        if (listIndex === 0) {\n          lineClass = \"rst__lineHalfHorizontalRight rst__lineHalfVerticalBottom\";\n        } else if (i === scaffoldBlockCount - 1) {\n          lineClass = \"rst__lineHalfHorizontalRight rst__lineFullVertical\";\n        } else {\n          lineClass = \"rst__lineFullVertical\";\n        }\n      } else if (listIndex === 0) {\n        lineClass = \"rst__lineHalfHorizontalRight\";\n      } else if (i === scaffoldBlockCount - 1) {\n        lineClass = \"rst__lineHalfVerticalTop rst__lineHalfHorizontalRight\";\n      }\n      scaffold.push(\n        /* @__PURE__ */ jsx(\n          \"div\",\n          {\n            style: { width: scaffoldBlockPxWidth },\n            className: classnames(\n              \"rst__lineBlock\",\n              lineClass,\n              rowDirectionClass ?? \"\"\n            )\n          },\n          `pre_${1 + i}`\n        )\n      );\n      if (treeIndex !== listIndex && i === swapDepth) {\n        let highlightLineClass = \"\";\n        if (listIndex === swapFrom + swapLength - 1) {\n          highlightLineClass = \"rst__highlightBottomLeftCorner\";\n        } else if (treeIndex === swapFrom) {\n          highlightLineClass = \"rst__highlightTopLeftCorner\";\n        } else {\n          highlightLineClass = \"rst__highlightLineVertical\";\n        }\n        const style2 = rowDirection === \"rtl\" ? {\n          width: scaffoldBlockPxWidth,\n          right: scaffoldBlockPxWidth * i\n        } : {\n          width: scaffoldBlockPxWidth,\n          left: scaffoldBlockPxWidth * i\n        };\n        scaffold.push(\n          /* @__PURE__ */ jsx(\n            \"div\",\n            {\n              style: style2,\n              className: classnames(\n                \"rst__absoluteLineBlock\",\n                highlightLineClass,\n                rowDirectionClass ?? \"\"\n              )\n            },\n            i\n          )\n        );\n      }\n    }\n    const style = rowDirection === \"rtl\" ? { right: scaffoldBlockPxWidth * scaffoldBlockCount } : { left: scaffoldBlockPxWidth * scaffoldBlockCount };\n    let calculatedRowHeight = rowHeight;\n    if (typeof rowHeight === \"function\") {\n      calculatedRowHeight = rowHeight(treeIndex, _node, _path);\n    }\n    return connectDropTarget(\n      /* @__PURE__ */ jsxs(\n        \"div\",\n        {\n          ...otherProps,\n          style: { height: `${calculatedRowHeight}px` },\n          className: classnames(\"rst__node\", rowDirectionClass ?? \"\"),\n          ref: (node) => this.node = node,\n          children: [\n            scaffold,\n            /* @__PURE__ */ jsx(\"div\", { className: \"rst__nodeContent\", style, children: Children.map(\n              children,\n              (child) => cloneElement(child, {\n                isOver,\n                canDrop,\n                draggedNode\n              })\n            ) })\n          ]\n        }\n      )\n    );\n  }\n}\n\nconst defaultProps = {\n  canDrop: false,\n  draggedNode: void 0\n};\nconst TreePlaceholder = (props) => {\n  props = { ...defaultProps, ...props };\n  const { children, connectDropTarget, treeId, drop, ...otherProps } = props;\n  return connectDropTarget(\n    /* @__PURE__ */ jsx(\"div\", { children: Children.map(\n      children,\n      (child) => cloneElement(child, {\n        ...otherProps\n      })\n    ) })\n  );\n};\n\nlet rafId = 0;\nconst nodeDragSourcePropInjection = (connect, monitor) => ({\n  connectDragSource: connect.dragSource(),\n  connectDragPreview: connect.dragPreview(),\n  isDragging: monitor.isDragging(),\n  didDrop: monitor.didDrop()\n});\nconst wrapSource = (el, startDrag, endDrag, dndType) => {\n  const nodeDragSource = {\n    beginDrag: (props) => {\n      startDrag(props);\n      return {\n        node: props.node,\n        parentNode: props.parentNode,\n        path: props.path,\n        treeIndex: props.treeIndex,\n        treeId: props.treeId\n      };\n    },\n    endDrag: (props, monitor) => {\n      endDrag(monitor.getDropResult());\n    },\n    isDragging: (props, monitor) => {\n      const dropTargetNode = monitor.getItem().node;\n      const draggedNode = props.node;\n      return draggedNode === dropTargetNode;\n    }\n  };\n  return DragSource(dndType, nodeDragSource, nodeDragSourcePropInjection)(el);\n};\nconst propInjection = (connect, monitor) => {\n  const dragged = monitor.getItem();\n  return {\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver(),\n    canDrop: monitor.canDrop(),\n    draggedNode: dragged ? dragged.node : void 0\n  };\n};\nconst wrapPlaceholder = (el, treeId, drop, dndType) => {\n  const placeholderDropTarget = {\n    drop: (dropTargetProps, monitor) => {\n      const { node, path, treeIndex } = monitor.getItem();\n      const result = {\n        node,\n        path,\n        treeIndex,\n        treeId,\n        minimumTreeIndex: 0,\n        depth: 0\n      };\n      drop(result);\n      return result;\n    }\n  };\n  return DropTarget(dndType, placeholderDropTarget, propInjection)(el);\n};\nconst getTargetDepth = (dropTargetProps, monitor, component, canNodeHaveChildren, treeId, maxDepth) => {\n  let dropTargetDepth = 0;\n  const rowAbove = dropTargetProps.getPrevRow();\n  if (rowAbove) {\n    const { node } = rowAbove;\n    let { path } = rowAbove;\n    const aboveNodeCannotHaveChildren = !canNodeHaveChildren(node);\n    if (aboveNodeCannotHaveChildren) {\n      path = path.slice(0, -1);\n    }\n    dropTargetDepth = Math.min(path.length, dropTargetProps.path.length);\n  }\n  let blocksOffset;\n  let dragSourceInitialDepth = (monitor.getItem().path || []).length;\n  if (monitor.getItem().treeId === treeId) {\n    const direction = dropTargetProps.rowDirection === \"rtl\" ? -1 : 1;\n    blocksOffset = Math.round(\n      direction * monitor.getDifferenceFromInitialOffset().x / dropTargetProps.scaffoldBlockPxWidth\n    );\n  } else {\n    dragSourceInitialDepth = 0;\n    if (component) {\n      const relativePosition = component.node.getBoundingClientRect();\n      const leftShift = monitor.getSourceClientOffset().x - relativePosition.left;\n      blocksOffset = Math.round(\n        leftShift / dropTargetProps.scaffoldBlockPxWidth\n      );\n    } else {\n      blocksOffset = dropTargetProps.path.length;\n    }\n  }\n  let targetDepth = Math.min(\n    dropTargetDepth,\n    Math.max(0, dragSourceInitialDepth + blocksOffset - 1)\n  );\n  if (maxDepth !== void 0 && maxDepth !== void 0) {\n    const draggedNode = monitor.getItem().node;\n    const draggedChildDepth = getDepth(draggedNode);\n    targetDepth = Math.max(\n      0,\n      Math.min(targetDepth, maxDepth - draggedChildDepth - 1)\n    );\n  }\n  return targetDepth;\n};\nconst canDrop = (dropTargetProps, monitor, canNodeHaveChildren, treeId, maxDepth, treeRefcanDrop, draggingTreeData, treeReftreeData, getNodeKey) => {\n  if (!monitor.isOver()) {\n    return false;\n  }\n  const rowAbove = dropTargetProps.getPrevRow();\n  const abovePath = rowAbove ? rowAbove.path : [];\n  const aboveNode = rowAbove ? rowAbove.node : {};\n  const targetDepth = getTargetDepth(\n    dropTargetProps,\n    monitor,\n    void 0,\n    canNodeHaveChildren,\n    treeId,\n    maxDepth\n  );\n  if (targetDepth >= abovePath.length && typeof aboveNode.children === \"function\") {\n    return false;\n  }\n  if (typeof treeRefcanDrop === \"function\") {\n    const { node } = monitor.getItem();\n    return treeRefcanDrop({\n      node,\n      prevPath: monitor.getItem().path,\n      prevParent: monitor.getItem().parentNode,\n      prevTreeIndex: monitor.getItem().treeIndex,\n      // Equals -1 when dragged from external tree\n      nextPath: dropTargetProps.children.props.path,\n      nextParent: dropTargetProps.children.props.parentNode,\n      nextTreeIndex: dropTargetProps.children.props.treeIndex\n    });\n  }\n  return true;\n};\nconst wrapTarget = (el, canNodeHaveChildren, treeId, maxDepth, treeRefcanDrop, drop, dragHover, dndType, draggingTreeData, treeReftreeData, getNodeKey) => {\n  const nodeDropTarget = {\n    drop: (dropTargetProps, monitor, component) => {\n      const result = {\n        node: monitor.getItem().node,\n        path: monitor.getItem().path,\n        treeIndex: monitor.getItem().treeIndex,\n        treeId,\n        minimumTreeIndex: dropTargetProps.treeIndex,\n        depth: getTargetDepth(\n          dropTargetProps,\n          monitor,\n          component,\n          canNodeHaveChildren,\n          treeId,\n          maxDepth\n        )\n      };\n      drop(result);\n      return result;\n    },\n    hover: (dropTargetProps, monitor, component) => {\n      const targetDepth = getTargetDepth(\n        dropTargetProps,\n        monitor,\n        component,\n        canNodeHaveChildren,\n        treeId,\n        maxDepth\n      );\n      const draggedNode = monitor.getItem().node;\n      const needsRedraw = (\n        // Redraw if hovered above different nodes\n        dropTargetProps.node !== draggedNode || // Or hovered above the same node but at a different depth\n        targetDepth !== dropTargetProps.path.length - 1\n      );\n      if (!needsRedraw) {\n        return;\n      }\n      cancelAnimationFrame(rafId);\n      rafId = requestAnimationFrame(() => {\n        const item = monitor.getItem();\n        if (!item || !monitor.isOver()) {\n          return;\n        }\n        dragHover({\n          node: draggedNode,\n          path: item.path,\n          minimumTreeIndex: dropTargetProps.listIndex,\n          depth: targetDepth\n        });\n      });\n    },\n    canDrop: (dropTargetProps, monitor) => canDrop(\n      dropTargetProps,\n      monitor,\n      canNodeHaveChildren,\n      treeId,\n      maxDepth,\n      treeRefcanDrop)\n  };\n  return DropTarget(dndType, nodeDropTarget, propInjection)(el);\n};\n\nconst slideRows = (rows, fromIndex, toIndex, count = 1) => {\n  const rowsWithoutMoved = [\n    ...rows.slice(0, fromIndex),\n    ...rows.slice(fromIndex + count)\n  ];\n  return [\n    ...rowsWithoutMoved.slice(0, toIndex),\n    ...rows.slice(fromIndex, fromIndex + count),\n    ...rowsWithoutMoved.slice(toIndex)\n  ];\n};\n\nconst memoize = (f) => {\n  let savedArgsArray = [];\n  let savedKeysArray = [];\n  let savedResult;\n  return (args) => {\n    const keysArray = Object.keys(args).sort();\n    const argsArray = keysArray.map((key) => args[key]);\n    if (argsArray.length !== savedArgsArray.length || argsArray.some((arg, index) => arg !== savedArgsArray[index]) || keysArray.some((key, index) => key !== savedKeysArray[index])) {\n      savedArgsArray = argsArray;\n      savedKeysArray = keysArray;\n      savedResult = f(args);\n    }\n    return savedResult;\n  };\n};\nconst memoizedInsertNode = memoize(insertNode);\nconst memoizedGetFlatDataFromTree = memoize(getFlatDataFromTree);\nconst memoizedGetDescendantCount = memoize(getDescendantCount);\n\nlet treeIdCounter = 1;\nconst mergeTheme = (props) => {\n  const merged = {\n    ...props,\n    style: { ...props.theme.style, ...props.style },\n    innerStyle: { ...props.theme.innerStyle, ...props.innerStyle }\n  };\n  const overridableDefaults = {\n    nodeContentRenderer: NodeRendererDefault,\n    placeholderRenderer: PlaceholderRendererDefault,\n    scaffoldBlockPxWidth: 44,\n    slideRegionSize: 100,\n    rowHeight: 62,\n    treeNodeRenderer: TreeNodeComponent\n  };\n  for (const propKey of Object.keys(overridableDefaults)) {\n    if (props[propKey] === void 0) {\n      merged[propKey] = props.theme[propKey] === void 0 ? overridableDefaults[propKey] : props.theme[propKey];\n    }\n  }\n  return merged;\n};\nclass ReactSortableTree extends Component {\n  constructor(props) {\n    super(props);\n    this.startDrag = ({ path }) => {\n      this.setState((prevState) => {\n        const {\n          treeData: draggingTreeData,\n          node: draggedNode,\n          treeIndex: draggedMinimumTreeIndex\n        } = removeNode({\n          treeData: prevState.instanceProps.treeData,\n          path,\n          getNodeKey: this.props.getNodeKey\n        });\n        return {\n          draggingTreeData,\n          draggedNode,\n          draggedDepth: path.length - 1,\n          draggedMinimumTreeIndex,\n          dragging: true\n        };\n      });\n    };\n    this.dragHover = ({\n      node: draggedNode,\n      depth: draggedDepth,\n      minimumTreeIndex: draggedMinimumTreeIndex\n    }) => {\n      if (this.state.draggedDepth === draggedDepth && this.state.draggedMinimumTreeIndex === draggedMinimumTreeIndex) {\n        return;\n      }\n      this.setState(({ draggingTreeData, instanceProps }) => {\n        const newDraggingTreeData = draggingTreeData || instanceProps.treeData;\n        const addedResult = memoizedInsertNode({\n          treeData: newDraggingTreeData,\n          newNode: draggedNode,\n          depth: draggedDepth,\n          minimumTreeIndex: draggedMinimumTreeIndex,\n          expandParent: true,\n          getNodeKey: this.props.getNodeKey\n        });\n        const rows = this.getRows(addedResult.treeData);\n        const expandedParentPath = rows[addedResult.treeIndex].path;\n        return {\n          draggedNode,\n          draggedDepth,\n          draggedMinimumTreeIndex,\n          draggingTreeData: changeNodeAtPath({\n            treeData: newDraggingTreeData,\n            path: expandedParentPath.slice(0, -1),\n            newNode: ({ node }) => ({ ...node, expanded: true }),\n            getNodeKey: this.props.getNodeKey\n          }),\n          // reset the scroll focus so it doesn't jump back\n          // to a search result while dragging\n          searchFocusTreeIndex: void 0,\n          dragging: true\n        };\n      });\n    };\n    this.endDrag = (dropResult) => {\n      const { instanceProps } = this.state;\n      if (!dropResult) {\n        this.setState({\n          draggingTreeData: void 0,\n          draggedNode: void 0,\n          draggedMinimumTreeIndex: void 0,\n          draggedDepth: void 0,\n          dragging: false\n        });\n      } else if (dropResult.treeId !== this.treeId) {\n        const { node, path, treeIndex } = dropResult;\n        let shouldCopy = this.props.shouldCopyOnOutsideDrop;\n        if (typeof shouldCopy === \"function\") {\n          shouldCopy = shouldCopy({\n            node,\n            prevTreeIndex: treeIndex,\n            prevPath: path\n          });\n        }\n        let treeData = this.state.draggingTreeData || instanceProps.treeData;\n        if (shouldCopy) {\n          treeData = changeNodeAtPath({\n            treeData: instanceProps.treeData,\n            // use treeData unaltered by the drag operation\n            path,\n            newNode: ({ node: copyNode }) => ({ ...copyNode }),\n            // create a shallow copy of the node\n            getNodeKey: this.props.getNodeKey\n          });\n        }\n        this.props.onChange(treeData);\n        this.props.onMoveNode({\n          treeData,\n          node,\n          treeIndex: void 0,\n          path: void 0,\n          nextPath: void 0,\n          nextTreeIndex: void 0,\n          prevPath: path,\n          prevTreeIndex: treeIndex\n        });\n      }\n    };\n    this.drop = (dropResult) => {\n      this.moveNode(dropResult);\n    };\n    this.canNodeHaveChildren = (node) => {\n      const { canNodeHaveChildren } = this.props;\n      if (canNodeHaveChildren) {\n        return canNodeHaveChildren(node);\n      }\n      return true;\n    };\n    this.listRef = props.virtuosoRef || React.createRef();\n    this.listProps = props.virtuosoProps || {};\n    const { dndType, nodeContentRenderer, treeNodeRenderer, slideRegionSize } = mergeTheme(props);\n    this.treeId = `rst__${treeIdCounter}`;\n    treeIdCounter += 1;\n    this.dndType = dndType || this.treeId;\n    this.nodeContentRenderer = wrapSource(\n      nodeContentRenderer,\n      this.startDrag,\n      this.endDrag,\n      this.dndType\n    );\n    this.treePlaceholderRenderer = wrapPlaceholder(\n      TreePlaceholder,\n      this.treeId,\n      this.drop,\n      this.dndType\n    );\n    this.scrollZoneVirtualList = (createScrollingComponent || withScrolling)(\n      React.forwardRef((props2, ref) => {\n        const { dragDropManager, rowHeight, ...otherProps } = props2;\n        return /* @__PURE__ */ jsx(\n          Virtuoso,\n          {\n            ref: this.listRef,\n            scrollerRef: (scrollContainer) => ref.current = scrollContainer,\n            ...otherProps\n          }\n        );\n      })\n    );\n    this.vStrength = createVerticalStrength(slideRegionSize);\n    this.hStrength = createHorizontalStrength(slideRegionSize);\n    this.state = {\n      draggingTreeData: void 0,\n      draggedNode: void 0,\n      draggedMinimumTreeIndex: void 0,\n      draggedDepth: void 0,\n      searchMatches: [],\n      searchFocusTreeIndex: void 0,\n      dragging: false,\n      // props that need to be used in gDSFP or static functions will be stored here\n      instanceProps: {\n        treeData: [],\n        ignoreOneTreeUpdate: false,\n        searchQuery: void 0,\n        searchFocusOffset: void 0\n      }\n    };\n    this.treeNodeRenderer = wrapTarget(\n      treeNodeRenderer,\n      this.canNodeHaveChildren,\n      this.treeId,\n      this.props.maxDepth,\n      this.props.canDrop,\n      this.drop,\n      this.dragHover,\n      this.dndType,\n      this.state.draggingTreeData,\n      this.props.treeData,\n      this.props.getNodeKey\n    );\n    this.toggleChildrenVisibility = this.toggleChildrenVisibility.bind(this);\n    this.moveNode = this.moveNode.bind(this);\n    this.startDrag = this.startDrag.bind(this);\n    this.dragHover = this.dragHover.bind(this);\n    this.endDrag = this.endDrag.bind(this);\n    this.drop = this.drop.bind(this);\n    this.handleDndMonitorChange = this.handleDndMonitorChange.bind(this);\n  }\n  // returns the new state after search\n  static search(props, state, seekIndex, expand, singleSearch) {\n    const {\n      onChange,\n      getNodeKey,\n      searchFinishCallback,\n      searchQuery,\n      searchMethod,\n      searchFocusOffset,\n      onlyExpandSearchedNodes\n    } = props;\n    const { instanceProps } = state;\n    if (!searchQuery && !searchMethod) {\n      if (searchFinishCallback) {\n        searchFinishCallback([]);\n      }\n      return { searchMatches: [] };\n    }\n    const newState = { instanceProps: {} };\n    const { treeData: expandedTreeData, matches: searchMatches } = find({\n      getNodeKey,\n      treeData: onlyExpandSearchedNodes ? toggleExpandedForAll({\n        treeData: instanceProps.treeData,\n        expanded: false\n      }) : instanceProps.treeData,\n      searchQuery,\n      searchMethod: searchMethod || defaultSearchMethod,\n      searchFocusOffset,\n      expandAllMatchPaths: expand && !singleSearch,\n      expandFocusMatchPaths: !!expand\n    });\n    if (expand) {\n      newState.instanceProps.ignoreOneTreeUpdate = true;\n      onChange(expandedTreeData);\n    }\n    if (searchFinishCallback) {\n      searchFinishCallback(searchMatches);\n    }\n    let searchFocusTreeIndex;\n    if (seekIndex && searchFocusOffset !== void 0 && searchFocusOffset < searchMatches.length) {\n      searchFocusTreeIndex = searchMatches[searchFocusOffset].treeIndex;\n    }\n    newState.searchMatches = searchMatches;\n    newState.searchFocusTreeIndex = searchFocusTreeIndex;\n    return newState;\n  }\n  // Load any children in the tree that are given by a function\n  // calls the onChange callback on the new treeData\n  static loadLazyChildren(props, state) {\n    const { instanceProps } = state;\n    walk({\n      treeData: instanceProps.treeData,\n      getNodeKey: props.getNodeKey,\n      callback: ({ node, path, lowerSiblingCounts, treeIndex }) => {\n        if (node.children && typeof node.children === \"function\" && (node.expanded || props.loadCollapsedLazyChildren)) {\n          node.children({\n            node,\n            path,\n            lowerSiblingCounts,\n            treeIndex,\n            // Provide a helper to append the new data when it is received\n            done: (childrenArray) => props.onChange(\n              changeNodeAtPath({\n                treeData: instanceProps.treeData,\n                path,\n                newNode: ({ node: oldNode }) => (\n                  // Only replace the old node if it's the one we set off to find children\n                  //  for in the first place\n                  oldNode === node ? {\n                    ...oldNode,\n                    children: childrenArray\n                  } : oldNode\n                ),\n                getNodeKey: props.getNodeKey\n              })\n            )\n          });\n        }\n      }\n    });\n  }\n  componentDidMount() {\n    ReactSortableTree.loadLazyChildren(this.props, this.state);\n    const stateUpdate = ReactSortableTree.search(\n      this.props,\n      this.state,\n      true,\n      true,\n      false\n    );\n    this.setState(stateUpdate);\n    this.clearMonitorSubscription = this.props.dragDropManager.getMonitor().subscribeToStateChange(this.handleDndMonitorChange);\n  }\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const { instanceProps } = prevState;\n    const newState = {};\n    const newInstanceProps = { ...instanceProps };\n    const isTreeDataEqual = isEqual(instanceProps.treeData, nextProps.treeData);\n    newInstanceProps.treeData = nextProps.treeData;\n    if (!isTreeDataEqual) {\n      if (instanceProps.ignoreOneTreeUpdate) {\n        newInstanceProps.ignoreOneTreeUpdate = false;\n      } else {\n        newState.searchFocusTreeIndex = void 0;\n        ReactSortableTree.loadLazyChildren(nextProps, prevState);\n        Object.assign(\n          newState,\n          ReactSortableTree.search(nextProps, prevState, false, false, false)\n        );\n      }\n      newState.draggingTreeData = void 0;\n      newState.draggedNode = void 0;\n      newState.draggedMinimumTreeIndex = void 0;\n      newState.draggedDepth = void 0;\n      newState.dragging = false;\n    } else if (!isEqual(instanceProps.searchQuery, nextProps.searchQuery)) {\n      Object.assign(\n        newState,\n        ReactSortableTree.search(nextProps, prevState, true, true, false)\n      );\n    } else if (instanceProps.searchFocusOffset !== nextProps.searchFocusOffset) {\n      Object.assign(\n        newState,\n        ReactSortableTree.search(nextProps, prevState, true, true, true)\n      );\n    }\n    newInstanceProps.searchQuery = nextProps.searchQuery;\n    newInstanceProps.searchFocusOffset = nextProps.searchFocusOffset;\n    newState.instanceProps = { ...newInstanceProps, ...newState.instanceProps };\n    return newState;\n  }\n  // listen to dragging\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.dragging !== prevState.dragging && this.props.onDragStateChanged) {\n      this.props.onDragStateChanged({\n        isDragging: this.state.dragging,\n        draggedNode: this.state.draggedNode\n      });\n    }\n  }\n  componentWillUnmount() {\n    this.clearMonitorSubscription();\n  }\n  handleDndMonitorChange() {\n    const monitor = this.props.dragDropManager.getMonitor();\n    if (!monitor.isDragging() && this.state.draggingTreeData) {\n      setTimeout(() => {\n        this.endDrag();\n      });\n    }\n  }\n  getRows(treeData) {\n    return memoizedGetFlatDataFromTree({\n      ignoreCollapsed: true,\n      getNodeKey: this.props.getNodeKey,\n      treeData\n    });\n  }\n  toggleChildrenVisibility({ node: targetNode, path }) {\n    const { instanceProps } = this.state;\n    const treeData = changeNodeAtPath({\n      treeData: instanceProps.treeData,\n      path,\n      newNode: ({ node }) => ({ ...node, expanded: !node.expanded }),\n      getNodeKey: this.props.getNodeKey\n    });\n    this.props.onChange(treeData);\n    this.props.onVisibilityToggle({\n      treeData,\n      node: targetNode,\n      expanded: !targetNode.expanded,\n      path\n    });\n  }\n  moveNode({\n    node,\n    path: prevPath,\n    treeIndex: prevTreeIndex,\n    depth,\n    minimumTreeIndex\n  }) {\n    const {\n      treeData,\n      treeIndex,\n      path,\n      parentNode: nextParentNode\n    } = insertNode({\n      treeData: this.state.draggingTreeData,\n      newNode: node,\n      depth,\n      minimumTreeIndex,\n      expandParent: true,\n      getNodeKey: this.props.getNodeKey\n    });\n    this.props.onChange(treeData);\n    this.props.onMoveNode({\n      treeData,\n      node,\n      treeIndex,\n      path,\n      nextPath: path,\n      nextTreeIndex: treeIndex,\n      prevPath,\n      prevTreeIndex,\n      nextParentNode\n    });\n  }\n  renderRow(row, { listIndex, style, getPrevRow, matchKeys, swapFrom, swapDepth, swapLength }) {\n    const { node, parentNode, path, lowerSiblingCounts, treeIndex } = row;\n    const {\n      canDrag,\n      generateNodeProps,\n      scaffoldBlockPxWidth,\n      searchFocusOffset,\n      rowDirection,\n      rowHeight\n    } = mergeTheme(this.props);\n    const TreeNodeRenderer = this.treeNodeRenderer;\n    const NodeContentRenderer = this.nodeContentRenderer;\n    const nodeKey = path[path.length - 1];\n    const isSearchMatch = nodeKey in matchKeys;\n    const isSearchFocus = isSearchMatch && matchKeys[nodeKey] === searchFocusOffset;\n    const callbackParams = {\n      node,\n      parentNode,\n      path,\n      lowerSiblingCounts,\n      treeIndex,\n      isSearchMatch,\n      isSearchFocus\n    };\n    const nodeProps = generateNodeProps ? generateNodeProps(callbackParams) : {};\n    const rowCanDrag = typeof canDrag === \"function\" ? canDrag(callbackParams) : canDrag;\n    const sharedProps = {\n      treeIndex,\n      scaffoldBlockPxWidth,\n      node,\n      path,\n      treeId: this.treeId,\n      rowDirection\n    };\n    return /* @__PURE__ */ jsx(\n      TreeNodeRenderer,\n      {\n        style,\n        rowHeight,\n        listIndex,\n        getPrevRow,\n        lowerSiblingCounts,\n        swapFrom,\n        swapLength,\n        swapDepth,\n        ...sharedProps,\n        children: /* @__PURE__ */ jsx(\n          NodeContentRenderer,\n          {\n            parentNode,\n            isSearchMatch,\n            isSearchFocus,\n            canDrag: rowCanDrag,\n            toggleChildrenVisibility: this.toggleChildrenVisibility,\n            ...sharedProps,\n            ...nodeProps\n          }\n        )\n      },\n      nodeKey\n    );\n  }\n  render() {\n    const {\n      dragDropManager,\n      style,\n      className,\n      innerStyle,\n      placeholderRenderer,\n      getNodeKey,\n      rowDirection\n    } = mergeTheme(this.props);\n    const {\n      searchMatches,\n      searchFocusTreeIndex,\n      draggedNode,\n      draggedDepth,\n      draggedMinimumTreeIndex,\n      instanceProps\n    } = this.state;\n    const treeData = this.state.draggingTreeData || instanceProps.treeData;\n    const rowDirectionClass = rowDirection === \"rtl\" ? \"rst__rtl\" : void 0;\n    let rows;\n    let swapFrom;\n    let swapLength;\n    if (draggedNode && draggedMinimumTreeIndex !== void 0) {\n      const addedResult = memoizedInsertNode({\n        treeData,\n        newNode: draggedNode,\n        depth: draggedDepth,\n        minimumTreeIndex: draggedMinimumTreeIndex,\n        expandParent: true,\n        getNodeKey\n      });\n      const swapTo = draggedMinimumTreeIndex;\n      swapFrom = addedResult.treeIndex;\n      swapLength = 1 + memoizedGetDescendantCount({ node: draggedNode });\n      rows = slideRows(\n        this.getRows(addedResult.treeData),\n        swapFrom,\n        swapTo,\n        swapLength\n      );\n    } else {\n      rows = this.getRows(treeData);\n    }\n    const matchKeys = {};\n    for (const [i, { path }] of searchMatches.entries()) {\n      matchKeys[path[path.length - 1]] = i;\n    }\n    if (searchFocusTreeIndex !== void 0) {\n      this.listRef.current.scrollToIndex({\n        index: searchFocusTreeIndex,\n        align: \"center\"\n      });\n    }\n    let containerStyle = style;\n    let list;\n    if (rows.length === 0) {\n      const Placeholder = this.treePlaceholderRenderer;\n      const PlaceholderContent = placeholderRenderer;\n      list = /* @__PURE__ */ jsx(Placeholder, { treeId: this.treeId, drop: this.drop, children: /* @__PURE__ */ jsx(PlaceholderContent, {}) });\n    } else {\n      containerStyle = { height: \"100%\", ...containerStyle };\n      const ScrollZoneVirtualList = this.scrollZoneVirtualList;\n      list = /* @__PURE__ */ jsx(\n        ScrollZoneVirtualList,\n        {\n          data: rows,\n          dragDropManager,\n          verticalStrength: this.vStrength,\n          horizontalStrength: this.hStrength,\n          className: \"rst__virtualScrollOverride\",\n          style: innerStyle,\n          itemContent: (index) => this.renderRow(rows[index], {\n            listIndex: index,\n            getPrevRow: () => rows[index - 1] || void 0,\n            matchKeys,\n            swapFrom,\n            swapDepth: draggedDepth,\n            swapLength\n          }),\n          ...this.listProps\n        }\n      );\n    }\n    return /* @__PURE__ */ jsx(\n      \"div\",\n      {\n        className: classnames(\"rst__tree\", className, rowDirectionClass),\n        style: containerStyle,\n        children: list\n      }\n    );\n  }\n}\nReactSortableTree.defaultProps = {\n  canDrag: true,\n  canDrop: void 0,\n  canNodeHaveChildren: () => true,\n  className: \"\",\n  dndType: void 0,\n  generateNodeProps: void 0,\n  getNodeKey: defaultGetNodeKey,\n  innerStyle: {},\n  maxDepth: void 0,\n  treeNodeRenderer: void 0,\n  nodeContentRenderer: void 0,\n  onMoveNode: () => {\n  },\n  onVisibilityToggle: () => {\n  },\n  placeholderRenderer: void 0,\n  scaffoldBlockPxWidth: void 0,\n  searchFinishCallback: void 0,\n  searchFocusOffset: void 0,\n  searchMethod: void 0,\n  searchQuery: void 0,\n  shouldCopyOnOutsideDrop: false,\n  slideRegionSize: void 0,\n  style: {},\n  theme: {},\n  onDragStateChanged: () => {\n  },\n  onlyExpandSearchedNodes: false,\n  rowDirection: \"ltr\",\n  debugMode: false,\n  overscan: 0\n};\nconst SortableTreeWithoutDndContext = function(props) {\n  return /* @__PURE__ */ jsx(DndContext.Consumer, { children: ({ dragDropManager }) => dragDropManager === void 0 ? void 0 : /* @__PURE__ */ jsx(ReactSortableTree, { ...props, dragDropManager }) });\n};\nconst SortableTree = function(props) {\n  return /* @__PURE__ */ jsx(DndProvider, { debugMode: props.debugMode, backend: HTML5Backend, children: /* @__PURE__ */ jsx(SortableTreeWithoutDndContext, { ...props }) });\n};\n\nexport { SortableTreeWithoutDndContext, addNodeUnderParent, changeNodeAtPath, SortableTree as default, defaultGetNodeKey, defaultSearchMethod, find, getDepth, getDescendantCount, getFlatDataFromTree, getNodeAtPath, getTreeFromFlatData, getVisibleNodeCount, getVisibleNodeInfoAtIndex, insertNode, isDescendant, map, removeNode, removeNodeAtPath, toggleExpandedForAll, walk };\n","var defineProperty = require(\"./defineProperty.js\");\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nmodule.exports = _objectSpread2, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose.js\");\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nmodule.exports = _objectWithoutProperties, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar jsxRuntime = require('react/jsx-runtime');\nvar react = require('react');\nvar hoist = require('hoist-non-react-statics');\nvar throttle = require('lodash.throttle');\nvar reactDnd = require('react-dnd');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nvar hoist__default = /*#__PURE__*/_interopDefaultLegacy(hoist);\nvar throttle__default = /*#__PURE__*/_interopDefaultLegacy(throttle);\n\nconst noop = () => {};\n\nconst intBetween = (min, max, val) => Math.floor(Math.min(max, Math.max(min, val)));\n\nconst getCoords = evt => {\n  if (evt.type === 'touchmove') {\n    return {\n      x: evt.changedTouches[0].clientX,\n      y: evt.changedTouches[0].clientY\n    };\n  }\n\n  return {\n    x: evt.clientX,\n    y: evt.clientY\n  };\n};\n\nconst DEFAULT_BUFFER = 150;\nconst createHorizontalStrength = _buffer => ({\n  x,\n  w,\n  y,\n  h\n}, point) => {\n  const buffer = Math.min(w / 2, _buffer);\n  const inRange = point.x >= x && point.x <= x + w;\n  const inBox = inRange && point.y >= y && point.y <= y + h;\n\n  if (inBox) {\n    if (point.x < x + buffer) {\n      return (point.x - x - buffer) / buffer;\n    }\n\n    if (point.x > x + w - buffer) {\n      return -(x + w - point.x - buffer) / buffer;\n    }\n  }\n\n  return 0;\n};\nconst createVerticalStrength = _buffer => ({\n  y,\n  h,\n  x,\n  w\n}, point) => {\n  const buffer = Math.min(h / 2, _buffer);\n  const inRange = point.y >= y && point.y <= y + h;\n  const inBox = inRange && point.x >= x && point.x <= x + w;\n\n  if (inBox) {\n    if (point.y < y + buffer) {\n      return (point.y - y - buffer) / buffer;\n    }\n\n    if (point.y > y + h - buffer) {\n      return -(y + h - point.y - buffer) / buffer;\n    }\n  }\n\n  return 0;\n};\nconst defaultHorizontalStrength = createHorizontalStrength(DEFAULT_BUFFER);\nconst defaultVerticalStrength = createVerticalStrength(DEFAULT_BUFFER);\nconst defaultProps = {\n  onScrollChange: noop,\n  verticalStrength: defaultVerticalStrength,\n  horizontalStrength: defaultHorizontalStrength,\n  strengthMultiplier: 30\n};\nconst createScrollingComponent = WrappedComponent => {\n  const ScrollingComponent = props => {\n    props = { ...defaultProps,\n      ...props\n    };\n    let container;\n    const wrappedInstance = react.createRef();\n    let frame;\n    let scaleX = 0;\n    let scaleY = 0;\n    let attached = false;\n    let dragging = false;\n    const updateScrolling = throttle__default[\"default\"](evt => {\n      const {\n        left: x,\n        top: y,\n        width: w,\n        height: h\n      } = container.getBoundingClientRect();\n      const box = {\n        x,\n        y,\n        w,\n        h\n      };\n      const coords = getCoords(evt);\n      scaleX = props.horizontalStrength(box, coords);\n      scaleY = props.verticalStrength(box, coords);\n\n      if (!frame && (scaleX || scaleY)) {\n        startScrolling();\n      }\n    }, 100, {\n      trailing: false\n    });\n    react.useEffect(() => {\n      container = wrappedInstance.current;\n\n      if (container && typeof container.addEventListener === 'function') {\n        container.addEventListener('dragover', handleEvent);\n      }\n\n      window.document.body.addEventListener('touchmove', handleEvent);\n      const clearMonitorSubscription = props.dragDropManager.getMonitor().subscribeToStateChange(() => handleMonitorChange());\n      return () => {\n        if (container && typeof container.removeEventListener === 'function') {\n          container.removeEventListener('dragover', handleEvent);\n        }\n\n        window.document.body.removeEventListener('touchmove', handleEvent);\n        clearMonitorSubscription();\n        stopScrolling();\n      };\n    }, []);\n\n    const handleEvent = evt => {\n      if (dragging && !attached) {\n        attach();\n        updateScrolling(evt);\n      }\n    };\n\n    const handleMonitorChange = () => {\n      const isDragging = props.dragDropManager.getMonitor().isDragging();\n\n      if (!dragging && isDragging) {\n        dragging = true;\n      } else if (dragging && !isDragging) {\n        dragging = false;\n        stopScrolling();\n      }\n    };\n\n    const attach = () => {\n      attached = true;\n      window.document.body.addEventListener('dragover', updateScrolling);\n      window.document.body.addEventListener('touchmove', updateScrolling);\n    };\n\n    const detach = () => {\n      attached = false;\n      window.document.body.removeEventListener('dragover', updateScrolling);\n      window.document.body.removeEventListener('touchmove', updateScrolling);\n    };\n\n    const startScrolling = () => {\n      let i = 0;\n\n      const tick = () => {\n        if (props.strengthMultiplier === 0 || scaleX + scaleY === 0) {\n          stopScrolling();\n          return;\n        }\n\n        i += 1;\n\n        if (i % 2) {\n          const {\n            scrollLeft,\n            scrollTop,\n            scrollWidth,\n            scrollHeight,\n            clientWidth,\n            clientHeight\n          } = container;\n          const newLeft = scaleX ? container.scrollLeft = intBetween(0, scrollWidth - clientWidth, scrollLeft + scaleX * props.strengthMultiplier) : scrollLeft;\n          const newTop = scaleY ? container.scrollTop = intBetween(0, scrollHeight - clientHeight, scrollTop + scaleY * props.strengthMultiplier) : scrollTop;\n          props.onScrollChange(newLeft, newTop);\n        }\n\n        frame = requestAnimationFrame(tick);\n      };\n\n      tick();\n    };\n\n    const stopScrolling = () => {\n      detach();\n      scaleX = 0;\n      scaleY = 0;\n\n      if (frame) {\n        cancelAnimationFrame(frame);\n        frame = undefined;\n      }\n    };\n\n    const {\n      strengthMultiplier,\n      verticalStrength,\n      horizontalStrength,\n      onScrollChange,\n      ...other\n    } = props;\n    return jsxRuntime.jsx(WrappedComponent, {\n      ref: wrappedInstance,\n      ...other\n    });\n  };\n\n  return hoist__default[\"default\"](ScrollingComponent, WrappedComponent);\n};\n\nconst createScrollingComponentWithConsumer = WrappedComponent => {\n  const ScrollingComponent = createScrollingComponent(WrappedComponent);\n  return props => {\n    return jsxRuntime.jsx(reactDnd.DndContext.Consumer, {\n      children: ({\n        dragDropManager\n      }) => dragDropManager === undefined ? undefined : jsxRuntime.jsx(ScrollingComponent, { ...props,\n        dragDropManager: dragDropManager\n      })\n    });\n  };\n};\n\nexports.createHorizontalStrength = createHorizontalStrength;\nexports.createScrollingComponent = createScrollingComponent;\nexports.createVerticalStrength = createVerticalStrength;\nexports[\"default\"] = createScrollingComponentWithConsumer;\nexports.defaultHorizontalStrength = defaultHorizontalStrength;\nexports.defaultVerticalStrength = defaultVerticalStrength;\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","export * from './asap.js'\nexport * from './types.js'\nexport * from './AsapQueue.js'\nexport * from './TaskFactory.js'\n","import { AsapQueue } from './AsapQueue.js'\nimport { TaskFactory } from './TaskFactory.js'\nimport type { TaskFn } from './types.js'\n\nconst asapQueue = new AsapQueue()\nconst taskFactory = new TaskFactory(asapQueue.registerPendingError)\n\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\nexport function asap(task: TaskFn) {\n\tasapQueue.enqueueTask(taskFactory.create(task))\n}\n","// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\nconst scope = typeof global !== 'undefined' ? global : self\nconst BrowserMutationObserver =\n\t(scope as any).MutationObserver || (scope as any).WebKitMutationObserver\n\nexport function makeRequestCallFromTimer(callback: () => void) {\n\treturn function requestCall() {\n\t\t// We dispatch a timeout with a specified delay of 0 for engines that\n\t\t// can reliably accommodate that request. This will usually be snapped\n\t\t// to a 4 milisecond delay, but once we're flushing, there's no delay\n\t\t// between events.\n\t\tconst timeoutHandle = setTimeout(handleTimer, 0)\n\t\t// However, since this timer gets frequently dropped in Firefox\n\t\t// workers, we enlist an interval handle that will try to fire\n\t\t// an event 20 times per second until it succeeds.\n\t\tconst intervalHandle = setInterval(handleTimer, 50)\n\n\t\tfunction handleTimer() {\n\t\t\t// Whichever timer succeeds will cancel both timers and\n\t\t\t// execute the callback.\n\t\t\tclearTimeout(timeoutHandle)\n\t\t\tclearInterval(intervalHandle)\n\t\t\tcallback()\n\t\t}\n\t}\n}\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nexport function makeRequestCallFromMutationObserver(callback: () => void) {\n\tlet toggle = 1\n\tconst observer = new BrowserMutationObserver(callback)\n\tconst node = document.createTextNode('')\n\tobserver.observe(node, { characterData: true })\n\treturn function requestCall() {\n\t\ttoggle = -toggle\n\t\t;(node as any).data = toggle\n\t}\n}\n\nexport const makeRequestCall =\n\ttypeof BrowserMutationObserver === 'function'\n\t\t? // MutationObservers are desirable because they have high priority and work\n\t\t  // reliably everywhere they are implemented.\n\t\t  // They are implemented in all modern browsers.\n\t\t  //\n\t\t  // - Android 4-4.3\n\t\t  // - Chrome 26-34\n\t\t  // - Firefox 14-29\n\t\t  // - Internet Explorer 11\n\t\t  // - iPad Safari 6-7.1\n\t\t  // - iPhone Safari 7-7.1\n\t\t  // - Safari 6-7\n\t\t  makeRequestCallFromMutationObserver\n\t\t: // MessageChannels are desirable because they give direct access to the HTML\n\t\t  // task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n\t\t  // 11-12, and in web workers in many engines.\n\t\t  // Although message channels yield to any queued rendering and IO tasks, they\n\t\t  // would be better than imposing the 4ms delay of timers.\n\t\t  // However, they do not work reliably in Internet Explorer or Safari.\n\n\t\t  // Internet Explorer 10 is the only browser that has setImmediate but does\n\t\t  // not have MutationObservers.\n\t\t  // Although setImmediate yields to the browser's renderer, it would be\n\t\t  // preferrable to falling back to setTimeout since it does not have\n\t\t  // the minimum 4ms penalty.\n\t\t  // Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n\t\t  // Desktop to a lesser extent) that renders both setImmediate and\n\t\t  // MessageChannel useless for the purposes of ASAP.\n\t\t  // https://github.com/kriskowal/q/issues/396\n\n\t\t  // Timers are implemented universally.\n\t\t  // We fall back to timers in workers in most engines, and in foreground\n\t\t  // contexts in the following browsers.\n\t\t  // However, note that even this simple case requires nuances to operate in a\n\t\t  // broad spectrum of browsers.\n\t\t  //\n\t\t  // - Firefox 3-13\n\t\t  // - Internet Explorer 6-9\n\t\t  // - iPad Safari 4.3\n\t\t  // - Lynx 2.8.7\n\t\t  makeRequestCallFromTimer\n","// We wrap tasks with recyclable task objects.  A task object implements\n\nimport type { TaskFn, Task } from 'types'\n\n// `call`, just like a function.\nexport class RawTask implements Task {\n\tpublic task: TaskFn | null = null\n\n\tpublic constructor(\n\t\tprivate onError: (err: any) => void,\n\t\tprivate release: (t: RawTask) => void,\n\t) {}\n\n\tpublic call() {\n\t\ttry {\n\t\t\tthis.task && this.task()\n\t\t} catch (error) {\n\t\t\tthis.onError(error)\n\t\t} finally {\n\t\t\tthis.task = null\n\t\t\tthis.release(this)\n\t\t}\n\t}\n}\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = isEqual;\n","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nmodule.exports = _objectWithoutPropertiesLoose, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","export function registerTarget(type, target, manager) {\n  var registry = manager.getRegistry();\n  var targetId = registry.addTarget(type, target);\n  return [targetId, function () {\n    return registry.removeTarget(targetId);\n  }];\n}\nexport function registerSource(type, source, manager) {\n  var registry = manager.getRegistry();\n  var sourceId = registry.addSource(type, source);\n  return [sourceId, function () {\n    return registry.removeSource(sourceId);\n  }];\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { wrapConnectorHooks } from './wrapConnectorHooks';\nimport { isRef } from './isRef';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nexport var SourceConnector = /*#__PURE__*/function () {\n  // The drop target may either be attached via ref or connect function\n  // The drag preview may either be attached via ref or connect function\n  function SourceConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, SourceConnector);\n\n    _defineProperty(this, \"hooks\", wrapConnectorHooks({\n      dragSource: function dragSource(node, options) {\n        _this.clearDragSource();\n\n        _this.dragSourceOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragSourceRef = node;\n        } else {\n          _this.dragSourceNode = node;\n        }\n\n        _this.reconnectDragSource();\n      },\n      dragPreview: function dragPreview(node, options) {\n        _this.clearDragPreview();\n\n        _this.dragPreviewOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragPreviewRef = node;\n        } else {\n          _this.dragPreviewNode = node;\n        }\n\n        _this.reconnectDragPreview();\n      }\n    }));\n\n    _defineProperty(this, \"handlerId\", null);\n\n    _defineProperty(this, \"dragSourceRef\", null);\n\n    _defineProperty(this, \"dragSourceNode\", void 0);\n\n    _defineProperty(this, \"dragSourceOptionsInternal\", null);\n\n    _defineProperty(this, \"dragSourceUnsubscribe\", void 0);\n\n    _defineProperty(this, \"dragPreviewRef\", null);\n\n    _defineProperty(this, \"dragPreviewNode\", void 0);\n\n    _defineProperty(this, \"dragPreviewOptionsInternal\", null);\n\n    _defineProperty(this, \"dragPreviewUnsubscribe\", void 0);\n\n    _defineProperty(this, \"lastConnectedHandlerId\", null);\n\n    _defineProperty(this, \"lastConnectedDragSource\", null);\n\n    _defineProperty(this, \"lastConnectedDragSourceOptions\", null);\n\n    _defineProperty(this, \"lastConnectedDragPreview\", null);\n\n    _defineProperty(this, \"lastConnectedDragPreviewOptions\", null);\n\n    _defineProperty(this, \"backend\", void 0);\n\n    this.backend = backend;\n  }\n\n  _createClass(SourceConnector, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (this.handlerId === newHandlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dragSource;\n    }\n  }, {\n    key: \"dragSourceOptions\",\n    get: function get() {\n      return this.dragSourceOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragSourceOptionsInternal = options;\n    }\n  }, {\n    key: \"dragPreviewOptions\",\n    get: function get() {\n      return this.dragPreviewOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragPreviewOptionsInternal = options;\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      this.reconnectDragSource();\n      this.reconnectDragPreview();\n    }\n  }, {\n    key: \"reconnectDragSource\",\n    value: function reconnectDragSource() {\n      var dragSource = this.dragSource; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragSourceChange() || this.didDragSourceOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragSource();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragSource) {\n        this.lastConnectedDragSource = dragSource;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragSource = dragSource;\n        this.lastConnectedDragSourceOptions = this.dragSourceOptions;\n        this.dragSourceUnsubscribe = this.backend.connectDragSource(this.handlerId, dragSource, this.dragSourceOptions);\n      }\n    }\n  }, {\n    key: \"reconnectDragPreview\",\n    value: function reconnectDragPreview() {\n      var dragPreview = this.dragPreview; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragPreviewChange() || this.didDragPreviewOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragPreview();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragPreview) {\n        this.lastConnectedDragPreview = dragPreview;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragPreview = dragPreview;\n        this.lastConnectedDragPreviewOptions = this.dragPreviewOptions;\n        this.dragPreviewUnsubscribe = this.backend.connectDragPreview(this.handlerId, dragPreview, this.dragPreviewOptions);\n      }\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didConnectedDragSourceChange\",\n    value: function didConnectedDragSourceChange() {\n      return this.lastConnectedDragSource !== this.dragSource;\n    }\n  }, {\n    key: \"didConnectedDragPreviewChange\",\n    value: function didConnectedDragPreviewChange() {\n      return this.lastConnectedDragPreview !== this.dragPreview;\n    }\n  }, {\n    key: \"didDragSourceOptionsChange\",\n    value: function didDragSourceOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragSourceOptions, this.dragSourceOptions);\n    }\n  }, {\n    key: \"didDragPreviewOptionsChange\",\n    value: function didDragPreviewOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragPreviewOptions, this.dragPreviewOptions);\n    }\n  }, {\n    key: \"disconnectDragSource\",\n    value: function disconnectDragSource() {\n      if (this.dragSourceUnsubscribe) {\n        this.dragSourceUnsubscribe();\n        this.dragSourceUnsubscribe = undefined;\n      }\n    }\n  }, {\n    key: \"disconnectDragPreview\",\n    value: function disconnectDragPreview() {\n      if (this.dragPreviewUnsubscribe) {\n        this.dragPreviewUnsubscribe();\n        this.dragPreviewUnsubscribe = undefined;\n        this.dragPreviewNode = null;\n        this.dragPreviewRef = null;\n      }\n    }\n  }, {\n    key: \"dragSource\",\n    get: function get() {\n      return this.dragSourceNode || this.dragSourceRef && this.dragSourceRef.current;\n    }\n  }, {\n    key: \"dragPreview\",\n    get: function get() {\n      return this.dragPreviewNode || this.dragPreviewRef && this.dragPreviewRef.current;\n    }\n  }, {\n    key: \"clearDragSource\",\n    value: function clearDragSource() {\n      this.dragSourceNode = null;\n      this.dragSourceRef = null;\n    }\n  }, {\n    key: \"clearDragPreview\",\n    value: function clearDragPreview() {\n      this.dragPreviewNode = null;\n      this.dragPreviewRef = null;\n    }\n  }]);\n\n  return SourceConnector;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrag = false;\nvar isCallingIsDragging = false;\nexport var DragSourceMonitorImpl = /*#__PURE__*/function () {\n  function DragSourceMonitorImpl(manager) {\n    _classCallCheck(this, DragSourceMonitorImpl);\n\n    _defineProperty(this, \"internalMonitor\", void 0);\n\n    _defineProperty(this, \"sourceId\", null);\n\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DragSourceMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(sourceId) {\n      this.sourceId = sourceId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.sourceId;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      invariant(!isCallingCanDrag, 'You may not call monitor.canDrag() inside your canDrag() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingCanDrag = true;\n        return this.internalMonitor.canDragSource(this.sourceId);\n      } finally {\n        isCallingCanDrag = false;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      if (!this.sourceId) {\n        return false;\n      }\n\n      invariant(!isCallingIsDragging, 'You may not call monitor.isDragging() inside your isDragging() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingIsDragging = true;\n        return this.internalMonitor.isDraggingSource(this.sourceId);\n      } finally {\n        isCallingIsDragging = false;\n      }\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      return this.internalMonitor.isDraggingSource(sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId, options) {\n      return this.internalMonitor.isOverTarget(targetId, options);\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.internalMonitor.getTargetIds();\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return this.internalMonitor.isSourcePublic();\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.internalMonitor.getSourceId();\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      return this.internalMonitor.subscribeToOffsetChange(listener);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      return this.internalMonitor.canDragSource(sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      return this.internalMonitor.canDropOnTarget(targetId);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DragSourceMonitorImpl;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrop = false;\nexport var DropTargetMonitorImpl = /*#__PURE__*/function () {\n  function DropTargetMonitorImpl(manager) {\n    _classCallCheck(this, DropTargetMonitorImpl);\n\n    _defineProperty(this, \"internalMonitor\", void 0);\n\n    _defineProperty(this, \"targetId\", null);\n\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DropTargetMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(targetId) {\n      this.targetId = targetId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.targetId;\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      // Cut out early if the target id has not been set. This should prevent errors\n      // where the user has an older version of dnd-core like in\n      // https://github.com/react-dnd/react-dnd/issues/1310\n      if (!this.targetId) {\n        return false;\n      }\n\n      invariant(!isCallingCanDrop, 'You may not call monitor.canDrop() inside your canDrop() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor');\n\n      try {\n        isCallingCanDrop = true;\n        return this.internalMonitor.canDropOnTarget(this.targetId);\n      } finally {\n        isCallingCanDrop = false;\n      }\n    }\n  }, {\n    key: \"isOver\",\n    value: function isOver(options) {\n      if (!this.targetId) {\n        return false;\n      }\n\n      return this.internalMonitor.isOverTarget(this.targetId, options);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DropTargetMonitorImpl;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { wrapConnectorHooks } from './wrapConnectorHooks';\nimport { isRef } from './isRef';\nexport var TargetConnector = /*#__PURE__*/function () {\n  // The drop target may either be attached via ref or connect function\n  function TargetConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, TargetConnector);\n\n    _defineProperty(this, \"hooks\", wrapConnectorHooks({\n      dropTarget: function dropTarget(node, options) {\n        _this.clearDropTarget();\n\n        _this.dropTargetOptions = options;\n\n        if (isRef(node)) {\n          _this.dropTargetRef = node;\n        } else {\n          _this.dropTargetNode = node;\n        }\n\n        _this.reconnect();\n      }\n    }));\n\n    _defineProperty(this, \"handlerId\", null);\n\n    _defineProperty(this, \"dropTargetRef\", null);\n\n    _defineProperty(this, \"dropTargetNode\", void 0);\n\n    _defineProperty(this, \"dropTargetOptionsInternal\", null);\n\n    _defineProperty(this, \"unsubscribeDropTarget\", void 0);\n\n    _defineProperty(this, \"lastConnectedHandlerId\", null);\n\n    _defineProperty(this, \"lastConnectedDropTarget\", null);\n\n    _defineProperty(this, \"lastConnectedDropTargetOptions\", null);\n\n    _defineProperty(this, \"backend\", void 0);\n\n    this.backend = backend;\n  }\n\n  _createClass(TargetConnector, [{\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dropTarget;\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      // if nothing has changed then don't resubscribe\n      var didChange = this.didHandlerIdChange() || this.didDropTargetChange() || this.didOptionsChange();\n\n      if (didChange) {\n        this.disconnectDropTarget();\n      }\n\n      var dropTarget = this.dropTarget;\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dropTarget) {\n        this.lastConnectedDropTarget = dropTarget;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDropTarget = dropTarget;\n        this.lastConnectedDropTargetOptions = this.dropTargetOptions;\n        this.unsubscribeDropTarget = this.backend.connectDropTarget(this.handlerId, dropTarget, this.dropTargetOptions);\n      }\n    }\n  }, {\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (newHandlerId === this.handlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"dropTargetOptions\",\n    get: function get() {\n      return this.dropTargetOptionsInternal;\n    },\n    set: function set(options) {\n      this.dropTargetOptionsInternal = options;\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didDropTargetChange\",\n    value: function didDropTargetChange() {\n      return this.lastConnectedDropTarget !== this.dropTarget;\n    }\n  }, {\n    key: \"didOptionsChange\",\n    value: function didOptionsChange() {\n      return !shallowEqual(this.lastConnectedDropTargetOptions, this.dropTargetOptions);\n    }\n  }, {\n    key: \"disconnectDropTarget\",\n    value: function disconnectDropTarget() {\n      if (this.unsubscribeDropTarget) {\n        this.unsubscribeDropTarget();\n        this.unsubscribeDropTarget = undefined;\n      }\n    }\n  }, {\n    key: \"dropTarget\",\n    get: function get() {\n      return this.dropTargetNode || this.dropTargetRef && this.dropTargetRef.current;\n    }\n  }, {\n    key: \"clearDropTarget\",\n    value: function clearDropTarget() {\n      this.dropTargetRef = null;\n      this.dropTargetNode = null;\n    }\n  }]);\n\n  return TargetConnector;\n}();","export var INIT_COORDS = 'dnd-core/INIT_COORDS';\nexport var BEGIN_DRAG = 'dnd-core/BEGIN_DRAG';\nexport var PUBLISH_DRAG_SOURCE = 'dnd-core/PUBLISH_DRAG_SOURCE';\nexport var HOVER = 'dnd-core/HOVER';\nexport var DROP = 'dnd-core/DROP';\nexport var END_DRAG = 'dnd-core/END_DRAG';","import { INIT_COORDS } from '../types';\nexport function setClientOffset(clientOffset, sourceClientOffset) {\n  return {\n    type: INIT_COORDS,\n    payload: {\n      sourceClientOffset: sourceClientOffset || null,\n      clientOffset: clientOffset || null\n    }\n  };\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n// cheap lodash replacements\n\n/**\n * drop-in replacement for _.get\n * @param obj\n * @param path\n * @param defaultValue\n */\nexport function get(obj, path, defaultValue) {\n  return path.split('.').reduce(function (a, c) {\n    return a && a[c] ? a[c] : defaultValue || null;\n  }, obj);\n}\n/**\n * drop-in replacement for _.without\n */\n\nexport function without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */\n\nexport function isString(input) {\n  return typeof input === 'string';\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */\n\nexport function isObject(input) {\n  return _typeof(input) === 'object';\n}\n/**\n * repalcement for _.xor\n * @param itemsA\n * @param itemsB\n */\n\nexport function xor(itemsA, itemsB) {\n  var map = new Map();\n\n  var insertItem = function insertItem(item) {\n    map.set(item, map.has(item) ? map.get(item) + 1 : 1);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  map.forEach(function (count, key) {\n    if (count === 1) {\n      result.push(key);\n    }\n  });\n  return result;\n}\n/**\n * replacement for _.intersection\n * @param itemsA\n * @param itemsB\n */\n\nexport function intersection(itemsA, itemsB) {\n  return itemsA.filter(function (t) {\n    return itemsB.indexOf(t) > -1;\n  });\n}","import { invariant } from '@react-dnd/invariant';\nimport { setClientOffset } from './local/setClientOffset';\nimport { isObject } from '../../utils/js_utils';\nimport { BEGIN_DRAG, INIT_COORDS } from './types';\nvar ResetCoordinatesAction = {\n  type: INIT_COORDS,\n  payload: {\n    clientOffset: null,\n    sourceClientOffset: null\n  }\n};\nexport function createBeginDrag(manager) {\n  return function beginDrag() {\n    var sourceIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      publishSource: true\n    };\n    var _options$publishSourc = options.publishSource,\n        publishSource = _options$publishSourc === void 0 ? true : _options$publishSourc,\n        clientOffset = options.clientOffset,\n        getSourceClientOffset = options.getSourceClientOffset;\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry(); // Initialize the coordinates using the client offset\n\n    manager.dispatch(setClientOffset(clientOffset));\n    verifyInvariants(sourceIds, monitor, registry); // Get the draggable source\n\n    var sourceId = getDraggableSource(sourceIds, monitor);\n\n    if (sourceId === null) {\n      manager.dispatch(ResetCoordinatesAction);\n      return;\n    } // Get the source client offset\n\n\n    var sourceClientOffset = null;\n\n    if (clientOffset) {\n      if (!getSourceClientOffset) {\n        throw new Error('getSourceClientOffset must be defined');\n      }\n\n      verifyGetSourceClientOffsetIsFunction(getSourceClientOffset);\n      sourceClientOffset = getSourceClientOffset(sourceId);\n    } // Initialize the full coordinates\n\n\n    manager.dispatch(setClientOffset(clientOffset, sourceClientOffset));\n    var source = registry.getSource(sourceId);\n    var item = source.beginDrag(monitor, sourceId); // If source.beginDrag returns null, this is an indicator to cancel the drag\n\n    if (item == null) {\n      return undefined;\n    }\n\n    verifyItemIsObject(item);\n    registry.pinSource(sourceId);\n    var itemType = registry.getSourceType(sourceId);\n    return {\n      type: BEGIN_DRAG,\n      payload: {\n        itemType: itemType,\n        item: item,\n        sourceId: sourceId,\n        clientOffset: clientOffset || null,\n        sourceClientOffset: sourceClientOffset || null,\n        isSourcePublic: !!publishSource\n      }\n    };\n  };\n}\n\nfunction verifyInvariants(sourceIds, monitor, registry) {\n  invariant(!monitor.isDragging(), 'Cannot call beginDrag while dragging.');\n  sourceIds.forEach(function (sourceId) {\n    invariant(registry.getSource(sourceId), 'Expected sourceIds to be registered.');\n  });\n}\n\nfunction verifyGetSourceClientOffsetIsFunction(getSourceClientOffset) {\n  invariant(typeof getSourceClientOffset === 'function', 'When clientOffset is provided, getSourceClientOffset must be a function.');\n}\n\nfunction verifyItemIsObject(item) {\n  invariant(isObject(item), 'Item must be an object.');\n}\n\nfunction getDraggableSource(sourceIds, monitor) {\n  var sourceId = null;\n\n  for (var i = sourceIds.length - 1; i >= 0; i--) {\n    if (monitor.canDragSource(sourceIds[i])) {\n      sourceId = sourceIds[i];\n      break;\n    }\n  }\n\n  return sourceId;\n}","import { PUBLISH_DRAG_SOURCE } from './types';\nexport function createPublishDragSource(manager) {\n  return function publishDragSource() {\n    var monitor = manager.getMonitor();\n\n    if (monitor.isDragging()) {\n      return {\n        type: PUBLISH_DRAG_SOURCE\n      };\n    }\n  };\n}","export function matchesType(targetType, draggedItemType) {\n  if (draggedItemType === null) {\n    return targetType === null;\n  }\n\n  return Array.isArray(targetType) ? targetType.some(function (t) {\n    return t === draggedItemType;\n  }) : targetType === draggedItemType;\n}","import { invariant } from '@react-dnd/invariant';\nimport { matchesType } from '../../utils/matchesType';\nimport { HOVER } from './types';\nexport function createHover(manager) {\n  return function hover(targetIdsArg) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        clientOffset = _ref.clientOffset;\n\n    verifyTargetIdsIsArray(targetIdsArg);\n    var targetIds = targetIdsArg.slice(0);\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    checkInvariants(targetIds, monitor, registry);\n    var draggedItemType = monitor.getItemType();\n    removeNonMatchingTargetIds(targetIds, registry, draggedItemType);\n    hoverAllTargets(targetIds, monitor, registry);\n    return {\n      type: HOVER,\n      payload: {\n        targetIds: targetIds,\n        clientOffset: clientOffset || null\n      }\n    };\n  };\n}\n\nfunction verifyTargetIdsIsArray(targetIdsArg) {\n  invariant(Array.isArray(targetIdsArg), 'Expected targetIds to be an array.');\n}\n\nfunction checkInvariants(targetIds, monitor, registry) {\n  invariant(monitor.isDragging(), 'Cannot call hover while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call hover after drop.');\n\n  for (var i = 0; i < targetIds.length; i++) {\n    var targetId = targetIds[i];\n    invariant(targetIds.lastIndexOf(targetId) === i, 'Expected targetIds to be unique in the passed array.');\n    var target = registry.getTarget(targetId);\n    invariant(target, 'Expected targetIds to be registered.');\n  }\n}\n\nfunction removeNonMatchingTargetIds(targetIds, registry, draggedItemType) {\n  // Remove those targetIds that don't match the targetType.  This\n  // fixes shallow isOver which would only be non-shallow because of\n  // non-matching targets.\n  for (var i = targetIds.length - 1; i >= 0; i--) {\n    var targetId = targetIds[i];\n    var targetType = registry.getTargetType(targetId);\n\n    if (!matchesType(targetType, draggedItemType)) {\n      targetIds.splice(i, 1);\n    }\n  }\n}\n\nfunction hoverAllTargets(targetIds, monitor, registry) {\n  // Finally call hover on all matching targets.\n  targetIds.forEach(function (targetId) {\n    var target = registry.getTarget(targetId);\n    target.hover(monitor, targetId);\n  });\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { DROP } from './types';\nimport { isObject } from '../../utils/js_utils';\nexport function createDrop(manager) {\n  return function drop() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyInvariants(monitor);\n    var targetIds = getDroppableTargets(monitor); // Multiple actions are dispatched here, which is why this doesn't return an action\n\n    targetIds.forEach(function (targetId, index) {\n      var dropResult = determineDropResult(targetId, index, registry, monitor);\n      var action = {\n        type: DROP,\n        payload: {\n          dropResult: _objectSpread(_objectSpread({}, options), dropResult)\n        }\n      };\n      manager.dispatch(action);\n    });\n  };\n}\n\nfunction verifyInvariants(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call drop while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call drop twice during one drag operation.');\n}\n\nfunction determineDropResult(targetId, index, registry, monitor) {\n  var target = registry.getTarget(targetId);\n  var dropResult = target ? target.drop(monitor, targetId) : undefined;\n  verifyDropResultType(dropResult);\n\n  if (typeof dropResult === 'undefined') {\n    dropResult = index === 0 ? {} : monitor.getDropResult();\n  }\n\n  return dropResult;\n}\n\nfunction verifyDropResultType(dropResult) {\n  invariant(typeof dropResult === 'undefined' || isObject(dropResult), 'Drop result must either be an object or undefined.');\n}\n\nfunction getDroppableTargets(monitor) {\n  var targetIds = monitor.getTargetIds().filter(monitor.canDropOnTarget, monitor);\n  targetIds.reverse();\n  return targetIds;\n}","import { invariant } from '@react-dnd/invariant';\nimport { END_DRAG } from './types';\nexport function createEndDrag(manager) {\n  return function endDrag() {\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyIsDragging(monitor);\n    var sourceId = monitor.getSourceId();\n\n    if (sourceId != null) {\n      var source = registry.getSource(sourceId, true);\n      source.endDrag(monitor, sourceId);\n      registry.unpinSource();\n    }\n\n    return {\n      type: END_DRAG\n    };\n  };\n}\n\nfunction verifyIsDragging(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call endDrag while not dragging.');\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { createDragDropActions } from '../actions/dragDrop';\nexport var DragDropManagerImpl = /*#__PURE__*/function () {\n  function DragDropManagerImpl(store, monitor) {\n    var _this = this;\n\n    _classCallCheck(this, DragDropManagerImpl);\n\n    _defineProperty(this, \"store\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"backend\", void 0);\n\n    _defineProperty(this, \"isSetUp\", false);\n\n    _defineProperty(this, \"handleRefCountChange\", function () {\n      var shouldSetUp = _this.store.getState().refCount > 0;\n\n      if (_this.backend) {\n        if (shouldSetUp && !_this.isSetUp) {\n          _this.backend.setup();\n\n          _this.isSetUp = true;\n        } else if (!shouldSetUp && _this.isSetUp) {\n          _this.backend.teardown();\n\n          _this.isSetUp = false;\n        }\n      }\n    });\n\n    this.store = store;\n    this.monitor = monitor;\n    store.subscribe(this.handleRefCountChange);\n  }\n\n  _createClass(DragDropManagerImpl, [{\n    key: \"receiveBackend\",\n    value: function receiveBackend(backend) {\n      this.backend = backend;\n    }\n  }, {\n    key: \"getMonitor\",\n    value: function getMonitor() {\n      return this.monitor;\n    }\n  }, {\n    key: \"getBackend\",\n    value: function getBackend() {\n      return this.backend;\n    }\n  }, {\n    key: \"getRegistry\",\n    value: function getRegistry() {\n      return this.monitor.registry;\n    }\n  }, {\n    key: \"getActions\",\n    value: function getActions() {\n      /* eslint-disable-next-line @typescript-eslint/no-this-alias */\n      var manager = this;\n      var dispatch = this.store.dispatch;\n\n      function bindActionCreator(actionCreator) {\n        return function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          var action = actionCreator.apply(manager, args);\n\n          if (typeof action !== 'undefined') {\n            dispatch(action);\n          }\n        };\n      }\n\n      var actions = createDragDropActions(this);\n      return Object.keys(actions).reduce(function (boundActions, key) {\n        var action = actions[key];\n        boundActions[key] = bindActionCreator(action);\n        return boundActions;\n      }, {});\n    }\n  }, {\n    key: \"dispatch\",\n    value: function dispatch(action) {\n      this.store.dispatch(action);\n    }\n  }]);\n\n  return DragDropManagerImpl;\n}();","import { createBeginDrag } from './beginDrag';\nimport { createPublishDragSource } from './publishDragSource';\nimport { createHover } from './hover';\nimport { createDrop } from './drop';\nimport { createEndDrag } from './endDrag';\nexport * from './types';\nexport function createDragDropActions(manager) {\n  return {\n    beginDrag: createBeginDrag(manager),\n    publishDragSource: createPublishDragSource(manager),\n    hover: createHover(manager),\n    drop: createDrop(manager),\n    endDrag: createEndDrag(manager)\n  };\n}","import _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n}\n\n// Inlined version of the `symbol-observable` polyfill\nvar $$observable = (function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n})();\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (process.env.NODE_ENV !== 'production') {\n    typeOfVal = miniKindOf(val);\n  }\n\n  return typeOfVal;\n}\n\n/**\n * @deprecated\n *\n * **We recommend using the `configureStore` method\n * of the `@reduxjs/toolkit` package**, which replaces `createStore`.\n *\n * Redux Toolkit is our recommended approach for writing Redux logic today,\n * including store setup, reducers, data fetching, and more.\n *\n * **For more details, please read this Redux docs page:**\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * `configureStore` from Redux Toolkit is an improved version of `createStore` that\n * simplifies setup and helps avoid common bugs.\n *\n * You should not be using the `redux` core package by itself today, except for learning purposes.\n * The `createStore` method from the core `redux` package will not be removed, but we encourage\n * all users to migrate to using Redux Toolkit for all Redux code.\n *\n * If you want to use `createStore` without this visual deprecation warning, use\n * the `legacy_createStore` import instead:\n *\n * `import { legacy_createStore as createStore} from 'redux'`\n *\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(0) : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(1) : \"Expected the enhancer to be a function. Instead, received: '\" + kindOf(enhancer) + \"'\");\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(2) : \"Expected the root reducer to be a function. Instead, received: '\" + kindOf(reducer) + \"'\");\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(3) : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(4) : \"Expected the listener to be a function. Instead, received: '\" + kindOf(listener) + \"'\");\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(5) : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(6) : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(7) : \"Actions must be plain objects. Instead, the actual type was: '\" + kindOf(action) + \"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.\");\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(8) : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(9) : 'Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(10) : \"Expected the nextReducer to be a function. Instead, received: '\" + kindOf(nextReducer));\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(11) : \"Expected the observer to be an object. Instead, received: '\" + kindOf(observer) + \"'\");\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n/**\n * Creates a Redux store that holds the state tree.\n *\n * **We recommend using `configureStore` from the\n * `@reduxjs/toolkit` package**, which replaces `createStore`:\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nvar legacy_createStore = createStore;\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + kindOf(inputState) + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(12) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(13) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle '\" + ActionTypes.INIT + \"' or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var actionType = action && action.type;\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(14) : \"When called with an action of type \" + (actionType ? \"\\\"\" + String(actionType) + \"\\\"\" : '(unknown type)') + \", the slice reducer for key \\\"\" + _key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\");\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(16) : \"bindActionCreators expected an object or a function, but instead received: '\" + kindOf(actionCreators) + \"'. \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(15) : 'Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread(_objectSpread({}, store), {}, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore, legacy_createStore };\n","export var strictEquality = function strictEquality(a, b) {\n  return a === b;\n};\n/**\n * Determine if two cartesian coordinate offsets are equal\n * @param offsetA\n * @param offsetB\n */\n\nexport function areCoordsEqual(offsetA, offsetB) {\n  if (!offsetA && !offsetB) {\n    return true;\n  } else if (!offsetA || !offsetB) {\n    return false;\n  } else {\n    return offsetA.x === offsetB.x && offsetA.y === offsetB.y;\n  }\n}\n/**\n * Determines if two arrays of items are equal\n * @param a The first array of items\n * @param b The second array of items\n */\n\nexport function areArraysEqual(a, b) {\n  var isEqual = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : strictEquality;\n\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  for (var i = 0; i < a.length; ++i) {\n    if (!isEqual(a[i], b[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { INIT_COORDS, BEGIN_DRAG, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { areCoordsEqual } from '../utils/equality';\nvar initialState = {\n  initialSourceClientOffset: null,\n  initialClientOffset: null,\n  clientOffset: null\n};\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case INIT_COORDS:\n    case BEGIN_DRAG:\n      return {\n        initialSourceClientOffset: payload.sourceClientOffset,\n        initialClientOffset: payload.clientOffset,\n        clientOffset: payload.clientOffset\n      };\n\n    case HOVER:\n      if (areCoordsEqual(state.clientOffset, payload.clientOffset)) {\n        return state;\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        clientOffset: payload.clientOffset\n      });\n\n    case END_DRAG:\n    case DROP:\n      return initialState;\n\n    default:\n      return state;\n  }\n}","export var ADD_SOURCE = 'dnd-core/ADD_SOURCE';\nexport var ADD_TARGET = 'dnd-core/ADD_TARGET';\nexport var REMOVE_SOURCE = 'dnd-core/REMOVE_SOURCE';\nexport var REMOVE_TARGET = 'dnd-core/REMOVE_TARGET';\nexport function addSource(sourceId) {\n  return {\n    type: ADD_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\nexport function addTarget(targetId) {\n  return {\n    type: ADD_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}\nexport function removeSource(sourceId) {\n  return {\n    type: REMOVE_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\nexport function removeTarget(targetId) {\n  return {\n    type: REMOVE_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { BEGIN_DRAG, PUBLISH_DRAG_SOURCE, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { REMOVE_TARGET } from '../actions/registry';\nimport { without } from '../utils/js_utils';\nvar initialState = {\n  itemType: null,\n  item: null,\n  sourceId: null,\n  targetIds: [],\n  dropResult: null,\n  didDrop: false,\n  isSourcePublic: null\n};\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case BEGIN_DRAG:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        itemType: payload.itemType,\n        item: payload.item,\n        sourceId: payload.sourceId,\n        isSourcePublic: payload.isSourcePublic,\n        dropResult: null,\n        didDrop: false\n      });\n\n    case PUBLISH_DRAG_SOURCE:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isSourcePublic: true\n      });\n\n    case HOVER:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        targetIds: payload.targetIds\n      });\n\n    case REMOVE_TARGET:\n      if (state.targetIds.indexOf(payload.targetId) === -1) {\n        return state;\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        targetIds: without(state.targetIds, payload.targetId)\n      });\n\n    case DROP:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        dropResult: payload.dropResult,\n        didDrop: true,\n        targetIds: []\n      });\n\n    case END_DRAG:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        itemType: null,\n        item: null,\n        sourceId: null,\n        dropResult: null,\n        didDrop: false,\n        isSourcePublic: null,\n        targetIds: []\n      });\n\n    default:\n      return state;\n  }\n}","import { ADD_SOURCE, ADD_TARGET, REMOVE_SOURCE, REMOVE_TARGET } from '../actions/registry';\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_SOURCE:\n    case ADD_TARGET:\n      return state + 1;\n\n    case REMOVE_SOURCE:\n    case REMOVE_TARGET:\n      return state - 1;\n\n    default:\n      return state;\n  }\n}","import { intersection } from './js_utils';\nexport var NONE = [];\nexport var ALL = [];\nNONE.__IS_NONE__ = true;\nALL.__IS_ALL__ = true;\n/**\n * Determines if the given handler IDs are dirty or not.\n *\n * @param dirtyIds The set of dirty handler ids\n * @param handlerIds The set of handler ids to check\n */\n\nexport function areDirty(dirtyIds, handlerIds) {\n  if (dirtyIds === NONE) {\n    return false;\n  }\n\n  if (dirtyIds === ALL || typeof handlerIds === 'undefined') {\n    return true;\n  }\n\n  var commonIds = intersection(handlerIds, dirtyIds);\n  return commonIds.length > 0;\n}","import { BEGIN_DRAG, PUBLISH_DRAG_SOURCE, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { ADD_SOURCE, ADD_TARGET, REMOVE_SOURCE, REMOVE_TARGET } from '../actions/registry';\nimport { areArraysEqual } from '../utils/equality';\nimport { NONE, ALL } from '../utils/dirtiness';\nimport { xor } from '../utils/js_utils';\nexport function reduce() {\n  var _state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : NONE;\n\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case HOVER:\n      break;\n\n    case ADD_SOURCE:\n    case ADD_TARGET:\n    case REMOVE_TARGET:\n    case REMOVE_SOURCE:\n      return NONE;\n\n    case BEGIN_DRAG:\n    case PUBLISH_DRAG_SOURCE:\n    case END_DRAG:\n    case DROP:\n    default:\n      return ALL;\n  }\n\n  var _action$payload = action.payload,\n      _action$payload$targe = _action$payload.targetIds,\n      targetIds = _action$payload$targe === void 0 ? [] : _action$payload$targe,\n      _action$payload$prevT = _action$payload.prevTargetIds,\n      prevTargetIds = _action$payload$prevT === void 0 ? [] : _action$payload$prevT;\n  var result = xor(targetIds, prevTargetIds);\n  var didChange = result.length > 0 || !areArraysEqual(targetIds, prevTargetIds);\n\n  if (!didChange) {\n    return NONE;\n  } // Check the target ids at the innermost position. If they are valid, add them\n  // to the result\n\n\n  var prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1];\n  var innermostTargetId = targetIds[targetIds.length - 1];\n\n  if (prevInnermostTargetId !== innermostTargetId) {\n    if (prevInnermostTargetId) {\n      result.push(prevInnermostTargetId);\n    }\n\n    if (innermostTargetId) {\n      result.push(innermostTargetId);\n    }\n  }\n\n  return result;\n}","export function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return state + 1;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { reduce as dragOffset } from './dragOffset';\nimport { reduce as dragOperation } from './dragOperation';\nimport { reduce as refCount } from './refCount';\nimport { reduce as dirtyHandlerIds } from './dirtyHandlerIds';\nimport { reduce as stateId } from './stateId';\nimport { get } from '../utils/js_utils';\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return {\n    dirtyHandlerIds: dirtyHandlerIds(state.dirtyHandlerIds, {\n      type: action.type,\n      payload: _objectSpread(_objectSpread({}, action.payload), {}, {\n        prevTargetIds: get(state, 'dragOperation.targetIds', [])\n      })\n    }),\n    dragOffset: dragOffset(state.dragOffset, action),\n    refCount: refCount(state.refCount, action),\n    dragOperation: dragOperation(state.dragOperation, action),\n    stateId: stateId(state.stateId)\n  };\n}","/**\n * Coordinate addition\n * @param a The first coordinate\n * @param b The second coordinate\n */\nexport function add(a, b) {\n  return {\n    x: a.x + b.x,\n    y: a.y + b.y\n  };\n}\n/**\n * Coordinate subtraction\n * @param a The first coordinate\n * @param b The second coordinate\n */\n\nexport function subtract(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n}\n/**\n * Returns the cartesian distance of the drag source component's position, based on its position\n * at the time when the current drag operation has started, and the movement difference.\n *\n * Returns null if no item is being dragged.\n *\n * @param state The offset state to compute from\n */\n\nexport function getSourceClientOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset,\n      initialSourceClientOffset = state.initialSourceClientOffset;\n\n  if (!clientOffset || !initialClientOffset || !initialSourceClientOffset) {\n    return null;\n  }\n\n  return subtract(add(clientOffset, initialSourceClientOffset), initialClientOffset);\n}\n/**\n * Determines the x,y offset between the client offset and the initial client offset\n *\n * @param state The offset state to compute from\n */\n\nexport function getDifferenceFromInitialOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset;\n\n  if (!clientOffset || !initialClientOffset) {\n    return null;\n  }\n\n  return subtract(clientOffset, initialClientOffset);\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { matchesType } from '../utils/matchesType';\nimport { getSourceClientOffset as _getSourceClientOffset, getDifferenceFromInitialOffset as _getDifferenceFromInitialOffset } from '../utils/coords';\nimport { areDirty } from '../utils/dirtiness';\nexport var DragDropMonitorImpl = /*#__PURE__*/function () {\n  function DragDropMonitorImpl(store, registry) {\n    _classCallCheck(this, DragDropMonitorImpl);\n\n    _defineProperty(this, \"store\", void 0);\n\n    _defineProperty(this, \"registry\", void 0);\n\n    this.store = store;\n    this.registry = registry;\n  }\n\n  _createClass(DragDropMonitorImpl, [{\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        handlerIds: undefined\n      };\n      var handlerIds = options.handlerIds;\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      invariant(typeof handlerIds === 'undefined' || Array.isArray(handlerIds), 'handlerIds, when specified, must be an array of strings.');\n      var prevStateId = this.store.getState().stateId;\n\n      var handleChange = function handleChange() {\n        var state = _this.store.getState();\n\n        var currentStateId = state.stateId;\n\n        try {\n          var canSkipListener = currentStateId === prevStateId || currentStateId === prevStateId + 1 && !areDirty(state.dirtyHandlerIds, handlerIds);\n\n          if (!canSkipListener) {\n            listener();\n          }\n        } finally {\n          prevStateId = currentStateId;\n        }\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      var _this2 = this;\n\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      var previousState = this.store.getState().dragOffset;\n\n      var handleChange = function handleChange() {\n        var nextState = _this2.store.getState().dragOffset;\n\n        if (nextState === previousState) {\n          return;\n        }\n\n        previousState = nextState;\n        listener();\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId);\n      invariant(source, \"Expected to find a valid source. sourceId=\".concat(sourceId));\n\n      if (this.isDragging()) {\n        return false;\n      }\n\n      return source.canDrag(this, sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      // undefined on initial render\n      if (!targetId) {\n        return false;\n      }\n\n      var target = this.registry.getTarget(targetId);\n      invariant(target, \"Expected to find a valid target. targetId=\".concat(targetId));\n\n      if (!this.isDragging() || this.didDrop()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n      return matchesType(targetType, draggedItemType) && target.canDrop(this, targetId);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      return Boolean(this.getItemType());\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      // undefined on initial render\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId, true);\n      invariant(source, \"Expected to find a valid source. sourceId=\".concat(sourceId));\n\n      if (!this.isDragging() || !this.isSourcePublic()) {\n        return false;\n      }\n\n      var sourceType = this.registry.getSourceType(sourceId);\n      var draggedItemType = this.getItemType();\n\n      if (sourceType !== draggedItemType) {\n        return false;\n      }\n\n      return source.isDragging(this, sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        shallow: false\n      };\n\n      // undefined on initial render\n      if (!targetId) {\n        return false;\n      }\n\n      var shallow = options.shallow;\n\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n\n      if (draggedItemType && !matchesType(targetType, draggedItemType)) {\n        return false;\n      }\n\n      var targetIds = this.getTargetIds();\n\n      if (!targetIds.length) {\n        return false;\n      }\n\n      var index = targetIds.indexOf(targetId);\n\n      if (shallow) {\n        return index === targetIds.length - 1;\n      } else {\n        return index > -1;\n      }\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.store.getState().dragOperation.itemType;\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.store.getState().dragOperation.item;\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.store.getState().dragOperation.sourceId;\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.store.getState().dragOperation.targetIds;\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.store.getState().dragOperation.dropResult;\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.store.getState().dragOperation.didDrop;\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return Boolean(this.store.getState().dragOperation.isSourcePublic);\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.store.getState().dragOffset.initialClientOffset;\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.store.getState().dragOffset.initialSourceClientOffset;\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.store.getState().dragOffset.clientOffset;\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return _getSourceClientOffset(this.store.getState().dragOffset);\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return _getDifferenceFromInitialOffset(this.store.getState().dragOffset);\n    }\n  }]);\n\n  return DragDropMonitorImpl;\n}();","export var HandlerRole;\n\n(function (HandlerRole) {\n  HandlerRole[\"SOURCE\"] = \"SOURCE\";\n  HandlerRole[\"TARGET\"] = \"TARGET\";\n})(HandlerRole || (HandlerRole = {}));","var nextUniqueId = 0;\nexport function getNextUniqueId() {\n  return nextUniqueId++;\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { invariant } from '@react-dnd/invariant';\nexport function validateSourceContract(source) {\n  invariant(typeof source.canDrag === 'function', 'Expected canDrag to be a function.');\n  invariant(typeof source.beginDrag === 'function', 'Expected beginDrag to be a function.');\n  invariant(typeof source.endDrag === 'function', 'Expected endDrag to be a function.');\n}\nexport function validateTargetContract(target) {\n  invariant(typeof target.canDrop === 'function', 'Expected canDrop to be a function.');\n  invariant(typeof target.hover === 'function', 'Expected hover to be a function.');\n  invariant(typeof target.drop === 'function', 'Expected beginDrag to be a function.');\n}\nexport function validateType(type, allowArray) {\n  if (allowArray && Array.isArray(type)) {\n    type.forEach(function (t) {\n      return validateType(t, false);\n    });\n    return;\n  }\n\n  invariant(typeof type === 'string' || _typeof(type) === 'symbol', allowArray ? 'Type can only be a string, a symbol, or an array of either.' : 'Type can only be a string or a symbol.');\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { addSource as _addSource, addTarget as _addTarget, removeSource as _removeSource, removeTarget as _removeTarget } from '../actions/registry';\nimport { getNextUniqueId } from '../utils/getNextUniqueId';\nimport { HandlerRole } from '../interfaces';\nimport { validateSourceContract, validateTargetContract, validateType } from '../contracts';\nimport { asap } from '@react-dnd/asap';\n\nfunction getNextHandlerId(role) {\n  var id = getNextUniqueId().toString();\n\n  switch (role) {\n    case HandlerRole.SOURCE:\n      return \"S\".concat(id);\n\n    case HandlerRole.TARGET:\n      return \"T\".concat(id);\n\n    default:\n      throw new Error(\"Unknown Handler Role: \".concat(role));\n  }\n}\n\nfunction parseRoleFromHandlerId(handlerId) {\n  switch (handlerId[0]) {\n    case 'S':\n      return HandlerRole.SOURCE;\n\n    case 'T':\n      return HandlerRole.TARGET;\n\n    default:\n      invariant(false, \"Cannot parse handler ID: \".concat(handlerId));\n  }\n}\n\nfunction mapContainsValue(map, searchValue) {\n  var entries = map.entries();\n  var isDone = false;\n\n  do {\n    var _entries$next = entries.next(),\n        done = _entries$next.done,\n        _entries$next$value = _slicedToArray(_entries$next.value, 2),\n        value = _entries$next$value[1];\n\n    if (value === searchValue) {\n      return true;\n    }\n\n    isDone = !!done;\n  } while (!isDone);\n\n  return false;\n}\n\nexport var HandlerRegistryImpl = /*#__PURE__*/function () {\n  function HandlerRegistryImpl(store) {\n    _classCallCheck(this, HandlerRegistryImpl);\n\n    _defineProperty(this, \"types\", new Map());\n\n    _defineProperty(this, \"dragSources\", new Map());\n\n    _defineProperty(this, \"dropTargets\", new Map());\n\n    _defineProperty(this, \"pinnedSourceId\", null);\n\n    _defineProperty(this, \"pinnedSource\", null);\n\n    _defineProperty(this, \"store\", void 0);\n\n    this.store = store;\n  }\n\n  _createClass(HandlerRegistryImpl, [{\n    key: \"addSource\",\n    value: function addSource(type, source) {\n      validateType(type);\n      validateSourceContract(source);\n      var sourceId = this.addHandler(HandlerRole.SOURCE, type, source);\n      this.store.dispatch(_addSource(sourceId));\n      return sourceId;\n    }\n  }, {\n    key: \"addTarget\",\n    value: function addTarget(type, target) {\n      validateType(type, true);\n      validateTargetContract(target);\n      var targetId = this.addHandler(HandlerRole.TARGET, type, target);\n      this.store.dispatch(_addTarget(targetId));\n      return targetId;\n    }\n  }, {\n    key: \"containsHandler\",\n    value: function containsHandler(handler) {\n      return mapContainsValue(this.dragSources, handler) || mapContainsValue(this.dropTargets, handler);\n    }\n  }, {\n    key: \"getSource\",\n    value: function getSource(sourceId) {\n      var includePinned = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      var isPinned = includePinned && sourceId === this.pinnedSourceId;\n      var source = isPinned ? this.pinnedSource : this.dragSources.get(sourceId);\n      return source;\n    }\n  }, {\n    key: \"getTarget\",\n    value: function getTarget(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.dropTargets.get(targetId);\n    }\n  }, {\n    key: \"getSourceType\",\n    value: function getSourceType(sourceId) {\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      return this.types.get(sourceId);\n    }\n  }, {\n    key: \"getTargetType\",\n    value: function getTargetType(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.types.get(targetId);\n    }\n  }, {\n    key: \"isSourceId\",\n    value: function isSourceId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.SOURCE;\n    }\n  }, {\n    key: \"isTargetId\",\n    value: function isTargetId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.TARGET;\n    }\n  }, {\n    key: \"removeSource\",\n    value: function removeSource(sourceId) {\n      var _this = this;\n\n      invariant(this.getSource(sourceId), 'Expected an existing source.');\n      this.store.dispatch(_removeSource(sourceId));\n      asap(function () {\n        _this.dragSources.delete(sourceId);\n\n        _this.types.delete(sourceId);\n      });\n    }\n  }, {\n    key: \"removeTarget\",\n    value: function removeTarget(targetId) {\n      invariant(this.getTarget(targetId), 'Expected an existing target.');\n      this.store.dispatch(_removeTarget(targetId));\n      this.dropTargets.delete(targetId);\n      this.types.delete(targetId);\n    }\n  }, {\n    key: \"pinSource\",\n    value: function pinSource(sourceId) {\n      var source = this.getSource(sourceId);\n      invariant(source, 'Expected an existing source.');\n      this.pinnedSourceId = sourceId;\n      this.pinnedSource = source;\n    }\n  }, {\n    key: \"unpinSource\",\n    value: function unpinSource() {\n      invariant(this.pinnedSource, 'No source is pinned at the time.');\n      this.pinnedSourceId = null;\n      this.pinnedSource = null;\n    }\n  }, {\n    key: \"addHandler\",\n    value: function addHandler(role, type, handler) {\n      var id = getNextHandlerId(role);\n      this.types.set(id, type);\n\n      if (role === HandlerRole.SOURCE) {\n        this.dragSources.set(id, handler);\n      } else if (role === HandlerRole.TARGET) {\n        this.dropTargets.set(id, handler);\n      }\n\n      return id;\n    }\n  }]);\n\n  return HandlerRegistryImpl;\n}();","import { DragDropManagerImpl } from './classes/DragDropManagerImpl';\nimport { createStore } from 'redux';\nimport { reduce } from './reducers';\nimport { DragDropMonitorImpl } from './classes/DragDropMonitorImpl';\nimport { HandlerRegistryImpl } from './classes/HandlerRegistryImpl';\nexport function createDragDropManager(backendFactory) {\n  var globalContext = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n  var backendOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var debugMode = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var store = makeStoreInstance(debugMode);\n  var monitor = new DragDropMonitorImpl(store, new HandlerRegistryImpl(store));\n  var manager = new DragDropManagerImpl(store, monitor);\n  var backend = backendFactory(manager, globalContext, backendOptions);\n  manager.receiveBackend(backend);\n  return manager;\n}\n\nfunction makeStoreInstance(debugMode) {\n  // TODO: if we ever make a react-native version of this,\n  // we'll need to consider how to pull off dev-tooling\n  var reduxDevTools = typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION__;\n  return createStore(reduce, debugMode && reduxDevTools && reduxDevTools({\n    name: 'dnd-core',\n    instanceId: 'dnd-core'\n  }));\n}"],"sourceRoot":""}