{"version":3,"sources":["views/apps/endpoint/modal/index.js","views/apps/endpoint/index.js","views/apps/endpoint/Table.js","views/apps/endpoint/Tree.js","views/apps/endpoint/DropDown.js","@core/components/ui-loader/index.js","../../src/index.ts","../../src/mounts.js","../../src/index.js","../node_modules/react-flatpickr/build/index.js","../node_modules/flatpickr/dist/l10n/id.js","../node_modules/lodash.debounce/index.js","@core/components/widgets/stats/StatsHorizontal.js","shared/GlobaActionsTable.js","@core/components/breadcrumbs/index.js","views/apps lazy /^/.*$/ groupOptions: {} namespace object","../node_modules/react-dnd/dist/esm/core/DndContext.js","../node_modules/flatpickr/dist/flatpickr.js","../node_modules/react-dnd/dist/esm/core/DndProvider.js","../../../src/AsapQueue.ts","../../../src/TaskFactory.ts","../node_modules/react-dnd/dist/esm/core/DragPreviewImage.js","../node_modules/react-dnd/dist/esm/internals/registration.js","../node_modules/react-dnd/dist/esm/internals/wrapConnectorHooks.js","../node_modules/react-dnd/dist/esm/internals/isRef.js","../node_modules/react-dnd/dist/esm/internals/SourceConnector.js","../node_modules/react-dnd/dist/esm/internals/DragSourceMonitorImpl.js","../node_modules/react-dnd/dist/esm/decorators/utils.js","../node_modules/react-dnd/dist/esm/decorators/disposables.js","../node_modules/react-dnd/dist/esm/decorators/decorateHandler.js","../node_modules/react-dnd/dist/esm/decorators/createSourceFactory.js","../node_modules/react-dnd/dist/esm/decorators/DragSource.js","../node_modules/react-dnd/dist/esm/internals/DropTargetMonitorImpl.js","../node_modules/react-dnd/dist/esm/internals/TargetConnector.js","../node_modules/react-dnd/dist/esm/decorators/createTargetFactory.js","../node_modules/react-dnd/dist/esm/decorators/DropTarget.js","../node_modules/react-dnd/dist/esm/decorators/DragLayer.js","../node_modules/react-dnd/dist/esm/hooks/useIsomorphicLayoutEffect.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/DragSourceImpl.js","../node_modules/react-dnd/dist/esm/hooks/useDragDropManager.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useRegisteredDragSource.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragSource.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragType.js","../node_modules/react-dnd/dist/esm/hooks/useOptionalFactory.js","../node_modules/react-dnd/dist/esm/hooks/useCollector.js","../node_modules/react-dnd/dist/esm/hooks/useMonitorOutput.js","../node_modules/react-dnd/dist/esm/hooks/useCollectedProps.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/connectors.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDrag.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragSourceMonitor.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragSourceConnector.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/DropTargetImpl.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useRegisteredDropTarget.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useDropTarget.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useAccept.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/connectors.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useDrop.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useDropTargetMonitor.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useDropTargetConnector.js","../node_modules/react-dnd/dist/esm/hooks/useDragLayer.js","../node_modules/@nosferatu500/react-sortable-tree/index.js","../node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js","../node_modules/@nosferatu500/react-dnd-scrollzone/index.js","../../../src/index.ts","../../../src/asap.ts","../../../src/makeRequestCall.ts","../../../src/RawTask.ts","../node_modules/fast-deep-equal/index.js","../node_modules/lodash.isequal/index.js","../node_modules/react-dnd-html5-backend/dist/esm/utils/js_utils.js","../node_modules/react-dnd-html5-backend/dist/esm/EnterLeaveCounter.js","../node_modules/react-dnd-html5-backend/dist/esm/BrowserDetector.js","../node_modules/react-dnd-html5-backend/dist/esm/MonotonicInterpolant.js","../node_modules/react-dnd-html5-backend/dist/esm/OffsetUtils.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeTypes.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/nativeTypesConfig.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/getDataFromDataTransfer.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/NativeDragSource.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/index.js","../node_modules/react-dnd-html5-backend/dist/esm/OptionsReader.js","../node_modules/react-dnd-html5-backend/dist/esm/HTML5BackendImpl.js","../node_modules/react-dnd-html5-backend/dist/esm/getEmptyImage.js","../node_modules/react-dnd-html5-backend/dist/esm/index.js","../../src/utils.ts","../../src/actions.ts","../../src/constants.ts","../../src/streams.ts","../../src/pipe.ts","../../src/transformers.ts","../../src/system.ts","../../src/hooks/useIsomorphicLayoutEffect.ts","../../src/loggerSystem.ts","../../src/hooks/useSize.ts","../../src/hooks/useChangedChildSizes.ts","../../src/utils/correctItemSize.ts","../../src/utils/approximatelyEqual.ts","../../src/hooks/useScrollTop.ts","../../src/domIOSystem.ts","../../src/AATree.ts","../../src/utils/binaryArraySearch.ts","../../src/recalcSystem.ts","../../src/sizeSystem.ts","../../src/scrollToIndexSystem.ts","../../src/stateFlagsSystem.ts","../../src/propsReadySystem.ts","../../src/initialTopMostItemIndexSystem.ts","../../src/followOutputSystem.ts","../../src/groupedListSystem.ts","../../src/comparators.tsx","../../src/sizeRangeSystem.ts","../../src/listStateSystem.ts","../../src/initialItemCountSystem.ts","../../src/scrollSeekSystem.ts","../../src/topItemCountSystem.ts","../../src/totalListHeightSystem.ts","../../src/utils/simpleMemoize.ts","../../src/upwardScrollFixSystem.ts","../../src/initialScrollTopSystem.ts","../../src/alignToBottomSystem.ts","../../src/windowScrollerSystem.ts","../../src/scrollIntoViewSystem.ts","../../src/listSystem.ts","../../src/utils/positionStickyCssValue.ts","../../src/hooks/useWindowViewportRect.ts","../../src/List.tsx","../../src/gridSystem.ts","../../src/Grid.tsx","../../src/Table.tsx","../../src/components.tsx","../node_modules/dnd-core/dist/esm/actions/dragDrop/types.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/local/setClientOffset.js","../node_modules/dnd-core/dist/esm/utils/js_utils.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/beginDrag.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/publishDragSource.js","../node_modules/dnd-core/dist/esm/utils/matchesType.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/hover.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/drop.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/endDrag.js","../node_modules/dnd-core/dist/esm/classes/DragDropManagerImpl.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/index.js","../node_modules/dnd-core/node_modules/redux/es/redux.js","../node_modules/dnd-core/dist/esm/utils/equality.js","../node_modules/dnd-core/dist/esm/reducers/dragOffset.js","../node_modules/dnd-core/dist/esm/actions/registry.js","../node_modules/dnd-core/dist/esm/reducers/dragOperation.js","../node_modules/dnd-core/dist/esm/reducers/refCount.js","../node_modules/dnd-core/dist/esm/utils/dirtiness.js","../node_modules/dnd-core/dist/esm/reducers/dirtyHandlerIds.js","../node_modules/dnd-core/dist/esm/reducers/stateId.js","../node_modules/dnd-core/dist/esm/reducers/index.js","../node_modules/dnd-core/dist/esm/utils/coords.js","../node_modules/dnd-core/dist/esm/classes/DragDropMonitorImpl.js","../node_modules/dnd-core/dist/esm/interfaces.js","../node_modules/dnd-core/dist/esm/utils/getNextUniqueId.js","../node_modules/dnd-core/dist/esm/contracts.js","../node_modules/dnd-core/dist/esm/classes/HandlerRegistryImpl.js","../node_modules/dnd-core/dist/esm/createDragDropManager.js"],"names":["ModalAddEdit","_ref","show","setShow","detailPage","formState","setFormState","_ref$currentData","currentData","t","useTranslation","id","useParams","dispatch","useDispatch","store","useSelector","state","storeName","colors","useContext","ThemeColors","_useState","useState","_useState2","_slicedToArray","loadingText","setLoadingText","allStore","_useState3","_useState4","dynamicComponents","setDynamicComponents","_useState5","_useState6","formDatas","_useState7","_useState8","formDatasError","setFormDatasError","_useForm","useForm","setError","control","handleSubmit","Loader","errors","_jsxs","Fragment","children","_jsx","Spinner","CardText","className","handleReset","resetSelectedData","handleChangeInputs","value","fieldName","isMulti","arguments","length","undefined","index","indexOf","splice","push","_objectSpread","_defineProperty","useEffect","componentsImport","dynamicFormRelation","dynamicForm","_loop","i","fieldLabel","path_name","replaceAll","_dynamicFormRelation$","_dynamicFormRelation$2","_allStore$storeName","_dynamicFormRelation$3","_dynamicFormRelation$4","MyComponent","lazy","concat","Label","for","lookupMode","lookupMode_fieldName","lookupMode_dropdown","lookupMode_isMulti","isMultiSelection","lookupMode_onChange","lookupMode_defaultValue","isM2MDefValFromGrid","data","map","x","selectedData","lookupMode_isM2MDefValFromGrid","_dynamicFormRelation$5","_allStore$storeName2","Input","defaultValue","onChange","e","_dynamicFormRelation$6","target","Modal","isOpen","toggle","UILoader","blocking","isLoadingAddEdit","isLoadingDetail","loader","ModalHeader","ModalBody","pageTitle","title","Form","onSubmit","storeData","sortedObject","key","JSON","stringify","countChanges","Object","values","every","field","putData","then","res","meta","requestStatus","toast","success","style","padding","color","main","border","iconTheme","primary","getDataById","error","payload","message","danger","_data$key","type","icon","postData","errorFields","assign","_formDatas$key","Row","item","_formDatas$item$field","_formDatas$item$field2","includes","Col","md","xs","Suspense","fallback","textAlign","Button","outline","onClick","List","_store$dataSummary2","_store$dataSummary3","_ref$lookupMode","_ref$lookupMode_field","_ref$lookupMode_dropd","_ref$lookupMode_isMul","searchTerm","_store$dataSummary","getApiSummaryData","dataSummary","isLoadingSummary","getAlwaysGrid","getSummaryData","DropDown","Breadcrumbs","_item$count_format","StatsHorizontal","statTitle","Icon","baseClassName","fontSize","renderStats","Skeleton","sx","bgcolor","animation","height","width","count_format","count","isTreeLayout","Tree","searchString","Table","MySwal","withReactContent","Swal","BootstrapCheckbox","forwardRef","props","ref","CustomHeader","toggleSidebar","handlePerPage","rowsPerPage","handleFilter","selectedRow","handleDeleteSelected","handleFiltersChange","filtersCustomAdd","ability","AbilityContext","dynamicFilterComponents","setDynamicFilterComponents","dynamicFilterDatas","invoices","getUserData","_dynamicColumnsFilter","_dynamicColumnsFilter2","_dynamicColumnsFilter3","_dynamicColumnsFilter4","dynamicColumnsFilter","xl","htmlFor","can","sessionStorage","getItem","_ref2","storeApp","apps_app","sort_dir","setSortDir","setSearchTerm","_useState9","_useState10","currentPage","setCurrentPage","_useState11","_useState12","sort","setSort","_useState13","_useState14","setRowsPerPage","_useState15","_useState16","selectedRows","setSelectedRows","_useState17","_useState18","filtersCustom","_useState19","_useState20","toggleCleared","setToggleCleared","_useState21","_useState22","sidebarOpen","setSidebarOpen","_useState23","_useState24","loading","setLoading","_useState25","_useState26","_useState27","_useState28","showModal","setShowModal","_useState29","_useState30","handleEdit","rowData","detailFromGrid","setDataById","isLoading","getDataListApp","handleCloseModal","revivalBack","neutralizeBack","handleDelete","_ref3","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","fire","text","showCancelButton","confirmButtonText","cancelButtonText","customClass","confirmButton","cancelButton","buttonsStyling","sent","deleteData","stop","_x","apply","_ref4","_callee2","countSelectedCopy","_context2","a","deleteSelectedRowData","debounceFn","useCallback","debounce","inputValue","getDataList","search","page","handleRowSelected","s","columns","_toConsumableArray","dynamicColumns","column","name","columnName","sortField","center","sortable","minWidth","selector","row","cell","dataFormat","columnTypeFormat","split","columnType","columnFormat","columnFormated","Moment","format","renderCell","app_logo","_row$app_name","Avatar","img","imgHeight","imgWidth","initials","content","app_name","GlobalActionsTable","disabledAction","tableColumns","useMemo","dark","light","removeDefaultValue","dataTree","parse","Card","DataTable","noHeader","subHeader","sortServer","responsive","pagination","paginationServer","paginationTotalRows","total","paginationComponent","Number","Math","ceil","ReactPaginate","previousLabel","nextLabel","pageCount","activeClassName","forcePage","onPageChange","selected","handlePagination","pageClassName","nextLinkClassName","nextClassName","previousClassName","previousLinkClassName","pageLinkClassName","containerClassName","selectableRows","onSelectedRowsChange","selectableRowsHighlight","clearSelectedRows","selectableRowsComponent","noDataComponent","NoDataDisplay","highlightOnHover","pointerOnHover","onSort","sortDirection","sortIcon","ChevronDown","filters","isFiltered","keys","some","k","Array","fill","dataToRender","subHeaderComponent","event","parseInt","currentTarget","par_name","currentDataAdd","setCurrentDataAdd","searchFocusIndex","setSearchFocusIndex","setSearchFoundCount","handleChange","tree","setDataList","updateDataToApi","notReload","nameMsg","mainArray","forEach","iter","isArray","margin","SortableTree","treeData","onMoveNode","node","nextParentNode","prevPath","prevTreeIndex","nextPath","nextTreeIndex","parent_id","is_app_header","canDrag","args","searchMethod","searchQuery","toLowerCase","searchFocusOffset","searchFinishCallback","matches","maxDepth","generateNodeProps","_ref5","path","fontWeight","_Fragment","paddingLeft","buttons","Ripple","Plus","size","UncontrolledTooltip","placement","preventDefault","Edit2","Trash2","hidden","disabled","defaultChecked","checked","handleChangeLookupMode","_store$selectedData","Select","theme","selectThemeColors","dataDropdown","filter","el","options","classnames","classNamePrefix","_classnames","tag","overlayColor","Tag","backgroundColor","defaultProps","invariant","condition","_len","_key","Error","argIndex","replace","framesToPop","mounts","getter","swal","getTitle","getHtmlContainer","getConfirmButton","getDenyButton","getCancelButton","getFooter","getCloseButton","getIcon","querySelector","getLoader","noop","ParentSwal","extractReactParams","params","reactParams","otherParams","mountKeys","mount","entries","React__default","isValidElement","render","domElement","find","ReactDOM__default","__mountedDomElements","unrender","unmountComponentAtNode","_ParentSwal","_inherits","_class","_super","_createSuper","_classCallCheck","_createClass","mixinParams","_this","this","__params","_extractReactParams","_extractReactParams2","superDidOpen","didOpen","superDidDestroy","didDestroy","_get","_getPrototypeOf","prototype","call","popup","_extractReactParams3","_extractReactParams4","argsToParams","defineProperty","exports","_react","obj","__esModule","newObj","hasOwnProperty","desc","getOwnPropertyDescriptor","get","set","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_flatpickr","_typeof","Symbol","iterator","constructor","_extends","source","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","ownKeys","sym","enumerable","instance","Constructor","TypeError","_defineProperties","descriptor","configurable","writable","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","o","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","p","hooks","hookPropType","oneOfType","func","arrayOf","callbacks","callbackPropTypes","DateTimePicker","_Component","protoProps","staticProps","subClass","superClass","create","prevProps","flatpickr","setDate","prevOptions","hook","optionsKeys","getOwnPropertyNames","_this2","onClose","blur","onCreate","onDestroy","destroy","_this3","_this$props","callback","createElement","Component","string","object","onOpen","onMonthChange","onYearChange","onReady","onValueUpdate","onDayCreate","array","number","_default","fp","window","l10ns","Indonesian","weekdays","shorthand","longhand","months","firstDayOfWeek","ordinal","time_24hr","rangeSeparator","default","factory","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","freeGlobal","global","freeSelf","root","Function","objectToString","toString","nativeMax","max","nativeMin","min","now","Date","isObject","toNumber","isObjectLike","isSymbol","other","valueOf","isBinary","test","slice","module","wait","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","thisArg","leadingEdge","setTimeout","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","remainingWait","debounced","isInvoking","cancel","clearTimeout","flush","cardColor","stats","countTextColor","_ref$countTextStyle","countTextStyle","_ref$titleStyle","titleStyle","statsMargin","_ref$solidColor","solidColor","_ref$cardStyle","cardStyle","_ref$titleOnTop","titleOnTop","cardColorFix","inverse","CardBody","_pageAttr$crudOpt","_pageAttr$crudOpt2","_pageAttr$crudOpt3","pageAttr","_ref$disabledAction","_ref$onlyText","onlyText","_ref$withText","withText","_ref$outline","_ref$rowClickEvent","rowClickEvent","_useTranslation","navigate","useNavigate","storeAll","dynamicStore","dynamic_temp_state","dynamicColumnsExtraActionsButton","crudOpt","extraBtnPrefixId","getDepthValue","reverse","current","pop","scrollToDiv","divId","element","document","getElementById","scrollIntoView","behavior","block","extraBtnShowCondition","_crudOpt$showIf","showIf","operator","currentRowValue","evalStr","userData","isManager","email","username","showIf_or","eval","enabledBtnViewCondition","paramss","_crudOpt$enabledViewB","enabledViewBtnCondition","enabledViewBtnCondition_or","pageType","hasColorClass","_item$clickLinkUrl","_item$clickLinkUrl2","_item$clickLinkSlideT","staticUrl","clickLinkUrl","static","fieldUrl","widgetId","clickLinkSlideToWidget","widget_id","_item$clickLinkSlideT2","paramsFromFields","it","idx","paramKey","paramName","paramValue","_item$clickLinkUrl4","fieldUrlFix","startsWith","open","_item$clickLinkUrl3","paramsArr","parseStrAndField","isQueryStr","newStaticUrl","join","staticUrlFix","clickLinkFillGlobalFilter","targetId","_item$clickLinkFillGl","_storeAll$pageAttribu","_storeAll$pageAttribu2","_storeAll$pageAttribu3","_storeAll$pageAttribu4","store_to_reset","getAttribute","pageAttributes","dynamicCard","_x$children","child","_child$chart_id","_child$crudOpt","_child$linkToGlobalFi","_child$crudOpt2","_child$dataFrom","chart_id","cardId","pageId","targetAttr","linkToGlobalFilter","dataFrom","console","log","_ref6","_ref7","_ref8","_x$chart_id","_x$crudOpt","_ref9","_x$linkToGlobalFilter","_x$crudOpt2","_x$dataFrom","linkToGlobalFilterName","_ref10","_x$crudOpt$baseUrl","_x$crudOpt3","_x$dataFrom2","_storeAll$pageData","_storeAll$pageData$ch","_storeAll$pageData$ch2","_storeAll$pageData2","_storeAll$pageData2$c","_x$crudOpt4","_x$crudOpt5","childStoreName","baseUrl","pageData","resetData","endpointName","renderIcon","isViewOnRow","tooltip","onDashboard","saveAsNewBtn","Eye","gridTheme","_pageAttr$crudOpt$gan","_pageAttr$crudOpt4","ganttParentIdField","CornerDownRight","BreadCrumbs","mb","subtitle","Breadcrumb","BreadcrumbItem","Link","to","Wrapper","link","isLastItem","active","webpackAsyncContext","req","__webpack_require__","Promise","resolve","code","ids","all","DndContext","createContext","dragDropManager","__assign","n","HOOKS","defaults","_disable","_enable","allowInput","altFormat","altInput","altInputClass","animate","navigator","userAgent","ariaDateFormat","clickOpens","closeOnSelect","conjunction","dateFormat","defaultHour","defaultMinute","defaultSeconds","disable","disableMobile","enable","enableSeconds","enableTime","errorHandler","err","warn","getWeek","givenDate","date","getTime","setHours","getDate","getDay","week1","getFullYear","round","hourIncrement","ignoredFocusElements","inline","locale","minuteIncrement","mode","monthSelectorType","nextArrow","noCalendar","onKeyDown","onParseConfig","onPreCalendarPosition","plugins","position","positionElement","prevArrow","shorthandCurrentMonth","showMonths","weekNumbers","english","daysInMonth","nth","weekAbbreviation","scrollTitle","toggleTitle","amPM","yearAriaLabel","hourAriaLabel","minuteAriaLabel","pad","int","bool","immediate","timeout","context","arrayify","toggleClass","elem","classList","add","remove","textContent","clearNode","firstChild","removeChild","findParent","parentNode","createNumberInput","inputClassName","opts","wrapper","numInput","arrowUp","arrowDown","pattern","setAttribute","appendChild","getEventTarget","composedPath","doNothing","monthToStr","monthNumber","revFormat","D","F","dateObj","monthName","setMonth","G","hour","parseFloat","H","J","day","K","getHours","RegExp","M","shortMonth","S","seconds","setSeconds","U","_","unixSeconds","W","weekNum","weekNumber","Y","year","setFullYear","Z","ISODate","d","h","minutes","setMinutes","j","l","m","month","u","unixMillSeconds","w","y","tokenRegex","formats","toISOString","getMonth","getSeconds","getMinutes","String","substring","createDateFormatter","_a","_b","config","_c","l10n","frmt","overrideLocale","formatDate","c","arr","createDateParser","givenFormat","timeless","customLocale","parsedDate","dateOrig","toFixed","datestr","trim","parseDate","matched","ops","matchIndex","regexStr","token_1","isBackSlash","escaped","match","exec","fn","val","isNaN","compareDates","date1","date2","isBetween","ts","ts1","ts2","duration","DAY","_i","_loop_1","args_1","DEBOUNCED_CHANGE_MS","FlatpickrInstance","instanceConfig","defaultConfig","setupHelperFunctions","utils","getDaysInMonth","yr","currentMonth","currentYear","init","input","parseConfig","setupLocale","setupInputs","setupDates","isMobile","build","bindEvents","selectedDates","setHoursFromDate","latestSelectedDateObj","minDate","updateValue","setCalendarWidth","showTimeInput","isSafari","positionCalendar","triggerEvent","bindToInstance","bind","requestAnimationFrame","calendarContainer","visibility","display","daysContainer","daysWidth","days","offsetWidth","weekWrapper","removeProperty","updateTime","setDefaultTime","timeWrapper","prevValue","_input","setHoursFromInputs","_debouncedChange","ampm2military","military2ampm","hourElement","minuteElement","hours","secondElement","limitMinHours","minTime","minDateHasTime","maxTime","maxDate","maxDateHasTime","setDefaultHours","minHr","minMinutes","maxHr","maxMinutes","onYearInput","delta","changeYear","handler","ev","addEventListener","_handlers","evt","which","triggerChange","querySelectorAll","setupMobile","debouncedResize","onResize","onMouseOver","body","ontouchstart","documentClick","capture","monthNav","onMonthNavClick","selectDate","timeContainer","selText","select","timeIncrement","jumpToDate","jumpDate","jumpTo","oldYear","oldMonth","buildMonthSwitch","redraw","incrementNumInput","contains","inputElem","createEvent","dispatchEvent","fragment","createDocumentFragment","tabIndex","buildMonthNav","innerContainer","buildWeeks","rContainer","buildWeekdays","buildDays","buildTime","customAppend","appendTo","nodeType","insertBefore","nextSibling","createDay","dayNumber","dateIsEnabled","isEnabled","dayElement","$i","todayDateElem","isDateSelected","selectedDateElem","isDateInRange","insertAdjacentHTML","focusOnDayElem","targetNode","focus","getFirstAvailableDay","startMonth","endMonth","startIndex","endIndex","getNextAvailableDay","givenMonth","loopDelta","numMonthDays","abs","changeMonth","focusOnDay","offset","dayFocused","isInView","activeElement","startElem","buildMonthDays","firstOfMonth","prevMonthDays","isMultiMonth","prevMonthDayClass","nextMonthDayClass","dayIndex","dayNum","dayContainer","frag","shouldBuildMonth","monthsDropdownContainer","innerHTML","buildMonth","monthElement","container","monthNavFragment","selectedMonth","yearInput","tabindex","yearElement","getElementsByTagName","buildMonths","prevMonthNav","yearElements","monthElements","nextMonthNav","__hidePrevMonthArrow","__hideNextMonthArrow","currentYearElement","updateNavigationCurrentMonth","separator","hourInput","minuteInput","secondInput","weekdayContainer","updateWeekdays","isOffset","_hidePrevMonthArrow","_hideNextMonthArrow","clear","triggerChangeEvent","toInitial","mobileInput","_initialDate","close","removeEventListener","lastChild","_type","removeAttribute","isCalendarElem","eventTarget_1","isCalendarElement","isInput","lostFocus","relatedTarget","isIgnored","newYear","newYearNum","isNewYear","dateToCheck","parsed","from","allowKeydown","allowInlineKeydown","keyCode","isTimeObj","focusAndClose","delta_1","ctrlKey","stopPropagation","elems","pluginElements","shiftKey","charAt","hoverDate","firstElementChild","initialDate","rangeStartDate","rangeEndDate","containsDisabled","minRange","maxRange","dayElem","timestamp","outOfRange","_positionElement","click","wasOpen","minMaxDateSetter","inverseDateObj","boolOpts","userConfig","dataset","dates","parseDateRules","timeMode","defaultDateFormat","defaultAltFormat","_minDate","_maxDate","minMaxTimeSetter","_minTime","_maxTime","pluginConf","customPositionElement","calendarHeight","reduce","acc","offsetHeight","calendarWidth","configPos","configPosVertical","configPosHorizontal","inputBounds","getBoundingClientRect","distanceFromBottom","innerHeight","bottom","showOnTop","top","pageYOffset","left","pageXOffset","right","rightMost","centerMost","doc","styleSheets","bodyWidth","centerLeft","centerBefore","centerAfter","centerIndex","cssRules","centerStyle","insertRule","msMaxTouchPoints","isSelectable","selectedDate","shouldChangeMonth","selectedIndex","b","single","range","loadedPlugins","_bind","_setHoursFromDate","_positionCalendar","_createElement","CALLBACKS","option","setSelectedDate","inputDate","rule","preloadedDate","defaultDate","nodeName","placeholder","_showTimeInput","required","inputType","step","mobileFormatStr","initEvent","getDateStr","dObj","isPrevMonth","isNextMonth","isKeyDown","curValue","newValue","isHourElem","isMinuteElem","nodeList","nodes","HTMLElement","instances","HTMLCollection","NodeList","Node","en","localize","setDefaults","jQuery","fp_incr","_excluded","_arrayWithHoles","_s","_e","_arr","_n","_d","done","_iterableToArrayLimit","minLen","_arrayLikeToArray","_unsupportedIterableToArray","_nonIterableRest","len","arr2","refCount","INSTANCE_SYM","DndProvider","memo","_getDndContextValue","manager","backend","getGlobalContext","debugMode","ctx","createDragDropManager","createSingletonDndContext","isGlobalInstance","getDndContextValue","_getDndContextValue2","Provider","_makeRequestCallJs","AsapQueue","queue","pendingErrors","flushing","capacity","q","currentIndex","scan","newLength","registerPendingError","requestErrorThrow","requestFlush","makeRequestCall","makeRequestCallFromTimer","shift","task","_rawTaskJs","TaskFactory","onError","freeTasks","tasks","t1","RawTask","DragPreviewImage","connect","src","Image","connected","onload","registerTarget","registry","getRegistry","addTarget","removeTarget","registerSource","sourceId","addSource","removeSource","throwIfCompositeComponentElement","displayName","wrapConnectorHooks","wrappedHooks","endsWith","wrappedHook","elementOrNode","cloneWithRef","wrapHookToRecognizeElement","setRef","newRef","previousRef","cloneElement","isRef","shallowEqual","objA","objB","compare","compareContext","compareResult","keysA","keysB","bHasOwnProperty","valueA","valueB","SourceConnector","dragSource","clearDragSource","dragSourceOptions","dragSourceRef","dragSourceNode","reconnectDragSource","dragPreview","clearDragPreview","dragPreviewOptions","dragPreviewRef","dragPreviewNode","reconnectDragPreview","newHandlerId","handlerId","reconnect","dragSourceOptionsInternal","dragPreviewOptionsInternal","didChange","didHandlerIdChange","didConnectedDragSourceChange","didDragSourceOptionsChange","disconnectDragSource","lastConnectedHandlerId","lastConnectedDragSource","lastConnectedDragSourceOptions","dragSourceUnsubscribe","connectDragSource","didConnectedDragPreviewChange","didDragPreviewOptionsChange","disconnectDragPreview","lastConnectedDragPreview","lastConnectedDragPreviewOptions","dragPreviewUnsubscribe","connectDragPreview","isCallingCanDrag","isCallingIsDragging","DragSourceMonitorImpl","internalMonitor","getMonitor","canDragSource","isDraggingSource","listener","subscribeToStateChange","isOverTarget","getTargetIds","isSourcePublic","getSourceId","subscribeToOffsetChange","canDropOnTarget","getItemType","getDropResult","didDrop","getInitialClientOffset","getInitialSourceClientOffset","getSourceClientOffset","getClientOffset","getDifferenceFromInitialOffset","getDecoratedComponent","instanceRef","currentRef","decoratedRef","isRefable","C","_item$$$typeof","$$typeof","isRefForwardingComponent","isFunction","isPlainObject","proto","isValidType","allowArray","Disposable","action","isDisposed","Boolean","dispose","isDisposable","empty","CompositeDisposable","disposables","shouldDispose","currentDisposables","_i2","SerialDisposable","old","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","_isNativeReflectConstruct","Super","NewTarget","decorateHandler","DecoratedComponent","createHandler","createMonitor","createConnector","registerHandler","containerDisplayName","getType","collect","_options$arePropsEqua","arePropsEqual","Decorated","DragDropContainer","createRef","nextState","getCurrentState","setState","disposable","receiveProps","nextProps","currentType","receiveType","handlerMonitor","handlerConnector","_registerHandler2","unregister","receiveHandlerId","unsubscribe","handlerIds","setDisposable","Consumer","receiveDragDropManager","_this2$handlerConnect","getBackend","hoistStatics","ALLOWED_SPEC_METHODS","REQUIRED_SPEC_METHODS","SourceImpl","spec","monitor","beginDrag","globalMonitor","isDragging","endDrag","createSourceFactory","DragSource","createSource","isCallingCanDrop","DropTargetMonitorImpl","TargetConnector","dropTarget","clearDropTarget","dropTargetOptions","dropTargetRef","dropTargetNode","didDropTargetChange","didOptionsChange","disconnectDropTarget","lastConnectedDropTarget","lastConnectedDropTargetOptions","unsubscribeDropTarget","connectDropTarget","dropTargetOptionsInternal","TargetImpl","canDrop","hover","drop","createTargetFactory","DropTarget","createTarget","DragLayer","DragLayerContainer","isCurrentlyMounted","unsubscribeFromOffsetChange","unsubscribeFromStateChange","useIsomorphicLayoutEffect","useLayoutEffect","DragSourceImpl","connector","_result","end","useDragDropManager","useRegisteredDragSource","useDragSource","itemType","useDragType","_registerSource2","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","useOptionalFactory","arg","deps","memoDeps","useCollector","onUpdate","collected","setCollected","updateCollected","nextValue","equal","useCollectedProps","collector","onCollect","_useCollector2","getHandlerId","useMonitorOutput","useConnectDragSource","useConnectDragPreview","useDrag","specArg","begin","useDragSourceMonitor","useDragSourceConnector","previewOptions","DropTargetImpl","useRegisteredDropTarget","useDropTarget","accept","useAccept","_registerTarget2","useConnectDropTarget","useDrop","useDropTargetMonitor","useDropTargetConnector","useDragLayer","_createForOfIteratorHelper","_excluded2","_excluded3","_excluded4","jsxRuntime","React","withScrolling","isEqual","reactDnd","reactDndHtml5Backend","reactVirtuoso","_interopDefaultLegacy","withScrolling__default","isEqual__default","defaultGetNodeKey","treeIndex","getReactElementText","parent","stringSearch","defaultSearchMethod","getNodeDataAtTreeIndexOrNextIndex","targetIndex","getNodeKey","_ref3$path","_ref3$lowerSiblingCou","lowerSiblingCounts","_ref3$ignoreCollapsed","ignoreCollapsed","_ref3$isPseudoRoot","isPseudoRoot","selfPath","expanded","nextIndex","childIndex","childCount","getDescendantCount","_ref4$ignoreCollapsed","walkDescendants","_ref5$isPseudoRoot","_ref5$parentNode","_ref5$path","_ref5$lowerSiblingCou","mapDescendants","_ref6$isPseudoRoot","_ref6$parentNode","_ref6$path","_ref6$lowerSiblingCou","nextNode","selfInfo","mapResult","walk","_ref9$ignoreCollapsed","_ref10$ignoreCollapse","toggleExpandedForAll","_ref11","_ref11$expanded","_ref12","_ref13","changeNodeAtPath","_ref14","newNode","_ref14$ignoreCollapse","RESULT_MISS","traverse","_ref15","_ref15$isPseudoRoot","currentTreeIndex","pathIndex","removeNode","_ref17","removedNode","removedTreeIndex","_ref17$ignoreCollapse","_ref18","addNodeAtDepthAndIndex","_ref23","insertedTreeIndex","pathFragment","targetDepth","minimumTreeIndex","expandParent","_ref23$isPseudoRoot","isLastChild","currentDepth","_ref23$path","extraNodeProps","parentPath","insertIndex","newChildren","insertNode","_ref24","depth","_ref24$ignoreCollapse","_ref24$expandParent","insertResult","getFlatDataFromTree","_ref25","_ref25$ignoreCollapse","flattened","nodeInfo","isDescendant","older","younger","getDepth","deepest","_ref27","_ref27$expandAllMatch","expandAllMatchPaths","_ref27$expandFocusMat","expandFocusMatchPaths","matchCount","trav","_ref28","_ref28$isPseudoRoot","_ref28$path","isSelfMatch","hasFocusMatch","extraInfo","hasChildren","classes","defaultProps$3","isSearchMatch","isSearchFocus","toggleChildrenVisibility","draggedNode","rowDirection","NodeRendererDefault$1","handle","_props","scaffoldBlockPxWidth","treeId","isOver","otherProps","nodeTitle","nodeSubtitle","rowDirectionClass","jsx","dropEffect","isDraggedDescendant","isLandingPadActive","buttonStyle","jsxs","opacity","btn","defaultProps$2","PlaceholderRendererDefault$1","_props2","defaultProps$1","swapFrom","swapDepth","swapLength","TreeNodeComponent","_React$Component","_step2","listIndex","rowHeight","_node","getPrevRow","_path","scaffoldBlockCount","scaffold","_iterator2","_step2$value","lowerSiblingCount","lineClass","highlightLineClass","f","calculatedRowHeight","Children","TreeNode","TreePlaceholder$1","_props3","rafId","nodeDragSourcePropInjection","propInjection","dragged","getTargetDepth","dropTargetProps","component","canNodeHaveChildren","blocksOffset","dropTargetDepth","rowAbove","dragSourceInitialDepth","relativePosition","leftShift","direction","draggedChildDepth","wrapTarget","treeRefcanDrop","dragHover","dndType","draggingTreeData","treeReftreeData","nodeDropTarget","cancelAnimationFrame","abovePath","aboveNode","prevParent","nextParent","memoize","savedResult","savedArgsArray","savedKeysArray","keysArray","argsArray","memoizedInsertNode","memoizedGetFlatDataFromTree","memoizedGetDescendantCount","treeIdCounter","mergeTheme","merged","innerStyle","overridableDefaults","nodeContentRenderer","placeholderRenderer","slideRegionSize","treeNodeRenderer","_Object$keys","propKey","ReactSortableTree","_React$Component2","_super2","_ref29","prevState","_removeNode","instanceProps","draggedMinimumTreeIndex","draggedDepth","dragging","_ref30","_ref31","newDraggingTreeData","addedResult","expandedParentPath","getRows","_ref32","searchFocusTreeIndex","dropResult","shouldCopy","shouldCopyOnOutsideDrop","_ref33","copyNode","moveNode","listRef","_mergeTheme","startDrag","nodeDragSource","wrapSource","treePlaceholderRenderer","placeholderDropTarget","_monitor$getItem","wrapPlaceholder","scrollZoneVirtualList","createScrollingComponent","classname","Virtuoso","vStrength","createVerticalStrength","hStrength","createHorizontalStrength","searchMatches","ignoreOneTreeUpdate","handleDndMonitorChange","loadLazyChildren","stateUpdate","clearMonitorSubscription","onDragStateChanged","_ref34","_ref35","onVisibilityToggle","_ref36","_insertNode","_ref37","matchKeys","_mergeTheme2","TreeNodeRenderer","NodeContentRenderer","nodeKey","callbackParams","nodeProps","rowCanDrag","sharedProps","rows","_this4","_mergeTheme3","_this$state","swapTo","fromIndex","toIndex","rowsWithoutMoved","slideRows","_step3","_iterator3","_step3$value","scrollToIndex","align","list","containerStyle","Placeholder","PlaceholderContent","ScrollZoneVirtualList","verticalStrength","horizontalStrength","itemContent","renderRow","seekIndex","expand","singleSearch","onlyExpandSearchedNodes","newState","_find","expandedTreeData","_ref38","loadCollapsedLazyChildren","childrenArray","_ref39","oldNode","isTreeDataEqual","overscan","SortableTreeWithoutDndContext","_ref40","SortableTree$1","HTML5Backend","SortableTreeWithExternalManager","addNodeUnderParent","_ref21","_ref21$parentKey","parentKey","_ref21$ignoreCollapse","_ref21$expandParent","_ref21$addAsFirstChil","addAsFirstChild","hasBeenAdded","changedTreeData","_ref22","getNodeAtPath","_ref19","foundNodeInfo","_ref19$ignoreCollapse","_ref20","_unused","getTreeFromFlatData","_ref26","flatData","_ref26$getKey","getKey","_ref26$getParentKey","getParentKey","parentId","_ref26$rootKey","rootKey","_step","childrenToParents","_iterator","getVisibleNodeCount","currentNode","getVisibleNodeInfoAtIndex","removeNodeAtPath","_ref16","_ref16$ignoreCollapse","unsupportedIterableToArray","allowArrayLike","normalCompletion","didErr","_e2","react","intBetween","floor","_buffer","point","buffer","onScrollChange","strengthMultiplier","WrappedComponent","wrappedInstance","animationFrameID","useRef","scaleX","scaleY","attached","updateScrolling","timeFrame","lastTime","throttle","_container$getBoundin","box","coords","clientX","clientY","getCoords","startScrolling","handleEvent","handleMonitorChange","stopScrolling","tick","_container","scrollLeft","scrollTop","scrollWidth","scrollHeight","clientWidth","clientHeight","newLeft","newTop","ScrollingComponent","_asapJs","_typesJs","_asapQueueJs","_taskFactoryJs","asap","asapQueue","enqueueTask","taskFactory","makeRequestCallFromMutationObserver","scope","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","timeoutHandle","handleTimer","intervalHandle","setInterval","clearInterval","observer","createTextNode","observe","characterData","release","flags","HASH_UNDEFINED","MAX_SAFE_INTEGER","argsTag","arrayTag","boolTag","dateTag","errorTag","funcTag","mapTag","numberTag","objectTag","promiseTag","regexpTag","setTag","stringTag","symbolTag","weakMapTag","arrayBufferTag","dataViewTag","reIsHostCtor","reIsUint","typedArrayTags","freeExports","freeModule","moduleExports","freeProcess","process","nodeUtil","binding","nodeIsTypedArray","isTypedArray","arraySome","predicate","mapToArray","setToArray","transform","arrayProto","funcProto","objectProto","coreJsData","funcToString","maskSrcKey","uid","IE_PROTO","nativeObjectToString","reIsNative","Buffer","Uint8Array","symToStringTag","toStringTag","nativeGetSymbols","nativeIsBuffer","isBuffer","nativeKeys","DataView","getNative","Map","Set","WeakMap","nativeCreate","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","Hash","entry","ListCache","MapCache","SetCache","__data__","Stack","arrayLikeKeys","inherited","isArr","isArg","isArguments","isBuff","isType","skipIndexes","iteratee","baseTimes","isIndex","assocIndexOf","eq","baseGetTag","isOwn","unmasked","getRawTag","baseIsArguments","baseIsEqual","bitmask","customizer","stack","equalFunc","objIsArr","othIsArr","objTag","getTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","byteLength","byteOffset","convert","isPartial","stacked","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","getAllKeys","objLength","othLength","skipCtor","objValue","othValue","compared","objCtor","othCtor","equalObjects","baseIsEqualDeep","baseIsNative","isMasked","baseKeys","Ctor","isPrototype","arrLength","seen","arrValue","othIndex","has","keysFunc","symbolsFunc","arrayPush","baseGetAllKeys","getSymbols","getMapData","isKeyable","getValue","pairs","LARGE_ARRAY_SIZE","resIndex","arrayFilter","symbol","ArrayBuffer","ctorString","isLength","baseUnary","EnterLeaveCounter","isNodeInDocument","enteringNode","previousLength","entered","itemsA","itemsB","insertItem","union","leavingNode","items","isFirefox","safari","MonotonicInterpolant","ys","indexes","dx","dy","dys","dxs","ms","c1s","m2","mNext","dxNext","common","c2s","c3s","_i3","c1","invDx","_common","mid","low","high","xHere","diff","diffSq","getNodeClientOffset","parentElement","_el$getBoundingClient","getEventClientOffset","getDragPreviewOffset","sourceNode","clientOffset","anchorPoint","offsetPoint","isImage","_document$documentEle","documentElement","isImageNode","dragPreviewNodeOffsetFromClient","offsetFromDragPreview","sourceWidth","sourceHeight","anchorX","anchorY","_getDragPreviewSize","dragPreviewWidth","dragPreviewHeight","devicePixelRatio","getDragPreviewSize","offsetX","offsetY","isManualOffsetY","interpolate","calculateYOffset","_nativeTypesConfig","FILE","URL","TEXT","HTML","getDataFromDataTransfer","dataTransfer","typesToTry","resultSoFar","typeToTry","getData","nativeTypesConfig","NativeTypes","exposeProperties","files","_dataTransfer","matchesTypes","html","_dataTransfer2","urls","_dataTransfer3","_dataTransfer4","NativeDragSource","initializeExposedProperties","property","newProperties","defineProperties","matchNativeItemType","dataTransferTypes","types","nativeItemType","OptionsReader","globalContext","optionsArgs","_this$globalContext","_this$optionsArgs","rootElement","enumerableOnly","symbols","getOwnPropertyDescriptors","emptyImage","HTML5BackendImpl","sourceNodes","isDraggingNativeItem","actions","currentNativeHandle","currentNativeSource","currentDragSourceNode","clearCurrentDragSourceNode","dragStartSourceIds","defaultPrevented","publishSource","nativeType","setDragImage","sourcePreviewNodes","_this$getCurrentSourc","getCurrentSourcePreviewNodeOptions","dragPreviewOffset","setData","setCurrentDragSourceNode","captureDraggingState","publishDragSource","beginDragNativeItem","hasAttribute","dragEnterTargetIds","enterLeaveCounter","enter","altKeyPressed","altKey","getCurrentDropEffect","dragOverTargetIds","lastClientOffset","hoverRafId","leave","endDragNativeItem","_this$currentNativeSo","dropTargetIds","loadDataTransfer","reset","dragDrop","tagName","isContentEditable","getActions","_this$dragStartSource","_this$dragOverTargetI","sourcePreviewNodeOptions","sourceNodeOptions","__isReactDndBackendSetUp","addEventListeners","_this$window","removeEventListeners","asyncEndDragFrameId","delete","handleDragStart","handleSelectStart","handleDragEnter","handleDragOver","handleDrop","handleTopDragStart","handleTopDragStartCapture","handleTopDragEndCapture","handleTopDragEnter","handleTopDragEnterCapture","handleTopDragLeaveCapture","handleTopDragOver","handleTopDragOverCapture","handleTopDrop","handleTopDropCapture","getCurrentSourceNodeOptions","createNativeDragSource","_this5","mouseMoveTimeoutTimer","_this5$rootElement","endDragIfSourceWasRemovedFromDOM","_this$window2","unshift","getEmptyImage","compose","thrush","proc","curry2to1","arg1","arg2","curry1to0","tap","tup","always","joinProc","procs","_len2","_key2","subscribe","emitter","subscription","publish","publisher","depot","handleNext","unsub","stream","subscriptions","statefulStream","initial","innerSubject","streamFromEmitter","statefulStreamFromEmitter","combineOperators","operators","subscriber","reduceRight","pipe","project","defaultComparator","previous","distinctUntilChanged","comparator","mapTo","scanner","skip","times","throttleTime","interval","currentValue","debounceTime","withLatestFrom","sources","_len3","_key3","called","pendingCall","allCalled","pow","bit","prevCalled","merge","duc","combineLatest","emitters","system","dependencies","_temp","singleton","systemToComponent","systemSpec","Root","requiredPropNames","optionalPropNames","optional","methodNames","methods","eventNames","events","Context","applyPropsToSystem","_createForOfIteratorHelperLoose","requiredPropName","optionalPropName","buildEventHandlers","handlers","eventName","currentSubscription","cleanup","eventHandler","propsWithChildren","singletons","_init","useImperativeHandle","methodName","buildMethods","prop","omit","usePublisher","useEmitterValue","setValue","useEmitter","r","DEBUG","INFO","WARN","ERROR","g","v","globalThis","VIRTUOSO_LOG_LEVEL","logLevel","ResizeObserver","offsetParent","unobserve","callbackRef","I","knownSize","virtuosoScroller","viewportType","viewportHeight","getComputedStyle","rowGap","T","passive","scrollerRef","scrollByCallback","scrollBy","scrollToCallback","scrollTo","scrollContainerState","headerHeight","fixedHeaderHeight","footerHeight","smoothScrollTargetReached","react18ConcurrentRendering","statefulScrollTop","deviation","scrollingInProgress","lvl","E","R","L","P","O","Infinity","z","N","B","V","A","start","recalcInProgress","offsetTree","lastIndex","lastOffset","lastSize","$","sizeTree","groupOffsetTree","Q","groupIndices","X","groupIndex","tt","et","nt","rt","changed","sizes","firstItemIndex","ranges","prevIndex","prevSize","totalCount","sizeRanges","defaultItemSize","fixedItemSize","unshiftWith","shiftWith","shiftWithOffset","beforeUnshiftWith","gap","listRefresh","statefulTotalCount","trackItemSizes","itemSize","ot","at","location","topListHeight","lt","st","atBottom","notAtBottomBecause","offsetBottom","ut","scrollTopDelta","atBottomBecause","jump","prevScrollTop","isScrolling","isAtTop","isAtBottom","atBottomState","atTopStateChange","atBottomStateChange","scrollDirection","atBottomThreshold","atTopThreshold","scrollVelocity","lastJumpDueToItemResize","ct","propsReady","didMount","mt","scrolledToInitialItem","initialTopMostItemIndex","dt","ft","shouldFollow","followOutputBehavior","refreshed","followOutput","autoscrollToBottom","pt","ht","groupCounts","topItemsIndexes","gt","vt","St","It","Ct","listBoundary","increaseViewportBy","visibleRange","Tt","topItems","offsetTop","wt","originalIndex","xt","bt","listState","endReached","startReached","rangeChanged","itemsRendered","yt","initialItemCount","Et","exit","change","isSeeking","scrollSeekConfiguration","scrollSeekRangeChanged","Ht","topItemCount","Rt","totalListHeight","totalListHeightChanged","Lt","kt","zt","amount","Bt","initialScrollTop","Ft","alignToBottom","paddingTopAddition","Pt","useWindowScroll","customScrollParent","windowScrollContainerState","windowViewportRect","windowScrollTo","Ot","Mt","Vt","Ut","At","visibleHeight","fixedItemHeight","defaultItemHeight","Wt","Nt","visibleWidth","Dt","Gt","_t","jt","Kt","groupContent","components","computeItemKey","headerFooterTag","FooterComponent","HeaderComponent","TopItemListComponent","ListComponent","ItemComponent","GroupComponent","ScrollerComponent","EmptyPlaceholder","ScrollSeekPlaceholder","Yt","qt","group","itemHeight","scrollingStateChange","adjustForPrependedItems","maxHeightCacheSize","footer","header","HeaderContainer","FooterContainer","ItemContainer","ScrollContainer","GroupContainer","ListContainer","emptyComponent","scrollSeek","Zt","Jt","zIndex","overflowAnchor","$t","Qt","showTopList","fe","de","pe","boxSizing","paddingTop","paddingBottom","marginTop","ne","Xt","overflowY","WebkitOverflowScrolling","te","ee","re","oe","ie","ae","le","se","ue","ce","ge","he","me","ve","itemWidth","Se","Ie","Ce","Te","we","xe","be","ye","Ee","Le","He","Re","viewportDimensions","itemDimensions","gridState","ke","ze","itemClassName","listClassName","Be","Fe","Ae","Ue","Ge","columnGap","Pe","Oe","Me","De","Ne","Ve","We","fixedHeaderContent","TableComponent","TableHeadComponent","TableBodyComponent","TableRowComponent","FillerRow","je","Ke","Ye","qe","tn","Xe","Ze","Je","$e","rn","nn","borderSpacing","Qe","on","an","ln","sn","INIT_COORDS","BEGIN_DRAG","PUBLISH_DRAG_SOURCE","HOVER","DROP","END_DRAG","setClientOffset","sourceClientOffset","without","xor","ResetCoordinatesAction","createBeginDrag","sourceIds","_options$publishSourc","verifyInvariants","getDraggableSource","verifyGetSourceClientOffsetIsFunction","getSource","verifyItemIsObject","pinSource","getSourceType","createPublishDragSource","matchesType","targetType","draggedItemType","createHover","targetIdsArg","verifyTargetIdsIsArray","targetIds","checkInvariants","removeNonMatchingTargetIds","hoverAllTargets","lastIndexOf","getTarget","getTargetType","createDrop","getDroppableTargets","determineDropResult","verifyDropResultType","createEndDrag","verifyIsDragging","unpinSource","DragDropManagerImpl","shouldSetUp","getState","isSetUp","setup","teardown","handleRefCountChange","createDragDropActions","boundActions","actionCreator","formatProdErrorMessage","$$observable","observable","randomString","random","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","createStore","reducer","preloadedState","enhancer","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","isSubscribed","listeners","replaceReducer","nextReducer","outerSubscribe","observeState","strictEquality","areCoordsEqual","offsetA","offsetB","areArraysEqual","initialState","initialSourceClientOffset","initialClientOffset","ADD_SOURCE","ADD_TARGET","REMOVE_SOURCE","REMOVE_TARGET","NONE","ALL","areDirty","dirtyIds","_action$payload","_action$payload$targe","_action$payload$prevT","prevTargetIds","prevInnermostTargetId","innermostTargetId","dirtyHandlerIds","dragOffset","dragOperation","stateId","subtract","__IS_NONE__","__IS_ALL__","HandlerRole","DragDropMonitorImpl","prevStateId","currentStateId","previousState","shallow","_getSourceClientOffset","_getDifferenceFromInitialOffset","nextUniqueId","validateType","getNextHandlerId","role","SOURCE","TARGET","parseRoleFromHandlerId","mapContainsValue","searchValue","isDone","_entries$next","HandlerRegistryImpl","validateSourceContract","addHandler","_addSource","validateTargetContract","_addTarget","dragSources","dropTargets","includePinned","isSourceId","isPinned","pinnedSourceId","pinnedSource","isTargetId","_removeSource","_removeTarget","backendFactory","backendOptions","makeStoreInstance","receiveBackend","reduxDevTools","__REDUX_DEVTOOLS_EXTENSION__","instanceId"],"mappings":"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IAED,uBAAwB,CACvB,IACA,EACA,EACA,EACA,GACA,IAED,cAAe,CACd,GACA,GAED,eAAgB,CACf,GACA,GAED,oBAAqB,CACpB,GACA,GAED,uBAAwB,CACvB,GACA,GAED,mBAAoB,CACnB,IACA,EACA,KAED,aAAc,CACb,IACA,EACA,EACA,EACA,EACA,EACA,IAED,cAAe,CACd,IACA,EACA,EACA,EACA,EACA,EACA,IAED,sBAAuB,CACtB,IACA,EACA,EACA,IAED,yBAA0B,CACzB,IACA,EACA,EACA,IAED,mBAAoB,CACnB,IACA,EACA,EACA,EACA,KAED,sBAAuB,CACtB,IACA,EACA,EACA,EACA,KAED,kBAAmB,CAClB,IACA,EACA,EACA,EACA,KAED,qBAAsB,CACrB,IACA,EACA,EACA,EACA,KAED,mBAAoB,CACnB,IACA,EACA,EACA,EACA,EACA,EACA,IAED,sBAAuB,CACtB,IACA,EACA,EACA,EACA,EACA,EACA,IAED,mBAAoB,CACnB,IACA,EACA,IAED,oBAAqB,CACpB,IACA,EACA,IAED,yBAA0B,CACzB,IACA,EACA,IAED,4BAA6B,CAC5B,IACA,EACA,IAED,mBAAoB,CACnB,GACA,GAED,oBAAqB,CACpB,GACA,GAED,yBAA0B,CACzB,GACA,GAED,4BAA6B,CAC5B,GACA,GAED,wBAAyB,CACxB,IACA,EACA,KAED,SAAU,CACT,IACA,EACA,EACA,EACA,EACA,GACA,IAED,UAAW,CACV,IACA,EACA,EACA,EACA,EACA,GACA,IAED,kBAAmB,CAClB,IACA,EACA,EACA,IAED,qBAAsB,CACrB,IACA,EACA,EACA,IAED,eAAgB,CACf,IACA,EACA,EACA,EACA,GACA,IACA,KAED,kBAAmB,CAClB,IACA,EACA,EACA,EACA,GACA,IACA,KAED,cAAe,CACd,IACA,EACA,EACA,EACA,EACA,GACA,KAED,iBAAkB,CACjB,IACA,EACA,EACA,EACA,EACA,GACA,KAED,uBAAwB,CACvB,IACA,EACA,IAED,0BAA2B,CAC1B,IACA,EACA,IAED,wBAAyB,CACxB,IACA,EACA,GACA,IAED,2BAA4B,CAC3B,IACA,EACA,GACA,IAED,eAAgB,CACf,IACA,EACA,EACA,EACA,EACA,GACA,IAED,kBAAmB,CAClB,IACA,EACA,EACA,EACA,EACA,GACA,IAED,eAAgB,CACf,IACA,EACA,EACA,GACA,IAED,gBAAiB,CAChB,IACA,EACA,EACA,GACA,IAED,qBAAsB,CACrB,IACA,EACA,EACA,GACA,IAED,wBAAyB,CACxB,IACA,EACA,EACA,GACA,IAED,eAAgB,CACf,GACA,GAED,gBAAiB,CAChB,GACA,GAED,qBAAsB,CACrB,GACA,GAED,wBAAyB,CACxB,GACA,GAED,uBAAwB,CACvB,GACA,GAED,0BAA2B,CAC1B,GACA,GAED,oBAAqB,CACpB,IACA,EACA,KAED,eAAgB,CACf,IACA,EACA,EACA,EACA,EACA,GACA,IAED,gBAAiB,CAChB,IACA,EACA,EACA,EACA,EACA,GACA,IAED,wBAAyB,CACxB,IACA,EACA,EACA,IAED,2BAA4B,CAC3B,IACA,EACA,EACA,IAED,oBAAqB,CACpB,IACA,EACA,KAED,uBAAwB,CACvB,IACA,EACA,KAED,qBAAsB,CACrB,IACA,EACA,EACA,EACA,GACA,KAED,wBAAyB,CACxB,IACA,EACA,EACA,EACA,GACA,KAED,sBAAuB,CACtB,IACA,EACA,IAED,uBAAwB,CACvB,IACA,EACA,IAED,4BAA6B,CAC5B,IACA,EACA,IAED,+BAAgC,CAC/B,IACA,EACA,IAED,qBAAsB,CACrB,IACA,EACA,EACA,EACA,EACA,GACA,IAED,wBAAyB,CACxB,IACA,EACA,EACA,EACA,EACA,GACA,IAED,qBAAsB,CACrB,IACA,EACA,IAED,sBAAuB,CACtB,IACA,EACA,IAED,2BAA4B,CAC3B,IACA,EACA,IAED,8BAA+B,CAC9B,IACA,EACA,IAED,qBAAsB,CACrB,GACA,GAED,sBAAuB,CACtB,GACA,GAED,2BAA4B,CAC3B,GACA,GAED,8BAA+B,CAC9B,GACA,GAED,0BAA2B,CAC1B,IACA,EACA,KAED,wBAAyB,CACxB,IACA,EACA,EACA,EACA,EACA,GACA,IAED,yBAA0B,CACzB,IACA,EACA,EACA,EACA,EACA,GACA,IAED,iCAAkC,CACjC,IACA,EACA,EACA,IAED,oCAAqC,CACpC,IACA,EACA,EACA,IAED,8BAA+B,CAC9B,IACA,EACA,EACA,EACA,GACA,KAED,iCAAkC,CACjC,IACA,EACA,EACA,EACA,GACA,KAED,8BAA+B,CAC9B,IACA,EACA,EACA,EACA,EACA,GACA,IAED,iCAAkC,CACjC,IACA,EACA,EACA,EACA,EACA,GACA,IAED,8BAA+B,CAC9B,IACA,EACA,IAED,+BAAgC,CAC/B,IACA,EACA,IAED,oCAAqC,CACpC,IACA,EACA,IAED,uCAAwC,CACvC,IACA,EACA,IAED,8BAA+B,CAC9B,GACA,GAED,+BAAgC,CAC/B,GACA,GAED,oCAAqC,CACpC,GACA,GAED,uCAAwC,CACvC,GACA,GAED,mCAAoC,CACnC,IACA,EACA,KAED,oBAAqB,CACpB,IACA,EACA,EACA,EACA,EACA,GACA,IAED,qBAAsB,CACrB,IACA,EACA,EACA,EACA,EACA,GACA,IAED,6BAA8B,CAC7B,IACA,EACA,EACA,IAED,gCAAiC,CAChC,IACA,EACA,EACA,IAED,0BAA2B,CAC1B,IACA,EACA,EACA,EACA,GACA,KAED,6BAA8B,CAC7B,IACA,EACA,EACA,EACA,GACA,KAED,0BAA2B,CAC1B,IACA,EACA,EACA,EACA,EACA,GACA,IAED,6BAA8B,CAC7B,IACA,EACA,EACA,EACA,EACA,GACA,IAED,0BAA2B,CAC1B,IACA,EACA,IAED,2BAA4B,CAC3B,IACA,EACA,IAED,gCAAiC,CAChC,IACA,EACA,IAED,mCAAoC,CACnC,IACA,EACA,IAED,0BAA2B,CAC1B,GACA,GAED,2BAA4B,CAC3B,GACA,GAED,gCAAiC,CAChC,GACA,GAED,mCAAoC,CACnC,GACA,GAED,+BAAgC,CAC/B,IACA,EACA,KAED,SAAU,CACT,IACA,EACA,EACA,IAED,UAAW,CACV,IACA,EACA,EACA,IAED,kBAAmB,CAClB,IACA,EACA,EACA,IAED,qBAAsB,CACrB,IACA,EACA,EACA,IAED,mBAAoB,CACnB,IACA,EACA,KAED,sBAAuB,CACtB,IACA,EACA,KAED,eAAgB,CACf,IACA,EACA,EACA,IAED,kBAAmB,CAClB,IACA,EACA,EACA,IAED,eAAgB,CACf,IACA,EACA,EACA,IAED,kBAAmB,CAClB,IACA,EACA,EACA,IAED,eAAgB,CACf,IACA,EACA,IAED,gBAAiB,CAChB,IACA,EACA,IAED,qBAAsB,CACrB,IACA,EACA,IAED,wBAAyB,CACxB,IACA,EACA,IAED,eAAgB,CACf,GACA,GAED,gBAAiB,CAChB,GACA,GAED,qBAAsB,CACrB,GACA,GAED,wBAAyB,CACxB,GACA,GAED,oBAAqB,CACpB,IACA,EACA,KAED,0BAA2B,CAC1B,GACA,GAED,2BAA4B,CAC3B,GACA,GAED,gCAAiC,CAChC,GACA,GAED,mCAAoC,CACnC,GACA,GAED,4BAA6B,CAC5B,IACA,EACA,IAED,6BAA8B,CAC7B,IACA,EACA,IAED,sCAAuC,CACtC,IACA,EACA,KAED,yCAA0C,CACzC,IACA,EACA,KAED,kCAAmC,CAClC,IACA,EACA,EACA,IAED,qCAAsC,CACrC,IACA,EACA,EACA,IAED,oCAAqC,CACpC,IACA,EACA,IAED,uCAAwC,CACvC,IACA,EACA,IAED,kCAAmC,CAClC,IACA,EACA,IAED,qCAAsC,CACrC,IACA,EACA,IAED,4BAA6B,CAC5B,GACA,GAED,6BAA8B,CAC7B,GACA,GAED,kCAAmC,CAClC,GACA,GAED,qCAAsC,CACrC,GACA,GAED,iCAAkC,CACjC,IACA,GAED,oCAAqC,CACpC,IACA,GAED,SAAU,CACT,IACA,EACA,EACA,EACA,EACA,IAED,UAAW,CACV,IACA,EACA,EACA,EACA,EACA,IAED,eAAgB,CACf,IACA,EACA,EACA,EACA,KAED,kBAAmB,CAClB,IACA,EACA,EACA,EACA,KAED,cAAe,CACd,IACA,EACA,EACA,KAED,iBAAkB,CACjB,IACA,EACA,EACA,KAED,eAAgB,CACf,IACA,EACA,EACA,EACA,EACA,IAED,kBAAmB,CAClB,IACA,EACA,EACA,EACA,EACA,IAED,eAAgB,CACf,IACA,EACA,IAED,gBAAiB,CAChB,IACA,EACA,IAED,qBAAsB,CACrB,IACA,EACA,IAED,wBAAyB,CACxB,IACA,EACA,IAED,eAAgB,CACf,GACA,GAED,gBAAiB,CAChB,GACA,GAED,qBAAsB,CACrB,GACA,GAED,wBAAyB,CACxB,GACA,GAED,uBAAwB,CACvB,IACA,EACA,IAED,0BAA2B,CAC1B,IACA,EACA,IAED,oBAAqB,CACpB,IACA,EACA,KAED,aAAc,CACb,IACA,EACA,EACA,EACA,EACA,IAED,cAAe,CACd,IACA,EACA,EACA,EACA,EACA,IAED,mBAAoB,CACnB,IACA,EACA,EACA,EACA,EACA,KAED,sBAAuB,CACtB,IACA,EACA,EACA,EACA,EACA,KAED,mBAAoB,CACnB,IACA,EACA,EACA,EACA,EACA,IAED,sBAAuB,CACtB,IACA,EACA,EACA,EACA,EACA,IAED,mBAAoB,CACnB,IACA,EACA,EACA,IAED,oBAAqB,CACpB,IACA,EACA,EACA,IAED,yBAA0B,CACzB,IACA,EACA,EACA,IAED,4BAA6B,CAC5B,IACA,EACA,EACA,IAED,mBAAoB,CACnB,GACA,GAED,oBAAqB,CACpB,GACA,GAED,yBAA0B,CACzB,GACA,GAED,4BAA6B,CAC5B,GACA,GAED,wBAAyB,CACxB,IACA,EACA,KAED,SAAU,CACT,IACA,EACA,EACA,EACA,GACA,IAED,UAAW,CACV,IACA,EACA,EACA,EACA,GACA,IAED,iBAAkB,CACjB,IACA,EACA,EACA,KAED,oBAAqB,CACpB,IACA,EACA,EACA,KAED,eAAgB,CACf,IACA,EACA,EACA,EACA,IAED,kBAAmB,CAClB,IACA,EACA,EACA,EACA,IAED,iBAAkB,CACjB,IACA,EACA,IAED,oBAAqB,CACpB,IACA,EACA,IAED,gBAAiB,CAChB,IACA,EACA,EACA,EACA,EACA,GACA,IAED,iBAAkB,CACjB,IACA,EACA,EACA,EACA,EACA,GACA,IAED,8BAA+B,CAC9B,IACA,EACA,IAED,iCAAkC,CACjC,IACA,EACA,IAED,4BAA6B,CAC5B,IACA,EACA,EACA,GACA,KAED,+BAAgC,CAC/B,IACA,EACA,EACA,GACA,KAED,qBAAsB,CACrB,IACA,EACA,EACA,GACA,GACA,KAED,wBAAyB,CACxB,IACA,EACA,EACA,GACA,GACA,KAED,6BAA8B,CAC7B,IACA,EACA,EACA,EACA,KAED,gCAAiC,CAChC,IACA,EACA,EACA,EACA,KAED,6BAA8B,CAC7B,IACA,EACA,KAED,gCAAiC,CAChC,IACA,EACA,KAED,sBAAuB,CACtB,IACA,EACA,EACA,EACA,EACA,GACA,IAED,yBAA0B,CACzB,IACA,EACA,EACA,EACA,EACA,GACA,IAED,eAAgB,CACf,IACA,EACA,EACA,EACA,GACA,IAED,kBAAmB,CAClB,IACA,EACA,EACA,EACA,GACA,IAED,eAAgB,CACf,IACA,EACA,EACA,IAED,gBAAiB,CAChB,IACA,EACA,EACA,IAED,qBAAsB,CACrB,IACA,EACA,EACA,IAED,wBAAyB,CACxB,IACA,EACA,EACA,IAED,eAAgB,CACf,GACA,GAED,gBAAiB,CAChB,GACA,GAED,qBAAsB,CACrB,GACA,GAED,wBAAyB,CACxB,GACA,GAED,4BAA6B,CAC5B,IACA,GAED,+BAAgC,CAC/B,IACA,IAGF,SAAS+xB,EAAoBC,GAC5B,IAAIC,EAAoBlS,EAAE/f,EAAKgyB,GAC9B,OAAOE,QAAQC,UAAU9vB,MAAK,WAC7B,IAAI5B,EAAI,IAAI+Y,MAAM,uBAAyBwY,EAAM,KAEjD,MADAvxB,EAAE2xB,KAAO,mBACH3xB,KAIR,IAAI4xB,EAAMryB,EAAIgyB,GAAMt3B,EAAK23B,EAAI,GAC7B,OAAOH,QAAQI,IAAID,EAAI7M,MAAM,GAAGxlB,IAAIiyB,EAAoBxxB,IAAI4B,MAAK,WAChE,OAAO4vB,EAAoBz3B,EAAEE,EAAI23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","file":"static/js/26.fe9ea2f5.chunk.js","sourcesContent":["/* eslint-disable brace-style */\r\n/* eslint-disable multiline-ternary */\r\nimport {\r\n  Fragment,\r\n  useContext,\r\n  useEffect,\r\n  useState,\r\n  lazy,\r\n  Suspense\r\n} from \"react\"\r\nimport { useParams } from \"react-router-dom\"\r\nimport toast from \"react-hot-toast\"\r\nimport Cleave from \"cleave.js/react\"\r\nimport {\r\n  Row,\r\n  Col,\r\n  Form,\r\n  Button,\r\n  Input,\r\n  Label,\r\n  Modal,\r\n  ModalBody,\r\n  ModalHeader,\r\n  CardText\r\n} from \"reactstrap\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport UILoader from \"@components/ui-loader\"\r\nimport Spinner from \"@components/spinner/Loading-spinner\"\r\nimport \"moment/locale/id\"\r\nimport { ThemeColors } from \"@src/utility/context/ThemeColors\"\r\nimport { selectThemeColors, sortedObject } from \"@utils\"\r\nimport Select from \"react-select\"\r\nimport Flatpickr from \"react-flatpickr\"\r\nimport \"@styles/react/libs/flatpickr/flatpickr.scss\"\r\nimport { Indonesian } from \"flatpickr/dist/l10n/id.js\"\r\nimport { useForm, Controller } from \"react-hook-form\"\r\nimport {\r\n  storeName,\r\n  pageTitle,\r\n  postData,\r\n  putData,\r\n  resetSelectedData,\r\n  getDataById,\r\n  dynamicForm\r\n} from \"../store\"\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\n\r\nconst ModalAddEdit = ({\r\n  show,\r\n  setShow,\r\n  detailPage,\r\n  formState,\r\n  setFormState,\r\n  currentData = null\r\n}) => {\r\n  const { t } = useTranslation()\r\n  const { id } = useParams()\r\n  const dispatch = useDispatch()\r\n  const store = useSelector((state) => state[storeName])\r\n  const { colors } = useContext(ThemeColors)\r\n  const [loadingText, setLoadingText] = useState(\"Please Wait\")\r\n  const allStore = useSelector((state) => state)\r\n  const [dynamicComponents, setDynamicComponents] = useState({})\r\n  const [formDatas, setFormDatas] = useState({})\r\n  const [formDatasError, setFormDatasError] = useState({})\r\n\r\n  const {\r\n    control,\r\n    setError,\r\n    handleSubmit,\r\n    formState: { errors }\r\n  } = useForm({})\r\n\r\n  const Loader = () => {\r\n    return (\r\n      <Fragment>\r\n        <Spinner />\r\n        <CardText className=\"mb-0 mt-1\">{t(loadingText)}...</CardText>\r\n      </Fragment>\r\n    )\r\n  }\r\n\r\n  const countChanges = (data) => {\r\n    if (formState === \"edit\") {\r\n      const storeData = { ...sortedObject(allStore[storeName].selectedData) }\r\n      delete storeData[\"id\"]\r\n      for (let key in storeData) {\r\n        if (!(key in data)) delete storeData[key]\r\n      }\r\n      // console.log(JSON.stringify(sortedObject(storeData)))\r\n      // console.log(JSON.stringify(sortedObject(data)))\r\n      return (\r\n        JSON.stringify(sortedObject(storeData)) !==\r\n        JSON.stringify(sortedObject(data))\r\n      )\r\n    } else {\r\n      return true\r\n    }\r\n  }\r\n\r\n  const updateDataToApi = () => {\r\n    if (countChanges(formDatas)) {\r\n      if (\r\n        Object.values(data).every((field) => {\r\n          return field !== null && field !== \"\"\r\n        })\r\n      ) {\r\n        setLoadingText(`${t(\"Updating\")} ${t(pageTitle)} ${t(\"Detail\")} Data`)\r\n        dispatch(putData(data)).then((res) => {\r\n          // console.log(res)\r\n          if (res.meta.requestStatus === \"fulfilled\") {\r\n            setShow(!show)\r\n            toast.success(`${t(\"Successfully Updated\")} ${t(pageTitle)}`, {\r\n              style: {\r\n                padding: \"16px\",\r\n                color: colors.success.main,\r\n                border: `1px solid ${colors.success.main}`\r\n              },\r\n              iconTheme: {\r\n                primary: colors.success.main\r\n              }\r\n            })\r\n            if (detailPage) {\r\n              dispatch(getDataById(id))\r\n            }\r\n          } else if (res.meta.requestStatus === \"rejected\") {\r\n            toast.error(res.payload.message, {\r\n              style: {\r\n                padding: \"16px\",\r\n                color: colors.danger.main,\r\n                border: `1px solid ${colors.danger.main}`\r\n              },\r\n              iconTheme: {\r\n                primary: colors.danger.main\r\n              }\r\n            })\r\n          }\r\n        })\r\n      } else {\r\n        for (const key in data) {\r\n          if (data[key]?.length === 0) {\r\n            setError(key, {\r\n              type: \"manual\"\r\n            })\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      toast(`${t(\"You haven't changed anything\")}`, { icon: \"👏\" })\r\n    }\r\n  }\r\n\r\n  const postDataToApi = () => {\r\n    if (\r\n      Object.values(formDatas).every((field) => {\r\n        return field !== null && field !== \"\"\r\n      })\r\n    ) {\r\n      setLoadingText(`${t(`Creating a New ${pageTitle}`)}`)\r\n      dispatch(postData(formDatas)).then((res) => {\r\n        // console.log(res)\r\n        if (res.meta.requestStatus === \"fulfilled\") {\r\n          setShow(!show)\r\n          toast.success(`${t(\"Successfully Created\")} ${t(pageTitle)}`, {\r\n            style: {\r\n              padding: \"16px\",\r\n              color: colors.success.main,\r\n              border: `1px solid ${colors.success.main}`\r\n            },\r\n            iconTheme: {\r\n              primary: colors.success.main\r\n            }\r\n          })\r\n          if (detailPage) {\r\n            dispatch(getDataById(id))\r\n          }\r\n        } else if (res.meta.requestStatus === \"rejected\") {\r\n          toast.error(res.payload.message, {\r\n            style: {\r\n              padding: \"16px\",\r\n              color: colors.danger.main,\r\n              border: `1px solid ${colors.danger.main}`\r\n            },\r\n            iconTheme: {\r\n              primary: colors.danger.main\r\n            }\r\n          })\r\n        }\r\n      })\r\n    } else {\r\n      // console.log(\"ERORR\")\r\n      // console.log(formDatas)\r\n      let errorFields = Object.assign({}, formDatasError)\r\n      for (let key in formDatas) {\r\n        // console.log(key, formDatas[key])\r\n        if (formDatas[key] === null || formDatas[key]?.length === 0) {\r\n          errorFields[key] = true\r\n        }\r\n      }\r\n      // console.log(errorFields)\r\n      setFormDatasError(errorFields)\r\n    }\r\n  }\r\n\r\n  const handleReset = () => {\r\n    dispatch(resetSelectedData())\r\n  }\r\n\r\n  const handleChangeInputs = (value, fieldName, isMulti = false) => {\r\n    // console.log(value, fieldName, isMulti)\r\n    if (isMulti) {\r\n      if (formDatas[fieldName]) {\r\n        const index = formDatas[fieldName].indexOf(value)\r\n        if (index !== -1) {\r\n          formDatas[fieldName].splice(index, 1)\r\n        } else {\r\n          formDatas[fieldName].push(value)\r\n        }\r\n      } else {\r\n        formDatas[fieldName] = [value]\r\n      }\r\n    } else {\r\n      formDatas[fieldName] = value\r\n    }\r\n    // formDatasError[fieldName] = false\r\n    setFormDatasError({ ...formDatasError, [fieldName]: false })\r\n  }\r\n\r\n  useEffect(() => {\r\n    // DYNAMIC IMPORT COMPONENTS\r\n    let componentsImport = {}\r\n    // const dynamicFormRelation = dynamicForm.filter(function (el) {\r\n    //   return el.type === \"dropdown\" || el.type === \"table\"\r\n    // })\r\n\r\n    const dynamicFormRelation = dynamicForm\r\n    for (let i = 0; i < dynamicFormRelation.length; i++) {\r\n      const fieldName = dynamicFormRelation[i][\"fieldName\"]\r\n      const fieldLabel = dynamicFormRelation[i][\"fieldLabel\"]\r\n      const path_name = dynamicFormRelation[i][\"fieldName\"].replaceAll(\r\n        \"id_\",\r\n        \"\"\r\n      )\r\n\r\n      formDatas[fieldName] = null\r\n      formDatasError[fieldName] = false\r\n\r\n      ////////////INPUT - DROPDOWN\r\n      if (\r\n        dynamicFormRelation[i][\"type\"] === \"dropdown\" ||\r\n        dynamicFormRelation[i][\"type\"] === \"table\"\r\n      ) {\r\n        const MyComponent = lazy(() => import(`../../${path_name}`))\r\n        componentsImport[`${path_name}_comp`] = (\r\n          <Fragment>\r\n            <Label className=\"form-label\" for={fieldName}>\r\n              {t(fieldLabel ?? \"\")}\r\n            </Label>\r\n            <MyComponent\r\n              key={`dynInput_${fieldName}`}\r\n              lookupMode={true}\r\n              lookupMode_fieldName={fieldName}\r\n              lookupMode_dropdown={\r\n                dynamicFormRelation[i][\"type\"] === \"dropdown\"\r\n              }\r\n              lookupMode_isMulti={\r\n                dynamicFormRelation[i].isMultiSelection ?? false\r\n              }\r\n              lookupMode_onChange={handleChangeInputs}\r\n              lookupMode_defaultValue={\r\n                dynamicFormRelation[i]?.isM2MDefValFromGrid\r\n                  ? allStore[storeName].data.map((x) => x[fieldName])\r\n                  : allStore[storeName]?.selectedData\r\n                  ? allStore[storeName].selectedData[fieldName]\r\n                  : \"\"\r\n              }\r\n              lookupMode_isM2MDefValFromGrid={\r\n                dynamicFormRelation[i]?.isM2MDefValFromGrid ?? false\r\n              }\r\n            />\r\n          </Fragment>\r\n        )\r\n      }\r\n\r\n      ////////////INPUT - TEXT\r\n      else {\r\n        componentsImport[`${path_name}_comp`] = (\r\n          <Fragment>\r\n            <Label className=\"form-label\" for={fieldName}>\r\n              {t(fieldLabel ?? \"\")}\r\n            </Label>\r\n            <Input\r\n              key={`dynInput_${fieldName}`}\r\n              defaultValue={\r\n                dynamicFormRelation[i]?.isM2MDefValFromGrid\r\n                  ? allStore[storeName].data.map((x) => x[fieldName])\r\n                  : allStore[storeName]?.selectedData\r\n                  ? allStore[storeName].selectedData[fieldName]\r\n                  : \"\"\r\n              }\r\n              onChange={(e) =>\r\n                handleChangeInputs(\r\n                  e.target.value,\r\n                  fieldName,\r\n                  dynamicFormRelation[i].isMultiSelection ?? false\r\n                )\r\n              }\r\n              // className={\r\n              //   !formDatasError[fieldName]\r\n              //     ? \"form-control is-invalid\"\r\n              //     : \"form-control\"\r\n              // }\r\n              id={`dynInput_${fieldName}`}\r\n            />\r\n          </Fragment>\r\n        )\r\n      }\r\n    }\r\n\r\n    setDynamicComponents(componentsImport)\r\n  }, [])\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={show}\r\n      toggle={() => {\r\n        handleReset()\r\n        setShow(!show)\r\n      }}\r\n      className=\"modal-dialog-centered modal-lg\"\r\n    >\r\n      <UILoader\r\n        blocking={store.isLoadingAddEdit || store.isLoadingDetail}\r\n        loader={<Loader />}\r\n      >\r\n        <ModalHeader\r\n          className=\"bg-transparent\"\r\n          toggle={() => {\r\n            handleReset()\r\n            setShow(!show)\r\n          }}\r\n        ></ModalHeader>\r\n        <ModalBody className=\"px-sm-5 pt-50 pb-5\">\r\n          <div className=\"text-center mb-2\">\r\n            <h2 className=\"mb-1\">\r\n              {formState === \"edit\" ? t(\"Edit\") : t(\"Add Sub\")} {t(pageTitle)}\r\n            </h2>\r\n            <p className=\"mb-1\">\r\n              {t(\"Child for \")} {currentData ? t(currentData.title) : \"\"}\r\n            </p>\r\n          </div>\r\n          <Form\r\n            onSubmit={\r\n              formState === \"edit\"\r\n                ? handleSubmit(updateDataToApi)\r\n                : handleSubmit(postDataToApi)\r\n            }\r\n          >\r\n            <Row className=\"gy-1 pt-75\">\r\n              {dynamicForm.map((item, index) => {\r\n                const path_name = item.fieldName.replaceAll(\"id_\", \"\")\r\n                if ([\"dropdown\", \"table\"].includes(item.type)) {\r\n                  if (item.type === \"table\") {\r\n                    return (\r\n                      <Col key={path_name} md={12} xs={12}>\r\n                        <Suspense fallback={<div>Loading...</div>}>\r\n                          <div\r\n                            className={\r\n                              !formDatasError[item.fieldName]\r\n                                ? \"dynamicForm_input\"\r\n                                : \"dynamicForm_input dynamicForm_input_invalid\"\r\n                            }\r\n                          >\r\n                            {dynamicComponents[`${path_name}_comp`]}\r\n                            {item?.isM2MDefValFromGrid &&\r\n                              formDatas[item.fieldName] && (\r\n                                <div\r\n                                  style={{ textAlign: \"right\" }}\r\n                                  className=\"text-primary\"\r\n                                >\r\n                                  {formDatas[item.fieldName]?.length}{\" \"}\r\n                                  {t(item.fieldLabel)} {t(\"Selected\")}\r\n                                </div>\r\n                              )}\r\n                          </div>\r\n                        </Suspense>\r\n                      </Col>\r\n                    )\r\n                  } else {\r\n                    return (\r\n                      <Col key={path_name} md={12} xs={12}>\r\n                        <Suspense fallback={<div>Loading...</div>}>\r\n                          <div\r\n                            className={\r\n                              !formDatasError[item.fieldName]\r\n                                ? \"\"\r\n                                : \"dynamicForm_input_invalid\"\r\n                            }\r\n                          >\r\n                            {dynamicComponents[`${path_name}_comp`]}\r\n                            {item?.isM2MDefValFromGrid &&\r\n                              formDatas[item.fieldName] && (\r\n                                <div\r\n                                  style={{ textAlign: \"right\" }}\r\n                                  className=\"text-primary\"\r\n                                >\r\n                                  {formDatas[item.fieldName]?.length}{\" \"}\r\n                                  {t(item.fieldLabel)} {t(\"Selected\")}\r\n                                </div>\r\n                              )}\r\n                          </div>\r\n                        </Suspense>\r\n                      </Col>\r\n                    )\r\n                  }\r\n                } else {\r\n                  return (\r\n                    <Col key={path_name} md={12} xs={12}>\r\n                      <div\r\n                        className={\r\n                          !formDatasError[item.fieldName]\r\n                            ? \"\"\r\n                            : \"dynamicForm_input_invalid\"\r\n                        }\r\n                      >\r\n                        {dynamicComponents[`${path_name}_comp`]}\r\n                      </div>\r\n                    </Col>\r\n                  )\r\n                }\r\n              })}\r\n\r\n              <Col xs={12} className=\"text-center mt-2 pt-50\">\r\n                <Button type=\"submit\" className=\"me-1\" color=\"primary\">\r\n                  {t(\"Submit\")}\r\n                </Button>\r\n                <Button\r\n                  type=\"reset\"\r\n                  color=\"secondary\"\r\n                  outline\r\n                  onClick={() => {\r\n                    handleReset()\r\n                    setFormState(\"add\")\r\n                    setShow(false)\r\n                  }}\r\n                >\r\n                  {t(\"Cancel\")}\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </Form>\r\n        </ModalBody>\r\n      </UILoader>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default ModalAddEdit\r\n","import { Fragment, useEffect, useState } from \"react\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport Table from \"./Table\"\r\nimport Tree from \"./Tree\"\r\nimport DropDown from \"./DropDown\"\r\nimport { Row, Col, Input } from \"reactstrap\"\r\nimport StatsHorizontal from \"@components/widgets/stats/StatsHorizontal\"\r\nimport { User, UserPlus, UserCheck, UserX } from \"react-feather\"\r\nimport Icon from \"@mui/material/Icon\"\r\nimport AddCardOutlinedIcon from \"@mui/icons-material/AddCardOutlined\"\r\nimport \"./style.scss\"\r\nimport Breadcrumbs from \"@components/breadcrumbs\"\r\n\r\nimport {\r\n  storeName,\r\n  getAlwaysGrid,\r\n  getApiSummaryData,\r\n  getSummaryData,\r\n  pageTitle,\r\n  isTreeLayout\r\n} from \"./store\"\r\nimport { Skeleton } from \"@mui/material\"\r\n\r\nconst List = ({\r\n  lookupMode = false,\r\n  lookupMode_fieldName = \"\",\r\n  lookupMode_dropdown = false,\r\n  lookupMode_isMulti = false,\r\n  lookupMode_onChange,\r\n  lookupMode_defaultValue,\r\n  lookupMode_isM2MDefValFromGrid\r\n}) => {\r\n  const { t } = useTranslation()\r\n  const dispatch = useDispatch()\r\n  const store = useSelector((state) => state[storeName])\r\n  const [searchTerm, setSearchTerm] = useState(\"\")\r\n\r\n  const handleFilter = (event) => {\r\n    // console.log(\"handleFilter\")\r\n    setSearchTerm(event)\r\n    // debounceFn(event)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (\r\n      getApiSummaryData &&\r\n      (store.dataSummary?.length === 0 ||\r\n        (!store.isLoadingSummary && getAlwaysGrid))\r\n    ) {\r\n      dispatch(getSummaryData({}))\r\n    }\r\n  }, [dispatch, store.dataSummary?.length])\r\n\r\n  const colors = [\r\n    \"primary\",\r\n    \"success\",\r\n    \"warning\",\r\n    \"danger\",\r\n    \"info\",\r\n    \"secondary\"\r\n  ]\r\n\r\n  return !lookupMode_dropdown ? (\r\n    <Fragment>\r\n      <div className=\"content-header row\">\r\n        {!lookupMode && (\r\n          <Breadcrumbs\r\n            title={t(pageTitle)}\r\n            data={[{ title: t(\"App Setting\") }, { title: t(pageTitle) }]}\r\n          />\r\n        )}\r\n        {/* <div className=\"content-header-right text-md-end col-md col-12 mb-2 \">\r\n          <div className=\"d-flex align-items-center mb-sm-0 mb-1 me-1\">\r\n            <label className=\"mb-0\" htmlFor=\"search-invoice\">\r\n              {t(\"Search\")}:\r\n            </label>\r\n            <Input\r\n              id=\"search-invoice\"\r\n              className=\"ms-50 w-100\"\r\n              type=\"text\"\r\n              value={searchTerm}\r\n              onChange={(e) => handleFilter(e.target.value)}\r\n            />\r\n          </div>\r\n        </div> */}\r\n      </div>\r\n      <div className=\"app-user-list\">\r\n        {!lookupMode && getApiSummaryData && (\r\n          <Row>\r\n            {store.dataSummary?.map((item, index) => {\r\n              return (\r\n                <Col>\r\n                  <StatsHorizontal\r\n                    color={colors[index]}\r\n                    statTitle={`${t(item.title)}`}\r\n                    icon={\r\n                      item.icon ? (\r\n                        <Icon\r\n                          baseClassName=\"material-icons-outlined\"\r\n                          fontSize=\"20\"\r\n                        >\r\n                          {item.icon}\r\n                        </Icon>\r\n                      ) : (\r\n                        <Icon\r\n                          baseClassName=\"material-icons-outlined\"\r\n                          fontSize=\"20\"\r\n                        >\r\n                          lightbulb\r\n                        </Icon>\r\n                      )\r\n                    }\r\n                    renderStats={\r\n                      store.isLoadingSummary ? (\r\n                        <Skeleton\r\n                          sx={{ bgcolor: \"#eef2f8\" }}\r\n                          animation=\"wave\"\r\n                          height={25}\r\n                          width={40}\r\n                          className=\"fw-bolder mb-75\"\r\n                        />\r\n                      ) : (\r\n                        <h3 className=\"fw-bolder mb-75\">\r\n                          {item.count_format ?? item.count}\r\n                        </h3>\r\n                      )\r\n                    }\r\n                  />\r\n                </Col>\r\n              )\r\n            })}\r\n          </Row>\r\n        )}\r\n        {isTreeLayout ? (\r\n          <Tree\r\n            searchString={searchTerm}\r\n            lookupMode={lookupMode}\r\n            lookupMode_fieldName={lookupMode_fieldName}\r\n            lookupMode_defaultValue={lookupMode_defaultValue}\r\n            lookupMode_onChange={lookupMode_onChange}\r\n            lookupMode_isMulti={lookupMode_isMulti}\r\n            lookupMode_isM2MDefValFromGrid\r\n          />\r\n        ) : (\r\n          <Table\r\n            lookupMode={lookupMode}\r\n            lookupMode_fieldName={lookupMode_fieldName}\r\n            lookupMode_defaultValue={lookupMode_defaultValue}\r\n            lookupMode_onChange={lookupMode_onChange}\r\n            lookupMode_isMulti={lookupMode_isMulti}\r\n            lookupMode_isM2MDefValFromGrid\r\n          />\r\n        )}\r\n      </div>\r\n    </Fragment>\r\n  ) : (\r\n    <DropDown\r\n      lookupMode_fieldName={lookupMode_fieldName}\r\n      lookupMode_onChange={lookupMode_onChange}\r\n      lookupMode_defaultValue={lookupMode_defaultValue}\r\n      lookupMode_isMulti={lookupMode_isMulti}\r\n      lookupMode_isM2MDefValFromGrid\r\n    />\r\n  )\r\n}\r\n\r\nexport default List\r\n","/* eslint-disable implicit-arrow-linebreak */\r\n/* eslint-disable no-confusing-arrow */\r\n/* eslint-disable multiline-ternary */\r\nimport {\r\n  Fragment,\r\n  useState,\r\n  useEffect,\r\n  useContext,\r\n  useMemo,\r\n  useCallback,\r\n  forwardRef,\r\n  lazy,\r\n  Suspense\r\n} from \"react\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport { AbilityContext } from \"@src/utility/context/Can\"\r\nimport ModalAddEdit from \"./modal\"\r\nimport { neutralizeBack, revivalBack } from \"@src/utility/Utils\"\r\nimport {\r\n  storeName,\r\n  pageTitle,\r\n  serverSideGrid,\r\n  detailFromGrid,\r\n  getApiAfterPut,\r\n  getApiAfterPost,\r\n  getApiAfterDelete,\r\n  getSummarysData,\r\n  getAlwaysGrid,\r\n  getDataList,\r\n  getDataById,\r\n  setDataById,\r\n  deleteData,\r\n  deleteSelectedRowData,\r\n  disabledAction,\r\n  dynamicColumnsFilter,\r\n  setDataList\r\n} from \"./store\"\r\n\r\nimport { getDataList as getDataListApp } from \"../app/store\"\r\nimport { getInvoice } from \"../../invoices/store\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport ReactPaginate from \"react-paginate\"\r\nimport DataTable from \"react-data-table-component\"\r\nimport debounce from \"lodash.debounce\"\r\nimport {\r\n  ChevronDown,\r\n  Share,\r\n  Printer,\r\n  FileText,\r\n  File,\r\n  Grid\r\n} from \"react-feather\"\r\n\r\nimport { getUserData } from \"@utils\"\r\n\r\nimport UILoader from \"@components/ui-loader\"\r\nimport Spinner from \"@components/spinner/Loading-spinner\"\r\nimport { ThemeColors } from \"@src/utility/context/ThemeColors\"\r\nimport toast from \"react-hot-toast\"\r\nimport {\r\n  Row,\r\n  Col,\r\n  Card,\r\n  Input,\r\n  Button,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  DropdownToggle,\r\n  UncontrolledDropdown,\r\n  CardText\r\n} from \"reactstrap\"\r\n\r\nimport \"@styles/react/libs/react-select/_react-select.scss\"\r\nimport \"@styles/react/libs/tables/react-dataTable-component.scss\"\r\nimport Swal from \"sweetalert2\"\r\nimport withReactContent from \"sweetalert2-react-content\"\r\nimport { Skeleton } from \"@mui/material\"\r\nimport Moment from \"moment\"\r\nimport GlobalActionsTable from \"../../../shared/GlobaActionsTable\"\r\n\r\nimport { getDataList as getDataListPermission } from \"../permission/store\"\r\nimport { NoDataDisplay, Loader } from \"@src/shared/CommonComponents\"\r\nimport Avatar from \"@components/avatar\"\r\n\r\nconst MySwal = withReactContent(Swal)\r\n\r\n// ** Bootstrap Checkbox Component\r\nconst BootstrapCheckbox = forwardRef((props, ref) => (\r\n  <div className=\"form-check\">\r\n    <Input type=\"checkbox\" ref={ref} {...props} />\r\n  </div>\r\n))\r\n\r\n// ** Table Header\r\nconst CustomHeader = ({\r\n  store,\r\n  toggleSidebar,\r\n  handlePerPage,\r\n  rowsPerPage,\r\n  handleFilter,\r\n  searchTerm,\r\n  selectedRow,\r\n  handleDeleteSelected,\r\n  handleFiltersChange,\r\n  filtersCustomAdd,\r\n  searchString,\r\n  lookupMode,\r\n  lookupMode_fieldName,\r\n  lookupMode_defaultValue,\r\n  lookupMode_onChange,\r\n  lookupMode_isMulti,\r\n  lookupMode_isM2MDefValFromGrid\r\n}) => {\r\n  const { t } = useTranslation()\r\n  const ability = useContext(AbilityContext)\r\n\r\n  const dispatch = useDispatch()\r\n  const allStore = useSelector((state) => state)\r\n  const [dynamicFilterComponents, setDynamicFilterComponents] = useState({})\r\n  const [dynamicFilterDatas, setDynamicFilterDatas] = useState({})\r\n  const storeInvoice = useSelector((state) => state.invoices)\r\n  const userData = getUserData()\r\n\r\n  const handleChangeInputs = (value, fieldName, isMulti = false) => {\r\n    fieldName = `filter_${fieldName}`\r\n    if (isMulti) {\r\n      if (dynamicFilterDatas[fieldName]) {\r\n        const index = dynamicFilterDatas[fieldName].indexOf(value)\r\n        if (index !== -1) {\r\n          dynamicFilterDatas[fieldName].splice(index, 1)\r\n        } else {\r\n          dynamicFilterDatas[fieldName].push(value)\r\n        }\r\n      } else {\r\n        dynamicFilterDatas[fieldName] = [value]\r\n      }\r\n    } else {\r\n      dynamicFilterDatas[fieldName] = value\r\n    }\r\n    return handleFiltersChange(dynamicFilterDatas[fieldName], fieldName)\r\n  }\r\n\r\n  useEffect(() => {\r\n    // DYNAMIC IMPORT COMPONENTS\r\n    let componentsImport = {}\r\n    for (let i = 0; i < dynamicColumnsFilter.length; i++) {\r\n      const fieldName = dynamicColumnsFilter[i][\"fieldName\"]\r\n      const path_name = dynamicColumnsFilter[i][\"fieldName\"].replaceAll(\r\n        \"id_\",\r\n        \"\"\r\n      )\r\n\r\n      dynamicFilterDatas[`filter_${fieldName}`] = null\r\n      const MyComponent = lazy(() => import(`../${path_name}`))\r\n      componentsImport[`${path_name}_comp`] = (\r\n        <MyComponent\r\n          lookupMode={true}\r\n          lookupMode_fieldName={fieldName}\r\n          lookupMode_dropdown={true}\r\n          lookupMode_isMulti={dynamicColumnsFilter[i].isMultiSelection ?? false}\r\n          lookupMode_onChange={handleChangeInputs}\r\n          lookupMode_defaultValue={\r\n            dynamicColumnsFilter[i]?.isM2MDefValFromGrid\r\n              ? allStore[storeName].data.map((x) => x[fieldName])\r\n              : allStore[storeName]?.selectedData\r\n              ? allStore[storeName].selectedData[fieldName]\r\n              : \"\"\r\n          }\r\n          lookupMode_isM2MDefValFromGrid={\r\n            dynamicColumnsFilter[i]?.isM2MDefValFromGrid ?? false\r\n          }\r\n        />\r\n      )\r\n    }\r\n\r\n    setDynamicFilterComponents(componentsImport)\r\n  }, [dispatch, dynamicFilterDatas])\r\n\r\n  return (\r\n    <div\r\n      className={`invoice-list-table-header w-100 ms-50 mb-75 ${\r\n        !lookupMode ? \"mt-2 me-1\" : \"\"\r\n      }`}\r\n    >\r\n      <Row>\r\n        <Col xl=\"4\" className=\"d-flex align-items-center p-0\">\r\n          {!lookupMode && (\r\n            <div className=\"d-flex align-items-center w-100\">\r\n              <label htmlFor=\"rows-per-page\">{t(\"Show\")}</label>\r\n              <Input\r\n                className=\"mx-50\"\r\n                type=\"select\"\r\n                id=\"rows-per-page\"\r\n                value={rowsPerPage}\r\n                onChange={handlePerPage}\r\n                style={{ width: \"5rem\" }}\r\n              >\r\n                <option value=\"10\">10</option>\r\n                <option value=\"25\">25</option>\r\n                <option value=\"50\">50</option>\r\n              </Input>\r\n              <label htmlFor=\"rows-per-page\">{t(\"Entries\")}</label>\r\n            </div>\r\n          )}\r\n        </Col>\r\n        <Col\r\n          xl=\"8\"\r\n          className={`d-flex align-items-sm-center justify-content-xl-end justify-content-start flex-xl-nowrap flex-wrap flex-sm-row flex-column p-0 mt-xl-0 mt-1 ${\r\n            !lookupMode ? \"pe-xl-1\" : \"\"\r\n          }`}\r\n        >\r\n          {selectedRow?.length > 0 &&\r\n          ability.can(\"delete\", sessionStorage.getItem(\"current_page_perm\")) &&\r\n          !lookupMode ? (\r\n            <div\r\n              className={`d-flex align-items-center mb-sm-0 mb-1 ${\r\n                !lookupMode ? \"me-1\" : \"\"\r\n              }`}\r\n            >\r\n              <Button\r\n                className=\"delete-users\"\r\n                color=\"danger\"\r\n                onClick={handleDeleteSelected}\r\n              >\r\n                {t(\"Delete\")} {selectedRow.length} {t(`Selected ${pageTitle}`)}\r\n              </Button>\r\n            </div>\r\n          ) : null}\r\n          <div className={`d-flex align-items-center mb-sm-0 mb-1 me-1`}>\r\n            <label className=\"mb-0\" htmlFor=\"search-invoice\">\r\n              {t(\"Search\")}:\r\n            </label>\r\n            <Input\r\n              id=\"search-invoice\"\r\n              className=\"ms-50 w-100\"\r\n              type=\"text\"\r\n              value={searchTerm}\r\n              onChange={(e) => handleFilter(e.target.value)}\r\n            />\r\n          </div>\r\n\r\n          {dynamicColumnsFilter.map((item, index) => {\r\n            const path_name = item.fieldName.replaceAll(\"id_\", \"\")\r\n            return (\r\n              <div\r\n                key={path_name}\r\n                className={`mt-50 width-300 mt-sm-0 mt-1 ${\r\n                  !lookupMode ? \"me-1\" : \"\"\r\n                }`}\r\n              >\r\n                <Suspense fallback={<div>Loading...</div>}>\r\n                  {dynamicFilterComponents[`${path_name}_comp`]}\r\n                </Suspense>\r\n              </div>\r\n\r\n              // <Col key={path_name} md={12} xs={12}>\r\n              //   <Label className=\"form-label\" for={item.fieldName}>\r\n              //     {t(item.fieldLabel ?? \"\")}\r\n              //   </Label>\r\n              //   <Suspense fallback={<div>Loading...</div>}>\r\n              //     <div\r\n              //       className={\r\n              //         !formDatasError[item.fieldName]\r\n              //           ? \"dynamicForm_input\"\r\n              //           : \"dynamicForm_input dynamicForm_input_invalid\"\r\n              //       }\r\n              //     >\r\n              //       {dynamicComponents[`${path_name}_comp`]}\r\n              //       {item?.isM2MDefValFromGrid &&\r\n              //         formDatas[item.fieldName] && (\r\n              //           <div\r\n              //             style={{ textAlign: \"right\" }}\r\n              //             className=\"text-primary\"\r\n              //           >\r\n              //             {formDatas[item.fieldName]?.length}{\" \"}\r\n              //             {t(item.fieldLabel)} {t(\"Selected\")}\r\n              //           </div>\r\n              //         )}\r\n              //     </div>\r\n              //   </Suspense>\r\n              // </Col>\r\n            )\r\n          })}\r\n\r\n          {/* {!filtersCustomAdd[\"filter_id_permission\"] ? (\r\n            <div className=\"mt-50 width-200 me-1 mt-sm-0 mt-1\">\r\n              <Input\r\n                type=\"select\"\r\n                name=\"select\"\r\n                // value={role}\r\n                onChange={(e) =>\r\n                  handleFiltersChange(e.target.value, \"filter_id_permission\")\r\n                }\r\n              >\r\n                <option value=\"\">\r\n                  {t(\"Select\")} {t(\"Permission\")}\r\n                </option>\r\n                {allStore[\"apps_permission\"].data.map((item, index) => (\r\n                  <option key={item.id} value={item.id}>\r\n                    {item.title}\r\n                  </option>\r\n                ))}\r\n              </Input>\r\n            </div>\r\n          ) : null} */}\r\n          <div className=\"d-flex align-items-center table-header-actions\">\r\n            {ability.can(\"post\", sessionStorage.getItem(\"current_page_perm\")) &&\r\n            !lookupMode ? (\r\n              <Button\r\n                className=\"add-new-user\"\r\n                color=\"primary\"\r\n                onClick={toggleSidebar}\r\n                // onClick={handleAdd}\r\n              >\r\n                {t(\"Add New\")} {t(pageTitle)}\r\n              </Button>\r\n            ) : null}\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst List = ({\r\n  filtersCustomAdd,\r\n  searchString,\r\n  lookupMode,\r\n  lookupMode_fieldName,\r\n  lookupMode_defaultValue,\r\n  lookupMode_onChange,\r\n  lookupMode_isMulti,\r\n  lookupMode_isM2MDefValFromGrid\r\n}) => {\r\n  const dispatch = useDispatch()\r\n  const store = useSelector((state) => state[storeName])\r\n  const storeApp = useSelector((state) => state.apps_app)\r\n  const { t } = useTranslation()\r\n  const ability = useContext(AbilityContext)\r\n\r\n  const { colors } = useContext(ThemeColors)\r\n\r\n  const [sort_dir, setSortDir] = useState(\"desc\")\r\n  const [searchTerm, setSearchTerm] = useState(\"\")\r\n  const [currentPage, setCurrentPage] = useState(1)\r\n  const [sort, setSort] = useState(\"id\")\r\n  const [rowsPerPage, setRowsPerPage] = useState(lookupMode ? 5 : 10)\r\n  const [selectedRows, setSelectedRows] = useState([])\r\n\r\n  const [filtersCustom, setFiltersCustom] = useState(filtersCustomAdd ?? {})\r\n\r\n  const [toggleCleared, setToggleCleared] = useState(false)\r\n\r\n  const [sidebarOpen, setSidebarOpen] = useState(false)\r\n  const [loading, setLoading] = useState(false)\r\n  const [loadingText, setLoadingText] = useState(\"Please Wait\")\r\n  const [showModal, setShowModal] = useState(false)\r\n  const [formState, setFormState] = useState(null)\r\n\r\n  const handleEdit = (rowData) => {\r\n    setFormState(\"edit\")\r\n    if (!detailFromGrid) {\r\n      setLoadingText(\r\n        `${t(\"Loading\")} ${t(\"Detail\")} ${t(\"Data\")} ${t(pageTitle)}`\r\n      )\r\n      setLoading(true)\r\n      dispatch(getDataById(rowData.id)).then((res) => {\r\n        if (res.meta.requestStatus === \"rejected\") {\r\n          setLoading(false)\r\n          toast.error(res.payload.message, {\r\n            style: {\r\n              padding: \"16px\",\r\n              color: colors.danger.main,\r\n              border: `1px solid ${colors.danger.main}`\r\n            },\r\n            iconTheme: {\r\n              primary: colors.danger.main\r\n            }\r\n          })\r\n        } else {\r\n          setLoading(false)\r\n          setShowModal(true)\r\n        }\r\n      })\r\n    } else {\r\n      setLoadingText(\r\n        `${t(\"Loading\")} ${t(\"Detail\")} ${t(\"Data\")} ${t(pageTitle)}`\r\n      )\r\n      setLoading(true)\r\n      dispatch(setDataById(rowData)).then(() => {\r\n        if (storeApp.data.length === 0 && !storeApp.isLoading) {\r\n          dispatch(getDataListApp({})).then((res) => {\r\n            setLoading(false)\r\n            setShowModal(true)\r\n          })\r\n        } else {\r\n          setLoading(false)\r\n          setShowModal(true)\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleCloseModal = () => {\r\n    setSidebarOpen(!sidebarOpen)\r\n    setShowModal(!showModal)\r\n    revivalBack()\r\n  }\r\n\r\n  const toggleSidebar = () => {\r\n    // console.log(\"here\")\r\n    setFormState(\"add\")\r\n    setSidebarOpen(!sidebarOpen)\r\n    setShowModal(!showModal)\r\n    neutralizeBack(handleCloseModal)\r\n  }\r\n\r\n  const handleDelete = async (id) => {\r\n    const result = await MySwal.fire({\r\n      title: `${t(\"Are you sure?\")}`,\r\n      text: `${t(\"You won't be able to revert\")} ${t(pageTitle)}!`,\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonText: `${t(\"Yes, Delete\")} ${t(pageTitle)}!`,\r\n      cancelButtonText: `${t(\"Cancel\")}`,\r\n      customClass: {\r\n        confirmButton: \"btn btn-primary\",\r\n        cancelButton: \"btn btn-outline-danger ms-1\"\r\n      },\r\n      buttonsStyling: false\r\n    })\r\n    if (result.value) {\r\n      setLoadingText(`${t(\"Deleting\")} Data ${t(pageTitle)}`)\r\n      setLoading(true)\r\n      dispatch(deleteData(id)).then((res) => {\r\n        // console.log(res)\r\n        if (res.meta.requestStatus === \"fulfilled\") {\r\n          setLoading(false)\r\n          toast.success(`${t(\"Successfully deleted\")} ${t(pageTitle)}`, {\r\n            style: {\r\n              padding: \"16px\",\r\n              color: colors.success.main,\r\n              border: `1px solid ${colors.success.main}`\r\n            },\r\n            iconTheme: {\r\n              primary: colors.success.main\r\n            }\r\n          })\r\n        } else if (res.meta.requestStatus === \"rejected\") {\r\n          setLoading(false)\r\n          toast.error(res.payload.message, {\r\n            style: {\r\n              padding: \"16px\",\r\n              color: colors.danger.main,\r\n              border: `1px solid ${colors.danger.main}`\r\n            },\r\n            iconTheme: {\r\n              primary: colors.danger.main\r\n            }\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleDeleteSelected = async () => {\r\n    const countSelectedCopy = selectedRows.length\r\n    const result = await MySwal.fire({\r\n      title: `${t(\"Are you sure?\")}`,\r\n      text: `${t(\"You will delete\")} ${countSelectedCopy} ${t(\r\n        \"selected data. Deleted data cannot be recovered\"\r\n      )}!`,\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonText: `${t(\"Yes, Delete\")} ${countSelectedCopy} ${t(\r\n        pageTitle\r\n      )}!`,\r\n      cancelButtonText: `${t(\"Cancel\")}`,\r\n      customClass: {\r\n        confirmButton: \"btn btn-primary\",\r\n        cancelButton: \"btn btn-outline-danger ms-1\"\r\n      },\r\n      buttonsStyling: false\r\n    })\r\n    if (result.value) {\r\n      setLoadingText(\r\n        `${t(\"Deleting\")} ${countSelectedCopy} Data ${t(pageTitle)}`\r\n      )\r\n      setLoading(true)\r\n      const values = selectedRows.map((a) => a.id)\r\n      // console.log(values)\r\n      dispatch(deleteSelectedRowData({ id: values })).then((res) => {\r\n        // console.log(res)\r\n        if (res.meta.requestStatus === \"fulfilled\") {\r\n          setSelectedRows([])\r\n          setToggleCleared(!toggleCleared)\r\n          setLoading(false)\r\n          toast.success(\r\n            `${t(\"Successfully deleted\")} ${countSelectedCopy} ${t(pageTitle)}`,\r\n            {\r\n              style: {\r\n                padding: \"16px\",\r\n                color: colors.success.main,\r\n                border: `1px solid ${colors.success.main}`\r\n              },\r\n              iconTheme: {\r\n                primary: colors.success.main\r\n              }\r\n            }\r\n          )\r\n        } else if (res.meta.requestStatus === \"rejected\") {\r\n          setLoading(false)\r\n          toast.error(res.payload.message, {\r\n            style: {\r\n              padding: \"16px\",\r\n              color: colors.danger.main,\r\n              border: `1px solid ${colors.danger.main}`\r\n            },\r\n            iconTheme: {\r\n              primary: colors.danger.main\r\n            }\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  /////PAGINATION SERVERSIDE\r\n  const handlePagination = (page) => {\r\n    dispatch(\r\n      getDataList({\r\n        sort_dir,\r\n        sort,\r\n        search: searchTerm,\r\n        length: rowsPerPage,\r\n        page: page.selected + 1,\r\n        ...filtersCustom\r\n      })\r\n    )\r\n    setCurrentPage(page.selected + 1)\r\n  }\r\n\r\n  const handlePerPage = (e) => {\r\n    const value = parseInt(e.currentTarget.value)\r\n    dispatch(\r\n      getDataList({\r\n        sort_dir,\r\n        sort,\r\n        search: searchTerm,\r\n        length: value,\r\n        page: currentPage,\r\n        ...filtersCustom\r\n      })\r\n    )\r\n    setRowsPerPage(value)\r\n  }\r\n\r\n  const handleDebounceFn = (inputValue) => {\r\n    dispatch(\r\n      getDataList({\r\n        sort_dir,\r\n        search: inputValue,\r\n        sort,\r\n        page: currentPage,\r\n        length: rowsPerPage,\r\n        ...filtersCustom\r\n      })\r\n    )\r\n  }\r\n\r\n  const debounceFn = useCallback(debounce(handleDebounceFn, 500), [])\r\n\r\n  const handleFilter = (event) => {\r\n    setSearchTerm(event)\r\n    debounceFn(event)\r\n  }\r\n\r\n  const handleChangeLookupMode = (\r\n    e,\r\n    id,\r\n    lookupMode_fieldName,\r\n    lookupMode_isMulti\r\n  ) => {\r\n    return lookupMode_onChange(id, lookupMode_fieldName, lookupMode_isMulti)\r\n  }\r\n\r\n  const handleFiltersChange = (value, par_name) => {\r\n    filtersCustom[par_name] = value\r\n    dispatch(\r\n      getDataList({\r\n        sort_dir,\r\n        sort,\r\n        search: searchTerm,\r\n        page: currentPage,\r\n        length: rowsPerPage,\r\n        ...filtersCustom\r\n      })\r\n    )\r\n  }\r\n\r\n  const handleSort = (column, sortDirection) => {\r\n    setSortDir(sortDirection)\r\n    setSort(column.sortField)\r\n    dispatch(\r\n      getDataList({\r\n        sort_dir,\r\n        sort,\r\n        search: searchTerm,\r\n        page: currentPage,\r\n        length: rowsPerPage,\r\n        ...filtersCustom\r\n      })\r\n    )\r\n  }\r\n\r\n  const handleRowSelected = useCallback((state) => {\r\n    setSelectedRows(state.selectedRows)\r\n    if (lookupMode && lookupMode_isMulti) {\r\n      lookupMode_onChange(\r\n        state.selectedRows.map((s) => s.id),\r\n        lookupMode_fieldName,\r\n        lookupMode_isMulti\r\n      )\r\n    }\r\n  }, [])\r\n\r\n  const CustomPagination = () => {\r\n    const count = Number(Math.ceil(store.total / rowsPerPage))\r\n\r\n    return (\r\n      <ReactPaginate\r\n        previousLabel={\"\"}\r\n        nextLabel={\"\"}\r\n        pageCount={count || 1}\r\n        activeClassName=\"active\"\r\n        forcePage={currentPage !== 0 ? currentPage - 1 : 0}\r\n        onPageChange={(page) => handlePagination(page)}\r\n        pageClassName={\"page-item\"}\r\n        nextLinkClassName={\"page-link\"}\r\n        nextClassName={\"page-item next\"}\r\n        previousClassName={\"page-item prev\"}\r\n        previousLinkClassName={\"page-link\"}\r\n        pageLinkClassName={\"page-link\"}\r\n        containerClassName={\r\n          \"pagination react-paginate justify-content-end my-2 pe-1\"\r\n        }\r\n      />\r\n    )\r\n  }\r\n\r\n  const renderCell = (row, column) => {\r\n    const field = row[column.fieldName]\r\n    const dataFormat = column.dataFormat\r\n    if (dataFormat) {\r\n      if (dataFormat.includes(\":\")) {\r\n        const columnTypeFormat = dataFormat.split(\":\")\r\n        const columnType = columnTypeFormat[0]\r\n        const columnFormat = columnTypeFormat[1]\r\n        let columnFormated = row[column.fieldName]\r\n        if (columnType === \"date\") {\r\n          columnFormated = Moment(field).format(\"DD MMM YYYY\")\r\n          if (columnFormat) {\r\n            columnFormated = Moment(field).format(columnFormat)\r\n          }\r\n        }\r\n        if (columnType === \"datetime\") {\r\n          columnFormated = Moment(field).format(\"DD MMM YYYY HH:mm\")\r\n          if (columnFormat) {\r\n            columnFormated = Moment(field).format(columnFormat)\r\n          }\r\n        }\r\n        return columnFormated\r\n      }\r\n    }\r\n    return row[column.fieldName]\r\n  }\r\n\r\n  const columns = [\r\n    ...store.dynamicColumns.map((column) => ({\r\n      name: column.columnName,\r\n      sortField: column.fieldName,\r\n      center: false,\r\n      sortable: true,\r\n      minWidth: column.minWidth,\r\n      selector: (row) => row[column.fieldName],\r\n      cell: (row) => renderCell(row, column)\r\n    })),\r\n    {\r\n      name: t(\"App\"),\r\n      center: false,\r\n      sortable: false,\r\n      selector: (row) => row?.app_logo,\r\n      cell: (row) => (\r\n        <div className=\"d-flex justify-content-left align-items-center\">\r\n          {row?.app_logo ? (\r\n            <Avatar\r\n              className=\"me-1\"\r\n              img={row?.app_logo}\r\n              width=\"32\"\r\n              height=\"32\"\r\n              imgHeight=\"25\"\r\n              imgWidth=\"30\"\r\n              color={\"light-primary\"}\r\n            />\r\n          ) : (\r\n            <Avatar\r\n              initials\r\n              className=\"me-1\"\r\n              // color={row.avatarColor}\r\n              content={row?.app_name ?? \"\"}\r\n            />\r\n          )}\r\n\r\n          <div className=\"d-flex flex-column\">\r\n            <span className=\"fw-bolder\">{row.app_name}</span>\r\n          </div>\r\n        </div>\r\n      )\r\n    },\r\n    // {\r\n    //   name: t(\"App Name\"),\r\n    //   sortField: \"attributes\",\r\n    //   center: false,\r\n    //   sortable: true,\r\n    //   selector: (row) => row.attributes,\r\n    //   cell: (row) => row.attributes\r\n    // },\r\n    !lookupMode && {\r\n      name: t(\"Actions\"),\r\n      center: true,\r\n      width: \"140px\",\r\n      cell: (row) => (\r\n        <GlobalActionsTable\r\n          disabledAction={disabledAction}\r\n          row={row}\r\n          handleDelete={handleDelete}\r\n          handleEdit={handleEdit}\r\n        />\r\n      )\r\n      // (\r\n      //   <Input\r\n      //     disabled={row.hidden}\r\n      //     defaultChecked={row.checked}\r\n      //     onChange={(e) =>\r\n      //       handleChangeLookupMode(\r\n      //         e,\r\n      //         row.id,\r\n      //         lookupMode_fieldName,\r\n      //         lookupMode_isMulti\r\n      //       )\r\n      //     }\r\n      //     type=\"checkbox\"\r\n      //     id={`checkbox-${row.id}`}\r\n      //   />\r\n      // )\r\n    }\r\n  ]\r\n\r\n  const tableColumns = useMemo(\r\n    () =>\r\n      store.isLoading\r\n        ? columns.map((column) => ({\r\n            name: t(column.name),\r\n            ...column,\r\n            sortable: false,\r\n            cell: (row) =>\r\n              column.name === \"Actions\" ? (\r\n                <Fragment>\r\n                  <Skeleton\r\n                    sx={{ bgcolor: colors.dark.light }}\r\n                    animation=\"wave\"\r\n                    className=\"ms-2 me-1\"\r\n                    width={30}\r\n                    height={40}\r\n                  />\r\n                  <Skeleton\r\n                    sx={{ bgcolor: colors.dark.light }}\r\n                    animation=\"wave\"\r\n                    width={30}\r\n                    height={40}\r\n                  />\r\n                </Fragment>\r\n              ) : (\r\n                <Skeleton\r\n                  sx={{ bgcolor: colors.dark.light }}\r\n                  animation=\"wave\"\r\n                  width=\"100%\"\r\n                  height={40}\r\n                />\r\n              )\r\n          }))\r\n        : columns.map((column) => ({\r\n            name: t(column.name),\r\n            ...column\r\n          })),\r\n    [store.isLoading, columns]\r\n  )\r\n\r\n  const dataToRender = () => {\r\n    const filters = {\r\n      search: searchTerm\r\n    }\r\n    const isFiltered = Object.keys(filters).some(function (k) {\r\n      return filters[k].length > 0\r\n    })\r\n    if (!store.isLoading) {\r\n      if (store.data.length > 0) {\r\n        return store.data\r\n      } else if (store.data.length === 0 && isFiltered) {\r\n        return []\r\n      } else {\r\n        // console.log(store.allData)\r\n        // return store.allData.slice(0, rowsPerPage)\r\n      }\r\n    } else {\r\n      return Array(10).fill({})\r\n    }\r\n  }\r\n\r\n  const removeDefaultValue = (data, dataTree) => {\r\n    // console.log(dataTree)\r\n    let mainArray = JSON.parse(JSON.stringify(dataTree))\r\n    // mainArray.forEach(function iter(a) {\r\n    //   if (data.includes(a.id)) {\r\n    //     a[\"checked\"] = true\r\n    //     a[\"hidden\"] = true\r\n    //   }\r\n    //   // console.log(a.id, !data.includes(a.id))\r\n\r\n    //   // eslint-disable-next-line no-unused-expressions\r\n    //   Array.isArray(a.children) && a.children.forEach(iter)\r\n    // })\r\n    // dispatch(setDataList(mainArray))\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (store.data.length === 0 || (!store.isLoading && getAlwaysGrid)) {\r\n      setLoadingText(`${t(\"Loading Data\")} ${t(pageTitle)}`)\r\n      dispatch(\r\n        getDataList({\r\n          sort_dir,\r\n          sort,\r\n          search: searchTerm,\r\n          page: currentPage,\r\n          length: rowsPerPage,\r\n          ...filtersCustom\r\n        })\r\n      ).then((x) => {\r\n        if (lookupMode && lookupMode_isM2MDefValFromGrid) {\r\n          removeDefaultValue(lookupMode_defaultValue, x.payload.data)\r\n        }\r\n      })\r\n    }\r\n    if (store.data.length > 0 && lookupMode_isM2MDefValFromGrid && lookupMode) {\r\n      removeDefaultValue(lookupMode_defaultValue, store.data)\r\n    }\r\n  }, [dispatch, sort_dir, sort, currentPage, filtersCustom])\r\n\r\n  return (\r\n    <Fragment>\r\n      <UILoader blocking={loading} loader={<Loader />}>\r\n        <Card className=\"overflow-hidden\">\r\n          <div className=\"react-dataTable react-dataTable-selectable-rows\">\r\n            <DataTable\r\n              noHeader\r\n              subHeader\r\n              sortServer\r\n              responsive\r\n              pagination\r\n              paginationServer\r\n              paginationTotalRows={store.total}\r\n              paginationComponent={CustomPagination}\r\n              selectableRows\r\n              onSelectedRowsChange={handleRowSelected}\r\n              selectableRowsHighlight\r\n              // onRowClicked={handleRowSelected}\r\n              clearSelectedRows={toggleCleared}\r\n              selectableRowsComponent={BootstrapCheckbox}\r\n              noDataComponent={<NoDataDisplay />}\r\n              // fixedHeader\r\n              // fixedHeaderScrollHeight=\"600px\"\r\n              style={{ \"min-height\": \"400px\" }}\r\n              highlightOnHover\r\n              pointerOnHover\r\n              columns={tableColumns}\r\n              onSort={handleSort}\r\n              sortIcon={<ChevronDown />}\r\n              className=\"react-dataTable\"\r\n              data={dataToRender()}\r\n              subHeaderComponent={\r\n                <CustomHeader\r\n                  store={store}\r\n                  searchTerm={searchTerm}\r\n                  rowsPerPage={rowsPerPage}\r\n                  handleFilter={handleFilter}\r\n                  handlePerPage={handlePerPage}\r\n                  toggleSidebar={toggleSidebar}\r\n                  selectedRow={selectedRows}\r\n                  handleDeleteSelected={handleDeleteSelected}\r\n                  handleFiltersChange={handleFiltersChange}\r\n                  filtersCustomAdd={filtersCustomAdd}\r\n                  lookupMode={lookupMode}\r\n                />\r\n              }\r\n            />\r\n          </div>\r\n        </Card>\r\n\r\n        {/* <Sidebar open={sidebarOpen} toggleSidebar={toggleSidebar} /> */}\r\n      </UILoader>\r\n\r\n      {showModal && (\r\n        <ModalAddEdit\r\n          formState={formState}\r\n          show={showModal}\r\n          setShow={toggleSidebar}\r\n          detailPage={false}\r\n          setFormState={setFormState}\r\n        />\r\n      )}\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default List\r\n","/* eslint-disable implicit-arrow-linebreak */\r\n/* eslint-disable no-confusing-arrow */\r\n/* eslint-disable multiline-ternary */\r\nimport {\r\n  Fragment,\r\n  useState,\r\n  useEffect,\r\n  useContext,\r\n  useMemo,\r\n  useCallback,\r\n  forwardRef,\r\n  Component\r\n} from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport { AbilityContext } from \"@src/utility/context/Can\"\r\nimport ModalAddEdit from \"./modal\"\r\nimport { neutralizeBack, revivalBack } from \"@src/utility/Utils\"\r\nimport {\r\n  storeName,\r\n  pageTitle,\r\n  serverSideGrid,\r\n  detailFromGrid,\r\n  getApiAfterPut,\r\n  getApiAfterPost,\r\n  getApiAfterDelete,\r\n  getSummarysData,\r\n  getAlwaysGrid,\r\n  getDataList,\r\n  getDataById,\r\n  setDataById,\r\n  deleteData,\r\n  deleteSelectedRowData,\r\n  setDataList,\r\n  putData\r\n} from \"./store\"\r\nimport { getInvoice } from \"../../invoices/store\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport ReactPaginate from \"react-paginate\"\r\nimport DataTable from \"react-data-table-component\"\r\nimport debounce from \"lodash.debounce\"\r\nimport {\r\n  ChevronDown,\r\n  Share,\r\n  Printer,\r\n  FileText,\r\n  File,\r\n  Grid,\r\n  Copy,\r\n  Slack,\r\n  User,\r\n  Settings,\r\n  Database,\r\n  Edit2,\r\n  MoreVertical,\r\n  Trash2,\r\n  Archive,\r\n  Eye,\r\n  CheckCircle,\r\n  CheckSquare,\r\n  Check,\r\n  Square,\r\n  Plus\r\n} from \"react-feather\"\r\n\r\nimport { getUserData } from \"@utils\"\r\n\r\nimport UILoader from \"@components/ui-loader\"\r\nimport Spinner from \"@components/spinner/Loading-spinner\"\r\nimport { ThemeColors } from \"@src/utility/context/ThemeColors\"\r\nimport toast from \"react-hot-toast\"\r\nimport {\r\n  Row,\r\n  Col,\r\n  Card,\r\n  Input,\r\n  Label,\r\n  Button,\r\n  CardBody,\r\n  CardTitle,\r\n  CardHeader,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  DropdownToggle,\r\n  UncontrolledDropdown,\r\n  Badge,\r\n  UncontrolledTooltip,\r\n  CardText\r\n} from \"reactstrap\"\r\nimport Swal from \"sweetalert2\"\r\nimport withReactContent from \"sweetalert2-react-content\"\r\nconst MySwal = withReactContent(Swal)\r\nimport \"@styles/react/libs/react-select/_react-select.scss\"\r\nimport \"@styles/react/libs/tables/react-dataTable-component.scss\"\r\nimport SortableTree from \"@nosferatu500/react-sortable-tree\"\r\nimport { Loader } from \"@src/shared/CommonComponents\"\r\n\r\nconst List = ({\r\n  searchString,\r\n  lookupMode,\r\n  lookupMode_fieldName,\r\n  lookupMode_defaultValue,\r\n  lookupMode_onChange,\r\n  lookupMode_isMulti,\r\n  lookupMode_isM2MDefValFromGrid\r\n}) => {\r\n  const dispatch = useDispatch()\r\n  const store = useSelector((state) => state[storeName])\r\n  const { t } = useTranslation()\r\n  const [sidebarOpen, setSidebarOpen] = useState(false)\r\n  const ability = useContext(AbilityContext)\r\n  const [loading, setLoading] = useState(false)\r\n  const [loadingText, setLoadingText] = useState(\"Please Wait\")\r\n  const [showModal, setShowModal] = useState(false)\r\n  const [formState, setFormState] = useState(null)\r\n  const [currentDataAdd, setCurrentDataAdd] = useState(null)\r\n\r\n  const [searchFocusIndex, setSearchFocusIndex] = useState(0)\r\n  const [searchFoundCount, setSearchFoundCount] = useState(null)\r\n\r\n  const { colors } = useContext(ThemeColors)\r\n\r\n  const handleEdit = (rowData) => {\r\n    setFormState(\"edit\")\r\n    if (!detailFromGrid) {\r\n      setLoadingText(\r\n        `${t(\"Loading\")} ${t(\"Detail\")} ${t(\"Data\")} ${t(pageTitle)}`\r\n      )\r\n      setLoading(true)\r\n      dispatch(getDataById(rowData.id)).then((res) => {\r\n        if (res.meta.requestStatus === \"rejected\") {\r\n          setLoading(false)\r\n          toast.error(res.payload.message, {\r\n            style: {\r\n              padding: \"16px\",\r\n              color: colors.danger.main,\r\n              border: `1px solid ${colors.danger.main}`\r\n            },\r\n            iconTheme: {\r\n              primary: colors.danger.main\r\n            }\r\n          })\r\n        } else {\r\n          setLoading(false)\r\n          setShowModal(true)\r\n        }\r\n      })\r\n    } else {\r\n      setLoadingText(\r\n        `${t(\"Loading\")} ${t(\"Detail\")} ${t(\"Data\")} ${t(pageTitle)}`\r\n      )\r\n      setLoading(true)\r\n      dispatch(setDataById(rowData)).then(() => {\r\n        setLoading(false)\r\n        setShowModal(true)\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleDelete = async (id) => {\r\n    const result = await MySwal.fire({\r\n      title: `${t(\"Are you sure?\")}`,\r\n      text: `${t(\"You won't be able to revert\")} ${t(pageTitle)}!`,\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonText: `${t(\"Yes, Delete\")} ${t(pageTitle)}!`,\r\n      cancelButtonText: `${t(\"Cancel\")}`,\r\n      customClass: {\r\n        confirmButton: \"btn btn-primary\",\r\n        cancelButton: \"btn btn-outline-danger ms-1\"\r\n      },\r\n      buttonsStyling: false\r\n    })\r\n    if (result.value) {\r\n      setLoadingText(`${t(\"Deleting\")} Data ${t(pageTitle)}`)\r\n      setLoading(true)\r\n      dispatch(deleteData(id)).then((res) => {\r\n        // console.log(res)\r\n        if (res.meta.requestStatus === \"fulfilled\") {\r\n          setLoading(false)\r\n          toast.success(`${t(\"Successfully deleted\")} ${t(pageTitle)}`, {\r\n            style: {\r\n              padding: \"16px\",\r\n              color: colors.success.main,\r\n              border: `1px solid ${colors.success.main}`\r\n            },\r\n            iconTheme: {\r\n              primary: colors.success.main\r\n            }\r\n          })\r\n        } else if (res.meta.requestStatus === \"rejected\") {\r\n          setLoading(false)\r\n          toast.error(res.payload.message, {\r\n            style: {\r\n              padding: \"16px\",\r\n              color: colors.danger.main,\r\n              border: `1px solid ${colors.danger.main}`\r\n            },\r\n            iconTheme: {\r\n              primary: colors.danger.main\r\n            }\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  const toggleSidebar = (row = null) => {\r\n    // console.log(row.id)\r\n    setCurrentDataAdd(row)\r\n    setFormState(\"add\")\r\n    setSidebarOpen(!sidebarOpen)\r\n    setShowModal(!showModal)\r\n    neutralizeBack(handleCloseModal)\r\n  }\r\n\r\n  const handleCloseModal = () => {\r\n    setSidebarOpen(!sidebarOpen)\r\n    setShowModal(!showModal)\r\n    revivalBack()\r\n  }\r\n\r\n  const handleChange = (tree) => {\r\n    dispatch(setDataList(tree))\r\n  }\r\n\r\n  const handleChangeLookupMode = (\r\n    e,\r\n    id,\r\n    lookupMode_fieldName,\r\n    lookupMode_isMulti\r\n  ) => {\r\n    let mainArray = JSON.parse(JSON.stringify(store.data))\r\n    mainArray.forEach(function iter(a) {\r\n      if (a.id === id) {\r\n        a.checked = e.target.checked\r\n      }\r\n      // eslint-disable-next-line no-unused-expressions\r\n      Array.isArray(a.children) && a.children.forEach(iter)\r\n    })\r\n    handleChange(mainArray)\r\n    return lookupMode_onChange(id, lookupMode_fieldName, lookupMode_isMulti)\r\n  }\r\n\r\n  const eventCanDragNode = (args) => {\r\n    // console.log(args)\r\n    if (args.node.is_app_header) {\r\n      return false\r\n    }\r\n    return true\r\n  }\r\n\r\n  const onMoveNode = ({\r\n    treeData,\r\n    node,\r\n    nextParentNode,\r\n    prevPath,\r\n    prevTreeIndex,\r\n    nextPath,\r\n    nextTreeIndex\r\n  }) => {\r\n    // console.log(nextParentNode)\r\n    const data = {\r\n      id: node.id,\r\n      title: node.title,\r\n      parent_id: nextParentNode.is_app_header ? null : nextParentNode.id\r\n    }\r\n    updateDataToApi(data, true)\r\n  }\r\n\r\n  const updateDataToApi = (data, notReload = false) => {\r\n    // console.log(data)\r\n    setLoadingText(`${t(\"Updating\")} ${t(pageTitle)} Data`)\r\n    if (notReload) data[\"notReload\"] = true\r\n    const nameMsg = data.title\r\n    dispatch(putData(data, notReload)).then((res) => {\r\n      // console.log(res)\r\n      if (res.meta.requestStatus === \"fulfilled\") {\r\n        toast.success(\r\n          `${t(\"Successfully Updated\")} ${t(pageTitle)} ${nameMsg}`,\r\n          {\r\n            style: {\r\n              padding: \"16px\",\r\n              color: colors.success.main,\r\n              border: `1px solid ${colors.success.main}`\r\n            },\r\n            iconTheme: {\r\n              primary: colors.success.main\r\n            }\r\n          }\r\n        )\r\n      } else if (res.meta.requestStatus === \"rejected\") {\r\n        toast.error(res.payload.message, {\r\n          style: {\r\n            padding: \"16px\",\r\n            color: colors.danger.main,\r\n            border: `1px solid ${colors.danger.main}`\r\n          },\r\n          iconTheme: {\r\n            primary: colors.danger.main\r\n          }\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  const customSearchMethod = ({ node, searchQuery }) => {\r\n    return (\r\n      searchQuery &&\r\n      node.title.toLowerCase().indexOf(searchQuery.toLowerCase()) > -1\r\n    )\r\n  }\r\n\r\n  const selectPrevMatch = () =>\r\n    setSearchFocusIndex(\r\n      searchFocusIndex !== null\r\n        ? (searchFoundCount + searchFocusIndex - 1) % searchFoundCount\r\n        : searchFoundCount - 1\r\n    )\r\n\r\n  const selectNextMatch = () =>\r\n    setSearchFocusIndex(\r\n      searchFocusIndex !== null ? (searchFocusIndex + 1) % searchFoundCount : 0\r\n    )\r\n\r\n  const removeDefaultValue = (data, dataTree) => {\r\n    // console.log(dataTree)\r\n    let mainArray = JSON.parse(JSON.stringify(dataTree))\r\n    mainArray.forEach(function iter(a) {\r\n      if (data.includes(a.id)) {\r\n        a[\"checked\"] = true\r\n        a[\"hidden\"] = true\r\n      }\r\n      // console.log(a.id, !data.includes(a.id))\r\n\r\n      // eslint-disable-next-line no-unused-expressions\r\n      Array.isArray(a.children) && a.children.forEach(iter)\r\n    })\r\n    // console.log(data)\r\n    // console.log(mainArray)\r\n    dispatch(setDataList(mainArray))\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (store.data.length === 0 || (!store.isLoading && getAlwaysGrid)) {\r\n      setLoadingText(`${t(\"Loading Data\")} ${t(pageTitle)}`)\r\n      dispatch(getDataList({})).then((x) => {\r\n        // console.log(lookupMode_isM2MDefValFromGrid)\r\n        if (lookupMode && lookupMode_isM2MDefValFromGrid) {\r\n          removeDefaultValue(lookupMode_defaultValue, x.payload.data)\r\n        }\r\n      })\r\n    }\r\n    // console.log(lookupMode_isM2MDefValFromGrid)\r\n    if (store.data.length > 0 && lookupMode_isM2MDefValFromGrid && lookupMode) {\r\n      removeDefaultValue(lookupMode_defaultValue, store.data)\r\n    }\r\n  }, [dispatch, store.data.length])\r\n\r\n  return (\r\n    <Fragment>\r\n      <UILoader blocking={store.isLoading} loader={<Loader />}>\r\n        <Card className=\"overflow-hidden\">\r\n          <div className=\"react-dataTable react-dataTable-selectable-rows\">\r\n            <div\r\n              style={{\r\n                height: !lookupMode ? 800 : 350,\r\n                margin: !lookupMode ? 20 : 10\r\n              }}\r\n            >\r\n              <SortableTree\r\n                treeData={store.data}\r\n                onChange={handleChange}\r\n                onMoveNode={!lookupMode ? onMoveNode : null}\r\n                canDrag={!lookupMode ? eventCanDragNode : false}\r\n                searchMethod={customSearchMethod}\r\n                searchQuery={searchString}\r\n                searchFocusOffset={searchFocusIndex}\r\n                searchFinishCallback={(matches) => {\r\n                  setSearchFoundCount(matches.length)\r\n                  setSearchFocusIndex(\r\n                    matches.length > 0 ? searchFocusIndex % matches.length : 0\r\n                  )\r\n                }}\r\n                // onlyExpandSearchedNodes\r\n                maxDepth={4}\r\n                generateNodeProps={({ node, path }) => ({\r\n                  style: {\r\n                    fontSize: node.is_app_header ? `16px` : \"14px\",\r\n                    fontWeight: node.is_app_header ? `bold` : \"normal\"\r\n                  },\r\n                  title: node.icon ? (\r\n                    <>\r\n                      <div\r\n                        style={{\r\n                          paddingLeft: node.is_app_header ? 0 : 10,\r\n                          fontWeight: node.is_app_header ? `bold` : 400\r\n                        }}\r\n                      >\r\n                        {node.title}\r\n                      </div>\r\n                    </>\r\n                  ) : (\r\n                    <div\r\n                      style={{ fontWeight: node.is_app_header ? `bold` : 400 }}\r\n                    >\r\n                      {node.title}\r\n                    </div>\r\n                  ),\r\n                  buttons: [\r\n                    ability.can(\r\n                      \"post\",\r\n                      sessionStorage.getItem(\"current_page_perm\")\r\n                    ) && !lookupMode ? (\r\n                      <>\r\n                        <Button.Ripple\r\n                          className=\"btn-icon rounded-circle\"\r\n                          color=\"flat-primary\"\r\n                          id=\"btn-edit\"\r\n                          onClick={(e) => {\r\n                            toggleSidebar(node)\r\n                          }}\r\n                        >\r\n                          <Plus size={16} />\r\n                        </Button.Ripple>\r\n                        <UncontrolledTooltip placement=\"left\" target=\"btn-edit\">\r\n                          {t(\"Add Child\")}\r\n                        </UncontrolledTooltip>\r\n                      </>\r\n                    ) : null,\r\n                    ability.can(\r\n                      \"update\",\r\n                      sessionStorage.getItem(\"current_page_perm\")\r\n                    ) &&\r\n                    !lookupMode &&\r\n                    !node.is_app_header ? (\r\n                      <>\r\n                        <Button.Ripple\r\n                          className=\"btn-icon rounded-circle\"\r\n                          color=\"flat-info\"\r\n                          id=\"btn-edit\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault()\r\n                            handleEdit(node)\r\n                          }}\r\n                        >\r\n                          <Edit2 size={16} />\r\n                        </Button.Ripple>\r\n                        <UncontrolledTooltip placement=\"left\" target=\"btn-edit\">\r\n                          {t(\"Edit\")}\r\n                        </UncontrolledTooltip>\r\n                      </>\r\n                    ) : null,\r\n                    ability.can(\r\n                      \"delete\",\r\n                      sessionStorage.getItem(\"current_page_perm\")\r\n                    ) &&\r\n                    !lookupMode &&\r\n                    !node.is_app_header ? (\r\n                      <>\r\n                        <Button.Ripple\r\n                          id=\"btn-delete\"\r\n                          className=\"btn-icon rounded-circle\"\r\n                          color=\"flat-danger\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault()\r\n                            handleDelete(node.id)\r\n                          }}\r\n                        >\r\n                          <Trash2 size={16} />\r\n                        </Button.Ripple>\r\n                        <UncontrolledTooltip\r\n                          placement=\"left\"\r\n                          target=\"btn-delete\"\r\n                        >\r\n                          {t(\"Delete\")}\r\n                        </UncontrolledTooltip>\r\n                      </>\r\n                    ) : null,\r\n                    lookupMode && !node.is_app_header ? (\r\n                      <div\r\n                        className={\r\n                          node.hidden\r\n                            ? \"form-check form-check-secondary\"\r\n                            : \"form-check form-check-primary\"\r\n                        }\r\n                      >\r\n                        <Input\r\n                          disabled={node.hidden}\r\n                          defaultChecked={node.checked}\r\n                          onChange={(e) =>\r\n                            handleChangeLookupMode(\r\n                              e,\r\n                              node.id,\r\n                              lookupMode_fieldName,\r\n                              lookupMode_isMulti\r\n                            )\r\n                          }\r\n                          type=\"checkbox\"\r\n                          id={`checkbox-${node.id}`}\r\n                        />\r\n                      </div>\r\n                    ) : null\r\n                  ]\r\n                })}\r\n              />\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      </UILoader>\r\n\r\n      {showModal && (\r\n        <ModalAddEdit\r\n          formState={formState}\r\n          show={showModal}\r\n          setShow={toggleSidebar}\r\n          detailPage={false}\r\n          setFormState={setFormState}\r\n          currentData={currentDataAdd}\r\n        />\r\n      )}\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default List\r\n","import { Fragment, useEffect, useState } from \"react\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport \"./style.scss\"\r\nimport { selectThemeColors } from \"@utils\"\r\nimport classnames from \"classnames\"\r\nimport Select from \"react-select\"\r\n\r\nimport { storeName, getDataList, getAlwaysGrid } from \"./store\"\r\n\r\nconst List = ({\r\n  lookupMode_fieldName = \"\",\r\n  lookupMode_isMulti = false,\r\n  lookupMode_onChange,\r\n  lookupMode_defaultValue\r\n}) => {\r\n  const { t } = useTranslation()\r\n  const dispatch = useDispatch()\r\n  const store = useSelector((state) => state[storeName])\r\n\r\n  const onChangeInput = (e) => {\r\n    return lookupMode_onChange(e, lookupMode_fieldName)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (store.data.length === 0 || (!store.isLoading && getAlwaysGrid)) {\r\n      dispatch(getDataList({}))\r\n    }\r\n  }, [dispatch, store.data.length])\r\n\r\n  return (\r\n    <Fragment>\r\n      <Select\r\n        theme={selectThemeColors}\r\n        defaultValue={\r\n          !lookupMode_isMulti\r\n            ? store.dataDropdown.filter(\r\n                (el) => el.value === lookupMode_defaultValue\r\n              )\r\n            : lookupMode_defaultValue\r\n        }\r\n        isMulti={lookupMode_isMulti}\r\n        // onChange={lookupMode_onChange}\r\n        onChange={onChangeInput}\r\n        options={store.dataDropdown}\r\n        className={classnames(\"react-select\", {\r\n          \"is-invalid\": store.selectedData?.id === null\r\n        })}\r\n        classNamePrefix=\"select\"\r\n      />\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default List\r\n","// ** React Imports\r\nimport { Fragment } from \"react\"\r\n\r\n// ** Third Party Components\r\nimport Proptypes from \"prop-types\"\r\nimport classnames from \"classnames\"\r\n\r\n// ** Reactstrap Imports\r\nimport { Spinner } from \"reactstrap\"\r\n\r\n// ** Styles\r\nimport \"./ui-loader.scss\"\r\n\r\nconst UILoader = (props) => {\r\n  const { children, blocking, loader, className, tag, overlayColor } = props\r\n\r\n  const Tag = tag\r\n\r\n  return (\r\n    <Tag\r\n      className={classnames(\"ui-loader\", {\r\n        [className]: className,\r\n        show: blocking\r\n      })}\r\n    >\r\n      {children}\r\n      {blocking ? (\r\n        <Fragment>\r\n          <div\r\n            className=\"overlay\" /*eslint-disable */\r\n            {...(blocking && overlayColor\r\n              ? { style: { backgroundColor: overlayColor } }\r\n              : {})}\r\n            /*eslint-enable */\r\n          ></div>\r\n          <div className=\"loader\">{loader}</div>\r\n        </Fragment>\r\n      ) : null}\r\n    </Tag>\r\n  )\r\n}\r\n\r\nexport default UILoader\r\n\r\nUILoader.defaultProps = {\r\n  tag: \"div\",\r\n  blocking: false,\r\n  loader: <Spinner color=\"primary\" />\r\n}\r\n\r\nUILoader.propTypes = {\r\n  tag: Proptypes.string,\r\n  loader: Proptypes.any,\r\n  className: Proptypes.string,\r\n  overlayColor: Proptypes.string,\r\n  blocking: Proptypes.bool.isRequired\r\n}\r\n","/**\n * `@virtuoso.dev/react-urx` exports the [[systemToComponent]] function.\n * It wraps urx systems in to UI **logic provider components**,\n * mapping the system input and output streams to the component input / output points.\n *\n * ### Simple System wrapped as React Component\n *\n * ```tsx\n * const sys = system(() => {\n *   const foo = statefulStream(42)\n *   return { foo }\n * })\n *\n * const { Component: MyComponent, useEmitterValue } = systemToComponent(sys, {\n *   required: { fooProp: 'foo' },\n * })\n *\n * const Child = () => {\n *   const foo = useEmitterValue('foo')\n *   return <div>{foo}</div>\n * }\n *\n * const App = () => {\n *   return <Comp fooProp={42}><Child /><Comp>\n * }\n * ```\n *\n * @packageDocumentation\n */\nimport * as React from 'react'\nimport {\n  ComponentType,\n  createContext,\n  createElement,\n  forwardRef,\n  ForwardRefExoticComponent,\n  ReactNode,\n  RefAttributes,\n  useContext,\n  useImperativeHandle,\n  useState,\n  useCallback,\n} from 'react'\nimport {\n  AnySystemSpec,\n  reset,\n  curry1to0,\n  curry2to1,\n  Emitter,\n  SR,\n  eventHandler,\n  getValue,\n  publish,\n  Publisher,\n  init,\n  StatefulStream,\n  Stream,\n  subscribe,\n  always,\n  tap,\n} from '@virtuoso.dev/urx'\n\n/** @internal */\ninterface Dict<T> {\n  [key: string]: T\n}\n\n/** @internal */\nfunction omit<O extends Dict<any>, K extends readonly string[]>(keys: K, obj: O): Omit<O, K[number]> {\n  var result = {} as Dict<any>\n  var index = {} as Dict<1>\n  var idx = 0\n  var len = keys.length\n\n  while (idx < len) {\n    index[keys[idx]] = 1\n    idx += 1\n  }\n\n  for (var prop in obj) {\n    if (!index.hasOwnProperty(prop)) {\n      result[prop] = obj[prop]\n    }\n  }\n\n  return result as any\n}\n\nconst useIsomorphicLayoutEffect = typeof document !== 'undefined' ? React.useLayoutEffect : React.useEffect\n\n/** @internal */\nexport type Observable<T> = Emitter<T> | Publisher<T>\n\n/**\n * Describes the mapping between the system streams and the component properties.\n * Each property uses the keys as the names of the properties and the values as the corresponding stream names.\n * @typeParam SS the type of the system.\n */\nexport interface SystemPropsMap<SS extends AnySystemSpec, K = keyof SR<SS>, D = { [key: string]: K }> {\n  /**\n   * Specifies the required component properties.\n   */\n  required?: D\n  /**\n   * Specifies the optional component properties.\n   */\n  optional?: D\n  /**\n   * Specifies the component methods, if any. Streams are converted to methods with a single argument.\n   * When invoked, the method publishes the value of the argument to the specified stream.\n   */\n  methods?: D\n  /**\n   * Specifies the component \"event\" properties, if any.\n   * Event properties accept callback functions which get executed when the stream emits a new value.\n   */\n  events?: D\n}\n\n/** @internal */\nexport type PropsFromPropMap<E extends AnySystemSpec, M extends SystemPropsMap<E>> = {\n  [K in Extract<keyof M['required'], string>]: M['required'][K] extends string\n    ? SR<E>[M['required'][K]] extends Observable<infer R>\n      ? R\n      : never\n    : never\n} &\n  {\n    [K in Extract<keyof M['optional'], string>]?: M['optional'][K] extends string\n      ? SR<E>[M['optional'][K]] extends Observable<infer R>\n        ? R\n        : never\n      : never\n  } &\n  {\n    [K in Extract<keyof M['events'], string>]?: M['events'][K] extends string\n      ? SR<E>[M['events'][K]] extends Observable<infer R>\n        ? (value: R) => void\n        : never\n      : never\n  }\n\n/** @internal */\nexport type MethodsFromPropMap<E extends AnySystemSpec, M extends SystemPropsMap<E>> = {\n  [K in Extract<keyof M['methods'], string>]: M['methods'][K] extends string\n    ? SR<E>[M['methods'][K]] extends Observable<infer R>\n      ? (value: R) => void\n      : never\n    : never\n}\n\n/**\n * Used to correctly specify type refs for system components\n *\n * ```tsx\n * const s = system(() => { return { a: statefulStream(0) } })\n * const { Component } = systemToComponent(s)\n *\n * const App = () => {\n *  const ref = useRef<RefHandle<typeof Component>>()\n *  return <Component ref={ref} />\n * }\n * ```\n *\n * @typeParam T the type of the component\n */\nexport type RefHandle<T> = T extends ForwardRefExoticComponent<RefAttributes<infer Handle>> ? Handle : never\n\n/**\n * Converts a system spec to React component by mapping the system streams to component properties, events and methods. Returns hooks for querying and modifying\n * the system streams from the component's child components.\n * @param systemSpec The return value from a [[system]] call.\n * @param map The streams to props / events / methods mapping Check [[SystemPropsMap]] for more details.\n * @param Root The optional React component to render. By default, the resulting component renders nothing, acting as a logical wrapper for its children.\n * @returns an object containing the following:\n *  - `Component`: the React component.\n *  - `useEmitterValue`: a hook that lets child components use values emitted from the specified output stream.\n *  - `useEmitter`: a hook that calls the provided callback whenever the specified stream emits a value.\n *  - `usePublisher`: a hook which lets child components publish values to the specified stream.\n *  <hr />\n */\nexport function systemToComponent<SS extends AnySystemSpec, M extends SystemPropsMap<SS>, S extends SR<SS>, R>(\n  systemSpec: SS,\n  map: M,\n  Root?: R\n) {\n  const requiredPropNames = Object.keys(map.required || {})\n  const optionalPropNames = Object.keys(map.optional || {})\n  const methodNames = Object.keys(map.methods || {})\n  const eventNames = Object.keys(map.events || {})\n  const Context = createContext<SR<SS>>(({} as unknown) as any)\n\n  type RootCompProps = R extends ComponentType<infer RP> ? RP : { children?: ReactNode }\n\n  type CompProps = PropsFromPropMap<SS, M> & RootCompProps\n\n  type CompMethods = MethodsFromPropMap<SS, M>\n\n  function applyPropsToSystem(system: ReturnType<SS['constructor']>, props: any) {\n    if (system['propsReady']) {\n      publish(system['propsReady'], false)\n    }\n\n    for (const requiredPropName of requiredPropNames) {\n      const stream = system[map.required![requiredPropName]]\n      publish(stream, (props as any)[requiredPropName])\n    }\n\n    for (const optionalPropName of optionalPropNames) {\n      if (optionalPropName in props) {\n        const stream = system[map.optional![optionalPropName]]\n        publish(stream, (props as any)[optionalPropName])\n      }\n    }\n\n    if (system['propsReady']) {\n      publish(system['propsReady'], true)\n    }\n  }\n\n  function buildMethods(system: ReturnType<SS['constructor']>) {\n    return methodNames.reduce((acc, methodName) => {\n      ;(acc as any)[methodName] = (value: any) => {\n        const stream = system[map.methods![methodName]]\n        publish(stream, value)\n      }\n      return acc\n    }, {} as CompMethods)\n  }\n\n  function buildEventHandlers(system: ReturnType<SS['constructor']>) {\n    return eventNames.reduce((handlers, eventName) => {\n      handlers[eventName] = eventHandler(system[map.events![eventName]])\n      return handlers\n    }, {} as { [key: string]: Emitter<any> })\n  }\n\n  /**\n   * A React component generated from an urx system\n   */\n  const Component = forwardRef<CompMethods, CompProps>((propsWithChildren, ref) => {\n    const { children, ...props } = propsWithChildren as any\n\n    const [system] = useState(() => {\n      return tap(init(systemSpec), system => applyPropsToSystem(system, props))\n    })\n\n    const [handlers] = useState(curry1to0(buildEventHandlers, system))\n\n    useIsomorphicLayoutEffect(() => {\n      for (const eventName of eventNames) {\n        if (eventName in props) {\n          subscribe(handlers[eventName], props[eventName])\n        }\n      }\n      return () => {\n        Object.values(handlers).map(reset)\n      }\n    }, [props, handlers, system])\n\n    useIsomorphicLayoutEffect(() => {\n      applyPropsToSystem(system, props)\n    })\n\n    useImperativeHandle(ref, always(buildMethods(system)))\n\n    return createElement(\n      Context.Provider,\n      { value: system },\n      Root\n        ? createElement(\n            (Root as unknown) as ComponentType,\n            omit([...requiredPropNames, ...optionalPropNames, ...eventNames], props),\n            children\n          )\n        : children\n    )\n  })\n\n  const usePublisher = <K extends keyof S>(key: K) => {\n    return useCallback(curry2to1(publish, React.useContext(Context)[key]), [key]) as (\n      value: S[K] extends Stream<infer R> ? R : never\n    ) => void\n  }\n\n  /**\n   * Returns the value emitted from the stream.\n   */\n  const useEmitterValue = <K extends keyof S, V = S[K] extends StatefulStream<infer R> ? R : never>(key: K) => {\n    const context = useContext(Context)\n    const source: StatefulStream<V> = context[key]\n\n    const [value, setValue] = useState(curry1to0(getValue, source))\n\n    useIsomorphicLayoutEffect(\n      () =>\n        subscribe(source, (next: V) => {\n          if (next !== value) {\n            setValue(always(next))\n          }\n        }),\n      [source, value]\n    )\n\n    return value\n  }\n\n  const useEmitter = <K extends keyof S, V = S[K] extends Stream<infer R> ? R : never>(key: K, callback: (value: V) => void) => {\n    const context = useContext(Context)\n    const source: Stream<V> = context[key]\n    useIsomorphicLayoutEffect(() => subscribe(source, callback), [callback, source])\n  }\n\n  return {\n    Component,\n    usePublisher,\n    useEmitterValue,\n    useEmitter,\n  }\n}\n","export const mounts = [\n  {\n    key: 'title',\n    getter: swal => swal.getTitle(),\n  },\n  {\n    key: 'html',\n    getter: swal => swal.getHtmlContainer(),\n  },\n  {\n    key: 'confirmButtonText',\n    getter: swal => swal.getConfirmButton(),\n  },\n  {\n    key: 'denyButtonText',\n    getter: swal => swal.getDenyButton(),\n  },\n  {\n    key: 'cancelButtonText',\n    getter: swal => swal.getCancelButton(),\n  },\n  {\n    key: 'footer',\n    getter: swal => swal.getFooter(),\n  },\n  {\n    key: 'closeButtonHtml',\n    getter: swal => swal.getCloseButton(),\n  },\n  {\n    key: 'iconHtml',\n    getter: swal => swal.getIcon().querySelector('.swal2-icon-content'),\n  },\n  {\n    key: 'loaderHtml',\n    getter: swal => swal.getLoader(),\n  },\n]\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { mounts } from './mounts'\n\nconst noop = () => {} // eslint-disable-line @typescript-eslint/no-empty-function\n\nexport default function withReactContent (ParentSwal) {\n  /* Returns `params` separated into a tuple of `reactParams` (the React params that need to be rendered)\n  and`otherParams` (all the other parameters, with any React params replaced with a space ' ') */\n  function extractReactParams (params) {\n    const reactParams = {}\n    const otherParams = {}\n    const mountKeys = mounts.map(mount => mount.key)\n    Object.entries(params).forEach(([key, value]) => {\n      if (mountKeys.includes(key) && React.isValidElement(value)) {\n        reactParams[key] = value\n        otherParams[key] = ' '\n      } else {\n        otherParams[key] = value\n      }\n    })\n    return [reactParams, otherParams]\n  }\n  function render (swal, reactParams) {\n    Object.entries(reactParams).forEach(([key, value]) => {\n      const mount = mounts.find(mount => mount.key === key)\n      const domElement = mount.getter(ParentSwal)\n      ReactDOM.render(value, domElement)\n      swal.__mountedDomElements.push(domElement)\n    })\n  }\n\n  function unrender (swal) {\n    swal.__mountedDomElements.forEach(domElement => {\n      ReactDOM.unmountComponentAtNode(domElement)\n    })\n    swal.__mountedDomElements = []\n  }\n\n  return class extends ParentSwal {\n    static argsToParams (args) {\n      if (React.isValidElement(args[0]) || React.isValidElement(args[1])) {\n        const params = {}\n        ;['title', 'html', 'icon'].forEach((name, index) => {\n          if (args[index] !== undefined) {\n            params[name] = args[index]\n          }\n        })\n        return params\n      } else {\n        return ParentSwal.argsToParams(args)\n      }\n    }\n\n    _main (params, mixinParams) {\n      this.__mountedDomElements = []\n      this.__params = Object.assign({}, mixinParams, params)\n      const [reactParams, otherParams] = extractReactParams(this.__params)\n      const superDidOpen = otherParams.didOpen || noop\n      const superDidDestroy = otherParams.didDestroy || noop\n      return super._main(\n        Object.assign({}, otherParams, {\n          didOpen: popup => {\n            render(this, reactParams)\n            superDidOpen(popup)\n          },\n          didDestroy: popup => {\n            superDidDestroy(popup)\n            unrender(this)\n          },\n        }),\n      )\n    }\n\n    update (params) {\n      Object.assign(this.__params, params)\n      unrender(this)\n      const [reactParams, otherParams] = extractReactParams(this.__params)\n      super.update(otherParams)\n      render(this, reactParams)\n    }\n  }\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _flatpickr = _interopRequireDefault(require(\"flatpickr\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj[\"default\"] = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar hooks = ['onChange', 'onOpen', 'onClose', 'onMonthChange', 'onYearChange', 'onReady', 'onValueUpdate', 'onDayCreate'];\n\nvar hookPropType = _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].func, _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].func)]);\n\nvar callbacks = ['onCreate', 'onDestroy'];\nvar callbackPropTypes = _propTypes[\"default\"].func;\n\nvar DateTimePicker =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(DateTimePicker, _Component);\n\n  function DateTimePicker() {\n    _classCallCheck(this, DateTimePicker);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(DateTimePicker).apply(this, arguments));\n  }\n\n  _createClass(DateTimePicker, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this = this;\n\n      if (this.props.hasOwnProperty('value') && this.props.value !== prevProps.value) {\n        this.flatpickr.setDate(this.props.value, false);\n      }\n\n      var options = this.props.options;\n      var prevOptions = prevProps.options;\n      hooks.forEach(function (hook) {\n        if (_this.props.hasOwnProperty(hook)) {\n          options[hook] = _this.props[hook];\n        } // Add prev ones too so we can compare against them later\n\n\n        if (prevProps.hasOwnProperty(hook)) {\n          prevOptions[hook] = prevProps[hook];\n        }\n      });\n      var optionsKeys = Object.getOwnPropertyNames(options);\n\n      for (var index = optionsKeys.length - 1; index >= 0; index--) {\n        var key = optionsKeys[index];\n        var value = options[key];\n\n        if (value !== prevOptions[key]) {\n          // Hook handlers must be set as an array\n          if (hooks.indexOf(key) !== -1 && !Array.isArray(value)) {\n            value = [value];\n          }\n\n          this.flatpickr.set(key, value);\n        }\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var options = _objectSpread({\n        onClose: function onClose() {\n          _this2.node.blur && _this2.node.blur();\n        }\n      }, this.props.options); // Add prop hooks to options\n\n\n      hooks.forEach(function (hook) {\n        if (_this2.props[hook]) {\n          options[hook] = _this2.props[hook];\n        }\n      });\n      this.flatpickr = new _flatpickr[\"default\"](this.node, options);\n\n      if (this.props.hasOwnProperty('value')) {\n        this.flatpickr.setDate(this.props.value, false);\n      }\n\n      var onCreate = this.props.onCreate;\n      if (onCreate) onCreate(this.flatpickr);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var onDestroy = this.props.onDestroy;\n      if (onDestroy) onDestroy(this.flatpickr);\n      this.flatpickr.destroy();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      // eslint-disable-next-line no-unused-vars\n      var _this$props = this.props,\n          options = _this$props.options,\n          defaultValue = _this$props.defaultValue,\n          value = _this$props.value,\n          children = _this$props.children,\n          render = _this$props.render,\n          props = _objectWithoutProperties(_this$props, [\"options\", \"defaultValue\", \"value\", \"children\", \"render\"]);\n\n      var ref = function ref(node) {\n        _this3.node = node;\n      }; // Don't pass hooks and callbacks to dom node\n\n\n      hooks.forEach(function (hook) {\n        delete props[hook];\n      });\n      callbacks.forEach(function (callback) {\n        delete props[callback];\n      });\n      if (render) return render(_objectSpread({}, props, {\n        defaultValue: defaultValue,\n        value: value\n      }), ref);\n      return options.wrap ? _react[\"default\"].createElement(\"div\", _extends({}, props, {\n        ref: ref\n      }), children) : _react[\"default\"].createElement(\"input\", _extends({}, props, {\n        defaultValue: defaultValue,\n        ref: ref\n      }));\n    }\n  }]);\n\n  return DateTimePicker;\n}(_react.Component);\n\n_defineProperty(DateTimePicker, \"propTypes\", {\n  defaultValue: _propTypes[\"default\"].string,\n  options: _propTypes[\"default\"].object,\n  onChange: hookPropType,\n  onOpen: hookPropType,\n  onClose: hookPropType,\n  onMonthChange: hookPropType,\n  onYearChange: hookPropType,\n  onReady: hookPropType,\n  onValueUpdate: hookPropType,\n  onDayCreate: hookPropType,\n  onCreate: callbackPropTypes,\n  onDestroy: callbackPropTypes,\n  value: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].array, _propTypes[\"default\"].object, _propTypes[\"default\"].number]),\n  children: _propTypes[\"default\"].node,\n  className: _propTypes[\"default\"].string,\n  render: _propTypes[\"default\"].func\n});\n\n_defineProperty(DateTimePicker, \"defaultProps\", {\n  options: {}\n});\n\nvar _default = DateTimePicker;\nexports[\"default\"] = _default;","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = global || self, factory(global.id = {}));\n}(this, function (exports) { 'use strict';\n\n  var fp = typeof window !== \"undefined\" && window.flatpickr !== undefined\n      ? window.flatpickr\n      : {\n          l10ns: {}\n      };\n  var Indonesian = {\n      weekdays: {\n          shorthand: [\"Min\", \"Sen\", \"Sel\", \"Rab\", \"Kam\", \"Jum\", \"Sab\"],\n          longhand: [\"Minggu\", \"Senin\", \"Selasa\", \"Rabu\", \"Kamis\", \"Jumat\", \"Sabtu\"]\n      },\n      months: {\n          shorthand: [\n              \"Jan\",\n              \"Feb\",\n              \"Mar\",\n              \"Apr\",\n              \"Mei\",\n              \"Jun\",\n              \"Jul\",\n              \"Agu\",\n              \"Sep\",\n              \"Okt\",\n              \"Nov\",\n              \"Des\",\n          ],\n          longhand: [\n              \"Januari\",\n              \"Februari\",\n              \"Maret\",\n              \"April\",\n              \"Mei\",\n              \"Juni\",\n              \"Juli\",\n              \"Agustus\",\n              \"September\",\n              \"Oktober\",\n              \"November\",\n              \"Desember\",\n          ]\n      },\n      firstDayOfWeek: 1,\n      ordinal: function () {\n          return \"\";\n      },\n      time_24hr: true,\n      rangeSeparator: \" - \"\n  };\n  fp.l10ns.id = Indonesian;\n  var id = fp.l10ns;\n\n  exports.Indonesian = Indonesian;\n  exports.default = id;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","// ** Third Party Components\r\nimport PropTypes from \"prop-types\"\r\nimport classnames from \"classnames\"\r\n\r\n// ** Reactstrap Imports\r\nimport { Card, CardBody } from \"reactstrap\"\r\nimport { Fragment } from \"react\"\r\n\r\nconst StatsHorizontal = ({\r\n  icon,\r\n  color,\r\n  cardColor,\r\n  stats,\r\n  renderStats,\r\n  statTitle,\r\n  className,\r\n  countTextColor,\r\n  countTextStyle = {},\r\n  titleStyle = {},\r\n  statsMargin,\r\n  solidColor = false,\r\n  cardStyle = {},\r\n  titleOnTop = false\r\n}) => {\r\n  const cardColorFix = !solidColor ? `bg-light-${cardColor}` : `bg-${cardColor}`\r\n  return (\r\n    <Card\r\n      style={{ ...cardStyle }}\r\n      {...(cardColor ? { className: cardColorFix, inverse: true } : {})}\r\n    >\r\n      <CardBody className={className}>\r\n        {!titleOnTop ? (\r\n          <div className=\"d-flex justify-content-between align-items-center\">\r\n            {renderStats ? (\r\n              renderStats\r\n            ) : (\r\n              <Fragment>\r\n                <div>\r\n                  {renderStats ? (\r\n                    renderStats\r\n                  ) : (\r\n                    <h3\r\n                      className={classnames(\"fw-bolder\", {\r\n                        \"mb-0\": !statsMargin,\r\n                        [statsMargin]: statsMargin\r\n                      })}\r\n                      style={{\r\n                        color: countTextColor ?? \"#5e5873\",\r\n                        ...countTextStyle\r\n                      }}\r\n                    >\r\n                      {stats}\r\n                    </h3>\r\n                  )}\r\n\r\n                  <p style={{ ...titleStyle }} className=\"card-text\">\r\n                    {statTitle}\r\n                  </p>\r\n                </div>\r\n                <div\r\n                  className={`avatar avatar-stats p-50 m-0 ${\r\n                    color ? `bg-light-${color}` : \"bg-light-primary\"\r\n                  }`}\r\n                >\r\n                  <div className=\"avatar-content\">{icon}</div>\r\n                </div>\r\n              </Fragment>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <Fragment>\r\n            <div>\r\n              <p style={{ ...titleStyle }} className=\"card-text\">\r\n                {statTitle}\r\n              </p>\r\n            </div>\r\n            <div className=\"d-flex justify-content-between align-items-center\">\r\n              {renderStats ? (\r\n                renderStats\r\n              ) : (\r\n                <Fragment>\r\n                  <div>\r\n                    {renderStats ? (\r\n                      renderStats\r\n                    ) : (\r\n                      <h3\r\n                        className={classnames(\"fw-bolder\", {\r\n                          \"mb-0\": !statsMargin,\r\n                          [statsMargin]: statsMargin\r\n                        })}\r\n                        style={{\r\n                          color: countTextColor ?? \"#5e5873\",\r\n                          ...countTextStyle\r\n                        }}\r\n                      >\r\n                        {stats}\r\n                      </h3>\r\n                    )}\r\n                  </div>\r\n                  <div\r\n                    className={`avatar avatar-stats p-50 m-0 ${\r\n                      color ? `bg-light-${color}` : \"bg-light-primary\"\r\n                    }`}\r\n                  >\r\n                    <div className=\"avatar-content\">{icon}</div>\r\n                  </div>\r\n                </Fragment>\r\n              )}\r\n            </div>\r\n          </Fragment>\r\n        )}\r\n      </CardBody>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default StatsHorizontal\r\n\r\n// ** PropTypes\r\nStatsHorizontal.propTypes = {\r\n  stats: PropTypes.string,\r\n  renderStats: PropTypes.any,\r\n  className: PropTypes.string,\r\n  icon: PropTypes.element,\r\n  color: PropTypes.string,\r\n  cardColor: PropTypes.string,\r\n  statTitle: PropTypes.string,\r\n  statsMargin: PropTypes.oneOf([\r\n    \"mb-0\",\r\n    \"mb-25\",\r\n    \"mb-50\",\r\n    \"mb-75\",\r\n    \"mb-1\",\r\n    \"mb-2\",\r\n    \"mb-3\",\r\n    \"mb-4\",\r\n    \"mb-5\"\r\n  ])\r\n}\r\n","import { AbilityContext } from \"@src/utility/context/Can\"\r\nimport { renderIcon } from \"@src/views/apps/menu/store/my_menu\"\r\nimport { getUserData, parseStrAndField } from \"@utils\"\r\nimport { Fragment, useContext } from \"react\"\r\nimport { CornerDownRight, Edit2, Eye, Trash2 } from \"react-feather\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport { useNavigate, useParams } from \"react-router-dom\"\r\nimport { Button, UncontrolledTooltip } from \"reactstrap\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport {\r\n  getBaseUrl,\r\n  getDataList,\r\n  resetData\r\n} from \"@src/shared/dynamic_pages/store\"\r\n\r\nconst GlobalActionsTable = ({\r\n  row,\r\n  pageAttr,\r\n  handleDelete,\r\n  handleEdit,\r\n  disabledAction = [],\r\n  onlyText = false,\r\n  withText = false,\r\n  outline = false,\r\n  rowClickEvent = \"edit\"\r\n}) => {\r\n  const { t } = useTranslation()\r\n  const ability = useContext(AbilityContext)\r\n  const navigate = useNavigate()\r\n  const storeAll = useSelector((state) => state.dynamicStore)\r\n  const store = useSelector((state) => state.dynamic_temp_state)\r\n  const dispatch = useDispatch()\r\n  const dynamicColumnsExtraActionsButton =\r\n    pageAttr?.crudOpt?.dynamicColumnsExtraActionsButton\r\n\r\n  const extraBtnPrefixId = `btn-extra-action-${row?.id}`\r\n\r\n  function getDepthValue(obj, path, defaultValue = null) {\r\n    let props\r\n    if (typeof obj === \"undefined\") return defaultValue\r\n    if (typeof path === \"string\") {\r\n      props = path.split(\".\").reverse()\r\n    } else {\r\n      props = path\r\n    }\r\n    if (path.length === 0) return obj || defaultValue\r\n    let current = props.pop()\r\n    return getDepthValue(obj?.[current], props, defaultValue)\r\n  }\r\n\r\n  const scrollToDiv = (divId) => {\r\n    const element = document.getElementById(divId)\r\n    if (element) {\r\n      element.scrollIntoView({\r\n        behavior: \"smooth\",\r\n        block: \"start\"\r\n      })\r\n    }\r\n  }\r\n\r\n  const extraBtnShowCondition = (crudOpt, row = null) => {\r\n    let result = false\r\n    if (crudOpt?.showIf) {\r\n      crudOpt?.showIf?.map((item, index) => {\r\n        let field = item?.field\r\n        let operator = item?.operator\r\n        let value = item?.value\r\n\r\n        let currentRowValue = null\r\n        let evalStr = null\r\n\r\n        if (field?.includes(\"__userData\")) {\r\n          const userData = getUserData()\r\n          if (field === \"__userData.name__\") {\r\n            currentRowValue = userData?.name\r\n          } else if (field === \"__userData.isManager__\") {\r\n            currentRowValue = userData?.isManager\r\n          } else if (field === \"__userData.email__\") {\r\n            currentRowValue = userData?.email\r\n          } else if (field === \"__userData.id__\") {\r\n            currentRowValue = userData?.id\r\n          } else if (field === \"__userData.username__\") {\r\n            currentRowValue = userData?.username\r\n          }\r\n\r\n          evalStr = `'${currentRowValue}' ${operator} ${value}`\r\n          if (\r\n            [null, undefined, \"\", false].includes(currentRowValue) &&\r\n            (value === \"null\" || value === \"false\")\r\n          ) {\r\n            evalStr = `${currentRowValue} ${operator} ${currentRowValue}`\r\n          }\r\n\r\n          try {\r\n            if (item?.showIf_or === true) {\r\n              result = result || eval(evalStr)\r\n            } else {\r\n              result = eval(evalStr)\r\n            }\r\n          } catch (error) {\r\n            result = false\r\n          }\r\n          // console.log(field, evalStr, result)\r\n        } else {\r\n          currentRowValue = field?.includes(\".\")\r\n            ? getDepthValue(row, field)\r\n            : row?.[field]\r\n\r\n          evalStr = `'${currentRowValue}' ${operator} ${value}`\r\n\r\n          if (\r\n            [null, undefined, \"\", false].includes(currentRowValue) &&\r\n            (value === \"null\" || value === \"false\")\r\n          ) {\r\n            evalStr = `${currentRowValue} ${operator} ${currentRowValue}`\r\n          }\r\n\r\n          try {\r\n            if (item?.showIf_or === true) {\r\n              result = result || eval(evalStr)\r\n            } else {\r\n              result = eval(evalStr)\r\n            }\r\n          } catch (error) {\r\n            result = false\r\n          }\r\n          // console.log(field, evalStr, result)\r\n        }\r\n      })\r\n    } else {\r\n      result = true\r\n    }\r\n    return result\r\n  }\r\n\r\n  const enabledBtnViewCondition = (crudOpt, row = null) => {\r\n    const paramss = useParams()\r\n    let result = false\r\n    if (crudOpt?.enabledViewBtnCondition) {\r\n      crudOpt?.enabledViewBtnCondition?.map((item) => {\r\n        let field = item?.field\r\n        let operator = item?.operator\r\n        let value = item?.value\r\n\r\n        let currentRowValue = null\r\n        let evalStr = null\r\n\r\n        if (field?.includes(\"__userData\")) {\r\n          const userData = getUserData()\r\n          if (field === \"__userData.name__\") {\r\n            currentRowValue = userData?.name\r\n          } else if (field === \"__userData.isManager__\") {\r\n            currentRowValue = userData?.isManager\r\n          } else if (field === \"__userData.email__\") {\r\n            currentRowValue = userData?.email\r\n          } else if (field === \"__userData.id__\") {\r\n            currentRowValue = userData?.id\r\n          } else if (field === \"__userData.username__\") {\r\n            currentRowValue = userData?.username\r\n          }\r\n\r\n          evalStr = `'${currentRowValue}' ${operator} ${value}`\r\n          if (\r\n            [null, undefined, \"\", false].includes(currentRowValue) &&\r\n            (value === \"null\" || value === \"false\")\r\n          ) {\r\n            evalStr = `${currentRowValue} ${operator} ${currentRowValue}`\r\n          }\r\n\r\n          try {\r\n            if (crudOpt?.enabledViewBtnCondition_or === true) {\r\n              result = result || eval(evalStr)\r\n            } else {\r\n              result = eval(evalStr)\r\n            }\r\n          } catch (error) {\r\n            result = false\r\n          }\r\n          // console.log(field, evalStr, result)\r\n        } else {\r\n          currentRowValue = field?.includes(\".\")\r\n            ? getDepthValue(row, field)\r\n            : row?.[field]\r\n\r\n          evalStr = `'${currentRowValue}' ${operator} ${value}`\r\n\r\n          if (\r\n            [null, undefined, \"\", false].includes(currentRowValue) &&\r\n            (value === \"null\" || value === \"false\")\r\n          ) {\r\n            evalStr = `${currentRowValue} ${operator} ${currentRowValue}`\r\n          }\r\n\r\n          try {\r\n            if (crudOpt?.enabledViewBtnCondition_or === true) {\r\n              result = result || eval(evalStr)\r\n            } else {\r\n              result = eval(evalStr)\r\n            }\r\n          } catch (error) {\r\n            result = false\r\n          }\r\n          // console.log(field, evalStr, result)\r\n        }\r\n      })\r\n    }\r\n\r\n    if (paramss?.pageType === \"view\") {\r\n      result = true\r\n    }\r\n\r\n    return result\r\n  }\r\n\r\n  function hasColorClass(className) {\r\n    let result = \"\"\r\n    if (className && !className?.includes(\"flat\")) {\r\n      result = \"has-color\"\r\n    }\r\n    return result\r\n  }\r\n\r\n  return (\r\n    <div className=\"column-action text-center\">\r\n      {dynamicColumnsExtraActionsButton\r\n        ? dynamicColumnsExtraActionsButton?.map((item, index) => {\r\n            return (\r\n              extraBtnShowCondition(item, row) && (\r\n                <Fragment key={`${extraBtnPrefixId}-fragment-${index}`}>\r\n                  <Button.Ripple\r\n                    key={`${extraBtnPrefixId}-${index}`}\r\n                    outline={\r\n                      item?.outline &&\r\n                      /^(flat-|gradient-|relief-)/.test(item?.color) === false\r\n                    }\r\n                    id={`${extraBtnPrefixId}-${index}`}\r\n                    className={`btn-icon ms-25 extra-btn-table } ${\r\n                      !item?.text ? \"rounded-circle \" : \"\"\r\n                    }`}\r\n                    color={item?.color ? item?.color : \"flat-secondary\"}\r\n                    onClick={(e) => {\r\n                      e.preventDefault()\r\n                      let staticUrl = item?.clickLinkUrl?.static\r\n                      let fieldUrl = item?.clickLinkUrl?.field\r\n                      let widgetId = item?.clickLinkSlideToWidget?.widget_id\r\n\r\n                      if (staticUrl && !fieldUrl && !widgetId) {\r\n                        let params = \"\"\r\n                        let paramsFromFields =\r\n                          item?.clickLinkUrl?.paramsFromFields\r\n                        let paramsArr = []\r\n                        if (paramsFromFields) {\r\n                          paramsFromFields?.map((it, idx) => {\r\n                            let paramKey = it?.paramName\r\n                            // let paramValue = row?.[it?.fieldName]\r\n                            let paramValue = parseStrAndField(\r\n                              row,\r\n                              it?.fieldName\r\n                            )\r\n                            params += `&${paramKey}=${paramValue}`\r\n                            paramsArr.push(`${paramKey}=${paramValue}`)\r\n                          })\r\n                        }\r\n\r\n                        const isQueryStr = staticUrl?.includes(\"?\")\r\n                        let newStaticUrl = `${staticUrl}${\r\n                          isQueryStr ? \"\" : \"?\"\r\n                        }${paramsArr.join(\"&\")}`\r\n\r\n                        let staticUrlFix = newStaticUrl\r\n                          .replace(\"&&\", \"&\")\r\n                          .replace(\"/?&\", \"?\")\r\n                          .replace(\"??\", \"?\")\r\n                          .replace(\"/?\", \"?\")\r\n                          .replace(\"/&\", \"&\")\r\n                          .replace(\"?&\", \"?\")\r\n                          .replace(\"&?\", \"&\")\r\n                          .replace(\"?&\", \"\")\r\n\r\n                        if (\r\n                          staticUrl.startsWith(\"http://\") ||\r\n                          staticUrl.startsWith(\"https://\")\r\n                        ) {\r\n                          // console.log(staticUrlFix)\r\n                          window.open(staticUrlFix, \"_blank\", \"noreferrer\")\r\n                        } else {\r\n                          navigate(newStaticUrl)\r\n                        }\r\n                      } else if (fieldUrl && !staticUrl && !widgetId) {\r\n                        let params = \"\"\r\n                        let paramsFromFields =\r\n                          item?.clickLinkUrl?.paramsFromFields\r\n                        // console.log(fieldUrl.includes(\".\"))\r\n                        let fieldUrlFix = fieldUrl.includes(\".\")\r\n                          ? getDepthValue(row, fieldUrl)\r\n                          : row?.[fieldUrl]\r\n                        // console.log(fieldUrlFix)\r\n                        if (fieldUrlFix) {\r\n                          // console.log(fieldUrlFix)\r\n                          if (paramsFromFields) {\r\n                            paramsFromFields?.map((it, idx) => {\r\n                              let paramKey = it?.paramName\r\n                              let paramValue = row?.[it?.fieldName]\r\n                              params += `${paramKey}=${paramValue}&`\r\n                            })\r\n                          }\r\n                          fieldUrlFix = `${fieldUrlFix}?${params.replace(\r\n                            /&$/,\r\n                            \"\"\r\n                          )}`\r\n                          if (\r\n                            fieldUrlFix.startsWith(\"http://\") ||\r\n                            fieldUrlFix.startsWith(\"https://\")\r\n                          ) {\r\n                            // console.log(fieldUrlFix)\r\n                            window.open(fieldUrlFix, \"_blank\", \"noreferrer\")\r\n                          } else {\r\n                            navigate(fieldUrlFix)\r\n                          }\r\n                        }\r\n                      } else if (!fieldUrl && !staticUrl && widgetId) {\r\n                        let params = \"\"\r\n                        let paramsFromFields =\r\n                          item?.clickLinkSlideToWidget?.paramsFromFields\r\n\r\n                        if (paramsFromFields) {\r\n                          paramsFromFields?.map((it, idx) => {\r\n                            let paramKey = it?.paramName\r\n                            let paramValue = row?.[it?.fieldName]\r\n                            params += `${paramKey}=${paramValue}&`\r\n                          })\r\n                        }\r\n\r\n                        scrollToDiv(`widget_${widgetId}`)\r\n                      }\r\n\r\n                      const clickLinkFillGlobalFilter =\r\n                        item?.clickLinkFillGlobalFilter\r\n                      // console.log(clickLinkFillGlobalFilter)\r\n                      if (clickLinkFillGlobalFilter) {\r\n                        const targetId = clickLinkFillGlobalFilter?.widget_id\r\n                        const element = document.getElementById(\r\n                          `widget_${targetId}`\r\n                        )\r\n                        if (element) {\r\n                          const store_to_reset =\r\n                            element.getAttribute(\"storename\")\r\n\r\n                          let params = {}\r\n                          let paramsFromFields =\r\n                            item?.clickLinkFillGlobalFilter?.paramsFromFields\r\n\r\n                          if (paramsFromFields) {\r\n                            paramsFromFields?.map((it, idx) => {\r\n                              let paramKey = it?.paramName\r\n                              let paramValue = row?.[it?.fieldName]\r\n                              params[`${paramKey}`] = paramValue\r\n                            })\r\n                          }\r\n\r\n                          storeAll.pageAttributes[\r\n                            store_to_reset\r\n                          ]?.options?.data?.dynamicCard?.map((x, index) => {\r\n                            // console.log(x)\r\n                            if (x?.children) {\r\n                              x.children?.map((child, index) => {\r\n                                // console.log(storeAll)\r\n                                // console.log(store)\r\n                                const widget_id =\r\n                                  child?.chart_id ??\r\n                                  child?.cardId ??\r\n                                  child?.pageId ??\r\n                                  child?.crudOpt?.pageId ??\r\n                                  index\r\n\r\n                                const targetAttr = child\r\n\r\n                                const linkToGlobalFilterName =\r\n                                  child?.linkToGlobalFilter ??\r\n                                  child?.crudOpt?.linkToGlobalFilter ??\r\n                                  child?.dataFrom?.linkToGlobalFilter\r\n\r\n                                console.log(widget_id, targetId)\r\n\r\n                                if (\r\n                                  child?.type === \"global_filter\" &&\r\n                                  widget_id === targetId\r\n                                ) {\r\n                                  console.log(targetAttr)\r\n                                  // if (storeAll?.pageData?.[store_to_reset]?.data) {\r\n                                  //   dispatch(resetData(store_to_reset))\r\n                                  // }\r\n\r\n                                  // dispatch(\r\n                                  //   getDataList({\r\n                                  //     ...(storeAll?.pageData?.[store_to_reset]\r\n                                  //       ?.params ?? {}),\r\n                                  //     ...params,\r\n                                  //     storeName: store_to_reset,\r\n                                  //     endpointName:\r\n                                  //     child?.crudOpt\r\n                                  //         ?.endpointName,\r\n                                  //     baseUrl:\r\n                                  //     child?.crudOpt\r\n                                  //         ?.baseUrl\r\n                                  //   })\r\n                                  // )\r\n                                }\r\n\r\n                                // else if (child?.crudOpt && targetId === linkToGlobalFilterName) {\r\n                                //   const child_widget_id =\r\n                                //   child?.chart_id ??\r\n                                //   child?.cardId ??\r\n                                //   child?.pageId ??\r\n                                //   child?.crudOpt?.pageId ??\r\n                                //   index\r\n                                // }\r\n                              })\r\n                            } else {\r\n                              const widget_id =\r\n                                x?.chart_id ??\r\n                                x?.cardId ??\r\n                                x?.pageId ??\r\n                                x?.crudOpt?.pageId ??\r\n                                index\r\n\r\n                              const targetAttr = x\r\n                              const linkToGlobalFilterName =\r\n                                x?.linkToGlobalFilter ??\r\n                                x?.crudOpt?.linkToGlobalFilter ??\r\n                                x?.dataFrom?.linkToGlobalFilter\r\n\r\n                              // console.log(widget_id, targetId)\r\n\r\n                              if (\r\n                                x?.type === \"global_filter\" &&\r\n                                widget_id === targetId\r\n                              ) {\r\n                                // console.log(targetAttr)\r\n                                // console.log(storeAll)\r\n                              } else if (\r\n                                x?.crudOpt &&\r\n                                targetId === linkToGlobalFilterName\r\n                              ) {\r\n                                const childStoreName = `${\r\n                                  x?.crudOpt?.baseUrl ??\r\n                                  x?.dataFrom?.baseUrl ??\r\n                                  x?.baseUrl\r\n                                }_${widget_id}`\r\n\r\n                                console.log(params, x)\r\n                                console.log(storeAll, childStoreName)\r\n\r\n                                if (\r\n                                  storeAll?.pageData?.[childStoreName]?.data\r\n                                ) {\r\n                                  dispatch(resetData(childStoreName))\r\n                                }\r\n\r\n                                dispatch(\r\n                                  getDataList({\r\n                                    ...(storeAll?.pageData?.[childStoreName]\r\n                                      ?.params ?? {}),\r\n                                    ...params,\r\n                                    storeName: childStoreName,\r\n                                    endpointName: x?.crudOpt?.endpointName,\r\n                                    baseUrl: x?.crudOpt?.baseUrl\r\n                                  })\r\n                                )\r\n                              }\r\n\r\n                              // const linkToGlobalFilterName =\r\n                              //   x?.linkToGlobalFilter ??\r\n                              //   x?.crudOpt?.linkToGlobalFilter ??\r\n                              //   x?.dataFrom?.linkToGlobalFilter\r\n                              // if (linkToGlobalFilterName) {\r\n                              //   const widget_id = x?.chart_id ?? x?.cardId\r\n                              //   // console.log(params?.storeName, linkToGlobalFilterName)\r\n                              //   if (params?.storeName === linkToGlobalFilterName) {\r\n                              //     isLinkedToChilds = true\r\n                              //     if (x?.crudOpt) {\r\n                              //       const store_to_reset = `${\r\n                              //         x?.crudOpt?.baseUrl ?? x?.dataFrom?.baseUrl ?? x?.baseUrl\r\n                              //       }_${widget_id}`\r\n                              //       // console.log(store_to_reset)\r\n                              //       // if (storeAll?.pageData?.[store_to_reset]?.data) {\r\n                              //       resetDataByStore(store_to_reset, params)\r\n                              //       // }\r\n                              //     } else {\r\n                              //       const store_to_reset = `${widget_id}`\r\n                              //       const copyParams = { ...params }\r\n                              //       delete copyParams.storeName\r\n                              //       copyParams[\"item\"] = x\r\n                              //       handleChangeFilterFromChild(copyParams)\r\n                              //     }\r\n                              //   }\r\n                              // }\r\n                            }\r\n                          })\r\n                        }\r\n                      }\r\n                    }}\r\n                  >\r\n                    {\r\n                      <Fragment>\r\n                        {item?.icon &&\r\n                          renderIcon(item?.icon, \"align-middle\", 16)}\r\n                        {item?.text && (\r\n                          <span className=\"ms-25 align-middle\">\r\n                            {t(item?.text)}\r\n                          </span>\r\n                        )}\r\n                      </Fragment>\r\n                    }\r\n                  </Button.Ripple>\r\n                  {!pageAttr?.isViewOnRow && (\r\n                    <UncontrolledTooltip\r\n                      key={`${extraBtnPrefixId}-tooltip-${index}`}\r\n                      placement=\"left\"\r\n                      target={`${extraBtnPrefixId}-${index}`}\r\n                    >\r\n                      {item?.tooltip ? t(item?.tooltip) : t(item?.text)}\r\n                    </UncontrolledTooltip>\r\n                  )}\r\n                </Fragment>\r\n              )\r\n            )\r\n          })\r\n        : null}\r\n\r\n      {ability.can(\"delete\", sessionStorage.getItem(\"current_page_perm\")) &&\r\n      !disabledAction.includes(\"delete\") &&\r\n      !pageAttr?.onDashboard ? (\r\n        <Fragment>\r\n          <Button.Ripple\r\n            outline={outline}\r\n            id={`btn-delete-${row.id}`}\r\n            className={`btn-action-table ms-25 btn-icon ${\r\n              !outline ? \"rounded-circle \" : \"\"\r\n            }`}\r\n            color={!outline ? \"flat-secondary\" : \"secondary\"}\r\n            onClick={(e) => {\r\n              e.preventDefault()\r\n              handleDelete(row.id)\r\n            }}\r\n          >\r\n            {!onlyText && <Trash2 size={16} />}\r\n            {(onlyText || withText) && (\r\n              <span className=\"align-middle ms-25\">{t(\"Delete\")}</span>\r\n            )}\r\n          </Button.Ripple>\r\n          {!pageAttr?.isViewOnRow && (\r\n            <UncontrolledTooltip\r\n              placement=\"left\"\r\n              target={`btn-delete-${row.id}`}\r\n            >\r\n              {t(\"Delete\")}\r\n            </UncontrolledTooltip>\r\n          )}\r\n        </Fragment>\r\n      ) : null}\r\n\r\n      {rowClickEvent !== \"view\" &&\r\n      ability.can(\"update\", sessionStorage.getItem(\"current_page_perm\")) &&\r\n      !disabledAction.includes(\"update\") &&\r\n      !pageAttr?.onDashboard ? (\r\n        <Fragment>\r\n          <Button.Ripple\r\n            outline={outline}\r\n            className={`btn-action-table ms-25 btn-icon ${\r\n              !outline ? \"rounded-circle \" : \"\"\r\n            }`}\r\n            color={!outline ? \"flat-secondary\" : \"secondary\"}\r\n            id={`btn-edit-${row.id}`}\r\n            onClick={(e) => {\r\n              e.preventDefault()\r\n              handleEdit(row)\r\n            }}\r\n          >\r\n            {!onlyText && <Edit2 size={16} />}\r\n            {(onlyText || withText) && (\r\n              <span className=\"align-middle ms-25\">{t(\"Edit\")}</span>\r\n            )}\r\n          </Button.Ripple>\r\n          {!pageAttr?.isViewOnRow && (\r\n            <UncontrolledTooltip placement=\"left\" target={`btn-edit-${row.id}`}>\r\n              {t(\"Edit\")}\r\n            </UncontrolledTooltip>\r\n          )}\r\n        </Fragment>\r\n      ) : null}\r\n\r\n      {(rowClickEvent === \"view\" && !disabledAction.includes(\"view\")) ||\r\n      (enabledBtnViewCondition(pageAttr?.crudOpt, row) &&\r\n        !pageAttr?.crudOpt?.saveAsNewBtn &&\r\n        !pageAttr?.onDashboard) ? (\r\n        <Fragment>\r\n          <Button.Ripple\r\n            outline={outline}\r\n            className={`btn-action-table ms-25 btn-icon ${\r\n              !outline ? \"rounded-circle \" : \"\"\r\n            }`}\r\n            color={!outline ? \"flat-secondary\" : \"secondary\"}\r\n            id={`btn-view-${row.id}`}\r\n            onClick={(e) => {\r\n              e.preventDefault()\r\n              handleEdit(row, null, \"view\")\r\n            }}\r\n          >\r\n            {!onlyText && <Eye size={16} />}\r\n            {(onlyText || withText) && (\r\n              <span className=\"align-middle ms-25\">{t(\"View\")}</span>\r\n            )}\r\n          </Button.Ripple>\r\n          {!pageAttr?.isViewOnRow && (\r\n            <UncontrolledTooltip placement=\"left\" target={`btn-view-${row.id}`}>\r\n              {t(\"View Detail\")}\r\n            </UncontrolledTooltip>\r\n          )}\r\n        </Fragment>\r\n      ) : null}\r\n\r\n      {ability.can(\"post\", sessionStorage.getItem(\"current_page_perm\")) &&\r\n      !disabledAction.includes(\"add-child\") &&\r\n      pageAttr?.crudOpt?.gridTheme === \"table_tree\" &&\r\n      !pageAttr?.onDashboard ? (\r\n        <Fragment>\r\n          <Button.Ripple\r\n            outline={outline}\r\n            id={`btn-add-child-${row.id}`}\r\n            className={`btn-action-table btn-icon ${\r\n              !outline ? \"rounded-circle \" : \"\"\r\n            }`}\r\n            color={!outline ? \"flat-secondary\" : \"secondary\"}\r\n            onClick={(e) => {\r\n              e.preventDefault()\r\n              handleEdit(null, {\r\n                [pageAttr?.crudOpt?.ganttParentIdField ?? \"parent_id\"]: row?.id\r\n              })\r\n            }}\r\n          >\r\n            {!onlyText && <CornerDownRight size={16} />}\r\n            {/* {!onlyText && renderIcon(\"fontAwesome:folder-tree\", \"\", 16)} */}\r\n            {/* {!onlyText && renderIcon(\"material:subdirectory_arrow_right\", \"\", 16)} */}\r\n            {(onlyText || withText) && (\r\n              <span className=\"align-middle ms-25\">{t(\"Add Child\")}</span>\r\n            )}\r\n          </Button.Ripple>\r\n          {!pageAttr?.isViewOnRow && (\r\n            <UncontrolledTooltip\r\n              placement=\"left\"\r\n              target={`btn-add-child-${row.id}`}\r\n            >\r\n              {t(\"Add Child\")}\r\n            </UncontrolledTooltip>\r\n          )}\r\n        </Fragment>\r\n      ) : null}\r\n\r\n      {/* {rowClickEvent === \"view\" || !disabledAction.includes(\"view\") ? (\r\n        <Fragment>\r\n          <Button.Ripple\r\n            outline={outline}\r\n            className={`btn-icon ms-1 ${!outline ? \"rounded-circle \" : \"\"}`}\r\n            color={!outline ? \"flat-info\" : \"info\"}\r\n            id={`btn-view-${row.id}`}\r\n            onClick={(e) => {\r\n              e.preventDefault()\r\n              handleEdit(row)\r\n            }}\r\n          >\r\n            {!onlyText && <Eye size={16} />}\r\n            {(onlyText || withText) && (\r\n              <span className=\"align-middle ms-25\">{t(\"View\")}</span>\r\n            )}\r\n          </Button.Ripple>\r\n          <UncontrolledTooltip placement=\"left\" target={`btn-view-${row.id}`}>\r\n            {t(\"View Detail\")}\r\n          </UncontrolledTooltip>\r\n        </Fragment>\r\n      ) : null} */}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default GlobalActionsTable\r\n","// ** React Imports\r\nimport { Fragment } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\n\r\n// ** Third Party Components\r\nimport Proptypes from \"prop-types\"\r\nimport classnames from \"classnames\"\r\nimport { Grid, CheckSquare, MessageSquare, Mail, Calendar } from \"react-feather\"\r\nimport { useTranslation } from \"react-i18next\"\r\n\r\n// ** Reactstrap Imports\r\nimport {\r\n  Breadcrumb,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  BreadcrumbItem,\r\n  DropdownToggle,\r\n  UncontrolledButtonDropdown\r\n} from \"reactstrap\"\r\n\r\nconst BreadCrumbs = (props) => {\r\n  const { t } = useTranslation()\r\n  // ** Props\r\n  const { data, title, mb, subtitle } = props\r\n\r\n  const renderBreadCrumbs = () => {\r\n    return data.map((item, index) => {\r\n      const Wrapper = item.link ? Link : Fragment\r\n      const isLastItem = data.length - 1 === index\r\n      return (\r\n        <BreadcrumbItem\r\n          tag=\"li\"\r\n          key={index}\r\n          active={!isLastItem}\r\n          className={classnames({ \"text-primary\": !isLastItem })}\r\n        >\r\n          <Wrapper {...(item.link ? { to: item.link } : {})}>\r\n            {item.title}\r\n          </Wrapper>\r\n        </BreadcrumbItem>\r\n      )\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={`content-header-left col-md-9 col-8 ${\r\n        mb || mb === 0 ? `mb-${mb}` : \"mb-2\"\r\n      }`}\r\n    >\r\n      <div className=\"row breadcrumbs-top\">\r\n        <div className=\"col-12\">\r\n          {title ? (\r\n            <h2 className=\"content-header-title float-start mb-0\">{title}</h2>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <div className=\"breadcrumb-wrapper vs-breadcrumbs d-sm-block d-none col-12\">\r\n            <Breadcrumb>\r\n              <BreadcrumbItem tag=\"li\">\r\n                <Link to=\"/\">{t(\"Home\")}</Link>\r\n              </BreadcrumbItem>\r\n              {renderBreadCrumbs()}\r\n            </Breadcrumb>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-12\">{subtitle ?? \"\"}</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default BreadCrumbs\r\n\r\n// ** PropTypes\r\nBreadCrumbs.propTypes = {\r\n  title: Proptypes.string.isRequired,\r\n  data: Proptypes.arrayOf(\r\n    Proptypes.shape({\r\n      link: Proptypes.string,\r\n      title: Proptypes.string.isRequired\r\n    })\r\n  )\r\n}\r\n","var map = {\n\t\"./app\": [\n\t\t144,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t9,\n\t\t14,\n\t\t38\n\t],\n\t\"./app/\": [\n\t\t144,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t9,\n\t\t14,\n\t\t38\n\t],\n\t\"./app/DropDown\": [\n\t\t341,\n\t\t9,\n\t\t0,\n\t\t61\n\t],\n\t\"./app/DropDown.js\": [\n\t\t341,\n\t\t9,\n\t\t0,\n\t\t61\n\t],\n\t\"./app/Table\": [\n\t\t330,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t9,\n\t\t14,\n\t\t129\n\t],\n\t\"./app/Table.js\": [\n\t\t330,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t9,\n\t\t14,\n\t\t129\n\t],\n\t\"./app/index\": [\n\t\t144,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t9,\n\t\t14,\n\t\t38\n\t],\n\t\"./app/index.js\": [\n\t\t144,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t9,\n\t\t14,\n\t\t38\n\t],\n\t\"./app/modal\": [\n\t\t138,\n\t\t9,\n\t\t0,\n\t\t9,\n\t\t14,\n\t\t73\n\t],\n\t\"./app/modal/\": [\n\t\t138,\n\t\t9,\n\t\t0,\n\t\t9,\n\t\t14,\n\t\t73\n\t],\n\t\"./app/modal/index\": [\n\t\t138,\n\t\t9,\n\t\t0,\n\t\t9,\n\t\t14,\n\t\t73\n\t],\n\t\"./app/modal/index.js\": [\n\t\t138,\n\t\t9,\n\t\t0,\n\t\t9,\n\t\t14,\n\t\t73\n\t],\n\t\"./app/store\": [\n\t\t70,\n\t\t9\n\t],\n\t\"./app/store/\": [\n\t\t70,\n\t\t9\n\t],\n\t\"./app/store/index\": [\n\t\t70,\n\t\t9\n\t],\n\t\"./app/store/index.js\": [\n\t\t70,\n\t\t9\n\t],\n\t\"./app/style.scss\": [\n\t\t476,\n\t\t7,\n\t\t153\n\t],\n\t\"./endpoint\": [\n\t\t145,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t8,\n\t\t6,\n\t\t43\n\t],\n\t\"./endpoint/\": [\n\t\t145,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t8,\n\t\t6,\n\t\t43\n\t],\n\t\"./endpoint/DropDown\": [\n\t\t342,\n\t\t9,\n\t\t0,\n\t\t62\n\t],\n\t\"./endpoint/DropDown.js\": [\n\t\t342,\n\t\t9,\n\t\t0,\n\t\t62\n\t],\n\t\"./endpoint/Table\": [\n\t\t331,\n\t\t9,\n\t\t2,\n\t\t6,\n\t\t123\n\t],\n\t\"./endpoint/Table.js\": [\n\t\t331,\n\t\t9,\n\t\t2,\n\t\t6,\n\t\t123\n\t],\n\t\"./endpoint/Tree\": [\n\t\t332,\n\t\t9,\n\t\t2,\n\t\t8,\n\t\t116\n\t],\n\t\"./endpoint/Tree.js\": [\n\t\t332,\n\t\t9,\n\t\t2,\n\t\t8,\n\t\t116\n\t],\n\t\"./endpoint/index\": [\n\t\t145,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t8,\n\t\t6,\n\t\t43\n\t],\n\t\"./endpoint/index.js\": [\n\t\t145,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t8,\n\t\t6,\n\t\t43\n\t],\n\t\"./endpoint/modal\": [\n\t\t134,\n\t\t9,\n\t\t76\n\t],\n\t\"./endpoint/modal/\": [\n\t\t134,\n\t\t9,\n\t\t76\n\t],\n\t\"./endpoint/modal/index\": [\n\t\t134,\n\t\t9,\n\t\t76\n\t],\n\t\"./endpoint/modal/index.js\": [\n\t\t134,\n\t\t9,\n\t\t76\n\t],\n\t\"./endpoint/store\": [\n\t\t75,\n\t\t9\n\t],\n\t\"./endpoint/store/\": [\n\t\t75,\n\t\t9\n\t],\n\t\"./endpoint/store/index\": [\n\t\t75,\n\t\t9\n\t],\n\t\"./endpoint/store/index.js\": [\n\t\t75,\n\t\t9\n\t],\n\t\"./endpoint/style.scss\": [\n\t\t477,\n\t\t7,\n\t\t154\n\t],\n\t\"./menu\": [\n\t\t146,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t8,\n\t\t10,\n\t\t29\n\t],\n\t\"./menu/\": [\n\t\t146,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t8,\n\t\t10,\n\t\t29\n\t],\n\t\"./menu/DropDown\": [\n\t\t343,\n\t\t9,\n\t\t0,\n\t\t63\n\t],\n\t\"./menu/DropDown.js\": [\n\t\t343,\n\t\t9,\n\t\t0,\n\t\t63\n\t],\n\t\"./menu/Table\": [\n\t\t333,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t10,\n\t\t120,\n\t\t122\n\t],\n\t\"./menu/Table.js\": [\n\t\t333,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t10,\n\t\t120,\n\t\t122\n\t],\n\t\"./menu/Tree\": [\n\t\t334,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t8,\n\t\t10,\n\t\t108\n\t],\n\t\"./menu/Tree.js\": [\n\t\t334,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t8,\n\t\t10,\n\t\t108\n\t],\n\t\"./menu/icons/feather\": [\n\t\t322,\n\t\t9,\n\t\t48\n\t],\n\t\"./menu/icons/feather.js\": [\n\t\t322,\n\t\t9,\n\t\t48\n\t],\n\t\"./menu/icons/material\": [\n\t\t323,\n\t\t9,\n\t\t10,\n\t\t64\n\t],\n\t\"./menu/icons/material.js\": [\n\t\t323,\n\t\t9,\n\t\t10,\n\t\t64\n\t],\n\t\"./menu/index\": [\n\t\t146,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t8,\n\t\t10,\n\t\t29\n\t],\n\t\"./menu/index.js\": [\n\t\t146,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t8,\n\t\t10,\n\t\t29\n\t],\n\t\"./menu/modal\": [\n\t\t135,\n\t\t9,\n\t\t0,\n\t\t10,\n\t\t35\n\t],\n\t\"./menu/modal/\": [\n\t\t135,\n\t\t9,\n\t\t0,\n\t\t10,\n\t\t35\n\t],\n\t\"./menu/modal/index\": [\n\t\t135,\n\t\t9,\n\t\t0,\n\t\t10,\n\t\t35\n\t],\n\t\"./menu/modal/index.js\": [\n\t\t135,\n\t\t9,\n\t\t0,\n\t\t10,\n\t\t35\n\t],\n\t\"./menu/store\": [\n\t\t74,\n\t\t9\n\t],\n\t\"./menu/store/\": [\n\t\t74,\n\t\t9\n\t],\n\t\"./menu/store/index\": [\n\t\t74,\n\t\t9\n\t],\n\t\"./menu/store/index.js\": [\n\t\t74,\n\t\t9\n\t],\n\t\"./menu/store/my_menu\": [\n\t\t32,\n\t\t9\n\t],\n\t\"./menu/store/my_menu.js\": [\n\t\t32,\n\t\t9\n\t],\n\t\"./menu/style.scss\": [\n\t\t478,\n\t\t7,\n\t\t155\n\t],\n\t\"./permission\": [\n\t\t147,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t16,\n\t\t59\n\t],\n\t\"./permission/\": [\n\t\t147,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t16,\n\t\t59\n\t],\n\t\"./permission/DropDown\": [\n\t\t344,\n\t\t9,\n\t\t0,\n\t\t65\n\t],\n\t\"./permission/DropDown.js\": [\n\t\t344,\n\t\t9,\n\t\t0,\n\t\t65\n\t],\n\t\"./permission/Form\": [\n\t\t325,\n\t\t9,\n\t\t162\n\t],\n\t\"./permission/Form.js\": [\n\t\t325,\n\t\t9,\n\t\t162\n\t],\n\t\"./permission/Table\": [\n\t\t345,\n\t\t9,\n\t\t2,\n\t\t6,\n\t\t16,\n\t\t136\n\t],\n\t\"./permission/Table.js\": [\n\t\t345,\n\t\t9,\n\t\t2,\n\t\t6,\n\t\t16,\n\t\t136\n\t],\n\t\"./permission/detail\": [\n\t\t105,\n\t\t9,\n\t\t66\n\t],\n\t\"./permission/detail/\": [\n\t\t105,\n\t\t9,\n\t\t66\n\t],\n\t\"./permission/detail/index\": [\n\t\t105,\n\t\t9,\n\t\t66\n\t],\n\t\"./permission/detail/index.js\": [\n\t\t105,\n\t\t9,\n\t\t66\n\t],\n\t\"./permission/index\": [\n\t\t147,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t16,\n\t\t59\n\t],\n\t\"./permission/index.js\": [\n\t\t147,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t16,\n\t\t59\n\t],\n\t\"./permission/modal\": [\n\t\t140,\n\t\t9,\n\t\t74\n\t],\n\t\"./permission/modal/\": [\n\t\t140,\n\t\t9,\n\t\t74\n\t],\n\t\"./permission/modal/index\": [\n\t\t140,\n\t\t9,\n\t\t74\n\t],\n\t\"./permission/modal/index.js\": [\n\t\t140,\n\t\t9,\n\t\t74\n\t],\n\t\"./permission/store\": [\n\t\t71,\n\t\t9\n\t],\n\t\"./permission/store/\": [\n\t\t71,\n\t\t9\n\t],\n\t\"./permission/store/index\": [\n\t\t71,\n\t\t9\n\t],\n\t\"./permission/store/index.js\": [\n\t\t71,\n\t\t9\n\t],\n\t\"./permission/style.scss\": [\n\t\t479,\n\t\t7,\n\t\t156\n\t],\n\t\"./permission_endpoint\": [\n\t\t148,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t17,\n\t\t56\n\t],\n\t\"./permission_endpoint/\": [\n\t\t148,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t17,\n\t\t56\n\t],\n\t\"./permission_endpoint/DropDown\": [\n\t\t346,\n\t\t9,\n\t\t0,\n\t\t67\n\t],\n\t\"./permission_endpoint/DropDown.js\": [\n\t\t346,\n\t\t9,\n\t\t0,\n\t\t67\n\t],\n\t\"./permission_endpoint/Table\": [\n\t\t347,\n\t\t9,\n\t\t2,\n\t\t6,\n\t\t17,\n\t\t137\n\t],\n\t\"./permission_endpoint/Table.js\": [\n\t\t347,\n\t\t9,\n\t\t2,\n\t\t6,\n\t\t17,\n\t\t137\n\t],\n\t\"./permission_endpoint/index\": [\n\t\t148,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t17,\n\t\t56\n\t],\n\t\"./permission_endpoint/index.js\": [\n\t\t148,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t17,\n\t\t56\n\t],\n\t\"./permission_endpoint/modal\": [\n\t\t141,\n\t\t9,\n\t\t77\n\t],\n\t\"./permission_endpoint/modal/\": [\n\t\t141,\n\t\t9,\n\t\t77\n\t],\n\t\"./permission_endpoint/modal/index\": [\n\t\t141,\n\t\t9,\n\t\t77\n\t],\n\t\"./permission_endpoint/modal/index.js\": [\n\t\t141,\n\t\t9,\n\t\t77\n\t],\n\t\"./permission_endpoint/store\": [\n\t\t77,\n\t\t9\n\t],\n\t\"./permission_endpoint/store/\": [\n\t\t77,\n\t\t9\n\t],\n\t\"./permission_endpoint/store/index\": [\n\t\t77,\n\t\t9\n\t],\n\t\"./permission_endpoint/store/index.js\": [\n\t\t77,\n\t\t9\n\t],\n\t\"./permission_endpoint/style.scss\": [\n\t\t480,\n\t\t7,\n\t\t157\n\t],\n\t\"./permission_menu\": [\n\t\t149,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t18,\n\t\t57\n\t],\n\t\"./permission_menu/\": [\n\t\t149,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t18,\n\t\t57\n\t],\n\t\"./permission_menu/DropDown\": [\n\t\t348,\n\t\t9,\n\t\t0,\n\t\t68\n\t],\n\t\"./permission_menu/DropDown.js\": [\n\t\t348,\n\t\t9,\n\t\t0,\n\t\t68\n\t],\n\t\"./permission_menu/Table\": [\n\t\t349,\n\t\t9,\n\t\t2,\n\t\t6,\n\t\t18,\n\t\t138\n\t],\n\t\"./permission_menu/Table.js\": [\n\t\t349,\n\t\t9,\n\t\t2,\n\t\t6,\n\t\t18,\n\t\t138\n\t],\n\t\"./permission_menu/index\": [\n\t\t149,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t18,\n\t\t57\n\t],\n\t\"./permission_menu/index.js\": [\n\t\t149,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t18,\n\t\t57\n\t],\n\t\"./permission_menu/modal\": [\n\t\t142,\n\t\t9,\n\t\t78\n\t],\n\t\"./permission_menu/modal/\": [\n\t\t142,\n\t\t9,\n\t\t78\n\t],\n\t\"./permission_menu/modal/index\": [\n\t\t142,\n\t\t9,\n\t\t78\n\t],\n\t\"./permission_menu/modal/index.js\": [\n\t\t142,\n\t\t9,\n\t\t78\n\t],\n\t\"./permission_menu/store\": [\n\t\t76,\n\t\t9\n\t],\n\t\"./permission_menu/store/\": [\n\t\t76,\n\t\t9\n\t],\n\t\"./permission_menu/store/index\": [\n\t\t76,\n\t\t9\n\t],\n\t\"./permission_menu/store/index.js\": [\n\t\t76,\n\t\t9\n\t],\n\t\"./permission_menu/style.scss\": [\n\t\t481,\n\t\t7,\n\t\t158\n\t],\n\t\"./role\": [\n\t\t150,\n\t\t9,\n\t\t0,\n\t\t51\n\t],\n\t\"./role/\": [\n\t\t150,\n\t\t9,\n\t\t0,\n\t\t51\n\t],\n\t\"./role/DropDown\": [\n\t\t350,\n\t\t9,\n\t\t0,\n\t\t69\n\t],\n\t\"./role/DropDown.js\": [\n\t\t350,\n\t\t9,\n\t\t0,\n\t\t69\n\t],\n\t\"./role/RoleCards\": [\n\t\t335,\n\t\t9,\n\t\t141\n\t],\n\t\"./role/RoleCards.js\": [\n\t\t335,\n\t\t9,\n\t\t141\n\t],\n\t\"./role/Table\": [\n\t\t357,\n\t\t9,\n\t\t2,\n\t\t40\n\t],\n\t\"./role/Table.js\": [\n\t\t357,\n\t\t9,\n\t\t2,\n\t\t40\n\t],\n\t\"./role/index\": [\n\t\t150,\n\t\t9,\n\t\t0,\n\t\t51\n\t],\n\t\"./role/index.js\": [\n\t\t150,\n\t\t9,\n\t\t0,\n\t\t51\n\t],\n\t\"./role/modal\": [\n\t\t143,\n\t\t9,\n\t\t79\n\t],\n\t\"./role/modal/\": [\n\t\t143,\n\t\t9,\n\t\t79\n\t],\n\t\"./role/modal/index\": [\n\t\t143,\n\t\t9,\n\t\t79\n\t],\n\t\"./role/modal/index.js\": [\n\t\t143,\n\t\t9,\n\t\t79\n\t],\n\t\"./role/store\": [\n\t\t54,\n\t\t9\n\t],\n\t\"./role/store/\": [\n\t\t54,\n\t\t9\n\t],\n\t\"./role/store/index\": [\n\t\t54,\n\t\t9\n\t],\n\t\"./role/store/index.js\": [\n\t\t54,\n\t\t9\n\t],\n\t\"./role/style.scss\": [\n\t\t482,\n\t\t7,\n\t\t159\n\t],\n\t\"./role_permission/store\": [\n\t\t79,\n\t\t9\n\t],\n\t\"./role_permission/store/\": [\n\t\t79,\n\t\t9\n\t],\n\t\"./role_permission/store/index\": [\n\t\t79,\n\t\t9\n\t],\n\t\"./role_permission/store/index.js\": [\n\t\t79,\n\t\t9\n\t],\n\t\"./roles-permissions/roles\": [\n\t\t154,\n\t\t9,\n\t\t15\n\t],\n\t\"./roles-permissions/roles/\": [\n\t\t154,\n\t\t9,\n\t\t15\n\t],\n\t\"./roles-permissions/roles/RoleCards\": [\n\t\t356,\n\t\t9,\n\t\t106\n\t],\n\t\"./roles-permissions/roles/RoleCards.js\": [\n\t\t356,\n\t\t9,\n\t\t106\n\t],\n\t\"./roles-permissions/roles/Table\": [\n\t\t358,\n\t\t9,\n\t\t2,\n\t\t42\n\t],\n\t\"./roles-permissions/roles/Table.js\": [\n\t\t358,\n\t\t9,\n\t\t2,\n\t\t42\n\t],\n\t\"./roles-permissions/roles/columns\": [\n\t\t353,\n\t\t9,\n\t\t80\n\t],\n\t\"./roles-permissions/roles/columns.js\": [\n\t\t353,\n\t\t9,\n\t\t80\n\t],\n\t\"./roles-permissions/roles/index\": [\n\t\t154,\n\t\t9,\n\t\t15\n\t],\n\t\"./roles-permissions/roles/index.js\": [\n\t\t154,\n\t\t9,\n\t\t15\n\t],\n\t\"./roles-permissions/store\": [\n\t\t80,\n\t\t9\n\t],\n\t\"./roles-permissions/store/\": [\n\t\t80,\n\t\t9\n\t],\n\t\"./roles-permissions/store/index\": [\n\t\t80,\n\t\t9\n\t],\n\t\"./roles-permissions/store/index.js\": [\n\t\t80,\n\t\t9\n\t],\n\t\"./roles-permissions/store/role\": [\n\t\t107,\n\t\t9\n\t],\n\t\"./roles-permissions/store/role.js\": [\n\t\t107,\n\t\t9\n\t],\n\t\"./unit\": [\n\t\t151,\n\t\t9,\n\t\t2,\n\t\t8,\n\t\t6,\n\t\t36\n\t],\n\t\"./unit/\": [\n\t\t151,\n\t\t9,\n\t\t2,\n\t\t8,\n\t\t6,\n\t\t36\n\t],\n\t\"./unit/Table\": [\n\t\t336,\n\t\t9,\n\t\t2,\n\t\t6,\n\t\t124\n\t],\n\t\"./unit/Table.js\": [\n\t\t336,\n\t\t9,\n\t\t2,\n\t\t6,\n\t\t124\n\t],\n\t\"./unit/Tree\": [\n\t\t337,\n\t\t9,\n\t\t8,\n\t\t121\n\t],\n\t\"./unit/Tree.js\": [\n\t\t337,\n\t\t9,\n\t\t8,\n\t\t121\n\t],\n\t\"./unit/index\": [\n\t\t151,\n\t\t9,\n\t\t2,\n\t\t8,\n\t\t6,\n\t\t36\n\t],\n\t\"./unit/index.js\": [\n\t\t151,\n\t\t9,\n\t\t2,\n\t\t8,\n\t\t6,\n\t\t36\n\t],\n\t\"./unit/modal\": [\n\t\t136,\n\t\t9,\n\t\t81\n\t],\n\t\"./unit/modal/\": [\n\t\t136,\n\t\t9,\n\t\t81\n\t],\n\t\"./unit/modal/index\": [\n\t\t136,\n\t\t9,\n\t\t81\n\t],\n\t\"./unit/modal/index.js\": [\n\t\t136,\n\t\t9,\n\t\t81\n\t],\n\t\"./unit/store\": [\n\t\t72,\n\t\t9\n\t],\n\t\"./unit/store/\": [\n\t\t72,\n\t\t9\n\t],\n\t\"./unit/store/index\": [\n\t\t72,\n\t\t9\n\t],\n\t\"./unit/store/index.js\": [\n\t\t72,\n\t\t9\n\t],\n\t\"./unit/store/my_unit\": [\n\t\t352,\n\t\t9,\n\t\t82\n\t],\n\t\"./unit/store/my_unit.js\": [\n\t\t352,\n\t\t9,\n\t\t82\n\t],\n\t\"./unit/style.scss\": [\n\t\t483,\n\t\t7,\n\t\t160\n\t],\n\t\"./unit_app\": [\n\t\t152,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t55\n\t],\n\t\"./unit_app/\": [\n\t\t152,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t55\n\t],\n\t\"./unit_app/Table\": [\n\t\t338,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t146\n\t],\n\t\"./unit_app/Table.js\": [\n\t\t338,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t146\n\t],\n\t\"./unit_app/index\": [\n\t\t152,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t55\n\t],\n\t\"./unit_app/index.js\": [\n\t\t152,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t55\n\t],\n\t\"./unit_app/modal\": [\n\t\t139,\n\t\t9,\n\t\t0,\n\t\t83\n\t],\n\t\"./unit_app/modal/\": [\n\t\t139,\n\t\t9,\n\t\t0,\n\t\t83\n\t],\n\t\"./unit_app/modal/index\": [\n\t\t139,\n\t\t9,\n\t\t0,\n\t\t83\n\t],\n\t\"./unit_app/modal/index.js\": [\n\t\t139,\n\t\t9,\n\t\t0,\n\t\t83\n\t],\n\t\"./unit_app/store\": [\n\t\t78,\n\t\t9\n\t],\n\t\"./unit_app/store/\": [\n\t\t78,\n\t\t9\n\t],\n\t\"./unit_app/store/index\": [\n\t\t78,\n\t\t9\n\t],\n\t\"./unit_app/store/index.js\": [\n\t\t78,\n\t\t9\n\t],\n\t\"./unit_app/style.scss\": [\n\t\t484,\n\t\t7,\n\t\t161\n\t],\n\t\"./user\": [\n\t\t153,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t12,\n\t\t60\n\t],\n\t\"./user/\": [\n\t\t153,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t12,\n\t\t60\n\t],\n\t\"./user/Sidebar\": [\n\t\t351,\n\t\t9,\n\t\t0,\n\t\t151\n\t],\n\t\"./user/Sidebar.js\": [\n\t\t351,\n\t\t9,\n\t\t0,\n\t\t151\n\t],\n\t\"./user/Table\": [\n\t\t354,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t12\n\t],\n\t\"./user/Table.js\": [\n\t\t354,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t12\n\t],\n\t\"./user/columns\": [\n\t\t359,\n\t\t9,\n\t\t84\n\t],\n\t\"./user/columns.js\": [\n\t\t359,\n\t\t9,\n\t\t84\n\t],\n\t\"./user/detail\": [\n\t\t106,\n\t\t9,\n\t\t0,\n\t\t7,\n\t\t9,\n\t\t13,\n\t\t30\n\t],\n\t\"./user/detail/\": [\n\t\t106,\n\t\t9,\n\t\t0,\n\t\t7,\n\t\t9,\n\t\t13,\n\t\t30\n\t],\n\t\"./user/detail/Notifications\": [\n\t\t327,\n\t\t9,\n\t\t85\n\t],\n\t\"./user/detail/Notifications.js\": [\n\t\t327,\n\t\t9,\n\t\t85\n\t],\n\t\"./user/detail/SecurityTab\": [\n\t\t326,\n\t\t9,\n\t\t7,\n\t\t13,\n\t\t143\n\t],\n\t\"./user/detail/SecurityTab.js\": [\n\t\t326,\n\t\t9,\n\t\t7,\n\t\t13,\n\t\t143\n\t],\n\t\"./user/detail/Tabs\": [\n\t\t339,\n\t\t9,\n\t\t7,\n\t\t13,\n\t\t39,\n\t\t140\n\t],\n\t\"./user/detail/Tabs.js\": [\n\t\t339,\n\t\t9,\n\t\t7,\n\t\t13,\n\t\t39,\n\t\t140\n\t],\n\t\"./user/detail/UserInfoCard\": [\n\t\t340,\n\t\t9,\n\t\t0,\n\t\t9,\n\t\t139\n\t],\n\t\"./user/detail/UserInfoCard.js\": [\n\t\t340,\n\t\t9,\n\t\t0,\n\t\t9,\n\t\t139\n\t],\n\t\"./user/detail/UserTimeline\": [\n\t\t328,\n\t\t9,\n\t\t119\n\t],\n\t\"./user/detail/UserTimeline.js\": [\n\t\t328,\n\t\t9,\n\t\t119\n\t],\n\t\"./user/detail/index\": [\n\t\t106,\n\t\t9,\n\t\t0,\n\t\t7,\n\t\t9,\n\t\t13,\n\t\t30\n\t],\n\t\"./user/detail/index.js\": [\n\t\t106,\n\t\t9,\n\t\t0,\n\t\t7,\n\t\t9,\n\t\t13,\n\t\t30\n\t],\n\t\"./user/index\": [\n\t\t153,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t12,\n\t\t60\n\t],\n\t\"./user/index.js\": [\n\t\t153,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t12,\n\t\t60\n\t],\n\t\"./user/modal\": [\n\t\t137,\n\t\t9,\n\t\t0,\n\t\t75\n\t],\n\t\"./user/modal/\": [\n\t\t137,\n\t\t9,\n\t\t0,\n\t\t75\n\t],\n\t\"./user/modal/index\": [\n\t\t137,\n\t\t9,\n\t\t0,\n\t\t75\n\t],\n\t\"./user/modal/index.js\": [\n\t\t137,\n\t\t9,\n\t\t0,\n\t\t75\n\t],\n\t\"./user/store\": [\n\t\t73,\n\t\t9\n\t],\n\t\"./user/store/\": [\n\t\t73,\n\t\t9\n\t],\n\t\"./user/store/index\": [\n\t\t73,\n\t\t9\n\t],\n\t\"./user/store/index.js\": [\n\t\t73,\n\t\t9\n\t],\n\t\"./user/store/userActivity\": [\n\t\t109,\n\t\t9\n\t],\n\t\"./user/store/userActivity.js\": [\n\t\t109,\n\t\t9\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(2).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__.t(id, ids[1])\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 535;\nmodule.exports = webpackAsyncContext;","import { createContext } from 'react';\n/**\n * Create the React Context\n */\n\nexport var DndContext = createContext({\n  dragDropManager: undefined\n});","/* flatpickr v4.6.3, @license MIT */\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global = global || self, global.flatpickr = factory());\n}(this, function () { 'use strict';\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation. All rights reserved.\r\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n    this file except in compliance with the License. You may obtain a copy of the\r\n    License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n    MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n    and limitations under the License.\r\n    ***************************************************************************** */\r\n\r\n    var __assign = function() {\r\n        __assign = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign.apply(this, arguments);\r\n    };\n\n    var HOOKS = [\n        \"onChange\",\n        \"onClose\",\n        \"onDayCreate\",\n        \"onDestroy\",\n        \"onKeyDown\",\n        \"onMonthChange\",\n        \"onOpen\",\n        \"onParseConfig\",\n        \"onReady\",\n        \"onValueUpdate\",\n        \"onYearChange\",\n        \"onPreCalendarPosition\",\n    ];\n    var defaults = {\n        _disable: [],\n        _enable: [],\n        allowInput: false,\n        altFormat: \"F j, Y\",\n        altInput: false,\n        altInputClass: \"form-control input\",\n        animate: typeof window === \"object\" &&\n            window.navigator.userAgent.indexOf(\"MSIE\") === -1,\n        ariaDateFormat: \"F j, Y\",\n        clickOpens: true,\n        closeOnSelect: true,\n        conjunction: \", \",\n        dateFormat: \"Y-m-d\",\n        defaultHour: 12,\n        defaultMinute: 0,\n        defaultSeconds: 0,\n        disable: [],\n        disableMobile: false,\n        enable: [],\n        enableSeconds: false,\n        enableTime: false,\n        errorHandler: function (err) {\n            return typeof console !== \"undefined\" && console.warn(err);\n        },\n        getWeek: function (givenDate) {\n            var date = new Date(givenDate.getTime());\n            date.setHours(0, 0, 0, 0);\n            // Thursday in current week decides the year.\n            date.setDate(date.getDate() + 3 - ((date.getDay() + 6) % 7));\n            // January 4 is always in week 1.\n            var week1 = new Date(date.getFullYear(), 0, 4);\n            // Adjust to Thursday in week 1 and count number of weeks from date to week1.\n            return (1 +\n                Math.round(((date.getTime() - week1.getTime()) / 86400000 -\n                    3 +\n                    ((week1.getDay() + 6) % 7)) /\n                    7));\n        },\n        hourIncrement: 1,\n        ignoredFocusElements: [],\n        inline: false,\n        locale: \"default\",\n        minuteIncrement: 5,\n        mode: \"single\",\n        monthSelectorType: \"dropdown\",\n        nextArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\n        noCalendar: false,\n        now: new Date(),\n        onChange: [],\n        onClose: [],\n        onDayCreate: [],\n        onDestroy: [],\n        onKeyDown: [],\n        onMonthChange: [],\n        onOpen: [],\n        onParseConfig: [],\n        onReady: [],\n        onValueUpdate: [],\n        onYearChange: [],\n        onPreCalendarPosition: [],\n        plugins: [],\n        position: \"auto\",\n        positionElement: undefined,\n        prevArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\n        shorthandCurrentMonth: false,\n        showMonths: 1,\n        static: false,\n        time_24hr: false,\n        weekNumbers: false,\n        wrap: false\n    };\n\n    var english = {\n        weekdays: {\n            shorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n            longhand: [\n                \"Sunday\",\n                \"Monday\",\n                \"Tuesday\",\n                \"Wednesday\",\n                \"Thursday\",\n                \"Friday\",\n                \"Saturday\",\n            ]\n        },\n        months: {\n            shorthand: [\n                \"Jan\",\n                \"Feb\",\n                \"Mar\",\n                \"Apr\",\n                \"May\",\n                \"Jun\",\n                \"Jul\",\n                \"Aug\",\n                \"Sep\",\n                \"Oct\",\n                \"Nov\",\n                \"Dec\",\n            ],\n            longhand: [\n                \"January\",\n                \"February\",\n                \"March\",\n                \"April\",\n                \"May\",\n                \"June\",\n                \"July\",\n                \"August\",\n                \"September\",\n                \"October\",\n                \"November\",\n                \"December\",\n            ]\n        },\n        daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n        firstDayOfWeek: 0,\n        ordinal: function (nth) {\n            var s = nth % 100;\n            if (s > 3 && s < 21)\n                return \"th\";\n            switch (s % 10) {\n                case 1:\n                    return \"st\";\n                case 2:\n                    return \"nd\";\n                case 3:\n                    return \"rd\";\n                default:\n                    return \"th\";\n            }\n        },\n        rangeSeparator: \" to \",\n        weekAbbreviation: \"Wk\",\n        scrollTitle: \"Scroll to increment\",\n        toggleTitle: \"Click to toggle\",\n        amPM: [\"AM\", \"PM\"],\n        yearAriaLabel: \"Year\",\n        hourAriaLabel: \"Hour\",\n        minuteAriaLabel: \"Minute\",\n        time_24hr: false\n    };\n\n    var pad = function (number) { return (\"0\" + number).slice(-2); };\n    var int = function (bool) { return (bool === true ? 1 : 0); };\n    /* istanbul ignore next */\n    function debounce(func, wait, immediate) {\n        if (immediate === void 0) { immediate = false; }\n        var timeout;\n        return function () {\n            var context = this, args = arguments;\n            timeout !== null && clearTimeout(timeout);\n            timeout = window.setTimeout(function () {\n                timeout = null;\n                if (!immediate)\n                    func.apply(context, args);\n            }, wait);\n            if (immediate && !timeout)\n                func.apply(context, args);\n        };\n    }\n    var arrayify = function (obj) {\n        return obj instanceof Array ? obj : [obj];\n    };\n\n    function toggleClass(elem, className, bool) {\n        if (bool === true)\n            return elem.classList.add(className);\n        elem.classList.remove(className);\n    }\n    function createElement(tag, className, content) {\n        var e = window.document.createElement(tag);\n        className = className || \"\";\n        content = content || \"\";\n        e.className = className;\n        if (content !== undefined)\n            e.textContent = content;\n        return e;\n    }\n    function clearNode(node) {\n        while (node.firstChild)\n            node.removeChild(node.firstChild);\n    }\n    function findParent(node, condition) {\n        if (condition(node))\n            return node;\n        else if (node.parentNode)\n            return findParent(node.parentNode, condition);\n        return undefined; // nothing found\n    }\n    function createNumberInput(inputClassName, opts) {\n        var wrapper = createElement(\"div\", \"numInputWrapper\"), numInput = createElement(\"input\", \"numInput \" + inputClassName), arrowUp = createElement(\"span\", \"arrowUp\"), arrowDown = createElement(\"span\", \"arrowDown\");\n        if (navigator.userAgent.indexOf(\"MSIE 9.0\") === -1) {\n            numInput.type = \"number\";\n        }\n        else {\n            numInput.type = \"text\";\n            numInput.pattern = \"\\\\d*\";\n        }\n        if (opts !== undefined)\n            for (var key in opts)\n                numInput.setAttribute(key, opts[key]);\n        wrapper.appendChild(numInput);\n        wrapper.appendChild(arrowUp);\n        wrapper.appendChild(arrowDown);\n        return wrapper;\n    }\n    function getEventTarget(event) {\n        if (typeof event.composedPath === \"function\") {\n            var path = event.composedPath();\n            return path[0];\n        }\n        return event.target;\n    }\n\n    var doNothing = function () { return undefined; };\n    var monthToStr = function (monthNumber, shorthand, locale) { return locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber]; };\n    var revFormat = {\n        D: doNothing,\n        F: function (dateObj, monthName, locale) {\n            dateObj.setMonth(locale.months.longhand.indexOf(monthName));\n        },\n        G: function (dateObj, hour) {\n            dateObj.setHours(parseFloat(hour));\n        },\n        H: function (dateObj, hour) {\n            dateObj.setHours(parseFloat(hour));\n        },\n        J: function (dateObj, day) {\n            dateObj.setDate(parseFloat(day));\n        },\n        K: function (dateObj, amPM, locale) {\n            dateObj.setHours((dateObj.getHours() % 12) +\n                12 * int(new RegExp(locale.amPM[1], \"i\").test(amPM)));\n        },\n        M: function (dateObj, shortMonth, locale) {\n            dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\n        },\n        S: function (dateObj, seconds) {\n            dateObj.setSeconds(parseFloat(seconds));\n        },\n        U: function (_, unixSeconds) { return new Date(parseFloat(unixSeconds) * 1000); },\n        W: function (dateObj, weekNum, locale) {\n            var weekNumber = parseInt(weekNum);\n            var date = new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\n            date.setDate(date.getDate() - date.getDay() + locale.firstDayOfWeek);\n            return date;\n        },\n        Y: function (dateObj, year) {\n            dateObj.setFullYear(parseFloat(year));\n        },\n        Z: function (_, ISODate) { return new Date(ISODate); },\n        d: function (dateObj, day) {\n            dateObj.setDate(parseFloat(day));\n        },\n        h: function (dateObj, hour) {\n            dateObj.setHours(parseFloat(hour));\n        },\n        i: function (dateObj, minutes) {\n            dateObj.setMinutes(parseFloat(minutes));\n        },\n        j: function (dateObj, day) {\n            dateObj.setDate(parseFloat(day));\n        },\n        l: doNothing,\n        m: function (dateObj, month) {\n            dateObj.setMonth(parseFloat(month) - 1);\n        },\n        n: function (dateObj, month) {\n            dateObj.setMonth(parseFloat(month) - 1);\n        },\n        s: function (dateObj, seconds) {\n            dateObj.setSeconds(parseFloat(seconds));\n        },\n        u: function (_, unixMillSeconds) {\n            return new Date(parseFloat(unixMillSeconds));\n        },\n        w: doNothing,\n        y: function (dateObj, year) {\n            dateObj.setFullYear(2000 + parseFloat(year));\n        }\n    };\n    var tokenRegex = {\n        D: \"(\\\\w+)\",\n        F: \"(\\\\w+)\",\n        G: \"(\\\\d\\\\d|\\\\d)\",\n        H: \"(\\\\d\\\\d|\\\\d)\",\n        J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\n        K: \"\",\n        M: \"(\\\\w+)\",\n        S: \"(\\\\d\\\\d|\\\\d)\",\n        U: \"(.+)\",\n        W: \"(\\\\d\\\\d|\\\\d)\",\n        Y: \"(\\\\d{4})\",\n        Z: \"(.+)\",\n        d: \"(\\\\d\\\\d|\\\\d)\",\n        h: \"(\\\\d\\\\d|\\\\d)\",\n        i: \"(\\\\d\\\\d|\\\\d)\",\n        j: \"(\\\\d\\\\d|\\\\d)\",\n        l: \"(\\\\w+)\",\n        m: \"(\\\\d\\\\d|\\\\d)\",\n        n: \"(\\\\d\\\\d|\\\\d)\",\n        s: \"(\\\\d\\\\d|\\\\d)\",\n        u: \"(.+)\",\n        w: \"(\\\\d\\\\d|\\\\d)\",\n        y: \"(\\\\d{2})\"\n    };\n    var formats = {\n        // get the date in UTC\n        Z: function (date) { return date.toISOString(); },\n        // weekday name, short, e.g. Thu\n        D: function (date, locale, options) {\n            return locale.weekdays.shorthand[formats.w(date, locale, options)];\n        },\n        // full month name e.g. January\n        F: function (date, locale, options) {\n            return monthToStr(formats.n(date, locale, options) - 1, false, locale);\n        },\n        // padded hour 1-12\n        G: function (date, locale, options) {\n            return pad(formats.h(date, locale, options));\n        },\n        // hours with leading zero e.g. 03\n        H: function (date) { return pad(date.getHours()); },\n        // day (1-30) with ordinal suffix e.g. 1st, 2nd\n        J: function (date, locale) {\n            return locale.ordinal !== undefined\n                ? date.getDate() + locale.ordinal(date.getDate())\n                : date.getDate();\n        },\n        // AM/PM\n        K: function (date, locale) { return locale.amPM[int(date.getHours() > 11)]; },\n        // shorthand month e.g. Jan, Sep, Oct, etc\n        M: function (date, locale) {\n            return monthToStr(date.getMonth(), true, locale);\n        },\n        // seconds 00-59\n        S: function (date) { return pad(date.getSeconds()); },\n        // unix timestamp\n        U: function (date) { return date.getTime() / 1000; },\n        W: function (date, _, options) {\n            return options.getWeek(date);\n        },\n        // full year e.g. 2016\n        Y: function (date) { return date.getFullYear(); },\n        // day in month, padded (01-30)\n        d: function (date) { return pad(date.getDate()); },\n        // hour from 1-12 (am/pm)\n        h: function (date) { return (date.getHours() % 12 ? date.getHours() % 12 : 12); },\n        // minutes, padded with leading zero e.g. 09\n        i: function (date) { return pad(date.getMinutes()); },\n        // day in month (1-30)\n        j: function (date) { return date.getDate(); },\n        // weekday name, full, e.g. Thursday\n        l: function (date, locale) {\n            return locale.weekdays.longhand[date.getDay()];\n        },\n        // padded month number (01-12)\n        m: function (date) { return pad(date.getMonth() + 1); },\n        // the month number (1-12)\n        n: function (date) { return date.getMonth() + 1; },\n        // seconds 0-59\n        s: function (date) { return date.getSeconds(); },\n        // Unix Milliseconds\n        u: function (date) { return date.getTime(); },\n        // number of the day of the week\n        w: function (date) { return date.getDay(); },\n        // last two digits of year e.g. 16 for 2016\n        y: function (date) { return String(date.getFullYear()).substring(2); }\n    };\n\n    var createDateFormatter = function (_a) {\n        var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c;\n        return function (dateObj, frmt, overrideLocale) {\n            var locale = overrideLocale || l10n;\n            if (config.formatDate !== undefined) {\n                return config.formatDate(dateObj, frmt, locale);\n            }\n            return frmt\n                .split(\"\")\n                .map(function (c, i, arr) {\n                return formats[c] && arr[i - 1] !== \"\\\\\"\n                    ? formats[c](dateObj, locale, config)\n                    : c !== \"\\\\\"\n                        ? c\n                        : \"\";\n            })\n                .join(\"\");\n        };\n    };\n    var createDateParser = function (_a) {\n        var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c;\n        return function (date, givenFormat, timeless, customLocale) {\n            if (date !== 0 && !date)\n                return undefined;\n            var locale = customLocale || l10n;\n            var parsedDate;\n            var dateOrig = date;\n            if (date instanceof Date)\n                parsedDate = new Date(date.getTime());\n            else if (typeof date !== \"string\" &&\n                date.toFixed !== undefined // timestamp\n            )\n                // create a copy\n                parsedDate = new Date(date);\n            else if (typeof date === \"string\") {\n                // date string\n                var format = givenFormat || (config || defaults).dateFormat;\n                var datestr = String(date).trim();\n                if (datestr === \"today\") {\n                    parsedDate = new Date();\n                    timeless = true;\n                }\n                else if (/Z$/.test(datestr) ||\n                    /GMT$/.test(datestr) // datestrings w/ timezone\n                )\n                    parsedDate = new Date(date);\n                else if (config && config.parseDate)\n                    parsedDate = config.parseDate(date, format);\n                else {\n                    parsedDate =\n                        !config || !config.noCalendar\n                            ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)\n                            : new Date(new Date().setHours(0, 0, 0, 0));\n                    var matched = void 0, ops = [];\n                    for (var i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\n                        var token_1 = format[i];\n                        var isBackSlash = token_1 === \"\\\\\";\n                        var escaped = format[i - 1] === \"\\\\\" || isBackSlash;\n                        if (tokenRegex[token_1] && !escaped) {\n                            regexStr += tokenRegex[token_1];\n                            var match = new RegExp(regexStr).exec(date);\n                            if (match && (matched = true)) {\n                                ops[token_1 !== \"Y\" ? \"push\" : \"unshift\"]({\n                                    fn: revFormat[token_1],\n                                    val: match[++matchIndex]\n                                });\n                            }\n                        }\n                        else if (!isBackSlash)\n                            regexStr += \".\"; // don't really care\n                        ops.forEach(function (_a) {\n                            var fn = _a.fn, val = _a.val;\n                            return (parsedDate = fn(parsedDate, val, locale) || parsedDate);\n                        });\n                    }\n                    parsedDate = matched ? parsedDate : undefined;\n                }\n            }\n            /* istanbul ignore next */\n            if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {\n                config.errorHandler(new Error(\"Invalid date provided: \" + dateOrig));\n                return undefined;\n            }\n            if (timeless === true)\n                parsedDate.setHours(0, 0, 0, 0);\n            return parsedDate;\n        };\n    };\n    /**\n     * Compute the difference in dates, measured in ms\n     */\n    function compareDates(date1, date2, timeless) {\n        if (timeless === void 0) { timeless = true; }\n        if (timeless !== false) {\n            return (new Date(date1.getTime()).setHours(0, 0, 0, 0) -\n                new Date(date2.getTime()).setHours(0, 0, 0, 0));\n        }\n        return date1.getTime() - date2.getTime();\n    }\n    var isBetween = function (ts, ts1, ts2) {\n        return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);\n    };\n    var duration = {\n        DAY: 86400000\n    };\n\n    if (typeof Object.assign !== \"function\") {\n        Object.assign = function (target) {\n            var args = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                args[_i - 1] = arguments[_i];\n            }\n            if (!target) {\n                throw TypeError(\"Cannot convert undefined or null to object\");\n            }\n            var _loop_1 = function (source) {\n                if (source) {\n                    Object.keys(source).forEach(function (key) { return (target[key] = source[key]); });\n                }\n            };\n            for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n                var source = args_1[_a];\n                _loop_1(source);\n            }\n            return target;\n        };\n    }\n\n    var DEBOUNCED_CHANGE_MS = 300;\n    function FlatpickrInstance(element, instanceConfig) {\n        var self = {\n            config: __assign({}, defaults, flatpickr.defaultConfig),\n            l10n: english\n        };\n        self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n        self._handlers = [];\n        self.pluginElements = [];\n        self.loadedPlugins = [];\n        self._bind = bind;\n        self._setHoursFromDate = setHoursFromDate;\n        self._positionCalendar = positionCalendar;\n        self.changeMonth = changeMonth;\n        self.changeYear = changeYear;\n        self.clear = clear;\n        self.close = close;\n        self._createElement = createElement;\n        self.destroy = destroy;\n        self.isEnabled = isEnabled;\n        self.jumpToDate = jumpToDate;\n        self.open = open;\n        self.redraw = redraw;\n        self.set = set;\n        self.setDate = setDate;\n        self.toggle = toggle;\n        function setupHelperFunctions() {\n            self.utils = {\n                getDaysInMonth: function (month, yr) {\n                    if (month === void 0) { month = self.currentMonth; }\n                    if (yr === void 0) { yr = self.currentYear; }\n                    if (month === 1 && ((yr % 4 === 0 && yr % 100 !== 0) || yr % 400 === 0))\n                        return 29;\n                    return self.l10n.daysInMonth[month];\n                }\n            };\n        }\n        function init() {\n            self.element = self.input = element;\n            self.isOpen = false;\n            parseConfig();\n            setupLocale();\n            setupInputs();\n            setupDates();\n            setupHelperFunctions();\n            if (!self.isMobile)\n                build();\n            bindEvents();\n            if (self.selectedDates.length || self.config.noCalendar) {\n                if (self.config.enableTime) {\n                    setHoursFromDate(self.config.noCalendar\n                        ? self.latestSelectedDateObj || self.config.minDate\n                        : undefined);\n                }\n                updateValue(false);\n            }\n            setCalendarWidth();\n            self.showTimeInput =\n                self.selectedDates.length > 0 || self.config.noCalendar;\n            var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n            /* TODO: investigate this further\n        \n              Currently, there is weird positioning behavior in safari causing pages\n              to scroll up. https://github.com/chmln/flatpickr/issues/563\n        \n              However, most browsers are not Safari and positioning is expensive when used\n              in scale. https://github.com/chmln/flatpickr/issues/1096\n            */\n            if (!self.isMobile && isSafari) {\n                positionCalendar();\n            }\n            triggerEvent(\"onReady\");\n        }\n        function bindToInstance(fn) {\n            return fn.bind(self);\n        }\n        function setCalendarWidth() {\n            var config = self.config;\n            if (config.weekNumbers === false && config.showMonths === 1)\n                return;\n            else if (config.noCalendar !== true) {\n                window.requestAnimationFrame(function () {\n                    if (self.calendarContainer !== undefined) {\n                        self.calendarContainer.style.visibility = \"hidden\";\n                        self.calendarContainer.style.display = \"block\";\n                    }\n                    if (self.daysContainer !== undefined) {\n                        var daysWidth = (self.days.offsetWidth + 1) * config.showMonths;\n                        self.daysContainer.style.width = daysWidth + \"px\";\n                        self.calendarContainer.style.width =\n                            daysWidth +\n                                (self.weekWrapper !== undefined\n                                    ? self.weekWrapper.offsetWidth\n                                    : 0) +\n                                \"px\";\n                        self.calendarContainer.style.removeProperty(\"visibility\");\n                        self.calendarContainer.style.removeProperty(\"display\");\n                    }\n                });\n            }\n        }\n        /**\n         * The handler for all events targeting the time inputs\n         */\n        function updateTime(e) {\n            if (self.selectedDates.length === 0) {\n                setDefaultTime();\n            }\n            if (e !== undefined && e.type !== \"blur\") {\n                timeWrapper(e);\n            }\n            var prevValue = self._input.value;\n            setHoursFromInputs();\n            updateValue();\n            if (self._input.value !== prevValue) {\n                self._debouncedChange();\n            }\n        }\n        function ampm2military(hour, amPM) {\n            return (hour % 12) + 12 * int(amPM === self.l10n.amPM[1]);\n        }\n        function military2ampm(hour) {\n            switch (hour % 24) {\n                case 0:\n                case 12:\n                    return 12;\n                default:\n                    return hour % 12;\n            }\n        }\n        /**\n         * Syncs the selected date object time with user's time input\n         */\n        function setHoursFromInputs() {\n            if (self.hourElement === undefined || self.minuteElement === undefined)\n                return;\n            var hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== undefined\n                ? (parseInt(self.secondElement.value, 10) || 0) % 60\n                : 0;\n            if (self.amPM !== undefined) {\n                hours = ampm2military(hours, self.amPM.textContent);\n            }\n            var limitMinHours = self.config.minTime !== undefined ||\n                (self.config.minDate &&\n                    self.minDateHasTime &&\n                    self.latestSelectedDateObj &&\n                    compareDates(self.latestSelectedDateObj, self.config.minDate, true) ===\n                        0);\n            var limitMaxHours = self.config.maxTime !== undefined ||\n                (self.config.maxDate &&\n                    self.maxDateHasTime &&\n                    self.latestSelectedDateObj &&\n                    compareDates(self.latestSelectedDateObj, self.config.maxDate, true) ===\n                        0);\n            if (limitMaxHours) {\n                var maxTime = self.config.maxTime !== undefined\n                    ? self.config.maxTime\n                    : self.config.maxDate;\n                hours = Math.min(hours, maxTime.getHours());\n                if (hours === maxTime.getHours())\n                    minutes = Math.min(minutes, maxTime.getMinutes());\n                if (minutes === maxTime.getMinutes())\n                    seconds = Math.min(seconds, maxTime.getSeconds());\n            }\n            if (limitMinHours) {\n                var minTime = self.config.minTime !== undefined\n                    ? self.config.minTime\n                    : self.config.minDate;\n                hours = Math.max(hours, minTime.getHours());\n                if (hours === minTime.getHours())\n                    minutes = Math.max(minutes, minTime.getMinutes());\n                if (minutes === minTime.getMinutes())\n                    seconds = Math.max(seconds, minTime.getSeconds());\n            }\n            setHours(hours, minutes, seconds);\n        }\n        /**\n         * Syncs time input values with a date\n         */\n        function setHoursFromDate(dateObj) {\n            var date = dateObj || self.latestSelectedDateObj;\n            if (date)\n                setHours(date.getHours(), date.getMinutes(), date.getSeconds());\n        }\n        function setDefaultHours() {\n            var hours = self.config.defaultHour;\n            var minutes = self.config.defaultMinute;\n            var seconds = self.config.defaultSeconds;\n            if (self.config.minDate !== undefined) {\n                var minHr = self.config.minDate.getHours();\n                var minMinutes = self.config.minDate.getMinutes();\n                hours = Math.max(hours, minHr);\n                if (hours === minHr)\n                    minutes = Math.max(minMinutes, minutes);\n                if (hours === minHr && minutes === minMinutes)\n                    seconds = self.config.minDate.getSeconds();\n            }\n            if (self.config.maxDate !== undefined) {\n                var maxHr = self.config.maxDate.getHours();\n                var maxMinutes = self.config.maxDate.getMinutes();\n                hours = Math.min(hours, maxHr);\n                if (hours === maxHr)\n                    minutes = Math.min(maxMinutes, minutes);\n                if (hours === maxHr && minutes === maxMinutes)\n                    seconds = self.config.maxDate.getSeconds();\n            }\n            setHours(hours, minutes, seconds);\n        }\n        /**\n         * Sets the hours, minutes, and optionally seconds\n         * of the latest selected date object and the\n         * corresponding time inputs\n         * @param {Number} hours the hour. whether its military\n         *                 or am-pm gets inferred from config\n         * @param {Number} minutes the minutes\n         * @param {Number} seconds the seconds (optional)\n         */\n        function setHours(hours, minutes, seconds) {\n            if (self.latestSelectedDateObj !== undefined) {\n                self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\n            }\n            if (!self.hourElement || !self.minuteElement || self.isMobile)\n                return;\n            self.hourElement.value = pad(!self.config.time_24hr\n                ? ((12 + hours) % 12) + 12 * int(hours % 12 === 0)\n                : hours);\n            self.minuteElement.value = pad(minutes);\n            if (self.amPM !== undefined)\n                self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\n            if (self.secondElement !== undefined)\n                self.secondElement.value = pad(seconds);\n        }\n        /**\n         * Handles the year input and incrementing events\n         * @param {Event} event the keyup or increment event\n         */\n        function onYearInput(event) {\n            var year = parseInt(event.target.value) + (event.delta || 0);\n            if (year / 1000 > 1 ||\n                (event.key === \"Enter\" && !/[^\\d]/.test(year.toString()))) {\n                changeYear(year);\n            }\n        }\n        /**\n         * Essentially addEventListener + tracking\n         * @param {Element} element the element to addEventListener to\n         * @param {String} event the event name\n         * @param {Function} handler the event handler\n         */\n        function bind(element, event, handler, options) {\n            if (event instanceof Array)\n                return event.forEach(function (ev) { return bind(element, ev, handler, options); });\n            if (element instanceof Array)\n                return element.forEach(function (el) { return bind(el, event, handler, options); });\n            element.addEventListener(event, handler, options);\n            self._handlers.push({\n                element: element,\n                event: event,\n                handler: handler,\n                options: options\n            });\n        }\n        /**\n         * A mousedown handler which mimics click.\n         * Minimizes latency, since we don't need to wait for mouseup in most cases.\n         * Also, avoids handling right clicks.\n         *\n         * @param {Function} handler the event handler\n         */\n        function onClick(handler) {\n            return function (evt) {\n                evt.which === 1 && handler(evt);\n            };\n        }\n        function triggerChange() {\n            triggerEvent(\"onChange\");\n        }\n        /**\n         * Adds all the necessary event listeners\n         */\n        function bindEvents() {\n            if (self.config.wrap) {\n                [\"open\", \"close\", \"toggle\", \"clear\"].forEach(function (evt) {\n                    Array.prototype.forEach.call(self.element.querySelectorAll(\"[data-\" + evt + \"]\"), function (el) {\n                        return bind(el, \"click\", self[evt]);\n                    });\n                });\n            }\n            if (self.isMobile) {\n                setupMobile();\n                return;\n            }\n            var debouncedResize = debounce(onResize, 50);\n            self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);\n            if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent))\n                bind(self.daysContainer, \"mouseover\", function (e) {\n                    if (self.config.mode === \"range\")\n                        onMouseOver(e.target);\n                });\n            bind(window.document.body, \"keydown\", onKeyDown);\n            if (!self.config.inline && !self.config.static)\n                bind(window, \"resize\", debouncedResize);\n            if (window.ontouchstart !== undefined)\n                bind(window.document, \"touchstart\", documentClick);\n            else\n                bind(window.document, \"mousedown\", onClick(documentClick));\n            bind(window.document, \"focus\", documentClick, { capture: true });\n            if (self.config.clickOpens === true) {\n                bind(self._input, \"focus\", self.open);\n                bind(self._input, \"mousedown\", onClick(self.open));\n            }\n            if (self.daysContainer !== undefined) {\n                bind(self.monthNav, \"mousedown\", onClick(onMonthNavClick));\n                bind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\n                bind(self.daysContainer, \"mousedown\", onClick(selectDate));\n            }\n            if (self.timeContainer !== undefined &&\n                self.minuteElement !== undefined &&\n                self.hourElement !== undefined) {\n                var selText = function (e) {\n                    return e.target.select();\n                };\n                bind(self.timeContainer, [\"increment\"], updateTime);\n                bind(self.timeContainer, \"blur\", updateTime, { capture: true });\n                bind(self.timeContainer, \"mousedown\", onClick(timeIncrement));\n                bind([self.hourElement, self.minuteElement], [\"focus\", \"click\"], selText);\n                if (self.secondElement !== undefined)\n                    bind(self.secondElement, \"focus\", function () { return self.secondElement && self.secondElement.select(); });\n                if (self.amPM !== undefined) {\n                    bind(self.amPM, \"mousedown\", onClick(function (e) {\n                        updateTime(e);\n                        triggerChange();\n                    }));\n                }\n            }\n        }\n        /**\n         * Set the calendar view to a particular date.\n         * @param {Date} jumpDate the date to set the view to\n         * @param {boolean} triggerChange if change events should be triggered\n         */\n        function jumpToDate(jumpDate, triggerChange) {\n            var jumpTo = jumpDate !== undefined\n                ? self.parseDate(jumpDate)\n                : self.latestSelectedDateObj ||\n                    (self.config.minDate && self.config.minDate > self.now\n                        ? self.config.minDate\n                        : self.config.maxDate && self.config.maxDate < self.now\n                            ? self.config.maxDate\n                            : self.now);\n            var oldYear = self.currentYear;\n            var oldMonth = self.currentMonth;\n            try {\n                if (jumpTo !== undefined) {\n                    self.currentYear = jumpTo.getFullYear();\n                    self.currentMonth = jumpTo.getMonth();\n                }\n            }\n            catch (e) {\n                /* istanbul ignore next */\n                e.message = \"Invalid date supplied: \" + jumpTo;\n                self.config.errorHandler(e);\n            }\n            if (triggerChange && self.currentYear !== oldYear) {\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n            if (triggerChange &&\n                (self.currentYear !== oldYear || self.currentMonth !== oldMonth)) {\n                triggerEvent(\"onMonthChange\");\n            }\n            self.redraw();\n        }\n        /**\n         * The up/down arrow handler for time inputs\n         * @param {Event} e the click event\n         */\n        function timeIncrement(e) {\n            if (~e.target.className.indexOf(\"arrow\"))\n                incrementNumInput(e, e.target.classList.contains(\"arrowUp\") ? 1 : -1);\n        }\n        /**\n         * Increments/decrements the value of input associ-\n         * ated with the up/down arrow by dispatching an\n         * \"increment\" event on the input.\n         *\n         * @param {Event} e the click event\n         * @param {Number} delta the diff (usually 1 or -1)\n         * @param {Element} inputElem the input element\n         */\n        function incrementNumInput(e, delta, inputElem) {\n            var target = e && e.target;\n            var input = inputElem ||\n                (target && target.parentNode && target.parentNode.firstChild);\n            var event = createEvent(\"increment\");\n            event.delta = delta;\n            input && input.dispatchEvent(event);\n        }\n        function build() {\n            var fragment = window.document.createDocumentFragment();\n            self.calendarContainer = createElement(\"div\", \"flatpickr-calendar\");\n            self.calendarContainer.tabIndex = -1;\n            if (!self.config.noCalendar) {\n                fragment.appendChild(buildMonthNav());\n                self.innerContainer = createElement(\"div\", \"flatpickr-innerContainer\");\n                if (self.config.weekNumbers) {\n                    var _a = buildWeeks(), weekWrapper = _a.weekWrapper, weekNumbers = _a.weekNumbers;\n                    self.innerContainer.appendChild(weekWrapper);\n                    self.weekNumbers = weekNumbers;\n                    self.weekWrapper = weekWrapper;\n                }\n                self.rContainer = createElement(\"div\", \"flatpickr-rContainer\");\n                self.rContainer.appendChild(buildWeekdays());\n                if (!self.daysContainer) {\n                    self.daysContainer = createElement(\"div\", \"flatpickr-days\");\n                    self.daysContainer.tabIndex = -1;\n                }\n                buildDays();\n                self.rContainer.appendChild(self.daysContainer);\n                self.innerContainer.appendChild(self.rContainer);\n                fragment.appendChild(self.innerContainer);\n            }\n            if (self.config.enableTime) {\n                fragment.appendChild(buildTime());\n            }\n            toggleClass(self.calendarContainer, \"rangeMode\", self.config.mode === \"range\");\n            toggleClass(self.calendarContainer, \"animate\", self.config.animate === true);\n            toggleClass(self.calendarContainer, \"multiMonth\", self.config.showMonths > 1);\n            self.calendarContainer.appendChild(fragment);\n            var customAppend = self.config.appendTo !== undefined &&\n                self.config.appendTo.nodeType !== undefined;\n            if (self.config.inline || self.config.static) {\n                self.calendarContainer.classList.add(self.config.inline ? \"inline\" : \"static\");\n                if (self.config.inline) {\n                    if (!customAppend && self.element.parentNode)\n                        self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);\n                    else if (self.config.appendTo !== undefined)\n                        self.config.appendTo.appendChild(self.calendarContainer);\n                }\n                if (self.config.static) {\n                    var wrapper = createElement(\"div\", \"flatpickr-wrapper\");\n                    if (self.element.parentNode)\n                        self.element.parentNode.insertBefore(wrapper, self.element);\n                    wrapper.appendChild(self.element);\n                    if (self.altInput)\n                        wrapper.appendChild(self.altInput);\n                    wrapper.appendChild(self.calendarContainer);\n                }\n            }\n            if (!self.config.static && !self.config.inline)\n                (self.config.appendTo !== undefined\n                    ? self.config.appendTo\n                    : window.document.body).appendChild(self.calendarContainer);\n        }\n        function createDay(className, date, dayNumber, i) {\n            var dateIsEnabled = isEnabled(date, true), dayElement = createElement(\"span\", \"flatpickr-day \" + className, date.getDate().toString());\n            dayElement.dateObj = date;\n            dayElement.$i = i;\n            dayElement.setAttribute(\"aria-label\", self.formatDate(date, self.config.ariaDateFormat));\n            if (className.indexOf(\"hidden\") === -1 &&\n                compareDates(date, self.now) === 0) {\n                self.todayDateElem = dayElement;\n                dayElement.classList.add(\"today\");\n                dayElement.setAttribute(\"aria-current\", \"date\");\n            }\n            if (dateIsEnabled) {\n                dayElement.tabIndex = -1;\n                if (isDateSelected(date)) {\n                    dayElement.classList.add(\"selected\");\n                    self.selectedDateElem = dayElement;\n                    if (self.config.mode === \"range\") {\n                        toggleClass(dayElement, \"startRange\", self.selectedDates[0] &&\n                            compareDates(date, self.selectedDates[0], true) === 0);\n                        toggleClass(dayElement, \"endRange\", self.selectedDates[1] &&\n                            compareDates(date, self.selectedDates[1], true) === 0);\n                        if (className === \"nextMonthDay\")\n                            dayElement.classList.add(\"inRange\");\n                    }\n                }\n            }\n            else {\n                dayElement.classList.add(\"flatpickr-disabled\");\n            }\n            if (self.config.mode === \"range\") {\n                if (isDateInRange(date) && !isDateSelected(date))\n                    dayElement.classList.add(\"inRange\");\n            }\n            if (self.weekNumbers &&\n                self.config.showMonths === 1 &&\n                className !== \"prevMonthDay\" &&\n                dayNumber % 7 === 1) {\n                self.weekNumbers.insertAdjacentHTML(\"beforeend\", \"<span class='flatpickr-day'>\" + self.config.getWeek(date) + \"</span>\");\n            }\n            triggerEvent(\"onDayCreate\", dayElement);\n            return dayElement;\n        }\n        function focusOnDayElem(targetNode) {\n            targetNode.focus();\n            if (self.config.mode === \"range\")\n                onMouseOver(targetNode);\n        }\n        function getFirstAvailableDay(delta) {\n            var startMonth = delta > 0 ? 0 : self.config.showMonths - 1;\n            var endMonth = delta > 0 ? self.config.showMonths : -1;\n            for (var m = startMonth; m != endMonth; m += delta) {\n                var month = self.daysContainer.children[m];\n                var startIndex = delta > 0 ? 0 : month.children.length - 1;\n                var endIndex = delta > 0 ? month.children.length : -1;\n                for (var i = startIndex; i != endIndex; i += delta) {\n                    var c = month.children[i];\n                    if (c.className.indexOf(\"hidden\") === -1 && isEnabled(c.dateObj))\n                        return c;\n                }\n            }\n            return undefined;\n        }\n        function getNextAvailableDay(current, delta) {\n            var givenMonth = current.className.indexOf(\"Month\") === -1\n                ? current.dateObj.getMonth()\n                : self.currentMonth;\n            var endMonth = delta > 0 ? self.config.showMonths : -1;\n            var loopDelta = delta > 0 ? 1 : -1;\n            for (var m = givenMonth - self.currentMonth; m != endMonth; m += loopDelta) {\n                var month = self.daysContainer.children[m];\n                var startIndex = givenMonth - self.currentMonth === m\n                    ? current.$i + delta\n                    : delta < 0\n                        ? month.children.length - 1\n                        : 0;\n                var numMonthDays = month.children.length;\n                for (var i = startIndex; i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1); i += loopDelta) {\n                    var c = month.children[i];\n                    if (c.className.indexOf(\"hidden\") === -1 &&\n                        isEnabled(c.dateObj) &&\n                        Math.abs(current.$i - i) >= Math.abs(delta))\n                        return focusOnDayElem(c);\n                }\n            }\n            self.changeMonth(loopDelta);\n            focusOnDay(getFirstAvailableDay(loopDelta), 0);\n            return undefined;\n        }\n        function focusOnDay(current, offset) {\n            var dayFocused = isInView(document.activeElement || document.body);\n            var startElem = current !== undefined\n                ? current\n                : dayFocused\n                    ? document.activeElement\n                    : self.selectedDateElem !== undefined && isInView(self.selectedDateElem)\n                        ? self.selectedDateElem\n                        : self.todayDateElem !== undefined && isInView(self.todayDateElem)\n                            ? self.todayDateElem\n                            : getFirstAvailableDay(offset > 0 ? 1 : -1);\n            if (startElem === undefined)\n                return self._input.focus();\n            if (!dayFocused)\n                return focusOnDayElem(startElem);\n            getNextAvailableDay(startElem, offset);\n        }\n        function buildMonthDays(year, month) {\n            var firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;\n            var prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12);\n            var daysInMonth = self.utils.getDaysInMonth(month), days = window.document.createDocumentFragment(), isMultiMonth = self.config.showMonths > 1, prevMonthDayClass = isMultiMonth ? \"prevMonthDay hidden\" : \"prevMonthDay\", nextMonthDayClass = isMultiMonth ? \"nextMonthDay hidden\" : \"nextMonthDay\";\n            var dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;\n            // prepend days from the ending of previous month\n            for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\n                days.appendChild(createDay(prevMonthDayClass, new Date(year, month - 1, dayNumber), dayNumber, dayIndex));\n            }\n            // Start at 1 since there is no 0th day\n            for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\n                days.appendChild(createDay(\"\", new Date(year, month, dayNumber), dayNumber, dayIndex));\n            }\n            // append days from the next month\n            for (var dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth &&\n                (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {\n                days.appendChild(createDay(nextMonthDayClass, new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));\n            }\n            //updateNavigationCurrentMonth();\n            var dayContainer = createElement(\"div\", \"dayContainer\");\n            dayContainer.appendChild(days);\n            return dayContainer;\n        }\n        function buildDays() {\n            if (self.daysContainer === undefined) {\n                return;\n            }\n            clearNode(self.daysContainer);\n            // TODO: week numbers for each month\n            if (self.weekNumbers)\n                clearNode(self.weekNumbers);\n            var frag = document.createDocumentFragment();\n            for (var i = 0; i < self.config.showMonths; i++) {\n                var d = new Date(self.currentYear, self.currentMonth, 1);\n                d.setMonth(self.currentMonth + i);\n                frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));\n            }\n            self.daysContainer.appendChild(frag);\n            self.days = self.daysContainer.firstChild;\n            if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n                onMouseOver();\n            }\n        }\n        function buildMonthSwitch() {\n            if (self.config.showMonths > 1 ||\n                self.config.monthSelectorType !== \"dropdown\")\n                return;\n            var shouldBuildMonth = function (month) {\n                if (self.config.minDate !== undefined &&\n                    self.currentYear === self.config.minDate.getFullYear() &&\n                    month < self.config.minDate.getMonth()) {\n                    return false;\n                }\n                return !(self.config.maxDate !== undefined &&\n                    self.currentYear === self.config.maxDate.getFullYear() &&\n                    month > self.config.maxDate.getMonth());\n            };\n            self.monthsDropdownContainer.tabIndex = -1;\n            self.monthsDropdownContainer.innerHTML = \"\";\n            for (var i = 0; i < 12; i++) {\n                if (!shouldBuildMonth(i))\n                    continue;\n                var month = createElement(\"option\", \"flatpickr-monthDropdown-month\");\n                month.value = new Date(self.currentYear, i).getMonth().toString();\n                month.textContent = monthToStr(i, self.config.shorthandCurrentMonth, self.l10n);\n                month.tabIndex = -1;\n                if (self.currentMonth === i) {\n                    month.selected = true;\n                }\n                self.monthsDropdownContainer.appendChild(month);\n            }\n        }\n        function buildMonth() {\n            var container = createElement(\"div\", \"flatpickr-month\");\n            var monthNavFragment = window.document.createDocumentFragment();\n            var monthElement;\n            if (self.config.showMonths > 1 ||\n                self.config.monthSelectorType === \"static\") {\n                monthElement = createElement(\"span\", \"cur-month\");\n            }\n            else {\n                self.monthsDropdownContainer = createElement(\"select\", \"flatpickr-monthDropdown-months\");\n                bind(self.monthsDropdownContainer, \"change\", function (e) {\n                    var target = e.target;\n                    var selectedMonth = parseInt(target.value, 10);\n                    self.changeMonth(selectedMonth - self.currentMonth);\n                    triggerEvent(\"onMonthChange\");\n                });\n                buildMonthSwitch();\n                monthElement = self.monthsDropdownContainer;\n            }\n            var yearInput = createNumberInput(\"cur-year\", { tabindex: \"-1\" });\n            var yearElement = yearInput.getElementsByTagName(\"input\")[0];\n            yearElement.setAttribute(\"aria-label\", self.l10n.yearAriaLabel);\n            if (self.config.minDate) {\n                yearElement.setAttribute(\"min\", self.config.minDate.getFullYear().toString());\n            }\n            if (self.config.maxDate) {\n                yearElement.setAttribute(\"max\", self.config.maxDate.getFullYear().toString());\n                yearElement.disabled =\n                    !!self.config.minDate &&\n                        self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\n            }\n            var currentMonth = createElement(\"div\", \"flatpickr-current-month\");\n            currentMonth.appendChild(monthElement);\n            currentMonth.appendChild(yearInput);\n            monthNavFragment.appendChild(currentMonth);\n            container.appendChild(monthNavFragment);\n            return {\n                container: container,\n                yearElement: yearElement,\n                monthElement: monthElement\n            };\n        }\n        function buildMonths() {\n            clearNode(self.monthNav);\n            self.monthNav.appendChild(self.prevMonthNav);\n            if (self.config.showMonths) {\n                self.yearElements = [];\n                self.monthElements = [];\n            }\n            for (var m = self.config.showMonths; m--;) {\n                var month = buildMonth();\n                self.yearElements.push(month.yearElement);\n                self.monthElements.push(month.monthElement);\n                self.monthNav.appendChild(month.container);\n            }\n            self.monthNav.appendChild(self.nextMonthNav);\n        }\n        function buildMonthNav() {\n            self.monthNav = createElement(\"div\", \"flatpickr-months\");\n            self.yearElements = [];\n            self.monthElements = [];\n            self.prevMonthNav = createElement(\"span\", \"flatpickr-prev-month\");\n            self.prevMonthNav.innerHTML = self.config.prevArrow;\n            self.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\n            self.nextMonthNav.innerHTML = self.config.nextArrow;\n            buildMonths();\n            Object.defineProperty(self, \"_hidePrevMonthArrow\", {\n                get: function () { return self.__hidePrevMonthArrow; },\n                set: function (bool) {\n                    if (self.__hidePrevMonthArrow !== bool) {\n                        toggleClass(self.prevMonthNav, \"flatpickr-disabled\", bool);\n                        self.__hidePrevMonthArrow = bool;\n                    }\n                }\n            });\n            Object.defineProperty(self, \"_hideNextMonthArrow\", {\n                get: function () { return self.__hideNextMonthArrow; },\n                set: function (bool) {\n                    if (self.__hideNextMonthArrow !== bool) {\n                        toggleClass(self.nextMonthNav, \"flatpickr-disabled\", bool);\n                        self.__hideNextMonthArrow = bool;\n                    }\n                }\n            });\n            self.currentYearElement = self.yearElements[0];\n            updateNavigationCurrentMonth();\n            return self.monthNav;\n        }\n        function buildTime() {\n            self.calendarContainer.classList.add(\"hasTime\");\n            if (self.config.noCalendar)\n                self.calendarContainer.classList.add(\"noCalendar\");\n            self.timeContainer = createElement(\"div\", \"flatpickr-time\");\n            self.timeContainer.tabIndex = -1;\n            var separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\n            var hourInput = createNumberInput(\"flatpickr-hour\", {\n                \"aria-label\": self.l10n.hourAriaLabel\n            });\n            self.hourElement = hourInput.getElementsByTagName(\"input\")[0];\n            var minuteInput = createNumberInput(\"flatpickr-minute\", {\n                \"aria-label\": self.l10n.minuteAriaLabel\n            });\n            self.minuteElement = minuteInput.getElementsByTagName(\"input\")[0];\n            self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\n            self.hourElement.value = pad(self.latestSelectedDateObj\n                ? self.latestSelectedDateObj.getHours()\n                : self.config.time_24hr\n                    ? self.config.defaultHour\n                    : military2ampm(self.config.defaultHour));\n            self.minuteElement.value = pad(self.latestSelectedDateObj\n                ? self.latestSelectedDateObj.getMinutes()\n                : self.config.defaultMinute);\n            self.hourElement.setAttribute(\"step\", self.config.hourIncrement.toString());\n            self.minuteElement.setAttribute(\"step\", self.config.minuteIncrement.toString());\n            self.hourElement.setAttribute(\"min\", self.config.time_24hr ? \"0\" : \"1\");\n            self.hourElement.setAttribute(\"max\", self.config.time_24hr ? \"23\" : \"12\");\n            self.minuteElement.setAttribute(\"min\", \"0\");\n            self.minuteElement.setAttribute(\"max\", \"59\");\n            self.timeContainer.appendChild(hourInput);\n            self.timeContainer.appendChild(separator);\n            self.timeContainer.appendChild(minuteInput);\n            if (self.config.time_24hr)\n                self.timeContainer.classList.add(\"time24hr\");\n            if (self.config.enableSeconds) {\n                self.timeContainer.classList.add(\"hasSeconds\");\n                var secondInput = createNumberInput(\"flatpickr-second\");\n                self.secondElement = secondInput.getElementsByTagName(\"input\")[0];\n                self.secondElement.value = pad(self.latestSelectedDateObj\n                    ? self.latestSelectedDateObj.getSeconds()\n                    : self.config.defaultSeconds);\n                self.secondElement.setAttribute(\"step\", self.minuteElement.getAttribute(\"step\"));\n                self.secondElement.setAttribute(\"min\", \"0\");\n                self.secondElement.setAttribute(\"max\", \"59\");\n                self.timeContainer.appendChild(createElement(\"span\", \"flatpickr-time-separator\", \":\"));\n                self.timeContainer.appendChild(secondInput);\n            }\n            if (!self.config.time_24hr) {\n                // add self.amPM if appropriate\n                self.amPM = createElement(\"span\", \"flatpickr-am-pm\", self.l10n.amPM[int((self.latestSelectedDateObj\n                    ? self.hourElement.value\n                    : self.config.defaultHour) > 11)]);\n                self.amPM.title = self.l10n.toggleTitle;\n                self.amPM.tabIndex = -1;\n                self.timeContainer.appendChild(self.amPM);\n            }\n            return self.timeContainer;\n        }\n        function buildWeekdays() {\n            if (!self.weekdayContainer)\n                self.weekdayContainer = createElement(\"div\", \"flatpickr-weekdays\");\n            else\n                clearNode(self.weekdayContainer);\n            for (var i = self.config.showMonths; i--;) {\n                var container = createElement(\"div\", \"flatpickr-weekdaycontainer\");\n                self.weekdayContainer.appendChild(container);\n            }\n            updateWeekdays();\n            return self.weekdayContainer;\n        }\n        function updateWeekdays() {\n            if (!self.weekdayContainer) {\n                return;\n            }\n            var firstDayOfWeek = self.l10n.firstDayOfWeek;\n            var weekdays = self.l10n.weekdays.shorthand.slice();\n            if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\n                weekdays = weekdays.splice(firstDayOfWeek, weekdays.length).concat(weekdays.splice(0, firstDayOfWeek));\n            }\n            for (var i = self.config.showMonths; i--;) {\n                self.weekdayContainer.children[i].innerHTML = \"\\n      <span class='flatpickr-weekday'>\\n        \" + weekdays.join(\"</span><span class='flatpickr-weekday'>\") + \"\\n      </span>\\n      \";\n            }\n        }\n        /* istanbul ignore next */\n        function buildWeeks() {\n            self.calendarContainer.classList.add(\"hasWeeks\");\n            var weekWrapper = createElement(\"div\", \"flatpickr-weekwrapper\");\n            weekWrapper.appendChild(createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation));\n            var weekNumbers = createElement(\"div\", \"flatpickr-weeks\");\n            weekWrapper.appendChild(weekNumbers);\n            return {\n                weekWrapper: weekWrapper,\n                weekNumbers: weekNumbers\n            };\n        }\n        function changeMonth(value, isOffset) {\n            if (isOffset === void 0) { isOffset = true; }\n            var delta = isOffset ? value : value - self.currentMonth;\n            if ((delta < 0 && self._hidePrevMonthArrow === true) ||\n                (delta > 0 && self._hideNextMonthArrow === true))\n                return;\n            self.currentMonth += delta;\n            if (self.currentMonth < 0 || self.currentMonth > 11) {\n                self.currentYear += self.currentMonth > 11 ? 1 : -1;\n                self.currentMonth = (self.currentMonth + 12) % 12;\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n            buildDays();\n            triggerEvent(\"onMonthChange\");\n            updateNavigationCurrentMonth();\n        }\n        function clear(triggerChangeEvent, toInitial) {\n            if (triggerChangeEvent === void 0) { triggerChangeEvent = true; }\n            if (toInitial === void 0) { toInitial = true; }\n            self.input.value = \"\";\n            if (self.altInput !== undefined)\n                self.altInput.value = \"\";\n            if (self.mobileInput !== undefined)\n                self.mobileInput.value = \"\";\n            self.selectedDates = [];\n            self.latestSelectedDateObj = undefined;\n            if (toInitial === true) {\n                self.currentYear = self._initialDate.getFullYear();\n                self.currentMonth = self._initialDate.getMonth();\n            }\n            self.showTimeInput = false;\n            if (self.config.enableTime === true) {\n                setDefaultHours();\n            }\n            self.redraw();\n            if (triggerChangeEvent)\n                // triggerChangeEvent is true (default) or an Event\n                triggerEvent(\"onChange\");\n        }\n        function close() {\n            self.isOpen = false;\n            if (!self.isMobile) {\n                if (self.calendarContainer !== undefined) {\n                    self.calendarContainer.classList.remove(\"open\");\n                }\n                if (self._input !== undefined) {\n                    self._input.classList.remove(\"active\");\n                }\n            }\n            triggerEvent(\"onClose\");\n        }\n        function destroy() {\n            if (self.config !== undefined)\n                triggerEvent(\"onDestroy\");\n            for (var i = self._handlers.length; i--;) {\n                var h = self._handlers[i];\n                h.element.removeEventListener(h.event, h.handler, h.options);\n            }\n            self._handlers = [];\n            if (self.mobileInput) {\n                if (self.mobileInput.parentNode)\n                    self.mobileInput.parentNode.removeChild(self.mobileInput);\n                self.mobileInput = undefined;\n            }\n            else if (self.calendarContainer && self.calendarContainer.parentNode) {\n                if (self.config.static && self.calendarContainer.parentNode) {\n                    var wrapper = self.calendarContainer.parentNode;\n                    wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);\n                    if (wrapper.parentNode) {\n                        while (wrapper.firstChild)\n                            wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\n                        wrapper.parentNode.removeChild(wrapper);\n                    }\n                }\n                else\n                    self.calendarContainer.parentNode.removeChild(self.calendarContainer);\n            }\n            if (self.altInput) {\n                self.input.type = \"text\";\n                if (self.altInput.parentNode)\n                    self.altInput.parentNode.removeChild(self.altInput);\n                delete self.altInput;\n            }\n            if (self.input) {\n                self.input.type = self.input._type;\n                self.input.classList.remove(\"flatpickr-input\");\n                self.input.removeAttribute(\"readonly\");\n                self.input.value = \"\";\n            }\n            [\n                \"_showTimeInput\",\n                \"latestSelectedDateObj\",\n                \"_hideNextMonthArrow\",\n                \"_hidePrevMonthArrow\",\n                \"__hideNextMonthArrow\",\n                \"__hidePrevMonthArrow\",\n                \"isMobile\",\n                \"isOpen\",\n                \"selectedDateElem\",\n                \"minDateHasTime\",\n                \"maxDateHasTime\",\n                \"days\",\n                \"daysContainer\",\n                \"_input\",\n                \"_positionElement\",\n                \"innerContainer\",\n                \"rContainer\",\n                \"monthNav\",\n                \"todayDateElem\",\n                \"calendarContainer\",\n                \"weekdayContainer\",\n                \"prevMonthNav\",\n                \"nextMonthNav\",\n                \"monthsDropdownContainer\",\n                \"currentMonthElement\",\n                \"currentYearElement\",\n                \"navigationCurrentMonth\",\n                \"selectedDateElem\",\n                \"config\",\n            ].forEach(function (k) {\n                try {\n                    delete self[k];\n                }\n                catch (_) { }\n            });\n        }\n        function isCalendarElem(elem) {\n            if (self.config.appendTo && self.config.appendTo.contains(elem))\n                return true;\n            return self.calendarContainer.contains(elem);\n        }\n        function documentClick(e) {\n            if (self.isOpen && !self.config.inline) {\n                var eventTarget_1 = getEventTarget(e);\n                var isCalendarElement = isCalendarElem(eventTarget_1);\n                var isInput = eventTarget_1 === self.input ||\n                    eventTarget_1 === self.altInput ||\n                    self.element.contains(eventTarget_1) ||\n                    // web components\n                    // e.path is not present in all browsers. circumventing typechecks\n                    (e.path &&\n                        e.path.indexOf &&\n                        (~e.path.indexOf(self.input) ||\n                            ~e.path.indexOf(self.altInput)));\n                var lostFocus = e.type === \"blur\"\n                    ? isInput &&\n                        e.relatedTarget &&\n                        !isCalendarElem(e.relatedTarget)\n                    : !isInput &&\n                        !isCalendarElement &&\n                        !isCalendarElem(e.relatedTarget);\n                var isIgnored = !self.config.ignoredFocusElements.some(function (elem) {\n                    return elem.contains(eventTarget_1);\n                });\n                if (lostFocus && isIgnored) {\n                    if (self.timeContainer !== undefined &&\n                        self.minuteElement !== undefined &&\n                        self.hourElement !== undefined) {\n                        updateTime();\n                    }\n                    self.close();\n                    if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n                        self.clear(false);\n                        self.redraw();\n                    }\n                }\n            }\n        }\n        function changeYear(newYear) {\n            if (!newYear ||\n                (self.config.minDate && newYear < self.config.minDate.getFullYear()) ||\n                (self.config.maxDate && newYear > self.config.maxDate.getFullYear()))\n                return;\n            var newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;\n            self.currentYear = newYearNum || self.currentYear;\n            if (self.config.maxDate &&\n                self.currentYear === self.config.maxDate.getFullYear()) {\n                self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\n            }\n            else if (self.config.minDate &&\n                self.currentYear === self.config.minDate.getFullYear()) {\n                self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\n            }\n            if (isNewYear) {\n                self.redraw();\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n        }\n        function isEnabled(date, timeless) {\n            if (timeless === void 0) { timeless = true; }\n            var dateToCheck = self.parseDate(date, undefined, timeless); // timeless\n            if ((self.config.minDate &&\n                dateToCheck &&\n                compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0) ||\n                (self.config.maxDate &&\n                    dateToCheck &&\n                    compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0))\n                return false;\n            if (self.config.enable.length === 0 && self.config.disable.length === 0)\n                return true;\n            if (dateToCheck === undefined)\n                return false;\n            var bool = self.config.enable.length > 0, array = bool ? self.config.enable : self.config.disable;\n            for (var i = 0, d = void 0; i < array.length; i++) {\n                d = array[i];\n                if (typeof d === \"function\" &&\n                    d(dateToCheck) // disabled by function\n                )\n                    return bool;\n                else if (d instanceof Date &&\n                    dateToCheck !== undefined &&\n                    d.getTime() === dateToCheck.getTime())\n                    // disabled by date\n                    return bool;\n                else if (typeof d === \"string\" && dateToCheck !== undefined) {\n                    // disabled by date string\n                    var parsed = self.parseDate(d, undefined, true);\n                    return parsed && parsed.getTime() === dateToCheck.getTime()\n                        ? bool\n                        : !bool;\n                }\n                else if (\n                // disabled by range\n                typeof d === \"object\" &&\n                    dateToCheck !== undefined &&\n                    d.from &&\n                    d.to &&\n                    dateToCheck.getTime() >= d.from.getTime() &&\n                    dateToCheck.getTime() <= d.to.getTime())\n                    return bool;\n            }\n            return !bool;\n        }\n        function isInView(elem) {\n            if (self.daysContainer !== undefined)\n                return (elem.className.indexOf(\"hidden\") === -1 &&\n                    self.daysContainer.contains(elem));\n            return false;\n        }\n        function onKeyDown(e) {\n            // e.key                      e.keyCode\n            // \"Backspace\"                        8\n            // \"Tab\"                              9\n            // \"Enter\"                           13\n            // \"Escape\"     (IE \"Esc\")           27\n            // \"ArrowLeft\"  (IE \"Left\")          37\n            // \"ArrowUp\"    (IE \"Up\")            38\n            // \"ArrowRight\" (IE \"Right\")         39\n            // \"ArrowDown\"  (IE \"Down\")          40\n            // \"Delete\"     (IE \"Del\")           46\n            var isInput = e.target === self._input;\n            var allowInput = self.config.allowInput;\n            var allowKeydown = self.isOpen && (!allowInput || !isInput);\n            var allowInlineKeydown = self.config.inline && isInput && !allowInput;\n            if (e.keyCode === 13 && isInput) {\n                if (allowInput) {\n                    self.setDate(self._input.value, true, e.target === self.altInput\n                        ? self.config.altFormat\n                        : self.config.dateFormat);\n                    return e.target.blur();\n                }\n                else {\n                    self.open();\n                }\n            }\n            else if (isCalendarElem(e.target) ||\n                allowKeydown ||\n                allowInlineKeydown) {\n                var isTimeObj = !!self.timeContainer &&\n                    self.timeContainer.contains(e.target);\n                switch (e.keyCode) {\n                    case 13:\n                        if (isTimeObj) {\n                            e.preventDefault();\n                            updateTime();\n                            focusAndClose();\n                        }\n                        else\n                            selectDate(e);\n                        break;\n                    case 27: // escape\n                        e.preventDefault();\n                        focusAndClose();\n                        break;\n                    case 8:\n                    case 46:\n                        if (isInput && !self.config.allowInput) {\n                            e.preventDefault();\n                            self.clear();\n                        }\n                        break;\n                    case 37:\n                    case 39:\n                        if (!isTimeObj && !isInput) {\n                            e.preventDefault();\n                            if (self.daysContainer !== undefined &&\n                                (allowInput === false ||\n                                    (document.activeElement && isInView(document.activeElement)))) {\n                                var delta_1 = e.keyCode === 39 ? 1 : -1;\n                                if (!e.ctrlKey)\n                                    focusOnDay(undefined, delta_1);\n                                else {\n                                    e.stopPropagation();\n                                    changeMonth(delta_1);\n                                    focusOnDay(getFirstAvailableDay(1), 0);\n                                }\n                            }\n                        }\n                        else if (self.hourElement)\n                            self.hourElement.focus();\n                        break;\n                    case 38:\n                    case 40:\n                        e.preventDefault();\n                        var delta = e.keyCode === 40 ? 1 : -1;\n                        if ((self.daysContainer && e.target.$i !== undefined) ||\n                            e.target === self.input ||\n                            e.target === self.altInput) {\n                            if (e.ctrlKey) {\n                                e.stopPropagation();\n                                changeYear(self.currentYear - delta);\n                                focusOnDay(getFirstAvailableDay(1), 0);\n                            }\n                            else if (!isTimeObj)\n                                focusOnDay(undefined, delta * 7);\n                        }\n                        else if (e.target === self.currentYearElement) {\n                            changeYear(self.currentYear - delta);\n                        }\n                        else if (self.config.enableTime) {\n                            if (!isTimeObj && self.hourElement)\n                                self.hourElement.focus();\n                            updateTime(e);\n                            self._debouncedChange();\n                        }\n                        break;\n                    case 9:\n                        if (isTimeObj) {\n                            var elems = [\n                                self.hourElement,\n                                self.minuteElement,\n                                self.secondElement,\n                                self.amPM,\n                            ]\n                                .concat(self.pluginElements)\n                                .filter(function (x) { return x; });\n                            var i = elems.indexOf(e.target);\n                            if (i !== -1) {\n                                var target = elems[i + (e.shiftKey ? -1 : 1)];\n                                e.preventDefault();\n                                (target || self._input).focus();\n                            }\n                        }\n                        else if (!self.config.noCalendar &&\n                            self.daysContainer &&\n                            self.daysContainer.contains(e.target) &&\n                            e.shiftKey) {\n                            e.preventDefault();\n                            self._input.focus();\n                        }\n                        break;\n                    default:\n                        break;\n                }\n            }\n            if (self.amPM !== undefined && e.target === self.amPM) {\n                switch (e.key) {\n                    case self.l10n.amPM[0].charAt(0):\n                    case self.l10n.amPM[0].charAt(0).toLowerCase():\n                        self.amPM.textContent = self.l10n.amPM[0];\n                        setHoursFromInputs();\n                        updateValue();\n                        break;\n                    case self.l10n.amPM[1].charAt(0):\n                    case self.l10n.amPM[1].charAt(0).toLowerCase():\n                        self.amPM.textContent = self.l10n.amPM[1];\n                        setHoursFromInputs();\n                        updateValue();\n                        break;\n                }\n            }\n            if (isInput || isCalendarElem(e.target)) {\n                triggerEvent(\"onKeyDown\", e);\n            }\n        }\n        function onMouseOver(elem) {\n            if (self.selectedDates.length !== 1 ||\n                (elem &&\n                    (!elem.classList.contains(\"flatpickr-day\") ||\n                        elem.classList.contains(\"flatpickr-disabled\"))))\n                return;\n            var hoverDate = elem\n                ? elem.dateObj.getTime()\n                : self.days.firstElementChild.dateObj.getTime(), initialDate = self.parseDate(self.selectedDates[0], undefined, true).getTime(), rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());\n            var containsDisabled = false;\n            var minRange = 0, maxRange = 0;\n            for (var t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {\n                if (!isEnabled(new Date(t), true)) {\n                    containsDisabled =\n                        containsDisabled || (t > rangeStartDate && t < rangeEndDate);\n                    if (t < initialDate && (!minRange || t > minRange))\n                        minRange = t;\n                    else if (t > initialDate && (!maxRange || t < maxRange))\n                        maxRange = t;\n                }\n            }\n            for (var m = 0; m < self.config.showMonths; m++) {\n                var month = self.daysContainer.children[m];\n                var _loop_1 = function (i, l) {\n                    var dayElem = month.children[i], date = dayElem.dateObj;\n                    var timestamp = date.getTime();\n                    var outOfRange = (minRange > 0 && timestamp < minRange) ||\n                        (maxRange > 0 && timestamp > maxRange);\n                    if (outOfRange) {\n                        dayElem.classList.add(\"notAllowed\");\n                        [\"inRange\", \"startRange\", \"endRange\"].forEach(function (c) {\n                            dayElem.classList.remove(c);\n                        });\n                        return \"continue\";\n                    }\n                    else if (containsDisabled && !outOfRange)\n                        return \"continue\";\n                    [\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach(function (c) {\n                        dayElem.classList.remove(c);\n                    });\n                    if (elem !== undefined) {\n                        elem.classList.add(hoverDate <= self.selectedDates[0].getTime()\n                            ? \"startRange\"\n                            : \"endRange\");\n                        if (initialDate < hoverDate && timestamp === initialDate)\n                            dayElem.classList.add(\"startRange\");\n                        else if (initialDate > hoverDate && timestamp === initialDate)\n                            dayElem.classList.add(\"endRange\");\n                        if (timestamp >= minRange &&\n                            (maxRange === 0 || timestamp <= maxRange) &&\n                            isBetween(timestamp, initialDate, hoverDate))\n                            dayElem.classList.add(\"inRange\");\n                    }\n                };\n                for (var i = 0, l = month.children.length; i < l; i++) {\n                    _loop_1(i, l);\n                }\n            }\n        }\n        function onResize() {\n            if (self.isOpen && !self.config.static && !self.config.inline)\n                positionCalendar();\n        }\n        function setDefaultTime() {\n            self.setDate(self.config.minDate !== undefined\n                ? new Date(self.config.minDate.getTime())\n                : new Date(), true);\n            setDefaultHours();\n            updateValue();\n        }\n        function open(e, positionElement) {\n            if (positionElement === void 0) { positionElement = self._positionElement; }\n            if (self.isMobile === true) {\n                if (e) {\n                    e.preventDefault();\n                    e.target && e.target.blur();\n                }\n                if (self.mobileInput !== undefined) {\n                    self.mobileInput.focus();\n                    self.mobileInput.click();\n                }\n                triggerEvent(\"onOpen\");\n                return;\n            }\n            if (self._input.disabled || self.config.inline)\n                return;\n            var wasOpen = self.isOpen;\n            self.isOpen = true;\n            if (!wasOpen) {\n                self.calendarContainer.classList.add(\"open\");\n                self._input.classList.add(\"active\");\n                triggerEvent(\"onOpen\");\n                positionCalendar(positionElement);\n            }\n            if (self.config.enableTime === true && self.config.noCalendar === true) {\n                if (self.selectedDates.length === 0) {\n                    setDefaultTime();\n                }\n                if (self.config.allowInput === false &&\n                    (e === undefined ||\n                        !self.timeContainer.contains(e.relatedTarget))) {\n                    setTimeout(function () { return self.hourElement.select(); }, 50);\n                }\n            }\n        }\n        function minMaxDateSetter(type) {\n            return function (date) {\n                var dateObj = (self.config[\"_\" + type + \"Date\"] = self.parseDate(date, self.config.dateFormat));\n                var inverseDateObj = self.config[\"_\" + (type === \"min\" ? \"max\" : \"min\") + \"Date\"];\n                if (dateObj !== undefined) {\n                    self[type === \"min\" ? \"minDateHasTime\" : \"maxDateHasTime\"] =\n                        dateObj.getHours() > 0 ||\n                            dateObj.getMinutes() > 0 ||\n                            dateObj.getSeconds() > 0;\n                }\n                if (self.selectedDates) {\n                    self.selectedDates = self.selectedDates.filter(function (d) { return isEnabled(d); });\n                    if (!self.selectedDates.length && type === \"min\")\n                        setHoursFromDate(dateObj);\n                    updateValue();\n                }\n                if (self.daysContainer) {\n                    redraw();\n                    if (dateObj !== undefined)\n                        self.currentYearElement[type] = dateObj.getFullYear().toString();\n                    else\n                        self.currentYearElement.removeAttribute(type);\n                    self.currentYearElement.disabled =\n                        !!inverseDateObj &&\n                            dateObj !== undefined &&\n                            inverseDateObj.getFullYear() === dateObj.getFullYear();\n                }\n            };\n        }\n        function parseConfig() {\n            var boolOpts = [\n                \"wrap\",\n                \"weekNumbers\",\n                \"allowInput\",\n                \"clickOpens\",\n                \"time_24hr\",\n                \"enableTime\",\n                \"noCalendar\",\n                \"altInput\",\n                \"shorthandCurrentMonth\",\n                \"inline\",\n                \"static\",\n                \"enableSeconds\",\n                \"disableMobile\",\n            ];\n            var userConfig = __assign({}, instanceConfig, JSON.parse(JSON.stringify(element.dataset || {})));\n            var formats = {};\n            self.config.parseDate = userConfig.parseDate;\n            self.config.formatDate = userConfig.formatDate;\n            Object.defineProperty(self.config, \"enable\", {\n                get: function () { return self.config._enable; },\n                set: function (dates) {\n                    self.config._enable = parseDateRules(dates);\n                }\n            });\n            Object.defineProperty(self.config, \"disable\", {\n                get: function () { return self.config._disable; },\n                set: function (dates) {\n                    self.config._disable = parseDateRules(dates);\n                }\n            });\n            var timeMode = userConfig.mode === \"time\";\n            if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {\n                var defaultDateFormat = flatpickr.defaultConfig.dateFormat || defaults.dateFormat;\n                formats.dateFormat =\n                    userConfig.noCalendar || timeMode\n                        ? \"H:i\" + (userConfig.enableSeconds ? \":S\" : \"\")\n                        : defaultDateFormat + \" H:i\" + (userConfig.enableSeconds ? \":S\" : \"\");\n            }\n            if (userConfig.altInput &&\n                (userConfig.enableTime || timeMode) &&\n                !userConfig.altFormat) {\n                var defaultAltFormat = flatpickr.defaultConfig.altFormat || defaults.altFormat;\n                formats.altFormat =\n                    userConfig.noCalendar || timeMode\n                        ? \"h:i\" + (userConfig.enableSeconds ? \":S K\" : \" K\")\n                        : defaultAltFormat + (\" h:i\" + (userConfig.enableSeconds ? \":S\" : \"\") + \" K\");\n            }\n            if (!userConfig.altInputClass) {\n                self.config.altInputClass =\n                    self.input.className + \" \" + self.config.altInputClass;\n            }\n            Object.defineProperty(self.config, \"minDate\", {\n                get: function () { return self.config._minDate; },\n                set: minMaxDateSetter(\"min\")\n            });\n            Object.defineProperty(self.config, \"maxDate\", {\n                get: function () { return self.config._maxDate; },\n                set: minMaxDateSetter(\"max\")\n            });\n            var minMaxTimeSetter = function (type) { return function (val) {\n                self.config[type === \"min\" ? \"_minTime\" : \"_maxTime\"] = self.parseDate(val, \"H:i:S\");\n            }; };\n            Object.defineProperty(self.config, \"minTime\", {\n                get: function () { return self.config._minTime; },\n                set: minMaxTimeSetter(\"min\")\n            });\n            Object.defineProperty(self.config, \"maxTime\", {\n                get: function () { return self.config._maxTime; },\n                set: minMaxTimeSetter(\"max\")\n            });\n            if (userConfig.mode === \"time\") {\n                self.config.noCalendar = true;\n                self.config.enableTime = true;\n            }\n            Object.assign(self.config, formats, userConfig);\n            for (var i = 0; i < boolOpts.length; i++)\n                self.config[boolOpts[i]] =\n                    self.config[boolOpts[i]] === true ||\n                        self.config[boolOpts[i]] === \"true\";\n            HOOKS.filter(function (hook) { return self.config[hook] !== undefined; }).forEach(function (hook) {\n                self.config[hook] = arrayify(self.config[hook] || []).map(bindToInstance);\n            });\n            self.isMobile =\n                !self.config.disableMobile &&\n                    !self.config.inline &&\n                    self.config.mode === \"single\" &&\n                    !self.config.disable.length &&\n                    !self.config.enable.length &&\n                    !self.config.weekNumbers &&\n                    /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n            for (var i = 0; i < self.config.plugins.length; i++) {\n                var pluginConf = self.config.plugins[i](self) || {};\n                for (var key in pluginConf) {\n                    if (HOOKS.indexOf(key) > -1) {\n                        self.config[key] = arrayify(pluginConf[key])\n                            .map(bindToInstance)\n                            .concat(self.config[key]);\n                    }\n                    else if (typeof userConfig[key] === \"undefined\")\n                        self.config[key] = pluginConf[key];\n                }\n            }\n            triggerEvent(\"onParseConfig\");\n        }\n        function setupLocale() {\n            if (typeof self.config.locale !== \"object\" &&\n                typeof flatpickr.l10ns[self.config.locale] === \"undefined\")\n                self.config.errorHandler(new Error(\"flatpickr: invalid locale \" + self.config.locale));\n            self.l10n = __assign({}, flatpickr.l10ns[\"default\"], (typeof self.config.locale === \"object\"\n                ? self.config.locale\n                : self.config.locale !== \"default\"\n                    ? flatpickr.l10ns[self.config.locale]\n                    : undefined));\n            tokenRegex.K = \"(\" + self.l10n.amPM[0] + \"|\" + self.l10n.amPM[1] + \"|\" + self.l10n.amPM[0].toLowerCase() + \"|\" + self.l10n.amPM[1].toLowerCase() + \")\";\n            var userConfig = __assign({}, instanceConfig, JSON.parse(JSON.stringify(element.dataset || {})));\n            if (userConfig.time_24hr === undefined &&\n                flatpickr.defaultConfig.time_24hr === undefined) {\n                self.config.time_24hr = self.l10n.time_24hr;\n            }\n            self.formatDate = createDateFormatter(self);\n            self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n        }\n        function positionCalendar(customPositionElement) {\n            if (self.calendarContainer === undefined)\n                return;\n            triggerEvent(\"onPreCalendarPosition\");\n            var positionElement = customPositionElement || self._positionElement;\n            var calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, (function (acc, child) { return acc + child.offsetHeight; }), 0), calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position.split(\" \"), configPosVertical = configPos[0], configPosHorizontal = configPos.length > 1 ? configPos[1] : null, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPosVertical === \"above\" ||\n                (configPosVertical !== \"below\" &&\n                    distanceFromBottom < calendarHeight &&\n                    inputBounds.top > calendarHeight);\n            var top = window.pageYOffset +\n                inputBounds.top +\n                (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\n            toggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\n            toggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\n            if (self.config.inline)\n                return;\n            var left = window.pageXOffset +\n                inputBounds.left -\n                (configPosHorizontal != null && configPosHorizontal === \"center\"\n                    ? (calendarWidth - inputBounds.width) / 2\n                    : 0);\n            var right = window.document.body.offsetWidth - (window.pageXOffset + inputBounds.right);\n            var rightMost = left + calendarWidth > window.document.body.offsetWidth;\n            var centerMost = right + calendarWidth > window.document.body.offsetWidth;\n            toggleClass(self.calendarContainer, \"rightMost\", rightMost);\n            if (self.config.static)\n                return;\n            self.calendarContainer.style.top = top + \"px\";\n            if (!rightMost) {\n                self.calendarContainer.style.left = left + \"px\";\n                self.calendarContainer.style.right = \"auto\";\n            }\n            else if (!centerMost) {\n                self.calendarContainer.style.left = \"auto\";\n                self.calendarContainer.style.right = right + \"px\";\n            }\n            else {\n                var doc = document.styleSheets[0];\n                // some testing environments don't have css support\n                if (doc === undefined)\n                    return;\n                var bodyWidth = window.document.body.offsetWidth;\n                var centerLeft = Math.max(0, bodyWidth / 2 - calendarWidth / 2);\n                var centerBefore = \".flatpickr-calendar.centerMost:before\";\n                var centerAfter = \".flatpickr-calendar.centerMost:after\";\n                var centerIndex = doc.cssRules.length;\n                var centerStyle = \"{left:\" + inputBounds.left + \"px;right:auto;}\";\n                toggleClass(self.calendarContainer, \"rightMost\", false);\n                toggleClass(self.calendarContainer, \"centerMost\", true);\n                doc.insertRule(centerBefore + \",\" + centerAfter + centerStyle, centerIndex);\n                self.calendarContainer.style.left = centerLeft + \"px\";\n                self.calendarContainer.style.right = \"auto\";\n            }\n        }\n        function redraw() {\n            if (self.config.noCalendar || self.isMobile)\n                return;\n            updateNavigationCurrentMonth();\n            buildDays();\n        }\n        function focusAndClose() {\n            self._input.focus();\n            if (window.navigator.userAgent.indexOf(\"MSIE\") !== -1 ||\n                navigator.msMaxTouchPoints !== undefined) {\n                // hack - bugs in the way IE handles focus keeps the calendar open\n                setTimeout(self.close, 0);\n            }\n            else {\n                self.close();\n            }\n        }\n        function selectDate(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            var isSelectable = function (day) {\n                return day.classList &&\n                    day.classList.contains(\"flatpickr-day\") &&\n                    !day.classList.contains(\"flatpickr-disabled\") &&\n                    !day.classList.contains(\"notAllowed\");\n            };\n            var t = findParent(e.target, isSelectable);\n            if (t === undefined)\n                return;\n            var target = t;\n            var selectedDate = (self.latestSelectedDateObj = new Date(target.dateObj.getTime()));\n            var shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth ||\n                selectedDate.getMonth() >\n                    self.currentMonth + self.config.showMonths - 1) &&\n                self.config.mode !== \"range\";\n            self.selectedDateElem = target;\n            if (self.config.mode === \"single\")\n                self.selectedDates = [selectedDate];\n            else if (self.config.mode === \"multiple\") {\n                var selectedIndex = isDateSelected(selectedDate);\n                if (selectedIndex)\n                    self.selectedDates.splice(parseInt(selectedIndex), 1);\n                else\n                    self.selectedDates.push(selectedDate);\n            }\n            else if (self.config.mode === \"range\") {\n                if (self.selectedDates.length === 2) {\n                    self.clear(false, false);\n                }\n                self.latestSelectedDateObj = selectedDate;\n                self.selectedDates.push(selectedDate);\n                // unless selecting same date twice, sort ascendingly\n                if (compareDates(selectedDate, self.selectedDates[0], true) !== 0)\n                    self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n            }\n            setHoursFromInputs();\n            if (shouldChangeMonth) {\n                var isNewYear = self.currentYear !== selectedDate.getFullYear();\n                self.currentYear = selectedDate.getFullYear();\n                self.currentMonth = selectedDate.getMonth();\n                if (isNewYear) {\n                    triggerEvent(\"onYearChange\");\n                    buildMonthSwitch();\n                }\n                triggerEvent(\"onMonthChange\");\n            }\n            updateNavigationCurrentMonth();\n            buildDays();\n            updateValue();\n            if (self.config.enableTime)\n                setTimeout(function () { return (self.showTimeInput = true); }, 50);\n            // maintain focus\n            if (!shouldChangeMonth &&\n                self.config.mode !== \"range\" &&\n                self.config.showMonths === 1)\n                focusOnDayElem(target);\n            else if (self.selectedDateElem !== undefined &&\n                self.hourElement === undefined) {\n                self.selectedDateElem && self.selectedDateElem.focus();\n            }\n            if (self.hourElement !== undefined)\n                self.hourElement !== undefined && self.hourElement.focus();\n            if (self.config.closeOnSelect) {\n                var single = self.config.mode === \"single\" && !self.config.enableTime;\n                var range = self.config.mode === \"range\" &&\n                    self.selectedDates.length === 2 &&\n                    !self.config.enableTime;\n                if (single || range) {\n                    focusAndClose();\n                }\n            }\n            triggerChange();\n        }\n        var CALLBACKS = {\n            locale: [setupLocale, updateWeekdays],\n            showMonths: [buildMonths, setCalendarWidth, buildWeekdays],\n            minDate: [jumpToDate],\n            maxDate: [jumpToDate]\n        };\n        function set(option, value) {\n            if (option !== null && typeof option === \"object\") {\n                Object.assign(self.config, option);\n                for (var key in option) {\n                    if (CALLBACKS[key] !== undefined)\n                        CALLBACKS[key].forEach(function (x) { return x(); });\n                }\n            }\n            else {\n                self.config[option] = value;\n                if (CALLBACKS[option] !== undefined)\n                    CALLBACKS[option].forEach(function (x) { return x(); });\n                else if (HOOKS.indexOf(option) > -1)\n                    self.config[option] = arrayify(value);\n            }\n            self.redraw();\n            updateValue(false);\n        }\n        function setSelectedDate(inputDate, format) {\n            var dates = [];\n            if (inputDate instanceof Array)\n                dates = inputDate.map(function (d) { return self.parseDate(d, format); });\n            else if (inputDate instanceof Date || typeof inputDate === \"number\")\n                dates = [self.parseDate(inputDate, format)];\n            else if (typeof inputDate === \"string\") {\n                switch (self.config.mode) {\n                    case \"single\":\n                    case \"time\":\n                        dates = [self.parseDate(inputDate, format)];\n                        break;\n                    case \"multiple\":\n                        dates = inputDate\n                            .split(self.config.conjunction)\n                            .map(function (date) { return self.parseDate(date, format); });\n                        break;\n                    case \"range\":\n                        dates = inputDate\n                            .split(self.l10n.rangeSeparator)\n                            .map(function (date) { return self.parseDate(date, format); });\n                        break;\n                    default:\n                        break;\n                }\n            }\n            else\n                self.config.errorHandler(new Error(\"Invalid date supplied: \" + JSON.stringify(inputDate)));\n            self.selectedDates = dates.filter(function (d) { return d instanceof Date && isEnabled(d, false); });\n            if (self.config.mode === \"range\")\n                self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n        }\n        function setDate(date, triggerChange, format) {\n            if (triggerChange === void 0) { triggerChange = false; }\n            if (format === void 0) { format = self.config.dateFormat; }\n            if ((date !== 0 && !date) || (date instanceof Array && date.length === 0))\n                return self.clear(triggerChange);\n            setSelectedDate(date, format);\n            self.showTimeInput = self.selectedDates.length > 0;\n            self.latestSelectedDateObj =\n                self.selectedDates[self.selectedDates.length - 1];\n            self.redraw();\n            jumpToDate();\n            setHoursFromDate();\n            if (self.selectedDates.length === 0) {\n                self.clear(false);\n            }\n            updateValue(triggerChange);\n            if (triggerChange)\n                triggerEvent(\"onChange\");\n        }\n        function parseDateRules(arr) {\n            return arr\n                .slice()\n                .map(function (rule) {\n                if (typeof rule === \"string\" ||\n                    typeof rule === \"number\" ||\n                    rule instanceof Date) {\n                    return self.parseDate(rule, undefined, true);\n                }\n                else if (rule &&\n                    typeof rule === \"object\" &&\n                    rule.from &&\n                    rule.to)\n                    return {\n                        from: self.parseDate(rule.from, undefined),\n                        to: self.parseDate(rule.to, undefined)\n                    };\n                return rule;\n            })\n                .filter(function (x) { return x; }); // remove falsy values\n        }\n        function setupDates() {\n            self.selectedDates = [];\n            self.now = self.parseDate(self.config.now) || new Date();\n            // Workaround IE11 setting placeholder as the input's value\n            var preloadedDate = self.config.defaultDate ||\n                ((self.input.nodeName === \"INPUT\" ||\n                    self.input.nodeName === \"TEXTAREA\") &&\n                    self.input.placeholder &&\n                    self.input.value === self.input.placeholder\n                    ? null\n                    : self.input.value);\n            if (preloadedDate)\n                setSelectedDate(preloadedDate, self.config.dateFormat);\n            self._initialDate =\n                self.selectedDates.length > 0\n                    ? self.selectedDates[0]\n                    : self.config.minDate &&\n                        self.config.minDate.getTime() > self.now.getTime()\n                        ? self.config.minDate\n                        : self.config.maxDate &&\n                            self.config.maxDate.getTime() < self.now.getTime()\n                            ? self.config.maxDate\n                            : self.now;\n            self.currentYear = self._initialDate.getFullYear();\n            self.currentMonth = self._initialDate.getMonth();\n            if (self.selectedDates.length > 0)\n                self.latestSelectedDateObj = self.selectedDates[0];\n            if (self.config.minTime !== undefined)\n                self.config.minTime = self.parseDate(self.config.minTime, \"H:i\");\n            if (self.config.maxTime !== undefined)\n                self.config.maxTime = self.parseDate(self.config.maxTime, \"H:i\");\n            self.minDateHasTime =\n                !!self.config.minDate &&\n                    (self.config.minDate.getHours() > 0 ||\n                        self.config.minDate.getMinutes() > 0 ||\n                        self.config.minDate.getSeconds() > 0);\n            self.maxDateHasTime =\n                !!self.config.maxDate &&\n                    (self.config.maxDate.getHours() > 0 ||\n                        self.config.maxDate.getMinutes() > 0 ||\n                        self.config.maxDate.getSeconds() > 0);\n            Object.defineProperty(self, \"showTimeInput\", {\n                get: function () { return self._showTimeInput; },\n                set: function (bool) {\n                    self._showTimeInput = bool;\n                    if (self.calendarContainer)\n                        toggleClass(self.calendarContainer, \"showTimeInput\", bool);\n                    self.isOpen && positionCalendar();\n                }\n            });\n        }\n        function setupInputs() {\n            self.input = self.config.wrap\n                ? element.querySelector(\"[data-input]\")\n                : element;\n            /* istanbul ignore next */\n            if (!self.input) {\n                self.config.errorHandler(new Error(\"Invalid input element specified\"));\n                return;\n            }\n            // hack: store previous type to restore it after destroy()\n            self.input._type = self.input.type;\n            self.input.type = \"text\";\n            self.input.classList.add(\"flatpickr-input\");\n            self._input = self.input;\n            if (self.config.altInput) {\n                // replicate self.element\n                self.altInput = createElement(self.input.nodeName, self.config.altInputClass);\n                self._input = self.altInput;\n                self.altInput.placeholder = self.input.placeholder;\n                self.altInput.disabled = self.input.disabled;\n                self.altInput.required = self.input.required;\n                self.altInput.tabIndex = self.input.tabIndex;\n                self.altInput.type = \"text\";\n                self.input.setAttribute(\"type\", \"hidden\");\n                if (!self.config.static && self.input.parentNode)\n                    self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\n            }\n            if (!self.config.allowInput)\n                self._input.setAttribute(\"readonly\", \"readonly\");\n            self._positionElement = self.config.positionElement || self._input;\n        }\n        function setupMobile() {\n            var inputType = self.config.enableTime\n                ? self.config.noCalendar\n                    ? \"time\"\n                    : \"datetime-local\"\n                : \"date\";\n            self.mobileInput = createElement(\"input\", self.input.className + \" flatpickr-mobile\");\n            self.mobileInput.step = self.input.getAttribute(\"step\") || \"any\";\n            self.mobileInput.tabIndex = 1;\n            self.mobileInput.type = inputType;\n            self.mobileInput.disabled = self.input.disabled;\n            self.mobileInput.required = self.input.required;\n            self.mobileInput.placeholder = self.input.placeholder;\n            self.mobileFormatStr =\n                inputType === \"datetime-local\"\n                    ? \"Y-m-d\\\\TH:i:S\"\n                    : inputType === \"date\"\n                        ? \"Y-m-d\"\n                        : \"H:i:S\";\n            if (self.selectedDates.length > 0) {\n                self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\n            }\n            if (self.config.minDate)\n                self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\n            if (self.config.maxDate)\n                self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\n            self.input.type = \"hidden\";\n            if (self.altInput !== undefined)\n                self.altInput.type = \"hidden\";\n            try {\n                if (self.input.parentNode)\n                    self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\n            }\n            catch (_a) { }\n            bind(self.mobileInput, \"change\", function (e) {\n                self.setDate(e.target.value, false, self.mobileFormatStr);\n                triggerEvent(\"onChange\");\n                triggerEvent(\"onClose\");\n            });\n        }\n        function toggle(e) {\n            if (self.isOpen === true)\n                return self.close();\n            self.open(e);\n        }\n        function triggerEvent(event, data) {\n            // If the instance has been destroyed already, all hooks have been removed\n            if (self.config === undefined)\n                return;\n            var hooks = self.config[event];\n            if (hooks !== undefined && hooks.length > 0) {\n                for (var i = 0; hooks[i] && i < hooks.length; i++)\n                    hooks[i](self.selectedDates, self.input.value, self, data);\n            }\n            if (event === \"onChange\") {\n                self.input.dispatchEvent(createEvent(\"change\"));\n                // many front-end frameworks bind to the input event\n                self.input.dispatchEvent(createEvent(\"input\"));\n            }\n        }\n        function createEvent(name) {\n            var e = document.createEvent(\"Event\");\n            e.initEvent(name, true, true);\n            return e;\n        }\n        function isDateSelected(date) {\n            for (var i = 0; i < self.selectedDates.length; i++) {\n                if (compareDates(self.selectedDates[i], date) === 0)\n                    return \"\" + i;\n            }\n            return false;\n        }\n        function isDateInRange(date) {\n            if (self.config.mode !== \"range\" || self.selectedDates.length < 2)\n                return false;\n            return (compareDates(date, self.selectedDates[0]) >= 0 &&\n                compareDates(date, self.selectedDates[1]) <= 0);\n        }\n        function updateNavigationCurrentMonth() {\n            if (self.config.noCalendar || self.isMobile || !self.monthNav)\n                return;\n            self.yearElements.forEach(function (yearElement, i) {\n                var d = new Date(self.currentYear, self.currentMonth, 1);\n                d.setMonth(self.currentMonth + i);\n                if (self.config.showMonths > 1 ||\n                    self.config.monthSelectorType === \"static\") {\n                    self.monthElements[i].textContent =\n                        monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + \" \";\n                }\n                else {\n                    self.monthsDropdownContainer.value = d.getMonth().toString();\n                }\n                yearElement.value = d.getFullYear().toString();\n            });\n            self._hidePrevMonthArrow =\n                self.config.minDate !== undefined &&\n                    (self.currentYear === self.config.minDate.getFullYear()\n                        ? self.currentMonth <= self.config.minDate.getMonth()\n                        : self.currentYear < self.config.minDate.getFullYear());\n            self._hideNextMonthArrow =\n                self.config.maxDate !== undefined &&\n                    (self.currentYear === self.config.maxDate.getFullYear()\n                        ? self.currentMonth + 1 > self.config.maxDate.getMonth()\n                        : self.currentYear > self.config.maxDate.getFullYear());\n        }\n        function getDateStr(format) {\n            return self.selectedDates\n                .map(function (dObj) { return self.formatDate(dObj, format); })\n                .filter(function (d, i, arr) {\n                return self.config.mode !== \"range\" ||\n                    self.config.enableTime ||\n                    arr.indexOf(d) === i;\n            })\n                .join(self.config.mode !== \"range\"\n                ? self.config.conjunction\n                : self.l10n.rangeSeparator);\n        }\n        /**\n         * Updates the values of inputs associated with the calendar\n         */\n        function updateValue(triggerChange) {\n            if (triggerChange === void 0) { triggerChange = true; }\n            if (self.mobileInput !== undefined && self.mobileFormatStr) {\n                self.mobileInput.value =\n                    self.latestSelectedDateObj !== undefined\n                        ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr)\n                        : \"\";\n            }\n            self.input.value = getDateStr(self.config.dateFormat);\n            if (self.altInput !== undefined) {\n                self.altInput.value = getDateStr(self.config.altFormat);\n            }\n            if (triggerChange !== false)\n                triggerEvent(\"onValueUpdate\");\n        }\n        function onMonthNavClick(e) {\n            var isPrevMonth = self.prevMonthNav.contains(e.target);\n            var isNextMonth = self.nextMonthNav.contains(e.target);\n            if (isPrevMonth || isNextMonth) {\n                changeMonth(isPrevMonth ? -1 : 1);\n            }\n            else if (self.yearElements.indexOf(e.target) >= 0) {\n                e.target.select();\n            }\n            else if (e.target.classList.contains(\"arrowUp\")) {\n                self.changeYear(self.currentYear + 1);\n            }\n            else if (e.target.classList.contains(\"arrowDown\")) {\n                self.changeYear(self.currentYear - 1);\n            }\n        }\n        function timeWrapper(e) {\n            e.preventDefault();\n            var isKeyDown = e.type === \"keydown\", input = e.target;\n            if (self.amPM !== undefined && e.target === self.amPM) {\n                self.amPM.textContent =\n                    self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n            }\n            var min = parseFloat(input.getAttribute(\"min\")), max = parseFloat(input.getAttribute(\"max\")), step = parseFloat(input.getAttribute(\"step\")), curValue = parseInt(input.value, 10), delta = e.delta ||\n                (isKeyDown ? (e.which === 38 ? 1 : -1) : 0);\n            var newValue = curValue + step * delta;\n            if (typeof input.value !== \"undefined\" && input.value.length === 2) {\n                var isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;\n                if (newValue < min) {\n                    newValue =\n                        max +\n                            newValue +\n                            int(!isHourElem) +\n                            (int(isHourElem) && int(!self.amPM));\n                    if (isMinuteElem)\n                        incrementNumInput(undefined, -1, self.hourElement);\n                }\n                else if (newValue > max) {\n                    newValue =\n                        input === self.hourElement ? newValue - max - int(!self.amPM) : min;\n                    if (isMinuteElem)\n                        incrementNumInput(undefined, 1, self.hourElement);\n                }\n                if (self.amPM &&\n                    isHourElem &&\n                    (step === 1\n                        ? newValue + curValue === 23\n                        : Math.abs(newValue - curValue) > step)) {\n                    self.amPM.textContent =\n                        self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n                }\n                input.value = pad(newValue);\n            }\n        }\n        init();\n        return self;\n    }\n    /* istanbul ignore next */\n    function _flatpickr(nodeList, config) {\n        // static list\n        var nodes = Array.prototype.slice\n            .call(nodeList)\n            .filter(function (x) { return x instanceof HTMLElement; });\n        var instances = [];\n        for (var i = 0; i < nodes.length; i++) {\n            var node = nodes[i];\n            try {\n                if (node.getAttribute(\"data-fp-omit\") !== null)\n                    continue;\n                if (node._flatpickr !== undefined) {\n                    node._flatpickr.destroy();\n                    node._flatpickr = undefined;\n                }\n                node._flatpickr = FlatpickrInstance(node, config || {});\n                instances.push(node._flatpickr);\n            }\n            catch (e) {\n                console.error(e);\n            }\n        }\n        return instances.length === 1 ? instances[0] : instances;\n    }\n    /* istanbul ignore next */\n    if (typeof HTMLElement !== \"undefined\" &&\n        typeof HTMLCollection !== \"undefined\" &&\n        typeof NodeList !== \"undefined\") {\n        // browser env\n        HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\n            return _flatpickr(this, config);\n        };\n        HTMLElement.prototype.flatpickr = function (config) {\n            return _flatpickr([this], config);\n        };\n    }\n    /* istanbul ignore next */\n    var flatpickr = function (selector, config) {\n        if (typeof selector === \"string\") {\n            return _flatpickr(window.document.querySelectorAll(selector), config);\n        }\n        else if (selector instanceof Node) {\n            return _flatpickr([selector], config);\n        }\n        else {\n            return _flatpickr(selector, config);\n        }\n    };\n    /* istanbul ignore next */\n    flatpickr.defaultConfig = {};\n    flatpickr.l10ns = {\n        en: __assign({}, english),\n        \"default\": __assign({}, english)\n    };\n    flatpickr.localize = function (l10n) {\n        flatpickr.l10ns[\"default\"] = __assign({}, flatpickr.l10ns[\"default\"], l10n);\n    };\n    flatpickr.setDefaults = function (config) {\n        flatpickr.defaultConfig = __assign({}, flatpickr.defaultConfig, config);\n    };\n    flatpickr.parseDate = createDateParser({});\n    flatpickr.formatDate = createDateFormatter({});\n    flatpickr.compareDates = compareDates;\n    /* istanbul ignore next */\n    if (typeof jQuery !== \"undefined\" && typeof jQuery.fn !== \"undefined\") {\n        jQuery.fn.flatpickr = function (config) {\n            return _flatpickr(this, config);\n        };\n    }\n    // eslint-disable-next-line @typescript-eslint/camelcase\n    Date.prototype.fp_incr = function (days) {\n        return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === \"string\" ? parseInt(days, 10) : days));\n    };\n    if (typeof window !== \"undefined\") {\n        window.flatpickr = flatpickr;\n    }\n\n    return flatpickr;\n\n}));\n","var _excluded = [\"children\"];\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect, memo } from 'react';\nimport { createDragDropManager } from 'dnd-core';\nimport { DndContext } from './DndContext';\nvar refCount = 0;\nvar INSTANCE_SYM = Symbol.for('__REACT_DND_CONTEXT_INSTANCE__');\n/**\n * A React component that provides the React-DnD context\n */\n\nexport var DndProvider = memo(function DndProvider(_ref) {\n  var children = _ref.children,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _getDndContextValue = getDndContextValue(props),\n      _getDndContextValue2 = _slicedToArray(_getDndContextValue, 2),\n      manager = _getDndContextValue2[0],\n      isGlobalInstance = _getDndContextValue2[1]; // memoized from props\n\n  /**\n   * If the global context was used to store the DND context\n   * then where theres no more references to it we should\n   * clean it up to avoid memory leaks\n   */\n\n\n  useEffect(function () {\n    if (isGlobalInstance) {\n      var context = getGlobalContext();\n      ++refCount;\n      return function () {\n        if (--refCount === 0) {\n          context[INSTANCE_SYM] = null;\n        }\n      };\n    }\n  }, []);\n  return _jsx(DndContext.Provider, Object.assign({\n    value: manager\n  }, {\n    children: children\n  }), void 0);\n});\n\nfunction getDndContextValue(props) {\n  if ('manager' in props) {\n    var _manager = {\n      dragDropManager: props.manager\n    };\n    return [_manager, false];\n  }\n\n  var manager = createSingletonDndContext(props.backend, props.context, props.options, props.debugMode);\n  var isGlobalInstance = !props.context;\n  return [manager, isGlobalInstance];\n}\n\nfunction createSingletonDndContext(backend) {\n  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getGlobalContext();\n  var options = arguments.length > 2 ? arguments[2] : undefined;\n  var debugMode = arguments.length > 3 ? arguments[3] : undefined;\n  var ctx = context;\n\n  if (!ctx[INSTANCE_SYM]) {\n    ctx[INSTANCE_SYM] = {\n      dragDropManager: createDragDropManager(backend, context, options, debugMode)\n    };\n  }\n\n  return ctx[INSTANCE_SYM];\n}\n\nfunction getGlobalContext() {\n  return typeof global !== 'undefined' ? global : window;\n}","/* eslint-disable no-restricted-globals, @typescript-eslint/ban-ts-comment, @typescript-eslint/no-unused-vars, @typescript-eslint/no-non-null-assertion */\nimport type { Task } from './types.js'\nimport { makeRequestCall, makeRequestCallFromTimer } from './makeRequestCall.js'\n\nexport class AsapQueue {\n\tprivate queue: Task[] = []\n\t// We queue errors to ensure they are thrown in right order (FIFO).\n\t// Array-as-queue is good enough here, since we are just dealing with exceptions.\n\tprivate pendingErrors: any[] = []\n\t// Once a flush has been requested, no further calls to `requestFlush` are\n\t// necessary until the next `flush` completes.\n\t// @ts-ignore\n\tprivate flushing = false\n\t// `requestFlush` is an implementation-specific method that attempts to kick\n\t// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n\t// the event queue before yielding to the browser's own event loop.\n\tprivate requestFlush: () => void\n\n\tprivate requestErrorThrow: () => void\n\t// The position of the next task to execute in the task queue. This is\n\t// preserved between calls to `flush` so that it can be resumed if\n\t// a task throws an exception.\n\tprivate index = 0\n\t// If a task schedules additional tasks recursively, the task queue can grow\n\t// unbounded. To prevent memory exhaustion, the task queue will periodically\n\t// truncate already-completed tasks.\n\tprivate capacity = 1024\n\n\tpublic constructor() {\n\t\t// `requestFlush` requests that the high priority event queue be flushed as\n\t\t// soon as possible.\n\t\t// This is useful to prevent an error thrown in a task from stalling the event\n\t\t// queue if the exception handled by Node.js’s\n\t\t// `process.on(\"uncaughtException\")` or by a domain.\n\n\t\t// `requestFlush` is implemented using a strategy based on data collected from\n\t\t// every available SauceLabs Selenium web driver worker at time of writing.\n\t\t// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\t\tthis.requestFlush = makeRequestCall(this.flush)\n\t\tthis.requestErrorThrow = makeRequestCallFromTimer(() => {\n\t\t\t// Throw first error\n\t\t\tif (this.pendingErrors.length) {\n\t\t\t\tthrow this.pendingErrors.shift()\n\t\t\t}\n\t\t})\n\t}\n\n\t// Use the fastest means possible to execute a task in its own turn, with\n\t// priority over other events including IO, animation, reflow, and redraw\n\t// events in browsers.\n\t//\n\t// An exception thrown by a task will permanently interrupt the processing of\n\t// subsequent tasks. The higher level `asap` function ensures that if an\n\t// exception is thrown by a task, that the task queue will continue flushing as\n\t// soon as possible, but if you use `rawAsap` directly, you are responsible to\n\t// either ensure that no exceptions are thrown from your task, or to manually\n\t// call `rawAsap.requestFlush` if an exception is thrown.\n\tpublic enqueueTask(task: Task): void {\n\t\tconst { queue: q, requestFlush } = this\n\t\tif (!q.length) {\n\t\t\trequestFlush()\n\t\t\tthis.flushing = true\n\t\t}\n\t\t// Equivalent to push, but avoids a function call.\n\t\tq[q.length] = task\n\t}\n\n\t// The flush function processes all tasks that have been scheduled with\n\t// `rawAsap` unless and until one of those tasks throws an exception.\n\t// If a task throws an exception, `flush` ensures that its state will remain\n\t// consistent and will resume where it left off when called again.\n\t// However, `flush` does not make any arrangements to be called again if an\n\t// exception is thrown.\n\tprivate flush = () => {\n\t\tconst { queue: q } = this\n\t\twhile (this.index < q.length) {\n\t\t\tconst currentIndex = this.index\n\t\t\t// Advance the index before calling the task. This ensures that we will\n\t\t\t// begin flushing on the next task the task throws an error.\n\t\t\tthis.index++\n\t\t\tq[currentIndex]!.call()\n\t\t\t// Prevent leaking memory for long chains of recursive calls to `asap`.\n\t\t\t// If we call `asap` within tasks scheduled by `asap`, the queue will\n\t\t\t// grow, but to avoid an O(n) walk for every task we execute, we don't\n\t\t\t// shift tasks off the queue after they have been executed.\n\t\t\t// Instead, we periodically shift 1024 tasks off the queue.\n\t\t\tif (this.index > this.capacity) {\n\t\t\t\t// Manually shift all values starting at the index back to the\n\t\t\t\t// beginning of the queue.\n\t\t\t\tfor (\n\t\t\t\t\tlet scan = 0, newLength = q.length - this.index;\n\t\t\t\t\tscan < newLength;\n\t\t\t\t\tscan++\n\t\t\t\t) {\n\t\t\t\t\tq[scan] = q[scan + this.index]!\n\t\t\t\t}\n\t\t\t\tq.length -= this.index\n\t\t\t\tthis.index = 0\n\t\t\t}\n\t\t}\n\t\tq.length = 0\n\t\tthis.index = 0\n\t\tthis.flushing = false\n\t}\n\n\t// In a web browser, exceptions are not fatal. However, to avoid\n\t// slowing down the queue of pending tasks, we rethrow the error in a\n\t// lower priority turn.\n\tpublic registerPendingError = (err: any) => {\n\t\tthis.pendingErrors.push(err)\n\t\tthis.requestErrorThrow()\n\t}\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// // its existence.\n// rawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n","import type { Task } from './types.js'\nimport { RawTask } from './RawTask.js'\n\nexport class TaskFactory {\n\tprivate freeTasks: RawTask[] = []\n\n\tpublic constructor(private onError: (err: any) => void) {}\n\n\tpublic create(task: () => void): Task {\n\t\tconst tasks = this.freeTasks\n\t\tconst t = tasks.length\n\t\t\t? (tasks.pop() as RawTask)\n\t\t\t: new RawTask(this.onError, (t) => (tasks[tasks.length] = t))\n\t\tt.task = task\n\t\treturn t\n\t}\n}\n","import { useEffect, memo } from 'react';\n/**\n * A utility for rendering a drag preview image\n */\n\nexport var DragPreviewImage = memo(function DragPreviewImage(_ref) {\n  var connect = _ref.connect,\n      src = _ref.src;\n  useEffect(function () {\n    if (typeof Image === 'undefined') return;\n    var connected = false;\n    var img = new Image();\n    img.src = src;\n\n    img.onload = function () {\n      connect(img);\n      connected = true;\n    };\n\n    return function () {\n      if (connected) {\n        connect(null);\n      }\n    };\n  });\n  return null;\n});","export function registerTarget(type, target, manager) {\n  var registry = manager.getRegistry();\n  var targetId = registry.addTarget(type, target);\n  return [targetId, function () {\n    return registry.removeTarget(targetId);\n  }];\n}\nexport function registerSource(type, source, manager) {\n  var registry = manager.getRegistry();\n  var sourceId = registry.addSource(type, source);\n  return [sourceId, function () {\n    return registry.removeSource(sourceId);\n  }];\n}","import { invariant } from '@react-dnd/invariant';\nimport { cloneElement, isValidElement } from 'react';\n\nfunction throwIfCompositeComponentElement(element) {\n  // Custom components can no longer be wrapped directly in React DnD 2.0\n  // so that we don't need to depend on findDOMNode() from react-dom.\n  if (typeof element.type === 'string') {\n    return;\n  }\n\n  var displayName = element.type.displayName || element.type.name || 'the component';\n  throw new Error('Only native element nodes can now be passed to React DnD connectors.' + \"You can either wrap \".concat(displayName, \" into a <div>, or turn it into a \") + 'drag source or a drop target itself.');\n}\n\nfunction wrapHookToRecognizeElement(hook) {\n  return function () {\n    var elementOrNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    // When passed a node, call the hook straight away.\n    if (!isValidElement(elementOrNode)) {\n      var node = elementOrNode;\n      hook(node, options); // return the node so it can be chained (e.g. when within callback refs\n      // <div ref={node => connectDragSource(connectDropTarget(node))}/>\n\n      return node;\n    } // If passed a ReactElement, clone it and attach this function as a ref.\n    // This helps us achieve a neat API where user doesn't even know that refs\n    // are being used under the hood.\n\n\n    var element = elementOrNode;\n    throwIfCompositeComponentElement(element); // When no options are passed, use the hook directly\n\n    var ref = options ? function (node) {\n      return hook(node, options);\n    } : hook;\n    return cloneWithRef(element, ref);\n  };\n}\n\nexport function wrapConnectorHooks(hooks) {\n  var wrappedHooks = {};\n  Object.keys(hooks).forEach(function (key) {\n    var hook = hooks[key]; // ref objects should be passed straight through without wrapping\n\n    if (key.endsWith('Ref')) {\n      wrappedHooks[key] = hooks[key];\n    } else {\n      var wrappedHook = wrapHookToRecognizeElement(hook);\n\n      wrappedHooks[key] = function () {\n        return wrappedHook;\n      };\n    }\n  });\n  return wrappedHooks;\n}\n\nfunction setRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else {\n    ref.current = node;\n  }\n}\n\nfunction cloneWithRef(element, newRef) {\n  var previousRef = element.ref;\n  invariant(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' + 'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' + 'Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs');\n\n  if (!previousRef) {\n    // When there is no ref on the element, use the new ref directly\n    return cloneElement(element, {\n      ref: newRef\n    });\n  } else {\n    return cloneElement(element, {\n      ref: function ref(node) {\n        setRef(previousRef, node);\n        setRef(newRef, node);\n      }\n    });\n  }\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function isRef(obj) {\n  return (// eslint-disable-next-line no-prototype-builtins\n    obj !== null && _typeof(obj) === 'object' && Object.prototype.hasOwnProperty.call(obj, 'current')\n  );\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { wrapConnectorHooks } from './wrapConnectorHooks';\nimport { isRef } from './isRef';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nexport var SourceConnector = /*#__PURE__*/function () {\n  // The drop target may either be attached via ref or connect function\n  // The drag preview may either be attached via ref or connect function\n  function SourceConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, SourceConnector);\n\n    _defineProperty(this, \"hooks\", wrapConnectorHooks({\n      dragSource: function dragSource(node, options) {\n        _this.clearDragSource();\n\n        _this.dragSourceOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragSourceRef = node;\n        } else {\n          _this.dragSourceNode = node;\n        }\n\n        _this.reconnectDragSource();\n      },\n      dragPreview: function dragPreview(node, options) {\n        _this.clearDragPreview();\n\n        _this.dragPreviewOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragPreviewRef = node;\n        } else {\n          _this.dragPreviewNode = node;\n        }\n\n        _this.reconnectDragPreview();\n      }\n    }));\n\n    _defineProperty(this, \"handlerId\", null);\n\n    _defineProperty(this, \"dragSourceRef\", null);\n\n    _defineProperty(this, \"dragSourceNode\", void 0);\n\n    _defineProperty(this, \"dragSourceOptionsInternal\", null);\n\n    _defineProperty(this, \"dragSourceUnsubscribe\", void 0);\n\n    _defineProperty(this, \"dragPreviewRef\", null);\n\n    _defineProperty(this, \"dragPreviewNode\", void 0);\n\n    _defineProperty(this, \"dragPreviewOptionsInternal\", null);\n\n    _defineProperty(this, \"dragPreviewUnsubscribe\", void 0);\n\n    _defineProperty(this, \"lastConnectedHandlerId\", null);\n\n    _defineProperty(this, \"lastConnectedDragSource\", null);\n\n    _defineProperty(this, \"lastConnectedDragSourceOptions\", null);\n\n    _defineProperty(this, \"lastConnectedDragPreview\", null);\n\n    _defineProperty(this, \"lastConnectedDragPreviewOptions\", null);\n\n    _defineProperty(this, \"backend\", void 0);\n\n    this.backend = backend;\n  }\n\n  _createClass(SourceConnector, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (this.handlerId === newHandlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dragSource;\n    }\n  }, {\n    key: \"dragSourceOptions\",\n    get: function get() {\n      return this.dragSourceOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragSourceOptionsInternal = options;\n    }\n  }, {\n    key: \"dragPreviewOptions\",\n    get: function get() {\n      return this.dragPreviewOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragPreviewOptionsInternal = options;\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      this.reconnectDragSource();\n      this.reconnectDragPreview();\n    }\n  }, {\n    key: \"reconnectDragSource\",\n    value: function reconnectDragSource() {\n      var dragSource = this.dragSource; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragSourceChange() || this.didDragSourceOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragSource();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragSource) {\n        this.lastConnectedDragSource = dragSource;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragSource = dragSource;\n        this.lastConnectedDragSourceOptions = this.dragSourceOptions;\n        this.dragSourceUnsubscribe = this.backend.connectDragSource(this.handlerId, dragSource, this.dragSourceOptions);\n      }\n    }\n  }, {\n    key: \"reconnectDragPreview\",\n    value: function reconnectDragPreview() {\n      var dragPreview = this.dragPreview; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragPreviewChange() || this.didDragPreviewOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragPreview();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragPreview) {\n        this.lastConnectedDragPreview = dragPreview;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragPreview = dragPreview;\n        this.lastConnectedDragPreviewOptions = this.dragPreviewOptions;\n        this.dragPreviewUnsubscribe = this.backend.connectDragPreview(this.handlerId, dragPreview, this.dragPreviewOptions);\n      }\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didConnectedDragSourceChange\",\n    value: function didConnectedDragSourceChange() {\n      return this.lastConnectedDragSource !== this.dragSource;\n    }\n  }, {\n    key: \"didConnectedDragPreviewChange\",\n    value: function didConnectedDragPreviewChange() {\n      return this.lastConnectedDragPreview !== this.dragPreview;\n    }\n  }, {\n    key: \"didDragSourceOptionsChange\",\n    value: function didDragSourceOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragSourceOptions, this.dragSourceOptions);\n    }\n  }, {\n    key: \"didDragPreviewOptionsChange\",\n    value: function didDragPreviewOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragPreviewOptions, this.dragPreviewOptions);\n    }\n  }, {\n    key: \"disconnectDragSource\",\n    value: function disconnectDragSource() {\n      if (this.dragSourceUnsubscribe) {\n        this.dragSourceUnsubscribe();\n        this.dragSourceUnsubscribe = undefined;\n      }\n    }\n  }, {\n    key: \"disconnectDragPreview\",\n    value: function disconnectDragPreview() {\n      if (this.dragPreviewUnsubscribe) {\n        this.dragPreviewUnsubscribe();\n        this.dragPreviewUnsubscribe = undefined;\n        this.dragPreviewNode = null;\n        this.dragPreviewRef = null;\n      }\n    }\n  }, {\n    key: \"dragSource\",\n    get: function get() {\n      return this.dragSourceNode || this.dragSourceRef && this.dragSourceRef.current;\n    }\n  }, {\n    key: \"dragPreview\",\n    get: function get() {\n      return this.dragPreviewNode || this.dragPreviewRef && this.dragPreviewRef.current;\n    }\n  }, {\n    key: \"clearDragSource\",\n    value: function clearDragSource() {\n      this.dragSourceNode = null;\n      this.dragSourceRef = null;\n    }\n  }, {\n    key: \"clearDragPreview\",\n    value: function clearDragPreview() {\n      this.dragPreviewNode = null;\n      this.dragPreviewRef = null;\n    }\n  }]);\n\n  return SourceConnector;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrag = false;\nvar isCallingIsDragging = false;\nexport var DragSourceMonitorImpl = /*#__PURE__*/function () {\n  function DragSourceMonitorImpl(manager) {\n    _classCallCheck(this, DragSourceMonitorImpl);\n\n    _defineProperty(this, \"internalMonitor\", void 0);\n\n    _defineProperty(this, \"sourceId\", null);\n\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DragSourceMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(sourceId) {\n      this.sourceId = sourceId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.sourceId;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      invariant(!isCallingCanDrag, 'You may not call monitor.canDrag() inside your canDrag() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingCanDrag = true;\n        return this.internalMonitor.canDragSource(this.sourceId);\n      } finally {\n        isCallingCanDrag = false;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      if (!this.sourceId) {\n        return false;\n      }\n\n      invariant(!isCallingIsDragging, 'You may not call monitor.isDragging() inside your isDragging() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingIsDragging = true;\n        return this.internalMonitor.isDraggingSource(this.sourceId);\n      } finally {\n        isCallingIsDragging = false;\n      }\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      return this.internalMonitor.isDraggingSource(sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId, options) {\n      return this.internalMonitor.isOverTarget(targetId, options);\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.internalMonitor.getTargetIds();\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return this.internalMonitor.isSourcePublic();\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.internalMonitor.getSourceId();\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      return this.internalMonitor.subscribeToOffsetChange(listener);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      return this.internalMonitor.canDragSource(sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      return this.internalMonitor.canDropOnTarget(targetId);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DragSourceMonitorImpl;\n}();","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function getDecoratedComponent(instanceRef) {\n  var currentRef = instanceRef.current;\n\n  if (currentRef == null) {\n    return null;\n  } else if (currentRef.decoratedRef) {\n    // go through the private field in decorateHandler to avoid the invariant hit\n    return currentRef.decoratedRef.current;\n  } else {\n    return currentRef;\n  }\n}\nexport function isClassComponent(Component) {\n  return Component && Component.prototype && typeof Component.prototype.render === 'function';\n}\nexport function isRefForwardingComponent(C) {\n  var _item$$$typeof;\n\n  var item = C;\n  return (item === null || item === void 0 ? void 0 : (_item$$$typeof = item.$$typeof) === null || _item$$$typeof === void 0 ? void 0 : _item$$$typeof.toString()) === 'Symbol(react.forward_ref)';\n}\nexport function isRefable(C) {\n  return isClassComponent(C) || isRefForwardingComponent(C);\n}\nexport function checkDecoratorArguments(functionName, signature) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var i = 0; i < (arguments.length <= 2 ? 0 : arguments.length - 2); i++) {\n      var arg = i + 2 < 2 || arguments.length <= i + 2 ? undefined : arguments[i + 2];\n\n      if (arg && arg.prototype && arg.prototype.render) {\n        // eslint-disable-next-line no-console\n        console.error('You seem to be applying the arguments in the wrong order. ' + \"It should be \".concat(functionName, \"(\").concat(signature, \")(Component), not the other way around. \") + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#you-seem-to-be-applying-the-arguments-in-the-wrong-order');\n        return;\n      }\n    }\n  }\n}\nexport function isFunction(input) {\n  return typeof input === 'function';\n}\nexport function noop() {// noop\n}\n\nfunction isObjectLike(input) {\n  return _typeof(input) === 'object' && input !== null;\n}\n\nexport function isPlainObject(input) {\n  if (!isObjectLike(input)) {\n    return false;\n  }\n\n  if (Object.getPrototypeOf(input) === null) {\n    return true;\n  }\n\n  var proto = input;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(input) === proto;\n}\nexport function isValidType(type, allowArray) {\n  return typeof type === 'string' || _typeof(type) === 'symbol' || !!allowArray && Array.isArray(type) && type.every(function (t) {\n    return isValidType(t, false);\n  });\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { isFunction, noop } from './utils';\n/**\n * Provides a set of static methods for creating Disposables.\n * @param {Function} action Action to run during the first call to dispose.\n * The action is guaranteed to be run at most once.\n */\n\nexport var Disposable = /*#__PURE__*/function () {\n  function Disposable(action) {\n    _classCallCheck(this, Disposable);\n\n    _defineProperty(this, \"isDisposed\", false);\n\n    _defineProperty(this, \"action\", void 0);\n\n    this.action = isFunction(action) ? action : noop;\n  }\n  /** Performs the task of cleaning up resources. */\n\n\n  _createClass(Disposable, [{\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.action();\n        this.isDisposed = true;\n      }\n    }\n  }], [{\n    key: \"isDisposable\",\n    value:\n    /**\n     * Gets the disposable that does nothing when disposed.\n     */\n\n    /**\n     * Validates whether the given object is a disposable\n     * @param {Object} Object to test whether it has a dispose method\n     * @returns {Boolean} true if a disposable object, else false.\n     */\n    function isDisposable(d) {\n      return Boolean(d && isFunction(d.dispose));\n    }\n  }, {\n    key: \"_fixup\",\n    value: function _fixup(result) {\n      return Disposable.isDisposable(result) ? result : Disposable.empty;\n    }\n    /**\n     * Creates a disposable object that invokes the specified action when disposed.\n     * @param {Function} dispose Action to run during the first call to dispose.\n     * The action is guaranteed to be run at most once.\n     * @return {Disposable} The disposable object that runs the given action upon disposal.\n     */\n\n  }, {\n    key: \"create\",\n    value: function create(action) {\n      return new Disposable(action);\n    }\n  }]);\n\n  return Disposable;\n}();\n/**\n * Represents a group of disposable resources that are disposed together.\n * @constructor\n */\n\n_defineProperty(Disposable, \"empty\", {\n  dispose: noop\n});\n\nexport var CompositeDisposable = /*#__PURE__*/function () {\n  function CompositeDisposable() {\n    _classCallCheck(this, CompositeDisposable);\n\n    _defineProperty(this, \"isDisposed\", false);\n\n    _defineProperty(this, \"disposables\", void 0);\n\n    for (var _len = arguments.length, disposables = new Array(_len), _key = 0; _key < _len; _key++) {\n      disposables[_key] = arguments[_key];\n    }\n\n    this.disposables = disposables;\n  }\n  /**\n   * Adds a disposable to the CompositeDisposable or disposes the disposable if the CompositeDisposable is disposed.\n   * @param {Any} item Disposable to add.\n   */\n\n\n  _createClass(CompositeDisposable, [{\n    key: \"add\",\n    value: function add(item) {\n      if (this.isDisposed) {\n        item.dispose();\n      } else {\n        this.disposables.push(item);\n      }\n    }\n    /**\n     * Removes and disposes the first occurrence of a disposable from the CompositeDisposable.\n     * @param {Any} item Disposable to remove.\n     * @returns {Boolean} true if found; false otherwise.\n     */\n\n  }, {\n    key: \"remove\",\n    value: function remove(item) {\n      var shouldDispose = false;\n\n      if (!this.isDisposed) {\n        var idx = this.disposables.indexOf(item);\n\n        if (idx !== -1) {\n          shouldDispose = true;\n          this.disposables.splice(idx, 1);\n          item.dispose();\n        }\n      }\n\n      return shouldDispose;\n    }\n    /**\n     *  Disposes all disposables in the group and removes them from the group but\n     *  does not dispose the CompositeDisposable.\n     */\n\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      if (!this.isDisposed) {\n        var len = this.disposables.length;\n        var currentDisposables = new Array(len);\n\n        for (var i = 0; i < len; i++) {\n          currentDisposables[i] = this.disposables[i];\n        }\n\n        this.disposables = [];\n\n        for (var _i = 0; _i < len; _i++) {\n          currentDisposables[_i].dispose();\n        }\n      }\n    }\n    /**\n     *  Disposes all disposables in the group and removes them from the group.\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        var len = this.disposables.length;\n        var currentDisposables = new Array(len);\n\n        for (var i = 0; i < len; i++) {\n          currentDisposables[i] = this.disposables[i];\n        }\n\n        this.disposables = [];\n\n        for (var _i2 = 0; _i2 < len; _i2++) {\n          currentDisposables[_i2].dispose();\n        }\n      }\n    }\n  }]);\n\n  return CompositeDisposable;\n}();\n/**\n * Represents a disposable resource whose underlying disposable resource can\n * be replaced by another disposable resource, causing automatic disposal of\n * the previous underlying disposable resource.\n */\n\nexport var SerialDisposable = /*#__PURE__*/function () {\n  function SerialDisposable() {\n    _classCallCheck(this, SerialDisposable);\n\n    _defineProperty(this, \"isDisposed\", false);\n\n    _defineProperty(this, \"current\", void 0);\n  }\n\n  _createClass(SerialDisposable, [{\n    key: \"getDisposable\",\n    value:\n    /**\n     * Gets the underlying disposable.\n     * @returns {Any} the underlying disposable.\n     */\n    function getDisposable() {\n      return this.current;\n    }\n  }, {\n    key: \"setDisposable\",\n    value: function setDisposable(value) {\n      var shouldDispose = this.isDisposed;\n\n      if (!shouldDispose) {\n        var old = this.current;\n        this.current = value;\n\n        if (old) {\n          old.dispose();\n        }\n      }\n\n      if (shouldDispose && value) {\n        value.dispose();\n      }\n    }\n    /** Performs the task of cleaning up resources. */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        var old = this.current;\n        this.current = undefined;\n\n        if (old) {\n          old.dispose();\n        }\n      }\n    }\n  }]);\n\n  return SerialDisposable;\n}();","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { createRef, Component } from 'react';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { invariant } from '@react-dnd/invariant';\nimport { DndContext } from '../core';\nimport { isPlainObject } from './utils';\nimport { Disposable, CompositeDisposable, SerialDisposable } from './disposables';\nimport { isRefable } from './utils';\nimport hoistStatics from 'hoist-non-react-statics';\nexport function decorateHandler(_ref) {\n  var DecoratedComponent = _ref.DecoratedComponent,\n      createHandler = _ref.createHandler,\n      createMonitor = _ref.createMonitor,\n      createConnector = _ref.createConnector,\n      registerHandler = _ref.registerHandler,\n      containerDisplayName = _ref.containerDisplayName,\n      getType = _ref.getType,\n      collect = _ref.collect,\n      options = _ref.options;\n  var _options$arePropsEqua = options.arePropsEqual,\n      arePropsEqual = _options$arePropsEqua === void 0 ? shallowEqual : _options$arePropsEqua;\n  var Decorated = DecoratedComponent;\n  var displayName = DecoratedComponent.displayName || DecoratedComponent.name || 'Component';\n\n  var DragDropContainer = /*#__PURE__*/function (_Component) {\n    _inherits(DragDropContainer, _Component);\n\n    var _super = _createSuper(DragDropContainer);\n\n    function DragDropContainer(props) {\n      var _this;\n\n      _classCallCheck(this, DragDropContainer);\n\n      _this = _super.call(this, props);\n\n      _defineProperty(_assertThisInitialized(_this), \"decoratedRef\", createRef());\n\n      _defineProperty(_assertThisInitialized(_this), \"handlerId\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"manager\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"handlerMonitor\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"handlerConnector\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"handler\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"disposable\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"currentType\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"handleChange\", function () {\n        var nextState = _this.getCurrentState();\n\n        if (!shallowEqual(nextState, _this.state)) {\n          _this.setState(nextState);\n        }\n      });\n\n      _this.disposable = new SerialDisposable();\n\n      _this.receiveProps(props);\n\n      _this.dispose();\n\n      return _this;\n    }\n\n    _createClass(DragDropContainer, [{\n      key: \"getHandlerId\",\n      value: function getHandlerId() {\n        return this.handlerId;\n      }\n    }, {\n      key: \"getDecoratedComponentInstance\",\n      value: function getDecoratedComponentInstance() {\n        invariant(this.decoratedRef.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');\n        return this.decoratedRef.current;\n      }\n    }, {\n      key: \"shouldComponentUpdate\",\n      value: function shouldComponentUpdate(nextProps, nextState) {\n        return !arePropsEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.disposable = new SerialDisposable();\n        this.currentType = undefined;\n        this.receiveProps(this.props);\n        this.handleChange();\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        if (!arePropsEqual(this.props, prevProps)) {\n          this.receiveProps(this.props);\n          this.handleChange();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.dispose();\n      }\n    }, {\n      key: \"receiveProps\",\n      value: function receiveProps(props) {\n        if (!this.handler) {\n          return;\n        }\n\n        this.handler.receiveProps(props);\n        this.receiveType(getType(props));\n      }\n    }, {\n      key: \"receiveType\",\n      value: function receiveType(type) {\n        if (!this.handlerMonitor || !this.manager || !this.handlerConnector) {\n          return;\n        }\n\n        if (type === this.currentType) {\n          return;\n        }\n\n        this.currentType = type;\n\n        var _registerHandler = registerHandler(type, this.handler, this.manager),\n            _registerHandler2 = _slicedToArray(_registerHandler, 2),\n            handlerId = _registerHandler2[0],\n            unregister = _registerHandler2[1];\n\n        this.handlerId = handlerId;\n        this.handlerMonitor.receiveHandlerId(handlerId);\n        this.handlerConnector.receiveHandlerId(handlerId);\n        var globalMonitor = this.manager.getMonitor();\n        var unsubscribe = globalMonitor.subscribeToStateChange(this.handleChange, {\n          handlerIds: [handlerId]\n        });\n        this.disposable.setDisposable(new CompositeDisposable(new Disposable(unsubscribe), new Disposable(unregister)));\n      }\n    }, {\n      key: \"dispose\",\n      value: function dispose() {\n        this.disposable.dispose();\n\n        if (this.handlerConnector) {\n          this.handlerConnector.receiveHandlerId(null);\n        }\n      }\n    }, {\n      key: \"getCurrentState\",\n      value: function getCurrentState() {\n        if (!this.handlerConnector) {\n          return {};\n        }\n\n        var nextState = collect(this.handlerConnector.hooks, this.handlerMonitor, this.props);\n\n        if (process.env.NODE_ENV !== 'production') {\n          invariant(isPlainObject(nextState), 'Expected `collect` specified as the second argument to ' + '%s for %s to return a plain object of props to inject. ' + 'Instead, received %s.', containerDisplayName, displayName, nextState);\n        }\n\n        return nextState;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n\n        return _jsx(DndContext.Consumer, {\n          children: function children(_ref2) {\n            var dragDropManager = _ref2.dragDropManager;\n\n            _this2.receiveDragDropManager(dragDropManager);\n\n            if (typeof requestAnimationFrame !== 'undefined') {\n              requestAnimationFrame(function () {\n                var _this2$handlerConnect;\n\n                return (_this2$handlerConnect = _this2.handlerConnector) === null || _this2$handlerConnect === void 0 ? void 0 : _this2$handlerConnect.reconnect();\n              });\n            }\n\n            return _jsx(Decorated, Object.assign({}, _this2.props, _this2.getCurrentState(), {\n              // NOTE: if Decorated is a Function Component, decoratedRef will not be populated unless it's a refforwarding component.\n              ref: isRefable(Decorated) ? _this2.decoratedRef : null\n            }), void 0);\n          }\n        }, void 0);\n      }\n    }, {\n      key: \"receiveDragDropManager\",\n      value: function receiveDragDropManager(dragDropManager) {\n        if (this.manager !== undefined) {\n          return;\n        }\n\n        invariant(dragDropManager !== undefined, 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to render a DndProvider component in your top-level component. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n\n        if (dragDropManager === undefined) {\n          return;\n        }\n\n        this.manager = dragDropManager;\n        this.handlerMonitor = createMonitor(dragDropManager);\n        this.handlerConnector = createConnector(dragDropManager.getBackend());\n        this.handler = createHandler(this.handlerMonitor, this.decoratedRef);\n      }\n    }]);\n\n    return DragDropContainer;\n  }(Component);\n\n  _defineProperty(DragDropContainer, \"DecoratedComponent\", DecoratedComponent);\n\n  _defineProperty(DragDropContainer, \"displayName\", \"\".concat(containerDisplayName, \"(\").concat(displayName, \")\"));\n\n  return hoistStatics(DragDropContainer, DecoratedComponent);\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { isPlainObject, getDecoratedComponent } from './utils';\nvar ALLOWED_SPEC_METHODS = ['canDrag', 'beginDrag', 'isDragging', 'endDrag'];\nvar REQUIRED_SPEC_METHODS = ['beginDrag'];\n\nvar SourceImpl = /*#__PURE__*/function () {\n  function SourceImpl(spec, monitor, ref) {\n    var _this = this;\n\n    _classCallCheck(this, SourceImpl);\n\n    _defineProperty(this, \"props\", null);\n\n    _defineProperty(this, \"spec\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"ref\", void 0);\n\n    _defineProperty(this, \"beginDrag\", function () {\n      if (!_this.props) {\n        return;\n      }\n\n      var item = _this.spec.beginDrag(_this.props, _this.monitor, _this.ref.current);\n\n      if (process.env.NODE_ENV !== 'production') {\n        invariant(isPlainObject(item), 'beginDrag() must return a plain object that represents the dragged item. ' + 'Instead received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', item);\n      }\n\n      return item;\n    });\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.ref = ref;\n  }\n\n  _createClass(SourceImpl, [{\n    key: \"receiveProps\",\n    value: function receiveProps(props) {\n      this.props = props;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      if (!this.props) {\n        return false;\n      }\n\n      if (!this.spec.canDrag) {\n        return true;\n      }\n\n      return this.spec.canDrag(this.props, this.monitor);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(globalMonitor, sourceId) {\n      if (!this.props) {\n        return false;\n      }\n\n      if (!this.spec.isDragging) {\n        return sourceId === globalMonitor.getSourceId();\n      }\n\n      return this.spec.isDragging(this.props, this.monitor);\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {\n      if (!this.props) {\n        return;\n      }\n\n      if (!this.spec.endDrag) {\n        return;\n      }\n\n      this.spec.endDrag(this.props, this.monitor, getDecoratedComponent(this.ref));\n    }\n  }]);\n\n  return SourceImpl;\n}();\n\nexport function createSourceFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drag source specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', ALLOWED_SPEC_METHODS.join(', '), key);\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);\n  });\n  REQUIRED_SPEC_METHODS.forEach(function (key) {\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);\n  });\n  return function createSource(monitor, ref) {\n    return new SourceImpl(spec, monitor, ref);\n  };\n}","import { invariant } from '@react-dnd/invariant';\nimport { registerSource, DragSourceMonitorImpl, SourceConnector } from '../internals';\nimport { checkDecoratorArguments, isPlainObject, isValidType } from './utils';\nimport { decorateHandler } from './decorateHandler';\nimport { createSourceFactory } from './createSourceFactory';\n/**\n * Decorates a component as a dragsource\n * @param type The dragsource type\n * @param spec The drag source specification\n * @param collect The props collector function\n * @param options DnD options\n */\n\nexport function DragSource(type, spec, collect) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  checkDecoratorArguments('DragSource', 'type, spec, collect[, options]', type, spec, collect, options);\n  var getType = type;\n\n  if (typeof type !== 'function') {\n    invariant(isValidType(type), 'Expected \"type\" provided as the first argument to DragSource to be ' + 'a string, or a function that returns a string given the current props. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', type);\n\n    getType = function getType() {\n      return type;\n    };\n  }\n\n  invariant(isPlainObject(spec), 'Expected \"spec\" provided as the second argument to DragSource to be ' + 'a plain object. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', spec);\n  var createSource = createSourceFactory(spec);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DragSource to be ' + 'a function that returns a plain object of props to inject. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the fourth argument to DragSource to be ' + 'a plain object when specified. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', collect);\n  return function decorateSource(DecoratedComponent) {\n    return decorateHandler({\n      containerDisplayName: 'DragSource',\n      createHandler: createSource,\n      registerHandler: registerSource,\n      createConnector: function createConnector(backend) {\n        return new SourceConnector(backend);\n      },\n      createMonitor: function createMonitor(manager) {\n        return new DragSourceMonitorImpl(manager);\n      },\n      DecoratedComponent: DecoratedComponent,\n      getType: getType,\n      collect: collect,\n      options: options\n    });\n  };\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrop = false;\nexport var DropTargetMonitorImpl = /*#__PURE__*/function () {\n  function DropTargetMonitorImpl(manager) {\n    _classCallCheck(this, DropTargetMonitorImpl);\n\n    _defineProperty(this, \"internalMonitor\", void 0);\n\n    _defineProperty(this, \"targetId\", null);\n\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DropTargetMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(targetId) {\n      this.targetId = targetId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.targetId;\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      // Cut out early if the target id has not been set. This should prevent errors\n      // where the user has an older version of dnd-core like in\n      // https://github.com/react-dnd/react-dnd/issues/1310\n      if (!this.targetId) {\n        return false;\n      }\n\n      invariant(!isCallingCanDrop, 'You may not call monitor.canDrop() inside your canDrop() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor');\n\n      try {\n        isCallingCanDrop = true;\n        return this.internalMonitor.canDropOnTarget(this.targetId);\n      } finally {\n        isCallingCanDrop = false;\n      }\n    }\n  }, {\n    key: \"isOver\",\n    value: function isOver(options) {\n      if (!this.targetId) {\n        return false;\n      }\n\n      return this.internalMonitor.isOverTarget(this.targetId, options);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DropTargetMonitorImpl;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { wrapConnectorHooks } from './wrapConnectorHooks';\nimport { isRef } from './isRef';\nexport var TargetConnector = /*#__PURE__*/function () {\n  // The drop target may either be attached via ref or connect function\n  function TargetConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, TargetConnector);\n\n    _defineProperty(this, \"hooks\", wrapConnectorHooks({\n      dropTarget: function dropTarget(node, options) {\n        _this.clearDropTarget();\n\n        _this.dropTargetOptions = options;\n\n        if (isRef(node)) {\n          _this.dropTargetRef = node;\n        } else {\n          _this.dropTargetNode = node;\n        }\n\n        _this.reconnect();\n      }\n    }));\n\n    _defineProperty(this, \"handlerId\", null);\n\n    _defineProperty(this, \"dropTargetRef\", null);\n\n    _defineProperty(this, \"dropTargetNode\", void 0);\n\n    _defineProperty(this, \"dropTargetOptionsInternal\", null);\n\n    _defineProperty(this, \"unsubscribeDropTarget\", void 0);\n\n    _defineProperty(this, \"lastConnectedHandlerId\", null);\n\n    _defineProperty(this, \"lastConnectedDropTarget\", null);\n\n    _defineProperty(this, \"lastConnectedDropTargetOptions\", null);\n\n    _defineProperty(this, \"backend\", void 0);\n\n    this.backend = backend;\n  }\n\n  _createClass(TargetConnector, [{\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dropTarget;\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      // if nothing has changed then don't resubscribe\n      var didChange = this.didHandlerIdChange() || this.didDropTargetChange() || this.didOptionsChange();\n\n      if (didChange) {\n        this.disconnectDropTarget();\n      }\n\n      var dropTarget = this.dropTarget;\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dropTarget) {\n        this.lastConnectedDropTarget = dropTarget;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDropTarget = dropTarget;\n        this.lastConnectedDropTargetOptions = this.dropTargetOptions;\n        this.unsubscribeDropTarget = this.backend.connectDropTarget(this.handlerId, dropTarget, this.dropTargetOptions);\n      }\n    }\n  }, {\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (newHandlerId === this.handlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"dropTargetOptions\",\n    get: function get() {\n      return this.dropTargetOptionsInternal;\n    },\n    set: function set(options) {\n      this.dropTargetOptionsInternal = options;\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didDropTargetChange\",\n    value: function didDropTargetChange() {\n      return this.lastConnectedDropTarget !== this.dropTarget;\n    }\n  }, {\n    key: \"didOptionsChange\",\n    value: function didOptionsChange() {\n      return !shallowEqual(this.lastConnectedDropTargetOptions, this.dropTargetOptions);\n    }\n  }, {\n    key: \"disconnectDropTarget\",\n    value: function disconnectDropTarget() {\n      if (this.unsubscribeDropTarget) {\n        this.unsubscribeDropTarget();\n        this.unsubscribeDropTarget = undefined;\n      }\n    }\n  }, {\n    key: \"dropTarget\",\n    get: function get() {\n      return this.dropTargetNode || this.dropTargetRef && this.dropTargetRef.current;\n    }\n  }, {\n    key: \"clearDropTarget\",\n    value: function clearDropTarget() {\n      this.dropTargetRef = null;\n      this.dropTargetNode = null;\n    }\n  }]);\n\n  return TargetConnector;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { isPlainObject, getDecoratedComponent } from './utils';\nvar ALLOWED_SPEC_METHODS = ['canDrop', 'hover', 'drop'];\n\nvar TargetImpl = /*#__PURE__*/function () {\n  function TargetImpl(spec, monitor, ref) {\n    _classCallCheck(this, TargetImpl);\n\n    _defineProperty(this, \"props\", null);\n\n    _defineProperty(this, \"spec\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"ref\", void 0);\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.ref = ref;\n  }\n\n  _createClass(TargetImpl, [{\n    key: \"receiveProps\",\n    value: function receiveProps(props) {\n      this.props = props;\n    }\n  }, {\n    key: \"receiveMonitor\",\n    value: function receiveMonitor(monitor) {\n      this.monitor = monitor;\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      if (!this.spec.canDrop) {\n        return true;\n      }\n\n      return this.spec.canDrop(this.props, this.monitor);\n    }\n  }, {\n    key: \"hover\",\n    value: function hover() {\n      if (!this.spec.hover || !this.props) {\n        return;\n      }\n\n      this.spec.hover(this.props, this.monitor, getDecoratedComponent(this.ref));\n    }\n  }, {\n    key: \"drop\",\n    value: function drop() {\n      if (!this.spec.drop) {\n        return undefined;\n      }\n\n      var dropResult = this.spec.drop(this.props, this.monitor, this.ref.current);\n\n      if (process.env.NODE_ENV !== 'production') {\n        invariant(typeof dropResult === 'undefined' || isPlainObject(dropResult), 'drop() must either return undefined, or an object that represents the drop result. ' + 'Instead received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', dropResult);\n      }\n\n      return dropResult;\n    }\n  }]);\n\n  return TargetImpl;\n}();\n\nexport function createTargetFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drop target specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', ALLOWED_SPEC_METHODS.join(', '), key);\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drop target specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', key, key, spec[key]);\n  });\n  return function createTarget(monitor, ref) {\n    return new TargetImpl(spec, monitor, ref);\n  };\n}","import { invariant } from '@react-dnd/invariant';\nimport { TargetConnector, DropTargetMonitorImpl, registerTarget } from '../internals';\nimport { isPlainObject, isValidType } from './utils';\nimport { checkDecoratorArguments } from './utils';\nimport { decorateHandler } from './decorateHandler';\nimport { createTargetFactory } from './createTargetFactory';\n/**\n * @param type The accepted target type\n * @param spec The DropTarget specification\n * @param collect The props collector function\n * @param options Options\n */\n\nexport function DropTarget(type, spec, collect) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  checkDecoratorArguments('DropTarget', 'type, spec, collect[, options]', type, spec, collect, options);\n  var getType = type;\n\n  if (typeof type !== 'function') {\n    invariant(isValidType(type, true), 'Expected \"type\" provided as the first argument to DropTarget to be ' + 'a string, an array of strings, or a function that returns either given ' + 'the current props. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', type);\n\n    getType = function getType() {\n      return type;\n    };\n  }\n\n  invariant(isPlainObject(spec), 'Expected \"spec\" provided as the second argument to DropTarget to be ' + 'a plain object. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', spec);\n  var createTarget = createTargetFactory(spec);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DropTarget to be ' + 'a function that returns a plain object of props to inject. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the fourth argument to DropTarget to be ' + 'a plain object when specified. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);\n  return function decorateTarget(DecoratedComponent) {\n    return decorateHandler({\n      containerDisplayName: 'DropTarget',\n      createHandler: createTarget,\n      registerHandler: registerTarget,\n      createMonitor: function createMonitor(manager) {\n        return new DropTargetMonitorImpl(manager);\n      },\n      createConnector: function createConnector(backend) {\n        return new TargetConnector(backend);\n      },\n      DecoratedComponent: DecoratedComponent,\n      getType: getType,\n      collect: collect,\n      options: options\n    });\n  };\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { createRef, Component } from 'react';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { invariant } from '@react-dnd/invariant';\nimport hoistStatics from 'hoist-non-react-statics';\nimport { DndContext } from '../core';\nimport { isRefable, checkDecoratorArguments, isPlainObject } from './utils';\n/**\n * @param collect The props collector function\n * @param options The DnD options\n */\n\nexport function DragLayer(collect) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  checkDecoratorArguments('DragLayer', 'collect[, options]', collect, options);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ', 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the second argument to DragLayer to be a plain object when specified. ' + 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', options);\n  return function decorateLayer(DecoratedComponent) {\n    var Decorated = DecoratedComponent;\n    var _options$arePropsEqua = options.arePropsEqual,\n        arePropsEqual = _options$arePropsEqua === void 0 ? shallowEqual : _options$arePropsEqua;\n    var displayName = Decorated.displayName || Decorated.name || 'Component';\n\n    var DragLayerContainer = /*#__PURE__*/function (_Component) {\n      _inherits(DragLayerContainer, _Component);\n\n      var _super = _createSuper(DragLayerContainer);\n\n      function DragLayerContainer() {\n        var _this;\n\n        _classCallCheck(this, DragLayerContainer);\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        _this = _super.call.apply(_super, [this].concat(args));\n\n        _defineProperty(_assertThisInitialized(_this), \"manager\", void 0);\n\n        _defineProperty(_assertThisInitialized(_this), \"isCurrentlyMounted\", false);\n\n        _defineProperty(_assertThisInitialized(_this), \"unsubscribeFromOffsetChange\", void 0);\n\n        _defineProperty(_assertThisInitialized(_this), \"unsubscribeFromStateChange\", void 0);\n\n        _defineProperty(_assertThisInitialized(_this), \"ref\", createRef());\n\n        _defineProperty(_assertThisInitialized(_this), \"handleChange\", function () {\n          if (!_this.isCurrentlyMounted) {\n            return;\n          }\n\n          var nextState = _this.getCurrentState();\n\n          if (!shallowEqual(nextState, _this.state)) {\n            _this.setState(nextState);\n          }\n        });\n\n        return _this;\n      }\n\n      _createClass(DragLayerContainer, [{\n        key: \"getDecoratedComponentInstance\",\n        value: function getDecoratedComponentInstance() {\n          invariant(this.ref.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');\n          return this.ref.current;\n        }\n      }, {\n        key: \"shouldComponentUpdate\",\n        value: function shouldComponentUpdate(nextProps, nextState) {\n          return !arePropsEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n        }\n      }, {\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          this.isCurrentlyMounted = true;\n          this.handleChange();\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          this.isCurrentlyMounted = false;\n\n          if (this.unsubscribeFromOffsetChange) {\n            this.unsubscribeFromOffsetChange();\n            this.unsubscribeFromOffsetChange = undefined;\n          }\n\n          if (this.unsubscribeFromStateChange) {\n            this.unsubscribeFromStateChange();\n            this.unsubscribeFromStateChange = undefined;\n          }\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          var _this2 = this;\n\n          return _jsx(DndContext.Consumer, {\n            children: function children(_ref) {\n              var dragDropManager = _ref.dragDropManager;\n\n              if (dragDropManager === undefined) {\n                return null;\n              }\n\n              _this2.receiveDragDropManager(dragDropManager); // Let componentDidMount fire to initialize the collected state\n\n\n              if (!_this2.isCurrentlyMounted) {\n                return null;\n              }\n\n              return _jsx(Decorated, Object.assign({}, _this2.props, _this2.state, {\n                ref: isRefable(Decorated) ? _this2.ref : null\n              }), void 0);\n            }\n          }, void 0);\n        }\n      }, {\n        key: \"receiveDragDropManager\",\n        value: function receiveDragDropManager(dragDropManager) {\n          if (this.manager !== undefined) {\n            return;\n          }\n\n          this.manager = dragDropManager;\n          invariant(_typeof(dragDropManager) === 'object', 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to render a DndProvider component in your top-level component. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n          var monitor = this.manager.getMonitor();\n          this.unsubscribeFromOffsetChange = monitor.subscribeToOffsetChange(this.handleChange);\n          this.unsubscribeFromStateChange = monitor.subscribeToStateChange(this.handleChange);\n        }\n      }, {\n        key: \"getCurrentState\",\n        value: function getCurrentState() {\n          if (!this.manager) {\n            return {};\n          }\n\n          var monitor = this.manager.getMonitor();\n          return collect(monitor, this.props);\n        }\n      }]);\n\n      return DragLayerContainer;\n    }(Component);\n\n    _defineProperty(DragLayerContainer, \"displayName\", \"DragLayer(\".concat(displayName, \")\"));\n\n    _defineProperty(DragLayerContainer, \"DecoratedComponent\", DecoratedComponent);\n\n    return hoistStatics(DragLayerContainer, DecoratedComponent);\n  };\n}","import { useLayoutEffect, useEffect } from 'react'; // suppress the useLayoutEffect warning on server side.\n\nexport var useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var DragSourceImpl = /*#__PURE__*/function () {\n  function DragSourceImpl(spec, monitor, connector) {\n    _classCallCheck(this, DragSourceImpl);\n\n    _defineProperty(this, \"spec\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"connector\", void 0);\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.connector = connector;\n  }\n\n  _createClass(DragSourceImpl, [{\n    key: \"beginDrag\",\n    value: function beginDrag() {\n      var _result;\n\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var result = null;\n\n      if (_typeof(spec.item) === 'object') {\n        result = spec.item;\n      } else if (typeof spec.item === 'function') {\n        result = spec.item(monitor);\n      } else {\n        result = {};\n      }\n\n      return (_result = result) !== null && _result !== void 0 ? _result : null;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (typeof spec.canDrag === 'boolean') {\n        return spec.canDrag;\n      } else if (typeof spec.canDrag === 'function') {\n        return spec.canDrag(monitor);\n      } else {\n        return true;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(globalMonitor, target) {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var isDragging = spec.isDragging;\n      return isDragging ? isDragging(monitor) : target === globalMonitor.getSourceId();\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var connector = this.connector;\n      var end = spec.end;\n\n      if (end) {\n        end(monitor.getItem(), monitor);\n      }\n\n      connector.reconnect();\n    }\n  }]);\n\n  return DragSourceImpl;\n}();","import { useContext } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { DndContext } from '../core';\n/**\n * A hook to retrieve the DragDropManager from Context\n */\n\nexport function useDragDropManager() {\n  var _useContext = useContext(DndContext),\n      dragDropManager = _useContext.dragDropManager;\n\n  invariant(dragDropManager != null, 'Expected drag drop context');\n  return dragDropManager;\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { registerSource } from '../../internals';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nimport { useDragSource } from './useDragSource';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useDragType } from './useDragType';\nexport function useRegisteredDragSource(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var handler = useDragSource(spec, monitor, connector);\n  var itemType = useDragType(spec);\n  useIsomorphicLayoutEffect(function registerDragSource() {\n    if (itemType != null) {\n      var _registerSource = registerSource(itemType, handler, manager),\n          _registerSource2 = _slicedToArray(_registerSource, 2),\n          handlerId = _registerSource2[0],\n          unregister = _registerSource2[1];\n\n      monitor.receiveHandlerId(handlerId);\n      connector.receiveHandlerId(handlerId);\n      return unregister;\n    }\n  }, [manager, monitor, connector, handler, itemType]);\n}","import { useEffect, useMemo } from 'react';\nimport { DragSourceImpl } from './DragSourceImpl';\nexport function useDragSource(spec, monitor, connector) {\n  var handler = useMemo(function () {\n    return new DragSourceImpl(spec, monitor, connector);\n  }, [monitor, connector]);\n  useEffect(function () {\n    handler.spec = spec;\n  }, [spec]);\n  return handler;\n}","import { invariant } from '@react-dnd/invariant';\nimport { useMemo } from 'react';\nexport function useDragType(spec) {\n  return useMemo(function () {\n    var result = spec.type;\n    invariant(result != null, 'spec.type must be defined');\n    return result;\n  }, [spec]);\n}","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { useMemo } from 'react';\nexport function useOptionalFactory(arg, deps) {\n  var memoDeps = _toConsumableArray(deps || []);\n\n  if (deps == null && typeof arg !== 'function') {\n    memoDeps.push(arg);\n  }\n\n  return useMemo(function () {\n    return typeof arg === 'function' ? arg() : arg;\n  }, memoDeps);\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport equal from 'fast-deep-equal';\nimport { useState, useCallback } from 'react';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\n/**\n *\n * @param monitor The monitor to collect state from\n * @param collect The collecting function\n * @param onUpdate A method to invoke when updates occur\n */\n\nexport function useCollector(monitor, collect, onUpdate) {\n  var _useState = useState(function () {\n    return collect(monitor);\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      collected = _useState2[0],\n      setCollected = _useState2[1];\n\n  var updateCollected = useCallback(function () {\n    var nextValue = collect(monitor); // This needs to be a deep-equality check because some monitor-collected values\n    // include XYCoord objects that may be equivalent, but do not have instance equality.\n\n    if (!equal(collected, nextValue)) {\n      setCollected(nextValue);\n\n      if (onUpdate) {\n        onUpdate();\n      }\n    }\n  }, [collected, monitor, onUpdate]); // update the collected properties after react renders.\n  // Note that the \"Dustbin Stress Test\" fails if this is not\n  // done when the component updates\n\n  useIsomorphicLayoutEffect(updateCollected);\n  return [collected, updateCollected];\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nimport { useCollector } from './useCollector';\nexport function useMonitorOutput(monitor, collect, onCollect) {\n  var _useCollector = useCollector(monitor, collect, onCollect),\n      _useCollector2 = _slicedToArray(_useCollector, 2),\n      collected = _useCollector2[0],\n      updateCollected = _useCollector2[1];\n\n  useIsomorphicLayoutEffect(function subscribeToMonitorStateChange() {\n    var handlerId = monitor.getHandlerId();\n\n    if (handlerId == null) {\n      return;\n    }\n\n    return monitor.subscribeToStateChange(updateCollected, {\n      handlerIds: [handlerId]\n    });\n  }, [monitor, updateCollected]);\n  return collected;\n}","import { useMonitorOutput } from './useMonitorOutput';\nexport function useCollectedProps(collector, monitor, connector) {\n  return useMonitorOutput(monitor, collector || function () {\n    return {};\n  }, function () {\n    return connector.reconnect();\n  });\n}","import { useMemo } from 'react';\nexport function useConnectDragSource(connector) {\n  return useMemo(function () {\n    return connector.hooks.dragSource();\n  }, [connector]);\n}\nexport function useConnectDragPreview(connector) {\n  return useMemo(function () {\n    return connector.hooks.dragPreview();\n  }, [connector]);\n}","import { useRegisteredDragSource } from './useRegisteredDragSource';\nimport { useOptionalFactory } from '../useOptionalFactory';\nimport { useDragSourceMonitor } from './useDragSourceMonitor';\nimport { useDragSourceConnector } from './useDragSourceConnector';\nimport { useCollectedProps } from '../useCollectedProps';\nimport { useConnectDragPreview, useConnectDragSource } from './connectors';\nimport { invariant } from '@react-dnd/invariant';\n/**\n * useDragSource hook\n * @param sourceSpec The drag source specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\n\nexport function useDrag(specArg, deps) {\n  var spec = useOptionalFactory(specArg, deps);\n  invariant(!spec.begin, \"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)\");\n  var monitor = useDragSourceMonitor();\n  var connector = useDragSourceConnector(spec.options, spec.previewOptions);\n  useRegisteredDragSource(spec, monitor, connector);\n  return [useCollectedProps(spec.collect, monitor, connector), useConnectDragSource(connector), useConnectDragPreview(connector)];\n}","import { useMemo } from 'react';\nimport { DragSourceMonitorImpl } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nexport function useDragSourceMonitor() {\n  var manager = useDragDropManager();\n  return useMemo(function () {\n    return new DragSourceMonitorImpl(manager);\n  }, [manager]);\n}","import { useMemo } from 'react';\nimport { SourceConnector } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nexport function useDragSourceConnector(dragSourceOptions, dragPreviewOptions) {\n  var manager = useDragDropManager();\n  var connector = useMemo(function () {\n    return new SourceConnector(manager.getBackend());\n  }, [manager]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragSourceOptions = dragSourceOptions || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDragSource();\n    };\n  }, [connector, dragSourceOptions]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragPreviewOptions = dragPreviewOptions || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDragPreview();\n    };\n  }, [connector, dragPreviewOptions]);\n  return connector;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var DropTargetImpl = /*#__PURE__*/function () {\n  function DropTargetImpl(spec, monitor) {\n    _classCallCheck(this, DropTargetImpl);\n\n    _defineProperty(this, \"spec\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    this.spec = spec;\n    this.monitor = monitor;\n  }\n\n  _createClass(DropTargetImpl, [{\n    key: \"canDrop\",\n    value: function canDrop() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      return spec.canDrop ? spec.canDrop(monitor.getItem(), monitor) : true;\n    }\n  }, {\n    key: \"hover\",\n    value: function hover() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (spec.hover) {\n        spec.hover(monitor.getItem(), monitor);\n      }\n    }\n  }, {\n    key: \"drop\",\n    value: function drop() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (spec.drop) {\n        return spec.drop(monitor.getItem(), monitor);\n      }\n    }\n  }]);\n\n  return DropTargetImpl;\n}();","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { registerTarget } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nimport { useAccept } from './useAccept';\nimport { useDropTarget } from './useDropTarget';\nexport function useRegisteredDropTarget(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var dropTarget = useDropTarget(spec, monitor);\n  var accept = useAccept(spec);\n  useIsomorphicLayoutEffect(function registerDropTarget() {\n    var _registerTarget = registerTarget(accept, dropTarget, manager),\n        _registerTarget2 = _slicedToArray(_registerTarget, 2),\n        handlerId = _registerTarget2[0],\n        unregister = _registerTarget2[1];\n\n    monitor.receiveHandlerId(handlerId);\n    connector.receiveHandlerId(handlerId);\n    return unregister;\n  }, [manager, monitor, dropTarget, connector, accept.map(function (a) {\n    return a.toString();\n  }).join('|')]);\n}","import { useEffect, useMemo } from 'react';\nimport { DropTargetImpl } from './DropTargetImpl';\nexport function useDropTarget(spec, monitor) {\n  var dropTarget = useMemo(function () {\n    return new DropTargetImpl(spec, monitor);\n  }, [monitor]);\n  useEffect(function () {\n    dropTarget.spec = spec;\n  }, [spec]);\n  return dropTarget;\n}","import { invariant } from '@react-dnd/invariant';\nimport { useMemo } from 'react';\n/**\n * Internal utility hook to get an array-version of spec.accept.\n * The main utility here is that we aren't creating a new array on every render if a non-array spec.accept is passed in.\n * @param spec\n */\n\nexport function useAccept(spec) {\n  var accept = spec.accept;\n  return useMemo(function () {\n    invariant(spec.accept != null, 'accept must be defined');\n    return Array.isArray(accept) ? accept : [accept];\n  }, [accept]);\n}","import { useMemo } from 'react';\nexport function useConnectDropTarget(connector) {\n  return useMemo(function () {\n    return connector.hooks.dropTarget();\n  }, [connector]);\n}","import { useRegisteredDropTarget } from './useRegisteredDropTarget';\nimport { useOptionalFactory } from '../useOptionalFactory';\nimport { useDropTargetMonitor } from './useDropTargetMonitor';\nimport { useDropTargetConnector } from './useDropTargetConnector';\nimport { useCollectedProps } from '../useCollectedProps';\nimport { useConnectDropTarget } from './connectors';\n/**\n * useDropTarget Hook\n * @param spec The drop target specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\n\nexport function useDrop(specArg, deps) {\n  var spec = useOptionalFactory(specArg, deps);\n  var monitor = useDropTargetMonitor();\n  var connector = useDropTargetConnector(spec.options);\n  useRegisteredDropTarget(spec, monitor, connector);\n  return [useCollectedProps(spec.collect, monitor, connector), useConnectDropTarget(connector)];\n}","import { useMemo } from 'react';\nimport { DropTargetMonitorImpl } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nexport function useDropTargetMonitor() {\n  var manager = useDragDropManager();\n  return useMemo(function () {\n    return new DropTargetMonitorImpl(manager);\n  }, [manager]);\n}","import { useMemo } from 'react';\nimport { TargetConnector } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nexport function useDropTargetConnector(options) {\n  var manager = useDragDropManager();\n  var connector = useMemo(function () {\n    return new TargetConnector(manager.getBackend());\n  }, [manager]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dropTargetOptions = options || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDropTarget();\n    };\n  }, [options]);\n  return connector;\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useEffect } from 'react';\nimport { useDragDropManager } from './useDragDropManager';\nimport { useCollector } from './useCollector';\n/**\n * useDragLayer Hook\n * @param collector The property collector\n */\n\nexport function useDragLayer(collect) {\n  var dragDropManager = useDragDropManager();\n  var monitor = dragDropManager.getMonitor();\n\n  var _useCollector = useCollector(monitor, collect),\n      _useCollector2 = _slicedToArray(_useCollector, 2),\n      collected = _useCollector2[0],\n      updateCollected = _useCollector2[1];\n\n  useEffect(function () {\n    return monitor.subscribeToOffsetChange(updateCollected);\n  });\n  useEffect(function () {\n    return monitor.subscribeToStateChange(updateCollected);\n  });\n  return collected;\n}","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar jsxRuntime = require('react/jsx-runtime');\nvar React = require('react');\nvar withScrolling = require('@nosferatu500/react-dnd-scrollzone');\nvar isEqual = require('lodash.isequal');\nvar reactDnd = require('react-dnd');\nvar reactDndHtml5Backend = require('react-dnd-html5-backend');\nvar reactVirtuoso = require('react-virtuoso');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nvar React__default = /*#__PURE__*/_interopDefaultLegacy(React);\nvar withScrolling__default = /*#__PURE__*/_interopDefaultLegacy(withScrolling);\nvar isEqual__default = /*#__PURE__*/_interopDefaultLegacy(isEqual);\n\nconst defaultGetNodeKey = ({\n  treeIndex\n}) => treeIndex;\n\nconst getReactElementText = parent => {\n  if (typeof parent === \"string\") {\n    return parent;\n  }\n\n  if (parent === undefined || typeof parent !== \"object\" || !parent.props || !parent.props.children || typeof parent.props.children !== \"string\" && typeof parent.props.children !== \"object\") {\n    return \"\";\n  }\n\n  if (typeof parent.props.children === \"string\") {\n    return parent.props.children;\n  }\n\n  return parent.props.children.map(child => getReactElementText(child)).join(\"\");\n};\n\nconst stringSearch = (key, searchQuery, node, path, treeIndex) => {\n  if (typeof node[key] === \"function\") {\n    return String(node[key]({\n      node,\n      path,\n      treeIndex\n    })).includes(searchQuery);\n  }\n\n  if (typeof node[key] === \"object\") {\n    return getReactElementText(node[key]).includes(searchQuery);\n  }\n\n  return node[key] && String(node[key]).includes(searchQuery);\n};\n\nconst defaultSearchMethod = ({\n  node,\n  path,\n  treeIndex,\n  searchQuery\n}) => {\n  return stringSearch(\"title\", searchQuery, node, path, treeIndex) || stringSearch(\"subtitle\", searchQuery, node, path, treeIndex);\n};\n\nconst getNodeDataAtTreeIndexOrNextIndex = ({\n  targetIndex,\n  node,\n  currentIndex,\n  getNodeKey,\n  path = [],\n  lowerSiblingCounts = [],\n  ignoreCollapsed = true,\n  isPseudoRoot = false\n}) => {\n  const selfPath = !isPseudoRoot ? [...path, getNodeKey({\n    node,\n    treeIndex: currentIndex\n  })] : [];\n\n  if (currentIndex === targetIndex) {\n    return {\n      node,\n      lowerSiblingCounts,\n      path: selfPath\n    };\n  }\n\n  if (!node.children || ignoreCollapsed && node.expanded !== true) {\n    return {\n      nextIndex: currentIndex + 1\n    };\n  }\n\n  let childIndex = currentIndex + 1;\n  const childCount = node.children.length;\n\n  for (let i = 0; i < childCount; i += 1) {\n    const result = getNodeDataAtTreeIndexOrNextIndex({\n      ignoreCollapsed,\n      getNodeKey,\n      targetIndex,\n      node: node.children[i],\n      currentIndex: childIndex,\n      lowerSiblingCounts: [...lowerSiblingCounts, childCount - i - 1],\n      path: selfPath\n    });\n\n    if (result.node) {\n      return result;\n    }\n\n    childIndex = result.nextIndex;\n  }\n\n  return {\n    nextIndex: childIndex\n  };\n};\n\nconst getDescendantCount = ({\n  node,\n  ignoreCollapsed = true\n}) => {\n  return getNodeDataAtTreeIndexOrNextIndex({\n    getNodeKey: () => {},\n    ignoreCollapsed,\n    node,\n    currentIndex: 0,\n    targetIndex: -1\n  }).nextIndex - 1;\n};\n\nconst walkDescendants = ({\n  callback,\n  getNodeKey,\n  ignoreCollapsed,\n  isPseudoRoot = false,\n  node,\n  parentNode = undefined,\n  currentIndex,\n  path = [],\n  lowerSiblingCounts = []\n}) => {\n  const selfPath = isPseudoRoot ? [] : [...path, getNodeKey({\n    node,\n    treeIndex: currentIndex\n  })];\n  const selfInfo = isPseudoRoot ? undefined : {\n    node,\n    parentNode,\n    path: selfPath,\n    lowerSiblingCounts,\n    treeIndex: currentIndex\n  };\n\n  if (!isPseudoRoot) {\n    const callbackResult = callback(selfInfo);\n\n    if (callbackResult === false) {\n      return false;\n    }\n  }\n\n  if (!node.children || node.expanded !== true && ignoreCollapsed && !isPseudoRoot) {\n    return currentIndex;\n  }\n\n  let childIndex = currentIndex;\n  const childCount = node.children.length;\n\n  if (typeof node.children !== \"function\") {\n    for (let i = 0; i < childCount; i += 1) {\n      childIndex = walkDescendants({\n        callback,\n        getNodeKey,\n        ignoreCollapsed,\n        node: node.children[i],\n        parentNode: isPseudoRoot ? undefined : node,\n        currentIndex: childIndex + 1,\n        lowerSiblingCounts: [...lowerSiblingCounts, childCount - i - 1],\n        path: selfPath\n      });\n\n      if (childIndex === false) {\n        return false;\n      }\n    }\n  }\n\n  return childIndex;\n};\n\nconst mapDescendants = ({\n  callback,\n  getNodeKey,\n  ignoreCollapsed,\n  isPseudoRoot = false,\n  node,\n  parentNode = undefined,\n  currentIndex,\n  path = [],\n  lowerSiblingCounts = []\n}) => {\n  const nextNode = { ...node\n  };\n  const selfPath = isPseudoRoot ? [] : [...path, getNodeKey({\n    node: nextNode,\n    treeIndex: currentIndex\n  })];\n  const selfInfo = {\n    node: nextNode,\n    parentNode,\n    path: selfPath,\n    lowerSiblingCounts,\n    treeIndex: currentIndex\n  };\n\n  if (!nextNode.children || nextNode.expanded !== true && ignoreCollapsed && !isPseudoRoot) {\n    return {\n      treeIndex: currentIndex,\n      node: callback(selfInfo)\n    };\n  }\n\n  let childIndex = currentIndex;\n  const childCount = nextNode.children.length;\n\n  if (typeof nextNode.children !== \"function\") {\n    nextNode.children = nextNode.children.map((child, i) => {\n      const mapResult = mapDescendants({\n        callback,\n        getNodeKey,\n        ignoreCollapsed,\n        node: child,\n        parentNode: isPseudoRoot ? undefined : nextNode,\n        currentIndex: childIndex + 1,\n        lowerSiblingCounts: [...lowerSiblingCounts, childCount - i - 1],\n        path: selfPath\n      });\n      childIndex = mapResult.treeIndex;\n      return mapResult.node;\n    });\n  }\n\n  return {\n    node: callback(selfInfo),\n    treeIndex: childIndex\n  };\n};\n\nconst getVisibleNodeCount = ({\n  treeData\n}) => {\n  const traverse = node => {\n    if (!node.children || node.expanded !== true || typeof node.children === \"function\") {\n      return 1;\n    }\n\n    return 1 + node.children.reduce((total, currentNode) => total + traverse(currentNode), 0);\n  };\n\n  return treeData.reduce((total, currentNode) => total + traverse(currentNode), 0);\n};\nconst getVisibleNodeInfoAtIndex = ({\n  treeData,\n  index: targetIndex,\n  getNodeKey\n}) => {\n  if (!treeData || treeData.length === 0) {\n    return undefined;\n  }\n\n  const result = getNodeDataAtTreeIndexOrNextIndex({\n    targetIndex,\n    getNodeKey,\n    node: {\n      children: treeData,\n      expanded: true\n    },\n    currentIndex: -1,\n    path: [],\n    lowerSiblingCounts: [],\n    isPseudoRoot: true\n  });\n\n  if (result.node) {\n    return result;\n  }\n\n  return undefined;\n};\nconst walk = ({\n  treeData,\n  getNodeKey,\n  callback,\n  ignoreCollapsed = true\n}) => {\n  if (!treeData || treeData.length === 0) {\n    return;\n  }\n\n  walkDescendants({\n    callback,\n    getNodeKey,\n    ignoreCollapsed,\n    isPseudoRoot: true,\n    node: {\n      children: treeData\n    },\n    currentIndex: -1,\n    path: [],\n    lowerSiblingCounts: []\n  });\n};\nconst map = ({\n  treeData,\n  getNodeKey,\n  callback,\n  ignoreCollapsed = true\n}) => {\n  if (!treeData || treeData.length === 0) {\n    return [];\n  }\n\n  return mapDescendants({\n    callback,\n    getNodeKey,\n    ignoreCollapsed,\n    isPseudoRoot: true,\n    node: {\n      children: treeData\n    },\n    currentIndex: -1,\n    path: [],\n    lowerSiblingCounts: []\n  }).node.children;\n};\nconst toggleExpandedForAll = ({\n  treeData,\n  expanded = true\n}) => {\n  return map({\n    treeData,\n    callback: ({\n      node\n    }) => ({ ...node,\n      expanded\n    }),\n    getNodeKey: ({\n      treeIndex\n    }) => treeIndex,\n    ignoreCollapsed: false\n  });\n};\nconst changeNodeAtPath = ({\n  treeData,\n  path,\n  newNode,\n  getNodeKey,\n  ignoreCollapsed = true\n}) => {\n  const RESULT_MISS = \"RESULT_MISS\";\n\n  const traverse = ({\n    isPseudoRoot = false,\n    node,\n    currentTreeIndex,\n    pathIndex\n  }) => {\n    if (!isPseudoRoot && getNodeKey({\n      node,\n      treeIndex: currentTreeIndex\n    }) !== path[pathIndex]) {\n      return RESULT_MISS;\n    }\n\n    if (pathIndex >= path.length - 1) {\n      return typeof newNode === \"function\" ? newNode({\n        node,\n        treeIndex: currentTreeIndex\n      }) : newNode;\n    }\n\n    if (!node.children) {\n      throw new Error(\"Path referenced children of node with no children.\");\n    }\n\n    let nextTreeIndex = currentTreeIndex + 1;\n\n    for (let i = 0; i < node.children.length; i += 1) {\n      const result = traverse({\n        node: node.children[i],\n        currentTreeIndex: nextTreeIndex,\n        pathIndex: pathIndex + 1\n      });\n\n      if (result !== RESULT_MISS) {\n        if (result) {\n          return { ...node,\n            children: [...node.children.slice(0, i), result, ...node.children.slice(i + 1)]\n          };\n        }\n\n        return { ...node,\n          children: [...node.children.slice(0, i), ...node.children.slice(i + 1)]\n        };\n      }\n\n      nextTreeIndex += 1 + getDescendantCount({\n        node: node.children[i],\n        ignoreCollapsed\n      });\n    }\n\n    return RESULT_MISS;\n  };\n\n  const result = traverse({\n    node: {\n      children: treeData\n    },\n    currentTreeIndex: -1,\n    pathIndex: -1,\n    isPseudoRoot: true\n  });\n\n  if (result === RESULT_MISS) {\n    throw new Error(\"No node found at the given path.\");\n  }\n\n  return result.children;\n};\nconst removeNodeAtPath = ({\n  treeData,\n  path,\n  getNodeKey,\n  ignoreCollapsed = true\n}) => {\n  return changeNodeAtPath({\n    treeData,\n    path,\n    getNodeKey,\n    ignoreCollapsed,\n    newNode: undefined\n  });\n};\nconst removeNode = ({\n  treeData,\n  path,\n  getNodeKey,\n  ignoreCollapsed = true\n}) => {\n  let removedNode;\n  let removedTreeIndex;\n  const nextTreeData = changeNodeAtPath({\n    treeData,\n    path,\n    getNodeKey,\n    ignoreCollapsed,\n    newNode: ({\n      node,\n      treeIndex\n    }) => {\n      removedNode = node;\n      removedTreeIndex = treeIndex;\n      return undefined;\n    }\n  });\n  return {\n    treeData: nextTreeData,\n    node: removedNode,\n    treeIndex: removedTreeIndex\n  };\n};\nconst getNodeAtPath = ({\n  treeData,\n  path,\n  getNodeKey,\n  ignoreCollapsed = true\n}) => {\n  let foundNodeInfo;\n\n  try {\n    changeNodeAtPath({\n      treeData,\n      path,\n      getNodeKey,\n      ignoreCollapsed,\n      newNode: ({\n        node,\n        treeIndex\n      }) => {\n        foundNodeInfo = {\n          node,\n          treeIndex\n        };\n        return node;\n      }\n    });\n  } catch {}\n\n  return foundNodeInfo;\n};\nconst addNodeUnderParent = ({\n  treeData,\n  newNode,\n  parentKey = undefined,\n  getNodeKey,\n  ignoreCollapsed = true,\n  expandParent = false,\n  addAsFirstChild = false\n}) => {\n  if (parentKey === null || parentKey === undefined) {\n    return addAsFirstChild ? {\n      treeData: [newNode, ...(treeData || [])],\n      treeIndex: 0\n    } : {\n      treeData: [...(treeData || []), newNode],\n      treeIndex: (treeData || []).length\n    };\n  }\n\n  let insertedTreeIndex;\n  let hasBeenAdded = false;\n  const changedTreeData = map({\n    treeData,\n    getNodeKey,\n    ignoreCollapsed,\n    callback: ({\n      node,\n      treeIndex,\n      path\n    }) => {\n      const key = path ? path[path.length - 1] : undefined;\n\n      if (hasBeenAdded || key !== parentKey) {\n        return node;\n      }\n\n      hasBeenAdded = true;\n      const parentNode = { ...node\n      };\n\n      if (expandParent) {\n        parentNode.expanded = true;\n      }\n\n      if (!parentNode.children) {\n        insertedTreeIndex = treeIndex + 1;\n        return { ...parentNode,\n          children: [newNode]\n        };\n      }\n\n      if (typeof parentNode.children === \"function\") {\n        throw new TypeError(\"Cannot add to children defined by a function\");\n      }\n\n      let nextTreeIndex = treeIndex + 1;\n\n      for (let i = 0; i < parentNode.children.length; i += 1) {\n        nextTreeIndex += 1 + getDescendantCount({\n          node: parentNode.children[i],\n          ignoreCollapsed\n        });\n      }\n\n      insertedTreeIndex = nextTreeIndex;\n      const children = addAsFirstChild ? [newNode, ...parentNode.children] : [...parentNode.children, newNode];\n      return { ...parentNode,\n        children\n      };\n    }\n  });\n\n  if (!hasBeenAdded) {\n    throw new Error(\"No node found with the given key.\");\n  }\n\n  return {\n    treeData: changedTreeData,\n    treeIndex: insertedTreeIndex\n  };\n};\n\nconst addNodeAtDepthAndIndex = ({\n  targetDepth,\n  minimumTreeIndex,\n  newNode,\n  ignoreCollapsed,\n  expandParent,\n  isPseudoRoot = false,\n  isLastChild,\n  node,\n  currentIndex,\n  currentDepth,\n  getNodeKey,\n  path = []\n}) => {\n  const selfPath = n => isPseudoRoot ? [] : [...path, getNodeKey({\n    node: n,\n    treeIndex: currentIndex\n  })];\n\n  if (currentIndex >= minimumTreeIndex - 1 || isLastChild && !(node.children && node.children.length > 0)) {\n    if (typeof node.children === \"function\") {\n      throw new TypeError(\"Cannot add to children defined by a function\");\n    } else {\n      const extraNodeProps = expandParent ? {\n        expanded: true\n      } : {};\n      const nextNode = { ...node,\n        ...extraNodeProps,\n        children: node.children ? [newNode, ...node.children] : [newNode]\n      };\n      return {\n        node: nextNode,\n        nextIndex: currentIndex + 2,\n        insertedTreeIndex: currentIndex + 1,\n        parentPath: selfPath(nextNode),\n        parentNode: isPseudoRoot ? undefined : nextNode\n      };\n    }\n  }\n\n  if (currentDepth >= targetDepth - 1) {\n    if (!node.children || typeof node.children === \"function\" || node.expanded !== true && ignoreCollapsed && !isPseudoRoot) {\n      return {\n        node,\n        nextIndex: currentIndex + 1\n      };\n    }\n\n    let childIndex = currentIndex + 1;\n    let insertedTreeIndex;\n    let insertIndex;\n\n    for (let i = 0; i < node.children.length; i += 1) {\n      if (childIndex >= minimumTreeIndex) {\n        insertedTreeIndex = childIndex;\n        insertIndex = i;\n        break;\n      }\n\n      childIndex += 1 + getDescendantCount({\n        node: node.children[i],\n        ignoreCollapsed\n      });\n    }\n\n    if (insertIndex === null || insertIndex === undefined) {\n      if (childIndex < minimumTreeIndex && !isLastChild) {\n        return {\n          node,\n          nextIndex: childIndex\n        };\n      }\n\n      insertedTreeIndex = childIndex;\n      insertIndex = node.children.length;\n    }\n\n    const nextNode = { ...node,\n      children: [...node.children.slice(0, insertIndex), newNode, ...node.children.slice(insertIndex)]\n    };\n    return {\n      node: nextNode,\n      nextIndex: childIndex,\n      insertedTreeIndex,\n      parentPath: selfPath(nextNode),\n      parentNode: isPseudoRoot ? undefined : nextNode\n    };\n  }\n\n  if (!node.children || typeof node.children === \"function\" || node.expanded !== true && ignoreCollapsed && !isPseudoRoot) {\n    return {\n      node,\n      nextIndex: currentIndex + 1\n    };\n  }\n\n  let insertedTreeIndex;\n  let pathFragment;\n  let parentNode;\n  let childIndex = currentIndex + 1;\n  let newChildren = node.children;\n\n  if (typeof newChildren !== \"function\") {\n    newChildren = newChildren.map((child, i) => {\n      if (insertedTreeIndex !== null && insertedTreeIndex !== undefined) {\n        return child;\n      }\n\n      const mapResult = addNodeAtDepthAndIndex({\n        targetDepth,\n        minimumTreeIndex,\n        newNode,\n        ignoreCollapsed,\n        expandParent,\n        isLastChild: isLastChild && i === newChildren.length - 1,\n        node: child,\n        currentIndex: childIndex,\n        currentDepth: currentDepth + 1,\n        getNodeKey,\n        path: []\n      });\n\n      if (\"insertedTreeIndex\" in mapResult) {\n        ({\n          insertedTreeIndex,\n          parentNode,\n          parentPath: pathFragment\n        } = mapResult);\n      }\n\n      childIndex = mapResult.nextIndex;\n      return mapResult.node;\n    });\n  }\n\n  const nextNode = { ...node,\n    children: newChildren\n  };\n  const result = {\n    node: nextNode,\n    nextIndex: childIndex\n  };\n\n  if (insertedTreeIndex !== null && insertedTreeIndex !== undefined) {\n    result.insertedTreeIndex = insertedTreeIndex;\n    result.parentPath = [...selfPath(nextNode), ...pathFragment];\n    result.parentNode = parentNode;\n  }\n\n  return result;\n};\n\nconst insertNode = ({\n  treeData,\n  depth: targetDepth,\n  minimumTreeIndex,\n  newNode,\n  getNodeKey,\n  ignoreCollapsed = true,\n  expandParent = false\n}) => {\n  if (!treeData && targetDepth === 0) {\n    return {\n      treeData: [newNode],\n      treeIndex: 0,\n      path: [getNodeKey({\n        node: newNode,\n        treeIndex: 0\n      })],\n      parentNode: undefined\n    };\n  }\n\n  const insertResult = addNodeAtDepthAndIndex({\n    targetDepth,\n    minimumTreeIndex,\n    newNode,\n    ignoreCollapsed,\n    expandParent,\n    getNodeKey,\n    isPseudoRoot: true,\n    isLastChild: true,\n    node: {\n      children: treeData\n    },\n    currentIndex: -1,\n    currentDepth: -1\n  });\n\n  if (!(\"insertedTreeIndex\" in insertResult)) {\n    throw new Error(\"No suitable position found to insert.\");\n  }\n\n  const treeIndex = insertResult.insertedTreeIndex;\n  return {\n    treeData: insertResult.node.children,\n    treeIndex,\n    path: [...insertResult.parentPath, getNodeKey({\n      node: newNode,\n      treeIndex\n    })],\n    parentNode: insertResult.parentNode\n  };\n};\nconst getFlatDataFromTree = ({\n  treeData,\n  getNodeKey,\n  ignoreCollapsed = true\n}) => {\n  if (!treeData || treeData.length === 0) {\n    return [];\n  }\n\n  const flattened = [];\n  walk({\n    treeData,\n    getNodeKey,\n    ignoreCollapsed,\n    callback: nodeInfo => {\n      flattened.push(nodeInfo);\n    }\n  });\n  return flattened;\n};\nconst getTreeFromFlatData = ({\n  flatData,\n  getKey = node => node.id,\n  getParentKey = node => node.parentId,\n  rootKey = \"0\"\n}) => {\n  if (!flatData) {\n    return [];\n  }\n\n  const childrenToParents = {};\n\n  for (const child of flatData) {\n    const parentKey = getParentKey(child);\n\n    if (parentKey in childrenToParents) {\n      childrenToParents[parentKey].push(child);\n    } else {\n      childrenToParents[parentKey] = [child];\n    }\n  }\n\n  if (!(rootKey in childrenToParents)) {\n    return [];\n  }\n\n  const trav = parent => {\n    const parentKey = getKey(parent);\n\n    if (parentKey in childrenToParents) {\n      return { ...parent,\n        children: childrenToParents[parentKey].map(child => trav(child))\n      };\n    }\n\n    return { ...parent\n    };\n  };\n\n  return childrenToParents[rootKey].map(child => trav(child));\n};\nconst isDescendant = (older, younger) => {\n  return !!older.children && typeof older.children !== \"function\" && older.children.some(child => child === younger || isDescendant(child, younger));\n};\nconst getDepth = (node, depth = 0) => {\n  if (!node.children) {\n    return depth;\n  }\n\n  if (typeof node.children === \"function\") {\n    return depth + 1;\n  }\n\n  return node.children.reduce((deepest, child) => Math.max(deepest, getDepth(child, depth + 1)), depth);\n};\nconst find = ({\n  getNodeKey,\n  treeData,\n  searchQuery,\n  searchMethod,\n  searchFocusOffset,\n  expandAllMatchPaths = false,\n  expandFocusMatchPaths = true\n}) => {\n  let matchCount = 0;\n\n  const trav = ({\n    isPseudoRoot = false,\n    node,\n    currentIndex,\n    path = []\n  }) => {\n    let matches = [];\n    let isSelfMatch = false;\n    let hasFocusMatch = false;\n    const selfPath = isPseudoRoot ? [] : [...path, getNodeKey({\n      node,\n      treeIndex: currentIndex\n    })];\n    const extraInfo = isPseudoRoot ? undefined : {\n      path: selfPath,\n      treeIndex: currentIndex\n    };\n    const hasChildren = node.children && typeof node.children !== \"function\" && node.children.length > 0;\n\n    if (!isPseudoRoot && searchMethod({ ...extraInfo,\n      node,\n      searchQuery\n    })) {\n      if (matchCount === searchFocusOffset) {\n        hasFocusMatch = true;\n      }\n\n      matchCount += 1;\n      isSelfMatch = true;\n    }\n\n    let childIndex = currentIndex;\n    const newNode = { ...node\n    };\n\n    if (hasChildren) {\n      newNode.children = newNode.children.map(child => {\n        const mapResult = trav({\n          node: child,\n          currentIndex: childIndex + 1,\n          path: selfPath\n        });\n\n        if (mapResult.node.expanded) {\n          childIndex = mapResult.treeIndex;\n        } else {\n          childIndex += 1;\n        }\n\n        if (mapResult.matches.length > 0 || mapResult.hasFocusMatch) {\n          matches = [...matches, ...mapResult.matches];\n\n          if (mapResult.hasFocusMatch) {\n            hasFocusMatch = true;\n          }\n\n          if (expandAllMatchPaths && mapResult.matches.length > 0 || (expandAllMatchPaths || expandFocusMatchPaths) && mapResult.hasFocusMatch) {\n            newNode.expanded = true;\n          }\n        }\n\n        return mapResult.node;\n      });\n    }\n\n    if (!isPseudoRoot && !newNode.expanded) {\n      matches = matches.map(match => ({ ...match,\n        treeIndex: undefined\n      }));\n    }\n\n    if (isSelfMatch) {\n      matches = [{ ...extraInfo,\n        node: newNode\n      }, ...matches];\n    }\n\n    return {\n      node: matches.length > 0 ? newNode : node,\n      matches,\n      hasFocusMatch,\n      treeIndex: childIndex\n    };\n  };\n\n  const result = trav({\n    node: {\n      children: treeData\n    },\n    isPseudoRoot: true,\n    currentIndex: -1\n  });\n  return {\n    matches: result.matches,\n    treeData: result.node.children\n  };\n};\n\nconst classnames = (...classes) => classes.filter(Boolean).join(\" \");\n\nconst defaultProps$3 = {\n  isSearchMatch: false,\n  isSearchFocus: false,\n  canDrag: false,\n  toggleChildrenVisibility: undefined,\n  buttons: [],\n  className: \"\",\n  style: {},\n  parentNode: undefined,\n  draggedNode: undefined,\n  canDrop: false,\n  title: undefined,\n  subtitle: undefined,\n  rowDirection: \"ltr\"\n};\n\nconst NodeRendererDefault = function (props) {\n  props = { ...defaultProps$3,\n    ...props\n  };\n  const {\n    scaffoldBlockPxWidth,\n    toggleChildrenVisibility,\n    connectDragPreview,\n    connectDragSource,\n    isDragging,\n    canDrop,\n    canDrag,\n    node,\n    title,\n    subtitle,\n    draggedNode,\n    path,\n    treeIndex,\n    isSearchMatch,\n    isSearchFocus,\n    buttons,\n    className,\n    style,\n    didDrop,\n    treeId: _treeId,\n    isOver: _isOver,\n    parentNode: _parentNode,\n    rowDirection,\n    ...otherProps\n  } = props;\n  const nodeTitle = title || node.title;\n  const nodeSubtitle = subtitle || node.subtitle;\n  const rowDirectionClass = rowDirection === \"rtl\" ? \"rst__rtl\" : undefined;\n  let handle;\n\n  if (canDrag) {\n    handle = typeof node.children === \"function\" && node.expanded ? jsxRuntime.jsx(\"div\", {\n      className: \"rst__loadingHandle\",\n      children: jsxRuntime.jsx(\"div\", {\n        className: \"rst__loadingCircle\",\n        children: [...Array.from({\n          length: 12\n        })].map((_, index) => jsxRuntime.jsx(\"div\", {\n          className: classnames(\"rst__loadingCirclePoint\", rowDirectionClass ?? \"\")\n        }, index))\n      })\n    }) : connectDragSource(jsxRuntime.jsx(\"div\", {\n      className: \"rst__moveHandle\"\n    }), {\n      dropEffect: \"copy\"\n    });\n  }\n\n  const isDraggedDescendant = draggedNode && isDescendant(draggedNode, node);\n  const isLandingPadActive = !didDrop && isDragging;\n  let buttonStyle = {\n    left: -0.5 * scaffoldBlockPxWidth,\n    right: 0\n  };\n\n  if (rowDirection === \"rtl\") {\n    buttonStyle = {\n      right: -0.5 * scaffoldBlockPxWidth,\n      left: 0\n    };\n  }\n\n  return jsxRuntime.jsxs(\"div\", {\n    style: {\n      height: \"100%\"\n    },\n    ...otherProps,\n    children: [toggleChildrenVisibility && node.children && (node.children.length > 0 || typeof node.children === \"function\") && jsxRuntime.jsxs(\"div\", {\n      children: [jsxRuntime.jsx(\"button\", {\n        type: \"button\",\n        \"aria-label\": node.expanded ? \"Collapse\" : \"Expand\",\n        className: classnames(node.expanded ? \"rst__collapseButton\" : \"rst__expandButton\", rowDirectionClass ?? \"\"),\n        style: buttonStyle,\n        onClick: () => toggleChildrenVisibility({\n          node,\n          path,\n          treeIndex\n        })\n      }), node.expanded && !isDragging && jsxRuntime.jsx(\"div\", {\n        style: {\n          width: scaffoldBlockPxWidth\n        },\n        className: classnames(\"rst__lineChildren\", rowDirectionClass ?? \"\")\n      })]\n    }), jsxRuntime.jsx(\"div\", {\n      className: classnames(\"rst__rowWrapper\", rowDirectionClass ?? \"\"),\n      children: connectDragPreview(jsxRuntime.jsxs(\"div\", {\n        className: classnames(\"rst__row\", isLandingPadActive ? \"rst__rowLandingPad\" : \"\", isLandingPadActive && !canDrop ? \"rst__rowCancelPad\" : \"\", isSearchMatch ? \"rst__rowSearchMatch\" : \"\", isSearchFocus ? \"rst__rowSearchFocus\" : \"\", rowDirectionClass ?? \"\", className ?? \"\"),\n        style: {\n          opacity: isDraggedDescendant ? 0.5 : 1,\n          ...style\n        },\n        children: [handle, jsxRuntime.jsxs(\"div\", {\n          className: classnames(\"rst__rowContents\", !canDrag ? \"rst__rowContentsDragDisabled\" : \"\", rowDirectionClass ?? \"\"),\n          children: [jsxRuntime.jsxs(\"div\", {\n            className: classnames(\"rst__rowLabel\", rowDirectionClass ?? \"\"),\n            children: [jsxRuntime.jsx(\"span\", {\n              className: classnames(\"rst__rowTitle\", node.subtitle ? \"rst__rowTitleWithSubtitle\" : \"\"),\n              children: typeof nodeTitle === \"function\" ? nodeTitle({\n                node,\n                path,\n                treeIndex\n              }) : nodeTitle\n            }), nodeSubtitle && jsxRuntime.jsx(\"span\", {\n              className: \"rst__rowSubtitle\",\n              children: typeof nodeSubtitle === \"function\" ? nodeSubtitle({\n                node,\n                path,\n                treeIndex\n              }) : nodeSubtitle\n            })]\n          }), jsxRuntime.jsx(\"div\", {\n            className: \"rst__rowToolbar\",\n            children: buttons?.map((btn, index) => jsxRuntime.jsx(\"div\", {\n              className: \"rst__toolbarButton\",\n              children: btn\n            }, index))\n          })]\n        })]\n      }))\n    })]\n  });\n};\n\nvar NodeRendererDefault$1 = NodeRendererDefault;\n\nconst defaultProps$2 = {\n  isOver: false,\n  canDrop: false\n};\n\nconst PlaceholderRendererDefault = function (props) {\n  props = { ...defaultProps$2,\n    ...props\n  };\n  const {\n    canDrop,\n    isOver\n  } = props;\n  return jsxRuntime.jsx(\"div\", {\n    className: classnames(\"rst__placeholder\", canDrop ? \"rst__placeholderLandingPad\" : \"\", canDrop && !isOver ? \"rst__placeholderCancelPad\" : \"\")\n  });\n};\n\nvar PlaceholderRendererDefault$1 = PlaceholderRendererDefault;\n\nconst defaultProps$1 = {\n  swapFrom: undefined,\n  swapDepth: undefined,\n  swapLength: undefined,\n  canDrop: false,\n  draggedNode: undefined,\n  rowDirection: \"ltr\"\n};\n\nclass TreeNodeComponent extends React.Component {\n  render() {\n    const props = { ...defaultProps$1,\n      ...this.props\n    };\n    const {\n      children,\n      listIndex,\n      swapFrom,\n      swapLength,\n      swapDepth,\n      scaffoldBlockPxWidth,\n      lowerSiblingCounts,\n      connectDropTarget,\n      isOver,\n      draggedNode,\n      canDrop,\n      treeIndex,\n      rowHeight,\n      treeId: _treeId,\n      getPrevRow: _getPrevRow,\n      node: _node,\n      path: _path,\n      rowDirection,\n      ...otherProps\n    } = props;\n    const rowDirectionClass = rowDirection === \"rtl\" ? \"rst__rtl\" : undefined;\n    const scaffoldBlockCount = lowerSiblingCounts.length;\n    const scaffold = [];\n\n    for (const [i, lowerSiblingCount] of lowerSiblingCounts.entries()) {\n      let lineClass = \"\";\n\n      if (lowerSiblingCount > 0) {\n        if (listIndex === 0) {\n          lineClass = \"rst__lineHalfHorizontalRight rst__lineHalfVerticalBottom\";\n        } else if (i === scaffoldBlockCount - 1) {\n          lineClass = \"rst__lineHalfHorizontalRight rst__lineFullVertical\";\n        } else {\n          lineClass = \"rst__lineFullVertical\";\n        }\n      } else if (listIndex === 0) {\n        lineClass = \"rst__lineHalfHorizontalRight\";\n      } else if (i === scaffoldBlockCount - 1) {\n        lineClass = \"rst__lineHalfVerticalTop rst__lineHalfHorizontalRight\";\n      }\n\n      scaffold.push(jsxRuntime.jsx(\"div\", {\n        style: {\n          width: scaffoldBlockPxWidth\n        },\n        className: classnames(\"rst__lineBlock\", lineClass, rowDirectionClass ?? \"\")\n      }, `pre_${1 + i}`));\n\n      if (treeIndex !== listIndex && i === swapDepth) {\n        let highlightLineClass = \"\";\n\n        if (listIndex === swapFrom + swapLength - 1) {\n          highlightLineClass = \"rst__highlightBottomLeftCorner\";\n        } else if (treeIndex === swapFrom) {\n          highlightLineClass = \"rst__highlightTopLeftCorner\";\n        } else {\n          highlightLineClass = \"rst__highlightLineVertical\";\n        }\n\n        const style = rowDirection === \"rtl\" ? {\n          width: scaffoldBlockPxWidth,\n          right: scaffoldBlockPxWidth * i\n        } : {\n          width: scaffoldBlockPxWidth,\n          left: scaffoldBlockPxWidth * i\n        };\n        scaffold.push(jsxRuntime.jsx(\"div\", {\n          style: style,\n          className: classnames(\"rst__absoluteLineBlock\", highlightLineClass, rowDirectionClass ?? \"\")\n        }, i));\n      }\n    }\n\n    const style = rowDirection === \"rtl\" ? {\n      right: scaffoldBlockPxWidth * scaffoldBlockCount\n    } : {\n      left: scaffoldBlockPxWidth * scaffoldBlockCount\n    };\n    let calculatedRowHeight = rowHeight;\n\n    if (typeof rowHeight === \"function\") {\n      calculatedRowHeight = rowHeight(treeIndex, _node, _path);\n    }\n\n    return connectDropTarget(jsxRuntime.jsxs(\"div\", { ...otherProps,\n      style: {\n        height: `${calculatedRowHeight}px`\n      },\n      className: classnames(\"rst__node\", rowDirectionClass ?? \"\"),\n      ref: node => this.node = node,\n      children: [scaffold, jsxRuntime.jsx(\"div\", {\n        className: \"rst__nodeContent\",\n        style: style,\n        children: React.Children.map(children, child => React.cloneElement(child, {\n          isOver,\n          canDrop,\n          draggedNode\n        }))\n      })]\n    }));\n  }\n\n}\n\nvar TreeNode = TreeNodeComponent;\n\nconst defaultProps = {\n  canDrop: false,\n  draggedNode: undefined\n};\n\nconst TreePlaceholder = props => {\n  props = { ...defaultProps,\n    ...props\n  };\n  const {\n    children,\n    connectDropTarget,\n    treeId,\n    drop,\n    ...otherProps\n  } = props;\n  return connectDropTarget(jsxRuntime.jsx(\"div\", {\n    children: React.Children.map(children, child => React.cloneElement(child, { ...otherProps\n    }))\n  }));\n};\n\nvar TreePlaceholder$1 = TreePlaceholder;\n\nlet rafId = 0;\n\nconst nodeDragSourcePropInjection = (connect, monitor) => ({\n  connectDragSource: connect.dragSource(),\n  connectDragPreview: connect.dragPreview(),\n  isDragging: monitor.isDragging(),\n  didDrop: monitor.didDrop()\n});\n\nconst wrapSource = (el, startDrag, endDrag, dndType) => {\n  const nodeDragSource = {\n    beginDrag: props => {\n      startDrag(props);\n      return {\n        node: props.node,\n        parentNode: props.parentNode,\n        path: props.path,\n        treeIndex: props.treeIndex,\n        treeId: props.treeId\n      };\n    },\n    endDrag: (props, monitor) => {\n      endDrag(monitor.getDropResult());\n    },\n    isDragging: (props, monitor) => {\n      const dropTargetNode = monitor.getItem().node;\n      const draggedNode = props.node;\n      return draggedNode === dropTargetNode;\n    }\n  };\n  return reactDnd.DragSource(dndType, nodeDragSource, nodeDragSourcePropInjection)(el);\n};\n\nconst propInjection = (connect, monitor) => {\n  const dragged = monitor.getItem();\n  return {\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver(),\n    canDrop: monitor.canDrop(),\n    draggedNode: dragged ? dragged.node : undefined\n  };\n};\n\nconst wrapPlaceholder = (el, treeId, drop, dndType) => {\n  const placeholderDropTarget = {\n    drop: (dropTargetProps, monitor) => {\n      const {\n        node,\n        path,\n        treeIndex\n      } = monitor.getItem();\n      const result = {\n        node,\n        path,\n        treeIndex,\n        treeId,\n        minimumTreeIndex: 0,\n        depth: 0\n      };\n      drop(result);\n      return result;\n    }\n  };\n  return reactDnd.DropTarget(dndType, placeholderDropTarget, propInjection)(el);\n};\n\nconst getTargetDepth = (dropTargetProps, monitor, component, canNodeHaveChildren, treeId, maxDepth) => {\n  let dropTargetDepth = 0;\n  const rowAbove = dropTargetProps.getPrevRow();\n\n  if (rowAbove) {\n    const {\n      node\n    } = rowAbove;\n    let {\n      path\n    } = rowAbove;\n    const aboveNodeCannotHaveChildren = !canNodeHaveChildren(node);\n\n    if (aboveNodeCannotHaveChildren) {\n      path = path.slice(0, -1);\n    }\n\n    dropTargetDepth = Math.min(path.length, dropTargetProps.path.length);\n  }\n\n  let blocksOffset;\n  let dragSourceInitialDepth = (monitor.getItem().path || []).length;\n\n  if (monitor.getItem().treeId !== treeId) {\n    dragSourceInitialDepth = 0;\n\n    if (component) {\n      const relativePosition = component.node.getBoundingClientRect();\n      const leftShift = monitor.getSourceClientOffset().x - relativePosition.left;\n      blocksOffset = Math.round(leftShift / dropTargetProps.scaffoldBlockPxWidth);\n    } else {\n      blocksOffset = dropTargetProps.path.length;\n    }\n  } else {\n    const direction = dropTargetProps.rowDirection === \"rtl\" ? -1 : 1;\n    blocksOffset = Math.round(direction * monitor.getDifferenceFromInitialOffset().x / dropTargetProps.scaffoldBlockPxWidth);\n  }\n\n  let targetDepth = Math.min(dropTargetDepth, Math.max(0, dragSourceInitialDepth + blocksOffset - 1));\n\n  if (typeof maxDepth !== \"undefined\" && maxDepth !== undefined) {\n    const draggedNode = monitor.getItem().node;\n    const draggedChildDepth = getDepth(draggedNode);\n    targetDepth = Math.max(0, Math.min(targetDepth, maxDepth - draggedChildDepth - 1));\n  }\n\n  return targetDepth;\n};\n\nconst canDrop = (dropTargetProps, monitor, canNodeHaveChildren, treeId, maxDepth, treeRefcanDrop, draggingTreeData, treeReftreeData, getNodeKey) => {\n  if (!monitor.isOver()) {\n    return false;\n  }\n\n  const rowAbove = dropTargetProps.getPrevRow();\n  const abovePath = rowAbove ? rowAbove.path : [];\n  const aboveNode = rowAbove ? rowAbove.node : {};\n  const targetDepth = getTargetDepth(dropTargetProps, monitor, undefined, canNodeHaveChildren, treeId, maxDepth);\n\n  if (targetDepth >= abovePath.length && typeof aboveNode.children === \"function\") {\n    return false;\n  }\n\n  if (typeof treeRefcanDrop === \"function\") {\n    const {\n      node\n    } = monitor.getItem();\n    return treeRefcanDrop({\n      node,\n      prevPath: monitor.getItem().path,\n      prevParent: monitor.getItem().parentNode,\n      prevTreeIndex: monitor.getItem().treeIndex,\n      nextPath: dropTargetProps.children.props.path,\n      nextParent: dropTargetProps.children.props.parentNode,\n      nextTreeIndex: dropTargetProps.children.props.treeIndex\n    });\n  }\n\n  return true;\n};\n\nconst wrapTarget = (el, canNodeHaveChildren, treeId, maxDepth, treeRefcanDrop, drop, dragHover, dndType, draggingTreeData, treeReftreeData, getNodeKey) => {\n  const nodeDropTarget = {\n    drop: (dropTargetProps, monitor, component) => {\n      const result = {\n        node: monitor.getItem().node,\n        path: monitor.getItem().path,\n        treeIndex: monitor.getItem().treeIndex,\n        treeId,\n        minimumTreeIndex: dropTargetProps.treeIndex,\n        depth: getTargetDepth(dropTargetProps, monitor, component, canNodeHaveChildren, treeId, maxDepth)\n      };\n      drop(result);\n      return result;\n    },\n    hover: (dropTargetProps, monitor, component) => {\n      const targetDepth = getTargetDepth(dropTargetProps, monitor, component, canNodeHaveChildren, treeId, maxDepth);\n      const draggedNode = monitor.getItem().node;\n      const needsRedraw = dropTargetProps.node !== draggedNode || targetDepth !== dropTargetProps.path.length - 1;\n\n      if (!needsRedraw) {\n        return;\n      }\n\n      cancelAnimationFrame(rafId);\n      rafId = requestAnimationFrame(() => {\n        const item = monitor.getItem();\n\n        if (!item || !monitor.isOver()) {\n          return;\n        }\n\n        dragHover({\n          node: draggedNode,\n          path: item.path,\n          minimumTreeIndex: dropTargetProps.listIndex,\n          depth: targetDepth\n        });\n      });\n    },\n    canDrop: (dropTargetProps, monitor) => canDrop(dropTargetProps, monitor, canNodeHaveChildren, treeId, maxDepth, treeRefcanDrop)\n  };\n  return reactDnd.DropTarget(dndType, nodeDropTarget, propInjection)(el);\n};\n\nconst slideRows = (rows, fromIndex, toIndex, count = 1) => {\n  const rowsWithoutMoved = [...rows.slice(0, fromIndex), ...rows.slice(fromIndex + count)];\n  return [...rowsWithoutMoved.slice(0, toIndex), ...rows.slice(fromIndex, fromIndex + count), ...rowsWithoutMoved.slice(toIndex)];\n};\n\nconst memoize = f => {\n  let savedArgsArray = [];\n  let savedKeysArray = [];\n  let savedResult;\n  return args => {\n    const keysArray = Object.keys(args).sort();\n    const argsArray = keysArray.map(key => args[key]);\n\n    if (argsArray.length !== savedArgsArray.length || argsArray.some((arg, index) => arg !== savedArgsArray[index]) || keysArray.some((key, index) => key !== savedKeysArray[index])) {\n      savedArgsArray = argsArray;\n      savedKeysArray = keysArray;\n      savedResult = f(args);\n    }\n\n    return savedResult;\n  };\n};\n\nconst memoizedInsertNode = memoize(insertNode);\nconst memoizedGetFlatDataFromTree = memoize(getFlatDataFromTree);\nconst memoizedGetDescendantCount = memoize(getDescendantCount);\n\nlet treeIdCounter = 1;\n\nconst mergeTheme = props => {\n  const merged = { ...props,\n    style: { ...props.theme.style,\n      ...props.style\n    },\n    innerStyle: { ...props.theme.innerStyle,\n      ...props.innerStyle\n    }\n  };\n  const overridableDefaults = {\n    nodeContentRenderer: NodeRendererDefault$1,\n    placeholderRenderer: PlaceholderRendererDefault$1,\n    scaffoldBlockPxWidth: 44,\n    slideRegionSize: 100,\n    rowHeight: 62,\n    treeNodeRenderer: TreeNode\n  };\n\n  for (const propKey of Object.keys(overridableDefaults)) {\n    if (props[propKey] === undefined) {\n      merged[propKey] = typeof props.theme[propKey] !== \"undefined\" ? props.theme[propKey] : overridableDefaults[propKey];\n    }\n  }\n\n  return merged;\n};\n\nclass ReactSortableTree extends React.Component {\n  static search(props, state, seekIndex, expand, singleSearch) {\n    const {\n      onChange,\n      getNodeKey,\n      searchFinishCallback,\n      searchQuery,\n      searchMethod,\n      searchFocusOffset,\n      onlyExpandSearchedNodes\n    } = props;\n    const {\n      instanceProps\n    } = state;\n\n    if (!searchQuery && !searchMethod) {\n      if (searchFinishCallback) {\n        searchFinishCallback([]);\n      }\n\n      return {\n        searchMatches: []\n      };\n    }\n\n    const newState = {\n      instanceProps: {}\n    };\n    const {\n      treeData: expandedTreeData,\n      matches: searchMatches\n    } = find({\n      getNodeKey,\n      treeData: onlyExpandSearchedNodes ? toggleExpandedForAll({\n        treeData: instanceProps.treeData,\n        expanded: false\n      }) : instanceProps.treeData,\n      searchQuery,\n      searchMethod: searchMethod || defaultSearchMethod,\n      searchFocusOffset,\n      expandAllMatchPaths: expand && !singleSearch,\n      expandFocusMatchPaths: !!expand\n    });\n\n    if (expand) {\n      newState.instanceProps.ignoreOneTreeUpdate = true;\n      onChange(expandedTreeData);\n    }\n\n    if (searchFinishCallback) {\n      searchFinishCallback(searchMatches);\n    }\n\n    let searchFocusTreeIndex;\n\n    if (seekIndex && searchFocusOffset !== undefined && searchFocusOffset < searchMatches.length) {\n      searchFocusTreeIndex = searchMatches[searchFocusOffset].treeIndex;\n    }\n\n    newState.searchMatches = searchMatches;\n    newState.searchFocusTreeIndex = searchFocusTreeIndex;\n    return newState;\n  }\n\n  static loadLazyChildren(props, state) {\n    const {\n      instanceProps\n    } = state;\n    walk({\n      treeData: instanceProps.treeData,\n      getNodeKey: props.getNodeKey,\n      callback: ({\n        node,\n        path,\n        lowerSiblingCounts,\n        treeIndex\n      }) => {\n        if (node.children && typeof node.children === \"function\" && (node.expanded || props.loadCollapsedLazyChildren)) {\n          node.children({\n            node,\n            path,\n            lowerSiblingCounts,\n            treeIndex,\n            done: childrenArray => props.onChange(changeNodeAtPath({\n              treeData: instanceProps.treeData,\n              path,\n              newNode: ({\n                node: oldNode\n              }) => oldNode === node ? { ...oldNode,\n                children: childrenArray\n              } : oldNode,\n              getNodeKey: props.getNodeKey\n            }))\n          });\n        }\n      }\n    });\n  }\n\n  constructor(props) {\n    super(props);\n    this.listRef = React__default[\"default\"].createRef();\n    const {\n      dndType,\n      nodeContentRenderer,\n      treeNodeRenderer,\n      slideRegionSize\n    } = mergeTheme(props);\n    this.treeId = `rst__${treeIdCounter}`;\n    treeIdCounter += 1;\n    this.dndType = dndType || this.treeId;\n    this.nodeContentRenderer = wrapSource(nodeContentRenderer, this.startDrag, this.endDrag, this.dndType);\n    this.treePlaceholderRenderer = wrapPlaceholder(TreePlaceholder$1, this.treeId, this.drop, this.dndType);\n    this.scrollZoneVirtualList = (withScrolling.createScrollingComponent || withScrolling__default[\"default\"])(React__default[\"default\"].forwardRef((props, ref) => {\n      const {\n        dragDropManager,\n        rowHeight,\n        classname,\n        style,\n        ...otherProps\n      } = props;\n      return jsxRuntime.jsx(reactVirtuoso.Virtuoso, {\n        ref: this.listRef,\n        ...otherProps\n      });\n    }));\n    this.vStrength = withScrolling.createVerticalStrength(slideRegionSize);\n    this.hStrength = withScrolling.createHorizontalStrength(slideRegionSize);\n    this.state = {\n      draggingTreeData: undefined,\n      draggedNode: undefined,\n      draggedMinimumTreeIndex: undefined,\n      draggedDepth: undefined,\n      searchMatches: [],\n      searchFocusTreeIndex: undefined,\n      dragging: false,\n      instanceProps: {\n        treeData: [],\n        ignoreOneTreeUpdate: false,\n        searchQuery: undefined,\n        searchFocusOffset: undefined\n      }\n    };\n    this.treeNodeRenderer = wrapTarget(treeNodeRenderer, this.canNodeHaveChildren, this.treeId, this.props.maxDepth, this.props.canDrop, this.drop, this.dragHover, this.dndType, this.state.draggingTreeData, this.props.treeData, this.props.getNodeKey);\n    this.toggleChildrenVisibility = this.toggleChildrenVisibility.bind(this);\n    this.moveNode = this.moveNode.bind(this);\n    this.startDrag = this.startDrag.bind(this);\n    this.dragHover = this.dragHover.bind(this);\n    this.endDrag = this.endDrag.bind(this);\n    this.drop = this.drop.bind(this);\n    this.handleDndMonitorChange = this.handleDndMonitorChange.bind(this);\n  }\n\n  componentDidMount() {\n    ReactSortableTree.loadLazyChildren(this.props, this.state);\n    const stateUpdate = ReactSortableTree.search(this.props, this.state, true, true, false);\n    this.setState(stateUpdate);\n    this.clearMonitorSubscription = this.props.dragDropManager.getMonitor().subscribeToStateChange(this.handleDndMonitorChange);\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      instanceProps\n    } = prevState;\n    const newState = {};\n    const isTreeDataEqual = isEqual__default[\"default\"](instanceProps.treeData, nextProps.treeData);\n    instanceProps.treeData = nextProps.treeData;\n\n    if (!isTreeDataEqual) {\n      if (instanceProps.ignoreOneTreeUpdate) {\n        instanceProps.ignoreOneTreeUpdate = false;\n      } else {\n        newState.searchFocusTreeIndex = undefined;\n        ReactSortableTree.loadLazyChildren(nextProps, prevState);\n        Object.assign(newState, ReactSortableTree.search(nextProps, prevState, false, false, false));\n      }\n\n      newState.draggingTreeData = undefined;\n      newState.draggedNode = undefined;\n      newState.draggedMinimumTreeIndex = undefined;\n      newState.draggedDepth = undefined;\n      newState.dragging = false;\n    } else if (!isEqual__default[\"default\"](instanceProps.searchQuery, nextProps.searchQuery)) {\n      Object.assign(newState, ReactSortableTree.search(nextProps, prevState, true, true, false));\n    } else if (instanceProps.searchFocusOffset !== nextProps.searchFocusOffset) {\n      Object.assign(newState, ReactSortableTree.search(nextProps, prevState, true, true, true));\n    }\n\n    instanceProps.searchQuery = nextProps.searchQuery;\n    instanceProps.searchFocusOffset = nextProps.searchFocusOffset;\n    newState.instanceProps = { ...instanceProps,\n      ...newState.instanceProps\n    };\n    return newState;\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.dragging !== prevState.dragging && this.props.onDragStateChanged) {\n      this.props.onDragStateChanged({\n        isDragging: this.state.dragging,\n        draggedNode: this.state.draggedNode\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    this.clearMonitorSubscription();\n  }\n\n  handleDndMonitorChange() {\n    const monitor = this.props.dragDropManager.getMonitor();\n\n    if (!monitor.isDragging() && this.state.draggingTreeData) {\n      setTimeout(() => {\n        this.endDrag();\n      });\n    }\n  }\n\n  getRows(treeData) {\n    return memoizedGetFlatDataFromTree({\n      ignoreCollapsed: true,\n      getNodeKey: this.props.getNodeKey,\n      treeData\n    });\n  }\n\n  startDrag = ({\n    path\n  }) => {\n    this.setState(prevState => {\n      const {\n        treeData: draggingTreeData,\n        node: draggedNode,\n        treeIndex: draggedMinimumTreeIndex\n      } = removeNode({\n        treeData: prevState.instanceProps.treeData,\n        path,\n        getNodeKey: this.props.getNodeKey\n      });\n      return {\n        draggingTreeData,\n        draggedNode,\n        draggedDepth: path.length - 1,\n        draggedMinimumTreeIndex,\n        dragging: true\n      };\n    });\n  };\n  dragHover = ({\n    node: draggedNode,\n    depth: draggedDepth,\n    minimumTreeIndex: draggedMinimumTreeIndex\n  }) => {\n    if (this.state.draggedDepth === draggedDepth && this.state.draggedMinimumTreeIndex === draggedMinimumTreeIndex) {\n      return;\n    }\n\n    this.setState(({\n      draggingTreeData,\n      instanceProps\n    }) => {\n      const newDraggingTreeData = draggingTreeData || instanceProps.treeData;\n      const addedResult = memoizedInsertNode({\n        treeData: newDraggingTreeData,\n        newNode: draggedNode,\n        depth: draggedDepth,\n        minimumTreeIndex: draggedMinimumTreeIndex,\n        expandParent: true,\n        getNodeKey: this.props.getNodeKey\n      });\n      const rows = this.getRows(addedResult.treeData);\n      const expandedParentPath = rows[addedResult.treeIndex].path;\n      return {\n        draggedNode,\n        draggedDepth,\n        draggedMinimumTreeIndex,\n        draggingTreeData: changeNodeAtPath({\n          treeData: newDraggingTreeData,\n          path: expandedParentPath.slice(0, -1),\n          newNode: ({\n            node\n          }) => ({ ...node,\n            expanded: true\n          }),\n          getNodeKey: this.props.getNodeKey\n        }),\n        searchFocusTreeIndex: undefined,\n        dragging: true\n      };\n    });\n  };\n  endDrag = dropResult => {\n    const {\n      instanceProps\n    } = this.state;\n\n    if (!dropResult) {\n      this.setState({\n        draggingTreeData: undefined,\n        draggedNode: undefined,\n        draggedMinimumTreeIndex: undefined,\n        draggedDepth: undefined,\n        dragging: false\n      });\n    } else if (dropResult.treeId !== this.treeId) {\n      const {\n        node,\n        path,\n        treeIndex\n      } = dropResult;\n      let shouldCopy = this.props.shouldCopyOnOutsideDrop;\n\n      if (typeof shouldCopy === \"function\") {\n        shouldCopy = shouldCopy({\n          node,\n          prevTreeIndex: treeIndex,\n          prevPath: path\n        });\n      }\n\n      let treeData = this.state.draggingTreeData || instanceProps.treeData;\n\n      if (shouldCopy) {\n        treeData = changeNodeAtPath({\n          treeData: instanceProps.treeData,\n          path,\n          newNode: ({\n            node: copyNode\n          }) => ({ ...copyNode\n          }),\n          getNodeKey: this.props.getNodeKey\n        });\n      }\n\n      this.props.onChange(treeData);\n      this.props.onMoveNode({\n        treeData,\n        node,\n        treeIndex: undefined,\n        path: undefined,\n        nextPath: undefined,\n        nextTreeIndex: undefined,\n        prevPath: path,\n        prevTreeIndex: treeIndex\n      });\n    }\n  };\n  drop = dropResult => {\n    this.moveNode(dropResult);\n  };\n  canNodeHaveChildren = node => {\n    const {\n      canNodeHaveChildren\n    } = this.props;\n\n    if (canNodeHaveChildren) {\n      return canNodeHaveChildren(node);\n    }\n\n    return true;\n  };\n\n  toggleChildrenVisibility({\n    node: targetNode,\n    path\n  }) {\n    const {\n      instanceProps\n    } = this.state;\n    const treeData = changeNodeAtPath({\n      treeData: instanceProps.treeData,\n      path,\n      newNode: ({\n        node\n      }) => ({ ...node,\n        expanded: !node.expanded\n      }),\n      getNodeKey: this.props.getNodeKey\n    });\n    this.props.onChange(treeData);\n    this.props.onVisibilityToggle({\n      treeData,\n      node: targetNode,\n      expanded: !targetNode.expanded,\n      path\n    });\n  }\n\n  moveNode({\n    node,\n    path: prevPath,\n    treeIndex: prevTreeIndex,\n    depth,\n    minimumTreeIndex\n  }) {\n    const {\n      treeData,\n      treeIndex,\n      path,\n      parentNode: nextParentNode\n    } = insertNode({\n      treeData: this.state.draggingTreeData,\n      newNode: node,\n      depth,\n      minimumTreeIndex,\n      expandParent: true,\n      getNodeKey: this.props.getNodeKey\n    });\n    this.props.onChange(treeData);\n    this.props.onMoveNode({\n      treeData,\n      node,\n      treeIndex,\n      path,\n      nextPath: path,\n      nextTreeIndex: treeIndex,\n      prevPath,\n      prevTreeIndex,\n      nextParentNode\n    });\n  }\n\n  renderRow(row, {\n    listIndex,\n    style,\n    getPrevRow,\n    matchKeys,\n    swapFrom,\n    swapDepth,\n    swapLength\n  }) {\n    const {\n      node,\n      parentNode,\n      path,\n      lowerSiblingCounts,\n      treeIndex\n    } = row;\n    const {\n      canDrag,\n      generateNodeProps,\n      scaffoldBlockPxWidth,\n      searchFocusOffset,\n      rowDirection,\n      rowHeight\n    } = mergeTheme(this.props);\n    const TreeNodeRenderer = this.treeNodeRenderer;\n    const NodeContentRenderer = this.nodeContentRenderer;\n    const nodeKey = path[path.length - 1];\n    const isSearchMatch = (nodeKey in matchKeys);\n    const isSearchFocus = isSearchMatch && matchKeys[nodeKey] === searchFocusOffset;\n    const callbackParams = {\n      node,\n      parentNode,\n      path,\n      lowerSiblingCounts,\n      treeIndex,\n      isSearchMatch,\n      isSearchFocus\n    };\n    const nodeProps = !generateNodeProps ? {} : generateNodeProps(callbackParams);\n    const rowCanDrag = typeof canDrag !== \"function\" ? canDrag : canDrag(callbackParams);\n    const sharedProps = {\n      treeIndex,\n      scaffoldBlockPxWidth,\n      node,\n      path,\n      treeId: this.treeId,\n      rowDirection\n    };\n    return jsxRuntime.jsx(TreeNodeRenderer, {\n      style: style,\n      rowHeight: rowHeight,\n      listIndex: listIndex,\n      getPrevRow: getPrevRow,\n      lowerSiblingCounts: lowerSiblingCounts,\n      swapFrom: swapFrom,\n      swapLength: swapLength,\n      swapDepth: swapDepth,\n      ...sharedProps,\n      children: jsxRuntime.jsx(NodeContentRenderer, {\n        parentNode: parentNode,\n        isSearchMatch: isSearchMatch,\n        isSearchFocus: isSearchFocus,\n        canDrag: rowCanDrag,\n        toggleChildrenVisibility: this.toggleChildrenVisibility,\n        ...sharedProps,\n        ...nodeProps\n      })\n    }, nodeKey);\n  }\n\n  render() {\n    const {\n      dragDropManager,\n      style,\n      className,\n      innerStyle,\n      placeholderRenderer,\n      getNodeKey,\n      rowDirection\n    } = mergeTheme(this.props);\n    const {\n      searchMatches,\n      searchFocusTreeIndex,\n      draggedNode,\n      draggedDepth,\n      draggedMinimumTreeIndex,\n      instanceProps\n    } = this.state;\n    const treeData = this.state.draggingTreeData || instanceProps.treeData;\n    const rowDirectionClass = rowDirection === \"rtl\" ? \"rst__rtl\" : undefined;\n    let rows;\n    let swapFrom;\n    let swapLength;\n\n    if (draggedNode && draggedMinimumTreeIndex !== undefined) {\n      const addedResult = memoizedInsertNode({\n        treeData,\n        newNode: draggedNode,\n        depth: draggedDepth,\n        minimumTreeIndex: draggedMinimumTreeIndex,\n        expandParent: true,\n        getNodeKey\n      });\n      const swapTo = draggedMinimumTreeIndex;\n      swapFrom = addedResult.treeIndex;\n      swapLength = 1 + memoizedGetDescendantCount({\n        node: draggedNode\n      });\n      rows = slideRows(this.getRows(addedResult.treeData), swapFrom, swapTo, swapLength);\n    } else {\n      rows = this.getRows(treeData);\n    }\n\n    const matchKeys = {};\n\n    for (const [i, {\n      path\n    }] of searchMatches.entries()) {\n      matchKeys[path[path.length - 1]] = i;\n    }\n\n    if (searchFocusTreeIndex !== undefined) {\n      this.listRef.current.scrollToIndex({\n        index: searchFocusTreeIndex,\n        align: \"center\"\n      });\n    }\n\n    let containerStyle = style;\n    let list;\n\n    if (rows.length === 0) {\n      const Placeholder = this.treePlaceholderRenderer;\n      const PlaceholderContent = placeholderRenderer;\n      list = jsxRuntime.jsx(Placeholder, {\n        treeId: this.treeId,\n        drop: this.drop,\n        children: jsxRuntime.jsx(PlaceholderContent, {})\n      });\n    } else {\n      containerStyle = {\n        height: \"100%\",\n        ...containerStyle\n      };\n      const ScrollZoneVirtualList = this.scrollZoneVirtualList;\n      list = jsxRuntime.jsx(ScrollZoneVirtualList, {\n        data: rows,\n        dragDropManager: dragDropManager,\n        verticalStrength: this.vStrength,\n        horizontalStrength: this.hStrength,\n        className: \"rst__virtualScrollOverride\",\n        style: innerStyle,\n        itemContent: index => this.renderRow(rows[index], {\n          listIndex: index,\n          getPrevRow: () => rows[index - 1] || undefined,\n          matchKeys,\n          swapFrom,\n          swapDepth: draggedDepth,\n          swapLength\n        })\n      });\n    }\n\n    return jsxRuntime.jsx(\"div\", {\n      className: classnames(\"rst__tree\", className, rowDirectionClass),\n      style: containerStyle,\n      children: list\n    });\n  }\n\n}\n\nReactSortableTree.defaultProps = {\n  canDrag: true,\n  canDrop: undefined,\n  canNodeHaveChildren: () => true,\n  className: \"\",\n  dndType: undefined,\n  generateNodeProps: undefined,\n  getNodeKey: defaultGetNodeKey,\n  innerStyle: {},\n  maxDepth: undefined,\n  treeNodeRenderer: undefined,\n  nodeContentRenderer: undefined,\n  onMoveNode: () => {},\n  onVisibilityToggle: () => {},\n  placeholderRenderer: undefined,\n  scaffoldBlockPxWidth: undefined,\n  searchFinishCallback: undefined,\n  searchFocusOffset: undefined,\n  searchMethod: undefined,\n  searchQuery: undefined,\n  shouldCopyOnOutsideDrop: false,\n  slideRegionSize: undefined,\n  style: {},\n  theme: {},\n  onDragStateChanged: () => {},\n  onlyExpandSearchedNodes: false,\n  rowDirection: \"ltr\",\n  debugMode: false,\n  overscan: 0\n};\n\nconst SortableTreeWithoutDndContext = function (props) {\n  return jsxRuntime.jsx(reactDnd.DndContext.Consumer, {\n    children: ({\n      dragDropManager\n    }) => dragDropManager === undefined ? undefined : jsxRuntime.jsx(ReactSortableTree, { ...props,\n      dragDropManager: dragDropManager\n    })\n  });\n};\n\nconst SortableTree = function (props) {\n  return jsxRuntime.jsx(reactDnd.DndProvider, {\n    debugMode: props.debugMode,\n    backend: reactDndHtml5Backend.HTML5Backend,\n    children: jsxRuntime.jsx(SortableTreeWithoutDndContext, { ...props\n    })\n  });\n};\n\nconst SortableTreeWithExternalManager = function (props) {\n  return jsxRuntime.jsx(reactDnd.DndProvider, {\n    manager: props.dragDropManager,\n    children: jsxRuntime.jsx(SortableTreeWithoutDndContext, { ...props\n    })\n  });\n};\nvar SortableTree$1 = SortableTree;\n\nexports.SortableTreeWithExternalManager = SortableTreeWithExternalManager;\nexports.SortableTreeWithoutDndContext = SortableTreeWithoutDndContext;\nexports.addNodeUnderParent = addNodeUnderParent;\nexports.changeNodeAtPath = changeNodeAtPath;\nexports[\"default\"] = SortableTree$1;\nexports.defaultGetNodeKey = defaultGetNodeKey;\nexports.defaultSearchMethod = defaultSearchMethod;\nexports.find = find;\nexports.getDepth = getDepth;\nexports.getDescendantCount = getDescendantCount;\nexports.getFlatDataFromTree = getFlatDataFromTree;\nexports.getNodeAtPath = getNodeAtPath;\nexports.getTreeFromFlatData = getTreeFromFlatData;\nexports.getVisibleNodeCount = getVisibleNodeCount;\nexports.getVisibleNodeInfoAtIndex = getVisibleNodeInfoAtIndex;\nexports.insertNode = insertNode;\nexports.isDescendant = isDescendant;\nexports.map = map;\nexports.removeNode = removeNode;\nexports.removeNodeAtPath = removeNodeAtPath;\nexports.toggleExpandedForAll = toggleExpandedForAll;\nexports.walk = walk;\n","var unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\nmodule.exports = _createForOfIteratorHelper, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar jsxRuntime = require('react/jsx-runtime');\nvar react = require('react');\nvar reactDnd = require('react-dnd');\n\nconst throttle = (func, timeFrame) => {\n  let lastTime = 0;\n  return (...args) => {\n    const now = new Date();\n\n    if (now - lastTime >= timeFrame) {\n      func(...args);\n      lastTime = now;\n    }\n  };\n};\n\nconst intBetween = (min, max, val) => Math.floor(Math.min(max, Math.max(min, val)));\n\nconst getCoords = evt => {\n  return {\n    x: evt.clientX,\n    y: evt.clientY\n  };\n};\n\nconst DEFAULT_BUFFER = 150;\nconst createHorizontalStrength = _buffer => ({\n  x,\n  w,\n  y,\n  h\n}, point) => {\n  const buffer = Math.min(w / 2, _buffer);\n  const inRange = point.x >= x && point.x <= x + w;\n  const inBox = inRange && point.y >= y && point.y <= y + h;\n\n  if (inBox) {\n    if (point.x < x + buffer) {\n      return (point.x - x - buffer) / buffer;\n    }\n\n    if (point.x > x + w - buffer) {\n      return -(x + w - point.x - buffer) / buffer;\n    }\n  }\n\n  return 0;\n};\nconst createVerticalStrength = _buffer => ({\n  y,\n  h,\n  x,\n  w\n}, point) => {\n  const buffer = Math.min(h / 2, _buffer);\n  const inRange = point.y >= y && point.y <= y + h;\n  const inBox = inRange && point.x >= x && point.x <= x + w;\n\n  if (inBox) {\n    if (point.y < y + buffer) {\n      return (point.y - y - buffer) / buffer;\n    }\n\n    if (point.y > y + h - buffer) {\n      return -(y + h - point.y - buffer) / buffer;\n    }\n  }\n\n  return 0;\n};\nconst defaultProps = {\n  onScrollChange: () => {},\n  verticalStrength: createVerticalStrength(DEFAULT_BUFFER),\n  horizontalStrength: createHorizontalStrength(DEFAULT_BUFFER),\n  strengthMultiplier: 30\n};\nconst createScrollingComponent = WrappedComponent => {\n  return props => {\n    props = { ...defaultProps,\n      ...props\n    };\n    let container;\n    const wrappedInstance = react.createRef();\n    const animationFrameID = react.useRef(0);\n    let scaleX = 0;\n    let scaleY = 0;\n    let attached = false;\n    let dragging = false;\n    const updateScrolling = throttle(evt => {\n      const {\n        left: x,\n        top: y,\n        width: w,\n        height: h\n      } = container.getBoundingClientRect();\n      const box = {\n        x,\n        y,\n        w,\n        h\n      };\n      const coords = getCoords(evt);\n      scaleX = props.horizontalStrength(box, coords);\n      scaleY = props.verticalStrength(box, coords);\n\n      if (!animationFrameID.current && (scaleX || scaleY)) {\n        startScrolling();\n      }\n    }, 100);\n\n    const handleEvent = evt => {\n      if (dragging && !attached) {\n        attached = true;\n        window.document.body.addEventListener('dragover', updateScrolling);\n        updateScrolling(evt);\n      }\n    };\n\n    react.useEffect(() => {\n      container = wrappedInstance.current;\n\n      if (container && typeof container.addEventListener === 'function') {\n        container.addEventListener('dragover', handleEvent);\n      }\n\n      const clearMonitorSubscription = props.dragDropManager.getMonitor().subscribeToStateChange(handleMonitorChange);\n      return () => {\n        if (container && typeof container.removeEventListener === 'function') {\n          container.removeEventListener('dragover', handleEvent);\n        }\n\n        clearMonitorSubscription();\n        stopScrolling();\n      };\n    }, []);\n\n    const handleMonitorChange = () => {\n      const isDragging = props.dragDropManager.getMonitor().isDragging();\n\n      if (!dragging && isDragging) {\n        dragging = true;\n      } else if (dragging && !isDragging) {\n        dragging = false;\n        stopScrolling();\n      }\n    };\n\n    const startScrolling = () => {\n      let i = 0;\n\n      const tick = () => {\n        if (props.strengthMultiplier === 0 || scaleX + scaleY === 0) {\n          stopScrolling();\n          return;\n        }\n\n        i += 1;\n\n        if (i % 2) {\n          const {\n            scrollLeft,\n            scrollTop,\n            scrollWidth,\n            scrollHeight,\n            clientWidth,\n            clientHeight\n          } = container;\n          const newLeft = scaleX ? container.scrollLeft = intBetween(0, scrollWidth - clientWidth, scrollLeft + scaleX * props.strengthMultiplier) : scrollLeft;\n          const newTop = scaleY ? container.scrollTop = intBetween(0, scrollHeight - clientHeight, scrollTop + scaleY * props.strengthMultiplier) : scrollTop;\n          props.onScrollChange(newLeft, newTop);\n        }\n\n        animationFrameID.current = window.requestAnimationFrame(tick);\n      };\n\n      tick();\n    };\n\n    const stopScrolling = () => {\n      attached = false;\n      window.document.body.removeEventListener('dragover', updateScrolling);\n      scaleX = 0;\n      scaleY = 0;\n\n      if (animationFrameID.current) {\n        window.cancelAnimationFrame(animationFrameID.current);\n        animationFrameID.current = 0;\n      }\n    };\n\n    const {\n      strengthMultiplier,\n      verticalStrength,\n      horizontalStrength,\n      onScrollChange,\n      ...other\n    } = props;\n    return jsxRuntime.jsx(WrappedComponent, {\n      ref: wrappedInstance,\n      ...other\n    });\n  };\n};\n\nconst createScrollingComponentWithConsumer = WrappedComponent => {\n  const ScrollingComponent = createScrollingComponent(WrappedComponent);\n  return props => {\n    return jsxRuntime.jsx(reactDnd.DndContext.Consumer, {\n      children: ({\n        dragDropManager\n      }) => !dragDropManager ? undefined : jsxRuntime.jsx(ScrollingComponent, { ...props,\n        dragDropManager: dragDropManager\n      })\n    });\n  };\n};\n\nexports.createHorizontalStrength = createHorizontalStrength;\nexports.createScrollingComponent = createScrollingComponent;\nexports.createVerticalStrength = createVerticalStrength;\nexports[\"default\"] = createScrollingComponentWithConsumer;\n","export * from './asap.js'\nexport * from './types.js'\nexport * from './AsapQueue.js'\nexport * from './TaskFactory.js'\n","import { AsapQueue } from './AsapQueue.js'\nimport { TaskFactory } from './TaskFactory.js'\nimport type { TaskFn } from './types.js'\n\nconst asapQueue = new AsapQueue()\nconst taskFactory = new TaskFactory(asapQueue.registerPendingError)\n\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\nexport function asap(task: TaskFn) {\n\tasapQueue.enqueueTask(taskFactory.create(task))\n}\n","// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\nconst scope = typeof global !== 'undefined' ? global : self\nconst BrowserMutationObserver =\n\t(scope as any).MutationObserver || (scope as any).WebKitMutationObserver\n\nexport function makeRequestCallFromTimer(callback: () => void) {\n\treturn function requestCall() {\n\t\t// We dispatch a timeout with a specified delay of 0 for engines that\n\t\t// can reliably accommodate that request. This will usually be snapped\n\t\t// to a 4 milisecond delay, but once we're flushing, there's no delay\n\t\t// between events.\n\t\tconst timeoutHandle = setTimeout(handleTimer, 0)\n\t\t// However, since this timer gets frequently dropped in Firefox\n\t\t// workers, we enlist an interval handle that will try to fire\n\t\t// an event 20 times per second until it succeeds.\n\t\tconst intervalHandle = setInterval(handleTimer, 50)\n\n\t\tfunction handleTimer() {\n\t\t\t// Whichever timer succeeds will cancel both timers and\n\t\t\t// execute the callback.\n\t\t\tclearTimeout(timeoutHandle)\n\t\t\tclearInterval(intervalHandle)\n\t\t\tcallback()\n\t\t}\n\t}\n}\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nexport function makeRequestCallFromMutationObserver(callback: () => void) {\n\tlet toggle = 1\n\tconst observer = new BrowserMutationObserver(callback)\n\tconst node = document.createTextNode('')\n\tobserver.observe(node, { characterData: true })\n\treturn function requestCall() {\n\t\ttoggle = -toggle\n\t\t;(node as any).data = toggle\n\t}\n}\n\nexport const makeRequestCall =\n\ttypeof BrowserMutationObserver === 'function'\n\t\t? // MutationObservers are desirable because they have high priority and work\n\t\t  // reliably everywhere they are implemented.\n\t\t  // They are implemented in all modern browsers.\n\t\t  //\n\t\t  // - Android 4-4.3\n\t\t  // - Chrome 26-34\n\t\t  // - Firefox 14-29\n\t\t  // - Internet Explorer 11\n\t\t  // - iPad Safari 6-7.1\n\t\t  // - iPhone Safari 7-7.1\n\t\t  // - Safari 6-7\n\t\t  makeRequestCallFromMutationObserver\n\t\t: // MessageChannels are desirable because they give direct access to the HTML\n\t\t  // task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n\t\t  // 11-12, and in web workers in many engines.\n\t\t  // Although message channels yield to any queued rendering and IO tasks, they\n\t\t  // would be better than imposing the 4ms delay of timers.\n\t\t  // However, they do not work reliably in Internet Explorer or Safari.\n\n\t\t  // Internet Explorer 10 is the only browser that has setImmediate but does\n\t\t  // not have MutationObservers.\n\t\t  // Although setImmediate yields to the browser's renderer, it would be\n\t\t  // preferrable to falling back to setTimeout since it does not have\n\t\t  // the minimum 4ms penalty.\n\t\t  // Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n\t\t  // Desktop to a lesser extent) that renders both setImmediate and\n\t\t  // MessageChannel useless for the purposes of ASAP.\n\t\t  // https://github.com/kriskowal/q/issues/396\n\n\t\t  // Timers are implemented universally.\n\t\t  // We fall back to timers in workers in most engines, and in foreground\n\t\t  // contexts in the following browsers.\n\t\t  // However, note that even this simple case requires nuances to operate in a\n\t\t  // broad spectrum of browsers.\n\t\t  //\n\t\t  // - Firefox 3-13\n\t\t  // - Internet Explorer 6-9\n\t\t  // - iPad Safari 4.3\n\t\t  // - Lynx 2.8.7\n\t\t  makeRequestCallFromTimer\n","// We wrap tasks with recyclable task objects.  A task object implements\n\nimport type { TaskFn, Task } from 'types'\n\n// `call`, just like a function.\nexport class RawTask implements Task {\n\tpublic task: TaskFn | null = null\n\n\tpublic constructor(\n\t\tprivate onError: (err: any) => void,\n\t\tprivate release: (t: RawTask) => void,\n\t) {}\n\n\tpublic call() {\n\t\ttry {\n\t\t\tthis.task && this.task()\n\t\t} catch (error) {\n\t\t\tthis.onError(error)\n\t\t} finally {\n\t\t\tthis.task = null\n\t\t\tthis.release(this)\n\t\t}\n\t}\n}\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = isEqual;\n","// cheap lodash replacements\nexport function memoize(fn) {\n  var result = null;\n\n  var memoized = function memoized() {\n    if (result == null) {\n      result = fn();\n    }\n\n    return result;\n  };\n\n  return memoized;\n}\n/**\n * drop-in replacement for _.without\n */\n\nexport function without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\nexport function union(itemsA, itemsB) {\n  var set = new Set();\n\n  var insertItem = function insertItem(item) {\n    return set.add(item);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  set.forEach(function (key) {\n    return result.push(key);\n  });\n  return result;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { union, without } from './utils/js_utils';\nexport var EnterLeaveCounter = /*#__PURE__*/function () {\n  function EnterLeaveCounter(isNodeInDocument) {\n    _classCallCheck(this, EnterLeaveCounter);\n\n    _defineProperty(this, \"entered\", []);\n\n    _defineProperty(this, \"isNodeInDocument\", void 0);\n\n    this.isNodeInDocument = isNodeInDocument;\n  }\n\n  _createClass(EnterLeaveCounter, [{\n    key: \"enter\",\n    value: function enter(enteringNode) {\n      var _this = this;\n\n      var previousLength = this.entered.length;\n\n      var isNodeEntered = function isNodeEntered(node) {\n        return _this.isNodeInDocument(node) && (!node.contains || node.contains(enteringNode));\n      };\n\n      this.entered = union(this.entered.filter(isNodeEntered), [enteringNode]);\n      return previousLength === 0 && this.entered.length > 0;\n    }\n  }, {\n    key: \"leave\",\n    value: function leave(leavingNode) {\n      var previousLength = this.entered.length;\n      this.entered = without(this.entered.filter(this.isNodeInDocument), leavingNode);\n      return previousLength > 0 && this.entered.length === 0;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.entered = [];\n    }\n  }]);\n\n  return EnterLeaveCounter;\n}();","import { memoize } from './utils/js_utils';\nexport var isFirefox = memoize(function () {\n  return /firefox/i.test(navigator.userAgent);\n});\nexport var isSafari = memoize(function () {\n  return Boolean(window.safari);\n});","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var MonotonicInterpolant = /*#__PURE__*/function () {\n  function MonotonicInterpolant(xs, ys) {\n    _classCallCheck(this, MonotonicInterpolant);\n\n    _defineProperty(this, \"xs\", void 0);\n\n    _defineProperty(this, \"ys\", void 0);\n\n    _defineProperty(this, \"c1s\", void 0);\n\n    _defineProperty(this, \"c2s\", void 0);\n\n    _defineProperty(this, \"c3s\", void 0);\n\n    var length = xs.length; // Rearrange xs and ys so that xs is sorted\n\n    var indexes = [];\n\n    for (var i = 0; i < length; i++) {\n      indexes.push(i);\n    }\n\n    indexes.sort(function (a, b) {\n      return xs[a] < xs[b] ? -1 : 1;\n    }); // Get consecutive differences and slopes\n\n    var dys = [];\n    var dxs = [];\n    var ms = [];\n    var dx;\n    var dy;\n\n    for (var _i = 0; _i < length - 1; _i++) {\n      dx = xs[_i + 1] - xs[_i];\n      dy = ys[_i + 1] - ys[_i];\n      dxs.push(dx);\n      dys.push(dy);\n      ms.push(dy / dx);\n    } // Get degree-1 coefficients\n\n\n    var c1s = [ms[0]];\n\n    for (var _i2 = 0; _i2 < dxs.length - 1; _i2++) {\n      var m2 = ms[_i2];\n      var mNext = ms[_i2 + 1];\n\n      if (m2 * mNext <= 0) {\n        c1s.push(0);\n      } else {\n        dx = dxs[_i2];\n        var dxNext = dxs[_i2 + 1];\n        var common = dx + dxNext;\n        c1s.push(3 * common / ((common + dxNext) / m2 + (common + dx) / mNext));\n      }\n    }\n\n    c1s.push(ms[ms.length - 1]); // Get degree-2 and degree-3 coefficients\n\n    var c2s = [];\n    var c3s = [];\n    var m;\n\n    for (var _i3 = 0; _i3 < c1s.length - 1; _i3++) {\n      m = ms[_i3];\n      var c1 = c1s[_i3];\n      var invDx = 1 / dxs[_i3];\n\n      var _common = c1 + c1s[_i3 + 1] - m - m;\n\n      c2s.push((m - c1 - _common) * invDx);\n      c3s.push(_common * invDx * invDx);\n    }\n\n    this.xs = xs;\n    this.ys = ys;\n    this.c1s = c1s;\n    this.c2s = c2s;\n    this.c3s = c3s;\n  }\n\n  _createClass(MonotonicInterpolant, [{\n    key: \"interpolate\",\n    value: function interpolate(x) {\n      var xs = this.xs,\n          ys = this.ys,\n          c1s = this.c1s,\n          c2s = this.c2s,\n          c3s = this.c3s; // The rightmost point in the dataset should give an exact result\n\n      var i = xs.length - 1;\n\n      if (x === xs[i]) {\n        return ys[i];\n      } // Search for the interval x is in, returning the corresponding y if x is one of the original xs\n\n\n      var low = 0;\n      var high = c3s.length - 1;\n      var mid;\n\n      while (low <= high) {\n        mid = Math.floor(0.5 * (low + high));\n        var xHere = xs[mid];\n\n        if (xHere < x) {\n          low = mid + 1;\n        } else if (xHere > x) {\n          high = mid - 1;\n        } else {\n          return ys[mid];\n        }\n      }\n\n      i = Math.max(0, high); // Interpolate\n\n      var diff = x - xs[i];\n      var diffSq = diff * diff;\n      return ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq;\n    }\n  }]);\n\n  return MonotonicInterpolant;\n}();","import { isSafari, isFirefox } from './BrowserDetector';\nimport { MonotonicInterpolant } from './MonotonicInterpolant';\nvar ELEMENT_NODE = 1;\nexport function getNodeClientOffset(node) {\n  var el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;\n\n  if (!el) {\n    return null;\n  }\n\n  var _el$getBoundingClient = el.getBoundingClientRect(),\n      top = _el$getBoundingClient.top,\n      left = _el$getBoundingClient.left;\n\n  return {\n    x: left,\n    y: top\n  };\n}\nexport function getEventClientOffset(e) {\n  return {\n    x: e.clientX,\n    y: e.clientY\n  };\n}\n\nfunction isImageNode(node) {\n  var _document$documentEle;\n\n  return node.nodeName === 'IMG' && (isFirefox() || !((_document$documentEle = document.documentElement) !== null && _document$documentEle !== void 0 && _document$documentEle.contains(node)));\n}\n\nfunction getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight) {\n  var dragPreviewWidth = isImage ? dragPreview.width : sourceWidth;\n  var dragPreviewHeight = isImage ? dragPreview.height : sourceHeight; // Work around @2x coordinate discrepancies in browsers\n\n  if (isSafari() && isImage) {\n    dragPreviewHeight /= window.devicePixelRatio;\n    dragPreviewWidth /= window.devicePixelRatio;\n  }\n\n  return {\n    dragPreviewWidth: dragPreviewWidth,\n    dragPreviewHeight: dragPreviewHeight\n  };\n}\n\nexport function getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint) {\n  // The browsers will use the image intrinsic size under different conditions.\n  // Firefox only cares if it's an image, but WebKit also wants it to be detached.\n  var isImage = isImageNode(dragPreview);\n  var dragPreviewNode = isImage ? sourceNode : dragPreview;\n  var dragPreviewNodeOffsetFromClient = getNodeClientOffset(dragPreviewNode);\n  var offsetFromDragPreview = {\n    x: clientOffset.x - dragPreviewNodeOffsetFromClient.x,\n    y: clientOffset.y - dragPreviewNodeOffsetFromClient.y\n  };\n  var sourceWidth = sourceNode.offsetWidth,\n      sourceHeight = sourceNode.offsetHeight;\n  var anchorX = anchorPoint.anchorX,\n      anchorY = anchorPoint.anchorY;\n\n  var _getDragPreviewSize = getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight),\n      dragPreviewWidth = _getDragPreviewSize.dragPreviewWidth,\n      dragPreviewHeight = _getDragPreviewSize.dragPreviewHeight;\n\n  var calculateYOffset = function calculateYOffset() {\n    var interpolantY = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the top\n    offsetFromDragPreview.y, // Align at the center\n    offsetFromDragPreview.y / sourceHeight * dragPreviewHeight, // Dock to the bottom\n    offsetFromDragPreview.y + dragPreviewHeight - sourceHeight]);\n    var y = interpolantY.interpolate(anchorY); // Work around Safari 8 positioning bug\n\n    if (isSafari() && isImage) {\n      // We'll have to wait for @3x to see if this is entirely correct\n      y += (window.devicePixelRatio - 1) * dragPreviewHeight;\n    }\n\n    return y;\n  };\n\n  var calculateXOffset = function calculateXOffset() {\n    // Interpolate coordinates depending on anchor point\n    // If you know a simpler way to do this, let me know\n    var interpolantX = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the left\n    offsetFromDragPreview.x, // Align at the center\n    offsetFromDragPreview.x / sourceWidth * dragPreviewWidth, // Dock to the right\n    offsetFromDragPreview.x + dragPreviewWidth - sourceWidth]);\n    return interpolantX.interpolate(anchorX);\n  }; // Force offsets if specified in the options.\n\n\n  var offsetX = offsetPoint.offsetX,\n      offsetY = offsetPoint.offsetY;\n  var isManualOffsetX = offsetX === 0 || offsetX;\n  var isManualOffsetY = offsetY === 0 || offsetY;\n  return {\n    x: isManualOffsetX ? offsetX : calculateXOffset(),\n    y: isManualOffsetY ? offsetY : calculateYOffset()\n  };\n}","export var FILE = '__NATIVE_FILE__';\nexport var URL = '__NATIVE_URL__';\nexport var TEXT = '__NATIVE_TEXT__';\nexport var HTML = '__NATIVE_HTML__';","var _nativeTypesConfig;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport * as NativeTypes from '../NativeTypes';\nimport { getDataFromDataTransfer } from './getDataFromDataTransfer';\nexport var nativeTypesConfig = (_nativeTypesConfig = {}, _defineProperty(_nativeTypesConfig, NativeTypes.FILE, {\n  exposeProperties: {\n    files: function files(dataTransfer) {\n      return Array.prototype.slice.call(dataTransfer.files);\n    },\n    items: function items(dataTransfer) {\n      return dataTransfer.items;\n    },\n    dataTransfer: function dataTransfer(_dataTransfer) {\n      return _dataTransfer;\n    }\n  },\n  matchesTypes: ['Files']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.HTML, {\n  exposeProperties: {\n    html: function html(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '');\n    },\n    dataTransfer: function dataTransfer(_dataTransfer2) {\n      return _dataTransfer2;\n    }\n  },\n  matchesTypes: ['Html', 'text/html']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.URL, {\n  exposeProperties: {\n    urls: function urls(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '').split('\\n');\n    },\n    dataTransfer: function dataTransfer(_dataTransfer3) {\n      return _dataTransfer3;\n    }\n  },\n  matchesTypes: ['Url', 'text/uri-list']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.TEXT, {\n  exposeProperties: {\n    text: function text(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '');\n    },\n    dataTransfer: function dataTransfer(_dataTransfer4) {\n      return _dataTransfer4;\n    }\n  },\n  matchesTypes: ['Text', 'text/plain']\n}), _nativeTypesConfig);","export function getDataFromDataTransfer(dataTransfer, typesToTry, defaultValue) {\n  var result = typesToTry.reduce(function (resultSoFar, typeToTry) {\n    return resultSoFar || dataTransfer.getData(typeToTry);\n  }, '');\n  return result != null ? result : defaultValue;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var NativeDragSource = /*#__PURE__*/function () {\n  function NativeDragSource(config) {\n    _classCallCheck(this, NativeDragSource);\n\n    _defineProperty(this, \"item\", void 0);\n\n    _defineProperty(this, \"config\", void 0);\n\n    this.config = config;\n    this.item = {};\n    this.initializeExposedProperties();\n  }\n\n  _createClass(NativeDragSource, [{\n    key: \"initializeExposedProperties\",\n    value: function initializeExposedProperties() {\n      var _this = this;\n\n      Object.keys(this.config.exposeProperties).forEach(function (property) {\n        Object.defineProperty(_this.item, property, {\n          configurable: true,\n          enumerable: true,\n          get: function get() {\n            // eslint-disable-next-line no-console\n            console.warn(\"Browser doesn't allow reading \\\"\".concat(property, \"\\\" until the drop event.\"));\n            return null;\n          }\n        });\n      });\n    }\n  }, {\n    key: \"loadDataTransfer\",\n    value: function loadDataTransfer(dataTransfer) {\n      var _this2 = this;\n\n      if (dataTransfer) {\n        var newProperties = {};\n        Object.keys(this.config.exposeProperties).forEach(function (property) {\n          newProperties[property] = {\n            value: _this2.config.exposeProperties[property](dataTransfer, _this2.config.matchesTypes),\n            configurable: true,\n            enumerable: true\n          };\n        });\n        Object.defineProperties(this.item, newProperties);\n      }\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      return true;\n    }\n  }, {\n    key: \"beginDrag\",\n    value: function beginDrag() {\n      return this.item;\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(monitor, handle) {\n      return handle === monitor.getSourceId();\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {// empty\n    }\n  }]);\n\n  return NativeDragSource;\n}();","import { nativeTypesConfig } from './nativeTypesConfig';\nimport { NativeDragSource } from './NativeDragSource';\nexport function createNativeDragSource(type, dataTransfer) {\n  var result = new NativeDragSource(nativeTypesConfig[type]);\n  result.loadDataTransfer(dataTransfer);\n  return result;\n}\nexport function matchNativeItemType(dataTransfer) {\n  if (!dataTransfer) {\n    return null;\n  }\n\n  var dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || []);\n  return Object.keys(nativeTypesConfig).filter(function (nativeItemType) {\n    var matchesTypes = nativeTypesConfig[nativeItemType].matchesTypes;\n    return matchesTypes.some(function (t) {\n      return dataTransferTypes.indexOf(t) > -1;\n    });\n  })[0] || null;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var OptionsReader = /*#__PURE__*/function () {\n  function OptionsReader(globalContext, options) {\n    _classCallCheck(this, OptionsReader);\n\n    _defineProperty(this, \"ownerDocument\", null);\n\n    _defineProperty(this, \"globalContext\", void 0);\n\n    _defineProperty(this, \"optionsArgs\", void 0);\n\n    this.globalContext = globalContext;\n    this.optionsArgs = options;\n  }\n\n  _createClass(OptionsReader, [{\n    key: \"window\",\n    get: function get() {\n      if (this.globalContext) {\n        return this.globalContext;\n      } else if (typeof window !== 'undefined') {\n        return window;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      var _this$globalContext;\n\n      if ((_this$globalContext = this.globalContext) !== null && _this$globalContext !== void 0 && _this$globalContext.document) {\n        return this.globalContext.document;\n      } else if (this.window) {\n        return this.window.document;\n      } else {\n        return undefined;\n      }\n    }\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      var _this$optionsArgs;\n\n      return ((_this$optionsArgs = this.optionsArgs) === null || _this$optionsArgs === void 0 ? void 0 : _this$optionsArgs.rootElement) || this.window;\n    }\n  }]);\n\n  return OptionsReader;\n}();","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { EnterLeaveCounter } from './EnterLeaveCounter';\nimport { getNodeClientOffset, getEventClientOffset, getDragPreviewOffset } from './OffsetUtils';\nimport { createNativeDragSource, matchNativeItemType } from './NativeDragSources';\nimport * as NativeTypes from './NativeTypes';\nimport { OptionsReader } from './OptionsReader';\nexport var HTML5BackendImpl = /*#__PURE__*/function () {\n  // React-Dnd Components\n  // Internal State\n  function HTML5BackendImpl(manager, globalContext, options) {\n    var _this = this;\n\n    _classCallCheck(this, HTML5BackendImpl);\n\n    _defineProperty(this, \"options\", void 0);\n\n    _defineProperty(this, \"actions\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"registry\", void 0);\n\n    _defineProperty(this, \"enterLeaveCounter\", void 0);\n\n    _defineProperty(this, \"sourcePreviewNodes\", new Map());\n\n    _defineProperty(this, \"sourcePreviewNodeOptions\", new Map());\n\n    _defineProperty(this, \"sourceNodes\", new Map());\n\n    _defineProperty(this, \"sourceNodeOptions\", new Map());\n\n    _defineProperty(this, \"dragStartSourceIds\", null);\n\n    _defineProperty(this, \"dropTargetIds\", []);\n\n    _defineProperty(this, \"dragEnterTargetIds\", []);\n\n    _defineProperty(this, \"currentNativeSource\", null);\n\n    _defineProperty(this, \"currentNativeHandle\", null);\n\n    _defineProperty(this, \"currentDragSourceNode\", null);\n\n    _defineProperty(this, \"altKeyPressed\", false);\n\n    _defineProperty(this, \"mouseMoveTimeoutTimer\", null);\n\n    _defineProperty(this, \"asyncEndDragFrameId\", null);\n\n    _defineProperty(this, \"dragOverTargetIds\", null);\n\n    _defineProperty(this, \"lastClientOffset\", null);\n\n    _defineProperty(this, \"hoverRafId\", null);\n\n    _defineProperty(this, \"getSourceClientOffset\", function (sourceId) {\n      var source = _this.sourceNodes.get(sourceId);\n\n      return source && getNodeClientOffset(source) || null;\n    });\n\n    _defineProperty(this, \"endDragNativeItem\", function () {\n      if (!_this.isDraggingNativeItem()) {\n        return;\n      }\n\n      _this.actions.endDrag();\n\n      if (_this.currentNativeHandle) {\n        _this.registry.removeSource(_this.currentNativeHandle);\n      }\n\n      _this.currentNativeHandle = null;\n      _this.currentNativeSource = null;\n    });\n\n    _defineProperty(this, \"isNodeInDocument\", function (node) {\n      // Check the node either in the main document or in the current context\n      return Boolean(node && _this.document && _this.document.body && _this.document.body.contains(node));\n    });\n\n    _defineProperty(this, \"endDragIfSourceWasRemovedFromDOM\", function () {\n      var node = _this.currentDragSourceNode;\n\n      if (node == null || _this.isNodeInDocument(node)) {\n        return;\n      }\n\n      if (_this.clearCurrentDragSourceNode() && _this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragStartCapture\", function () {\n      _this.clearCurrentDragSourceNode();\n\n      _this.dragStartSourceIds = [];\n    });\n\n    _defineProperty(this, \"handleTopDragStart\", function (e) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      var dragStartSourceIds = _this.dragStartSourceIds;\n      _this.dragStartSourceIds = null;\n      var clientOffset = getEventClientOffset(e); // Avoid crashing if we missed a drop event or our previous drag died\n\n      if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      } // Don't publish the source just yet (see why below)\n\n\n      _this.actions.beginDrag(dragStartSourceIds || [], {\n        publishSource: false,\n        getSourceClientOffset: _this.getSourceClientOffset,\n        clientOffset: clientOffset\n      });\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (_this.monitor.isDragging()) {\n        if (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n          // Use custom drag image if user specifies it.\n          // If child drag source refuses drag but parent agrees,\n          // use parent's node as drag image. Neither works in IE though.\n          var sourceId = _this.monitor.getSourceId();\n\n          var sourceNode = _this.sourceNodes.get(sourceId);\n\n          var dragPreview = _this.sourcePreviewNodes.get(sourceId) || sourceNode;\n\n          if (dragPreview) {\n            var _this$getCurrentSourc = _this.getCurrentSourcePreviewNodeOptions(),\n                anchorX = _this$getCurrentSourc.anchorX,\n                anchorY = _this$getCurrentSourc.anchorY,\n                offsetX = _this$getCurrentSourc.offsetX,\n                offsetY = _this$getCurrentSourc.offsetY;\n\n            var anchorPoint = {\n              anchorX: anchorX,\n              anchorY: anchorY\n            };\n            var offsetPoint = {\n              offsetX: offsetX,\n              offsetY: offsetY\n            };\n            var dragPreviewOffset = getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);\n            dataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);\n          }\n        }\n\n        try {\n          // Firefox won't drag without setting data\n          dataTransfer === null || dataTransfer === void 0 ? void 0 : dataTransfer.setData('application/json', {});\n        } catch (err) {// IE doesn't support MIME types in setData\n        } // Store drag source node so we can check whether\n        // it is removed from DOM and trigger endDrag manually.\n\n\n        _this.setCurrentDragSourceNode(e.target); // Now we are ready to publish the drag source.. or are we not?\n\n\n        var _this$getCurrentSourc2 = _this.getCurrentSourcePreviewNodeOptions(),\n            captureDraggingState = _this$getCurrentSourc2.captureDraggingState;\n\n        if (!captureDraggingState) {\n          // Usually we want to publish it in the next tick so that browser\n          // is able to screenshot the current (not yet dragging) state.\n          //\n          // It also neatly avoids a situation where render() returns null\n          // in the same tick for the source element, and browser freaks out.\n          setTimeout(function () {\n            return _this.actions.publishDragSource();\n          }, 0);\n        } else {\n          // In some cases the user may want to override this behavior, e.g.\n          // to work around IE not supporting custom drag previews.\n          //\n          // When using a custom drag layer, the only way to prevent\n          // the default drag preview from drawing in IE is to screenshot\n          // the dragging state in which the node itself has zero opacity\n          // and height. In this case, though, returning null from render()\n          // will abruptly end the dragging, which is not obvious.\n          //\n          // This is the reason such behavior is strictly opt-in.\n          _this.actions.publishDragSource();\n        }\n      } else if (nativeType) {\n        // A native item (such as URL) dragged from inside the document\n        _this.beginDragNativeItem(nativeType);\n      } else if (dataTransfer && !dataTransfer.types && (e.target && !e.target.hasAttribute || !e.target.hasAttribute('draggable'))) {\n        // Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n        // Just let it drag. It's a native type (URL or text) and will be picked up in\n        // dragenter handler.\n        return;\n      } else {\n        // If by this time no drag source reacted, tell browser not to drag.\n        e.preventDefault();\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragEndCapture\", function () {\n      if (_this.clearCurrentDragSourceNode() && _this.monitor.isDragging()) {\n        // Firefox can dispatch this event in an infinite loop\n        // if dragend handler does something like showing an alert.\n        // Only proceed if we have not handled it already.\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragEnterCapture\", function (e) {\n      _this.dragEnterTargetIds = [];\n\n      var isFirstEnter = _this.enterLeaveCounter.enter(e.target);\n\n      if (!isFirstEnter || _this.monitor.isDragging()) {\n        return;\n      }\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (nativeType) {\n        // A native item (such as file or URL) dragged from outside the document\n        _this.beginDragNativeItem(nativeType, dataTransfer);\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragEnter\", function (e) {\n      var dragEnterTargetIds = _this.dragEnterTargetIds;\n      _this.dragEnterTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey; // If the target changes position as the result of `dragenter`, `dragover` might still\n      // get dispatched despite target being no longer there. The easy solution is to check\n      // whether there actually is a target before firing `hover`.\n\n      if (dragEnterTargetIds.length > 0) {\n        _this.actions.hover(dragEnterTargetIds, {\n          clientOffset: getEventClientOffset(e)\n        });\n      }\n\n      var canDrop = dragEnterTargetIds.some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // IE requires this to fire dragover events\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragOverCapture\", function () {\n      _this.dragOverTargetIds = [];\n    });\n\n    _defineProperty(this, \"handleTopDragOver\", function (e) {\n      var dragOverTargetIds = _this.dragOverTargetIds;\n      _this.dragOverTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        // Prevent default \"drop and blow away the whole document\" action.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n      _this.lastClientOffset = getEventClientOffset(e);\n\n      if (_this.hoverRafId === null && typeof requestAnimationFrame !== 'undefined') {\n        _this.hoverRafId = requestAnimationFrame(function () {\n          if (_this.monitor.isDragging()) {\n            _this.actions.hover(dragOverTargetIds || [], {\n              clientOffset: _this.lastClientOffset\n            });\n          }\n\n          _this.hoverRafId = null;\n        });\n      }\n\n      var canDrop = (dragOverTargetIds || []).some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // Show user-specified drop effect.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      } else if (_this.isDraggingNativeItem()) {\n        // Don't show a nice cursor but still prevent default\n        // \"drop and blow away the whole document\" action.\n        e.preventDefault();\n      } else {\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragLeaveCapture\", function (e) {\n      if (_this.isDraggingNativeItem()) {\n        e.preventDefault();\n      }\n\n      var isLastLeave = _this.enterLeaveCounter.leave(e.target);\n\n      if (!isLastLeave) {\n        return;\n      }\n\n      if (_this.isDraggingNativeItem()) {\n        setTimeout(function () {\n          return _this.endDragNativeItem();\n        }, 0);\n      }\n    });\n\n    _defineProperty(this, \"handleTopDropCapture\", function (e) {\n      _this.dropTargetIds = [];\n\n      if (_this.isDraggingNativeItem()) {\n        var _this$currentNativeSo;\n\n        e.preventDefault();\n        (_this$currentNativeSo = _this.currentNativeSource) === null || _this$currentNativeSo === void 0 ? void 0 : _this$currentNativeSo.loadDataTransfer(e.dataTransfer);\n      } else if (matchNativeItemType(e.dataTransfer)) {\n        // Dragging some elements, like <a> and <img> may still behave like a native drag event,\n        // even if the current drag event matches a user-defined type.\n        // Stop the default behavior when we're not expecting a native item to be dropped.\n        e.preventDefault();\n      }\n\n      _this.enterLeaveCounter.reset();\n    });\n\n    _defineProperty(this, \"handleTopDrop\", function (e) {\n      var dropTargetIds = _this.dropTargetIds;\n      _this.dropTargetIds = [];\n\n      _this.actions.hover(dropTargetIds, {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      _this.actions.drop({\n        dropEffect: _this.getCurrentDropEffect()\n      });\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      } else if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty(this, \"handleSelectStart\", function (e) {\n      var target = e.target; // Only IE requires us to explicitly say\n      // we want drag drop operation to start\n\n      if (typeof target.dragDrop !== 'function') {\n        return;\n      } // Inputs and textareas should be selectable\n\n\n      if (target.tagName === 'INPUT' || target.tagName === 'SELECT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\n        return;\n      } // For other targets, ask IE\n      // to enable drag and drop\n\n\n      e.preventDefault();\n      target.dragDrop();\n    });\n\n    this.options = new OptionsReader(globalContext, options);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.registry = manager.getRegistry();\n    this.enterLeaveCounter = new EnterLeaveCounter(this.isNodeInDocument);\n  }\n  /**\n   * Generate profiling statistics for the HTML5Backend.\n   */\n\n\n  _createClass(HTML5BackendImpl, [{\n    key: \"profile\",\n    value: function profile() {\n      var _this$dragStartSource, _this$dragOverTargetI;\n\n      return {\n        sourcePreviewNodes: this.sourcePreviewNodes.size,\n        sourcePreviewNodeOptions: this.sourcePreviewNodeOptions.size,\n        sourceNodeOptions: this.sourceNodeOptions.size,\n        sourceNodes: this.sourceNodes.size,\n        dragStartSourceIds: ((_this$dragStartSource = this.dragStartSourceIds) === null || _this$dragStartSource === void 0 ? void 0 : _this$dragStartSource.length) || 0,\n        dropTargetIds: this.dropTargetIds.length,\n        dragEnterTargetIds: this.dragEnterTargetIds.length,\n        dragOverTargetIds: ((_this$dragOverTargetI = this.dragOverTargetIds) === null || _this$dragOverTargetI === void 0 ? void 0 : _this$dragOverTargetI.length) || 0\n      };\n    } // public for test\n\n  }, {\n    key: \"window\",\n    get: function get() {\n      return this.options.window;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      return this.options.document;\n    }\n    /**\n     * Get the root element to use for event subscriptions\n     */\n\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      return this.options.rootElement;\n    }\n  }, {\n    key: \"setup\",\n    value: function setup() {\n      var root = this.rootElement;\n\n      if (root === undefined) {\n        return;\n      }\n\n      if (root.__isReactDndBackendSetUp) {\n        throw new Error('Cannot have two HTML5 backends at the same time.');\n      }\n\n      root.__isReactDndBackendSetUp = true;\n      this.addEventListeners(root);\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      var root = this.rootElement;\n\n      if (root === undefined) {\n        return;\n      }\n\n      root.__isReactDndBackendSetUp = false;\n      this.removeEventListeners(this.rootElement);\n      this.clearCurrentDragSourceNode();\n\n      if (this.asyncEndDragFrameId) {\n        var _this$window;\n\n        (_this$window = this.window) === null || _this$window === void 0 ? void 0 : _this$window.cancelAnimationFrame(this.asyncEndDragFrameId);\n      }\n    }\n  }, {\n    key: \"connectDragPreview\",\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this2 = this;\n\n      this.sourcePreviewNodeOptions.set(sourceId, options);\n      this.sourcePreviewNodes.set(sourceId, node);\n      return function () {\n        _this2.sourcePreviewNodes.delete(sourceId);\n\n        _this2.sourcePreviewNodeOptions.delete(sourceId);\n      };\n    }\n  }, {\n    key: \"connectDragSource\",\n    value: function connectDragSource(sourceId, node, options) {\n      var _this3 = this;\n\n      this.sourceNodes.set(sourceId, node);\n      this.sourceNodeOptions.set(sourceId, options);\n\n      var handleDragStart = function handleDragStart(e) {\n        return _this3.handleDragStart(e, sourceId);\n      };\n\n      var handleSelectStart = function handleSelectStart(e) {\n        return _this3.handleSelectStart(e);\n      };\n\n      node.setAttribute('draggable', 'true');\n      node.addEventListener('dragstart', handleDragStart);\n      node.addEventListener('selectstart', handleSelectStart);\n      return function () {\n        _this3.sourceNodes.delete(sourceId);\n\n        _this3.sourceNodeOptions.delete(sourceId);\n\n        node.removeEventListener('dragstart', handleDragStart);\n        node.removeEventListener('selectstart', handleSelectStart);\n        node.setAttribute('draggable', 'false');\n      };\n    }\n  }, {\n    key: \"connectDropTarget\",\n    value: function connectDropTarget(targetId, node) {\n      var _this4 = this;\n\n      var handleDragEnter = function handleDragEnter(e) {\n        return _this4.handleDragEnter(e, targetId);\n      };\n\n      var handleDragOver = function handleDragOver(e) {\n        return _this4.handleDragOver(e, targetId);\n      };\n\n      var handleDrop = function handleDrop(e) {\n        return _this4.handleDrop(e, targetId);\n      };\n\n      node.addEventListener('dragenter', handleDragEnter);\n      node.addEventListener('dragover', handleDragOver);\n      node.addEventListener('drop', handleDrop);\n      return function () {\n        node.removeEventListener('dragenter', handleDragEnter);\n        node.removeEventListener('dragover', handleDragOver);\n        node.removeEventListener('drop', handleDrop);\n      };\n    }\n  }, {\n    key: \"addEventListeners\",\n    value: function addEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.addEventListener) {\n        return;\n      }\n\n      target.addEventListener('dragstart', this.handleTopDragStart);\n      target.addEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.addEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.addEventListener('dragenter', this.handleTopDragEnter);\n      target.addEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.addEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.addEventListener('dragover', this.handleTopDragOver);\n      target.addEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.addEventListener('drop', this.handleTopDrop);\n      target.addEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"removeEventListeners\",\n    value: function removeEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.removeEventListener) {\n        return;\n      }\n\n      target.removeEventListener('dragstart', this.handleTopDragStart);\n      target.removeEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.removeEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.removeEventListener('dragenter', this.handleTopDragEnter);\n      target.removeEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.removeEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.removeEventListener('dragover', this.handleTopDragOver);\n      target.removeEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.removeEventListener('drop', this.handleTopDrop);\n      target.removeEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"getCurrentSourceNodeOptions\",\n    value: function getCurrentSourceNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourceNodeOptions = this.sourceNodeOptions.get(sourceId);\n      return _objectSpread({\n        dropEffect: this.altKeyPressed ? 'copy' : 'move'\n      }, sourceNodeOptions || {});\n    }\n  }, {\n    key: \"getCurrentDropEffect\",\n    value: function getCurrentDropEffect() {\n      if (this.isDraggingNativeItem()) {\n        // It makes more sense to default to 'copy' for native resources\n        return 'copy';\n      }\n\n      return this.getCurrentSourceNodeOptions().dropEffect;\n    }\n  }, {\n    key: \"getCurrentSourcePreviewNodeOptions\",\n    value: function getCurrentSourcePreviewNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId);\n      return _objectSpread({\n        anchorX: 0.5,\n        anchorY: 0.5,\n        captureDraggingState: false\n      }, sourcePreviewNodeOptions || {});\n    }\n  }, {\n    key: \"isDraggingNativeItem\",\n    value: function isDraggingNativeItem() {\n      var itemType = this.monitor.getItemType();\n      return Object.keys(NativeTypes).some(function (key) {\n        return NativeTypes[key] === itemType;\n      });\n    }\n  }, {\n    key: \"beginDragNativeItem\",\n    value: function beginDragNativeItem(type, dataTransfer) {\n      this.clearCurrentDragSourceNode();\n      this.currentNativeSource = createNativeDragSource(type, dataTransfer);\n      this.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);\n      this.actions.beginDrag([this.currentNativeHandle]);\n    }\n  }, {\n    key: \"setCurrentDragSourceNode\",\n    value: function setCurrentDragSourceNode(node) {\n      var _this5 = this;\n\n      this.clearCurrentDragSourceNode();\n      this.currentDragSourceNode = node; // A timeout of > 0 is necessary to resolve Firefox issue referenced\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n\n      var MOUSE_MOVE_TIMEOUT = 1000; // Receiving a mouse event in the middle of a dragging operation\n      // means it has ended and the drag source node disappeared from DOM,\n      // so the browser didn't dispatch the dragend event.\n      //\n      // We need to wait before we start listening for mousemove events.\n      // This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n      // immediately in some browsers.\n      //\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n      //\n\n      this.mouseMoveTimeoutTimer = setTimeout(function () {\n        var _this5$rootElement;\n\n        return (_this5$rootElement = _this5.rootElement) === null || _this5$rootElement === void 0 ? void 0 : _this5$rootElement.addEventListener('mousemove', _this5.endDragIfSourceWasRemovedFromDOM, true);\n      }, MOUSE_MOVE_TIMEOUT);\n    }\n  }, {\n    key: \"clearCurrentDragSourceNode\",\n    value: function clearCurrentDragSourceNode() {\n      if (this.currentDragSourceNode) {\n        this.currentDragSourceNode = null;\n\n        if (this.rootElement) {\n          var _this$window2;\n\n          (_this$window2 = this.window) === null || _this$window2 === void 0 ? void 0 : _this$window2.clearTimeout(this.mouseMoveTimeoutTimer || undefined);\n          this.rootElement.removeEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);\n        }\n\n        this.mouseMoveTimeoutTimer = null;\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"handleDragStart\",\n    value: function handleDragStart(e, sourceId) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      if (!this.dragStartSourceIds) {\n        this.dragStartSourceIds = [];\n      }\n\n      this.dragStartSourceIds.unshift(sourceId);\n    }\n  }, {\n    key: \"handleDragEnter\",\n    value: function handleDragEnter(e, targetId) {\n      this.dragEnterTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDragOver\",\n    value: function handleDragOver(e, targetId) {\n      if (this.dragOverTargetIds === null) {\n        this.dragOverTargetIds = [];\n      }\n\n      this.dragOverTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDrop\",\n    value: function handleDrop(e, targetId) {\n      this.dropTargetIds.unshift(targetId);\n    }\n  }]);\n\n  return HTML5BackendImpl;\n}();","var emptyImage;\nexport function getEmptyImage() {\n  if (!emptyImage) {\n    emptyImage = new Image();\n    emptyImage.src = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n  }\n\n  return emptyImage;\n}","import { HTML5BackendImpl } from './HTML5BackendImpl';\nimport * as NativeTypes from './NativeTypes';\nexport { getEmptyImage } from './getEmptyImage';\nexport { NativeTypes };\nexport var HTML5Backend = function createBackend(manager, context, options) {\n  return new HTML5BackendImpl(manager, context, options);\n};","/**\n * Utils includes\n * - a handful of functional utilities inspired by or taken from the [Ramda library](https://ramdajs.com/);\n * - TypeScript crutches - the [[tup]] function.\n *\n * Use these for your convenience - they are here so that urx is zero-dependency package.\n *\n * @packageDocumentation\n */\n\n/** @internal */\nexport interface Proc {\n  (): any\n}\n\n/**\n * Performs left to right composition of two functions.\n */\nexport function compose<I, A, R>(a: (arg: A) => R, b: (arg: I) => A): (arg: I) => R {\n  return (arg: I) => a(b(arg))\n}\n\n/**\n * Takes a value and applies a function to it.\n */\nexport function thrush<I, K>(arg: I, proc: (arg: I) => K) {\n  return proc(arg)\n}\n\n/**\n * Takes a 2 argument function and partially applies the first argument.\n */\nexport function curry2to1<T, K, R>(proc: (arg1: T, arg2: K) => R, arg1: T): (arg2: K) => R {\n  return arg2 => proc(arg1, arg2)\n}\n\n/**\n * Takes a 1 argument function and returns a function which when called, executes it with the provided argument.\n */\nexport function curry1to0<T, R>(proc: (arg: T) => R, arg: T): () => R {\n  return () => proc(arg)\n}\n\n/**\n * Returns a function which extracts the property from from the passed object.\n */\nexport function prop(property: string) {\n  return (object: any) => object[property]\n}\n\n/**\n * Calls callback with the first argument, and returns it.\n */\nexport function tap<T>(arg: T, proc: (arg: T) => any): T {\n  proc(arg)\n  return arg\n}\n\n/**\n *  Utility function to help typescript figure out that what we pass is a tuple and not a generic array.\n *  Taken from (this StackOverflow tread)[https://stackoverflow.com/questions/49729550/implicitly-create-a-tuple-in-typescript/52445008#52445008]\n */\nexport function tup<T extends Array<any>>(...args: T): T {\n  return args\n}\n\n/**\n * Calls the passed function.\n */\nexport function call(proc: Proc) {\n  proc()\n}\n\n/**\n * returns a function which when called always returns the passed value\n */\nexport function always<T>(value: T) {\n  return () => value\n}\n\n/**\n * returns a function which calls all passed functions in the passed order.\n * joinProc does not pass arguments or collect return values.\n */\nexport function joinProc(...procs: Proc[]) {\n  return () => {\n    procs.map(call)\n  }\n}\n\nexport function noop() {}\n","/**\n * urx Actions operate on streams - `publish` publishes data in a stream, and `subscribe` attaches a subscription to a stream.\n * @packageDocumentation\n */\nimport { PUBLISH, RESET, SUBSCRIBE, VALUE } from './constants'\nimport { curry2to1 } from './utils'\n\n/**\n * A Publisher is the **input end** of a Stream. The [[publish]] action publishes values in publishers.\n * @typeParam T the type of values to be published.\n */\nexport interface Publisher<T> {\n  /** @internal */\n  (action: PUBLISH, value: T): void\n}\n\n/**\n * An Emitter is the **output end** of a Stream. The [[subscribe]] action binds {@link Subscription | subscriptions} to emitters.\n * @typeParam T the type of values that will be emitted.\n */\nexport interface Emitter<T> {\n  /** @internal */\n  (action: SUBSCRIBE, subscription: Subscription<T>): Unsubscribe\n  /** @internal */\n  (action: RESET): void\n}\n\n/**\n * Subscriptions are bound to Emitters with the [[subscribe]] action, and get called with the new values.\n * @typeParam T the Emitter value type.\n */\nexport interface Subscription<T> {\n  (value: T): any\n}\n\n/**\n * Subscribe-like actions return unsubscribe handles of the Unsubscribe type, which, when called, unbind the subscription.\n */\nexport interface Unsubscribe {\n  (): void\n}\n\n/**\n * Streams present both the input and the output ends of a stream.\n * A single stream instance can be both subscribed to and published in.\n */\nexport interface Stream<T> extends Publisher<T>, Emitter<T> {\n  /** @internal */\n  (action: SUBSCRIBE | PUBLISH | RESET): any // fix for bug with pipe + connect\n}\n\n/**\n * Just like {@link Stream | streams}, stateful streams present both input and output ends of a stream.\n * A single stream instance can be both subscribed to and published in.\n * Stateful Streams can also act like depots, preserving the last passed value and immediately publishing it to new subscriptions.\n * [[getValue]] can be used to extract value from stateful streams.\n */\nexport interface StatefulStream<T> extends Publisher<T>, Emitter<T> {\n  /** @internal */\n  (action: SUBSCRIBE | PUBLISH | RESET | VALUE): any // fix for bug with pipe + connect\n  // StatefulStream should extend rather then duplicate the signature, but this somehow causes a bug in TS\n}\n\n/**\n * Subscribes the specified [[Subscription]] to the updates from the Emitter.\n * The emitter calls the subscription with the new data each time new data is published into it.\n *\n * ```ts\n * const foo = stream<number>();\n * subscribe(foo, (value) => console.log(value));\n * ```\n *\n * @returns an [[Unsubscribe]] handle  - calling it will unbind the subscription from the emitter.\n *```ts\n * const foo = stream<number>();\n * const unsub = subscribe(foo, (value) => console.log(value));\n * unsub();\n *```\n */\nexport function subscribe<T>(emitter: Emitter<T>, subscription: Subscription<T>): Unsubscribe {\n  return emitter(SUBSCRIBE, subscription)\n}\n\n/**\n * Publishes the value into the passed [[Publisher]].\n *\n * ```ts\n * const foo = stream<number>();\n * publish(foo, 42);\n * ```\n */\nexport function publish<T>(publisher: Publisher<T>, value: T) {\n  publisher(PUBLISH, value)\n}\n\n/**\n * Clears all subscriptions from the [[Emitter]].\n * ```ts\n * const foo = stream<number>();\n * subscribe(foo, (value) => console.log(value));\n * reset(foo);\n * publish(foo, 42);\n * ```\n */\nexport function reset(emitter: Emitter<any>) {\n  emitter(RESET)\n}\n\n/**\n * Extracts the current value from a stateful stream. Use it only as an escape hatch, as it violates the concept of reactive programming.\n * ```ts\n * const foo = statefulStream(42);\n * console.log(getValue(foo));\n * ```\n */\nexport function getValue<T>(depot: StatefulStream<T>): T {\n  return depot(VALUE)\n}\n\n/**\n * Connects two streams - any value emitted from the emitter will be published in the publisher.\n * ```ts\n * const foo = stream<number>();\n * const bar = stream<number>();\n * subscribe(bar, (value) => console.log(`Bar emitted ${value}`));\n *\n * connect(foo, bar);\n * publish(foo);\n * ```\n * @returns an [[Unsubscribe]] handle which will disconnect the two streams.\n */\nexport function connect<T>(emitter: Emitter<T>, publisher: Publisher<T>) {\n  return subscribe(emitter, curry2to1(publisher, PUBLISH))\n}\n\n/**\n * Executes the passed subscription at most once, for the next emit from the emitter.\n * ```ts\n * const foo = stream<number>()\n * handleNext(foo, value => console.log(value)) // called once, with 42\n * publish(foo, 42)\n * publish(foo, 43)\n * ```\n * @returns an [[Unsubscribe]] handle to unbind the subscription if necessary.\n */\nexport function handleNext<T>(emitter: Emitter<T>, subscription: Subscription<T>) {\n  const unsub = emitter(SUBSCRIBE, value => {\n    unsub()\n    subscription(value)\n  })\n  return unsub\n}\n","export const PUBLISH = 0 as const\nexport type PUBLISH = typeof PUBLISH\n\nexport const SUBSCRIBE = 1 as const\nexport type SUBSCRIBE = typeof SUBSCRIBE\n\nexport const RESET = 2 as const\nexport type RESET = typeof RESET\n\nexport const VALUE = 4 as const\nexport type VALUE = typeof VALUE\n","/**\n * Streams are the basic building blocks of a reactive system. Think of them as the system permanent \"data tubes\".\n *\n * A stream acts as both an [[Emitter]] and [[Publisher]]. Each stream can have multiple {@link Subscription | Subscriptions}.\n *\n * urx streams are either **stateless** or **stateful**.\n * Stateless streams emit data to existing subscriptions when published, without keeping track of it.\n * Stateful streams remember the last published value and immediately publish it to new subscriptions.\n *\n * ```ts\n * import { stream, statefulStream, publish, subscribe } from \"@virtuoso.dev/urx\";\n *\n * // foo is a stateless stream\n * const foo = stream<number>();\n *\n * publish(foo, 42);\n * // this subsription will not be called...\n * subscribe(foo, (value) => console.log(value));\n * // it will only catch published values after it\n * publish(foo, 43);\n *\n * // stateful streams always start with an initial value\n * const bar = statefulStream(42);\n *\n * // subscribing to a stateful stream\n * // immediately calls the subscription with the current value\n * subscribe(bar, (value) => console.log(value));\n *\n * // subsequent publishing works just like stateless streams\n * publish(bar, 43);\n * ```\n * @packageDocumentation\n */\n\nimport { Emitter, StatefulStream, Stream, Subscription, Unsubscribe, subscribe, connect } from './actions'\nimport { RESET, PUBLISH, SUBSCRIBE, VALUE } from './constants'\nimport { tap, noop } from './utils'\n\n/**\n * Constructs a new stateless stream.\n * ```ts\n * const foo = stream<number>();\n * ```\n * @typeParam T the type of values to publish in the stream.\n * @returns a [[Stream]]\n */\nexport function stream<T>(): Stream<T> {\n  const subscriptions = [] as Subscription<T>[]\n\n  return ((action: PUBLISH | SUBSCRIBE | RESET, arg: any) => {\n    switch (action) {\n      case RESET:\n        subscriptions.splice(0, subscriptions.length)\n        return\n      case SUBSCRIBE:\n        subscriptions.push(arg)\n        return () => {\n          const indexOf = subscriptions.indexOf(arg)\n          if (indexOf > -1) {\n            subscriptions.splice(indexOf, 1)\n          }\n        }\n      case PUBLISH:\n        subscriptions.slice().forEach(subscription => {\n          subscription(arg as T)\n        })\n        return\n      default:\n        throw new Error(`unrecognized action ${action}`)\n    }\n  }) as Stream<T>\n}\n\n/**\n * Constructs a new stateful stream.\n * ```ts\n * const foo = statefulStream(42);\n * ```\n * @param initial the initial value in the stream.\n * @typeParam T the type of values to publish in the stream. If omitted, the function infers it from the initial value.\n * @returns a [[StatefulStream]]\n */\nexport function statefulStream<T>(initial: T): StatefulStream<T> {\n  let value: T = initial\n  const innerSubject = stream<T>()\n\n  return ((action: PUBLISH | SUBSCRIBE | RESET | VALUE, arg: any) => {\n    switch (action) {\n      case SUBSCRIBE:\n        const subscription = arg as Subscription<T>\n        subscription(value)\n        break\n      case PUBLISH:\n        value = arg as T\n        break\n      case VALUE:\n        return value\n    }\n    return innerSubject(action as any, arg)\n  }) as StatefulStream<T>\n}\n\n/**\n * Event handlers are special emitters which can have **at most one active subscription**.\n * Subscribing to an event handler unsubscribes the previous subscription, if present.\n * ```ts\n * const foo = stream<number>();\n * const fooEvent = eventHandler(foo);\n *\n * // will be called once with 42\n * subscribe(fooEvent, (value) => console.log(`Sub 1 ${value}`));\n * publish(foo, 42);\n *\n * // unsubscribes sub 1\n * subscribe(fooEvent, (value) => console.log(`Sub 2 ${value}`));\n * publish(foo, 43);\n * ```\n * @param emitter the source emitter.\n * @returns the single-subscription emitter.\n */\nexport function eventHandler<T>(emitter: Emitter<T>) {\n  let unsub: Unsubscribe | undefined\n  let currentSubscription: any\n  let cleanup = () => unsub && unsub()\n\n  return function(action: SUBSCRIBE | RESET, subscription?: Subscription<T>) {\n    switch (action) {\n      case SUBSCRIBE:\n        if (subscription) {\n          if (currentSubscription === subscription) {\n            return\n          }\n          cleanup()\n          currentSubscription = subscription\n          unsub = subscribe(emitter, subscription!)\n          return unsub\n        } else {\n          cleanup()\n          return noop\n        }\n      case RESET:\n        cleanup()\n        currentSubscription = null\n        return\n      default:\n        throw new Error(`unrecognized action ${action}`)\n    }\n  } as Emitter<T>\n}\n\n/**\n * Creates and connects a \"junction\" stream to the specified emitter. Often used with [[pipe]], to avoid the multiple evaluation of operator sets.\n *\n * ```ts\n * const foo = stream<number>();\n *\n * const fooX2 = pipe(\n *   foo,\n *   map((value) => {\n *     console.log(`multiplying ${value}`);\n *     return value * 2;\n *   })\n * );\n *\n * subscribe(fooX2, (value) => console.log(value));\n * subscribe(fooX2, (value) => console.log(value));\n *\n * publish(foo, 42); // executes the map operator twice for each subscription.\n *\n * const sharedFooX2 = streamFromEmitter(pipe(\n *   foo,\n *   map((value) => {\n *     console.log(`shared multiplying ${value}`);\n *     return value * 2;\n *   })\n * ));\n *\n * subscribe(sharedFooX2, (value) => console.log(value));\n * subscribe(sharedFooX2, (value) => console.log(value));\n *\n * publish(foo, 42);\n *```\n * @returns the resulting stream.\n */\nexport function streamFromEmitter<T>(emitter: Emitter<T>): Stream<T> {\n  return tap(stream<T>(), stream => connect(emitter, stream))\n}\n\n/**\n * Creates and connects a \"junction\" stateful stream to the specified emitter. Often used with [[pipe]], to avoid the multiple evaluation of operator sets.\n *\n * ```ts\n * const foo = stream<number>();\n *\n * const fooX2 = pipe(\n *   foo,\n *   map((value) => {\n *     console.log(`multiplying ${value}`);\n *     return value * 2;\n *   })\n * );\n *\n * subscribe(fooX2, (value) => console.log(value));\n * subscribe(fooX2, (value) => console.log(value));\n *\n * publish(foo, 42); // executes the map operator twice for each subscription.\n *\n * const sharedFooX2 = statefulStreamFromEmitter(pipe(\n *   foo,\n *   map((value) => {\n *     console.log(`shared multiplying ${value}`);\n *     return value * 2;\n *   })\n * ), 42);\n *\n * subscribe(sharedFooX2, (value) => console.log(value));\n * subscribe(sharedFooX2, (value) => console.log(value));\n *\n * publish(foo, 42);\n *```\n * @param initial the initial value in the stream.\n * @returns the resulting stateful stream.\n */\nexport function statefulStreamFromEmitter<T>(emitter: Emitter<T>, initial: T): StatefulStream<T> {\n  return tap(statefulStream(initial), stream => connect(emitter, stream))\n}\n","/**\n *\n * Stream values can be transformed and controlled by {@link pipe | **piping**} through **operators**.\n * urx includes several operators like [[map]], [[filter]], [[scan]], and [[throttleTime]].\n * The [[withLatestFrom]] operator allows the combination of values from other streams.\n *\n * ```ts\n * const foo = stream<number>()\n *\n * // create an emitter that first adds 2 to the passed value, then multiplies it by * 2\n * const bar = pipe(foo, map(value => value + 2), map(value => value * 2))\n * subscribe(bar, value => console.log(value))\n * publish(foo, 2) // outputs 8\n * ```\n *\n * ### Implementing Custom Operators\n * To implement your own operators, implement the [[Operator]] interface.\n * @packageDocumentation\n */\nimport { compose, thrush } from './utils'\nimport { Emitter, subscribe, Subscription, reset } from './actions'\nimport { SUBSCRIBE, RESET } from './constants'\n\n/**\n * Operators can transform and control the flow of values.\n * [[pipe]] is used to transform one Emitter into another by stacking operators to its values.\n * To build your own operator that looks like the built-in ones,\n * create a function which returns an operator.\n * The following custom operator multiplies the passed value:\n *\n * ```ts\n * function multiplyBy(multiplier: number): Operator<number> {\n *  return done => value => done(value * multiplier)\n * }\n *\n * const foo = stream<number>()\n * const multipliedFoo = pipe(foo, multiplyBy(3))\n * subscribe(multipliedFoo, value => console.log(value))\n * publish(foo, 42)\n * ```\n */\nexport interface Operator<Input, Output = Input> {\n  (done: (value: Output) => void): (value: Input) => void\n}\n\n/** @internal */\ntype CombineOperatorsReturnType<I, O> = (subscriber: (value: O) => void) => (value: I) => void\n\n/** @internal */\nfunction combineOperators<I>(...operators: Operator<any, any>[]): CombineOperatorsReturnType<I, any> {\n  return (subscriber: (value: any) => void) => {\n    return operators.reduceRight(thrush, subscriber)\n  }\n}\n\n/** @internal */\ntype O<I, OP> = Operator<I, OP>\n\n/**\n * Creates a new emitter from the passed one by piping its values through one or more operators.\n * Operators can perform various actions like filter values, pull values from other emitters, or compute new values.\n *\n * ```ts\n * const foo = stream<number>()\n *\n * // create an emitter that first adds 2 to the passed value, then multiplies it by * 2\n * const bar = pipe(foo, map(value => value + 2), map(value => value * 2))\n * subscribe(bar, value => console.log(value))\n * publish(foo, 2) // outputs 8\n * ```\n * #### Sharing Subscription Calculations\n *\n * `pipe` acts as a proxy for the source emitter, and re-runs the operators for each subscription to the derived emitter.\n * Use [[streamFromEmitter]] or [[statefulStreamFromEmitter]] to avoid that.\n */\nexport function pipe<T>(s: Emitter<T>): Emitter<T> // prettier-ignore\nexport function pipe<T, O1>(s: Emitter<T>, o1: O<T, O1>): Emitter<O1> // prettier-ignore\nexport function pipe<T, O1, O2>(s: Emitter<T>, ...o: [O<T, O1>, O<O1, O2>]): Emitter<O2> // prettier-ignore\nexport function pipe<T, O1, O2, O3>(s: Emitter<T>, ...o: [O<T, O1>, O<O1, O2>, O<O2, O3>]): Emitter<O3> // prettier-ignore\nexport function pipe<T, O1, O2, O3, O4>(s: Emitter<T>, ...o: [O<T, O1>, O<O1, O2>, O<O2, O3>, O<O3, O4>]): Emitter<O4> // prettier-ignore\nexport function pipe<T, O1, O2, O3, O4, O5>(s: Emitter<T>, ...o: [O<T, O1>, O<O1, O2>, O<O2, O3>, O<O3, O4>, O<O4, O5>]): Emitter<O5> // prettier-ignore\nexport function pipe<T, O1, O2, O3, O4, O5, O6>(s: Emitter<T>, ...o: [O<T, O1>, O<O1, O2>, O<O2, O3>, O<O3, O4>, O<O4, O5>, O<O5, O6>]): Emitter<O6> // prettier-ignore\nexport function pipe<T, O1, O2, O3, O4, O5, O6, O7>(s: Emitter<T>, ...o: [O<T, O1>, O<O1, O2>, O<O2, O3>, O<O3, O4>, O<O4, O5>, O<O5, O6>, O<O6, O7>]): Emitter<O7> // prettier-ignore\nexport function pipe<T>(source: Emitter<T>, ...operators: O<any, any>[]): Emitter<any> {\n  // prettier-ignore\n  const project = combineOperators(...operators)\n  return ((action: SUBSCRIBE | RESET, subscription: Subscription<any>) => {\n    switch (action) {\n      case SUBSCRIBE:\n        return subscribe(source, project(subscription))\n      case RESET:\n        reset(source)\n        return\n      default:\n        throw new Error(`unrecognized action ${action}`)\n    }\n  }) as Emitter<any>\n}\n\n/**\n * A function which determines if two values are equal.\n * Implement custom comparators when [[distinctUntilChanged]] needs to work on non-primitive objects.\n * @returns true if values should be considered equal.\n */\nexport interface Comparator<T> {\n  (previous: T, next: T): boolean\n}\n\n/**\n * The default [[Comparator]] for [[distinctUntilChanged]] and [[duc]].\n */\nexport function defaultComparator<T>(previous: T, next: T) {\n  return previous === next\n}\n\n/**\n * Filters out identical values. Pass an optional [[Comparator]] if you need to filter non-primitive values.\n * ```ts\n * const foo = stream<number>()\n *\n * subscribe(\n *  pipe(foo, distinctUntilChanged()),\n *  console.log\n * ) // will be called only once\n *\n * publish(foo, 42)\n * publish(foo, 42)\n * ```\n */\nexport function distinctUntilChanged<T>(comparator: Comparator<T> = defaultComparator): Operator<T> {\n  let current: T\n  return done => next => {\n    if (!comparator(current, next)) {\n      current = next\n      done(next)\n    }\n  }\n}\n\n/**\n * Filters out values for which the predicator does not return `true`-ish.\n * ```ts\n * const foo = stream<number>()\n *\n * subscribe(\n *  pipe(foo, filter(value => value % 2 === 0)),\n *  console.log\n * ) // will be called only with even values\n *\n * publish(foo, 2)\n * publish(foo, 3)\n * publish(foo, 4)\n * publish(foo, 5)\n * ```\n */\nexport function filter<T>(predicate: (value: T) => boolean): Operator<T> {\n  return done => value => {\n    predicate(value) && done(value)\n  }\n}\n\n/**\n * Maps values using the provided project function.\n * ```ts\n * const foo = stream<number>()\n *\n * subscribe(\n *  pipe(foo, map(value => value * 2)),\n *  console.log\n * ) // 4, 6\n *\n * publish(foo, 2)\n * publish(foo, 3)\n * ```\n */\nexport function map<T, K>(project: (value: T) => K): Operator<T, K> {\n  return done => compose(done, project)\n}\n\n/**\n * Maps values to the hard-coded value.\n * ```ts\n * const foo = stream<number>()\n *\n * subscribe(\n *  pipe(foo, mapTo(3)),\n *  console.log\n * ) // 3, 3\n *\n * publish(foo, 1)\n * publish(foo, 2)\n * ```\n */\nexport function mapTo<T>(value: T): Operator<any, T> {\n  return done => () => done(value)\n}\n\n/**\n * Works like Array#reduce.\n * Applies an accumulator function on the emitter, and outputs intermediate result. Starts with the initial value.\n * ```ts\n * const foo = stream<number>()\n *\n * subscribe(\n *  pipe(foo, scan((acc, value) => acc + value, 2),\n *  console.log\n * ) // 3, 5\n *\n * publish(foo, 1)\n * publish(foo, 2)\n * ```\n */\nexport function scan<T, K>(scanner: (current: T, value: K) => T, initial: T): Operator<K, T> {\n  return done => value => done((initial = scanner(initial, value)))\n}\n\n/**\n * Skips the specified amount of values from the emitter.\n * ```ts\n * const foo = stream<number>()\n *\n * subscribe(\n *  pipe(foo, skip(2)),\n *  console.log\n * ) // 3, 4\n *\n * publish(foo, 1) // skipped\n * publish(foo, 2) // skipped\n * publish(foo, 3)\n * publish(foo, 4)\n * ```\n */\nexport function skip<T>(times: number): Operator<T> {\n  return done => value => {\n    times > 0 ? times-- : done(value)\n  }\n}\n\n/**\n * Throttles flowing values at the provided interval in milliseconds.\n * [Throttle VS Debounce in SO](https://stackoverflow.com/questions/25991367/difference-between-throttling-and-debouncing-a-function).\n *\n * ```ts\n *  const foo = stream<number>()\n *  publish(foo, 1)\n *\n *  setTimeout(() => publish(foo, 2), 20)\n *  setTimeout(() => publish(foo, 3), 20)\n *\n *  subscribe(pipe(foo, throttleTime(50)), val => {\n *    console.log(value); // 3\n *  })\n * ```\n */\nexport function throttleTime<T>(interval: number): Operator<T> {\n  let currentValue: T | undefined\n  let timeout: any\n\n  return done => value => {\n    currentValue = value\n\n    if (timeout) {\n      return\n    }\n\n    timeout = setTimeout(() => {\n      timeout = undefined\n      done(currentValue!)\n    }, interval)\n  }\n}\n\n/**\n * Debounces flowing values at the provided interval in milliseconds.\n * [Throttle VS Debounce in SO](https://stackoverflow.com/questions/25991367/difference-between-throttling-and-debouncing-a-function).\n *\n * ```ts\n *  const foo = stream<number>()\n *  publish(foo, 1)\n *\n *  setTimeout(() => publish(foo, 2), 20)\n *  setTimeout(() => publish(foo, 3), 20)\n *\n *  subscribe(pipe(foo, debounceTime(50)), val => {\n *    console.log(value); // 3\n *  })\n * ```\n */\nexport function debounceTime<T>(interval: number): Operator<T> {\n  let currentValue: T | undefined\n  let timeout: any\n\n  return done => value => {\n    currentValue = value\n    if (timeout) {\n      clearTimeout(timeout)\n    }\n\n    timeout = setTimeout(() => {\n      done(currentValue!)\n    }, interval)\n  }\n}\n\n/**\n * Combines the source Emitter with the latest values from the specified Emitters into an array. Outputs only when the source Emitter emits.\n * See [[combineLatest]] for a transformer that outputs when any of the emitters emit.\n *\n * ```ts\n *  const foo = stream<number>()\n *  const bar = stream<number>()\n *  subscribe(\n *    pipe(\n *      foo,\n *      withLatestFrom(bar)\n *    ),\n *    (([foo, bar]) => console.log({ foo, bar }))\n *  )\n *\n *  publish(foo, 1) // nothing happens, bar has not emitted yet\n *  publish(bar, 1) // still nothing\n *  publish(foo, 2) // logs { foo: 2, bar: 1 }\n *  publish(bar, 2)\n *  publish(foo, 3) // logs { foo: 3, bar: 2 }\n * ```\n */\nexport function withLatestFrom<T, R1>(...s: [Emitter<R1>]): Operator<T, [T, R1]> // prettier-ignore\nexport function withLatestFrom<T, R1, R2>(...s: [Emitter<R1>, Emitter<R2>]): Operator<T, [T, R1, R2]> // prettier-ignore\nexport function withLatestFrom<T, R1, R2, R3>( ...s: [Emitter<R1>, Emitter<R2>, Emitter<R3>]): Operator<T, [T, R1, R2, R3]> // prettier-ignore\nexport function withLatestFrom<T, R1, R2, R3, R4>( ...s: [Emitter<R1>, Emitter<R2>, Emitter<R3>, Emitter<R4>]): Operator<T, [T, R1, R2, R3, R4]> // prettier-ignore\nexport function withLatestFrom<T, R1, R2, R3, R4, R5>( ...s: [Emitter<R1>, Emitter<R2>, Emitter<R3>, Emitter<R4>, Emitter<R5>]): Operator<T, [T, R1, R2, R3, R4, R5]> // prettier-ignore\nexport function withLatestFrom<T, R1, R2, R3, R4, R5, R6>( ...s: [Emitter<R1>, Emitter<R2>, Emitter<R3>, Emitter<R4>, Emitter<R5>, Emitter<R6>]): Operator<T, [T, R1, R2, R3, R4, R5, R6]> // prettier-ignore\nexport function withLatestFrom<T, R1, R2, R3, R4, R5, R6, R7>( ...s: [Emitter<R1>, Emitter<R2>, Emitter<R3>, Emitter<R4>, Emitter<R5>, Emitter<R6>, Emitter<R7>]): Operator<T, [T, R1, R2, R3, R4, R5, R6, R7]> // prettier-ignore\nexport function withLatestFrom(...sources: Emitter<any>[]): Operator<any, any> {\n  const values = new Array(sources.length)\n  let called = 0\n  let pendingCall: null | (() => void) = null\n  const allCalled = Math.pow(2, sources.length) - 1\n\n  sources.forEach((source, index) => {\n    const bit = Math.pow(2, index)\n    subscribe(source, value => {\n      let prevCalled = called\n      called = called | bit\n      values[index] = value\n      if (prevCalled !== allCalled && called === allCalled && pendingCall) {\n        pendingCall()\n        pendingCall = null\n      }\n    })\n  })\n\n  return done => value => {\n    let call = () => done([value].concat(values))\n    if (called === allCalled) {\n      call()\n    } else {\n      pendingCall = call\n    }\n  }\n}\n","/**\n * Transformers change and combine streams, similar to operators.\n * urx comes with two combinators - [[combineLatest]] and [[merge]], and one convenience filter - [[duc]].\n *\n * @packageDocumentation\n */\nimport { Emitter, publish, reset, subscribe, Subscription } from './actions'\nimport { RESET, SUBSCRIBE } from './constants'\nimport { Comparator, defaultComparator, distinctUntilChanged, pipe } from './pipe'\nimport { stream } from './streams'\nimport { joinProc } from './utils'\n\n/**\n * Merges one or more emitters from the same type into a new Emitter which emits values from any of the source emitters.\n * ```ts\n * const foo = stream<number>()\n * const bar = stream<number>()\n *\n * subscribe(merge(foo, bar), (value) => console.log(value)) // 42, 43\n *\n * publish(foo, 42)\n * publish(bar, 43)\n * ```\n */\nexport function merge<T>(...sources: Emitter<T>[]): Emitter<T> {\n  return function(action: SUBSCRIBE | RESET, subscription?: Subscription<any>) {\n    switch (action) {\n      case SUBSCRIBE:\n        return joinProc(...sources.map(source => subscribe(source, subscription!)))\n      case RESET:\n        // do nothing, we are stateless\n        return\n      default:\n        throw new Error(`unrecognized action ${action}`)\n    }\n  } as Emitter<T>\n}\n\n/**\n * A convenience wrapper that emits only the distinct values from the passed Emitter. Wraps [[pipe]] and [[distinctUntilChanged]].\n *\n * ```ts\n * const foo = stream<number>()\n *\n * // this line...\n * const a = duc(foo)\n *\n * // is equivalent to this\n * const b = pipe(distinctUntilChanged(foo))\n * ```\n *\n * @param source The source emitter.\n * @param comparator optional custom comparison function for the two values.\n *\n * @typeParam T the type of the value emitted by the source.\n *\n * @returns the resulting emitter.\n */\nexport function duc<T>(source: Emitter<T>, comparator: Comparator<T> = defaultComparator): Emitter<T> {\n  return pipe(source, distinctUntilChanged(comparator))\n}\n\n/**\n * Creates an emitter with the latest values from all passed emitters as an array.\n *\n * `combineLatest` acts as a Depot. Using it on stateless streams persists the last emitted value of each [[Emitter]].\n * Provided that all emitters have emitted at least once, subscribing to the resulting emitter will immediately receive their combined latest values.\n *\n * ```ts\n * const foo = stream<number>()\n * const bar = stream<number>()\n *\n * subscribe(combineLatest(foo, bar), ([foo, bar]) => console.log({ foo, bar }))\n *\n * publish(foo, 42)\n * publish(bar, 43) // { foo: 42, bar: 43 }\n * publish(foo, 44) // { foo: 44, bar: 43 }\n * publish(bar, 45) // { foo: 44, bar: 45 }\n * ```\n */\nexport function combineLatest<O1, O2>(...emitters: [Emitter<O1>, Emitter<O2>]): Emitter<[O1, O2]> // prettier-ignore\nexport function combineLatest<O1, O2, O3>( ...emitters: [Emitter<O1>, Emitter<O2>, Emitter<O3>]): Emitter<[O1, O2, O3]> // prettier-ignore\nexport function combineLatest<O1, O2, O3, O4>( ...emitters: [Emitter<O1>, Emitter<O2>, Emitter<O3>, Emitter<O4>]): Emitter<[O1, O2, O3, O4]> // prettier-ignore\nexport function combineLatest<O1, O2, O3>( ...emitters: [Emitter<O1>, Emitter<O2>, Emitter<O3>]): Emitter<[O1, O2, O3]> // prettier-ignore\nexport function combineLatest<O1, O2, O3, O4, O5>( ...emitters: [Emitter<O1>, Emitter<O2>, Emitter<O3>, Emitter<O4>, Emitter<O5>]): Emitter<[O1, O2, O3, O4, O5]> // prettier-ignore\nexport function combineLatest<O1, O2, O3, O4, O5, O6>( ...emitters: [Emitter<O1>, Emitter<O2>, Emitter<O3>, Emitter<O4>, Emitter<O5>, Emitter<O6>]): Emitter<[O1, O2, O3, O4, O5, O6]> // prettier-ignore\nexport function combineLatest<O1, O2, O3, O4, O5, O6, O7>( ...emitters: [Emitter<O1>, Emitter<O2>, Emitter<O3>, Emitter<O4>, Emitter<O5>, Emitter<O6>, Emitter<O7>]): Emitter<[O1, O2, O3, O4, O5, O6, O7]> // prettier-ignore\nexport function combineLatest<O1, O2, O3, O4, O5, O6, O7, O8>( ...emitters: [Emitter<O1>, Emitter<O2>, Emitter<O3>, Emitter<O4>, Emitter<O5>, Emitter<O6>, Emitter<O7>, Emitter<O8>]): Emitter<[O1, O2, O3, O4, O5, O6, O7, O8]> // prettier-ignore\nexport function combineLatest<O1, O2, O3, O4, O5, O6, O7, O8, O9>( ...emitters: [Emitter<O1>, Emitter<O2>, Emitter<O3>, Emitter<O4>, Emitter<O5>, Emitter<O6>, Emitter<O7>, Emitter<O8>, Emitter<O9>]): Emitter<[O1, O2, O3, O4, O5, O6, O7, O8, O9]> // prettier-ignore\nexport function combineLatest<O1, O2, O3, O4, O5, O6, O7, O8, O9, O10>( ...emitters: [Emitter<O1>, Emitter<O2>, Emitter<O3>, Emitter<O4>, Emitter<O5>, Emitter<O6>, Emitter<O7>, Emitter<O8>, Emitter<O9>, Emitter<O10>]): Emitter<[O1, O2, O3, O4, O5, O6, O7, O8, O9, O10]> // prettier-ignore\nexport function combineLatest<O1, O2, O3, O4, O5, O6, O7, O8, O9, O10, O11>( ...emitters: [Emitter<O1>, Emitter<O2>, Emitter<O3>, Emitter<O4>, Emitter<O5>, Emitter<O6>, Emitter<O7>, Emitter<O8>, Emitter<O9>, Emitter<O10>, Emitter<O11>]): Emitter<[O1, O2, O3, O4, O5, O6, O7, O8, O9, O10, O11]> // prettier-ignore\nexport function combineLatest(...emitters: Emitter<any>[]): Emitter<any> {\n  let innerSubject = stream<any>()\n  const values = new Array(emitters.length)\n  let called = 0\n  const allCalled = Math.pow(2, emitters.length) - 1\n\n  emitters.forEach((source, index) => {\n    const bit = Math.pow(2, index)\n    subscribe(source, value => {\n      values[index] = value\n      called = called | bit\n      if (called === allCalled) {\n        publish(innerSubject, values)\n      }\n    })\n  })\n\n  return function(action: SUBSCRIBE | RESET, subscription?: Subscription<any>) {\n    switch (action) {\n      case SUBSCRIBE:\n        if (called === allCalled) {\n          subscription!(values)\n        }\n        return subscribe(innerSubject, subscription!)\n      case RESET:\n        return reset(innerSubject)\n      default:\n        throw new Error(`unrecognized action ${action}`)\n    }\n  } as Emitter<any>\n}\n","/**\n * ## Thinking in Systems\n * systems are a stateful **data-processing machines** which accept input through **input streams**,\n * init and maintain state in **depots** and, in certain conditions, emit values to subscriptions through **output streams**.\n * Systems can specify other systems as dependencies, and can act as singletons in the resulting dependency tree.\n *\n * ### Depots\n *\n * The first, and probably the most critical part to understand are **the depots**\n * mostly because they are somewhat implicit.\n * Unlike other state management paradigms, the depots are not kept in a single data structure.\n * Insted, depots are defined and maintained as stateful streams, stateful transfomers\n * like [[combineLatest]] or stateful operators like[ []withLatestFrom] or [[scan]].\n *\n * **Depots persist values over time**.\n * If it was not for them, the system had to re-receive its entire input state simultaneously in order to calculate the values for its output stream.\n *\n * Of course, strictly speaking, it is possible to implement a pure, stateless system as a form of a complex map/reduce. urx would not mind that ;).\n *\n * ### Input Streams\n *\n * The system receives updates from the rest of the world through values published in its input streams.\n * The streams used can be either stateless (acting as means to send **signals**) or stateful, where the initial stream state acts as the default value for that system parameter.\n *\n * The effects of the input streams are up to the system data-processing logic. It can change its depots' state, and/or emit values through its output streams.\n *\n * ### Data Processing\n *\n * The actual system behavior is exclusively implemented by **applying transformers and operators** to the input streams, producing the respective output streams.\n * In the final state the system streams are organized in a directed graph, where incoming data is routed through certain edges and nodes.\n * Simple systems like the one in [urx by example](https://urx.virtuoso.dev/docs/urx-by-example) can use a straightforward single-step transformation (in this case, `combineLatest` and `map`),\n * while complex ones can introduce multiple intermediate streams to model their logic.\n *\n * ### Output Streams\n *\n * The system publishes updates to its clients (other systems or an UI bound to it) by publishing data in its output streams.\n * State-reflecting output streams, like `sum` in the [urx by example](https://urx.virtuoso.dev/docs/urx-by-example) should use stateful streams as output streams.\n * Signal-like output should use regular, stateless streams. In general, stateless input streams tend to have a symmetrical stateless streams, and the opposite.\n *\n * @packageDocumentation\n */\nimport { Emitter } from './actions'\n\n/**\n * Systems are a dictionaries of streams. a [[SystemConstructor]] should return a System.\n */\nexport interface System {\n  [key: string]: Emitter<any>\n}\n\n/**\n * a SystemSpec is the result from a [[system]] call. To obtain the [[System]], pass the spec to [[init]].\n */\nexport interface SystemSpec<SS extends SystemSpecs, C extends SystemConstructor<SS>> {\n  id: string\n  constructor: C\n  dependencies: SS\n  singleton: boolean\n}\n\n/** @internal **/\nexport type AnySystemSpec = SystemSpec<any, any>\n\n/** @internal **/\nexport type SystemSpecs = AnySystemSpec[]\n\n/** @internal **/\nexport type SR<E extends AnySystemSpec, R extends System = ReturnType<E['constructor']>> = R\n\n/** @internal **/\nexport type SpecResults<SS extends SystemSpecs, L = SS['length']> = L extends 0\n  ? []\n  : L extends 1\n  ? [SR<SS[0]>]\n  : L extends 2\n  ? [SR<SS[0]>, SR<SS[1]>]\n  : L extends 3\n  ? [SR<SS[0]>, SR<SS[1]>, SR<SS[2]>]\n  : L extends 4\n  ? [SR<SS[0]>, SR<SS[1]>, SR<SS[2]>, SR<SS[3]>]\n  : L extends 5\n  ? [SR<SS[0]>, SR<SS[1]>, SR<SS[2]>, SR<SS[3]>, SR<SS[4]>]\n  : L extends 6\n  ? [SR<SS[0]>, SR<SS[1]>, SR<SS[2]>, SR<SS[3]>, SR<SS[4]>, SR<SS[5]>]\n  : L extends 7\n  ? [SR<SS[0]>, SR<SS[1]>, SR<SS[2]>, SR<SS[3]>, SR<SS[4]>, SR<SS[5]>, SR<SS[6]>]\n  : L extends 8\n  ? [SR<SS[0]>, SR<SS[1]>, SR<SS[2]>, SR<SS[3]>, SR<SS[4]>, SR<SS[5]>, SR<SS[6]>, SR<SS[7]>]\n  : L extends 9\n  ? [SR<SS[0]>, SR<SS[1]>, SR<SS[2]>, SR<SS[3]>, SR<SS[4]>, SR<SS[5]>, SR<SS[6]>, SR<SS[7]>, SR<SS[8]>]\n  : L extends 10\n  ? [SR<SS[0]>, SR<SS[1]>, SR<SS[2]>, SR<SS[3]>, SR<SS[4]>, SR<SS[5]>, SR<SS[6]>, SR<SS[7]>, SR<SS[8]>, SR<SS[9]>]\n  : L extends 11\n  ? [SR<SS[0]>, SR<SS[1]>, SR<SS[2]>, SR<SS[3]>, SR<SS[4]>, SR<SS[5]>, SR<SS[6]>, SR<SS[7]>, SR<SS[8]>, SR<SS[9]>, SR<SS[10]>]\n  : never\n\n/**\n * The system constructor is a function which initializes and connects streams and returns them as a [[System]].\n * If the [[system]] call specifies system dependencies, the constructor receives the dependencies as an array argument.\n */\nexport type SystemConstructor<D extends SystemSpecs> = (dependencies: SpecResults<D>) => System\n\n/**\n * `system` defines a specification of a system - its constructor, dependencies and if it should act as a singleton in a system dependency tree.\n * When called, system returns a [[SystemSpec]], which is then initialized along with its dependencies by passing it to [[init]].\n *\n * ```ts\n * @import { subscribe, publish, system, init, tup, connect, map, pipe } from 'urx'\n *\n * // a simple system with two streams\n * const sys1 = system(() => {\n *  const a = stream<number>()\n *  const b = stream<number>()\n *\n *  connect(pipe(a, map(value => value * 2)), b)\n *  return { a, b }\n * })\n *\n * // a second system which depends on the streams from the first one\n * const sys2 = system(([ {a, b} ]) => {\n *  const c = stream<number>()\n *  connect(pipe(b, map(value => value * 2)), c)\n *  // re-export the `a` stream, keep `b` internal\n *  return { a, c }\n * }, tup(sys1))\n *\n * // init will recursively initialize sys2 dependencies, in this case sys1\n * const { a, c } = init(sys2)\n * subscribe(c, c => console.log(`Value multiplied by 4`, c))\n * publish(a, 2)\n * ```\n *\n * #### Singletons in Dependency Tree\n *\n * By default, systems will be initialized only once if encountered multiple times in the dependency tree.\n * In the below dependency system tree, systems `b` and `c` will receive the same stream instances from system `a` when system `d` is initialized.\n * ```txt\n *   a\n *  / \\\n * b   c\n *  \\ /\n *   d\n * ```\n * If `a` gets `{singleton: false}` as a last argument, `init` creates two separate instances - one for `b` and one for `c`.\n *\n * @param constructor the system constructor function. Initialize and connect the streams in its body.\n *\n * @param dependencies the system dependencies, which the constructor will receive as arguments.\n * Use the [[tup]] utility **For TypeScript type inference to work correctly**.\n * ```ts\n * const sys3 = system(() => { ... }, tup(sys2, sys1))\n * ```\n * @param __namedParameters Options\n * @param singleton determines if the system will act as a singleton in a system dependency tree. `true` by default.\n */\nexport function system<F extends SystemConstructor<D>, D extends SystemSpecs>(\n  constructor: F,\n  dependencies: D = ([] as unknown) as D,\n  { singleton }: { singleton: boolean } = { singleton: true }\n): SystemSpec<D, F> {\n  return {\n    id: id(),\n    constructor,\n    dependencies,\n    singleton,\n  }\n}\n\n/** @internal */\nconst id = () => (Symbol() as unknown) as string\n\n/**\n * Initializes a [[SystemSpec]] by recursively initializing its dependencies.\n *\n * ```ts\n * // a simple system with two streams\n * const sys1 = system(() => {\n *  const a = stream<number>()\n *  const b = stream<number>()\n *\n *  connect(pipe(a, map(value => value * 2)), b)\n *  return { a, b }\n * })\n *\n * const { a, b } = init(sys1)\n * subscribe(b, b => console.log(b))\n * publish(a, 2)\n * ```\n *\n * @returns the [[System]] constructed by the spec constructor.\n * @param systemSpec the system spec to initialize.\n */\nexport function init<SS extends AnySystemSpec>(systemSpec: SS): SR<SS> {\n  const singletons = new Map<string, System>()\n  const _init = <SS extends AnySystemSpec>({ id, constructor, dependencies, singleton }: SS) => {\n    if (singleton && singletons.has(id)) {\n      return singletons.get(id)! as SR<SS>\n    }\n    const system = constructor(dependencies.map((e: AnySystemSpec) => _init(e)))\n    if (singleton) {\n      singletons.set(id, system)\n    }\n    return system as any\n  }\n  return _init(systemSpec)\n}\n","import { useEffect, useLayoutEffect } from 'react'\n\nconst useIsomorphicLayoutEffect = typeof document !== 'undefined' ? useLayoutEffect : useEffect\n\nexport default useIsomorphicLayoutEffect\n","import * as u from '@virtuoso.dev/urx'\n\n// eslint-disable-next-line @typescript-eslint/no-namespace\ndeclare namespace globalThis {\n  let VIRTUOSO_LOG_LEVEL: LogLevel | undefined\n}\n\n// eslint-disable-next-line @typescript-eslint/no-namespace\ndeclare namespace window {\n  let VIRTUOSO_LOG_LEVEL: LogLevel | undefined\n}\n\nexport enum LogLevel {\n  DEBUG,\n  INFO,\n  WARN,\n  ERROR,\n}\nexport interface LogMessage {\n  level: LogLevel\n  message: any\n  label: string\n}\n\nexport type Log = (label: string, message: any, level?: LogLevel) => void\n\nconst CONSOLE_METHOD_MAP = {\n  [LogLevel.DEBUG]: 'debug',\n  [LogLevel.INFO]: 'log',\n  [LogLevel.WARN]: 'warn',\n  [LogLevel.ERROR]: 'error',\n} as const\n\nconst getGlobalThis = () => (typeof globalThis === 'undefined' ? window : globalThis)\n\nexport const loggerSystem = u.system(\n  () => {\n    const logLevel = u.statefulStream<LogLevel>(LogLevel.ERROR)\n    const log = u.statefulStream<Log>((label: string, message: any, level: LogLevel = LogLevel.INFO) => {\n      const currentLevel = getGlobalThis()['VIRTUOSO_LOG_LEVEL'] ?? u.getValue(logLevel)\n      if (level >= currentLevel) {\n        // eslint-disable-next-line no-console\n        console[CONSOLE_METHOD_MAP[level]](\n          '%creact-virtuoso: %c%s %o',\n          'color: #0253b3; font-weight: bold',\n          'color: initial',\n          label,\n          message\n        )\n      }\n    })\n\n    return {\n      log,\n      logLevel,\n    }\n  },\n  [],\n  { singleton: true }\n)\n","import { useRef } from 'react'\n\nexport type CallbackRefParam = HTMLElement | null\n\nexport function useSizeWithElRef(callback: (e: HTMLElement) => void, enabled = true) {\n  const ref = useRef<CallbackRefParam>(null)\n\n  let callbackRef = (_el: CallbackRefParam) => {\n    void 0\n  }\n\n  if (typeof ResizeObserver !== 'undefined') {\n    const observer = new ResizeObserver((entries: ResizeObserverEntry[]) => {\n      const element = entries[0].target as HTMLElement\n      if (element.offsetParent !== null) {\n        callback(element)\n      }\n    })\n\n    callbackRef = (elRef: CallbackRefParam) => {\n      if (elRef && enabled) {\n        observer.observe(elRef)\n        ref.current = elRef\n      } else {\n        if (ref.current) {\n          observer.unobserve(ref.current)\n        }\n        ref.current = null\n      }\n    }\n  }\n\n  return { ref, callbackRef }\n}\n\nexport default function useSize(callback: (e: HTMLElement) => void, enabled = true) {\n  return useSizeWithElRef(callback, enabled).callbackRef\n}\n","import { Log, LogLevel } from '../loggerSystem'\nimport { SizeFunction, SizeRange } from '../sizeSystem'\nimport { useSizeWithElRef } from './useSize'\nimport { ScrollContainerState } from '../interfaces'\nexport default function useChangedListContentsSizes(\n  callback: (ranges: SizeRange[]) => void,\n  itemSize: SizeFunction,\n  enabled: boolean,\n  scrollContainerStateCallback: (state: ScrollContainerState) => void,\n  log: Log,\n  gap?: (gap: number) => void,\n  customScrollParent?: HTMLElement\n) {\n  return useSizeWithElRef((el: HTMLElement) => {\n    const ranges = getChangedChildSizes(el.children, itemSize, 'offsetHeight', log)\n    let scrollableElement = el.parentElement!\n\n    while (!scrollableElement.dataset['virtuosoScroller']) {\n      scrollableElement = scrollableElement.parentElement!\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    const windowScrolling = (scrollableElement.firstElementChild! as HTMLDivElement).dataset['viewportType']! === 'window'\n\n    const scrollTop = customScrollParent\n      ? customScrollParent.scrollTop\n      : windowScrolling\n      ? window.pageYOffset || document.documentElement.scrollTop\n      : scrollableElement.scrollTop\n\n    const scrollHeight = customScrollParent\n      ? customScrollParent.scrollHeight\n      : windowScrolling\n      ? document.documentElement.scrollHeight\n      : scrollableElement.scrollHeight\n\n    const viewportHeight = customScrollParent\n      ? customScrollParent.offsetHeight\n      : windowScrolling\n      ? window.innerHeight\n      : scrollableElement.offsetHeight\n\n    scrollContainerStateCallback({\n      scrollTop: Math.max(scrollTop, 0),\n      scrollHeight,\n      viewportHeight,\n    })\n\n    gap?.(resolveGapValue('row-gap', getComputedStyle(el).rowGap, log))\n\n    if (ranges !== null) {\n      callback(ranges)\n    }\n  }, enabled)\n}\n\nfunction getChangedChildSizes(children: HTMLCollection, itemSize: SizeFunction, field: 'offsetHeight' | 'offsetWidth', log: Log) {\n  const length = children.length\n\n  if (length === 0) {\n    return null\n  }\n\n  const results: SizeRange[] = []\n\n  for (let i = 0; i < length; i++) {\n    const child = children.item(i) as HTMLElement\n\n    if (!child || child.dataset.index === undefined) {\n      continue\n    }\n\n    const index = parseInt(child.dataset.index!)\n    const knownSize = parseFloat(child.dataset.knownSize!)\n    const size = itemSize(child, field)\n\n    if (size === 0) {\n      log('Zero-sized element, this should not happen', { child }, LogLevel.ERROR)\n    }\n\n    if (size === knownSize) {\n      continue\n    }\n\n    const lastResult = results[results.length - 1]\n    if (results.length === 0 || lastResult.size !== size || lastResult.endIndex !== index - 1) {\n      results.push({ startIndex: index, endIndex: index, size })\n    } else {\n      results[results.length - 1].endIndex++\n    }\n  }\n\n  return results\n}\n\nfunction resolveGapValue(property: string, value: string, log: Log) {\n  if (value !== 'normal' && !value.endsWith('px')) {\n    log(`${property} was not resolved to pixel value correctly`, value, LogLevel.WARN)\n  }\n  if (value === 'normal') {\n    return 0\n  }\n  return parseInt(value, 10)\n}\n","export function correctItemSize(el: HTMLElement, dimension: 'height' | 'width') {\n  return Math.round(el.getBoundingClientRect()[dimension])\n}\n","export function approximatelyEqual(num1: number, num2: number) {\n  return Math.abs(num1 - num2) < 1.01\n}\n","import { useRef, useCallback, useEffect } from 'react'\nimport * as u from '@virtuoso.dev/urx'\nimport { correctItemSize } from '../utils/correctItemSize'\nimport { ScrollContainerState } from '../interfaces'\nimport { flushSync } from 'react-dom'\nimport { approximatelyEqual } from '../utils/approximatelyEqual'\n\nexport type ScrollerRef = Window | HTMLElement | null\n\nexport default function useScrollTop(\n  scrollContainerStateCallback: (state: ScrollContainerState) => void,\n  smoothScrollTargetReached: (yes: true) => void,\n  scrollerElement: any,\n  scrollerRefCallback: (ref: ScrollerRef) => void = u.noop,\n  customScrollParent?: HTMLElement\n) {\n  const scrollerRef = useRef<HTMLElement | null | Window>(null)\n  const scrollTopTarget = useRef<any>(null)\n  const timeoutRef = useRef<ReturnType<typeof setTimeout> | null>(null)\n  const shouldFlushSync = useRef(false)\n\n  const handler = useCallback(\n    (ev: Event) => {\n      const el = ev.target as HTMLElement\n      const windowScroll = (el as any) === window || (el as any) === document\n      const scrollTop = windowScroll ? window.pageYOffset || document.documentElement.scrollTop : el.scrollTop\n      const scrollHeight = windowScroll ? document.documentElement.scrollHeight : el.scrollHeight\n      const viewportHeight = windowScroll ? window.innerHeight : el.offsetHeight\n\n      const call = () => {\n        scrollContainerStateCallback({\n          scrollTop: Math.max(scrollTop, 0),\n          scrollHeight,\n          viewportHeight,\n        })\n      }\n\n      if (shouldFlushSync.current) {\n        flushSync(call)\n      } else {\n        call()\n      }\n      shouldFlushSync.current = false\n\n      if (scrollTopTarget.current !== null) {\n        if (scrollTop === scrollTopTarget.current || scrollTop <= 0 || scrollTop === scrollHeight - viewportHeight) {\n          scrollTopTarget.current = null\n          smoothScrollTargetReached(true)\n          if (timeoutRef.current) {\n            clearTimeout(timeoutRef.current)\n            timeoutRef.current = null\n          }\n        }\n      }\n    },\n    [scrollContainerStateCallback, smoothScrollTargetReached]\n  )\n\n  useEffect(() => {\n    const localRef = customScrollParent ? customScrollParent : scrollerRef.current!\n\n    scrollerRefCallback(customScrollParent ? customScrollParent : scrollerRef.current)\n    handler({ target: localRef } as unknown as Event)\n    localRef.addEventListener('scroll', handler, { passive: true })\n\n    return () => {\n      scrollerRefCallback(null)\n      localRef.removeEventListener('scroll', handler)\n    }\n  }, [scrollerRef, handler, scrollerElement, scrollerRefCallback, customScrollParent])\n\n  function scrollToCallback(location: ScrollToOptions) {\n    const scrollerElement = scrollerRef.current\n    if (!scrollerElement || ('offsetHeight' in scrollerElement && scrollerElement.offsetHeight === 0)) {\n      return\n    }\n\n    const isSmooth = location.behavior === 'smooth'\n\n    let offsetHeight: number\n    let scrollHeight: number\n    let scrollTop: number\n\n    if (scrollerElement === window) {\n      // this is not a mistake\n      scrollHeight = Math.max(correctItemSize(document.documentElement, 'height'), document.documentElement.scrollHeight)\n      offsetHeight = window.innerHeight\n      scrollTop = document.documentElement.scrollTop\n    } else {\n      scrollHeight = (scrollerElement as HTMLElement).scrollHeight\n      offsetHeight = correctItemSize(scrollerElement as HTMLElement, 'height')\n      scrollTop = (scrollerElement as HTMLElement).scrollTop\n    }\n\n    const maxScrollTop = scrollHeight - offsetHeight\n    location.top = Math.ceil(Math.max(Math.min(maxScrollTop, location.top!), 0))\n\n    // avoid system hanging because the DOM never called back\n    // with the scrollTop\n    // scroller is already at this location\n    if (approximatelyEqual(offsetHeight, scrollHeight) || location.top === scrollTop) {\n      scrollContainerStateCallback({ scrollTop, scrollHeight, viewportHeight: offsetHeight })\n      if (isSmooth) {\n        smoothScrollTargetReached(true)\n      }\n      return\n    }\n\n    if (isSmooth) {\n      scrollTopTarget.current = location.top\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current)\n      }\n\n      timeoutRef.current = setTimeout(() => {\n        timeoutRef.current = null\n        scrollTopTarget.current = null\n        smoothScrollTargetReached(true)\n      }, 1000)\n    } else {\n      scrollTopTarget.current = null\n    }\n\n    scrollerElement.scrollTo(location)\n  }\n\n  function scrollByCallback(location: ScrollToOptions) {\n    shouldFlushSync.current = true\n    scrollerRef.current!.scrollBy(location)\n  }\n\n  return { scrollerRef, scrollByCallback, scrollToCallback }\n}\n","import * as u from '@virtuoso.dev/urx'\nimport { ScrollContainerState } from './interfaces'\n\nexport const domIOSystem = u.system(\n  () => {\n    const scrollContainerState = u.stream<ScrollContainerState>()\n    const scrollTop = u.stream<number>()\n    const deviation = u.statefulStream(0)\n    const smoothScrollTargetReached = u.stream<true>()\n    const statefulScrollTop = u.statefulStream(0)\n    const viewportHeight = u.stream<number>()\n    const scrollHeight = u.stream<number>()\n    const headerHeight = u.statefulStream(0)\n    const fixedHeaderHeight = u.statefulStream(0)\n    const footerHeight = u.statefulStream(0)\n    const scrollTo = u.stream<ScrollToOptions>()\n    const scrollBy = u.stream<ScrollToOptions>()\n    const scrollingInProgress = u.statefulStream(false)\n    // bogus, has no effect\n    const react18ConcurrentRendering = u.statefulStream(false)\n\n    u.connect(\n      u.pipe(\n        scrollContainerState,\n        u.map(({ scrollTop }) => scrollTop)\n      ),\n      scrollTop\n    )\n\n    u.connect(\n      u.pipe(\n        scrollContainerState,\n        u.map(({ scrollHeight }) => scrollHeight)\n      ),\n      scrollHeight\n    )\n\n    u.connect(scrollTop, statefulScrollTop)\n\n    return {\n      // input\n      scrollContainerState,\n      scrollTop,\n      viewportHeight,\n      headerHeight,\n      fixedHeaderHeight,\n      footerHeight,\n      scrollHeight,\n      smoothScrollTargetReached,\n      react18ConcurrentRendering,\n\n      // signals\n      scrollTo,\n      scrollBy,\n\n      // state\n      statefulScrollTop,\n      deviation,\n      scrollingInProgress,\n    }\n  },\n  [],\n  { singleton: true }\n)\n","interface NilNode {\n  lvl: 0\n}\n\nconst NIL_NODE: NilNode = { lvl: 0 }\n\ninterface NodeData<T> {\n  k: number\n  v: T\n}\n\ninterface NonNilAANode<T> {\n  k: number\n  v: T\n  lvl: number\n  l: NonNilAANode<T> | NilNode\n  r: NonNilAANode<T> | NilNode\n}\n\nexport interface Range<T> {\n  start: number\n  end: number\n  value: T\n}\n\nexport type AANode<T> = NilNode | NonNilAANode<T>\n\nfunction newAANode<T>(k: number, v: T, lvl: number, l: AANode<T> = NIL_NODE, r: AANode<T> = NIL_NODE): NonNilAANode<T> {\n  return { k, v, lvl, l, r }\n}\n\nexport function empty(node: AANode<any>): node is NilNode {\n  return node === NIL_NODE\n}\n\nexport function newTree<T>(): AANode<T> {\n  return NIL_NODE\n}\n\nexport function remove<T>(node: AANode<T>, key: number): AANode<T> {\n  if (empty(node)) return NIL_NODE\n\n  const { k, l, r } = node\n\n  if (key === k) {\n    if (empty(l)) {\n      return r\n    } else if (empty(r)) {\n      return l\n    } else {\n      const [lastKey, lastValue] = last(l)\n      return adjust(clone(node, { k: lastKey, v: lastValue, l: deleteLast(l) }))\n    }\n  } else if (key < k) {\n    return adjust(clone(node, { l: remove(l, key) }))\n  } else {\n    return adjust(clone(node, { r: remove(r, key) }))\n  }\n}\n\nexport function find<T>(node: AANode<T>, key: number): T | undefined {\n  if (empty(node)) {\n    return\n  }\n\n  if (key === node.k) {\n    return node.v\n  } else if (key < node.k) {\n    return find(node.l, key)\n  } else {\n    return find(node.r, key)\n  }\n}\n\nexport function findMaxKeyValue<T>(node: AANode<T>, value: number, field: 'k' | 'v' = 'k'): [number, T | undefined] {\n  if (empty(node)) {\n    return [-Infinity, undefined]\n  }\n\n  if (node[field] === value) {\n    return [node.k, node.v]\n  }\n\n  if (node[field] < value) {\n    const r = findMaxKeyValue(node.r, value, field)\n    if (r[0] === -Infinity) {\n      return [node.k, node.v]\n    } else {\n      return r\n    }\n  }\n\n  return findMaxKeyValue(node.l, value, field)\n}\n\nexport function insert<T>(node: AANode<T>, k: number, v: T): NonNilAANode<T> {\n  if (empty(node)) {\n    return newAANode(k, v, 1)\n  }\n  if (k === node.k) {\n    return clone(node, { k, v })\n  } else if (k < node.k) {\n    return rebalance(clone(node, { l: insert(node.l, k, v) }))\n  } else {\n    return rebalance(clone(node, { r: insert(node.r, k, v) }))\n  }\n}\n\nexport function walkWithin<T>(node: AANode<T>, start: number, end: number): NodeData<T>[] {\n  if (empty(node)) {\n    return []\n  }\n\n  const { k, v, l, r } = node\n  let result: NodeData<T>[] = []\n  if (k > start) {\n    result = result.concat(walkWithin(l, start, end))\n  }\n\n  if (k >= start && k <= end) {\n    result.push({ k, v })\n  }\n\n  if (k <= end) {\n    result = result.concat(walkWithin(r, start, end))\n  }\n\n  return result\n}\n\nexport function walk<T>(node: AANode<T>): NodeData<T>[] {\n  if (empty(node)) {\n    return []\n  }\n\n  return [...walk(node.l), { k: node.k, v: node.v }, ...walk(node.r)]\n}\n\nfunction last<T>(node: NonNilAANode<T>): [number, T] {\n  return empty(node.r) ? [node.k, node.v] : last(node.r)\n}\n\nfunction deleteLast<T>(node: NonNilAANode<T>): AANode<T> {\n  return empty(node.r) ? node.l : adjust(clone(node, { r: deleteLast(node.r) }))\n}\n\nfunction clone<T>(node: NonNilAANode<T>, args: Partial<NonNilAANode<T>>): NonNilAANode<T> {\n  return newAANode(\n    args.k !== undefined ? args.k : node.k,\n    args.v !== undefined ? args.v : node.v,\n    args.lvl !== undefined ? args.lvl : node.lvl,\n    args.l !== undefined ? args.l : node.l,\n    args.r !== undefined ? args.r : node.r\n  )\n}\n\nfunction isSingle(node: AANode<any>) {\n  return empty(node) || node.lvl > node.r.lvl\n}\n\nfunction rebalance<T>(node: NonNilAANode<T>): NonNilAANode<T> {\n  return split(skew(node))\n}\n\nfunction adjust<T>(node: NonNilAANode<T>): NonNilAANode<T> {\n  const { l, r, lvl } = node\n  if (r.lvl >= lvl - 1 && l.lvl >= lvl - 1) {\n    return node\n  } else if (lvl > r.lvl + 1) {\n    if (isSingle(l)) {\n      return skew(clone(node, { lvl: lvl - 1 }))\n    } else {\n      if (!empty(l) && !empty(l.r)) {\n        return clone(l.r, {\n          l: clone(l, { r: l.r.l }),\n          r: clone(node, {\n            l: l.r.r,\n            lvl: lvl - 1,\n          }),\n          lvl: lvl,\n        })\n      } else {\n        throw new Error('Unexpected empty nodes')\n      }\n    }\n  } else {\n    if (isSingle(node)) {\n      return split(clone(node, { lvl: lvl - 1 }))\n    } else {\n      if (!empty(r) && !empty(r.l)) {\n        const rl = r.l\n        const rlvl = isSingle(rl) ? r.lvl - 1 : r.lvl\n\n        return clone(rl, {\n          l: clone(node, {\n            r: rl.l,\n            lvl: lvl - 1,\n          }),\n          r: split(clone(r, { l: rl.r, lvl: rlvl })),\n          lvl: rl.lvl + 1,\n        })\n      } else {\n        throw new Error('Unexpected empty nodes')\n      }\n    }\n  }\n}\n\nexport function keys(node: AANode<any>): number[] {\n  if (empty(node)) {\n    return []\n  }\n  return [...keys(node.l), node.k, ...keys(node.r)]\n}\n\nexport function ranges<T>(node: AANode<T>): Range<T>[] {\n  return toRanges(walk(node))\n}\n\nexport function rangesWithin<T>(node: AANode<T>, startIndex: number, endIndex: number): Range<T>[] {\n  if (empty(node)) {\n    return []\n  }\n  const adjustedStart = findMaxKeyValue(node, startIndex)[0]\n  return toRanges(walkWithin(node, adjustedStart, endIndex))\n}\n\nexport function arrayToRanges<T, V>(\n  items: T[],\n  parser: (item: T) => { index: number; value: V }\n): Array<{ start: number; end: number; value: V }> {\n  const length = items.length\n  if (length === 0) {\n    return []\n  }\n\n  let { index: start, value } = parser(items[0])\n\n  const result = []\n\n  for (let i = 1; i < length; i++) {\n    const { index: nextIndex, value: nextValue } = parser(items[i])\n    result.push({ start, end: nextIndex - 1, value })\n\n    start = nextIndex\n    value = nextValue\n  }\n\n  result.push({ start, end: Infinity, value })\n  return result\n}\n\nfunction toRanges<T>(nodes: NodeData<T>[]): Range<T>[] {\n  return arrayToRanges(nodes, ({ k: index, v: value }) => ({ index, value }))\n}\n\nfunction split<T>(node: NonNilAANode<T>): NonNilAANode<T> {\n  const { r, lvl } = node\n\n  return !empty(r) && !empty(r.r) && r.lvl === lvl && r.r.lvl === lvl ? clone(r, { l: clone(node, { r: r.l }), lvl: lvl + 1 }) : node\n}\n\nfunction skew<T>(node: NonNilAANode<T>): NonNilAANode<T> {\n  const { l } = node\n\n  return !empty(l) && l.lvl === node.lvl ? clone(l, { r: clone(node, { l: l.r }) }) : node\n}\n","export type Comparator<T> = {\n  (item: T, value: number): -1 | 0 | 1\n}\n\nexport function findIndexOfClosestSmallerOrEqual<T>(items: T[], value: number, comparator: Comparator<T>, start = 0): number {\n  let end = items.length - 1\n\n  while (start <= end) {\n    const index = Math.floor((start + end) / 2)\n    const item = items[index]\n    const match = comparator(item, value)\n    if (match === 0) {\n      return index\n    }\n\n    if (match === -1) {\n      if (end - start < 2) {\n        return index - 1\n      }\n      end = index - 1\n    } else {\n      if (end === start) {\n        return index\n      }\n      start = index + 1\n    }\n  }\n\n  throw new Error(`Failed binary finding record in array - ${items.join(',')}, searched for ${value}`)\n}\n\nexport function findClosestSmallerOrEqual<T>(items: T[], value: number, comparator: Comparator<T>): T {\n  return items[findIndexOfClosestSmallerOrEqual(items, value, comparator)]\n}\n\nexport function findRange<T>(items: T[], startValue: number, endValue: number, comparator: Comparator<T>): T[] {\n  const startIndex = findIndexOfClosestSmallerOrEqual(items, startValue, comparator)\n  const endIndex = findIndexOfClosestSmallerOrEqual(items, endValue, comparator, startIndex)\n  return items.slice(startIndex, endIndex + 1)\n}\n","import * as u from '@virtuoso.dev/urx'\n\nexport const recalcSystem = u.system(\n  () => {\n    const recalcInProgress = u.statefulStream(false)\n    return { recalcInProgress }\n  },\n  [],\n  { singleton: true }\n)\n","import * as u from '@virtuoso.dev/urx'\nimport { arrayToRanges, AANode, empty, findMaxKeyValue, insert, newTree, Range, rangesWithin, remove, walk } from './AATree'\nimport * as arrayBinarySearch from './utils/binaryArraySearch'\nimport { correctItemSize } from './utils/correctItemSize'\nimport { loggerSystem, Log, LogLevel } from './loggerSystem'\nimport { recalcSystem } from './recalcSystem'\n\nexport interface SizeRange {\n  startIndex: number\n  endIndex: number\n  size: number\n}\n\nexport type Data = readonly unknown[] | undefined\n\nfunction rangeIncludes(refRange: SizeRange) {\n  const { size, startIndex, endIndex } = refRange\n  return (range: Range<number>) => {\n    return range.start === startIndex && (range.end === endIndex || range.end === Infinity) && range.value === size\n  }\n}\n\nexport function insertRanges(sizeTree: AANode<number>, ranges: SizeRange[]) {\n  let syncStart = empty(sizeTree) ? 0 : Infinity\n\n  for (const range of ranges) {\n    const { size, startIndex, endIndex } = range\n    syncStart = Math.min(syncStart, startIndex)\n\n    if (empty(sizeTree)) {\n      sizeTree = insert(sizeTree, 0, size)\n      continue\n    }\n\n    // extend the range in both directions, so that we can get adjacent neighbours.\n    // if the previous / next ones have the same value as the one we are about to insert,\n    // we 'merge' them.\n    const overlappingRanges = rangesWithin(sizeTree, startIndex - 1, endIndex + 1)\n\n    if (overlappingRanges.some(rangeIncludes(range))) {\n      continue\n    }\n\n    let firstPassDone = false\n    let shouldInsert = false\n    for (const { start: rangeStart, end: rangeEnd, value: rangeValue } of overlappingRanges) {\n      // previous range\n      if (!firstPassDone) {\n        shouldInsert = rangeValue !== size\n        firstPassDone = true\n      } else {\n        // remove the range if it starts within the new range OR if\n        // it has the same value as it, in order to perform a merge\n        if (endIndex >= rangeStart || size === rangeValue) {\n          sizeTree = remove(sizeTree, rangeStart)\n        }\n      }\n\n      // next range\n      if (rangeEnd > endIndex && endIndex >= rangeStart) {\n        if (rangeValue !== size) {\n          sizeTree = insert(sizeTree, endIndex + 1, rangeValue)\n        }\n      }\n    }\n\n    if (shouldInsert) {\n      sizeTree = insert(sizeTree, startIndex, size)\n    }\n  }\n  return [sizeTree, syncStart] as const\n}\n\nexport interface OffsetPoint {\n  offset: number\n  size: number\n  index: number\n}\n\nexport interface SizeState {\n  sizeTree: AANode<number>\n  offsetTree: Array<OffsetPoint>\n  groupOffsetTree: AANode<number>\n  lastIndex: number\n  lastOffset: number\n  lastSize: number\n  groupIndices: number[]\n}\n\nexport function initialSizeState(): SizeState {\n  return {\n    offsetTree: [],\n    sizeTree: newTree<number>(),\n    groupOffsetTree: newTree<number>(),\n    lastIndex: 0,\n    lastOffset: 0,\n    lastSize: 0,\n    groupIndices: [],\n  }\n}\n\nexport function indexComparator({ index: itemIndex }: OffsetPoint, index: number) {\n  return index === itemIndex ? 0 : index < itemIndex ? -1 : 1\n}\n\nexport function offsetComparator({ offset: itemOffset }: OffsetPoint, offset: number) {\n  return offset === itemOffset ? 0 : offset < itemOffset ? -1 : 1\n}\n\nfunction offsetPointParser(point: OffsetPoint) {\n  return { index: point.index, value: point }\n}\n\nexport function rangesWithinOffsets(\n  tree: Array<OffsetPoint>,\n  startOffset: number,\n  endOffset: number,\n  minStartIndex = 0\n): Array<{\n  start: number\n  end: number\n  value: {\n    size: number\n    offset: number\n    index: number\n  }\n}> {\n  if (minStartIndex > 0) {\n    startOffset = Math.max(startOffset, arrayBinarySearch.findClosestSmallerOrEqual(tree, minStartIndex, indexComparator).offset)\n  }\n\n  return arrayToRanges(arrayBinarySearch.findRange(tree, startOffset, endOffset, offsetComparator), offsetPointParser)\n}\n\nfunction createOffsetTree(prevOffsetTree: OffsetPoint[], syncStart: number, sizeTree: AANode<number>, gap: number) {\n  let offsetTree = prevOffsetTree\n  let prevIndex = 0\n  let prevSize = 0\n\n  let prevOffset = 0\n  let startIndex = 0\n\n  if (syncStart !== 0) {\n    startIndex = arrayBinarySearch.findIndexOfClosestSmallerOrEqual(offsetTree, syncStart - 1, indexComparator)\n    const offsetInfo = offsetTree[startIndex]\n    prevOffset = offsetInfo.offset\n    const kv = findMaxKeyValue(sizeTree, syncStart - 1)\n    prevIndex = kv[0]\n    prevSize = kv[1]!\n\n    if (offsetTree.length && offsetTree[startIndex].size === findMaxKeyValue(sizeTree, syncStart)[1]) {\n      startIndex -= 1\n    }\n\n    offsetTree = offsetTree.slice(0, startIndex + 1)\n  } else {\n    offsetTree = []\n  }\n\n  for (const { start: startIndex, value } of rangesWithin(sizeTree, syncStart, Infinity)) {\n    const indexOffset = startIndex - prevIndex\n    const aOffset = indexOffset * prevSize + prevOffset + indexOffset * gap\n    offsetTree.push({\n      offset: aOffset,\n      size: value,\n      index: startIndex,\n    })\n    prevIndex = startIndex\n    prevOffset = aOffset\n    prevSize = value\n  }\n\n  return {\n    offsetTree,\n    lastIndex: prevIndex,\n    lastOffset: prevOffset,\n    lastSize: prevSize,\n  }\n}\n\nexport function sizeStateReducer(state: SizeState, [ranges, groupIndices, log, gap]: [SizeRange[], number[], Log, number]) {\n  if (ranges.length > 0) {\n    log('received item sizes', ranges, LogLevel.DEBUG)\n  }\n  const sizeTree = state.sizeTree\n  let newSizeTree: AANode<number> = sizeTree\n  let syncStart = 0\n\n  // We receive probe item results from a group probe,\n  // which should always pass an item and a group\n  // the results contain two ranges, which we consider to mean that groups and items have different size\n  if (groupIndices.length > 0 && empty(sizeTree) && ranges.length === 2) {\n    const groupSize = ranges[0].size\n    const itemSize = ranges[1].size\n    newSizeTree = groupIndices.reduce((tree, groupIndex) => {\n      return insert(insert(tree, groupIndex, groupSize), groupIndex + 1, itemSize)\n    }, newSizeTree)\n  } else {\n    ;[newSizeTree, syncStart] = insertRanges(newSizeTree, ranges)\n  }\n\n  if (newSizeTree === sizeTree) {\n    return state\n  }\n\n  const { offsetTree: newOffsetTree, lastIndex, lastSize, lastOffset } = createOffsetTree(state.offsetTree, syncStart, newSizeTree, gap)\n\n  return {\n    sizeTree: newSizeTree,\n    offsetTree: newOffsetTree,\n    lastIndex,\n    lastOffset,\n    lastSize,\n    groupOffsetTree: groupIndices.reduce((tree, index) => {\n      return insert(tree, index, offsetOf(index, newOffsetTree, gap))\n    }, newTree<number>()),\n    groupIndices,\n  }\n}\n\nexport function offsetOf(index: number, tree: Array<OffsetPoint>, gap: number) {\n  if (tree.length === 0) {\n    return 0\n  }\n\n  const { offset, index: startIndex, size } = arrayBinarySearch.findClosestSmallerOrEqual(tree, index, indexComparator)\n  const itemCount = index - startIndex\n  const top = size * itemCount + (itemCount - 1) * gap + offset\n  return top > 0 ? top + gap : top\n}\n\nexport type FlatOrGroupedLocation = { index: number | 'LAST' } | { groupIndex: number }\n\nexport function isGroupLocation(location: FlatOrGroupedLocation): location is { groupIndex: number } {\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n  return typeof (location as any).groupIndex !== 'undefined'\n}\n\nexport function originalIndexFromLocation(location: FlatOrGroupedLocation, sizes: SizeState, lastIndex: number) {\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n  if (isGroupLocation(location)) {\n    // return the index of the first item below the index\n    return sizes.groupIndices[location.groupIndex] + 1\n  } else {\n    const numericIndex = location.index === 'LAST' ? lastIndex : location.index\n    let result = originalIndexFromItemIndex(numericIndex, sizes)\n    result = Math.max(0, result, Math.min(lastIndex, result))\n    return result\n  }\n}\n\nexport function originalIndexFromItemIndex(itemIndex: number, sizes: SizeState) {\n  if (!hasGroups(sizes)) {\n    return itemIndex\n  }\n\n  let groupOffset = 0\n  while (sizes.groupIndices[groupOffset] <= itemIndex + groupOffset) {\n    groupOffset++\n  }\n  // we find the real item index, offsetting it by the number of group items before it\n  return itemIndex + groupOffset\n}\n\nexport function hasGroups(sizes: SizeState) {\n  return !empty(sizes.groupOffsetTree)\n}\n\ntype OptionalNumber = number | undefined\n\nconst SIZE_MAP = {\n  offsetHeight: 'height',\n  offsetWidth: 'width',\n} as const\n\n/** Calculates the height of `el`, which will be the `Item` element in the DOM. */\nexport type SizeFunction = (el: HTMLElement, field: 'offsetHeight' | 'offsetWidth') => number\n\nexport const sizeSystem = u.system(\n  ([{ log }, { recalcInProgress }]) => {\n    const sizeRanges = u.stream<SizeRange[]>()\n    const totalCount = u.stream<number>()\n    const statefulTotalCount = u.statefulStreamFromEmitter(totalCount, 0)\n    const unshiftWith = u.stream<number>()\n    const shiftWith = u.stream<number>()\n    const firstItemIndex = u.statefulStream(0)\n    const groupIndices = u.statefulStream([] as number[])\n    const fixedItemSize = u.statefulStream<OptionalNumber>(undefined)\n    const defaultItemSize = u.statefulStream<OptionalNumber>(undefined)\n    const itemSize = u.statefulStream<SizeFunction>((el, field) => correctItemSize(el, SIZE_MAP[field]))\n    const data = u.statefulStream<Data>(undefined)\n    const gap = u.statefulStream(0)\n    const initial = initialSizeState()\n\n    const sizes = u.statefulStreamFromEmitter(\n      u.pipe(sizeRanges, u.withLatestFrom(groupIndices, log, gap), u.scan(sizeStateReducer, initial), u.distinctUntilChanged()),\n      initial\n    )\n\n    u.connect(\n      u.pipe(\n        groupIndices,\n        u.filter((indexes) => indexes.length > 0),\n        u.withLatestFrom(sizes, gap),\n        u.map(([groupIndices, sizes, gap]) => {\n          const groupOffsetTree = groupIndices.reduce((tree, index, idx) => {\n            return insert(tree, index, offsetOf(index, sizes.offsetTree, gap) || idx)\n          }, newTree<number>())\n\n          return {\n            ...sizes,\n            groupIndices,\n            groupOffsetTree,\n          }\n        })\n      ),\n      sizes\n    )\n\n    // decreasing the total count should remove any existing entries\n    // beyond the last index - do this by publishing the default size as a range over them.\n    u.connect(\n      u.pipe(\n        totalCount,\n        u.withLatestFrom(sizes),\n        u.filter(([totalCount, { lastIndex }]) => {\n          return totalCount < lastIndex\n        }),\n        u.map(([totalCount, { lastIndex, lastSize }]) => {\n          return [\n            {\n              startIndex: totalCount,\n              endIndex: lastIndex,\n              size: lastSize,\n            },\n          ] as SizeRange[]\n        })\n      ),\n      sizeRanges\n    )\n\n    u.connect(fixedItemSize, defaultItemSize)\n\n    const trackItemSizes = u.statefulStreamFromEmitter(\n      u.pipe(\n        fixedItemSize,\n        u.map((size) => size === undefined)\n      ),\n      true\n    )\n\n    u.connect(\n      u.pipe(\n        defaultItemSize,\n        u.filter((value) => {\n          return value !== undefined && empty(u.getValue(sizes).sizeTree)\n        }),\n        u.map((size) => [{ startIndex: 0, endIndex: 0, size }] as SizeRange[])\n      ),\n      sizeRanges\n    )\n\n    const listRefresh = u.streamFromEmitter(\n      u.pipe(\n        sizeRanges,\n        u.withLatestFrom(sizes),\n        u.scan(\n          ({ sizes: oldSizes }, [_, newSizes]) => {\n            return {\n              changed: newSizes !== oldSizes,\n              sizes: newSizes,\n            }\n          },\n          { changed: false, sizes: initial }\n        ),\n        u.map((value) => value.changed)\n      )\n    )\n\n    u.subscribe(\n      u.pipe(\n        firstItemIndex,\n        u.scan(\n          (prev, next) => {\n            return { diff: prev.prev - next, prev: next }\n          },\n          { diff: 0, prev: 0 }\n        ),\n        u.map((val) => val.diff)\n      ),\n      (offset) => {\n        if (offset > 0) {\n          u.publish(recalcInProgress, true)\n          u.publish(unshiftWith, offset)\n        } else if (offset < 0) {\n          u.publish(shiftWith, offset)\n        }\n      }\n    )\n\n    u.subscribe(u.pipe(firstItemIndex, u.withLatestFrom(log)), ([index, log]) => {\n      if (index < 0) {\n        log(\n          \"`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value\",\n          { firstItemIndex },\n          LogLevel.ERROR\n        )\n      }\n    })\n\n    // Capture the current list top item before the sizes get refreshed\n    const beforeUnshiftWith = u.streamFromEmitter(unshiftWith)\n\n    u.connect(\n      u.pipe(\n        unshiftWith,\n        u.withLatestFrom(sizes),\n        u.map(([unshiftWith, sizes]) => {\n          if (sizes.groupIndices.length > 0) {\n            throw new Error('Virtuoso: prepending items does not work with groups')\n          }\n\n          return walk(sizes.sizeTree).reduce(\n            (acc, { k: index, v: size }) => {\n              return {\n                ranges: [...acc.ranges, { startIndex: acc.prevIndex, endIndex: index + unshiftWith - 1, size: acc.prevSize }],\n                prevIndex: index + unshiftWith,\n                prevSize: size,\n              }\n            },\n            {\n              ranges: [] as SizeRange[],\n              prevIndex: 0,\n              prevSize: sizes.lastSize,\n            }\n          ).ranges\n        })\n      ),\n      sizeRanges\n    )\n\n    const shiftWithOffset = u.streamFromEmitter(\n      u.pipe(\n        shiftWith,\n        u.withLatestFrom(sizes, gap),\n        u.map(([shiftWith, { offsetTree }, gap]) => {\n          const newFirstItemIndex = -shiftWith\n          return offsetOf(newFirstItemIndex, offsetTree, gap)\n        })\n      )\n    )\n\n    u.connect(\n      u.pipe(\n        shiftWith,\n        u.withLatestFrom(sizes, gap),\n        u.map(([shiftWith, sizes, gap]) => {\n          if (sizes.groupIndices.length > 0) {\n            throw new Error('Virtuoso: shifting items does not work with groups')\n          }\n\n          const newSizeTree = walk(sizes.sizeTree).reduce((acc, { k, v }) => {\n            return insert(acc, Math.max(0, k + shiftWith), v)\n          }, newTree<number>())\n\n          return {\n            ...sizes,\n            sizeTree: newSizeTree,\n            ...createOffsetTree(sizes.offsetTree, 0, newSizeTree, gap),\n          }\n        })\n      ),\n      sizes\n    )\n\n    return {\n      // input\n      data,\n      totalCount,\n      sizeRanges,\n      groupIndices,\n      defaultItemSize,\n      fixedItemSize,\n      unshiftWith,\n      shiftWith,\n      shiftWithOffset,\n      beforeUnshiftWith,\n      firstItemIndex,\n      gap,\n\n      // output\n      sizes,\n      listRefresh,\n      statefulTotalCount,\n      trackItemSizes,\n      itemSize,\n    }\n  },\n  u.tup(loggerSystem, recalcSystem),\n  { singleton: true }\n)\n","/* eslint-disable @typescript-eslint/no-unsafe-call */\nimport * as u from '@virtuoso.dev/urx'\nimport { findMaxKeyValue } from './AATree'\nimport { domIOSystem } from './domIOSystem'\nimport { offsetOf, originalIndexFromLocation, sizeSystem } from './sizeSystem'\nimport { IndexLocationWithAlign } from './interfaces'\nimport { loggerSystem, LogLevel } from './loggerSystem'\n\nexport type IndexLocation = number | IndexLocationWithAlign\n\nconst SUPPORTS_SCROLL_TO_OPTIONS = typeof document !== 'undefined' && 'scrollBehavior' in document.documentElement.style\n\nexport function normalizeIndexLocation(location: IndexLocation) {\n  const result: IndexLocationWithAlign = typeof location === 'number' ? { index: location } : location\n\n  if (!result.align) {\n    result.align = 'start'\n  }\n  if (!result.behavior || !SUPPORTS_SCROLL_TO_OPTIONS) {\n    result.behavior = 'auto'\n  }\n  if (!result.offset) {\n    result.offset = 0\n  }\n\n  return result\n}\n\nexport const scrollToIndexSystem = u.system(\n  ([\n    { sizes, totalCount, listRefresh, gap },\n    { scrollingInProgress, viewportHeight, scrollTo, smoothScrollTargetReached, headerHeight, footerHeight },\n    { log },\n  ]) => {\n    const scrollToIndex = u.stream<IndexLocation>()\n    const topListHeight = u.statefulStream(0)\n\n    let unsubscribeNextListRefresh: any = null\n    let cleartTimeoutRef: ReturnType<typeof setTimeout> | null = null\n    let unsubscribeListRefresh: any = null\n\n    function cleanup() {\n      if (unsubscribeNextListRefresh) {\n        unsubscribeNextListRefresh()\n        unsubscribeNextListRefresh = null\n      }\n\n      if (unsubscribeListRefresh) {\n        unsubscribeListRefresh()\n        unsubscribeListRefresh = null\n      }\n\n      if (cleartTimeoutRef) {\n        clearTimeout(cleartTimeoutRef)\n        cleartTimeoutRef = null\n      }\n      u.publish(scrollingInProgress, false)\n    }\n\n    u.connect(\n      u.pipe(\n        scrollToIndex,\n        u.withLatestFrom(sizes, viewportHeight, totalCount, topListHeight, headerHeight, footerHeight, log),\n        u.withLatestFrom(gap),\n        u.map(([[location, sizes, viewportHeight, totalCount, topListHeight, headerHeight, footerHeight, log], gap]) => {\n          const normalLocation = normalizeIndexLocation(location)\n          const { align, behavior, offset } = normalLocation\n          const lastIndex = totalCount - 1\n\n          const index = originalIndexFromLocation(normalLocation, sizes, lastIndex)\n\n          let top = offsetOf(index, sizes.offsetTree, gap) + headerHeight\n          if (align === 'end') {\n            top = top - viewportHeight + findMaxKeyValue(sizes.sizeTree, index)[1]!\n            if (index === lastIndex) {\n              top += footerHeight\n            }\n          } else if (align === 'center') {\n            top = top - viewportHeight / 2 + findMaxKeyValue(sizes.sizeTree, index)[1]! / 2\n          } else {\n            top -= topListHeight\n          }\n\n          if (offset) {\n            top += offset\n          }\n\n          const retry = (listChanged: boolean) => {\n            cleanup()\n            if (listChanged) {\n              log('retrying to scroll to', { location }, LogLevel.DEBUG)\n              u.publish(scrollToIndex, location)\n            } else {\n              log('list did not change, scroll successful', {}, LogLevel.DEBUG)\n            }\n          }\n\n          cleanup()\n\n          if (behavior === 'smooth') {\n            let listChanged = false\n            unsubscribeListRefresh = u.subscribe(listRefresh, (changed) => {\n              listChanged = listChanged || changed\n            })\n\n            unsubscribeNextListRefresh = u.handleNext(smoothScrollTargetReached, () => {\n              retry(listChanged)\n            })\n          } else {\n            unsubscribeNextListRefresh = u.handleNext(u.pipe(listRefresh, watchChangesFor(150)), retry)\n          }\n\n          // if the scroll jump is too small, the list won't get rerendered.\n          // clean this listener\n          cleartTimeoutRef = setTimeout(() => {\n            cleanup()\n          }, 1200)\n\n          u.publish(scrollingInProgress, true)\n          log('scrolling from index to', { index, top, behavior }, LogLevel.DEBUG)\n          return { top, behavior }\n        })\n      ),\n      scrollTo\n    )\n\n    return {\n      scrollToIndex,\n      topListHeight,\n    }\n  },\n  u.tup(sizeSystem, domIOSystem, loggerSystem),\n  { singleton: true }\n)\n\nfunction watchChangesFor(limit: number): u.Operator<boolean> {\n  return (done) => {\n    const timeoutRef = setTimeout(() => {\n      done(false)\n    }, limit)\n    return (value) => {\n      if (value) {\n        done(true)\n        clearTimeout(timeoutRef)\n      }\n    }\n  }\n}\n","/* eslint-disable @typescript-eslint/no-unsafe-argument */\nimport * as u from '@virtuoso.dev/urx'\nimport { domIOSystem } from './domIOSystem'\nimport { approximatelyEqual } from './utils/approximatelyEqual'\n\nexport const UP = 'up' as const\nexport const DOWN = 'down' as const\nexport const NONE = 'none' as const\nexport type ScrollDirection = typeof UP | typeof DOWN | typeof NONE\n\nexport interface ListBottomInfo {\n  bottom: number\n  offsetBottom: number\n}\n\nexport interface AtBottomParams {\n  offsetBottom: number\n  scrollTop: number\n  viewportHeight: number\n  scrollHeight: number\n}\n\nexport type NotAtBottomReason =\n  | 'SIZE_INCREASED'\n  | 'NOT_SHOWING_LAST_ITEM'\n  | 'VIEWPORT_HEIGHT_DECREASING'\n  | 'SCROLLING_UPWARDS'\n  | 'NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM'\n\nexport type AtBottomReason = 'SIZE_DECREASED' | 'SCROLLED_DOWN'\n\nexport type AtBottomState =\n  | {\n      atBottom: false\n      notAtBottomBecause: NotAtBottomReason\n      state: AtBottomParams\n    }\n  | {\n      atBottom: true\n      state: AtBottomParams\n      atBottomBecause: AtBottomReason\n      scrollTopDelta: number\n    }\n\nconst INITIAL_BOTTOM_STATE = {\n  atBottom: false,\n  notAtBottomBecause: 'NOT_SHOWING_LAST_ITEM',\n  state: {\n    offsetBottom: 0,\n    scrollTop: 0,\n    viewportHeight: 0,\n    scrollHeight: 0,\n  },\n} as AtBottomState\n\nconst DEFAULT_AT_TOP_THRESHOLD = 0\n\nexport const stateFlagsSystem = u.system(([{ scrollContainerState, scrollTop, viewportHeight, headerHeight, footerHeight, scrollBy }]) => {\n  const isAtBottom = u.statefulStream(false)\n  const isAtTop = u.statefulStream(true)\n  const atBottomStateChange = u.stream<boolean>()\n  const atTopStateChange = u.stream<boolean>()\n  const atBottomThreshold = u.statefulStream(4)\n  const atTopThreshold = u.statefulStream(DEFAULT_AT_TOP_THRESHOLD)\n\n  // skip 1 to avoid an initial on/off flick\n  const isScrolling = u.statefulStreamFromEmitter(\n    u.pipe(\n      u.merge(u.pipe(u.duc(scrollTop), u.skip(1), u.mapTo(true)), u.pipe(u.duc(scrollTop), u.skip(1), u.mapTo(false), u.debounceTime(100))),\n      u.distinctUntilChanged()\n    ),\n    false\n  )\n\n  const isScrollingBy = u.statefulStreamFromEmitter(\n    u.pipe(u.merge(u.pipe(scrollBy, u.mapTo(true)), u.pipe(scrollBy, u.mapTo(false), u.debounceTime(200))), u.distinctUntilChanged()),\n    false\n  )\n\n  // u.subscribe(isScrollingBy, (isScrollingBy) => console.log({ isScrollingBy }))\n\n  u.connect(\n    u.pipe(\n      u.combineLatest(u.duc(scrollTop), u.duc(atTopThreshold)),\n      u.map(([top, atTopThreshold]) => top <= atTopThreshold),\n      u.distinctUntilChanged()\n    ),\n    isAtTop\n  )\n\n  u.connect(u.pipe(isAtTop, u.throttleTime(50)), atTopStateChange)\n\n  const atBottomState = u.streamFromEmitter(\n    u.pipe(\n      u.combineLatest(scrollContainerState, u.duc(viewportHeight), u.duc(headerHeight), u.duc(footerHeight), u.duc(atBottomThreshold)),\n      u.scan((current, [{ scrollTop, scrollHeight }, viewportHeight, _headerHeight, _footerHeight, atBottomThreshold]) => {\n        const isAtBottom = scrollTop + viewportHeight - scrollHeight > -atBottomThreshold\n        const state = {\n          viewportHeight,\n          scrollTop,\n          scrollHeight,\n        }\n\n        if (isAtBottom) {\n          let atBottomBecause: 'SIZE_DECREASED' | 'SCROLLED_DOWN'\n          let scrollTopDelta: number\n          if (scrollTop > current.state.scrollTop) {\n            atBottomBecause = 'SCROLLED_DOWN'\n            scrollTopDelta = current.state.scrollTop - scrollTop\n          } else {\n            atBottomBecause = 'SIZE_DECREASED'\n            scrollTopDelta = current.state.scrollTop - scrollTop || (current as { scrollTopDelta: number }).scrollTopDelta\n          }\n          return {\n            atBottom: true,\n            state,\n            atBottomBecause,\n            scrollTopDelta,\n          } as AtBottomState\n        }\n\n        let notAtBottomBecause: NotAtBottomReason\n\n        if (state.scrollHeight > current.state.scrollHeight) {\n          notAtBottomBecause = 'SIZE_INCREASED'\n        } else if (viewportHeight < current.state.viewportHeight) {\n          notAtBottomBecause = 'VIEWPORT_HEIGHT_DECREASING'\n        } else if (scrollTop < current.state.scrollTop) {\n          notAtBottomBecause = 'SCROLLING_UPWARDS'\n        } else {\n          notAtBottomBecause = 'NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM'\n        }\n\n        return {\n          atBottom: false,\n          notAtBottomBecause,\n          state,\n        } as AtBottomState\n      }, INITIAL_BOTTOM_STATE),\n      u.distinctUntilChanged((prev, next) => {\n        return prev && prev.atBottom === next.atBottom\n      })\n    )\n  )\n\n  const lastJumpDueToItemResize = u.statefulStreamFromEmitter(\n    u.pipe(\n      scrollContainerState,\n      u.scan(\n        (current, { scrollTop, scrollHeight, viewportHeight }) => {\n          if (!approximatelyEqual(current.scrollHeight, scrollHeight)) {\n            const atBottom = scrollHeight - (scrollTop + viewportHeight) < 1\n\n            if (current.scrollTop !== scrollTop && atBottom) {\n              return {\n                scrollHeight,\n                scrollTop,\n                jump: current.scrollTop - scrollTop,\n                changed: true,\n              }\n            } else {\n              return {\n                scrollHeight,\n                scrollTop,\n                jump: 0,\n                changed: true,\n              }\n            }\n          } else {\n            return {\n              scrollTop,\n              scrollHeight,\n              jump: 0,\n              changed: false,\n            }\n          }\n        },\n        { scrollHeight: 0, jump: 0, scrollTop: 0, changed: false }\n      ),\n      u.filter((value) => value.changed),\n      u.map((value) => value.jump)\n    ),\n    0\n  )\n\n  u.connect(\n    u.pipe(\n      atBottomState,\n      u.map((state) => state.atBottom)\n    ),\n    isAtBottom\n  )\n\n  u.connect(u.pipe(isAtBottom, u.throttleTime(50)), atBottomStateChange)\n\n  const scrollDirection = u.statefulStream<ScrollDirection>(DOWN)\n\n  u.connect(\n    u.pipe(\n      scrollContainerState,\n      u.map(({ scrollTop }) => scrollTop),\n      u.distinctUntilChanged(),\n      u.scan(\n        (acc, scrollTop) => {\n          // if things change while compensating for items, ignore,\n          // but store the new scrollTop\n          if (u.getValue(isScrollingBy)) {\n            return { direction: acc.direction, prevScrollTop: scrollTop }\n          }\n\n          return { direction: scrollTop < acc.prevScrollTop ? UP : DOWN, prevScrollTop: scrollTop }\n        },\n        { direction: DOWN, prevScrollTop: 0 } as { direction: ScrollDirection; prevScrollTop: number }\n      ),\n      u.map((value) => value.direction)\n    ),\n    scrollDirection\n  )\n\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n  u.connect(u.pipe(scrollContainerState, u.throttleTime(50), u.mapTo(NONE)), scrollDirection)\n\n  const scrollVelocity = u.statefulStream(0)\n\n  u.connect(\n    u.pipe(\n      isScrolling,\n      u.filter((value) => !value),\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n      u.mapTo(0)\n    ),\n    scrollVelocity\n  )\n\n  u.connect(\n    u.pipe(\n      scrollTop,\n      u.throttleTime(100),\n      u.withLatestFrom(isScrolling),\n      u.filter(([_, isScrolling]) => !!isScrolling),\n      u.scan(([_, prev], [next]) => [prev, next], [0, 0]),\n      u.map(([prev, next]) => next - prev)\n    ),\n    scrollVelocity\n  )\n\n  return {\n    isScrolling,\n    isAtTop,\n    isAtBottom,\n    atBottomState,\n    atTopStateChange,\n    atBottomStateChange,\n    scrollDirection,\n    atBottomThreshold,\n    atTopThreshold,\n    scrollVelocity,\n    lastJumpDueToItemResize,\n  }\n}, u.tup(domIOSystem))\n","import * as u from '@virtuoso.dev/urx'\nimport { loggerSystem, LogLevel } from './loggerSystem'\n\nexport const propsReadySystem = u.system(\n  ([{ log }]) => {\n    const propsReady = u.statefulStream(false)\n\n    const didMount = u.streamFromEmitter(\n      u.pipe(\n        propsReady,\n        u.filter((ready) => ready),\n        u.distinctUntilChanged()\n      )\n    )\n    u.subscribe(propsReady, (value) => {\n      value && u.getValue(log)('props updated', {}, LogLevel.DEBUG)\n    })\n\n    return { propsReady, didMount }\n  },\n  u.tup(loggerSystem),\n  { singleton: true }\n)\n","import * as u from '@virtuoso.dev/urx'\nimport { empty } from './AATree'\nimport { sizeSystem } from './sizeSystem'\nimport { domIOSystem } from './domIOSystem'\nimport { scrollToIndexSystem } from './scrollToIndexSystem'\nimport { propsReadySystem } from './propsReadySystem'\nimport { FlatIndexLocationWithAlign } from './interfaces'\n\nexport function getInitialTopMostItemIndexNumber(location: number | FlatIndexLocationWithAlign, totalCount: number): number {\n  const lastIndex = totalCount - 1\n  const index = typeof location === 'number' ? location : location.index === 'LAST' ? lastIndex : location.index\n  return index\n}\n\nexport const initialTopMostItemIndexSystem = u.system(\n  ([{ sizes, listRefresh, defaultItemSize }, { scrollTop }, { scrollToIndex }, { didMount }]) => {\n    const scrolledToInitialItem = u.statefulStream(true)\n    const initialTopMostItemIndex = u.statefulStream<number | FlatIndexLocationWithAlign>(0)\n\n    u.connect(\n      u.pipe(\n        didMount,\n        u.withLatestFrom(initialTopMostItemIndex),\n        u.filter(([_, location]) => !!location),\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n        u.mapTo(false)\n      ),\n      scrolledToInitialItem\n    )\n\n    u.subscribe(\n      u.pipe(\n        u.combineLatest(listRefresh, didMount),\n        u.withLatestFrom(scrolledToInitialItem, sizes, defaultItemSize),\n        u.filter(([[, didMount], scrolledToInitialItem, { sizeTree }, defaultItemSize]) => {\n          return didMount && (!empty(sizeTree) || defaultItemSize !== undefined) && !scrolledToInitialItem\n        }),\n        u.withLatestFrom(initialTopMostItemIndex)\n      ),\n      ([, initialTopMostItemIndex]) => {\n        setTimeout(() => {\n          u.handleNext(scrollTop, () => {\n            u.publish(scrolledToInitialItem, true)\n          })\n          u.publish(scrollToIndex, initialTopMostItemIndex)\n        })\n      }\n    )\n\n    return {\n      scrolledToInitialItem,\n      initialTopMostItemIndex,\n    }\n  },\n  u.tup(sizeSystem, domIOSystem, scrollToIndexSystem, propsReadySystem),\n  { singleton: true }\n)\n","/* eslint-disable @typescript-eslint/no-unsafe-call */\nimport * as u from '@virtuoso.dev/urx'\nimport { scrollToIndexSystem } from './scrollToIndexSystem'\nimport { sizeSystem } from './sizeSystem'\nimport { stateFlagsSystem } from './stateFlagsSystem'\nimport { initialTopMostItemIndexSystem } from './initialTopMostItemIndexSystem'\nimport { FollowOutput, FollowOutputScalarType } from './interfaces'\nimport { propsReadySystem } from './propsReadySystem'\nimport { loggerSystem, LogLevel } from './loggerSystem'\nimport { domIOSystem } from './domIOSystem'\n\nfunction normalizeFollowOutput(follow: FollowOutputScalarType): FollowOutputScalarType {\n  if (!follow) {\n    return false\n  }\n  return follow === 'smooth' ? 'smooth' : 'auto'\n}\n\nconst behaviorFromFollowOutput = (follow: FollowOutput, isAtBottom: boolean) => {\n  if (typeof follow === 'function') {\n    return normalizeFollowOutput(follow(isAtBottom))\n  }\n  return isAtBottom && normalizeFollowOutput(follow)\n}\n\nexport const followOutputSystem = u.system(\n  ([\n    { totalCount, listRefresh },\n    { isAtBottom, atBottomState },\n    { scrollToIndex },\n    { scrolledToInitialItem },\n    { propsReady, didMount },\n    { log },\n    { scrollingInProgress },\n  ]) => {\n    const followOutput = u.statefulStream<FollowOutput>(false)\n    const autoscrollToBottom = u.stream<true>()\n    let pendingScrollHandle: any = null\n\n    function scrollToBottom(followOutputBehavior: FollowOutputScalarType) {\n      u.publish(scrollToIndex, {\n        index: 'LAST',\n        align: 'end',\n        behavior: followOutputBehavior,\n      })\n    }\n\n    u.subscribe(\n      u.pipe(\n        u.combineLatest(u.pipe(u.duc(totalCount), u.skip(1)), didMount),\n        u.withLatestFrom(u.duc(followOutput), isAtBottom, scrolledToInitialItem, scrollingInProgress),\n        u.map(([[totalCount, didMount], followOutput, isAtBottom, scrolledToInitialItem, scrollingInProgress]) => {\n          let shouldFollow = didMount && scrolledToInitialItem\n          let followOutputBehavior: FollowOutputScalarType = 'auto'\n\n          if (shouldFollow) {\n            // if scrolling to index is in progress,\n            // assume that a previous followOutput response is going\n            followOutputBehavior = behaviorFromFollowOutput(followOutput, isAtBottom || scrollingInProgress)\n            shouldFollow = shouldFollow && !!followOutputBehavior\n          }\n\n          return { totalCount, shouldFollow, followOutputBehavior }\n        }),\n        u.filter(({ shouldFollow }) => shouldFollow)\n      ),\n      ({ totalCount, followOutputBehavior }) => {\n        if (pendingScrollHandle) {\n          pendingScrollHandle()\n          pendingScrollHandle = null\n        }\n\n        pendingScrollHandle = u.handleNext(listRefresh, () => {\n          u.getValue(log)('following output to ', { totalCount }, LogLevel.DEBUG)\n          scrollToBottom(followOutputBehavior)\n          pendingScrollHandle = null\n        })\n      }\n    )\n\n    function trapNextSizeIncrease(followOutput: boolean) {\n      const cancel = u.handleNext(atBottomState, (state) => {\n        if (followOutput && !state.atBottom && state.notAtBottomBecause === 'SIZE_INCREASED' && !pendingScrollHandle) {\n          u.getValue(log)('scrolling to bottom due to increased size', {}, LogLevel.DEBUG)\n          scrollToBottom('auto')\n        }\n      })\n      setTimeout(cancel, 100)\n    }\n\n    u.subscribe(\n      u.pipe(\n        u.combineLatest(u.duc(followOutput), totalCount, propsReady),\n        u.filter(([follow, , ready]) => follow && ready),\n        u.scan(\n          ({ value }, [, next]) => {\n            return { refreshed: value === next, value: next }\n          },\n          { refreshed: false, value: 0 }\n        ),\n        u.filter(({ refreshed }) => refreshed),\n        u.withLatestFrom(followOutput, totalCount)\n      ),\n      ([, followOutput]) => {\n        trapNextSizeIncrease(followOutput !== false)\n      }\n    )\n\n    u.subscribe(autoscrollToBottom, () => {\n      trapNextSizeIncrease(u.getValue(followOutput) !== false)\n    })\n\n    u.subscribe(u.combineLatest(u.duc(followOutput), atBottomState), ([followOutput, state]) => {\n      if (followOutput && !state.atBottom && state.notAtBottomBecause === 'VIEWPORT_HEIGHT_DECREASING') {\n        scrollToBottom('auto')\n      }\n    })\n\n    return { followOutput, autoscrollToBottom }\n  },\n  u.tup(sizeSystem, stateFlagsSystem, scrollToIndexSystem, initialTopMostItemIndexSystem, propsReadySystem, loggerSystem, domIOSystem)\n)\n","import * as u from '@virtuoso.dev/urx'\n\nimport { findMaxKeyValue } from './AATree'\nimport { domIOSystem } from './domIOSystem'\nimport { sizeSystem, hasGroups } from './sizeSystem'\nexport interface GroupIndexesAndCount {\n  totalCount: number\n  groupIndices: number[]\n}\n\nexport function groupCountsToIndicesAndCount(counts: number[]) {\n  return counts.reduce(\n    (acc, groupCount) => {\n      acc.groupIndices.push(acc.totalCount)\n      acc.totalCount += groupCount + 1\n      return acc\n    },\n    {\n      totalCount: 0,\n      groupIndices: [],\n    } as GroupIndexesAndCount\n  )\n}\n\nexport const groupedListSystem = u.system(([{ totalCount, groupIndices, sizes }, { scrollTop, headerHeight }]) => {\n  const groupCounts = u.stream<number[]>()\n  const topItemsIndexes = u.stream<[number]>()\n  const groupIndicesAndCount = u.streamFromEmitter(u.pipe(groupCounts, u.map(groupCountsToIndicesAndCount)))\n  u.connect(\n    u.pipe(\n      groupIndicesAndCount,\n      u.map((value) => value.totalCount)\n    ),\n    totalCount\n  )\n  u.connect(\n    u.pipe(\n      groupIndicesAndCount,\n      u.map((value) => value.groupIndices)\n    ),\n    groupIndices\n  )\n\n  u.connect(\n    u.pipe(\n      u.combineLatest(scrollTop, sizes, headerHeight),\n      u.filter(([_, sizes]) => hasGroups(sizes)),\n      u.map(([scrollTop, state, headerHeight]) => findMaxKeyValue(state.groupOffsetTree, Math.max(scrollTop - headerHeight, 0), 'v')[0]),\n      u.distinctUntilChanged(),\n      u.map((index) => [index])\n    ),\n    topItemsIndexes\n  )\n\n  return { groupCounts, topItemsIndexes }\n}, u.tup(sizeSystem, domIOSystem))\n","import { ListRange } from './interfaces'\n\nexport function tupleComparator<T1, T2>(prev: [T1, T2] | undefined, current: [T1, T2]) {\n  return !!(prev && prev[0] === current[0] && prev[1] === current[1])\n}\n\nexport function rangeComparator(prev: ListRange | undefined, next: ListRange) {\n  return !!(prev && prev.startIndex === next.startIndex && prev.endIndex === next.endIndex)\n}\n","import * as u from '@virtuoso.dev/urx'\nimport { domIOSystem } from './domIOSystem'\nimport { UP, DOWN, ScrollDirection } from './stateFlagsSystem'\nimport { tupleComparator } from './comparators'\n\nexport type NumberTuple = [number, number]\nexport type Overscan = number | { main: number; reverse: number }\nexport const TOP = 'top' as const\nexport const BOTTOM = 'bottom' as const\nexport const NONE = 'none' as const\nexport type ListEnd = typeof TOP | typeof BOTTOM\nexport type ViewportIncrease = number | { [k in ListEnd]?: number }\nexport type ChangeDirection = typeof UP | typeof DOWN | typeof NONE\n\nexport function getOverscan(overscan: Overscan, end: ListEnd, direction: ScrollDirection) {\n  if (typeof overscan === 'number') {\n    return (direction === UP && end === TOP) || (direction === DOWN && end === BOTTOM) ? overscan : 0\n  } else {\n    if (direction === UP) {\n      return end === TOP ? overscan.main : overscan.reverse\n    } else {\n      return end === BOTTOM ? overscan.main : overscan.reverse\n    }\n  }\n}\n\nfunction getViewportIncrease(value: ViewportIncrease, end: ListEnd) {\n  return typeof value === 'number' ? value : value[end] || 0\n}\n\nexport const sizeRangeSystem = u.system(\n  ([{ scrollTop, viewportHeight, deviation, headerHeight, fixedHeaderHeight }]) => {\n    const listBoundary = u.stream<NumberTuple>()\n    const topListHeight = u.statefulStream(0)\n    const increaseViewportBy = u.statefulStream<ViewportIncrease>(0)\n    const overscan = u.statefulStream<Overscan>(0)\n\n    const visibleRange = u.statefulStreamFromEmitter(\n      u.pipe(\n        u.combineLatest(\n          u.duc(scrollTop),\n          u.duc(viewportHeight),\n          u.duc(headerHeight),\n          u.duc(listBoundary, tupleComparator),\n          u.duc(overscan),\n          u.duc(topListHeight),\n          u.duc(fixedHeaderHeight),\n          u.duc(deviation),\n          u.duc(increaseViewportBy)\n        ),\n        u.map(\n          ([\n            scrollTop,\n            viewportHeight,\n            headerHeight,\n            [listTop, listBottom],\n            overscan,\n            topListHeight,\n            fixedHeaderHeight,\n            deviation,\n            increaseViewportBy,\n          ]) => {\n            const top = scrollTop - deviation\n            const stickyHeaderHeight = topListHeight + fixedHeaderHeight\n            const headerVisible = Math.max(headerHeight - top, 0)\n            let direction: ChangeDirection = NONE\n            const topViewportAddition = getViewportIncrease(increaseViewportBy, TOP)\n            const bottomViewportAddition = getViewportIncrease(increaseViewportBy, BOTTOM)\n\n            listTop -= deviation\n            listTop += headerHeight + fixedHeaderHeight\n            listBottom += headerHeight + fixedHeaderHeight\n            listBottom -= deviation\n\n            // console.log({ listTop, scrollTop, stickyHeaderHeight, topViewportAddition })\n            if (listTop > scrollTop + stickyHeaderHeight - topViewportAddition) {\n              direction = UP\n            }\n\n            if (listBottom < scrollTop - headerVisible + viewportHeight + bottomViewportAddition) {\n              direction = DOWN\n            }\n\n            if (direction !== NONE) {\n              return [\n                Math.max(top - headerHeight - getOverscan(overscan, TOP, direction) - topViewportAddition, 0),\n                top -\n                  headerVisible -\n                  fixedHeaderHeight +\n                  viewportHeight +\n                  getOverscan(overscan, BOTTOM, direction) +\n                  bottomViewportAddition,\n              ] as NumberTuple\n            }\n\n            return null\n          }\n        ),\n        u.filter((value) => value != null) as u.Operator<NumberTuple | null, NumberTuple>,\n        u.distinctUntilChanged(tupleComparator)\n      ),\n      [0, 0]\n    ) as unknown as u.StatefulStream<NumberTuple>\n\n    return {\n      // input\n      listBoundary,\n      overscan,\n      topListHeight,\n      increaseViewportBy,\n\n      // output\n      visibleRange,\n    }\n  },\n  u.tup(domIOSystem),\n  { singleton: true }\n)\n","import * as u from '@virtuoso.dev/urx'\nimport { empty, findMaxKeyValue, Range, rangesWithin } from './AATree'\nimport { groupedListSystem } from './groupedListSystem'\nimport { getInitialTopMostItemIndexNumber, initialTopMostItemIndexSystem } from './initialTopMostItemIndexSystem'\nimport { Item, ListItem, ListRange } from './interfaces'\nimport { propsReadySystem } from './propsReadySystem'\nimport { scrollToIndexSystem } from './scrollToIndexSystem'\nimport { sizeRangeSystem } from './sizeRangeSystem'\nimport { Data, originalIndexFromItemIndex, SizeState, sizeSystem, hasGroups, rangesWithinOffsets } from './sizeSystem'\nimport { stateFlagsSystem } from './stateFlagsSystem'\nimport { rangeComparator, tupleComparator } from './comparators'\nimport { recalcSystem } from './recalcSystem'\n\nexport type ListItems = ListItem<unknown>[]\nexport interface TopListState {\n  items: ListItems\n  listHeight: number\n}\n\nexport interface ListState {\n  items: ListItems\n  topItems: ListItems\n  topListHeight: number\n  offsetTop: number\n  offsetBottom: number\n  top: number\n  bottom: number\n  totalCount: number\n  firstItemIndex: number\n}\n\nfunction probeItemSet(index: number, sizes: SizeState, data: Data) {\n  if (hasGroups(sizes)) {\n    const itemIndex = originalIndexFromItemIndex(index, sizes)\n    const groupIndex = findMaxKeyValue(sizes.groupOffsetTree, itemIndex)[0]\n\n    return [\n      { index: groupIndex, size: 0, offset: 0 },\n      { index: itemIndex, size: 0, offset: 0, data: data && data[0] },\n    ]\n  }\n  return [{ index, size: 0, offset: 0, data: data && data[0] }]\n}\n\nconst EMPTY_LIST_STATE: ListState = {\n  items: [] as ListItems,\n  topItems: [] as ListItems,\n  offsetTop: 0,\n  offsetBottom: 0,\n  top: 0,\n  bottom: 0,\n  topListHeight: 0,\n  totalCount: 0,\n  firstItemIndex: 0,\n}\n\nfunction transposeItems(items: Item<any>[], sizes: SizeState, firstItemIndex: number): ListItems {\n  if (items.length === 0) {\n    return []\n  }\n\n  if (!hasGroups(sizes)) {\n    return items.map((item) => ({ ...item, index: item.index + firstItemIndex, originalIndex: item.index }))\n  }\n\n  const startIndex = items[0].index\n  const endIndex = items[items.length - 1].index\n\n  const transposedItems = [] as ListItems\n  const groupRanges = rangesWithin(sizes.groupOffsetTree, startIndex, endIndex)\n  let currentRange: Range<number> | undefined = undefined\n  let currentGroupIndex = 0\n\n  for (const item of items) {\n    if (!currentRange || currentRange.end < item.index) {\n      currentRange = groupRanges.shift()!\n      currentGroupIndex = sizes.groupIndices.indexOf(currentRange.start)\n    }\n\n    let transposedItem: { type: 'group'; index: number } | { index: number; groupIndex: number }\n\n    if (item.index === currentRange.start) {\n      transposedItem = {\n        type: 'group' as const,\n        index: currentGroupIndex,\n      }\n    } else {\n      transposedItem = {\n        index: item.index - (currentGroupIndex + 1) + firstItemIndex,\n        groupIndex: currentGroupIndex,\n      }\n    }\n\n    transposedItems.push({\n      ...transposedItem,\n      size: item.size,\n      offset: item.offset,\n      originalIndex: item.index,\n      data: item.data,\n    })\n  }\n\n  return transposedItems\n}\n\nexport function buildListState(\n  items: Item<any>[],\n  topItems: Item<any>[],\n  totalCount: number,\n  gap: number,\n  sizes: SizeState,\n  firstItemIndex: number\n): ListState {\n  const { lastSize, lastOffset, lastIndex } = sizes\n  let offsetTop = 0\n  let bottom = 0\n\n  if (items.length > 0) {\n    offsetTop = items[0].offset\n    const lastItem = items[items.length - 1]\n    bottom = lastItem.offset + lastItem.size\n  }\n\n  const itemCount = totalCount - lastIndex\n  const total = lastOffset + itemCount * lastSize + (itemCount - 1) * gap\n  const top = offsetTop\n  const offsetBottom = total - bottom\n\n  return {\n    items: transposeItems(items, sizes, firstItemIndex),\n    topItems: transposeItems(topItems, sizes, firstItemIndex),\n    topListHeight: topItems.reduce((height, item) => item.size + height, 0),\n    offsetTop,\n    offsetBottom,\n    top,\n    bottom,\n    totalCount,\n    firstItemIndex,\n  }\n}\n\nexport const listStateSystem = u.system(\n  ([\n    { sizes, totalCount, data, firstItemIndex, gap },\n    groupedListSystem,\n    { visibleRange, listBoundary, topListHeight: rangeTopListHeight },\n    { scrolledToInitialItem, initialTopMostItemIndex },\n    { topListHeight },\n    stateFlags,\n    { didMount },\n    { recalcInProgress },\n  ]) => {\n    const topItemsIndexes = u.statefulStream<Array<number>>([])\n    const itemsRendered = u.stream<ListItems>()\n\n    u.connect(groupedListSystem.topItemsIndexes, topItemsIndexes)\n\n    const listState = u.statefulStreamFromEmitter(\n      u.pipe(\n        u.combineLatest(\n          didMount,\n          recalcInProgress,\n          u.duc(visibleRange, tupleComparator),\n          u.duc(totalCount),\n          u.duc(sizes),\n          u.duc(initialTopMostItemIndex),\n          scrolledToInitialItem,\n          u.duc(topItemsIndexes),\n          u.duc(firstItemIndex),\n          u.duc(gap),\n          data\n        ),\n        u.filter(([mount, recalcInProgress]) => {\n          return mount && !recalcInProgress\n        }),\n        u.map(\n          ([\n            ,\n            ,\n            [startOffset, endOffset],\n            totalCount,\n            sizes,\n            initialTopMostItemIndex,\n            scrolledToInitialItem,\n            topItemsIndexes,\n            firstItemIndex,\n            gap,\n            data,\n          ]) => {\n            const sizesValue = sizes\n            const { sizeTree, offsetTree } = sizesValue\n\n            if (totalCount === 0 || (startOffset === 0 && endOffset === 0)) {\n              return EMPTY_LIST_STATE\n            }\n\n            if (empty(sizeTree)) {\n              return buildListState(\n                probeItemSet(getInitialTopMostItemIndexNumber(initialTopMostItemIndex, totalCount), sizesValue, data),\n                [],\n                totalCount,\n                gap,\n                sizesValue,\n                firstItemIndex\n              )\n            }\n\n            const topItems = [] as Item<any>[]\n\n            if (topItemsIndexes.length > 0) {\n              const startIndex = topItemsIndexes[0]\n              const endIndex = topItemsIndexes[topItemsIndexes.length - 1]\n              let offset = 0\n              for (const range of rangesWithin(sizeTree, startIndex, endIndex)) {\n                const size = range.value\n                const rangeStartIndex = Math.max(range.start, startIndex)\n                const rangeEndIndex = Math.min(range.end, endIndex)\n                for (let i = rangeStartIndex; i <= rangeEndIndex; i++) {\n                  topItems.push({ index: i, size, offset: offset, data: data && data[i] })\n                  offset += size\n                }\n              }\n            }\n\n            // If the list hasn't scrolled to the initial item because the initial item was set,\n            // render empty list.\n            //\n            // This is a condition to be evaluated past the probe check, do not merge\n            // with the totalCount check above\n            if (!scrolledToInitialItem) {\n              return buildListState([], topItems, totalCount, gap, sizesValue, firstItemIndex)\n            }\n\n            const minStartIndex = topItemsIndexes.length > 0 ? topItemsIndexes[topItemsIndexes.length - 1] + 1 : 0\n\n            const offsetPointRanges = rangesWithinOffsets(offsetTree, startOffset, endOffset, minStartIndex)\n            if (offsetPointRanges.length === 0) {\n              return null\n            }\n\n            const maxIndex = totalCount - 1\n\n            const items = u.tap([] as Item<any>[], (result) => {\n              for (const range of offsetPointRanges) {\n                const point = range.value\n                let offset = point.offset\n                let rangeStartIndex = range.start\n                const size = point.size\n\n                if (point.offset < startOffset) {\n                  rangeStartIndex += Math.floor((startOffset - point.offset + gap) / (size + gap))\n                  const itemCount = rangeStartIndex - range.start\n                  offset += itemCount * size + itemCount * gap\n                }\n\n                if (rangeStartIndex < minStartIndex) {\n                  offset += (minStartIndex - rangeStartIndex) * size\n                  rangeStartIndex = minStartIndex\n                }\n\n                const endIndex = Math.min(range.end, maxIndex)\n\n                for (let i = rangeStartIndex; i <= endIndex; i++) {\n                  if (offset >= endOffset) {\n                    break\n                  }\n\n                  result.push({ index: i, size, offset: offset, data: data && data[i] })\n                  offset += size + gap\n                }\n              }\n            })\n\n            return buildListState(items, topItems, totalCount, gap, sizesValue, firstItemIndex)\n          }\n        ),\n        //@ts-expect-error filter needs to be fixed\n        u.filter((value) => value !== null),\n        u.distinctUntilChanged()\n      ),\n      EMPTY_LIST_STATE\n    )\n\n    u.connect(\n      u.pipe(\n        data,\n        u.filter((data) => data !== undefined),\n        u.map((data) => data!.length)\n      ),\n      totalCount\n    )\n\n    u.connect(\n      u.pipe(\n        listState,\n        u.map((value) => value.topListHeight)\n      ),\n      topListHeight\n    )\n    u.connect(topListHeight, rangeTopListHeight)\n\n    u.connect(\n      u.pipe(\n        listState,\n        u.map((state) => [state.top, state.bottom])\n      ),\n      listBoundary\n    )\n\n    u.connect(\n      u.pipe(\n        listState,\n        u.map((state) => state.items)\n      ),\n      itemsRendered\n    )\n\n    const endReached = u.streamFromEmitter(\n      u.pipe(\n        listState,\n        u.filter(({ items }) => items.length > 0),\n        u.withLatestFrom(totalCount, data),\n        u.filter(([{ items }, totalCount]) => items[items.length - 1].originalIndex === totalCount - 1),\n        u.map(([, totalCount, data]) => [totalCount - 1, data] as [number, unknown[]]),\n        u.distinctUntilChanged(tupleComparator),\n        u.map(([count]) => count)\n      )\n    )\n\n    const startReached = u.streamFromEmitter(\n      u.pipe(\n        listState,\n        u.throttleTime(200),\n        u.filter(({ items, topItems }) => {\n          return items.length > 0 && items[0].originalIndex === topItems.length\n        }),\n        u.map(({ items }) => items[0].index),\n        u.distinctUntilChanged()\n      )\n    )\n\n    const rangeChanged = u.streamFromEmitter(\n      u.pipe(\n        listState,\n        u.filter(({ items }) => items.length > 0),\n        u.map(({ items }) => {\n          let startIndex = 0\n          let endIndex = items.length - 1\n\n          while (items[startIndex].type === 'group' && startIndex < endIndex) {\n            startIndex++\n          }\n\n          while (items[endIndex].type === 'group' && endIndex > startIndex) {\n            endIndex--\n          }\n\n          return {\n            startIndex: items[startIndex].index,\n            endIndex: items[endIndex].index,\n          } as ListRange\n        }),\n        u.distinctUntilChanged(rangeComparator)\n      )\n    )\n\n    return { listState, topItemsIndexes, endReached, startReached, rangeChanged, itemsRendered, ...stateFlags }\n  },\n  u.tup(\n    sizeSystem,\n    groupedListSystem,\n    sizeRangeSystem,\n    initialTopMostItemIndexSystem,\n    scrollToIndexSystem,\n    stateFlagsSystem,\n    propsReadySystem,\n    recalcSystem\n  ),\n  { singleton: true }\n)\n","import * as u from '@virtuoso.dev/urx'\nimport { listStateSystem, buildListState } from './listStateSystem'\nimport { sizeSystem } from './sizeSystem'\nimport { propsReadySystem } from './propsReadySystem'\n\nexport const initialItemCountSystem = u.system(\n  ([{ sizes, firstItemIndex, data, gap }, { listState }, { didMount }]) => {\n    const initialItemCount = u.statefulStream(0)\n\n    u.connect(\n      u.pipe(\n        didMount,\n        u.withLatestFrom(initialItemCount),\n        u.filter(([, count]) => count !== 0),\n        u.withLatestFrom(sizes, firstItemIndex, gap, data),\n        u.map(([[, count], sizes, firstItemIndex, gap, data = []]) => {\n          let includedGroupsCount = 0\n          if (sizes.groupIndices.length > 0) {\n            for (const index of sizes.groupIndices) {\n              if (index - includedGroupsCount >= count) {\n                break\n              }\n              includedGroupsCount++\n            }\n          }\n          const adjustedCount = count + includedGroupsCount\n          const items = Array.from({ length: adjustedCount }).map((_, index) => ({ index, size: 0, offset: 0, data: data[index] }))\n          return buildListState(items, [], adjustedCount, gap, sizes, firstItemIndex)\n        })\n      ),\n      listState\n    )\n\n    return { initialItemCount }\n  },\n  u.tup(sizeSystem, listStateSystem, propsReadySystem),\n  { singleton: true }\n)\n","import * as u from '@virtuoso.dev/urx'\nimport { ListRange } from './interfaces'\nimport { stateFlagsSystem } from './stateFlagsSystem'\nimport { ScrollSeekConfiguration } from './interfaces'\n\nexport const scrollSeekSystem = u.system(\n  ([{ scrollVelocity }]) => {\n    const isSeeking = u.statefulStream(false)\n    const rangeChanged = u.stream<ListRange>()\n    const scrollSeekConfiguration = u.statefulStream<ScrollSeekConfiguration | undefined | false>(false)\n\n    u.connect(\n      u.pipe(\n        scrollVelocity,\n        u.withLatestFrom(scrollSeekConfiguration, isSeeking, rangeChanged),\n        u.filter(([_, config]) => !!config),\n        u.map(([speed, config, isSeeking, range]) => {\n          const { exit, enter } = config as ScrollSeekConfiguration\n          if (isSeeking) {\n            if (exit(speed, range)) {\n              return false\n            }\n          } else {\n            if (enter(speed, range)) {\n              return true\n            }\n          }\n          return isSeeking\n        }),\n        u.distinctUntilChanged()\n      ),\n      isSeeking\n    )\n\n    u.subscribe(\n      u.pipe(u.combineLatest(isSeeking, scrollVelocity, rangeChanged), u.withLatestFrom(scrollSeekConfiguration)),\n      ([[isSeeking, velocity, range], config]) => isSeeking && config && config.change && config.change(velocity, range)\n    )\n\n    return { isSeeking, scrollSeekConfiguration, scrollVelocity, scrollSeekRangeChanged: rangeChanged }\n  },\n  u.tup(stateFlagsSystem),\n  { singleton: true }\n)\n","import * as u from '@virtuoso.dev/urx'\nimport { listStateSystem } from './listStateSystem'\n\nexport const topItemCountSystem = u.system(([{ topItemsIndexes }]) => {\n  const topItemCount = u.statefulStream(0)\n\n  u.connect(\n    u.pipe(\n      topItemCount,\n      u.filter((length) => length > 0),\n      u.map((length) => Array.from({ length }).map((_, index) => index))\n    ),\n    topItemsIndexes\n  )\n  return { topItemCount }\n}, u.tup(listStateSystem))\n","import * as u from '@virtuoso.dev/urx'\nimport { listStateSystem } from './listStateSystem'\nimport { domIOSystem } from './domIOSystem'\n\nexport const totalListHeightSystem = u.system(\n  ([{ footerHeight, headerHeight, fixedHeaderHeight }, { listState }]) => {\n    const totalListHeightChanged = u.stream<number>()\n    const totalListHeight = u.statefulStreamFromEmitter(\n      u.pipe(\n        u.combineLatest(footerHeight, headerHeight, fixedHeaderHeight, listState),\n        u.map(([footerHeight, headerHeight, fixedHeaderHeight, listState]) => {\n          return footerHeight + headerHeight + fixedHeaderHeight + listState.offsetBottom + listState.bottom\n        })\n      ),\n      0\n    )\n\n    u.connect(u.duc(totalListHeight), totalListHeightChanged)\n\n    return { totalListHeight, totalListHeightChanged }\n  },\n  u.tup(domIOSystem, listStateSystem),\n  { singleton: true }\n)\n","export function simpleMemoize<T extends () => any>(func: T): T {\n  let called = false\n  let result: unknown\n\n  return (() => {\n    if (!called) {\n      called = true\n      result = func()\n    }\n    return result\n  }) as T\n}\n","import * as u from '@virtuoso.dev/urx'\nimport { domIOSystem } from './domIOSystem'\nimport { listStateSystem } from './listStateSystem'\nimport { sizeSystem } from './sizeSystem'\nimport { UP, stateFlagsSystem } from './stateFlagsSystem'\nimport { ListItem } from './interfaces'\nimport { loggerSystem, LogLevel } from './loggerSystem'\nimport { simpleMemoize } from './utils/simpleMemoize'\nimport { recalcSystem } from './recalcSystem'\n\nconst isMobileSafari = simpleMemoize(() => {\n  return /iP(ad|hone|od).+Version\\/[\\d.]+.*Safari/i.test(navigator.userAgent)\n})\n\ntype UpwardFixState = [number, ListItem<any>[], number, number]\n/**\n * Fixes upward scrolling by calculating and compensation from changed item heights, using scrollBy.\n */\nexport const upwardScrollFixSystem = u.system(\n  ([\n    { scrollBy, scrollTop, deviation, scrollingInProgress },\n    { isScrolling, isAtBottom, scrollDirection, lastJumpDueToItemResize },\n    { listState },\n    { beforeUnshiftWith, shiftWithOffset, sizes, gap },\n    { log },\n    { recalcInProgress },\n  ]) => {\n    const deviationOffset = u.streamFromEmitter(\n      u.pipe(\n        listState,\n        u.withLatestFrom(lastJumpDueToItemResize),\n        u.scan(\n          ([, prevItems, prevTotalCount, prevTotalHeight], [{ items, totalCount, bottom, offsetBottom }, lastJumpDueToItemResize]) => {\n            const totalHeight = bottom + offsetBottom\n\n            let newDev = 0\n            if (prevTotalCount === totalCount) {\n              if (prevItems.length > 0 && items.length > 0) {\n                const atStart = items[0].originalIndex === 0 && prevItems[0].originalIndex === 0\n                if (!atStart) {\n                  newDev = totalHeight - prevTotalHeight\n                  if (newDev !== 0) {\n                    newDev += lastJumpDueToItemResize\n                  }\n                }\n              }\n            }\n\n            return [newDev, items, totalCount, totalHeight] as UpwardFixState\n          },\n          [0, [], 0, 0] as UpwardFixState\n        ),\n        u.filter(([amount]) => amount !== 0),\n        u.withLatestFrom(scrollTop, scrollDirection, scrollingInProgress, isAtBottom, log),\n        u.filter(([, scrollTop, scrollDirection, scrollingInProgress]) => {\n          return !scrollingInProgress && scrollTop !== 0 && scrollDirection === UP\n        }),\n        u.map(([[amount], , , , , log]) => {\n          log('Upward scrolling compensation', { amount }, LogLevel.DEBUG)\n          return amount\n        })\n      )\n    )\n\n    function scrollByWith(offset: number) {\n      if (offset > 0) {\n        u.publish(scrollBy, { top: -offset, behavior: 'auto' })\n        u.publish(deviation, 0)\n      } else {\n        u.publish(deviation, 0)\n        u.publish(scrollBy, { top: -offset, behavior: 'auto' })\n      }\n    }\n\n    u.subscribe(u.pipe(deviationOffset, u.withLatestFrom(deviation, isScrolling)), ([offset, deviationAmount, isScrolling]) => {\n      if (isScrolling && isMobileSafari()) {\n        u.publish(deviation, deviationAmount - offset)\n      } else {\n        scrollByWith(-offset)\n      }\n    })\n\n    // this hack is only necessary for mobile safari which does not support scrollBy while scrolling is in progress.\n    // when the browser stops scrolling, restore the position and reset the glitching\n    u.subscribe(\n      u.pipe(\n        u.combineLatest(u.statefulStreamFromEmitter(isScrolling, false), deviation, recalcInProgress),\n        u.filter(([is, deviation, recalc]) => !is && !recalc && deviation !== 0),\n        u.map(([_, deviation]) => deviation),\n        u.throttleTime(1)\n      ),\n      scrollByWith\n    )\n\n    u.connect(\n      u.pipe(\n        shiftWithOffset,\n        u.map((offset) => {\n          return { top: -offset }\n        })\n      ),\n      scrollBy\n    )\n\n    u.subscribe(\n      u.pipe(\n        beforeUnshiftWith,\n        u.withLatestFrom(sizes, gap),\n        u.map(([offset, { lastSize }, gap]) => offset * lastSize + offset * gap)\n      ),\n      (offset) => {\n        u.publish(deviation, offset)\n        requestAnimationFrame(() => {\n          u.publish(scrollBy, { top: offset })\n          requestAnimationFrame(() => {\n            u.publish(deviation, 0)\n            u.publish(recalcInProgress, false)\n          })\n        })\n      }\n    )\n\n    return { deviation }\n  },\n  u.tup(domIOSystem, stateFlagsSystem, listStateSystem, sizeSystem, loggerSystem, recalcSystem)\n)\n","import * as u from '@virtuoso.dev/urx'\nimport { totalListHeightSystem } from './totalListHeightSystem'\nimport { propsReadySystem } from './propsReadySystem'\nimport { domIOSystem } from './domIOSystem'\n\nexport const initialScrollTopSystem = u.system(\n  ([{ totalListHeight }, { didMount }, { scrollTo }]) => {\n    const initialScrollTop = u.statefulStream(0)\n\n    u.subscribe(\n      u.pipe(\n        didMount,\n        u.withLatestFrom(initialScrollTop),\n        u.filter(([, offset]) => offset !== 0),\n        u.map(([, offset]) => ({ top: offset }))\n      ),\n      (location) => {\n        u.handleNext(\n          u.pipe(\n            totalListHeight,\n            u.filter((val) => val !== 0)\n          ),\n          () => {\n            setTimeout(() => {\n              u.publish(scrollTo, location)\n            })\n          }\n        )\n      }\n    )\n\n    return {\n      initialScrollTop,\n    }\n  },\n  u.tup(totalListHeightSystem, propsReadySystem, domIOSystem),\n  { singleton: true }\n)\n","import * as u from '@virtuoso.dev/urx'\nimport { totalListHeightSystem } from './totalListHeightSystem'\nimport { domIOSystem } from './domIOSystem'\n\nexport const alignToBottomSystem = u.system(\n  ([{ viewportHeight }, { totalListHeight }]) => {\n    const alignToBottom = u.statefulStream(false)\n\n    const paddingTopAddition = u.statefulStreamFromEmitter(\n      u.pipe(\n        u.combineLatest(alignToBottom, viewportHeight, totalListHeight),\n        u.filter(([enabled]) => enabled),\n        u.map(([, viewportHeight, totalListHeight]) => {\n          return Math.max(0, viewportHeight - totalListHeight)\n        }),\n        u.distinctUntilChanged()\n      ),\n      0\n    )\n\n    return { alignToBottom, paddingTopAddition }\n  },\n  u.tup(domIOSystem, totalListHeightSystem),\n  { singleton: true }\n)\n","import * as u from '@virtuoso.dev/urx'\nimport { domIOSystem } from './domIOSystem'\nimport { WindowViewportInfo, ScrollContainerState } from './interfaces'\n\nexport const windowScrollerSystem = u.system(([{ scrollTo, scrollContainerState }]) => {\n  const windowScrollContainerState = u.stream<ScrollContainerState>()\n  const windowViewportRect = u.stream<WindowViewportInfo>()\n  const windowScrollTo = u.stream<ScrollToOptions>()\n  const useWindowScroll = u.statefulStream(false)\n  const customScrollParent = u.statefulStream<HTMLElement | undefined>(undefined)\n\n  u.connect(\n    u.pipe(\n      u.combineLatest(windowScrollContainerState, windowViewportRect),\n      u.map(([{ viewportHeight, scrollTop: windowScrollTop, scrollHeight }, { offsetTop }]) => {\n        return {\n          scrollTop: Math.max(0, windowScrollTop - offsetTop),\n          scrollHeight,\n          viewportHeight,\n        }\n      })\n    ),\n    scrollContainerState\n  )\n\n  u.connect(\n    u.pipe(\n      scrollTo,\n      u.withLatestFrom(windowViewportRect),\n      u.map(([scrollTo, { offsetTop }]) => {\n        return {\n          ...scrollTo,\n          top: scrollTo.top! + offsetTop,\n        }\n      })\n    ),\n    windowScrollTo\n  )\n\n  return {\n    // config\n    useWindowScroll,\n    customScrollParent,\n\n    // input\n    windowScrollContainerState,\n    windowViewportRect,\n\n    // signals\n    windowScrollTo,\n  }\n}, u.tup(domIOSystem))\n","import * as u from '@virtuoso.dev/urx'\nimport { findMaxKeyValue } from './AATree'\nimport { domIOSystem } from './domIOSystem'\nimport { offsetOf, originalIndexFromLocation, sizeSystem } from './sizeSystem'\nimport { loggerSystem } from './loggerSystem'\nimport { scrollToIndexSystem } from './scrollToIndexSystem'\nimport { listStateSystem } from './listStateSystem'\nimport { ScrollIntoViewLocation } from './interfaces'\n\nexport const scrollIntoViewSystem = u.system(\n  ([{ sizes, totalCount, gap }, { scrollTop, viewportHeight, headerHeight, scrollingInProgress }, { scrollToIndex }]) => {\n    const scrollIntoView = u.stream<ScrollIntoViewLocation>()\n\n    u.connect(\n      u.pipe(\n        scrollIntoView,\n        u.withLatestFrom(sizes, viewportHeight, totalCount, headerHeight, scrollTop, gap),\n        u.map(([viewLocation, sizes, viewportHeight, totalCount, headerHeight, scrollTop, gap]) => {\n          const { done, behavior, ...rest } = viewLocation\n          let location = null\n          const actualIndex = originalIndexFromLocation(viewLocation, sizes, totalCount - 1)\n\n          const itemTop = offsetOf(actualIndex, sizes.offsetTree, gap) + headerHeight\n          if (itemTop < scrollTop) {\n            location = { ...rest, behavior, align: 'start' }\n          } else {\n            const itemBottom = itemTop + findMaxKeyValue(sizes.sizeTree, actualIndex)[1]!\n\n            if (itemBottom > scrollTop + viewportHeight) {\n              location = { ...rest, behavior, align: 'end' }\n            }\n          }\n\n          if (location) {\n            done &&\n              u.handleNext(\n                u.pipe(\n                  scrollingInProgress,\n                  u.skip(1),\n                  u.filter((value) => value === false)\n                ),\n                done\n              )\n          } else {\n            done && done()\n          }\n\n          return location\n        }),\n        u.filter((value) => value !== null)\n      ),\n      scrollToIndex\n    )\n\n    return {\n      scrollIntoView,\n    }\n  },\n  u.tup(sizeSystem, domIOSystem, scrollToIndexSystem, listStateSystem, loggerSystem),\n  { singleton: true }\n)\n","import * as u from '@virtuoso.dev/urx'\nimport { domIOSystem } from './domIOSystem'\nimport { followOutputSystem } from './followOutputSystem'\nimport { groupedListSystem } from './groupedListSystem'\nimport { initialItemCountSystem } from './initialItemCountSystem'\nimport { initialTopMostItemIndexSystem } from './initialTopMostItemIndexSystem'\nimport { listStateSystem } from './listStateSystem'\nimport { propsReadySystem } from './propsReadySystem'\nimport { scrollSeekSystem } from './scrollSeekSystem'\nimport { scrollToIndexSystem } from './scrollToIndexSystem'\nimport { sizeRangeSystem } from './sizeRangeSystem'\nimport { sizeSystem } from './sizeSystem'\nimport { topItemCountSystem } from './topItemCountSystem'\nimport { totalListHeightSystem } from './totalListHeightSystem'\nimport { upwardScrollFixSystem } from './upwardScrollFixSystem'\nimport { initialScrollTopSystem } from './initialScrollTopSystem'\nimport { alignToBottomSystem } from './alignToBottomSystem'\nimport { windowScrollerSystem } from './windowScrollerSystem'\nimport { loggerSystem } from './loggerSystem'\nimport { scrollIntoViewSystem } from './scrollIntoViewSystem'\n\n// workaround the growing list of systems below\n// fix this with 4.1 recursive conditional types\nconst featureGroup1System = u.system(\n  ([\n    sizeRange,\n    initialItemCount,\n    propsReady,\n    scrollSeek,\n    totalListHeight,\n    initialScrollTopSystem,\n    alignToBottom,\n    windowScroller,\n    scrollIntoView,\n  ]) => {\n    return {\n      ...sizeRange,\n      ...initialItemCount,\n      ...propsReady,\n      ...scrollSeek,\n      ...totalListHeight,\n      ...initialScrollTopSystem,\n      ...alignToBottom,\n      ...windowScroller,\n      ...scrollIntoView,\n    }\n  },\n  u.tup(\n    sizeRangeSystem,\n    initialItemCountSystem,\n    propsReadySystem,\n    scrollSeekSystem,\n    totalListHeightSystem,\n    initialScrollTopSystem,\n    alignToBottomSystem,\n    windowScrollerSystem,\n    scrollIntoViewSystem\n  )\n)\n\nexport const listSystem = u.system(\n  ([\n    {\n      totalCount,\n      sizeRanges,\n      fixedItemSize,\n      defaultItemSize,\n      trackItemSizes,\n      itemSize,\n      data,\n      firstItemIndex,\n      groupIndices,\n      statefulTotalCount,\n      gap,\n    },\n    { initialTopMostItemIndex, scrolledToInitialItem },\n    domIO,\n    followOutput,\n    { listState, topItemsIndexes, ...flags },\n    { scrollToIndex },\n    _,\n    { topItemCount },\n    { groupCounts },\n    featureGroup1,\n    log,\n  ]) => {\n    u.connect(flags.rangeChanged, featureGroup1.scrollSeekRangeChanged)\n    u.connect(\n      u.pipe(\n        featureGroup1.windowViewportRect,\n        u.map((value) => value.visibleHeight)\n      ),\n      domIO.viewportHeight\n    )\n\n    return {\n      // input\n      totalCount,\n      data,\n      firstItemIndex,\n      sizeRanges,\n      initialTopMostItemIndex,\n      scrolledToInitialItem,\n      topItemsIndexes,\n      topItemCount,\n      groupCounts,\n      fixedItemHeight: fixedItemSize,\n      defaultItemHeight: defaultItemSize,\n      gap,\n      ...followOutput,\n\n      // output\n      statefulTotalCount,\n      listState,\n      scrollToIndex,\n      trackItemSizes,\n      itemSize,\n      groupIndices,\n\n      // exported from stateFlagsSystem\n      ...flags,\n      // the bag of IO from featureGroup1System\n      ...featureGroup1,\n      ...domIO,\n      ...log,\n    }\n  },\n  u.tup(\n    sizeSystem,\n    initialTopMostItemIndexSystem,\n    domIOSystem,\n    followOutputSystem,\n    listStateSystem,\n    scrollToIndexSystem,\n    upwardScrollFixSystem,\n    topItemCountSystem,\n    groupedListSystem,\n    featureGroup1System,\n    loggerSystem\n  )\n)\n","import { simpleMemoize } from './simpleMemoize'\n\nconst WEBKIT_STICKY = '-webkit-sticky'\nconst STICKY = 'sticky'\n\nexport const positionStickyCssValue = simpleMemoize(() => {\n  if (typeof document === 'undefined') {\n    return STICKY\n  }\n  const node = document.createElement('div')\n  node.style.position = WEBKIT_STICKY\n  return node.style.position === WEBKIT_STICKY ? WEBKIT_STICKY : STICKY\n})\n","import { useEffect, useRef, useCallback } from 'react'\nimport { useSizeWithElRef } from './useSize'\nimport { WindowViewportInfo } from '../interfaces'\n\nexport default function useWindowViewportRectRef(callback: (info: WindowViewportInfo) => void, customScrollParent?: HTMLElement) {\n  const viewportInfo = useRef<WindowViewportInfo | null>(null)\n\n  const calculateInfo = useCallback(\n    (element: HTMLElement | null) => {\n      if (element === null || !element.offsetParent) {\n        return\n      }\n      const rect = element.getBoundingClientRect()\n      const visibleWidth = rect.width\n      let visibleHeight: number, offsetTop: number\n\n      if (customScrollParent) {\n        const customScrollParentRect = customScrollParent.getBoundingClientRect()\n        const deltaTop = rect.top - customScrollParentRect.top\n\n        visibleHeight = customScrollParentRect.height - Math.max(0, deltaTop)\n        offsetTop = deltaTop + customScrollParent.scrollTop\n      } else {\n        visibleHeight = window.innerHeight - Math.max(0, rect.top)\n        offsetTop = rect.top + window.pageYOffset\n      }\n\n      viewportInfo.current = {\n        offsetTop,\n        visibleHeight,\n        visibleWidth,\n      }\n\n      callback(viewportInfo.current)\n    },\n    [callback, customScrollParent]\n  )\n\n  const { callbackRef, ref } = useSizeWithElRef(calculateInfo)\n\n  const scrollAndResizeEventHandler = useCallback(() => {\n    calculateInfo(ref.current)\n  }, [calculateInfo, ref])\n\n  useEffect(() => {\n    if (customScrollParent) {\n      customScrollParent.addEventListener('scroll', scrollAndResizeEventHandler)\n      const observer = new ResizeObserver(scrollAndResizeEventHandler)\n      observer.observe(customScrollParent)\n      return () => {\n        customScrollParent.removeEventListener('scroll', scrollAndResizeEventHandler)\n        observer.unobserve(customScrollParent)\n      }\n    } else {\n      window.addEventListener('scroll', scrollAndResizeEventHandler)\n      window.addEventListener('resize', scrollAndResizeEventHandler)\n      return () => {\n        window.removeEventListener('scroll', scrollAndResizeEventHandler)\n        window.removeEventListener('resize', scrollAndResizeEventHandler)\n      }\n    }\n  }, [scrollAndResizeEventHandler, customScrollParent])\n\n  return callbackRef\n}\n","import { RefHandle, systemToComponent } from '@virtuoso.dev/react-urx'\nimport * as u from '@virtuoso.dev/urx'\nimport * as React from 'react'\nimport { ComponentType, createElement, CSSProperties, FC, PropsWithChildren } from 'react'\nimport useIsomorphicLayoutEffect from './hooks/useIsomorphicLayoutEffect'\nimport useChangedListContentsSizes from './hooks/useChangedChildSizes'\nimport useScrollTop from './hooks/useScrollTop'\nimport useSize from './hooks/useSize'\nimport { Components, ComputeItemKey, GroupContent, GroupItemContent, ItemContent, ListRootProps } from './interfaces'\nimport { listSystem } from './listSystem'\nimport { positionStickyCssValue } from './utils/positionStickyCssValue'\nimport useWindowViewportRectRef from './hooks/useWindowViewportRect'\nimport { correctItemSize } from './utils/correctItemSize'\nimport { ScrollerProps } from '.'\n\nexport function identity<T>(value: T) {\n  return value\n}\n\nconst listComponentPropsSystem = u.system(() => {\n  const itemContent = u.statefulStream<ItemContent<any, any> | GroupItemContent<any, any>>((index: number) => `Item ${index}`)\n  const context = u.statefulStream<unknown>(null)\n  const groupContent = u.statefulStream<GroupContent>((index: number) => `Group ${index}`)\n  const components = u.statefulStream<Components<any>>({})\n  const computeItemKey = u.statefulStream<ComputeItemKey<any, any>>(identity)\n  const headerFooterTag = u.statefulStream('div')\n  const scrollerRef = u.statefulStream<(ref: HTMLElement | Window | null) => void>(u.noop)\n\n  const distinctProp = <K extends keyof Components<any>>(propName: K, defaultValue: Components<any>[K] | null | 'div' = null) => {\n    return u.statefulStreamFromEmitter(\n      u.pipe(\n        components,\n        u.map((components) => components[propName]),\n        u.distinctUntilChanged()\n      ),\n      defaultValue\n    )\n  }\n\n  return {\n    context,\n    itemContent,\n    groupContent,\n    components,\n    computeItemKey,\n    headerFooterTag,\n    scrollerRef,\n    FooterComponent: distinctProp('Footer'),\n    HeaderComponent: distinctProp('Header'),\n    TopItemListComponent: distinctProp('TopItemList'),\n    ListComponent: distinctProp('List', 'div'),\n    ItemComponent: distinctProp('Item', 'div'),\n    GroupComponent: distinctProp('Group', 'div'),\n    ScrollerComponent: distinctProp('Scroller', 'div'),\n    EmptyPlaceholder: distinctProp('EmptyPlaceholder'),\n    ScrollSeekPlaceholder: distinctProp('ScrollSeekPlaceholder'),\n  }\n})\n\nexport function addDeprecatedAlias<T>(prop: u.Stream<T>, message: string) {\n  const alias = u.stream<T>()\n  u.subscribe(alias, () =>\n    console.warn(`react-virtuoso: You are using a deprecated property. ${message}`, 'color: red;', 'color: inherit;', 'color: blue;')\n  )\n  u.connect(alias, prop)\n  return alias\n}\n\nconst combinedSystem = u.system(([listSystem, propsSystem]) => {\n  const deprecatedProps = {\n    item: addDeprecatedAlias(propsSystem.itemContent, 'Rename the %citem%c prop to %citemContent.'),\n    group: addDeprecatedAlias(propsSystem.groupContent, 'Rename the %cgroup%c prop to %cgroupContent.'),\n    topItems: addDeprecatedAlias(listSystem.topItemCount, 'Rename the %ctopItems%c prop to %ctopItemCount.'),\n    itemHeight: addDeprecatedAlias(listSystem.fixedItemHeight, 'Rename the %citemHeight%c prop to %cfixedItemHeight.'),\n    scrollingStateChange: addDeprecatedAlias(listSystem.isScrolling, 'Rename the %cscrollingStateChange%c prop to %cisScrolling.'),\n    adjustForPrependedItems: u.stream<any>(),\n    maxHeightCacheSize: u.stream<any>(),\n    footer: u.stream<any>(),\n    header: u.stream<any>(),\n    HeaderContainer: u.stream<any>(),\n    FooterContainer: u.stream<any>(),\n    ItemContainer: u.stream<any>(),\n    ScrollContainer: u.stream<any>(),\n    GroupContainer: u.stream<any>(),\n    ListContainer: u.stream<any>(),\n    emptyComponent: u.stream<any>(),\n    scrollSeek: u.stream<any>(),\n  }\n\n  u.subscribe(deprecatedProps.adjustForPrependedItems, () => {\n    console.warn(\n      `react-virtuoso: adjustForPrependedItems is no longer supported. Use the firstItemIndex property instead - https://virtuoso.dev/prepend-items.`,\n      'color: red;',\n      'color: inherit;',\n      'color: blue;'\n    )\n  })\n\n  u.subscribe(deprecatedProps.maxHeightCacheSize, () => {\n    console.warn(`react-virtuoso: maxHeightCacheSize is no longer necessary. Setting it has no effect - remove it from your code.`)\n  })\n\n  u.subscribe(deprecatedProps.HeaderContainer, () => {\n    console.warn(\n      `react-virtuoso: HeaderContainer is deprecated. Use headerFooterTag if you want to change the wrapper of the header component and pass components.Header to change its contents.`\n    )\n  })\n\n  u.subscribe(deprecatedProps.FooterContainer, () => {\n    console.warn(\n      `react-virtuoso: FooterContainer is deprecated. Use headerFooterTag if you want to change the wrapper of the footer component and pass components.Footer to change its contents.`\n    )\n  })\n\n  function deprecateComponentProp(stream: u.Stream<any>, componentName: string, propName: string) {\n    u.connect(\n      u.pipe(\n        stream,\n        u.withLatestFrom(propsSystem.components),\n        u.map(([comp, components]) => {\n          console.warn(`react-virtuoso: ${propName} property is deprecated. Pass components.${componentName} instead.`)\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n          return { ...components, [componentName]: comp }\n        })\n      ),\n      propsSystem.components\n    )\n  }\n\n  u.subscribe(deprecatedProps.scrollSeek, ({ placeholder, ...config }) => {\n    console.warn(\n      `react-virtuoso: scrollSeek property is deprecated. Pass scrollSeekConfiguration and specify the placeholder in components.ScrollSeekPlaceholder instead.`\n    )\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n    u.publish(propsSystem.components, { ...u.getValue(propsSystem.components), ScrollSeekPlaceholder: placeholder })\n    u.publish(listSystem.scrollSeekConfiguration, config)\n  })\n\n  deprecateComponentProp(deprecatedProps.footer, 'Footer', 'footer')\n  deprecateComponentProp(deprecatedProps.header, 'Header', 'header')\n  deprecateComponentProp(deprecatedProps.ItemContainer, 'Item', 'ItemContainer')\n  deprecateComponentProp(deprecatedProps.ListContainer, 'List', 'ListContainer')\n  deprecateComponentProp(deprecatedProps.ScrollContainer, 'Scroller', 'ScrollContainer')\n  deprecateComponentProp(deprecatedProps.emptyComponent, 'EmptyPlaceholder', 'emptyComponent')\n  deprecateComponentProp(deprecatedProps.GroupContainer, 'Group', 'GroupContainer')\n\n  return { ...listSystem, ...propsSystem, ...deprecatedProps }\n}, u.tup(listSystem, listComponentPropsSystem))\n\nconst DefaultScrollSeekPlaceholder = ({ height }: { height: number }) => <div style={{ height }}></div>\n\nconst GROUP_STYLE = { position: positionStickyCssValue(), zIndex: 1, overflowAnchor: 'none' } as const\nconst ITEM_STYLE = { overflowAnchor: 'none' } as const\n\nexport const Items = React.memo(function VirtuosoItems({ showTopList = false }: { showTopList?: boolean }) {\n  const listState = useEmitterValue('listState')\n\n  const sizeRanges = usePublisher('sizeRanges')\n  const useWindowScroll = useEmitterValue('useWindowScroll')\n  const customScrollParent = useEmitterValue('customScrollParent')\n  const windowScrollContainerStateCallback = usePublisher('windowScrollContainerState')\n  const _scrollContainerStateCallback = usePublisher('scrollContainerState')\n  const scrollContainerStateCallback =\n    customScrollParent || useWindowScroll ? windowScrollContainerStateCallback : _scrollContainerStateCallback\n  const itemContent = useEmitterValue('itemContent')\n  const context = useEmitterValue('context')\n  const groupContent = useEmitterValue('groupContent')\n  const trackItemSizes = useEmitterValue('trackItemSizes')\n  const itemSize = useEmitterValue('itemSize')\n  const log = useEmitterValue('log')\n  const listGap = usePublisher('gap')\n\n  const { callbackRef } = useChangedListContentsSizes(\n    sizeRanges,\n    itemSize,\n    trackItemSizes,\n    showTopList ? u.noop : scrollContainerStateCallback,\n    log,\n    listGap,\n    customScrollParent\n  )\n\n  const [deviation, setDeviation] = React.useState(0)\n  useEmitter('deviation', (value) => {\n    if (deviation !== value) {\n      // ref.current!.style.marginTop = `${value}px`\n      setDeviation(value)\n    }\n  })\n\n  const EmptyPlaceholder = useEmitterValue('EmptyPlaceholder')\n  const ScrollSeekPlaceholder = useEmitterValue('ScrollSeekPlaceholder') || DefaultScrollSeekPlaceholder\n  const ListComponent = useEmitterValue('ListComponent')!\n  const ItemComponent = useEmitterValue('ItemComponent')!\n  const GroupComponent = useEmitterValue('GroupComponent')!\n  const computeItemKey = useEmitterValue('computeItemKey')\n  const isSeeking = useEmitterValue('isSeeking')\n  const hasGroups = useEmitterValue('groupIndices').length > 0\n  const paddingTopAddition = useEmitterValue('paddingTopAddition')\n\n  const containerStyle: CSSProperties = showTopList\n    ? {}\n    : {\n        boxSizing: 'border-box',\n        paddingTop: listState.offsetTop + paddingTopAddition,\n        paddingBottom: listState.offsetBottom,\n        marginTop: deviation,\n      }\n\n  if (!showTopList && listState.totalCount === 0 && EmptyPlaceholder) {\n    return createElement(EmptyPlaceholder, contextPropIfNotDomElement(EmptyPlaceholder, context))\n  }\n\n  return createElement(\n    ListComponent,\n    {\n      ...contextPropIfNotDomElement(ListComponent, context),\n      ref: callbackRef,\n      style: containerStyle,\n      'data-test-id': showTopList ? 'virtuoso-top-item-list' : 'virtuoso-item-list',\n    },\n    (showTopList ? listState.topItems : listState.items).map((item) => {\n      const index = item.originalIndex!\n      const key = computeItemKey(index + listState.firstItemIndex, item.data, context)\n\n      if (isSeeking) {\n        return createElement(ScrollSeekPlaceholder, {\n          ...contextPropIfNotDomElement(ScrollSeekPlaceholder, context),\n          key,\n          index: item.index,\n          height: item.size,\n          type: item.type || 'item',\n          ...(item.type === 'group' ? {} : { groupIndex: item.groupIndex }),\n        })\n      }\n\n      if (item.type === 'group') {\n        return createElement(\n          GroupComponent,\n          {\n            ...contextPropIfNotDomElement(GroupComponent, context),\n            key,\n            'data-index': index,\n            'data-known-size': item.size,\n            'data-item-index': item.index,\n            style: GROUP_STYLE,\n          },\n          groupContent(item.index)\n        )\n      } else {\n        return createElement(\n          ItemComponent,\n          {\n            ...contextPropIfNotDomElement(ItemComponent, context),\n            key,\n            'data-index': index,\n            'data-known-size': item.size,\n            'data-item-index': item.index,\n            'data-item-group-index': item.groupIndex,\n            style: ITEM_STYLE,\n          },\n          hasGroups\n            ? (itemContent as GroupItemContent<any, any>)(item.index, item.groupIndex!, item.data, context)\n            : (itemContent as ItemContent<any, any>)(item.index, item.data, context)\n        )\n      }\n    })\n  )\n})\n\nexport const scrollerStyle: CSSProperties = {\n  height: '100%',\n  outline: 'none',\n  overflowY: 'auto',\n  position: 'relative',\n  WebkitOverflowScrolling: 'touch',\n}\n\nexport const viewportStyle: CSSProperties = {\n  width: '100%',\n  height: '100%',\n  position: 'absolute',\n  top: 0,\n}\n\nconst topItemListStyle: CSSProperties = {\n  width: '100%',\n  position: positionStickyCssValue(),\n  top: 0,\n}\n\nexport function contextPropIfNotDomElement(element: unknown, context: unknown) {\n  if (typeof element === 'string') {\n    return undefined\n  }\n  return { context }\n}\n\nconst Header: FC = React.memo(function VirtuosoHeader() {\n  const Header = useEmitterValue('HeaderComponent')\n  const headerHeight = usePublisher('headerHeight')\n  const headerFooterTag = useEmitterValue('headerFooterTag')\n  const ref = useSize((el) => headerHeight(correctItemSize(el, 'height')))\n  const context = useEmitterValue('context')\n  return Header ? createElement(headerFooterTag, { ref }, createElement(Header, contextPropIfNotDomElement(Header, context))) : null\n})\n\nconst Footer: FC = React.memo(function VirtuosoFooter() {\n  const Footer = useEmitterValue('FooterComponent')\n  const footerHeight = usePublisher('footerHeight')\n  const headerFooterTag = useEmitterValue('headerFooterTag')\n  const ref = useSize((el) => footerHeight(correctItemSize(el, 'height')))\n  const context = useEmitterValue('context')\n  return Footer ? createElement(headerFooterTag, { ref }, createElement(Footer, contextPropIfNotDomElement(Footer, context))) : null\n})\n\nexport interface Hooks {\n  usePublisher: typeof usePublisher\n  useEmitterValue: typeof useEmitterValue\n  useEmitter: typeof useEmitter\n}\n\nexport function buildScroller({ usePublisher, useEmitter, useEmitterValue }: Hooks) {\n  const Scroller: ComponentType<ScrollerProps> = React.memo(function VirtuosoScroller({ style, children, ...props }) {\n    const scrollContainerStateCallback = usePublisher('scrollContainerState')\n    const ScrollerComponent = useEmitterValue('ScrollerComponent')!\n    const smoothScrollTargetReached = usePublisher('smoothScrollTargetReached')\n    const scrollerRefCallback = useEmitterValue('scrollerRef')\n    const context = useEmitterValue('context')\n\n    const { scrollerRef, scrollByCallback, scrollToCallback } = useScrollTop(\n      scrollContainerStateCallback,\n      smoothScrollTargetReached,\n      ScrollerComponent,\n      scrollerRefCallback\n    )\n\n    useEmitter('scrollTo', scrollToCallback)\n    useEmitter('scrollBy', scrollByCallback)\n    return createElement(\n      ScrollerComponent,\n      {\n        ref: scrollerRef as React.MutableRefObject<HTMLDivElement | null>,\n        style: { ...scrollerStyle, ...style },\n        'data-test-id': 'virtuoso-scroller',\n        'data-virtuoso-scroller': true,\n        tabIndex: 0,\n        ...props,\n        ...contextPropIfNotDomElement(ScrollerComponent, context),\n      },\n      children\n    )\n  })\n  return Scroller\n}\n\nexport function buildWindowScroller({ usePublisher, useEmitter, useEmitterValue }: Hooks) {\n  const Scroller: Components['Scroller'] = React.memo(function VirtuosoWindowScroller({ style, children, ...props }) {\n    const scrollContainerStateCallback = usePublisher('windowScrollContainerState')\n    const ScrollerComponent = useEmitterValue('ScrollerComponent')!\n    const smoothScrollTargetReached = usePublisher('smoothScrollTargetReached')\n    const totalListHeight = useEmitterValue('totalListHeight')\n    const deviation = useEmitterValue('deviation')\n    const customScrollParent = useEmitterValue('customScrollParent')\n    const context = useEmitterValue('context')\n    const { scrollerRef, scrollByCallback, scrollToCallback } = useScrollTop(\n      scrollContainerStateCallback,\n      smoothScrollTargetReached,\n      ScrollerComponent,\n      u.noop,\n      customScrollParent\n    )\n\n    useIsomorphicLayoutEffect(() => {\n      scrollerRef.current = customScrollParent ? customScrollParent : window\n      return () => {\n        scrollerRef.current = null\n      }\n    }, [scrollerRef, customScrollParent])\n\n    useEmitter('windowScrollTo', scrollToCallback)\n    useEmitter('scrollBy', scrollByCallback)\n    return createElement(\n      ScrollerComponent,\n      {\n        style: { position: 'relative', ...style, ...(totalListHeight !== 0 ? { height: totalListHeight + deviation } : {}) },\n        'data-virtuoso-scroller': true,\n        ...props,\n        ...contextPropIfNotDomElement(ScrollerComponent, context),\n      },\n      children\n    )\n  })\n  return Scroller\n}\n\nconst Viewport: FC<PropsWithChildren<unknown>> = ({ children }) => {\n  const viewportHeight = usePublisher('viewportHeight')\n  const viewportRef = useSize(u.compose(viewportHeight, (el) => correctItemSize(el, 'height')))\n\n  return (\n    <div style={viewportStyle} ref={viewportRef} data-viewport-type=\"element\">\n      {children}\n    </div>\n  )\n}\n\nconst WindowViewport: FC<PropsWithChildren<unknown>> = ({ children }) => {\n  const windowViewportRect = usePublisher('windowViewportRect')\n  const customScrollParent = useEmitterValue('customScrollParent')\n  const viewportRef = useWindowViewportRectRef(windowViewportRect, customScrollParent)\n\n  return (\n    <div ref={viewportRef} style={viewportStyle} data-viewport-type=\"window\">\n      {children}\n    </div>\n  )\n}\n\nconst TopItemListContainer: FC<PropsWithChildren<unknown>> = ({ children }) => {\n  const TopItemList = useEmitterValue('TopItemListComponent')\n  const headerHeight = useEmitterValue('headerHeight')\n  const style = { ...topItemListStyle, marginTop: `${headerHeight}px` }\n  const context = useEmitterValue('context')\n  return createElement(TopItemList || 'div', { style, context }, children)\n}\n\nconst ListRoot: FC<ListRootProps> = React.memo(function VirtuosoRoot(props) {\n  const useWindowScroll = useEmitterValue('useWindowScroll')\n  const showTopList = useEmitterValue('topItemsIndexes').length > 0\n  const customScrollParent = useEmitterValue('customScrollParent')\n  const TheScroller = customScrollParent || useWindowScroll ? WindowScroller : Scroller\n  const TheViewport = customScrollParent || useWindowScroll ? WindowViewport : Viewport\n  return (\n    <TheScroller {...props}>\n      <TheViewport>\n        <Header />\n        <Items />\n        <Footer />\n      </TheViewport>\n      {showTopList && (\n        <TopItemListContainer>\n          <Items showTopList={true} />\n        </TopItemListContainer>\n      )}\n    </TheScroller>\n  )\n})\n\nexport type ListHandle = RefHandle<typeof List>\n\nexport const {\n  Component: List,\n  usePublisher,\n  useEmitterValue,\n  useEmitter,\n} = systemToComponent(\n  combinedSystem,\n  {\n    required: {},\n    optional: {\n      context: 'context',\n      followOutput: 'followOutput',\n      firstItemIndex: 'firstItemIndex',\n      itemContent: 'itemContent',\n      groupContent: 'groupContent',\n      overscan: 'overscan',\n      increaseViewportBy: 'increaseViewportBy',\n      totalCount: 'totalCount',\n      topItemCount: 'topItemCount',\n      initialTopMostItemIndex: 'initialTopMostItemIndex',\n      components: 'components',\n      groupCounts: 'groupCounts',\n      atBottomThreshold: 'atBottomThreshold',\n      atTopThreshold: 'atTopThreshold',\n      computeItemKey: 'computeItemKey',\n      defaultItemHeight: 'defaultItemHeight',\n      fixedItemHeight: 'fixedItemHeight',\n      itemSize: 'itemSize',\n      scrollSeekConfiguration: 'scrollSeekConfiguration',\n      headerFooterTag: 'headerFooterTag',\n      data: 'data',\n      initialItemCount: 'initialItemCount',\n      initialScrollTop: 'initialScrollTop',\n      alignToBottom: 'alignToBottom',\n      useWindowScroll: 'useWindowScroll',\n      customScrollParent: 'customScrollParent',\n      scrollerRef: 'scrollerRef',\n      logLevel: 'logLevel',\n      react18ConcurrentRendering: 'react18ConcurrentRendering',\n\n      // deprecated\n      item: 'item',\n      group: 'group',\n      topItems: 'topItems',\n      itemHeight: 'itemHeight',\n      scrollingStateChange: 'scrollingStateChange',\n      maxHeightCacheSize: 'maxHeightCacheSize',\n      footer: 'footer',\n      header: 'header',\n      ItemContainer: 'ItemContainer',\n      ScrollContainer: 'ScrollContainer',\n      ListContainer: 'ListContainer',\n      GroupContainer: 'GroupContainer',\n      emptyComponent: 'emptyComponent',\n      HeaderContainer: 'HeaderContainer',\n      FooterContainer: 'FooterContainer',\n      scrollSeek: 'scrollSeek',\n    },\n    methods: {\n      scrollToIndex: 'scrollToIndex',\n      scrollIntoView: 'scrollIntoView',\n      scrollTo: 'scrollTo',\n      scrollBy: 'scrollBy',\n      adjustForPrependedItems: 'adjustForPrependedItems',\n      autoscrollToBottom: 'autoscrollToBottom',\n    },\n    events: {\n      isScrolling: 'isScrolling',\n      endReached: 'endReached',\n      startReached: 'startReached',\n      rangeChanged: 'rangeChanged',\n      atBottomStateChange: 'atBottomStateChange',\n      atTopStateChange: 'atTopStateChange',\n      totalListHeightChanged: 'totalListHeightChanged',\n      itemsRendered: 'itemsRendered',\n      groupIndices: 'groupIndices',\n    },\n  },\n  ListRoot\n)\n\nconst Scroller = buildScroller({ usePublisher, useEmitterValue, useEmitter })\nconst WindowScroller = buildWindowScroller({ usePublisher, useEmitterValue, useEmitter })\n","import * as u from '@virtuoso.dev/urx'\nimport { rangeComparator, tupleComparator } from './comparators'\nimport { domIOSystem } from './domIOSystem'\nimport { FlatIndexLocationWithAlign } from './interfaces'\nimport { propsReadySystem } from './propsReadySystem'\nimport { scrollSeekSystem } from './scrollSeekSystem'\nimport { IndexLocation, normalizeIndexLocation } from './scrollToIndexSystem'\nimport { sizeRangeSystem } from './sizeRangeSystem'\nimport { stateFlagsSystem } from './stateFlagsSystem'\nimport { loggerSystem } from './loggerSystem'\nimport { windowScrollerSystem } from './windowScrollerSystem'\n\nexport interface Gap {\n  row: number\n  column: number\n}\n\nexport interface ElementDimensions {\n  width: number\n  height: number\n}\n\nexport interface GridItem {\n  index: number\n}\n\nexport interface GridLayout {\n  top: number\n  bottom: number\n}\n\nexport interface GridState extends GridLayout {\n  items: GridItem[]\n  offsetTop: number\n  offsetBottom: number\n  itemHeight: number\n  itemWidth: number\n}\n\nconst INITIAL_GRID_STATE: GridState = {\n  items: [],\n  offsetBottom: 0,\n  offsetTop: 0,\n  top: 0,\n  bottom: 0,\n  itemHeight: 0,\n  itemWidth: 0,\n}\n\nconst PROBE_GRID_STATE: GridState = {\n  items: [{ index: 0 }],\n  offsetBottom: 0,\n  offsetTop: 0,\n  top: 0,\n  bottom: 0,\n  itemHeight: 0,\n  itemWidth: 0,\n}\n\nconst { round, ceil, floor, min, max } = Math\n\nfunction buildItems(startIndex: number, endIndex: number) {\n  return Array.from({ length: endIndex - startIndex + 1 }).map((_, i) => ({ index: i + startIndex } as GridItem))\n}\n\nfunction gapComparator(prev: Gap, next: Gap) {\n  return prev && prev.column === next.column && prev.row === next.row\n}\nexport const gridSystem = u.system(\n  ([\n    { overscan, visibleRange, listBoundary },\n    { scrollTop, viewportHeight, scrollBy, scrollTo, smoothScrollTargetReached, scrollContainerState },\n    stateFlags,\n    scrollSeek,\n    { propsReady, didMount },\n    { windowViewportRect, windowScrollTo, useWindowScroll, customScrollParent, windowScrollContainerState },\n    log,\n  ]) => {\n    const totalCount = u.statefulStream(0)\n    const initialItemCount = u.statefulStream(0)\n    const gridState = u.statefulStream(INITIAL_GRID_STATE)\n    const viewportDimensions = u.statefulStream<ElementDimensions>({ height: 0, width: 0 })\n    const itemDimensions = u.statefulStream<ElementDimensions>({ height: 0, width: 0 })\n    const scrollToIndex = u.stream<IndexLocation>()\n    const scrollHeight = u.stream<number>()\n    const deviation = u.statefulStream(0)\n    const gap = u.statefulStream<Gap>({ row: 0, column: 0 })\n\n    u.connect(\n      u.pipe(\n        didMount,\n        u.withLatestFrom(initialItemCount),\n        u.filter(([, count]) => count !== 0),\n        u.map(([, count]) => {\n          return {\n            items: buildItems(0, count - 1),\n            top: 0,\n            bottom: 0,\n            offsetBottom: 0,\n            offsetTop: 0,\n            itemHeight: 0,\n            itemWidth: 0,\n          }\n        })\n      ),\n      gridState\n    )\n\n    u.connect(\n      u.pipe(\n        u.combineLatest(\n          u.duc(totalCount),\n          visibleRange,\n          u.duc(gap, gapComparator),\n          u.duc(itemDimensions, (prev, next) => prev && prev.width === next.width && prev.height === next.height)\n        ),\n        u.withLatestFrom(viewportDimensions),\n        u.map(([[totalCount, [startOffset, endOffset], gap, item], viewport]) => {\n          const { row: rowGap, column: columnGap } = gap\n          const { height: itemHeight, width: itemWidth } = item\n          const { width: viewportWidth } = viewport\n\n          if (totalCount === 0 || viewportWidth === 0) {\n            return INITIAL_GRID_STATE\n          }\n\n          if (itemWidth === 0) {\n            return PROBE_GRID_STATE\n          }\n\n          const perRow = itemsPerRow(viewportWidth, itemWidth, columnGap)\n\n          let startIndex = perRow * floor((startOffset + rowGap) / (itemHeight + rowGap))\n          let endIndex = perRow * ceil((endOffset + rowGap) / (itemHeight + rowGap)) - 1\n          endIndex = max(0, min(totalCount - 1, endIndex))\n          startIndex = min(endIndex, max(0, startIndex))\n\n          const items = buildItems(startIndex, endIndex)\n          const { top, bottom } = gridLayout(viewport, gap, item, items)\n          const rowCount = ceil(totalCount / perRow)\n          const totalHeight = rowCount * itemHeight + (rowCount - 1) * rowGap\n          const offsetBottom = totalHeight - bottom\n\n          return { items, offsetTop: top, offsetBottom, top, bottom, itemHeight, itemWidth } as GridState\n        })\n      ),\n      gridState\n    )\n\n    u.connect(\n      u.pipe(\n        viewportDimensions,\n        u.map(({ height }) => height)\n      ),\n      viewportHeight\n    )\n\n    u.connect(\n      u.pipe(\n        u.combineLatest(viewportDimensions, itemDimensions, gridState, gap),\n        u.map(([viewportDimensions, item, { items }, gap]) => {\n          const { top, bottom } = gridLayout(viewportDimensions, gap, item, items)\n\n          return [top, bottom] as [number, number]\n        }),\n        u.distinctUntilChanged(tupleComparator)\n      ),\n      listBoundary\n    )\n\n    const endReached = u.streamFromEmitter(\n      u.pipe(\n        u.duc(gridState),\n        u.filter(({ items }) => items.length > 0),\n        u.withLatestFrom(totalCount),\n        u.filter(([{ items }, totalCount]) => items[items.length - 1].index === totalCount - 1),\n        u.map(([, totalCount]) => totalCount - 1),\n        u.distinctUntilChanged()\n      )\n    )\n\n    const startReached = u.streamFromEmitter(\n      u.pipe(\n        u.duc(gridState),\n        u.filter(({ items }) => {\n          return items.length > 0 && items[0].index === 0\n        }),\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n        u.mapTo(0),\n        u.distinctUntilChanged()\n      )\n    )\n\n    const rangeChanged = u.streamFromEmitter(\n      u.pipe(\n        u.duc(gridState),\n        u.filter(({ items }) => items.length > 0),\n        u.map(({ items }) => {\n          return {\n            startIndex: items[0].index,\n            endIndex: items[items.length - 1].index,\n          }\n        }),\n        u.distinctUntilChanged(rangeComparator)\n      )\n    )\n\n    u.connect(rangeChanged, scrollSeek.scrollSeekRangeChanged)\n\n    u.connect(\n      u.pipe(\n        scrollToIndex,\n        u.withLatestFrom(viewportDimensions, itemDimensions, totalCount, gap),\n        u.map(([location, viewport, item, totalCount, gap]) => {\n          const normalLocation = normalizeIndexLocation(location) as FlatIndexLocationWithAlign\n          const { align, behavior, offset } = normalLocation\n          let index = normalLocation.index\n          if (index === 'LAST') {\n            index = totalCount - 1\n          }\n\n          index = max(0, index, min(totalCount - 1, index))\n\n          let top = itemTop(viewport, gap, item, index)\n\n          if (align === 'end') {\n            top = round(top - viewport.height + item.height)\n          } else if (align === 'center') {\n            top = round(top - viewport.height / 2 + item.height / 2)\n          }\n\n          if (offset) {\n            top += offset\n          }\n\n          return { top, behavior }\n        })\n      ),\n      scrollTo\n    )\n\n    const totalListHeight = u.statefulStreamFromEmitter(\n      u.pipe(\n        gridState,\n        u.map((gridState) => {\n          return gridState.offsetBottom + gridState.bottom\n        })\n      ),\n      0\n    )\n\n    u.connect(\n      u.pipe(\n        windowViewportRect,\n        u.map((viewportInfo) => ({ width: viewportInfo.visibleWidth, height: viewportInfo.visibleHeight }))\n      ),\n      viewportDimensions\n    )\n\n    return {\n      // input\n      totalCount,\n      viewportDimensions,\n      itemDimensions,\n      scrollTop,\n      scrollHeight,\n      overscan,\n      scrollBy,\n      scrollTo,\n      scrollToIndex,\n      smoothScrollTargetReached,\n      windowViewportRect,\n      windowScrollTo,\n      useWindowScroll,\n      customScrollParent,\n      windowScrollContainerState,\n      deviation,\n      scrollContainerState,\n      initialItemCount,\n      gap,\n      ...scrollSeek,\n\n      // output\n      gridState,\n      totalListHeight,\n      ...stateFlags,\n      startReached,\n      endReached,\n      rangeChanged,\n      propsReady,\n      ...log,\n    }\n  },\n  u.tup(sizeRangeSystem, domIOSystem, stateFlagsSystem, scrollSeekSystem, propsReadySystem, windowScrollerSystem, loggerSystem)\n)\n\nfunction gridLayout(viewport: ElementDimensions, gap: Gap, item: ElementDimensions, items: GridItem[]): GridLayout {\n  const { height: itemHeight } = item\n  if (itemHeight === undefined || items.length === 0) {\n    return { top: 0, bottom: 0 }\n  }\n\n  const top = itemTop(viewport, gap, item, items[0].index)\n  const bottom = itemTop(viewport, gap, item, items[items.length - 1].index) + itemHeight\n  return { top, bottom }\n}\n\nfunction itemTop(viewport: ElementDimensions, gap: Gap, item: ElementDimensions, index: number) {\n  const perRow = itemsPerRow(viewport.width, item.width, gap.column)\n  const rowCount = floor(index / perRow)\n  const top = rowCount * item.height + max(0, rowCount - 1) * gap.row\n  return top > 0 ? top + gap.row : top\n}\n\nfunction itemsPerRow(viewportWidth: number, itemWidth: number, gap: number) {\n  return max(1, floor((viewportWidth + gap) / (itemWidth + gap)))\n}\n","import { RefHandle, systemToComponent } from '@virtuoso.dev/react-urx'\n\nimport * as u from '@virtuoso.dev/urx'\nimport * as React from 'react'\nimport { createElement, FC, PropsWithChildren } from 'react'\nimport { gridSystem } from './gridSystem'\nimport useSize from './hooks/useSize'\nimport useWindowViewportRectRef from './hooks/useWindowViewportRect'\nimport { GridComponents, GridComputeItemKey, GridItemContent, GridRootProps } from './interfaces'\nimport { addDeprecatedAlias, buildScroller, buildWindowScroller, contextPropIfNotDomElement, identity, viewportStyle } from './List'\nimport { Log, LogLevel } from './loggerSystem'\n\nconst gridComponentPropsSystem = u.system(() => {\n  const itemContent = u.statefulStream<GridItemContent<any>>((index) => `Item ${index}`)\n  const components = u.statefulStream<GridComponents>({})\n  const context = u.statefulStream<unknown>(null)\n  const itemClassName = u.statefulStream('virtuoso-grid-item')\n  const listClassName = u.statefulStream('virtuoso-grid-list')\n  const computeItemKey = u.statefulStream<GridComputeItemKey>(identity)\n  const scrollerRef = u.statefulStream<(ref: HTMLElement | null) => void>(u.noop)\n\n  const distinctProp = <K extends keyof GridComponents>(propName: K, defaultValue: GridComponents[K] | null | 'div' = null) => {\n    return u.statefulStreamFromEmitter(\n      u.pipe(\n        components,\n        u.map((components) => components[propName]),\n        u.distinctUntilChanged()\n      ),\n      defaultValue\n    )\n  }\n\n  return {\n    context,\n    itemContent,\n    components,\n    computeItemKey,\n    itemClassName,\n    listClassName,\n    scrollerRef,\n    ListComponent: distinctProp('List', 'div'),\n    ItemComponent: distinctProp('Item', 'div'),\n    ScrollerComponent: distinctProp('Scroller', 'div'),\n    ScrollSeekPlaceholder: distinctProp('ScrollSeekPlaceholder', 'div'),\n  }\n})\n\nconst combinedSystem = u.system(([gridSystem, gridComponentPropsSystem]) => {\n  const deprecatedProps = {\n    item: addDeprecatedAlias(gridComponentPropsSystem.itemContent, 'Rename the %citem%c prop to %citemContent.'),\n    ItemContainer: u.stream<any>(),\n    ScrollContainer: u.stream<any>(),\n    ListContainer: u.stream<any>(),\n    emptyComponent: u.stream<any>(),\n    scrollSeek: u.stream<any>(),\n  }\n\n  function deprecateComponentProp(stream: u.Stream<any>, componentName: string, propName: string) {\n    u.connect(\n      u.pipe(\n        stream,\n        u.withLatestFrom(gridComponentPropsSystem.components),\n        u.map(([comp, components]) => {\n          console.warn(`react-virtuoso: ${propName} property is deprecated. Pass components.${componentName} instead.`)\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n          return { ...components, [componentName]: comp }\n        })\n      ),\n      gridComponentPropsSystem.components\n    )\n  }\n\n  u.subscribe(deprecatedProps.scrollSeek, ({ placeholder, ...config }) => {\n    console.warn(\n      `react-virtuoso: scrollSeek property is deprecated. Pass scrollSeekConfiguration and specify the placeholder in components.ScrollSeekPlaceholder instead.`\n    )\n    u.publish(gridComponentPropsSystem.components, {\n      ...u.getValue(gridComponentPropsSystem.components),\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n      ScrollSeekPlaceholder: placeholder,\n    })\n    u.publish(gridSystem.scrollSeekConfiguration, config)\n  })\n\n  deprecateComponentProp(deprecatedProps.ItemContainer, 'Item', 'ItemContainer')\n  deprecateComponentProp(deprecatedProps.ListContainer, 'List', 'ListContainer')\n  deprecateComponentProp(deprecatedProps.ScrollContainer, 'Scroller', 'ScrollContainer')\n\n  return { ...gridSystem, ...gridComponentPropsSystem, ...deprecatedProps }\n}, u.tup(gridSystem, gridComponentPropsSystem))\n\nconst GridItems: FC = React.memo(function GridItems() {\n  const gridState = useEmitterValue('gridState')\n  const listClassName = useEmitterValue('listClassName')\n  const itemClassName = useEmitterValue('itemClassName')\n  const itemContent = useEmitterValue('itemContent')\n  const computeItemKey = useEmitterValue('computeItemKey')\n  const isSeeking = useEmitterValue('isSeeking')\n  const scrollHeightCallback = usePublisher('scrollHeight')\n  const ItemComponent = useEmitterValue('ItemComponent')!\n  const ListComponent = useEmitterValue('ListComponent')!\n  const ScrollSeekPlaceholder = useEmitterValue('ScrollSeekPlaceholder')!\n  const context = useEmitterValue('context')\n  const itemDimensions = usePublisher('itemDimensions')\n  const gridGap = usePublisher('gap')\n  const log = useEmitterValue('log')\n\n  const listRef = useSize((el) => {\n    const scrollHeight = el.parentElement!.parentElement!.scrollHeight\n    scrollHeightCallback(scrollHeight)\n    const firstItem = el.firstChild as HTMLElement\n    if (firstItem) {\n      itemDimensions(firstItem.getBoundingClientRect())\n    }\n    gridGap({\n      row: resolveGapValue('row-gap', getComputedStyle(el).rowGap, log),\n      column: resolveGapValue('column-gap', getComputedStyle(el).columnGap, log),\n    })\n  })\n\n  return createElement(\n    ListComponent,\n    {\n      ref: listRef,\n      className: listClassName,\n      ...contextPropIfNotDomElement(ListComponent, context),\n      style: { paddingTop: gridState.offsetTop, paddingBottom: gridState.offsetBottom },\n    },\n    gridState.items.map((item) => {\n      const key = computeItemKey(item.index)\n      return isSeeking\n        ? createElement(ScrollSeekPlaceholder, {\n            key,\n            ...contextPropIfNotDomElement(ScrollSeekPlaceholder, context),\n            index: item.index,\n            height: gridState.itemHeight,\n            width: gridState.itemWidth,\n          })\n        : createElement(\n            ItemComponent,\n            { ...contextPropIfNotDomElement(ItemComponent, context), className: itemClassName, 'data-index': item.index, key },\n            itemContent(item.index, context)\n          )\n    })\n  )\n})\n\nconst Viewport: FC<PropsWithChildren<unknown>> = ({ children }) => {\n  const viewportDimensions = usePublisher('viewportDimensions')\n\n  const viewportRef = useSize((el) => {\n    viewportDimensions(el.getBoundingClientRect())\n  })\n\n  return (\n    <div style={viewportStyle} ref={viewportRef}>\n      {children}\n    </div>\n  )\n}\n\nconst WindowViewport: FC<PropsWithChildren<unknown>> = ({ children }) => {\n  const windowViewportRect = usePublisher('windowViewportRect')\n  const customScrollParent = useEmitterValue('customScrollParent')\n  const viewportRef = useWindowViewportRectRef(windowViewportRect, customScrollParent)\n\n  return (\n    <div ref={viewportRef} style={viewportStyle}>\n      {children}\n    </div>\n  )\n}\n\nconst GridRoot: FC<GridRootProps> = React.memo(function GridRoot({ ...props }) {\n  const useWindowScroll = useEmitterValue('useWindowScroll')\n  const customScrollParent = useEmitterValue('customScrollParent')\n  const TheScroller = customScrollParent || useWindowScroll ? WindowScroller : Scroller\n  const TheViewport = customScrollParent || useWindowScroll ? WindowViewport : Viewport\n\n  return (\n    <TheScroller {...props}>\n      <TheViewport>\n        <GridItems />\n      </TheViewport>\n    </TheScroller>\n  )\n})\n\nconst {\n  Component: Grid,\n  usePublisher,\n  useEmitterValue,\n  useEmitter,\n} = systemToComponent(\n  combinedSystem,\n  {\n    optional: {\n      totalCount: 'totalCount',\n      overscan: 'overscan',\n      itemContent: 'itemContent',\n      components: 'components',\n      computeItemKey: 'computeItemKey',\n      initialItemCount: 'initialItemCount',\n      scrollSeekConfiguration: 'scrollSeekConfiguration',\n      listClassName: 'listClassName',\n      itemClassName: 'itemClassName',\n      useWindowScroll: 'useWindowScroll',\n      customScrollParent: 'customScrollParent',\n      scrollerRef: 'scrollerRef',\n\n      // deprecated\n      item: 'item',\n      ItemContainer: 'ItemContainer',\n      ScrollContainer: 'ScrollContainer',\n      ListContainer: 'ListContainer',\n      scrollSeek: 'scrollSeek',\n    },\n    methods: {\n      scrollTo: 'scrollTo',\n      scrollBy: 'scrollBy',\n      scrollToIndex: 'scrollToIndex',\n    },\n    events: {\n      isScrolling: 'isScrolling',\n      endReached: 'endReached',\n      startReached: 'startReached',\n      rangeChanged: 'rangeChanged',\n      atBottomStateChange: 'atBottomStateChange',\n      atTopStateChange: 'atTopStateChange',\n    },\n  },\n  GridRoot\n)\n\nexport type foo<T> = T extends React.ForwardRefExoticComponent<React.RefAttributes<infer Handle>> ? Handle : never\n\nexport type GridHandle = RefHandle<typeof Grid>\nexport { Grid }\n\nconst Scroller = buildScroller({ usePublisher, useEmitterValue, useEmitter })\nconst WindowScroller = buildWindowScroller({ usePublisher, useEmitterValue, useEmitter })\n\nfunction resolveGapValue(property: string, value: string | undefined, log: Log) {\n  if (value !== 'normal' && !value?.endsWith('px')) {\n    log(`${property} was not resolved to pixel value correctly`, value, LogLevel.WARN)\n  }\n  if (value === 'normal') {\n    return 0\n  }\n  return parseInt(value ?? '0', 10)\n}\n","import { systemToComponent } from '@virtuoso.dev/react-urx'\nimport * as u from '@virtuoso.dev/urx'\nimport * as React from 'react'\nimport { createElement, FC, PropsWithChildren } from 'react'\nimport useChangedListContentsSizes from './hooks/useChangedChildSizes'\nimport { ComputeItemKey, ItemContent, FixedHeaderContent, TableComponents, TableRootProps } from './interfaces'\nimport { listSystem } from './listSystem'\nimport { identity, buildScroller, buildWindowScroller, viewportStyle, contextPropIfNotDomElement } from './List'\nimport useSize from './hooks/useSize'\nimport { correctItemSize } from './utils/correctItemSize'\nimport useWindowViewportRectRef from './hooks/useWindowViewportRect'\n\nconst tableComponentPropsSystem = u.system(() => {\n  const itemContent = u.statefulStream<ItemContent<any, unknown>>((index: number) => <td>Item ${index}</td>)\n  const context = u.statefulStream<unknown>(null)\n  const fixedHeaderContent = u.statefulStream<FixedHeaderContent>(null)\n  const components = u.statefulStream<TableComponents>({})\n  const computeItemKey = u.statefulStream<ComputeItemKey<any, unknown>>(identity)\n  const scrollerRef = u.statefulStream<(ref: HTMLElement | Window | null) => void>(u.noop)\n\n  const distinctProp = <K extends keyof TableComponents>(\n    propName: K,\n    defaultValue: TableComponents[K] | null | 'thead' | 'table' | 'tbody' | 'tr' | 'div' = null\n  ) => {\n    return u.statefulStreamFromEmitter(\n      u.pipe(\n        components,\n        u.map((components) => components[propName]),\n        u.distinctUntilChanged()\n      ),\n      defaultValue\n    )\n  }\n\n  return {\n    context,\n    itemContent,\n    fixedHeaderContent,\n    components,\n    computeItemKey,\n    scrollerRef,\n    TableComponent: distinctProp('Table', 'table'),\n    TableHeadComponent: distinctProp('TableHead', 'thead'),\n    TableBodyComponent: distinctProp('TableBody', 'tbody'),\n    TableRowComponent: distinctProp('TableRow', 'tr'),\n    ScrollerComponent: distinctProp('Scroller', 'div'),\n    EmptyPlaceholder: distinctProp('EmptyPlaceholder'),\n    ScrollSeekPlaceholder: distinctProp('ScrollSeekPlaceholder'),\n    FillerRow: distinctProp('FillerRow'),\n  }\n})\n\nconst combinedSystem = u.system(([listSystem, propsSystem]) => {\n  return { ...listSystem, ...propsSystem }\n}, u.tup(listSystem, tableComponentPropsSystem))\n\nconst DefaultScrollSeekPlaceholder = ({ height }: { height: number }) => (\n  <tr>\n    <td style={{ height }}></td>\n  </tr>\n)\n\nconst DefaultFillerRow = ({ height }: { height: number }) => (\n  <tr>\n    <td style={{ height: height, padding: 0, border: 0 }}></td>\n  </tr>\n)\n\nexport const Items = React.memo(function VirtuosoItems() {\n  const listState = useEmitterValue('listState')\n  const sizeRanges = usePublisher('sizeRanges')\n  const useWindowScroll = useEmitterValue('useWindowScroll')\n  const customScrollParent = useEmitterValue('customScrollParent')\n  const windowScrollContainerStateCallback = usePublisher('windowScrollContainerState')\n  const _scrollContainerStateCallback = usePublisher('scrollContainerState')\n  const scrollContainerStateCallback =\n    customScrollParent || useWindowScroll ? windowScrollContainerStateCallback : _scrollContainerStateCallback\n  const itemContent = useEmitterValue('itemContent')\n  const trackItemSizes = useEmitterValue('trackItemSizes')\n  const itemSize = useEmitterValue('itemSize')\n  const log = useEmitterValue('log')\n\n  const { callbackRef, ref } = useChangedListContentsSizes(\n    sizeRanges,\n    itemSize,\n    trackItemSizes,\n    scrollContainerStateCallback,\n    log,\n    undefined,\n    customScrollParent\n  )\n\n  const [deviation, setDeviation] = React.useState(0)\n  useEmitter('deviation', (value) => {\n    if (deviation !== value) {\n      ref.current!.style.marginTop = `${value}px`\n      setDeviation(value)\n    }\n  })\n  const EmptyPlaceholder = useEmitterValue('EmptyPlaceholder')\n  const ScrollSeekPlaceholder = useEmitterValue('ScrollSeekPlaceholder') || DefaultScrollSeekPlaceholder\n  const FillerRow = useEmitterValue('FillerRow') || DefaultFillerRow\n  const TableBodyComponent = useEmitterValue('TableBodyComponent')!\n  const TableRowComponent = useEmitterValue('TableRowComponent')!\n  const computeItemKey = useEmitterValue('computeItemKey')\n  const isSeeking = useEmitterValue('isSeeking')\n  const paddingTopAddition = useEmitterValue('paddingTopAddition')\n  const firstItemIndex = useEmitterValue('firstItemIndex')\n  const statefulTotalCount = useEmitterValue('statefulTotalCount')\n  const context = useEmitterValue('context')\n\n  if (statefulTotalCount === 0 && EmptyPlaceholder) {\n    return createElement(EmptyPlaceholder, contextPropIfNotDomElement(EmptyPlaceholder, context))\n  }\n\n  const paddingTop = listState.offsetTop + paddingTopAddition + deviation\n  const paddingBottom = listState.offsetBottom\n\n  const paddingTopEl = paddingTop > 0 ? <FillerRow height={paddingTop} key=\"padding-top\" /> : null\n\n  const paddingBottomEl = paddingBottom > 0 ? <FillerRow height={paddingBottom} key=\"padding-bottom\" /> : null\n\n  const items = listState.items.map((item) => {\n    const index = item.originalIndex!\n    const key = computeItemKey(index + firstItemIndex, item.data, context)\n\n    if (isSeeking) {\n      return createElement(ScrollSeekPlaceholder, {\n        ...contextPropIfNotDomElement(ScrollSeekPlaceholder, context),\n        key,\n        index: item.index,\n        height: item.size,\n        type: item.type || 'item',\n      })\n    }\n    return createElement(\n      TableRowComponent,\n      {\n        ...contextPropIfNotDomElement(TableRowComponent, context),\n        key,\n        'data-index': index,\n        'data-known-size': item.size,\n        'data-item-index': item.index,\n        style: { overflowAnchor: 'none' },\n      },\n      itemContent(item.index, item.data, context)\n    )\n  })\n\n  return createElement(\n    TableBodyComponent,\n    { ref: callbackRef, 'data-test-id': 'virtuoso-item-list', ...contextPropIfNotDomElement(TableBodyComponent, context) },\n    [paddingTopEl, ...items, paddingBottomEl]\n  )\n})\n\nexport interface Hooks {\n  usePublisher: typeof usePublisher\n  useEmitterValue: typeof useEmitterValue\n  useEmitter: typeof useEmitter\n}\n\nconst Viewport: FC<PropsWithChildren<unknown>> = ({ children }) => {\n  const viewportHeight = usePublisher('viewportHeight')\n  const viewportRef = useSize(u.compose(viewportHeight, (el) => correctItemSize(el, 'height')))\n\n  return (\n    <div style={viewportStyle} ref={viewportRef} data-viewport-type=\"element\">\n      {children}\n    </div>\n  )\n}\n\nconst WindowViewport: FC<PropsWithChildren<unknown>> = ({ children }) => {\n  const windowViewportRect = usePublisher('windowViewportRect')\n  const customScrollParent = useEmitterValue('customScrollParent')\n  const viewportRef = useWindowViewportRectRef(windowViewportRect, customScrollParent)\n\n  return (\n    <div ref={viewportRef} style={viewportStyle} data-viewport-type=\"window\">\n      {children}\n    </div>\n  )\n}\n\nconst TableRoot: FC<TableRootProps> = React.memo(function TableVirtuosoRoot(props) {\n  const useWindowScroll = useEmitterValue('useWindowScroll')\n  const customScrollParent = useEmitterValue('customScrollParent')\n  const fixedHeaderHeight = usePublisher('fixedHeaderHeight')\n  const fixedHeaderContent = useEmitterValue('fixedHeaderContent')\n  const context = useEmitterValue('context')\n  const theadRef = useSize(u.compose(fixedHeaderHeight, (el) => correctItemSize(el, 'height')))\n  const TheScroller = customScrollParent || useWindowScroll ? WindowScroller : Scroller\n  const TheViewport = customScrollParent || useWindowScroll ? WindowViewport : Viewport\n  const TheTable = useEmitterValue('TableComponent')\n  const TheTHead = useEmitterValue('TableHeadComponent')\n\n  const theHead = fixedHeaderContent\n    ? React.createElement(\n        TheTHead!,\n        {\n          key: 'TableHead',\n          style: { zIndex: 1, position: 'sticky', top: 0 },\n          ref: theadRef,\n          ...contextPropIfNotDomElement(TheTHead, context),\n        },\n        fixedHeaderContent()\n      )\n    : null\n\n  return (\n    <TheScroller {...props}>\n      <TheViewport>\n        {React.createElement(TheTable!, { style: { borderSpacing: 0 }, ...contextPropIfNotDomElement(TheTable, context) }, [\n          theHead,\n          <Items key=\"TableBody\" />,\n        ])}\n      </TheViewport>\n    </TheScroller>\n  )\n})\n\nexport const {\n  Component: Table,\n  usePublisher,\n  useEmitterValue,\n  useEmitter,\n} = systemToComponent(\n  combinedSystem,\n  {\n    required: {},\n    optional: {\n      context: 'context',\n      followOutput: 'followOutput',\n      firstItemIndex: 'firstItemIndex',\n      itemContent: 'itemContent',\n      fixedHeaderContent: 'fixedHeaderContent',\n      overscan: 'overscan',\n      increaseViewportBy: 'increaseViewportBy',\n      totalCount: 'totalCount',\n      topItemCount: 'topItemCount',\n      initialTopMostItemIndex: 'initialTopMostItemIndex',\n      components: 'components',\n      groupCounts: 'groupCounts',\n      atBottomThreshold: 'atBottomThreshold',\n      atTopThreshold: 'atTopThreshold',\n      computeItemKey: 'computeItemKey',\n      defaultItemHeight: 'defaultItemHeight',\n      fixedItemHeight: 'fixedItemHeight',\n      itemSize: 'itemSize',\n      scrollSeekConfiguration: 'scrollSeekConfiguration',\n      data: 'data',\n      initialItemCount: 'initialItemCount',\n      initialScrollTop: 'initialScrollTop',\n      alignToBottom: 'alignToBottom',\n      useWindowScroll: 'useWindowScroll',\n      customScrollParent: 'customScrollParent',\n      scrollerRef: 'scrollerRef',\n      logLevel: 'logLevel',\n      react18ConcurrentRendering: 'react18ConcurrentRendering',\n    },\n    methods: {\n      scrollToIndex: 'scrollToIndex',\n      scrollIntoView: 'scrollIntoView',\n      scrollTo: 'scrollTo',\n      scrollBy: 'scrollBy',\n    },\n    events: {\n      isScrolling: 'isScrolling',\n      endReached: 'endReached',\n      startReached: 'startReached',\n      rangeChanged: 'rangeChanged',\n      atBottomStateChange: 'atBottomStateChange',\n      atTopStateChange: 'atTopStateChange',\n      totalListHeightChanged: 'totalListHeightChanged',\n      itemsRendered: 'itemsRendered',\n      groupIndices: 'groupIndices',\n    },\n  },\n  TableRoot\n)\n\nconst Scroller = buildScroller({ usePublisher, useEmitterValue, useEmitter })\nconst WindowScroller = buildWindowScroller({ usePublisher, useEmitterValue, useEmitter })\n","import { ReactElement, Ref } from 'react'\n\nimport {\n  Components,\n  ComputeItemKey,\n  FollowOutput,\n  GridComponents,\n  GridComputeItemKey,\n  GridItemContent,\n  GroupContent,\n  GroupItemContent,\n  IndexLocationWithAlign,\n  ItemContent,\n  ListItem,\n  ListRange,\n  ScrollSeekConfiguration,\n  TableComponents,\n  FixedHeaderContent,\n  ScrollIntoViewLocation,\n  ListRootProps,\n  GridRootProps,\n  FlatIndexLocationWithAlign,\n  FlatScrollIntoViewLocation,\n} from './interfaces'\nimport { List } from './List'\nimport { Grid } from './Grid'\nimport { Table } from './Table'\n\nexport interface VirtuosoProps<D, C> extends ListRootProps {\n  /**\n   * The total amount of items to be rendered.\n   */\n  totalCount?: number\n\n  /**\n   * The data items to be rendered. If data is set, the total count will be inferred from the length of the array.\n   */\n  data?: readonly D[]\n\n  /**\n   * Additional context available in the custom components and content callbacks\n   */\n  context?: C\n\n  /**\n   * *The property accepts pixel values.*\n   *\n   * Set the overscan property to make the component \"chunk\" the rendering of new items on scroll.\n   * The property causes the component to render more items than the necessary, but reduces the re-renders on scroll.\n   * Setting `{ main: number, reverse: number }` lets you extend the list in both the main and the reverse scrollable directions.\n   * See the `increaseViewportBy` property for a similar behavior (equivalent to the `overscan` in react-window).\n   *\n   */\n  overscan?: number | { main: number; reverse: number }\n\n  /**\n   *\n   * *The property accepts pixel values.*\n   *\n   * Set the increaseViewportBy property to artificially increase the viewport size, causing items to be rendered before outside of the viewport.\n   * The property causes the component to render more items than the necessary, but can help with slow loading content.\n   * Using `{ top?: number, bottom?: number }` lets you set the increase for each end separately.\n   *\n   */\n  increaseViewportBy?: number | { top: number; bottom: number }\n\n  /**\n   * Set the amount of items to remain fixed at the top of the list.\n   *\n   * For a header that scrolls away when scrolling, check the `components.Header` property.\n   */\n  topItemCount?: number\n\n  /**\n   * Set to a value between 0 and totalCount - 1 to make the list start scrolled to that item.\n   * Pass in an object to achieve additional effects similar to `scrollToIndex`.\n   */\n  initialTopMostItemIndex?: number | IndexLocationWithAlign\n\n  /**\n   * Set this value to offset the initial location of the list.\n   * Warning: using this property will still run a render cycle at the scrollTop: 0 list window.\n   * If possible, avoid using it and stick to `initialTopMostItemIndex` instead.\n   */\n  initialScrollTop?: number\n\n  /**\n   * Use for server-side rendering - if set, the list will render the specified amount of items\n   * regardless of the container / item size.\n   */\n  initialItemCount?: number\n\n  /**\n   * Use the `components` property for advanced customization of the elements rendered by the list.\n   */\n  components?: Components<C>\n\n  /**\n   * Set the callback to specify the contents of the item.\n   */\n  itemContent?: ItemContent<D, C>\n\n  /**\n   * If specified, the component will use the function to generate the `key` property for each list item.\n   */\n  computeItemKey?: ComputeItemKey<D, C>\n\n  /**\n   * By default, the component assumes the default item height from the first rendered item (rendering it as a \"probe\").\n   *\n   * If the first item turns out to be an outlier (very short or tall), the rest of the rendering will be slower,\n   * as multiple passes of rendering should happen for the list to fill the viewport.\n   *\n   * Setting `defaultItemHeight` causes the component to skip the \"probe\" rendering and use the property\n   * value as default height instead.\n   */\n  defaultItemHeight?: number\n\n  /**\n   * Allows customizing the height/width calculation of `Item` elements.\n   *\n   * The default implementation reads `el.getBoundingClientRect().height` and `el.getBoundingClientRect().width`.\n   */\n  itemSize?: (el: HTMLElement, dimension: 'height' | 'width') => number\n\n  /**\n   * Can be used to improve performance if the rendered items are of known size.\n   * Setting it causes the component to skip item measurements.\n   */\n  fixedItemHeight?: number\n\n  /**\n   * Use to display placeholders if the user scrolls fast through the list.\n   *\n   * Set `components.ScrollSeekPlaceholder` to change the placeholder content.\n   */\n  scrollSeekConfiguration?: ScrollSeekConfiguration | false\n\n  /**\n   * If set to `true`, the list automatically scrolls to bottom if the total count is changed.\n   * Set to `\"smooth\"` for an animated scrolling.\n   *\n   * By default, `followOutput` scrolls down only if the list is already at the bottom.\n   * To implement an arbitrary logic behind that, pass a function:\n   *\n   * ```tsx\n   * <Virtuoso\n   *  followOutput={(isAtBottom: boolean) => {\n   *    if (expression) {\n   *      return 'smooth' // can be 'auto' or false to avoid scrolling\n   *    } else {\n   *      return false\n   *    }\n   *  }} />\n   * ```\n   */\n  followOutput?: FollowOutput\n\n  /**\n   * Set to customize the wrapper tag for the header and footer components (default is `div`).\n   */\n  headerFooterTag?: string\n\n  /**\n   * Use when implementing inverse infinite scrolling - decrease the value this property\n   * in combination with  `data` or `totalCount` to prepend items to the top of the list.\n   *\n   * Warning: the firstItemIndex should **be a positive number**, based on the total amount of items to be displayed.\n   */\n  firstItemIndex?: number\n\n  /**\n   * Called when the list starts/stops scrolling.\n   */\n  isScrolling?: (isScrolling: boolean) => void\n\n  /**\n   * Gets called when the user scrolls to the end of the list.\n   * Receives the last item index as an argument. Can be used to implement endless scrolling.\n   */\n  endReached?: (index: number) => void\n\n  /**\n   * Called when the user scrolls to the start of the list.\n   */\n  startReached?: (index: number) => void\n\n  /**\n   * Called with the new set of items each time the list items are rendered due to scrolling.\n   */\n  rangeChanged?: (range: ListRange) => void\n\n  /**\n   * Called with true / false when the list has reached the bottom / gets scrolled up.\n   * Can be used to load newer items, like `tail -f`.\n   */\n  atBottomStateChange?: (atBottom: boolean) => void\n\n  /**\n   * Called with `true` / `false` when the list has reached the top / gets scrolled down.\n   */\n  atTopStateChange?: (atTop: boolean) => void\n\n  /**\n   * Called when the total list height is changed due to new items or viewport resize.\n   */\n  totalListHeightChanged?: (height: number) => void\n\n  /**\n   * Called with the new set of items each time the list items are rendered due to scrolling.\n   */\n  itemsRendered?: (items: ListItem<D>[]) => void\n\n  /**\n   * Setting `alignToBottom` to `true` aligns the items to the bottom of the list if the list is shorter than the viewport.\n   * Use `followOutput` property to keep the list aligned when new items are appended.\n   */\n  alignToBottom?: boolean\n\n  /**\n   * Uses the document scroller rather than wrapping the list in its own.\n   */\n  useWindowScroll?: boolean\n\n  /**\n   * Pass a reference to a scrollable parent element, so that the list won't wrap in its own.\n   */\n  customScrollParent?: HTMLElement\n\n  /**\n   * Provides access to the root DOM element\n   */\n  scrollerRef?: (ref: HTMLElement | Window | null) => any\n\n  /**\n   * *The property accepts pixel values.*\n   *\n   * By default `0`. Redefine to change how much away from the top the scroller can be before the list is not considered not at top.\n   */\n  atTopThreshold?: number\n\n  /**\n   * *The property accepts pixel values.*\n   *\n   * By default `4`. Redefine to change how much away from the bottom the scroller can be before the list is not considered not at bottom.\n   */\n  atBottomThreshold?: number\n\n  /**\n   * No longer necessary after 2.10.2. component should work out of the box.\n   */\n  react18ConcurrentRendering?: boolean\n}\n\nexport interface GroupedVirtuosoProps<D, C> extends Omit<VirtuosoProps<D, C>, 'totalCount' | 'itemContent'> {\n  /**\n   * Specifies the amount of items in each group (and, actually, how many groups are there).\n   * For example, passing [20, 30] will display 2 groups with 20 and 30 items each.\n   */\n  groupCounts?: number[]\n\n  /**\n   * Specifies how each each group header gets rendered. The callback receives the zero-based index of the group.\n   */\n  groupContent?: GroupContent\n\n  /**\n   * Specifies how each each item gets rendered.\n   */\n  itemContent?: GroupItemContent<D, C>\n}\n\nexport interface TableVirtuosoProps<D, C> extends Omit<VirtuosoProps<D, C>, 'components' | 'headerFooterTag' | 'topItemCount'> {\n  /**\n   * Use the `components` property for advanced customization of the elements rendered by the table.\n   */\n  components?: TableComponents<C>\n  /**\n   * Set the contents of the table header.\n   */\n  fixedHeaderContent?: FixedHeaderContent\n\n  /**\n   * The total amount of items to be rendered.\n   */\n  totalCount?: number\n\n  /**\n   * The data items to be rendered. If data is set, the total count will be inferred from the length of the array.\n   */\n  data?: readonly D[]\n\n  /**\n   * Set the overscan property to make the component \"chunk\" the rendering of new items on scroll.\n   * The property causes the component to render more items than the necessary, but reduces the re-renders on scroll.\n   * Setting `{ main: number, reverse: number }` lets you extend the list in both the main and the reverse scrollable directions.\n   * See the `increaseViewportBy` property for a similar behavior (equivalent to the `overscan` in `react-window`).\n   */\n  overscan?: number | { main: number; reverse: number }\n\n  /**\n   * Set the increaseViewportBy property to artificially increase the viewport size, causing items to be rendered before outside of the viewport.\n   * The property causes the component to render more items than the necessary, but can help with slow loading content.\n   * Using `{ top?: number, bottom?: number }` lets you set the increase for each end separately.\n   */\n  increaseViewportBy?: number | { top: number; bottom: number }\n\n  /**\n   * Set to a value between 0 and totalCount - 1 to make the list start scrolled to that item.\n   */\n  initialTopMostItemIndex?: number\n\n  /**\n   * Set this value to offset the initial location of the list.\n   * Warning: using this property will still run a render cycle at the scrollTop: 0 list window.\n   * If possible, avoid using it and stick to `initialTopMostItemIndex` instead.\n   */\n  initialScrollTop?: number\n\n  /**\n   * Use for server-side rendering - if set, the list will render the specified amount of items\n   * regardless of the container / item size.\n   */\n  initialItemCount?: number\n\n  /**\n   * Set the callback to specify the contents of the item.\n   */\n  itemContent?: ItemContent<D, C>\n\n  /**\n   * If specified, the component will use the function to generate the `key` property for each list item.\n   */\n  computeItemKey?: ComputeItemKey<D, C>\n\n  /**\n   * By default, the component assumes the default item height from the first rendered item (rendering it as a \"probe\").\n   *\n   * If the first item turns out to be an outlier (very short or tall), the rest of the rendering will be slower,\n   * as multiple passes of rendering should happen for the list to fill the viewport.\n   *\n   * Setting `defaultItemHeight` causes the component to skip the \"probe\" rendering and use the property\n   * value as default height instead.\n   */\n  defaultItemHeight?: number\n\n  /**\n   * Allows customizing the height/width calculation of `Item` elements.\n   *\n   * The default implementation reads `el.getBoundingClientRect().height` and `el.getBoundingClientRect().width`.\n   */\n  itemSize?: (el: HTMLElement, dimension: 'height' | 'width') => number\n\n  /**\n   * Can be used to improve performance if the rendered items are of known size.\n   * Setting it causes the component to skip item measurements.\n   */\n  fixedItemHeight?: number\n\n  /**\n   * Use to display placeholders if the user scrolls fast through the list.\n   *\n   * Set `components.ScrollSeekPlaceholder` to change the placeholder content.\n   */\n  scrollSeekConfiguration?: ScrollSeekConfiguration | false\n\n  /**\n   * If set to `true`, the list automatically scrolls to bottom if the total count is changed.\n   * Set to `\"smooth\"` for an animated scrolling.\n   *\n   * By default, `followOutput` scrolls down only if the list is already at the bottom.\n   * To implement an arbitrary logic behind that, pass a function:\n   *\n   * ```tsx\n   * <Virtuoso\n   *  followOutput={(isAtBottom: boolean) => {\n   *    if (expression) {\n   *      return 'smooth' // can be 'auto' or false to avoid scrolling\n   *    } else {\n   *      return false\n   *    }\n   *  }} />\n   * ```\n   */\n  followOutput?: FollowOutput\n\n  /**\n   * Use when implementing inverse infinite scrolling - decrease the value this property\n   * in combination with  `data` or `totalCount` to prepend items to the top of the list.\n   *\n   * Warning: the firstItemIndex should **be a positive number**, based on the total amount of items to be displayed.\n   */\n  firstItemIndex?: number\n\n  /**\n   * Called when the list starts/stops scrolling.\n   */\n  isScrolling?: (isScrolling: boolean) => void\n\n  /**\n   * Gets called when the user scrolls to the end of the list.\n   * Receives the last item index as an argument. Can be used to implement endless scrolling.\n   */\n  endReached?: (index: number) => void\n\n  /**\n   * Called when the user scrolls to the start of the list.\n   */\n  startReached?: (index: number) => void\n\n  /**\n   * Called with the new set of items each time the list items are rendered due to scrolling.\n   */\n  rangeChanged?: (range: ListRange) => void\n\n  /**\n   * Called with true / false when the list has reached the bottom / gets scrolled up.\n   * Can be used to load newer items, like `tail -f`.\n   */\n  atBottomStateChange?: (atBottom: boolean) => void\n\n  /**\n   * Called with `true` / `false` when the list has reached the top / gets scrolled down.\n   */\n  atTopStateChange?: (atTop: boolean) => void\n\n  /**\n   * Called when the total list height is changed due to new items or viewport resize.\n   */\n  totalListHeightChanged?: (height: number) => void\n\n  /**\n   * Called with the new set of items each time the list items are rendered due to scrolling.\n   */\n  itemsRendered?: (items: ListItem<D>[]) => void\n\n  /**\n   * Setting `alignToBottom` to `true` aligns the items to the bottom of the list if the list is shorter than the viewport.\n   * Use `followOutput` property to keep the list aligned when new items are appended.\n   */\n  alignToBottom?: boolean\n\n  /**\n   * Uses the document scroller rather than wrapping the list in its own.\n   */\n  useWindowScroll?: boolean\n\n  /**\n   * Pass a reference to a scrollable parent element, so that the table won't wrap in its own.\n   */\n  customScrollParent?: HTMLElement\n\n  /**\n   * Provides access to the root DOM element\n   */\n  scrollerRef?: (ref: HTMLElement | Window | null) => any\n\n  /**\n   * By default `0`. Redefine to change how much away from the top the scroller can be before the list is not considered not at top.\n   */\n  atTopThreshold?: number\n\n  /**\n   * By default `4`. Redefine to change how much away from the bottom the scroller can be before the list is not considered not at bottom.\n   */\n  atBottomThreshold?: number\n\n  /**\n   * No longer necessary after 2.10.2. component should work out of the box.\n   */\n  react18ConcurrentRendering?: boolean\n}\n\nexport interface VirtuosoGridProps<C = unknown> extends GridRootProps {\n  /**\n   * The total amount of items to be rendered.\n   */\n  totalCount: number\n\n  /**\n   * Use for server-side rendering - if set, the list will render the specified amount of items\n   * regardless of the container / item size.\n   */\n  initialItemCount?: number\n\n  /**\n   * Set the callback to specify the contents of the item.\n   */\n  itemContent?: GridItemContent<C>\n\n  /**\n   * Use the `components` property for advanced customization of the elements rendered by the list.\n   */\n  components?: GridComponents<C>\n\n  /**\n   * Set the overscan property to make the component \"chunk\" the rendering of new items on scroll.\n   * The property causes the component to render more items than the necessary, but reduces the re-renders on scroll.\n   * Setting `{ main: number, reverse: number }` lets you extend the list in both the main and the reverse scrollable directions.\n   */\n  overscan?: number | { main: number; reverse: number }\n\n  /**\n   * If specified, the component will use the function to generate the `key` property for each list item.\n   */\n  computeItemKey?: GridComputeItemKey\n\n  /**\n   * Use to display placeholders if the user scrolls fast through the list.\n   *\n   * Set `components.ScrollSeekPlaceholder` to change the placeholder content.\n   */\n  scrollSeekConfiguration?: ScrollSeekConfiguration | false\n\n  /**\n   * Called when the list starts/stops scrolling.\n   */\n  isScrolling?: (isScrolling: boolean) => void\n\n  /**\n   * Gets called when the user scrolls to the end of the list.\n   * Receives the last item index as an argument. Can be used to implement endless scrolling.\n   */\n  endReached?: (index: number) => void\n\n  /**\n   * Called when the user scrolls to the start of the list.\n   */\n  startReached?: (index: number) => void\n\n  /**\n   * Called with the new set of items each time the list items are rendered due to scrolling.\n   */\n  rangeChanged?: (range: ListRange) => void\n\n  /**\n   * Called with true / false when the list has reached the bottom / gets scrolled up.\n   * Can be used to load newer items, like `tail -f`.\n   */\n  atBottomStateChange?: (atBottom: boolean) => void\n\n  /**\n   * Called with `true` / `false` when the list has reached the top / gets scrolled down.\n   */\n  atTopStateChange?: (atTop: boolean) => void\n\n  /**\n   * Provides access to the root DOM element\n   */\n  scrollerRef?: (ref: HTMLElement | null) => any\n\n  /**\n   * Sets the className for the list DOM element\n   */\n  listClassName?: string\n\n  /**\n   * Sets the grid items' className\n   */\n  itemClassName?: string\n\n  /**\n   * Uses the document scroller rather than wrapping the grid in its own.\n   */\n  useWindowScroll?: boolean\n\n  /**\n   * Pass a reference to a scrollable parent element, so that the grid won't wrap in its own.\n   */\n  customScrollParent?: HTMLElement\n}\n\nexport interface VirtuosoHandle {\n  /**\n   * Scrolls the component to the specified item index. See {@link IndexLocationWithAlign} for more options.\n   */\n  scrollToIndex(location: number | FlatIndexLocationWithAlign): void\n  /**\n   * Scrolls the item into view if necessary. See [the website example](http://virtuoso.dev/keyboard-navigation/) for an implementation.\n   */\n  scrollIntoView(location: FlatScrollIntoViewLocation): void\n  /**\n   * Scrolls the component to the specified location. See [ScrollToOptions (MDN)](https://developer.mozilla.org/en-US/docs/Web/API/ScrollToOptions)\n   */\n  scrollTo(location: ScrollToOptions): void\n  /**\n   * Scrolls the component with the specified amount. See [ScrollToOptions (MDN)](https://developer.mozilla.org/en-US/docs/Web/API/ScrollToOptions)\n   */\n  scrollBy(location: ScrollToOptions): void\n  /**\n   * Use this with combination with follow output if you have images loading in the list. Listen to the image loading and call the method.\n   */\n  autoscrollToBottom(): void\n}\n\nexport interface GroupedVirtuosoHandle {\n  scrollToIndex(location: number | IndexLocationWithAlign): void\n  scrollIntoView(location: number | ScrollIntoViewLocation): void\n  scrollTo(location: ScrollToOptions): void\n  scrollBy(location: ScrollToOptions): void\n  autoscrollToBottom(): void\n}\n\nexport interface VirtuosoGridHandle {\n  scrollToIndex(location: number | IndexLocationWithAlign): void\n  scrollTo(location: ScrollToOptions): void\n  scrollBy(location: ScrollToOptions): void\n}\n\nexport interface TableVirtuosoHandle {\n  scrollIntoView(location: number | FlatScrollIntoViewLocation): void\n  scrollToIndex(location: number | FlatIndexLocationWithAlign): void\n  scrollTo(location: ScrollToOptions): void\n  scrollBy(location: ScrollToOptions): void\n}\n\nexport const Virtuoso = List as <ItemData = any, Context = any>(\n  props: VirtuosoProps<ItemData, Context> & { ref?: Ref<VirtuosoHandle> }\n) => ReactElement\n\nexport const GroupedVirtuoso = List as <ItemData = any, Context = any>(\n  props: GroupedVirtuosoProps<ItemData, Context> & { ref?: Ref<GroupedVirtuosoHandle> }\n) => ReactElement\n\nexport const TableVirtuoso = Table as <ItemData = any, Context = any>(\n  props: TableVirtuosoProps<ItemData, Context> & { ref?: Ref<TableVirtuosoHandle> }\n) => ReactElement\n\nexport const VirtuosoGrid = Grid as <Context = any>(props: VirtuosoGridProps<Context> & { ref?: Ref<VirtuosoGridHandle> }) => ReactElement\n","export var INIT_COORDS = 'dnd-core/INIT_COORDS';\nexport var BEGIN_DRAG = 'dnd-core/BEGIN_DRAG';\nexport var PUBLISH_DRAG_SOURCE = 'dnd-core/PUBLISH_DRAG_SOURCE';\nexport var HOVER = 'dnd-core/HOVER';\nexport var DROP = 'dnd-core/DROP';\nexport var END_DRAG = 'dnd-core/END_DRAG';","import { INIT_COORDS } from '../types';\nexport function setClientOffset(clientOffset, sourceClientOffset) {\n  return {\n    type: INIT_COORDS,\n    payload: {\n      sourceClientOffset: sourceClientOffset || null,\n      clientOffset: clientOffset || null\n    }\n  };\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n// cheap lodash replacements\n\n/**\n * drop-in replacement for _.get\n * @param obj\n * @param path\n * @param defaultValue\n */\nexport function get(obj, path, defaultValue) {\n  return path.split('.').reduce(function (a, c) {\n    return a && a[c] ? a[c] : defaultValue || null;\n  }, obj);\n}\n/**\n * drop-in replacement for _.without\n */\n\nexport function without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */\n\nexport function isString(input) {\n  return typeof input === 'string';\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */\n\nexport function isObject(input) {\n  return _typeof(input) === 'object';\n}\n/**\n * repalcement for _.xor\n * @param itemsA\n * @param itemsB\n */\n\nexport function xor(itemsA, itemsB) {\n  var map = new Map();\n\n  var insertItem = function insertItem(item) {\n    map.set(item, map.has(item) ? map.get(item) + 1 : 1);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  map.forEach(function (count, key) {\n    if (count === 1) {\n      result.push(key);\n    }\n  });\n  return result;\n}\n/**\n * replacement for _.intersection\n * @param itemsA\n * @param itemsB\n */\n\nexport function intersection(itemsA, itemsB) {\n  return itemsA.filter(function (t) {\n    return itemsB.indexOf(t) > -1;\n  });\n}","import { invariant } from '@react-dnd/invariant';\nimport { setClientOffset } from './local/setClientOffset';\nimport { isObject } from '../../utils/js_utils';\nimport { BEGIN_DRAG, INIT_COORDS } from './types';\nvar ResetCoordinatesAction = {\n  type: INIT_COORDS,\n  payload: {\n    clientOffset: null,\n    sourceClientOffset: null\n  }\n};\nexport function createBeginDrag(manager) {\n  return function beginDrag() {\n    var sourceIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      publishSource: true\n    };\n    var _options$publishSourc = options.publishSource,\n        publishSource = _options$publishSourc === void 0 ? true : _options$publishSourc,\n        clientOffset = options.clientOffset,\n        getSourceClientOffset = options.getSourceClientOffset;\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry(); // Initialize the coordinates using the client offset\n\n    manager.dispatch(setClientOffset(clientOffset));\n    verifyInvariants(sourceIds, monitor, registry); // Get the draggable source\n\n    var sourceId = getDraggableSource(sourceIds, monitor);\n\n    if (sourceId === null) {\n      manager.dispatch(ResetCoordinatesAction);\n      return;\n    } // Get the source client offset\n\n\n    var sourceClientOffset = null;\n\n    if (clientOffset) {\n      if (!getSourceClientOffset) {\n        throw new Error('getSourceClientOffset must be defined');\n      }\n\n      verifyGetSourceClientOffsetIsFunction(getSourceClientOffset);\n      sourceClientOffset = getSourceClientOffset(sourceId);\n    } // Initialize the full coordinates\n\n\n    manager.dispatch(setClientOffset(clientOffset, sourceClientOffset));\n    var source = registry.getSource(sourceId);\n    var item = source.beginDrag(monitor, sourceId); // If source.beginDrag returns null, this is an indicator to cancel the drag\n\n    if (item == null) {\n      return undefined;\n    }\n\n    verifyItemIsObject(item);\n    registry.pinSource(sourceId);\n    var itemType = registry.getSourceType(sourceId);\n    return {\n      type: BEGIN_DRAG,\n      payload: {\n        itemType: itemType,\n        item: item,\n        sourceId: sourceId,\n        clientOffset: clientOffset || null,\n        sourceClientOffset: sourceClientOffset || null,\n        isSourcePublic: !!publishSource\n      }\n    };\n  };\n}\n\nfunction verifyInvariants(sourceIds, monitor, registry) {\n  invariant(!monitor.isDragging(), 'Cannot call beginDrag while dragging.');\n  sourceIds.forEach(function (sourceId) {\n    invariant(registry.getSource(sourceId), 'Expected sourceIds to be registered.');\n  });\n}\n\nfunction verifyGetSourceClientOffsetIsFunction(getSourceClientOffset) {\n  invariant(typeof getSourceClientOffset === 'function', 'When clientOffset is provided, getSourceClientOffset must be a function.');\n}\n\nfunction verifyItemIsObject(item) {\n  invariant(isObject(item), 'Item must be an object.');\n}\n\nfunction getDraggableSource(sourceIds, monitor) {\n  var sourceId = null;\n\n  for (var i = sourceIds.length - 1; i >= 0; i--) {\n    if (monitor.canDragSource(sourceIds[i])) {\n      sourceId = sourceIds[i];\n      break;\n    }\n  }\n\n  return sourceId;\n}","import { PUBLISH_DRAG_SOURCE } from './types';\nexport function createPublishDragSource(manager) {\n  return function publishDragSource() {\n    var monitor = manager.getMonitor();\n\n    if (monitor.isDragging()) {\n      return {\n        type: PUBLISH_DRAG_SOURCE\n      };\n    }\n  };\n}","export function matchesType(targetType, draggedItemType) {\n  if (draggedItemType === null) {\n    return targetType === null;\n  }\n\n  return Array.isArray(targetType) ? targetType.some(function (t) {\n    return t === draggedItemType;\n  }) : targetType === draggedItemType;\n}","import { invariant } from '@react-dnd/invariant';\nimport { matchesType } from '../../utils/matchesType';\nimport { HOVER } from './types';\nexport function createHover(manager) {\n  return function hover(targetIdsArg) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        clientOffset = _ref.clientOffset;\n\n    verifyTargetIdsIsArray(targetIdsArg);\n    var targetIds = targetIdsArg.slice(0);\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    checkInvariants(targetIds, monitor, registry);\n    var draggedItemType = monitor.getItemType();\n    removeNonMatchingTargetIds(targetIds, registry, draggedItemType);\n    hoverAllTargets(targetIds, monitor, registry);\n    return {\n      type: HOVER,\n      payload: {\n        targetIds: targetIds,\n        clientOffset: clientOffset || null\n      }\n    };\n  };\n}\n\nfunction verifyTargetIdsIsArray(targetIdsArg) {\n  invariant(Array.isArray(targetIdsArg), 'Expected targetIds to be an array.');\n}\n\nfunction checkInvariants(targetIds, monitor, registry) {\n  invariant(monitor.isDragging(), 'Cannot call hover while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call hover after drop.');\n\n  for (var i = 0; i < targetIds.length; i++) {\n    var targetId = targetIds[i];\n    invariant(targetIds.lastIndexOf(targetId) === i, 'Expected targetIds to be unique in the passed array.');\n    var target = registry.getTarget(targetId);\n    invariant(target, 'Expected targetIds to be registered.');\n  }\n}\n\nfunction removeNonMatchingTargetIds(targetIds, registry, draggedItemType) {\n  // Remove those targetIds that don't match the targetType.  This\n  // fixes shallow isOver which would only be non-shallow because of\n  // non-matching targets.\n  for (var i = targetIds.length - 1; i >= 0; i--) {\n    var targetId = targetIds[i];\n    var targetType = registry.getTargetType(targetId);\n\n    if (!matchesType(targetType, draggedItemType)) {\n      targetIds.splice(i, 1);\n    }\n  }\n}\n\nfunction hoverAllTargets(targetIds, monitor, registry) {\n  // Finally call hover on all matching targets.\n  targetIds.forEach(function (targetId) {\n    var target = registry.getTarget(targetId);\n    target.hover(monitor, targetId);\n  });\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { DROP } from './types';\nimport { isObject } from '../../utils/js_utils';\nexport function createDrop(manager) {\n  return function drop() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyInvariants(monitor);\n    var targetIds = getDroppableTargets(monitor); // Multiple actions are dispatched here, which is why this doesn't return an action\n\n    targetIds.forEach(function (targetId, index) {\n      var dropResult = determineDropResult(targetId, index, registry, monitor);\n      var action = {\n        type: DROP,\n        payload: {\n          dropResult: _objectSpread(_objectSpread({}, options), dropResult)\n        }\n      };\n      manager.dispatch(action);\n    });\n  };\n}\n\nfunction verifyInvariants(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call drop while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call drop twice during one drag operation.');\n}\n\nfunction determineDropResult(targetId, index, registry, monitor) {\n  var target = registry.getTarget(targetId);\n  var dropResult = target ? target.drop(monitor, targetId) : undefined;\n  verifyDropResultType(dropResult);\n\n  if (typeof dropResult === 'undefined') {\n    dropResult = index === 0 ? {} : monitor.getDropResult();\n  }\n\n  return dropResult;\n}\n\nfunction verifyDropResultType(dropResult) {\n  invariant(typeof dropResult === 'undefined' || isObject(dropResult), 'Drop result must either be an object or undefined.');\n}\n\nfunction getDroppableTargets(monitor) {\n  var targetIds = monitor.getTargetIds().filter(monitor.canDropOnTarget, monitor);\n  targetIds.reverse();\n  return targetIds;\n}","import { invariant } from '@react-dnd/invariant';\nimport { END_DRAG } from './types';\nexport function createEndDrag(manager) {\n  return function endDrag() {\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyIsDragging(monitor);\n    var sourceId = monitor.getSourceId();\n\n    if (sourceId != null) {\n      var source = registry.getSource(sourceId, true);\n      source.endDrag(monitor, sourceId);\n      registry.unpinSource();\n    }\n\n    return {\n      type: END_DRAG\n    };\n  };\n}\n\nfunction verifyIsDragging(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call endDrag while not dragging.');\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { createDragDropActions } from '../actions/dragDrop';\nexport var DragDropManagerImpl = /*#__PURE__*/function () {\n  function DragDropManagerImpl(store, monitor) {\n    var _this = this;\n\n    _classCallCheck(this, DragDropManagerImpl);\n\n    _defineProperty(this, \"store\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"backend\", void 0);\n\n    _defineProperty(this, \"isSetUp\", false);\n\n    _defineProperty(this, \"handleRefCountChange\", function () {\n      var shouldSetUp = _this.store.getState().refCount > 0;\n\n      if (_this.backend) {\n        if (shouldSetUp && !_this.isSetUp) {\n          _this.backend.setup();\n\n          _this.isSetUp = true;\n        } else if (!shouldSetUp && _this.isSetUp) {\n          _this.backend.teardown();\n\n          _this.isSetUp = false;\n        }\n      }\n    });\n\n    this.store = store;\n    this.monitor = monitor;\n    store.subscribe(this.handleRefCountChange);\n  }\n\n  _createClass(DragDropManagerImpl, [{\n    key: \"receiveBackend\",\n    value: function receiveBackend(backend) {\n      this.backend = backend;\n    }\n  }, {\n    key: \"getMonitor\",\n    value: function getMonitor() {\n      return this.monitor;\n    }\n  }, {\n    key: \"getBackend\",\n    value: function getBackend() {\n      return this.backend;\n    }\n  }, {\n    key: \"getRegistry\",\n    value: function getRegistry() {\n      return this.monitor.registry;\n    }\n  }, {\n    key: \"getActions\",\n    value: function getActions() {\n      /* eslint-disable-next-line @typescript-eslint/no-this-alias */\n      var manager = this;\n      var dispatch = this.store.dispatch;\n\n      function bindActionCreator(actionCreator) {\n        return function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          var action = actionCreator.apply(manager, args);\n\n          if (typeof action !== 'undefined') {\n            dispatch(action);\n          }\n        };\n      }\n\n      var actions = createDragDropActions(this);\n      return Object.keys(actions).reduce(function (boundActions, key) {\n        var action = actions[key];\n        boundActions[key] = bindActionCreator(action);\n        return boundActions;\n      }, {});\n    }\n  }, {\n    key: \"dispatch\",\n    value: function dispatch(action) {\n      this.store.dispatch(action);\n    }\n  }]);\n\n  return DragDropManagerImpl;\n}();","import { createBeginDrag } from './beginDrag';\nimport { createPublishDragSource } from './publishDragSource';\nimport { createHover } from './hover';\nimport { createDrop } from './drop';\nimport { createEndDrag } from './endDrag';\nexport * from './types';\nexport function createDragDropActions(manager) {\n  return {\n    beginDrag: createBeginDrag(manager),\n    publishDragSource: createPublishDragSource(manager),\n    hover: createHover(manager),\n    drop: createDrop(manager),\n    endDrag: createEndDrag(manager)\n  };\n}","import _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n}\n\n// Inlined version of the `symbol-observable` polyfill\nvar $$observable = (function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n})();\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (process.env.NODE_ENV !== 'production') {\n    typeOfVal = miniKindOf(val);\n  }\n\n  return typeOfVal;\n}\n\n/**\n * @deprecated\n *\n * **We recommend using the `configureStore` method\n * of the `@reduxjs/toolkit` package**, which replaces `createStore`.\n *\n * Redux Toolkit is our recommended approach for writing Redux logic today,\n * including store setup, reducers, data fetching, and more.\n *\n * **For more details, please read this Redux docs page:**\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * `configureStore` from Redux Toolkit is an improved version of `createStore` that\n * simplifies setup and helps avoid common bugs.\n *\n * You should not be using the `redux` core package by itself today, except for learning purposes.\n * The `createStore` method from the core `redux` package will not be removed, but we encourage\n * all users to migrate to using Redux Toolkit for all Redux code.\n *\n * If you want to use `createStore` without this visual deprecation warning, use\n * the `legacy_createStore` import instead:\n *\n * `import { legacy_createStore as createStore} from 'redux'`\n *\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(0) : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(1) : \"Expected the enhancer to be a function. Instead, received: '\" + kindOf(enhancer) + \"'\");\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(2) : \"Expected the root reducer to be a function. Instead, received: '\" + kindOf(reducer) + \"'\");\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(3) : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(4) : \"Expected the listener to be a function. Instead, received: '\" + kindOf(listener) + \"'\");\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(5) : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(6) : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(7) : \"Actions must be plain objects. Instead, the actual type was: '\" + kindOf(action) + \"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.\");\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(8) : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(9) : 'Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(10) : \"Expected the nextReducer to be a function. Instead, received: '\" + kindOf(nextReducer));\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(11) : \"Expected the observer to be an object. Instead, received: '\" + kindOf(observer) + \"'\");\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n/**\n * Creates a Redux store that holds the state tree.\n *\n * **We recommend using `configureStore` from the\n * `@reduxjs/toolkit` package**, which replaces `createStore`:\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nvar legacy_createStore = createStore;\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + kindOf(inputState) + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(12) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(13) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle '\" + ActionTypes.INIT + \"' or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var actionType = action && action.type;\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(14) : \"When called with an action of type \" + (actionType ? \"\\\"\" + String(actionType) + \"\\\"\" : '(unknown type)') + \", the slice reducer for key \\\"\" + _key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\");\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(16) : \"bindActionCreators expected an object or a function, but instead received: '\" + kindOf(actionCreators) + \"'. \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(15) : 'Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread(_objectSpread({}, store), {}, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore, legacy_createStore };\n","export var strictEquality = function strictEquality(a, b) {\n  return a === b;\n};\n/**\n * Determine if two cartesian coordinate offsets are equal\n * @param offsetA\n * @param offsetB\n */\n\nexport function areCoordsEqual(offsetA, offsetB) {\n  if (!offsetA && !offsetB) {\n    return true;\n  } else if (!offsetA || !offsetB) {\n    return false;\n  } else {\n    return offsetA.x === offsetB.x && offsetA.y === offsetB.y;\n  }\n}\n/**\n * Determines if two arrays of items are equal\n * @param a The first array of items\n * @param b The second array of items\n */\n\nexport function areArraysEqual(a, b) {\n  var isEqual = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : strictEquality;\n\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  for (var i = 0; i < a.length; ++i) {\n    if (!isEqual(a[i], b[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { INIT_COORDS, BEGIN_DRAG, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { areCoordsEqual } from '../utils/equality';\nvar initialState = {\n  initialSourceClientOffset: null,\n  initialClientOffset: null,\n  clientOffset: null\n};\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case INIT_COORDS:\n    case BEGIN_DRAG:\n      return {\n        initialSourceClientOffset: payload.sourceClientOffset,\n        initialClientOffset: payload.clientOffset,\n        clientOffset: payload.clientOffset\n      };\n\n    case HOVER:\n      if (areCoordsEqual(state.clientOffset, payload.clientOffset)) {\n        return state;\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        clientOffset: payload.clientOffset\n      });\n\n    case END_DRAG:\n    case DROP:\n      return initialState;\n\n    default:\n      return state;\n  }\n}","export var ADD_SOURCE = 'dnd-core/ADD_SOURCE';\nexport var ADD_TARGET = 'dnd-core/ADD_TARGET';\nexport var REMOVE_SOURCE = 'dnd-core/REMOVE_SOURCE';\nexport var REMOVE_TARGET = 'dnd-core/REMOVE_TARGET';\nexport function addSource(sourceId) {\n  return {\n    type: ADD_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\nexport function addTarget(targetId) {\n  return {\n    type: ADD_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}\nexport function removeSource(sourceId) {\n  return {\n    type: REMOVE_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\nexport function removeTarget(targetId) {\n  return {\n    type: REMOVE_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { BEGIN_DRAG, PUBLISH_DRAG_SOURCE, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { REMOVE_TARGET } from '../actions/registry';\nimport { without } from '../utils/js_utils';\nvar initialState = {\n  itemType: null,\n  item: null,\n  sourceId: null,\n  targetIds: [],\n  dropResult: null,\n  didDrop: false,\n  isSourcePublic: null\n};\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case BEGIN_DRAG:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        itemType: payload.itemType,\n        item: payload.item,\n        sourceId: payload.sourceId,\n        isSourcePublic: payload.isSourcePublic,\n        dropResult: null,\n        didDrop: false\n      });\n\n    case PUBLISH_DRAG_SOURCE:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isSourcePublic: true\n      });\n\n    case HOVER:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        targetIds: payload.targetIds\n      });\n\n    case REMOVE_TARGET:\n      if (state.targetIds.indexOf(payload.targetId) === -1) {\n        return state;\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        targetIds: without(state.targetIds, payload.targetId)\n      });\n\n    case DROP:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        dropResult: payload.dropResult,\n        didDrop: true,\n        targetIds: []\n      });\n\n    case END_DRAG:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        itemType: null,\n        item: null,\n        sourceId: null,\n        dropResult: null,\n        didDrop: false,\n        isSourcePublic: null,\n        targetIds: []\n      });\n\n    default:\n      return state;\n  }\n}","import { ADD_SOURCE, ADD_TARGET, REMOVE_SOURCE, REMOVE_TARGET } from '../actions/registry';\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_SOURCE:\n    case ADD_TARGET:\n      return state + 1;\n\n    case REMOVE_SOURCE:\n    case REMOVE_TARGET:\n      return state - 1;\n\n    default:\n      return state;\n  }\n}","import { intersection } from './js_utils';\nexport var NONE = [];\nexport var ALL = [];\nNONE.__IS_NONE__ = true;\nALL.__IS_ALL__ = true;\n/**\n * Determines if the given handler IDs are dirty or not.\n *\n * @param dirtyIds The set of dirty handler ids\n * @param handlerIds The set of handler ids to check\n */\n\nexport function areDirty(dirtyIds, handlerIds) {\n  if (dirtyIds === NONE) {\n    return false;\n  }\n\n  if (dirtyIds === ALL || typeof handlerIds === 'undefined') {\n    return true;\n  }\n\n  var commonIds = intersection(handlerIds, dirtyIds);\n  return commonIds.length > 0;\n}","import { BEGIN_DRAG, PUBLISH_DRAG_SOURCE, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { ADD_SOURCE, ADD_TARGET, REMOVE_SOURCE, REMOVE_TARGET } from '../actions/registry';\nimport { areArraysEqual } from '../utils/equality';\nimport { NONE, ALL } from '../utils/dirtiness';\nimport { xor } from '../utils/js_utils';\nexport function reduce() {\n  var _state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : NONE;\n\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case HOVER:\n      break;\n\n    case ADD_SOURCE:\n    case ADD_TARGET:\n    case REMOVE_TARGET:\n    case REMOVE_SOURCE:\n      return NONE;\n\n    case BEGIN_DRAG:\n    case PUBLISH_DRAG_SOURCE:\n    case END_DRAG:\n    case DROP:\n    default:\n      return ALL;\n  }\n\n  var _action$payload = action.payload,\n      _action$payload$targe = _action$payload.targetIds,\n      targetIds = _action$payload$targe === void 0 ? [] : _action$payload$targe,\n      _action$payload$prevT = _action$payload.prevTargetIds,\n      prevTargetIds = _action$payload$prevT === void 0 ? [] : _action$payload$prevT;\n  var result = xor(targetIds, prevTargetIds);\n  var didChange = result.length > 0 || !areArraysEqual(targetIds, prevTargetIds);\n\n  if (!didChange) {\n    return NONE;\n  } // Check the target ids at the innermost position. If they are valid, add them\n  // to the result\n\n\n  var prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1];\n  var innermostTargetId = targetIds[targetIds.length - 1];\n\n  if (prevInnermostTargetId !== innermostTargetId) {\n    if (prevInnermostTargetId) {\n      result.push(prevInnermostTargetId);\n    }\n\n    if (innermostTargetId) {\n      result.push(innermostTargetId);\n    }\n  }\n\n  return result;\n}","export function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return state + 1;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { reduce as dragOffset } from './dragOffset';\nimport { reduce as dragOperation } from './dragOperation';\nimport { reduce as refCount } from './refCount';\nimport { reduce as dirtyHandlerIds } from './dirtyHandlerIds';\nimport { reduce as stateId } from './stateId';\nimport { get } from '../utils/js_utils';\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return {\n    dirtyHandlerIds: dirtyHandlerIds(state.dirtyHandlerIds, {\n      type: action.type,\n      payload: _objectSpread(_objectSpread({}, action.payload), {}, {\n        prevTargetIds: get(state, 'dragOperation.targetIds', [])\n      })\n    }),\n    dragOffset: dragOffset(state.dragOffset, action),\n    refCount: refCount(state.refCount, action),\n    dragOperation: dragOperation(state.dragOperation, action),\n    stateId: stateId(state.stateId)\n  };\n}","/**\n * Coordinate addition\n * @param a The first coordinate\n * @param b The second coordinate\n */\nexport function add(a, b) {\n  return {\n    x: a.x + b.x,\n    y: a.y + b.y\n  };\n}\n/**\n * Coordinate subtraction\n * @param a The first coordinate\n * @param b The second coordinate\n */\n\nexport function subtract(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n}\n/**\n * Returns the cartesian distance of the drag source component's position, based on its position\n * at the time when the current drag operation has started, and the movement difference.\n *\n * Returns null if no item is being dragged.\n *\n * @param state The offset state to compute from\n */\n\nexport function getSourceClientOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset,\n      initialSourceClientOffset = state.initialSourceClientOffset;\n\n  if (!clientOffset || !initialClientOffset || !initialSourceClientOffset) {\n    return null;\n  }\n\n  return subtract(add(clientOffset, initialSourceClientOffset), initialClientOffset);\n}\n/**\n * Determines the x,y offset between the client offset and the initial client offset\n *\n * @param state The offset state to compute from\n */\n\nexport function getDifferenceFromInitialOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset;\n\n  if (!clientOffset || !initialClientOffset) {\n    return null;\n  }\n\n  return subtract(clientOffset, initialClientOffset);\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { matchesType } from '../utils/matchesType';\nimport { getSourceClientOffset as _getSourceClientOffset, getDifferenceFromInitialOffset as _getDifferenceFromInitialOffset } from '../utils/coords';\nimport { areDirty } from '../utils/dirtiness';\nexport var DragDropMonitorImpl = /*#__PURE__*/function () {\n  function DragDropMonitorImpl(store, registry) {\n    _classCallCheck(this, DragDropMonitorImpl);\n\n    _defineProperty(this, \"store\", void 0);\n\n    _defineProperty(this, \"registry\", void 0);\n\n    this.store = store;\n    this.registry = registry;\n  }\n\n  _createClass(DragDropMonitorImpl, [{\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        handlerIds: undefined\n      };\n      var handlerIds = options.handlerIds;\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      invariant(typeof handlerIds === 'undefined' || Array.isArray(handlerIds), 'handlerIds, when specified, must be an array of strings.');\n      var prevStateId = this.store.getState().stateId;\n\n      var handleChange = function handleChange() {\n        var state = _this.store.getState();\n\n        var currentStateId = state.stateId;\n\n        try {\n          var canSkipListener = currentStateId === prevStateId || currentStateId === prevStateId + 1 && !areDirty(state.dirtyHandlerIds, handlerIds);\n\n          if (!canSkipListener) {\n            listener();\n          }\n        } finally {\n          prevStateId = currentStateId;\n        }\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      var _this2 = this;\n\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      var previousState = this.store.getState().dragOffset;\n\n      var handleChange = function handleChange() {\n        var nextState = _this2.store.getState().dragOffset;\n\n        if (nextState === previousState) {\n          return;\n        }\n\n        previousState = nextState;\n        listener();\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId);\n      invariant(source, \"Expected to find a valid source. sourceId=\".concat(sourceId));\n\n      if (this.isDragging()) {\n        return false;\n      }\n\n      return source.canDrag(this, sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      // undefined on initial render\n      if (!targetId) {\n        return false;\n      }\n\n      var target = this.registry.getTarget(targetId);\n      invariant(target, \"Expected to find a valid target. targetId=\".concat(targetId));\n\n      if (!this.isDragging() || this.didDrop()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n      return matchesType(targetType, draggedItemType) && target.canDrop(this, targetId);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      return Boolean(this.getItemType());\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      // undefined on initial render\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId, true);\n      invariant(source, \"Expected to find a valid source. sourceId=\".concat(sourceId));\n\n      if (!this.isDragging() || !this.isSourcePublic()) {\n        return false;\n      }\n\n      var sourceType = this.registry.getSourceType(sourceId);\n      var draggedItemType = this.getItemType();\n\n      if (sourceType !== draggedItemType) {\n        return false;\n      }\n\n      return source.isDragging(this, sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        shallow: false\n      };\n\n      // undefined on initial render\n      if (!targetId) {\n        return false;\n      }\n\n      var shallow = options.shallow;\n\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n\n      if (draggedItemType && !matchesType(targetType, draggedItemType)) {\n        return false;\n      }\n\n      var targetIds = this.getTargetIds();\n\n      if (!targetIds.length) {\n        return false;\n      }\n\n      var index = targetIds.indexOf(targetId);\n\n      if (shallow) {\n        return index === targetIds.length - 1;\n      } else {\n        return index > -1;\n      }\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.store.getState().dragOperation.itemType;\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.store.getState().dragOperation.item;\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.store.getState().dragOperation.sourceId;\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.store.getState().dragOperation.targetIds;\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.store.getState().dragOperation.dropResult;\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.store.getState().dragOperation.didDrop;\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return Boolean(this.store.getState().dragOperation.isSourcePublic);\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.store.getState().dragOffset.initialClientOffset;\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.store.getState().dragOffset.initialSourceClientOffset;\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.store.getState().dragOffset.clientOffset;\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return _getSourceClientOffset(this.store.getState().dragOffset);\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return _getDifferenceFromInitialOffset(this.store.getState().dragOffset);\n    }\n  }]);\n\n  return DragDropMonitorImpl;\n}();","export var HandlerRole;\n\n(function (HandlerRole) {\n  HandlerRole[\"SOURCE\"] = \"SOURCE\";\n  HandlerRole[\"TARGET\"] = \"TARGET\";\n})(HandlerRole || (HandlerRole = {}));","var nextUniqueId = 0;\nexport function getNextUniqueId() {\n  return nextUniqueId++;\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { invariant } from '@react-dnd/invariant';\nexport function validateSourceContract(source) {\n  invariant(typeof source.canDrag === 'function', 'Expected canDrag to be a function.');\n  invariant(typeof source.beginDrag === 'function', 'Expected beginDrag to be a function.');\n  invariant(typeof source.endDrag === 'function', 'Expected endDrag to be a function.');\n}\nexport function validateTargetContract(target) {\n  invariant(typeof target.canDrop === 'function', 'Expected canDrop to be a function.');\n  invariant(typeof target.hover === 'function', 'Expected hover to be a function.');\n  invariant(typeof target.drop === 'function', 'Expected beginDrag to be a function.');\n}\nexport function validateType(type, allowArray) {\n  if (allowArray && Array.isArray(type)) {\n    type.forEach(function (t) {\n      return validateType(t, false);\n    });\n    return;\n  }\n\n  invariant(typeof type === 'string' || _typeof(type) === 'symbol', allowArray ? 'Type can only be a string, a symbol, or an array of either.' : 'Type can only be a string or a symbol.');\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { addSource as _addSource, addTarget as _addTarget, removeSource as _removeSource, removeTarget as _removeTarget } from '../actions/registry';\nimport { getNextUniqueId } from '../utils/getNextUniqueId';\nimport { HandlerRole } from '../interfaces';\nimport { validateSourceContract, validateTargetContract, validateType } from '../contracts';\nimport { asap } from '@react-dnd/asap';\n\nfunction getNextHandlerId(role) {\n  var id = getNextUniqueId().toString();\n\n  switch (role) {\n    case HandlerRole.SOURCE:\n      return \"S\".concat(id);\n\n    case HandlerRole.TARGET:\n      return \"T\".concat(id);\n\n    default:\n      throw new Error(\"Unknown Handler Role: \".concat(role));\n  }\n}\n\nfunction parseRoleFromHandlerId(handlerId) {\n  switch (handlerId[0]) {\n    case 'S':\n      return HandlerRole.SOURCE;\n\n    case 'T':\n      return HandlerRole.TARGET;\n\n    default:\n      invariant(false, \"Cannot parse handler ID: \".concat(handlerId));\n  }\n}\n\nfunction mapContainsValue(map, searchValue) {\n  var entries = map.entries();\n  var isDone = false;\n\n  do {\n    var _entries$next = entries.next(),\n        done = _entries$next.done,\n        _entries$next$value = _slicedToArray(_entries$next.value, 2),\n        value = _entries$next$value[1];\n\n    if (value === searchValue) {\n      return true;\n    }\n\n    isDone = !!done;\n  } while (!isDone);\n\n  return false;\n}\n\nexport var HandlerRegistryImpl = /*#__PURE__*/function () {\n  function HandlerRegistryImpl(store) {\n    _classCallCheck(this, HandlerRegistryImpl);\n\n    _defineProperty(this, \"types\", new Map());\n\n    _defineProperty(this, \"dragSources\", new Map());\n\n    _defineProperty(this, \"dropTargets\", new Map());\n\n    _defineProperty(this, \"pinnedSourceId\", null);\n\n    _defineProperty(this, \"pinnedSource\", null);\n\n    _defineProperty(this, \"store\", void 0);\n\n    this.store = store;\n  }\n\n  _createClass(HandlerRegistryImpl, [{\n    key: \"addSource\",\n    value: function addSource(type, source) {\n      validateType(type);\n      validateSourceContract(source);\n      var sourceId = this.addHandler(HandlerRole.SOURCE, type, source);\n      this.store.dispatch(_addSource(sourceId));\n      return sourceId;\n    }\n  }, {\n    key: \"addTarget\",\n    value: function addTarget(type, target) {\n      validateType(type, true);\n      validateTargetContract(target);\n      var targetId = this.addHandler(HandlerRole.TARGET, type, target);\n      this.store.dispatch(_addTarget(targetId));\n      return targetId;\n    }\n  }, {\n    key: \"containsHandler\",\n    value: function containsHandler(handler) {\n      return mapContainsValue(this.dragSources, handler) || mapContainsValue(this.dropTargets, handler);\n    }\n  }, {\n    key: \"getSource\",\n    value: function getSource(sourceId) {\n      var includePinned = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      var isPinned = includePinned && sourceId === this.pinnedSourceId;\n      var source = isPinned ? this.pinnedSource : this.dragSources.get(sourceId);\n      return source;\n    }\n  }, {\n    key: \"getTarget\",\n    value: function getTarget(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.dropTargets.get(targetId);\n    }\n  }, {\n    key: \"getSourceType\",\n    value: function getSourceType(sourceId) {\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      return this.types.get(sourceId);\n    }\n  }, {\n    key: \"getTargetType\",\n    value: function getTargetType(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.types.get(targetId);\n    }\n  }, {\n    key: \"isSourceId\",\n    value: function isSourceId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.SOURCE;\n    }\n  }, {\n    key: \"isTargetId\",\n    value: function isTargetId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.TARGET;\n    }\n  }, {\n    key: \"removeSource\",\n    value: function removeSource(sourceId) {\n      var _this = this;\n\n      invariant(this.getSource(sourceId), 'Expected an existing source.');\n      this.store.dispatch(_removeSource(sourceId));\n      asap(function () {\n        _this.dragSources.delete(sourceId);\n\n        _this.types.delete(sourceId);\n      });\n    }\n  }, {\n    key: \"removeTarget\",\n    value: function removeTarget(targetId) {\n      invariant(this.getTarget(targetId), 'Expected an existing target.');\n      this.store.dispatch(_removeTarget(targetId));\n      this.dropTargets.delete(targetId);\n      this.types.delete(targetId);\n    }\n  }, {\n    key: \"pinSource\",\n    value: function pinSource(sourceId) {\n      var source = this.getSource(sourceId);\n      invariant(source, 'Expected an existing source.');\n      this.pinnedSourceId = sourceId;\n      this.pinnedSource = source;\n    }\n  }, {\n    key: \"unpinSource\",\n    value: function unpinSource() {\n      invariant(this.pinnedSource, 'No source is pinned at the time.');\n      this.pinnedSourceId = null;\n      this.pinnedSource = null;\n    }\n  }, {\n    key: \"addHandler\",\n    value: function addHandler(role, type, handler) {\n      var id = getNextHandlerId(role);\n      this.types.set(id, type);\n\n      if (role === HandlerRole.SOURCE) {\n        this.dragSources.set(id, handler);\n      } else if (role === HandlerRole.TARGET) {\n        this.dropTargets.set(id, handler);\n      }\n\n      return id;\n    }\n  }]);\n\n  return HandlerRegistryImpl;\n}();","import { DragDropManagerImpl } from './classes/DragDropManagerImpl';\nimport { createStore } from 'redux';\nimport { reduce } from './reducers';\nimport { DragDropMonitorImpl } from './classes/DragDropMonitorImpl';\nimport { HandlerRegistryImpl } from './classes/HandlerRegistryImpl';\nexport function createDragDropManager(backendFactory) {\n  var globalContext = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n  var backendOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var debugMode = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var store = makeStoreInstance(debugMode);\n  var monitor = new DragDropMonitorImpl(store, new HandlerRegistryImpl(store));\n  var manager = new DragDropManagerImpl(store, monitor);\n  var backend = backendFactory(manager, globalContext, backendOptions);\n  manager.receiveBackend(backend);\n  return manager;\n}\n\nfunction makeStoreInstance(debugMode) {\n  // TODO: if we ever make a react-native version of this,\n  // we'll need to consider how to pull off dev-tooling\n  var reduxDevTools = typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION__;\n  return createStore(reduce, debugMode && reduxDevTools && reduxDevTools({\n    name: 'dnd-core',\n    instanceId: 'dnd-core'\n  }));\n}"],"sourceRoot":""}