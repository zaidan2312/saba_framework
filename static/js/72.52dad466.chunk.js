(this["webpackJsonpsaba-react-framework"]=this["webpackJsonpsaba-react-framework"]||[]).push([[72],{168:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a(5),r=a(9),s=a(3),i=a.n(s),o=a(0),l=a(21),d=a(83),u=(a(587),a(10)),m=a(731),b=a(282),j=a(79),p=a(573),h=(a(218),a(161),a(84)),f=a(28),g=a(101),x=a(217),O=(a(585),a(577),a(588),a(578)),v=a(85),y=a(14),w=a(751),N=a.n(w),k=a(752),C=a.n(k),S=a(753),D=a.n(S),_=a(370),L=a(7),P=a.n(L),R=a(733),E=a(644),A=a(675),T=a(1244),I=a(2),B={3:180,6:90,8:-90};t.default=function(e){var t,a,s,w,k,S,L=e.show,M=e.setShow,F=e.detailPage,U=e.formState,V=e.setFormState,Z=Object(j.a)().t,z=Object(l.g)().id,q=Object(y.b)(),J=Object(y.c)((function(e){return e[v.storeName]})),Q=Object(o.useContext)(h.a).colors,G=Object(o.useState)(""),W=Object(r.a)(G,2),Y=W[0],H=W[1],X=Object(o.useState)(""),K=Object(r.a)(X,2),$=K[0],ee=K[1],te=Object(o.useState)(""),ae=Object(r.a)(te,2),ne=ae[0],ce=ae[1],re=Object(o.useState)(""),se=Object(r.a)(re,2),ie=se[0],oe=se[1],le=Object(o.useState)("Please Wait"),de=Object(r.a)(le,2),ue=(de[0],de[1]),me=Object(o.useState)(null),be=Object(r.a)(me,2),je=be[0],pe=be[1],he=Object(o.useState)({x:0,y:0}),fe=Object(r.a)(he,2),ge=fe[0],xe=fe[1],Oe=Object(o.useState)(0),ve=Object(r.a)(Oe,2),ye=ve[0],we=ve[1],Ne=Object(o.useState)(1),ke=Object(r.a)(Ne,2),Ce=ke[0],Se=ke[1],De=Object(o.useState)(null),_e=Object(r.a)(De,2),Le=_e[0],Pe=_e[1],Re=Object(O.e)({}),Ee=Re.control,Ae=Re.setError,Te=Re.handleSubmit,Ie=Re.formState.errors,Be=g.o.Option,Me=[{value:"service",label:"Service",icon:Object(I.jsx)(N.a,{className:"me-1",sixe:32})},{value:"web",label:"Web App",icon:Object(I.jsx)(C.a,{className:"me-1",sixe:32})},{value:"mobile",label:"Mobile App",icon:Object(I.jsx)(D.a,{className:"me-1",sixe:32})}],Fe=function(e){return Object(I.jsxs)(Be,Object(c.a)(Object(c.a)({},e),{},{children:[Object(I.jsx)("img",{className:"me-1",src:e.data.icon,style:{width:36},alt:e.data.label}),e.data.label]}))},Ue=[{value:"python",label:"Python",icon:"https://logos-download.com/wp-content/uploads/2016/10/Python_logo_wordmark.png"},{value:"javascript",label:"Javascript",icon:"https://javascriptsu.files.wordpress.com/2020/12/js.jpg"}],Ve=[{value:"react",label:"React",icon:"https://logos-download.com/wp-content/uploads/2016/09/React_logo_wordmark.png"},{value:"angular",label:"Angular",icon:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSQgREvN-e1uVZXVDc2w_zLeey0Li4buQ26gF0ZmCYxaBMoybo4uQTncS3Z5WxHRyZNfA&usqp=CAU"},{value:"flask",label:"Flask",icon:"https://miro.medium.com/max/1079/1*nvtdCw77Al6LgV8wt_ma6Q.png"},{value:"flutter",label:"Flutter",icon:"https://png.pngitem.com/pimgs/s/480-4803274_google-flutter-hd-png-download.png"}],Ze=function(e){if("edit"===U){var t=Object(c.a)({},Object(f.C)(J.selectedData));for(var a in delete t.id,t)a in e||delete t[a];return JSON.stringify(Object(f.C)(t))!==JSON.stringify(Object(f.C)(e))}return!0},ze=function(e){var t=e.target.value.replace(/[^a-zA-Z0-9 ]/g,"").replaceAll(" ","_").toLowerCase();H(t)},qe=function(){var e=Object(n.a)(i.a.mark((function e(t){var a,n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ze(t)){e.next=14;break}if(!Object.values(t).every((function(e){return null!==e&&""!==e}))){e.next=11;break}if(!je.includes("data:image/png;base64")&&0===ge&&ye==={x:0,y:0}){e.next=7;break}return e.next=5,Object(E.a)(je,Le,ye);case 5:a=e.sent,t.logo={appLogo:a};case 7:ue("".concat(Z("Updating")," ").concat(Z(v.pageTitle)," ").concat(Z("Detail")," Data")),q(Object(v.putData)(t)).then((function(e){"fulfilled"===e.meta.requestStatus?(M(!L),d.b.success("".concat(Z("Successfully Updated")," ").concat(Z(v.pageTitle)),{style:{padding:"16px",color:Q.success.main,border:"1px solid ".concat(Q.success.main)},iconTheme:{primary:Q.success.main}}),F&&q(Object(v.getDataById)(z))):"rejected"===e.meta.requestStatus&&d.b.error(e.payload.message,{style:{padding:"16px",color:Q.danger.main,border:"1px solid ".concat(Q.danger.main)},iconTheme:{primary:Q.danger.main}})})),e.next=12;break;case 11:for(n in t)0===(null===(c=t[n])||void 0===c?void 0:c.length)&&Ae(n,{type:"manual"});case 12:e.next=15;break;case 14:Object(d.b)("".concat(Z("You haven't changed anything")),{icon:"\ud83d\udc4f"});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je=function(){var e=Object(n.a)(i.a.mark((function e(t){var a,n,c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a={}).name=t.name,a.code=Y,a.info={description:t.description,appType:$,programming_language:{main_language:ne,language_others:[],framework:ie,framework_ver:null,dependencies:[]}},a.logo={appLogo:"https://res.cloudinary.com/insaba/image/upload/v1661262584/app/insaba_starterkit_services/logo.png",favicon:"https://res.cloudinary.com/insaba/image/upload/v1661262584/app/insaba_starterkit_services/favicon.png"},!je){e.next=11;break}return e.next=8,Object(E.a)(je,Le,ye);case 8:n=e.sent,console.log("donee",{croppedImage:n}),a.logo.appLogo=n;case 11:if(Object.values(a).every((function(e){return null!==e&&""!==e})))ue("".concat(Z("Creating a New ".concat(v.pageTitle)))),q(Object(v.postData)(a)).then((function(e){"fulfilled"===e.meta.requestStatus?(M(!L),d.b.success("".concat(Z("Successfully Created")," ").concat(Z(v.pageTitle)),{style:{padding:"16px",color:Q.success.main,border:"1px solid ".concat(Q.success.main)},iconTheme:{primary:Q.success.main}}),F&&q(Object(v.getDataById)(z))):"rejected"===e.meta.requestStatus&&d.b.error(e.payload.message,{style:{padding:"16px",color:Q.danger.main,border:"1px solid ".concat(Q.danger.main)},iconTheme:{primary:Q.danger.main}})}));else for(c in a)null!==a[c]&&0===(null===(r=a[c])||void 0===r?void 0:r.length)&&Ae(c,{type:"manual"});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qe=function(){q(Object(v.resetSelectedData)())},Ge=Object(m.b)({multiple:!1,onDrop:function(e){var t=e[0];Ke(t)}}),We=Ge.getRootProps,Ye=Ge.getInputProps,He=Object(o.useCallback)((function(e,t){Pe(t)}),[]);function Xe(e){return new Promise((function(t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)}),!1),a.readAsDataURL(e)}))}var Ke=function(){var e=Object(n.a)(i.a.mark((function e(t){var a,n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe(t);case 2:return a=e.sent,e.next=5,Object(R.getOrientation)(t);case 5:if(n=e.sent,!(c=B[n])){e.next=11;break}return e.next=10,Object(E.b)(a,c);case 10:a=e.sent;case 11:pe(a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){var e;"edit"===U&&pe(null!==(e=J.selectedData.logo.appLogo)&&void 0!==e?e:null)}),[]),Object(I.jsx)(u.F,{isOpen:L,toggle:function(){Qe(),M(!L)},className:"modal-dialog-centered modal-lg",children:Object(I.jsxs)(p.a,{blocking:J.isLoadingAddEdit||J.isLoadingDetail,loader:Object(I.jsx)(_.b,{}),children:[Object(I.jsx)(u.I,{className:"bg-transparent",toggle:function(){Qe(),M(!L)}}),Object(I.jsxs)(u.G,{className:"px-sm-5 pt-50 pb-5",children:[Object(I.jsx)("div",{className:"text-center mb-2",children:Object(I.jsxs)("h2",{className:"mb-1",children:[Z("edit"===U?"Edit":"Add")," ",Z(v.pageTitle)]})}),Object(I.jsx)(u.y,{onSubmit:Te("edit"===U?qe:Je),children:Object(I.jsxs)(u.R,{className:"gy-1 pt-75",children:[Object(I.jsx)(u.t,{md:8,xs:12,children:Object(I.jsxs)(u.R,{children:[Object(I.jsxs)(u.t,{md:12,xs:12,className:"mb-1",children:[Object(I.jsxs)(u.E,{className:"form-label",for:"name",children:[Z("App Name"),Object(I.jsx)("span",{className:"text-danger",children:"*"})]}),Object(I.jsx)(O.a,{defaultValue:null!==(t=null===(a=J.selectedData)||void 0===a?void 0:a.name)&&void 0!==t?t:"",control:Ee,id:"name",name:"name",render:function(e){var t=e.field;return Object(I.jsx)(u.B,Object(c.a)(Object(c.a)({},t),{},{className:Ie.name?"form-control is-invalid":"form-control",onInput:ze,id:"name",invalid:Ie.name&&!0}))}})]}),Object(I.jsxs)(u.t,{md:12,xs:12,className:"mb-1",children:[Object(I.jsxs)(u.E,{className:"form-label",for:"code",children:[Z("Code"),Object(I.jsx)("span",{className:"text-danger",children:"*"})]}),Object(I.jsx)(O.a,{defaultValue:null!==(s=null===(w=J.selectedData)||void 0===w?void 0:w.code)&&void 0!==s?s:Y,control:Ee,id:"code",name:"code",render:function(e){var t,a,n=e.field;return Object(I.jsx)(u.B,Object(c.a)(Object(c.a)({disabled:!0,readOnly:!0},n),{},{value:null!==(t=null===(a=J.selectedData)||void 0===a?void 0:a.code)&&void 0!==t?t:Y,className:Ie.code?"form-control is-invalid":"form-control",id:"code",invalid:Ie.code&&!0}))}})]}),Object(I.jsxs)(u.t,{md:12,xs:12,className:"mb-1",children:[Object(I.jsx)(u.E,{className:"form-label",for:"appType",children:Z("App Type")}),Object(I.jsx)(x.a,{id:"appType",theme:f.B,defaultValue:Me.filter((function(e){var t,a;return e.value===(null===(t=J.selectedData)||void 0===t||null===(a=t.info)||void 0===a?void 0:a.appType)})),onChange:function(e){ee(e.value)},options:Me,components:{Option:function(e){return Object(I.jsxs)(Be,Object(c.a)(Object(c.a)({},e),{},{children:[e.data.icon,e.data.label]}))}},className:P()("react-select",{"is-invalid":null===$}),classNamePrefix:"select"})]})]})}),Object(I.jsx)(u.t,{md:4,xs:12,children:Object(I.jsxs)(u.m,{style:{padding:0,margin:"auto"},className:"text-center",children:[je&&Object(I.jsx)("div",{className:"crop-container2",children:Object(I.jsx)(A.a,{image:je,crop:ge,rotation:ye,zoom:Ce,aspect:1,showGrid:!1,onCropChange:xe,onRotationChange:we,onCropComplete:He,onZoomChange:Se,restrictPosition:!1,objectFit:"vertical-cover"})}),je?null:Object(I.jsxs)("div",Object(c.a)(Object(c.a)({},We({className:"dropzone"})),{},{children:[Object(I.jsx)("input",Object(c.a)({},Ye())),Object(I.jsxs)("div",{className:"d-flex align-items-center justify-content-center flex-column",children:[Object(I.jsx)(b.a,{size:64}),Object(I.jsx)("h5",{children:Z("Drop Files here or click to upload")}),Object(I.jsxs)("p",{className:"text-secondary",children:[Z("Drop files here or click")," ",Object(I.jsx)("a",{href:"/",onClick:function(e){return e.preventDefault()},children:Z("browse")})," ",Z("through your machine")]})]})]})),je?Object(I.jsxs)(o.Fragment,{children:[Object(I.jsxs)("div",{className:"d-flex justify-content-left align-items-center",children:[Object(I.jsx)("div",{style:{width:"95px"},className:"d-flex flex-column me-1",children:Object(I.jsx)("span",{children:Z("Zoom")})}),Object(I.jsx)(T.a,{value:Ce,min:1,max:3,step:.1,"aria-labelledby":"Zoom",onChange:function(e,t){return Se(t)}})]}),Object(I.jsxs)("div",{className:"d-flex justify-content-left align-items-center  mb-1",children:[Object(I.jsx)("div",{style:{width:"95px"},className:"d-flex flex-column me-1",children:Object(I.jsx)("span",{children:Z("Rotation")})}),Object(I.jsx)(T.a,{value:ye,min:0,max:360,step:1,"aria-labelledby":"Rotation",onChange:function(e,t){return we(t)}})]}),Object(I.jsx)("div",{className:"d-flex justify-content-center",children:Object(I.jsx)(u.i,{color:"danger",outline:!0,onClick:function(e){pe(null)},children:Z("Change")})})]}):null]})}),Object(I.jsxs)(u.t,{md:12,xs:12,children:[Object(I.jsx)(u.E,{className:"form-label",for:"main_language",children:Z("Programming Language")}),Object(I.jsx)(x.a,{id:"main_language",theme:f.B,defaultValue:Ue.filter((function(e){var t,a,n;return e.value===(null===(t=J.selectedData)||void 0===t||null===(a=t.info)||void 0===a||null===(n=a.programming_language)||void 0===n?void 0:n.main_language)})),onChange:function(e){ce(e.value)},options:Ue,components:{Option:Fe},className:"react-select",classNamePrefix:"select"})]}),Object(I.jsxs)(u.t,{md:12,xs:12,children:[Object(I.jsx)(u.E,{className:"form-label",for:"framework",children:Z("Framework")}),Object(I.jsx)(x.a,{id:"framework",theme:f.B,defaultValue:Ve.filter((function(e){var t,a,n;return e.value===(null===(t=J.selectedData)||void 0===t||null===(a=t.info)||void 0===a||null===(n=a.programming_language)||void 0===n?void 0:n.framework)})),onChange:function(e){oe(e.value)},options:Ve,components:{Option:Fe},className:"react-select",classNamePrefix:"select"})]}),Object(I.jsxs)(u.t,{md:12,xs:12,children:[Object(I.jsxs)(u.E,{className:"form-label",for:"description",children:[Z("Description"),Object(I.jsx)("span",{className:"text-danger"})]}),Object(I.jsx)(O.a,{defaultValue:null!==(k=null===(S=J.selectedData)||void 0===S?void 0:S.name)&&void 0!==k?k:"",control:Ee,id:"description",name:"description",render:function(e){var t=e.field;return Object(I.jsx)(u.B,Object(c.a)(Object(c.a)({},t),{},{type:"textarea",className:"form-control",id:"description"}))}})]}),Object(I.jsxs)(u.t,{xs:12,className:"text-center mt-2 pt-50",children:[Object(I.jsx)(u.i,{type:"submit",className:"me-1",color:"primary",children:Z("Submit")}),Object(I.jsx)(u.i,{type:"reset",color:"secondary",outline:!0,onClick:function(){Qe(),V("add"),M(!1)},children:Z("Cancel")})]})]})})]})]})})}},644:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return u}));var n=a(4),c=a(3),r=a.n(c),s=function(e){return new Promise((function(t,a){var n=new Image;n.addEventListener("load",(function(){return t(n)})),n.addEventListener("error",(function(e){return a(e)})),n.setAttribute("crossOrigin","anonymous"),n.src=e}))};function i(e){return e*Math.PI/180}function o(e,t,a){var n=i(a);return{width:Math.abs(Math.cos(n)*e)+Math.abs(Math.sin(n)*t),height:Math.abs(Math.sin(n)*e)+Math.abs(Math.cos(n)*t)}}function l(e,t){return d.apply(this,arguments)}function d(){return d=Object(n.a)(r.a.mark((function e(t,a){var n,c,l,d,u,m,b,j,p,h,f,g,x=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=x.length>2&&void 0!==x[2]?x[2]:0,c=x.length>3&&void 0!==x[3]?x[3]:{horizontal:!1,vertical:!1},l=x.length>4&&void 0!==x[4]&&x[4],d=x.length>5&&void 0!==x[5]&&x[5],e.next=6,s(t);case 6:if(u=e.sent,m=document.createElement("canvas"),b=m.getContext("2d")){e.next=11;break}return e.abrupt("return",null);case 11:if(j=i(n),p=o(u.width,u.height,n),h=p.width,f=p.height,m.width=h,m.height=f,b.translate(h/2,f/2),b.rotate(j),b.scale(c.horizontal?-1:1,c.vertical?-1:1),b.translate(-u.width/2,-u.height/2),b.drawImage(u,0,0),g=b.getImageData(a.x,a.y,a.width,a.height),m.width=a.width,m.height=a.height,b.putImageData(g,0,0),l){e.next=28;break}return e.abrupt("return",m.toDataURL("image/png"));case 28:if(!d){e.next=32;break}return e.abrupt("return",new Promise((function(e,t){m.toBlob((function(t){e(t)}),"image/png")})));case 32:return e.abrupt("return",new Promise((function(e,t){m.toBlob((function(t){e(URL.createObjectURL(t))}),"image/png")})));case 33:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function u(e){return m.apply(this,arguments)}function m(){return m=Object(n.a)(r.a.mark((function e(t){var a,n,c,i,o=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:0,e.next=3,s(t);case 3:return n=e.sent,c=document.createElement("canvas"),i=c.getContext("2d"),90===a||-90===a||270===a||-270===a?(c.width=n.height,c.height=n.width):(c.width=n.width,c.height=n.height),i.translate(c.width/2,c.height/2),i.rotate(a*Math.PI/180),i.drawImage(n,-n.width/2,-n.height/2),e.abrupt("return",new Promise((function(e){c.toBlob((function(t){e(URL.createObjectURL(t))}),"image/png")})));case 12:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}}}]);
//# sourceMappingURL=72.52dad466.chunk.js.map