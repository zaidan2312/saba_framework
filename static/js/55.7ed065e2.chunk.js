(this["webpackJsonpsaba-react-framework"]=this["webpackJsonpsaba-react-framework"]||[]).push([[55,80,163],{166:function(e,t,a){"use strict";a.r(t);var c=a(5),n=a(9),s=a(0),r=a(21),i=a(83),l=(a(587),a(10)),o=a(79),d=a(573),u=a(218),j=(a(161),a(84)),m=(a(28),a(585),a(577),a(588),a(578)),b=a(87),O=a(14),f=a(2);t.default=function(e){var t,a,p,g,x=e.show,h=e.setShow,v=e.detailPage,y=e.formState,N=e.setFormState,S=e.currentData,k=void 0===S?null:S,D=Object(o.a)().t,T=Object(r.g)().id,w=Object(O.b)(),C=Object(O.c)((function(e){return e[b.storeName]})),E=Object(s.useContext)(j.a).colors,q=Object(s.useState)(null),B=Object(n.a)(q,2),F=(B[0],B[1],Object(s.useState)("Please Wait")),J=Object(n.a)(F,2),I=J[0],P=J[1],U=Object(m.e)({}),A=U.control,L=U.setError,V=U.handleSubmit,G=U.formState.errors,R=function(){return Object(f.jsxs)(s.Fragment,{children:[Object(f.jsx)(u.a,{}),Object(f.jsxs)(l.r,{className:"mb-0 mt-1",children:[D(I),"..."]})]})};function W(e){return Object.keys(e).sort().reduce((function(t,a){return t[a]=e[a],t}),{})}var Y=function(){w(Object(b.resetSelectedData)())};return Object(f.jsx)(l.F,{isOpen:x,toggle:function(){Y(),h(!x)},className:"modal-dialog-centered modal-lg",children:Object(f.jsxs)(d.a,{blocking:C.isLoadingAddEdit||C.isLoadingDetail,loader:Object(f.jsx)(R,{}),children:[Object(f.jsx)(l.I,{className:"bg-transparent",toggle:function(){Y(),h(!x)}}),Object(f.jsxs)(l.G,{className:"px-sm-5 pt-50 pb-5",children:[Object(f.jsxs)("div",{className:"text-center mb-2",children:[Object(f.jsxs)("h2",{className:"mb-1",children:[D("edit"===y?"Edit":"Add")," ",D(b.pageTitle)]}),"edit"!==y?Object(f.jsxs)("p",{children:["Setelah menambahkan data ",D("Unit")," baru, maka pastikan logout dulu akun anda."]}):null]}),Object(f.jsx)(l.y,{onSubmit:V("edit"===y?function(e){if(function(e){if("edit"===y){var t=Object(c.a)({},W(C.selectedData));for(var a in delete t.id,t)a in e||delete t[a];return JSON.stringify(W(t))!==JSON.stringify(W(e))}return!0}(e))if(Object.values(e).every((function(e){return null!==e&&""!==e})))P("".concat(D("Updating")," ").concat(D(b.pageTitle)," ").concat(D("Detail")," Data")),w(Object(b.putData)(e)).then((function(e){if("fulfilled"===e.meta.requestStatus)h(!x),i.b.success("".concat(D("Successfully Updated")," ").concat(D(b.pageTitle)),{style:{padding:"16px",color:E.success.main,border:"1px solid ".concat(E.success.main)},iconTheme:{primary:E.success.main}}),v&&w(Object(b.getDataById)(T));else if("rejected"===e.meta.requestStatus){var t;i.b.error(null===(t=e.payload)||void 0===t?void 0:t.message,{style:{padding:"16px",color:E.danger.main,border:"1px solid ".concat(E.danger.main)},iconTheme:{primary:E.danger.main}})}}));else for(var t in e){var a;0===(null===(a=e[t])||void 0===a?void 0:a.length)&&L(t,{type:"manual"})}else Object(i.b)("".concat(D("You haven't changed anything")),{icon:"\ud83d\udc4f"})}:function(e){if(Object.values(e).every((function(e){return null!==e&&""!==e})))P("".concat(D("Creating a New ".concat(b.pageTitle)))),e.depth=k.depth+1,e.parent_id=k.id,w(Object(b.postData)(e)).then((function(e){console.log(e),"fulfilled"===e.meta.requestStatus?(h(!x),i.b.success("".concat(D("Successfully Created")," ").concat(D(b.pageTitle)),{style:{padding:"16px",color:E.success.main,border:"1px solid ".concat(E.success.main)},iconTheme:{primary:E.success.main}}),v&&w(Object(b.getDataById)(T))):"rejected"===e.meta.requestStatus&&i.b.error(e.payload.message,{style:{padding:"16px",color:E.danger.main,border:"1px solid ".concat(E.danger.main)},iconTheme:{primary:E.danger.main}})}));else for(var t in e){var a;null!==e[t]&&0===(null===(a=e[t])||void 0===a?void 0:a.length)&&L(t,{type:"manual"})}}),children:Object(f.jsxs)(l.R,{className:"gy-1 pt-75",children:[Object(f.jsxs)(l.t,{md:12,xs:12,children:[Object(f.jsxs)(l.E,{className:"form-label",for:"name",children:[D("Name"),Object(f.jsx)("span",{className:"text-danger",children:"*"})]}),Object(f.jsx)(m.a,{defaultValue:null!==(t=null===(a=C.selectedData)||void 0===a?void 0:a.name)&&void 0!==t?t:"",control:A,id:"name",name:"name",render:function(e){var t=e.field;return Object(f.jsx)(l.B,Object(c.a)(Object(c.a)({},t),{},{className:G.name?"form-control is-invalid":"form-control",id:"name",invalid:G.name&&!0}))}})]}),Object(f.jsxs)(l.t,{md:12,xs:12,children:[Object(f.jsxs)(l.E,{className:"form-label",for:"description",children:[D("Code"),Object(f.jsx)("span",{className:"text-danger",children:"*"})]}),Object(f.jsx)(m.a,{defaultValue:null!==(p=null===(g=C.selectedData)||void 0===g?void 0:g.code)&&void 0!==p?p:"",control:A,id:"code",name:"code",render:function(e){var t=e.field;return Object(f.jsx)(l.B,Object(c.a)(Object(c.a)({},t),{},{className:G.code?"form-control is-invalid":"form-control",id:"code",invalid:G.code&&!0}))}})]}),Object(f.jsxs)(l.t,{xs:12,className:"text-center mt-2 pt-50",children:[Object(f.jsx)(l.i,{type:"submit",className:"me-1",color:"primary",children:D("Submit")}),Object(f.jsx)(l.i,{type:"reset",color:"secondary",outline:!0,onClick:function(){Y(),N("add"),h(!1)},children:D("Cancel")})]})]})})]})]})})}},573:function(e,t,a){"use strict";var c=a(5),n=a(8),s=a(0),r=a(7),i=a.n(r),l=a(10),o=(a(579),a(2)),d=function(e){var t,a=e.children,r=e.blocking,l=e.loader,d=e.className,u=e.tag,j=e.overlayColor,m=u;return Object(o.jsxs)(m,{className:i()("ui-loader",(t={},Object(n.a)(t,d,d),Object(n.a)(t,"show",r),t)),children:[a,r?Object(o.jsxs)(s.Fragment,{children:[Object(o.jsx)("div",Object(c.a)({className:"overlay"},r&&j?{style:{backgroundColor:j}}:{})),Object(o.jsx)("div",{className:"loader",children:l})]}):null]})};t.a=d,d.defaultProps={tag:"div",blocking:!1,loader:Object(o.jsx)(l.S,{color:"primary"})}},577:function(e,t,a){},579:function(e,t,a){}}]);
//# sourceMappingURL=55.7ed065e2.chunk.js.map