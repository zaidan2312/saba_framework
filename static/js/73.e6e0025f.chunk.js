(this["webpackJsonpsaba-react-framework"]=this["webpackJsonpsaba-react-framework"]||[]).push([[73],{167:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a(5),r=a(9),s=a(3),i=a.n(s),o=a(0),l=a(21),d=a(82),u=(a(584),a(10)),m=a(727),b=a(282),j=a(121),p=a(570),h=(a(216),a(160),a(83)),f=a(31),g=a(100),x=a(217),O=(a(582),a(574),a(585),a(575)),v=a(84),w=a(14),y=a(747),N=a.n(y),k=a(748),D=a.n(k),S=a(749),C=a.n(S),_=a(369),L=a(7),A=a.n(L),P=a(729),R=a(642),T=a(671),I=a(1240),M=a(2),E={3:180,6:90,8:-90};t.default=function(e){var t,a,s,y,k,S,L=e.show,F=e.setShow,U=e.detailPage,V=e.formState,Z=e.setFormState,z=Object(j.a)().t,q=Object(l.g)().id,B=Object(w.b)(),Q=Object(w.c)((function(e){return e[v.storeName]})),J=Object(o.useContext)(h.a).colors,W=Object(o.useState)(""),G=Object(r.a)(W,2),H=G[0],Y=G[1],X=Object(o.useState)(""),K=Object(r.a)(X,2),$=K[0],ee=K[1],te=Object(o.useState)(""),ae=Object(r.a)(te,2),ne=ae[0],ce=ae[1],re=Object(o.useState)(""),se=Object(r.a)(re,2),ie=se[0],oe=se[1],le=Object(o.useState)("Please Wait"),de=Object(r.a)(le,2),ue=(de[0],de[1]),me=Object(o.useState)(null),be=Object(r.a)(me,2),je=be[0],pe=be[1],he=Object(o.useState)({x:0,y:0}),fe=Object(r.a)(he,2),ge=fe[0],xe=fe[1],Oe=Object(o.useState)(0),ve=Object(r.a)(Oe,2),we=ve[0],ye=ve[1],Ne=Object(o.useState)(1),ke=Object(r.a)(Ne,2),De=ke[0],Se=ke[1],Ce=Object(o.useState)(null),_e=Object(r.a)(Ce,2),Le=_e[0],Ae=_e[1],Pe=Object(O.e)({}),Re=Pe.control,Te=Pe.setError,Ie=Pe.handleSubmit,Me=Pe.formState.errors,Ee=g.o.Option,Fe=[{value:"service",label:"Service",icon:Object(M.jsx)(N.a,{className:"me-1",sixe:32})},{value:"web",label:"Web App",icon:Object(M.jsx)(D.a,{className:"me-1",sixe:32})},{value:"mobile",label:"Mobile App",icon:Object(M.jsx)(C.a,{className:"me-1",sixe:32})}],Ue=function(e){return Object(M.jsxs)(Ee,Object(c.a)(Object(c.a)({},e),{},{children:[Object(M.jsx)("img",{className:"me-1",src:e.data.icon,style:{width:36},alt:e.data.label}),e.data.label]}))},Ve=[{value:"python",label:"Python",icon:"https://logos-download.com/wp-content/uploads/2016/10/Python_logo_wordmark.png"},{value:"javascript",label:"Javascript",icon:"https://javascriptsu.files.wordpress.com/2020/12/js.jpg"}],Ze=[{value:"react",label:"React",icon:"https://logos-download.com/wp-content/uploads/2016/09/React_logo_wordmark.png"},{value:"angular",label:"Angular",icon:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSQgREvN-e1uVZXVDc2w_zLeey0Li4buQ26gF0ZmCYxaBMoybo4uQTncS3Z5WxHRyZNfA&usqp=CAU"},{value:"flask",label:"Flask",icon:"https://miro.medium.com/max/1079/1*nvtdCw77Al6LgV8wt_ma6Q.png"},{value:"flutter",label:"Flutter",icon:"https://png.pngitem.com/pimgs/s/480-4803274_google-flutter-hd-png-download.png"}],ze=function(e){if("edit"===V){var t=Object(c.a)({},Object(f.x)(Q.selectedData));for(var a in delete t.id,t)a in e||delete t[a];return JSON.stringify(Object(f.x)(t))!==JSON.stringify(Object(f.x)(e))}return!0},qe=function(e){var t=e.target.value.replace(/[^a-zA-Z0-9 ]/g,"").replaceAll(" ","_").toLowerCase();Y(t)},Be=function(){var e=Object(n.a)(i.a.mark((function e(t){var a,n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ze(t)){e.next=14;break}if(!Object.values(t).every((function(e){return null!==e&&""!==e}))){e.next=11;break}if(!je.includes("data:image/png;base64")&&0===ge&&we==={x:0,y:0}){e.next=7;break}return e.next=5,Object(R.a)(je,Le,we);case 5:a=e.sent,t.logo={appLogo:a};case 7:ue("".concat(z("Updating")," ").concat(z(v.pageTitle)," ").concat(z("Detail")," Data")),B(Object(v.putData)(t)).then((function(e){"fulfilled"===e.meta.requestStatus?(F(!L),d.b.success("".concat(z("Successfully Updated")," ").concat(z(v.pageTitle)),{style:{padding:"16px",color:J.success.main,border:"1px solid ".concat(J.success.main)},iconTheme:{primary:J.success.main}}),U&&B(Object(v.getDataById)(q))):"rejected"===e.meta.requestStatus&&d.b.error(e.payload.message,{style:{padding:"16px",color:J.danger.main,border:"1px solid ".concat(J.danger.main)},iconTheme:{primary:J.danger.main}})})),e.next=12;break;case 11:for(n in t)0===(null===(c=t[n])||void 0===c?void 0:c.length)&&Te(n,{type:"manual"});case 12:e.next=15;break;case 14:Object(d.b)("".concat(z("You haven't changed anything")),{icon:"\ud83d\udc4f"});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(n.a)(i.a.mark((function e(t){var a,n,c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a={}).name=t.name,a.code=H,a.info={description:t.description,appType:$,programming_language:{main_language:ne,language_others:[],framework:ie,framework_ver:null,dependencies:[]}},a.logo={appLogo:"https://res.cloudinary.com/insaba/image/upload/v1661262584/app/insaba_starterkit_services/logo.png",favicon:"https://res.cloudinary.com/insaba/image/upload/v1661262584/app/insaba_starterkit_services/favicon.png"},!je){e.next=11;break}return e.next=8,Object(R.a)(je,Le,we);case 8:n=e.sent,console.log("donee",{croppedImage:n}),a.logo.appLogo=n;case 11:if(Object.values(a).every((function(e){return null!==e&&""!==e})))ue("".concat(z("Creating a New ".concat(v.pageTitle)))),B(Object(v.postData)(a)).then((function(e){"fulfilled"===e.meta.requestStatus?(F(!L),d.b.success("".concat(z("Successfully Created")," ").concat(z(v.pageTitle)),{style:{padding:"16px",color:J.success.main,border:"1px solid ".concat(J.success.main)},iconTheme:{primary:J.success.main}}),U&&B(Object(v.getDataById)(q))):"rejected"===e.meta.requestStatus&&d.b.error(e.payload.message,{style:{padding:"16px",color:J.danger.main,border:"1px solid ".concat(J.danger.main)},iconTheme:{primary:J.danger.main}})}));else for(c in a)null!==a[c]&&0===(null===(r=a[c])||void 0===r?void 0:r.length)&&Te(c,{type:"manual"});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je=function(){B(Object(v.resetSelectedData)())},We=Object(m.b)({multiple:!1,onDrop:function(e){var t=e[0];Ke(t)}}),Ge=We.getRootProps,He=We.getInputProps,Ye=Object(o.useCallback)((function(e,t){Ae(t)}),[]);function Xe(e){return new Promise((function(t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)}),!1),a.readAsDataURL(e)}))}var Ke=function(){var e=Object(n.a)(i.a.mark((function e(t){var a,n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe(t);case 2:return a=e.sent,e.next=5,Object(P.getOrientation)(t);case 5:if(n=e.sent,!(c=E[n])){e.next=11;break}return e.next=10,Object(R.b)(a,c);case 10:a=e.sent;case 11:pe(a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){var e;"edit"===V&&pe(null!==(e=Q.selectedData.logo.appLogo)&&void 0!==e?e:null)}),[]),Object(M.jsx)(u.E,{isOpen:L,toggle:function(){Je(),F(!L)},className:"modal-dialog-centered modal-lg",children:Object(M.jsxs)(p.a,{blocking:Q.isLoadingAddEdit||Q.isLoadingDetail,loader:Object(M.jsx)(_.b,{}),children:[Object(M.jsx)(u.H,{className:"bg-transparent",toggle:function(){Je(),F(!L)}}),Object(M.jsxs)(u.F,{className:"px-sm-5 pt-50 pb-5",children:[Object(M.jsx)("div",{className:"text-center mb-2",children:Object(M.jsxs)("h2",{className:"mb-1",children:[z("edit"===V?"Edit":"Add")," ",z(v.pageTitle)]})}),Object(M.jsx)(u.x,{onSubmit:Ie("edit"===V?Be:Qe),children:Object(M.jsxs)(u.Q,{className:"gy-1 pt-75",children:[Object(M.jsx)(u.s,{md:8,xs:12,children:Object(M.jsxs)(u.Q,{children:[Object(M.jsxs)(u.s,{md:12,xs:12,className:"mb-1",children:[Object(M.jsxs)(u.D,{className:"form-label",for:"name",children:[z("App Name"),Object(M.jsx)("span",{className:"text-danger",children:"*"})]}),Object(M.jsx)(O.a,{defaultValue:null!==(t=null===(a=Q.selectedData)||void 0===a?void 0:a.name)&&void 0!==t?t:"",control:Re,id:"name",name:"name",render:function(e){var t=e.field;return Object(M.jsx)(u.A,Object(c.a)(Object(c.a)({},t),{},{className:Me.name?"form-control is-invalid":"form-control",onInput:qe,id:"name",invalid:Me.name&&!0}))}})]}),Object(M.jsxs)(u.s,{md:12,xs:12,className:"mb-1",children:[Object(M.jsxs)(u.D,{className:"form-label",for:"code",children:[z("Code"),Object(M.jsx)("span",{className:"text-danger",children:"*"})]}),Object(M.jsx)(O.a,{defaultValue:null!==(s=null===(y=Q.selectedData)||void 0===y?void 0:y.code)&&void 0!==s?s:H,control:Re,id:"code",name:"code",render:function(e){var t,a,n=e.field;return Object(M.jsx)(u.A,Object(c.a)(Object(c.a)({disabled:!0,readOnly:!0},n),{},{value:null!==(t=null===(a=Q.selectedData)||void 0===a?void 0:a.code)&&void 0!==t?t:H,className:Me.code?"form-control is-invalid":"form-control",id:"code",invalid:Me.code&&!0}))}})]}),Object(M.jsxs)(u.s,{md:12,xs:12,className:"mb-1",children:[Object(M.jsx)(u.D,{className:"form-label",for:"appType",children:z("App Type")}),Object(M.jsx)(x.a,{id:"appType",theme:f.w,defaultValue:Fe.filter((function(e){var t,a;return e.value===(null===(t=Q.selectedData)||void 0===t||null===(a=t.info)||void 0===a?void 0:a.appType)})),onChange:function(e){ee(e.value)},options:Fe,components:{Option:function(e){return Object(M.jsxs)(Ee,Object(c.a)(Object(c.a)({},e),{},{children:[e.data.icon,e.data.label]}))}},className:A()("react-select",{"is-invalid":null===$}),classNamePrefix:"select"})]})]})}),Object(M.jsx)(u.s,{md:4,xs:12,children:Object(M.jsxs)(u.l,{style:{padding:0,margin:"auto"},className:"text-center",children:[je&&Object(M.jsx)("div",{className:"crop-container2",children:Object(M.jsx)(T.a,{image:je,crop:ge,rotation:we,zoom:De,aspect:1,showGrid:!1,onCropChange:xe,onRotationChange:ye,onCropComplete:Ye,onZoomChange:Se,restrictPosition:!1,objectFit:"vertical-cover"})}),je?null:Object(M.jsxs)("div",Object(c.a)(Object(c.a)({},Ge({className:"dropzone"})),{},{children:[Object(M.jsx)("input",Object(c.a)({},He())),Object(M.jsxs)("div",{className:"d-flex align-items-center justify-content-center flex-column",children:[Object(M.jsx)(b.a,{size:64}),Object(M.jsx)("h5",{children:z("Drop Files here or click to upload")}),Object(M.jsxs)("p",{className:"text-secondary",children:[z("Drop files here or click")," ",Object(M.jsx)("a",{href:"/",onClick:function(e){return e.preventDefault()},children:z("browse")})," ",z("through your machine")]})]})]})),je?Object(M.jsxs)(o.Fragment,{children:[Object(M.jsxs)("div",{className:"d-flex justify-content-left align-items-center",children:[Object(M.jsx)("div",{style:{width:"95px"},className:"d-flex flex-column me-1",children:Object(M.jsx)("span",{children:z("Zoom")})}),Object(M.jsx)(I.a,{value:De,min:1,max:3,step:.1,"aria-labelledby":"Zoom",onChange:function(e,t){return Se(t)}})]}),Object(M.jsxs)("div",{className:"d-flex justify-content-left align-items-center  mb-1",children:[Object(M.jsx)("div",{style:{width:"95px"},className:"d-flex flex-column me-1",children:Object(M.jsx)("span",{children:z("Rotation")})}),Object(M.jsx)(I.a,{value:we,min:0,max:360,step:1,"aria-labelledby":"Rotation",onChange:function(e,t){return ye(t)}})]}),Object(M.jsx)("div",{className:"d-flex justify-content-center",children:Object(M.jsx)(u.i,{color:"danger",outline:!0,onClick:function(e){pe(null)},children:z("Change")})})]}):null]})}),Object(M.jsxs)(u.s,{md:12,xs:12,children:[Object(M.jsx)(u.D,{className:"form-label",for:"main_language",children:z("Programming Language")}),Object(M.jsx)(x.a,{id:"main_language",theme:f.w,defaultValue:Ve.filter((function(e){var t,a,n;return e.value===(null===(t=Q.selectedData)||void 0===t||null===(a=t.info)||void 0===a||null===(n=a.programming_language)||void 0===n?void 0:n.main_language)})),onChange:function(e){ce(e.value)},options:Ve,components:{Option:Ue},className:"react-select",classNamePrefix:"select"})]}),Object(M.jsxs)(u.s,{md:12,xs:12,children:[Object(M.jsx)(u.D,{className:"form-label",for:"framework",children:z("Framework")}),Object(M.jsx)(x.a,{id:"framework",theme:f.w,defaultValue:Ze.filter((function(e){var t,a,n;return e.value===(null===(t=Q.selectedData)||void 0===t||null===(a=t.info)||void 0===a||null===(n=a.programming_language)||void 0===n?void 0:n.framework)})),onChange:function(e){oe(e.value)},options:Ze,components:{Option:Ue},className:"react-select",classNamePrefix:"select"})]}),Object(M.jsxs)(u.s,{md:12,xs:12,children:[Object(M.jsxs)(u.D,{className:"form-label",for:"description",children:[z("Description"),Object(M.jsx)("span",{className:"text-danger"})]}),Object(M.jsx)(O.a,{defaultValue:null!==(k=null===(S=Q.selectedData)||void 0===S?void 0:S.name)&&void 0!==k?k:"",control:Re,id:"description",name:"description",render:function(e){var t=e.field;return Object(M.jsx)(u.A,Object(c.a)(Object(c.a)({},t),{},{type:"textarea",className:"form-control",id:"description"}))}})]}),Object(M.jsxs)(u.s,{xs:12,className:"text-center mt-2 pt-50",children:[Object(M.jsx)(u.i,{type:"submit",className:"me-1",color:"primary",children:z("Submit")}),Object(M.jsx)(u.i,{type:"reset",color:"secondary",outline:!0,onClick:function(){Je(),Z("add"),F(!1)},children:z("Cancel")})]})]})})]})]})})}},642:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return u}));var n=a(4),c=a(3),r=a.n(c),s=function(e){return new Promise((function(t,a){var n=new Image;n.addEventListener("load",(function(){return t(n)})),n.addEventListener("error",(function(e){return a(e)})),n.setAttribute("crossOrigin","anonymous"),n.src=e}))};function i(e){return e*Math.PI/180}function o(e,t,a){var n=i(a);return{width:Math.abs(Math.cos(n)*e)+Math.abs(Math.sin(n)*t),height:Math.abs(Math.sin(n)*e)+Math.abs(Math.cos(n)*t)}}function l(e,t){return d.apply(this,arguments)}function d(){return d=Object(n.a)(r.a.mark((function e(t,a){var n,c,l,d,u,m,b,j,p,h,f,g,x=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=x.length>2&&void 0!==x[2]?x[2]:0,c=x.length>3&&void 0!==x[3]?x[3]:{horizontal:!1,vertical:!1},l=x.length>4&&void 0!==x[4]&&x[4],d=x.length>5&&void 0!==x[5]&&x[5],e.next=6,s(t);case 6:if(u=e.sent,m=document.createElement("canvas"),b=m.getContext("2d")){e.next=11;break}return e.abrupt("return",null);case 11:if(j=i(n),p=o(u.width,u.height,n),h=p.width,f=p.height,m.width=h,m.height=f,b.translate(h/2,f/2),b.rotate(j),b.scale(c.horizontal?-1:1,c.vertical?-1:1),b.translate(-u.width/2,-u.height/2),b.drawImage(u,0,0),g=b.getImageData(a.x,a.y,a.width,a.height),m.width=a.width,m.height=a.height,b.putImageData(g,0,0),l){e.next=28;break}return e.abrupt("return",m.toDataURL("image/png"));case 28:if(!d){e.next=32;break}return e.abrupt("return",new Promise((function(e,t){m.toBlob((function(t){e(t)}),"image/png")})));case 32:return e.abrupt("return",new Promise((function(e,t){m.toBlob((function(t){e(URL.createObjectURL(t))}),"image/png")})));case 33:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function u(e){return m.apply(this,arguments)}function m(){return m=Object(n.a)(r.a.mark((function e(t){var a,n,c,i,o=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:0,e.next=3,s(t);case 3:return n=e.sent,c=document.createElement("canvas"),i=c.getContext("2d"),90===a||-90===a||270===a||-270===a?(c.width=n.height,c.height=n.width):(c.width=n.width,c.height=n.height),i.translate(c.width/2,c.height/2),i.rotate(a*Math.PI/180),i.drawImage(n,-n.width/2,-n.height/2),e.abrupt("return",new Promise((function(e){c.toBlob((function(t){e(URL.createObjectURL(t))}),"image/png")})));case 12:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}}}]);
//# sourceMappingURL=73.e6e0025f.chunk.js.map