(this["webpackJsonpsaba-react-framework"]=this["webpackJsonpsaba-react-framework"]||[]).push([[56,82,163],{168:function(e,t,a){"use strict";a.r(t);var c=a(5),n=a(9),i=a(0),s=a(21),l=a(83),r=(a(586),a(10)),o=a(82),d=a(572),u=(a(216),a(160),a(84)),j=a(31),b=a(217),m=(a(584),a(576),a(587),a(577)),p=a(93),f=a(85),O=a(14),v=a(7),g=a.n(v),x=a(369),h=a(2);t.default=function(e){var t,a,v,y,N=e.show,S=e.setShow,D=e.detailPage,w=e.formState,_=e.setFormState,C=Object(o.a)().t,k=Object(s.g)().id,T=Object(O.b)(),E=Object(O.c)((function(e){return e[p.storeName]})),P=Object(O.c)((function(e){return e.apps_app})),q=Object(O.c)((function(e){return e.units})),A=Object(i.useState)(E.selectedData),B=Object(n.a)(A,2),J=B[0],L=(B[1],Object(i.useContext)(u.a).colors),V=Object(i.useState)("Please Wait"),z=Object(n.a)(V,2),F=(z[0],z[1]),I=Object(i.useState)(null),U=Object(n.a)(I,2),G=U[0],M=U[1],R=Object(i.useState)([]),W=Object(n.a)(R,2),Y=W[0],H=W[1],K=Object(i.useState)({}),Q=Object(n.a)(K,2),X=Q[0],Z=Q[1],$=Object(m.e)({}),ee=$.control,te=$.setError,ae=$.handleSubmit,ce=$.formState.errors,ne=function(){T(Object(p.resetSelectedData)())};return Object(i.useEffect)((function(){0!==P.data.length&&P.isLoading||T(Object(f.getDataList)({})),M(P.dataDropdown.filter((function(e){var t;return e.value===(null===(t=E.selectedData)||void 0===t?void 0:t.id_app)})));var e=q.dataDropdown.filter((function(e){return""!==e.value}));H(e),Z(e.filter((function(e){var t;return e.value===(null===(t=E.selectedData)||void 0===t?void 0:t.id_unit)})))}),[]),Object(h.jsx)(r.F,{isOpen:N,toggle:function(){ne(),S(!N)},className:"modal-dialog-centered modal-lg",children:Object(h.jsxs)(d.a,{blocking:E.isLoadingAddEdit||E.isLoadingDetail,loader:Object(h.jsx)(x.b,{}),children:[Object(h.jsx)(r.I,{className:"bg-transparent",toggle:function(){ne(),S(!N)}}),Object(h.jsxs)(r.G,{className:"px-sm-5 pt-50 pb-5",children:[Object(h.jsx)("div",{className:"text-center mb-2",children:Object(h.jsxs)("h2",{className:"mb-1",children:[C("edit"===w?"Edit":"Add")," ",C(p.pageTitle)]})}),Object(h.jsx)(r.y,{onSubmit:ae("edit"===w?function(e){if(e.id_unit=X.value,e.id_app=G.value,function(e){if("edit"===w){var t=Object(c.a)({},Object(j.z)(E.selectedData));for(var a in delete t.id,t)a in e||delete t[a];return JSON.stringify(Object(j.z)(t))!==JSON.stringify(Object(j.z)(e))}return!0}(e))if(Object.values(e).every((function(e){return null!==e&&""!==e})))F("".concat(C("Updating")," ").concat(C(p.pageTitle)," ").concat(C("Detail")," Data")),T(Object(p.putData)(e)).then((function(e){"fulfilled"===e.meta.requestStatus?(S(!N),l.b.success("".concat(C("Successfully Updated")," ").concat(C(p.pageTitle)),{style:{padding:"16px",color:L.success.main,border:"1px solid ".concat(L.success.main)},iconTheme:{primary:L.success.main}}),D&&T(Object(p.getDataById)(k))):"rejected"===e.meta.requestStatus&&l.b.error(e.payload.message,{style:{padding:"16px",color:L.danger.main,border:"1px solid ".concat(L.danger.main)},iconTheme:{primary:L.danger.main}})}));else for(var t in e){var a;0===(null===(a=e[t])||void 0===a?void 0:a.length)&&te(t,{type:"manual"})}else Object(l.b)("".concat(C("You haven't changed anything")),{icon:"\ud83d\udc4f"})}:function(e){if(Object.values(e).every((function(e){return null!==e&&""!==e})))e.id_unit=X,e.id_app=G,delete e.description,F("".concat(C("Creating a New ".concat(p.pageTitle)))),T(Object(p.postData)(e)).then((function(e){"fulfilled"===e.meta.requestStatus?(S(!N),l.b.success("".concat(C("Successfully Created")," ").concat(C(p.pageTitle)),{style:{padding:"16px",color:L.success.main,border:"1px solid ".concat(L.success.main)},iconTheme:{primary:L.success.main}}),D&&T(Object(p.getDataById)(k))):"rejected"===e.meta.requestStatus&&l.b.error(e.payload.message,{style:{padding:"16px",color:L.danger.main,border:"1px solid ".concat(L.danger.main)},iconTheme:{primary:L.danger.main}})}));else for(var t in e){var a;null!==e[t]&&0===(null===(a=e[t])||void 0===a?void 0:a.length)&&te(t,{type:"manual"})}}),children:Object(h.jsxs)(r.R,{className:"gy-1 pt-75",children:[Object(h.jsxs)(r.t,{md:12,xs:12,children:[Object(h.jsxs)(r.E,{className:"form-label",for:"domain",children:[C("Domain Address"),Object(h.jsx)("span",{className:"text-danger",children:"*"})]}),Object(h.jsx)(m.a,{defaultValue:null!==(t=null===(a=E.selectedData)||void 0===a?void 0:a.domain)&&void 0!==t?t:"",control:ee,id:"domain",name:"domain",render:function(e){var t=e.field;return Object(h.jsx)(r.B,Object(c.a)(Object(c.a)({},t),{},{className:ce.domain?"form-control is-invalid":"form-control",id:"domain",invalid:ce.domain&&!0}))}})]}),Object(h.jsxs)(r.t,{md:12,xs:12,children:[Object(h.jsx)(r.E,{className:"form-label",for:"id_app",children:C("App")}),Object(h.jsx)(b.a,{id:"id_app",theme:j.y,defaultValue:P.dataDropdown.filter((function(e){return e.value===(null===J||void 0===J?void 0:J.id_app)})),onChange:function(e){M(e.value)},options:P.dataDropdown,className:g()("react-select",{"is-invalid":null===G}),classNamePrefix:"select"})]}),Object(h.jsxs)(r.t,{md:12,xs:12,children:[Object(h.jsx)(r.E,{className:"form-label",for:"id_unit",children:C("Unit")}),Object(h.jsx)(b.a,{id:"id_unit",isClearable:!1,theme:j.y,closeMenuOnSelect:!0,defaultValue:q.dataDropdown.filter((function(e){return e.value===(null===J||void 0===J?void 0:J.id_unit)})),onChange:function(e){var t;t=e,console.log(t),Z(t.value)},options:Y,className:"react-select",classNamePrefix:"select"})]}),Object(h.jsxs)(r.t,{md:12,xs:12,children:[Object(h.jsx)(r.E,{className:"form-label",for:"description",children:C("Description")}),Object(h.jsx)(m.a,{defaultValue:null!==(v=null===(y=E.selectedData)||void 0===y?void 0:y.description)&&void 0!==v?v:"",control:ee,id:"description",name:"description",render:function(e){var t=e.field;return Object(h.jsx)(r.B,Object(c.a)(Object(c.a)({},t),{},{className:ce.domain?"form-control is-invalid":"form-control",type:"textarea",id:"description",invalid:ce.description&&!0}))}})]}),Object(h.jsxs)(r.t,{xs:12,className:"text-center mt-2 pt-50",children:[Object(h.jsx)(r.i,{type:"submit",className:"me-1",color:"primary",children:C("Submit")}),Object(h.jsx)(r.i,{type:"reset",color:"secondary",outline:!0,onClick:function(){ne(),_("add"),S(!1)},children:C("Cancel")})]})]})})]})]})})}},572:function(e,t,a){"use strict";var c=a(5),n=a(8),i=a(0),s=a(7),l=a.n(s),r=a(10),o=(a(578),a(2)),d=function(e){var t,a=e.children,s=e.blocking,r=e.loader,d=e.className,u=e.tag,j=e.overlayColor,b=u;return Object(o.jsxs)(b,{className:l()("ui-loader",(t={},Object(n.a)(t,d,d),Object(n.a)(t,"show",s),t)),children:[a,s?Object(o.jsxs)(i.Fragment,{children:[Object(o.jsx)("div",Object(c.a)({className:"overlay"},s&&j?{style:{backgroundColor:j}}:{})),Object(o.jsx)("div",{className:"loader",children:r})]}):null]})};t.a=d,d.defaultProps={tag:"div",blocking:!1,loader:Object(o.jsx)(r.S,{color:"primary"})}},576:function(e,t,a){},578:function(e,t,a){}}]);
//# sourceMappingURL=56.7e781fd6.chunk.js.map