(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[83],{139:function(e,t,a){"use strict";a.r(t);var n=a(6),c=a(9),i=a(0),s=a(20),r=a(68),l=(a(520),a(10)),o=a(103),d=a(507),u=(a(182),a(133),a(69)),b=a(31),j=a(181),m=(a(516),a(510),a(517),a(511)),p=a(78),f=a(70),O=a(16),v=a(7),x=a.n(v),g=a(319),h=a(2);t.default=function(e){var t,a,v,y,D=e.show,N=e.setShow,S=e.detailPage,_=e.formState,w=e.setFormState,T=Object(o.a)().t,C=Object(s.g)().id,q=Object(O.b)(),A=Object(O.c)((function(e){return e[p.storeName]})),E=Object(O.c)((function(e){return e.apps_app})),k=Object(O.c)((function(e){return e.units})),J=Object(i.useState)(A.selectedData),L=Object(c.a)(J,2),P=L[0],V=(L[1],Object(i.useContext)(u.a).colors),U=Object(i.useState)("Please Wait"),B=Object(c.a)(U,2),F=(B[0],B[1]),I=Object(i.useState)(null),H=Object(c.a)(I,2),M=H[0],Q=H[1],W=Object(i.useState)([]),Y=Object(c.a)(W,2),z=Y[0],G=Y[1],K=Object(i.useState)({}),R=Object(c.a)(K,2),X=R[0],Z=R[1],$=Object(m.e)({}),ee=$.control,te=$.setError,ae=$.handleSubmit,ne=$.formState.errors,ce=function(){q(Object(p.resetSelectedData)())};return Object(i.useEffect)((function(){0!==E.data.length&&E.isLoading||q(Object(f.getDataList)({})),Q(E.dataDropdown.filter((function(e){var t;return e.value===(null===(t=A.selectedData)||void 0===t?void 0:t.id_app)})));var e=k.dataDropdown.filter((function(e){return""!==e.value}));G(e),Z(e.filter((function(e){var t;return e.value===(null===(t=A.selectedData)||void 0===t?void 0:t.id_unit)})))}),[]),Object(h.jsx)(l.E,{isOpen:D,toggle:function(){ce(),N(!D)},className:"modal-dialog-centered modal-lg",children:Object(h.jsxs)(d.a,{blocking:A.isLoadingAddEdit||A.isLoadingDetail,loader:Object(h.jsx)(g.b,{}),children:[Object(h.jsx)(l.H,{className:"bg-transparent",toggle:function(){ce(),N(!D)}}),Object(h.jsxs)(l.F,{className:"px-sm-5 pt-50 pb-5",children:[Object(h.jsx)("div",{className:"text-center mb-2",children:Object(h.jsxs)("h2",{className:"mb-1",children:[T("edit"===_?"Edit":"Add")," ",T(p.pageTitle)]})}),Object(h.jsx)(l.x,{onSubmit:ae("edit"===_?function(e){if(e.id_unit=X.value,e.id_app=M.value,function(e){if("edit"===_){var t=Object(n.a)({},Object(b.r)(A.selectedData));for(var a in delete t.id,t)a in e||delete t[a];return JSON.stringify(Object(b.r)(t))!==JSON.stringify(Object(b.r)(e))}return!0}(e))if(Object.values(e).every((function(e){return null!==e&&""!==e})))F("".concat(T("Updating")," ").concat(T(p.pageTitle)," ").concat(T("Detail")," Data")),q(Object(p.putData)(e)).then((function(e){"fulfilled"===e.meta.requestStatus?(N(!D),r.b.success("".concat(T("Successfully Updated")," ").concat(T(p.pageTitle)),{style:{padding:"16px",color:V.success.main,border:"1px solid ".concat(V.success.main)},iconTheme:{primary:V.success.main}}),S&&q(Object(p.getDataById)(C))):"rejected"===e.meta.requestStatus&&r.b.error(e.payload.message,{style:{padding:"16px",color:V.danger.main,border:"1px solid ".concat(V.danger.main)},iconTheme:{primary:V.danger.main}})}));else for(var t in e){var a;0===(null===(a=e[t])||void 0===a?void 0:a.length)&&te(t,{type:"manual"})}else Object(r.b)("".concat(T("You haven't changed anything")),{icon:"\ud83d\udc4f"})}:function(e){if(Object.values(e).every((function(e){return null!==e&&""!==e})))e.id_unit=X,e.id_app=M,delete e.description,F("".concat(T("Creating a New ".concat(p.pageTitle)))),q(Object(p.postData)(e)).then((function(e){"fulfilled"===e.meta.requestStatus?(N(!D),r.b.success("".concat(T("Successfully Created")," ").concat(T(p.pageTitle)),{style:{padding:"16px",color:V.success.main,border:"1px solid ".concat(V.success.main)},iconTheme:{primary:V.success.main}}),S&&q(Object(p.getDataById)(C))):"rejected"===e.meta.requestStatus&&r.b.error(e.payload.message,{style:{padding:"16px",color:V.danger.main,border:"1px solid ".concat(V.danger.main)},iconTheme:{primary:V.danger.main}})}));else for(var t in e){var a;null!==e[t]&&0===(null===(a=e[t])||void 0===a?void 0:a.length)&&te(t,{type:"manual"})}}),children:Object(h.jsxs)(l.Q,{className:"gy-1 pt-75",children:[Object(h.jsxs)(l.s,{md:12,xs:12,children:[Object(h.jsxs)(l.D,{className:"form-label",for:"domain",children:[T("Domain Address"),Object(h.jsx)("span",{className:"text-danger",children:"*"})]}),Object(h.jsx)(m.a,{defaultValue:null!==(t=null===(a=A.selectedData)||void 0===a?void 0:a.domain)&&void 0!==t?t:"",control:ee,id:"domain",name:"domain",render:function(e){var t=e.field;return Object(h.jsx)(l.A,Object(n.a)(Object(n.a)({},t),{},{className:ne.domain?"form-control is-invalid":"form-control",id:"domain",invalid:ne.domain&&!0}))}})]}),Object(h.jsxs)(l.s,{md:12,xs:12,children:[Object(h.jsx)(l.D,{className:"form-label",for:"id_app",children:T("App")}),Object(h.jsx)(j.a,{id:"id_app",theme:b.q,defaultValue:E.dataDropdown.filter((function(e){return e.value===(null===P||void 0===P?void 0:P.id_app)})),onChange:function(e){Q(e.value)},options:E.dataDropdown,className:x()("react-select",{"is-invalid":null===M}),classNamePrefix:"select"})]}),Object(h.jsxs)(l.s,{md:12,xs:12,children:[Object(h.jsx)(l.D,{className:"form-label",for:"id_unit",children:T("Unit")}),Object(h.jsx)(j.a,{id:"id_unit",isClearable:!1,theme:b.q,closeMenuOnSelect:!0,defaultValue:k.dataDropdown.filter((function(e){return e.value===(null===P||void 0===P?void 0:P.id_unit)})),onChange:function(e){var t;t=e,console.log(t),Z(t.value)},options:z,className:"react-select",classNamePrefix:"select"})]}),Object(h.jsxs)(l.s,{md:12,xs:12,children:[Object(h.jsx)(l.D,{className:"form-label",for:"description",children:T("Description")}),Object(h.jsx)(m.a,{defaultValue:null!==(v=null===(y=A.selectedData)||void 0===y?void 0:y.description)&&void 0!==v?v:"",control:ee,id:"description",name:"description",render:function(e){var t=e.field;return Object(h.jsx)(l.A,Object(n.a)(Object(n.a)({},t),{},{className:ne.domain?"form-control is-invalid":"form-control",type:"textarea",id:"description",invalid:ne.description&&!0}))}})]}),Object(h.jsxs)(l.s,{xs:12,className:"text-center mt-2 pt-50",children:[Object(h.jsx)(l.i,{type:"submit",className:"me-1",color:"primary",children:T("Submit")}),Object(h.jsx)(l.i,{type:"reset",color:"secondary",outline:!0,onClick:function(){ce(),w("add"),N(!1)},children:T("Cancel")})]})]})})]})]})})}}}]);
//# sourceMappingURL=83.b8e78d23.chunk.js.map