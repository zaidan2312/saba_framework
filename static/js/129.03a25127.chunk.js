(this["webpackJsonpsaba-react-framework"]=this["webpackJsonpsaba-react-framework"]||[]).push([[129,76,150,151,152],{163:function(e,t,n){"use strict";n.r(t);var a=n(8),c=n(5),r=n(9),o=n(0),i=n(21),s=n(82),l=(n(584),n(10)),d=n(121),u=n(570),p=n(216),f=(n(160),n(83)),b=n(31),m=(n(582),n(574),n(585),n(575)),j=n(89),O=n(14),h=n(2);t.default=function(e){var t=e.show,g=e.setShow,x=e.detailPage,y=e.formState,v=e.setFormState,_=e.currentData,S=void 0===_?null:_,N=Object(d.a)().t,D=Object(i.g)().id,M=Object(O.b)(),k=Object(O.c)((function(e){return e[j.storeName]})),w=Object(o.useContext)(f.a).colors,T=Object(o.useState)("Please Wait"),F=Object(r.a)(T,2),C=F[0],P=F[1],A=Object(O.c)((function(e){return e})),L=Object(o.useState)({}),E=Object(r.a)(L,2),I=E[0],q=E[1],V=Object(o.useState)({}),B=Object(r.a)(V,2),G=B[0],J=(B[1],Object(o.useState)({})),z=Object(r.a)(J,2),W=z[0],R=z[1],U=Object(m.e)({}),$=(U.control,U.setError),Q=U.handleSubmit,X=(U.formState.errors,function(){return Object(h.jsxs)(o.Fragment,{children:[Object(h.jsx)(p.a,{}),Object(h.jsxs)(l.q,{className:"mb-0 mt-1",children:[N(C),"..."]})]})}),Y=function(){M(Object(j.resetSelectedData)())},H=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n)if(G[t]){var r=G[t].indexOf(e);-1!==r?G[t].splice(r,1):G[t].push(e)}else G[t]=[e];else G[t]=e;R(Object(c.a)(Object(c.a)({},W),{},Object(a.a)({},t,!1)))};return Object(o.useEffect)((function(){for(var e={},t=j.dynamicForm,a=function(a){var c=t[a].fieldName,r=t[a].fieldLabel,i=t[a].fieldName.replaceAll("id_","");if(G[c]=null,W[c]=!1,"dropdown"===t[a].type||"table"===t[a].type){var s,d,u,p,f,b=Object(o.lazy)((function(){return n(604)("./".concat(i))}));e["".concat(i,"_comp")]=Object(h.jsxs)(o.Fragment,{children:[Object(h.jsx)(l.D,{className:"form-label",for:c,children:N(null!==r&&void 0!==r?r:"")}),Object(h.jsx)(b,{lookupMode:!0,lookupMode_fieldName:c,lookupMode_dropdown:"dropdown"===t[a].type,lookupMode_isMulti:null!==(s=t[a].isMultiSelection)&&void 0!==s&&s,lookupMode_onChange:H,lookupMode_defaultValue:null!==(d=t[a])&&void 0!==d&&d.isM2MDefValFromGrid?A[j.storeName].data.map((function(e){return e[c]})):null!==(u=A[j.storeName])&&void 0!==u&&u.selectedData?A[j.storeName].selectedData[c]:"",lookupMode_isM2MDefValFromGrid:null!==(p=null===(f=t[a])||void 0===f?void 0:f.isM2MDefValFromGrid)&&void 0!==p&&p},"dynInput_".concat(c))]})}else{var m,O;e["".concat(i,"_comp")]=Object(h.jsxs)(o.Fragment,{children:[Object(h.jsx)(l.D,{className:"form-label",for:c,children:N(null!==r&&void 0!==r?r:"")}),Object(h.jsx)(l.A,{defaultValue:null!==(m=t[a])&&void 0!==m&&m.isM2MDefValFromGrid?A[j.storeName].data.map((function(e){return e[c]})):null!==(O=A[j.storeName])&&void 0!==O&&O.selectedData?A[j.storeName].selectedData[c]:"",onChange:function(e){var n;return H(e.target.value,c,null!==(n=t[a].isMultiSelection)&&void 0!==n&&n)},id:"dynInput_".concat(c)},"dynInput_".concat(c))]})}},c=0;c<t.length;c++)a(c);q(e)}),[]),Object(h.jsx)(l.E,{isOpen:t,toggle:function(){Y(),g(!t)},className:"modal-dialog-centered modal-lg",children:Object(h.jsxs)(u.a,{blocking:k.isLoadingAddEdit||k.isLoadingDetail,loader:Object(h.jsx)(X,{}),children:[Object(h.jsx)(l.H,{className:"bg-transparent",toggle:function(){Y(),g(!t)}}),Object(h.jsxs)(l.F,{className:"px-sm-5 pt-50 pb-5",children:[Object(h.jsxs)("div",{className:"text-center mb-2",children:[Object(h.jsxs)("h2",{className:"mb-1",children:[N("edit"===y?"Edit":"Add Sub")," ",N(j.pageTitle)]}),Object(h.jsxs)("p",{className:"mb-1",children:[N("Child for ")," ",S?N(S.title):""]})]}),Object(h.jsx)(l.x,{onSubmit:Q("edit"===y?function(){if(function(e){if("edit"===y){var t=Object(c.a)({},Object(b.x)(A[j.storeName].selectedData));for(var n in delete t.id,t)n in e||delete t[n];return JSON.stringify(Object(b.x)(t))!==JSON.stringify(Object(b.x)(e))}return!0}(G))if(Object.values(data).every((function(e){return null!==e&&""!==e})))P("".concat(N("Updating")," ").concat(N(j.pageTitle)," ").concat(N("Detail")," Data")),M(Object(j.putData)(data)).then((function(e){"fulfilled"===e.meta.requestStatus?(g(!t),s.b.success("".concat(N("Successfully Updated")," ").concat(N(j.pageTitle)),{style:{padding:"16px",color:w.success.main,border:"1px solid ".concat(w.success.main)},iconTheme:{primary:w.success.main}}),x&&M(Object(j.getDataById)(D))):"rejected"===e.meta.requestStatus&&s.b.error(e.payload.message,{style:{padding:"16px",color:w.danger.main,border:"1px solid ".concat(w.danger.main)},iconTheme:{primary:w.danger.main}})}));else for(var e in data){var n;0===(null===(n=data[e])||void 0===n?void 0:n.length)&&$(e,{type:"manual"})}else Object(s.b)("".concat(N("You haven't changed anything")),{icon:"\ud83d\udc4f"})}:function(){if(Object.values(G).every((function(e){return null!==e&&""!==e})))P("".concat(N("Creating a New ".concat(j.pageTitle)))),M(Object(j.postData)(G)).then((function(e){"fulfilled"===e.meta.requestStatus?(g(!t),s.b.success("".concat(N("Successfully Created")," ").concat(N(j.pageTitle)),{style:{padding:"16px",color:w.success.main,border:"1px solid ".concat(w.success.main)},iconTheme:{primary:w.success.main}}),x&&M(Object(j.getDataById)(D))):"rejected"===e.meta.requestStatus&&s.b.error(e.payload.message,{style:{padding:"16px",color:w.danger.main,border:"1px solid ".concat(w.danger.main)},iconTheme:{primary:w.danger.main}})}));else{var e=Object.assign({},W);for(var n in G){var a;null!==G[n]&&0!==(null===(a=G[n])||void 0===a?void 0:a.length)||(e[n]=!0)}R(e)}}),children:Object(h.jsxs)(l.Q,{className:"gy-1 pt-75",children:[j.dynamicForm.map((function(e,t){var n,a,c=e.fieldName.replaceAll("id_","");return["dropdown","table"].includes(e.type)?"table"===e.type?Object(h.jsx)(l.s,{md:12,xs:12,children:Object(h.jsx)(o.Suspense,{fallback:Object(h.jsx)("div",{children:"Loading..."}),children:Object(h.jsxs)("div",{className:W[e.fieldName]?"dynamicForm_input dynamicForm_input_invalid":"dynamicForm_input",children:[I["".concat(c,"_comp")],(null===e||void 0===e?void 0:e.isM2MDefValFromGrid)&&G[e.fieldName]&&Object(h.jsxs)("div",{style:{textAlign:"right"},className:"text-primary",children:[null===(n=G[e.fieldName])||void 0===n?void 0:n.length," ",N(e.fieldLabel)," ",N("Selected")]})]})})},c):Object(h.jsx)(l.s,{md:12,xs:12,children:Object(h.jsx)(o.Suspense,{fallback:Object(h.jsx)("div",{children:"Loading..."}),children:Object(h.jsxs)("div",{className:W[e.fieldName]?"dynamicForm_input_invalid":"",children:[I["".concat(c,"_comp")],(null===e||void 0===e?void 0:e.isM2MDefValFromGrid)&&G[e.fieldName]&&Object(h.jsxs)("div",{style:{textAlign:"right"},className:"text-primary",children:[null===(a=G[e.fieldName])||void 0===a?void 0:a.length," ",N(e.fieldLabel)," ",N("Selected")]})]})})},c):Object(h.jsx)(l.s,{md:12,xs:12,children:Object(h.jsx)("div",{className:W[e.fieldName]?"dynamicForm_input_invalid":"",children:I["".concat(c,"_comp")]})},c)})),Object(h.jsxs)(l.s,{xs:12,className:"text-center mt-2 pt-50",children:[Object(h.jsx)(l.i,{type:"submit",className:"me-1",color:"primary",children:N("Submit")}),Object(h.jsx)(l.i,{type:"reset",color:"secondary",outline:!0,onClick:function(){Y(),v("add"),g(!1)},children:N("Cancel")})]})]})})]})]})})}},382:function(e,t,n){"use strict";n.r(t);var a=n(4),c=n(9),r=n(3),o=n.n(r),i=n(0),s=n(121),l=n(79),d=n(163),u=n(31),p=n(89),f=(n(96),n(14)),b=(n(591),n(594),n(580),n(314)),m=n(283),j=n(331),O=n(570),h=(n(216),n(83)),g=n(82),x=n(10),y=n(60),v=n.n(y),_=n(573),S=n.n(_),N=(n(218),n(577),n(660)),D=n(369),M=n(2),k=S()(v.a);t.default=function(e){var t=e.searchString,n=e.lookupMode,r=e.lookupMode_fieldName,y=e.lookupMode_defaultValue,v=e.lookupMode_onChange,_=e.lookupMode_isMulti,S=e.lookupMode_isM2MDefValFromGrid,w=Object(f.b)(),T=Object(f.c)((function(e){return e[p.storeName]})),F=Object(s.a)().t,C=Object(i.useState)(!1),P=Object(c.a)(C,2),A=P[0],L=P[1],E=Object(i.useContext)(l.a),I=Object(i.useState)(!1),q=Object(c.a)(I,2),V=(q[0],q[1]),B=Object(i.useState)("Please Wait"),G=Object(c.a)(B,2),J=(G[0],G[1]),z=Object(i.useState)(!1),W=Object(c.a)(z,2),R=W[0],U=W[1],$=Object(i.useState)(null),Q=Object(c.a)($,2),X=Q[0],Y=Q[1],H=Object(i.useState)(null),K=Object(c.a)(H,2),Z=K[0],ee=K[1],te=Object(i.useState)(0),ne=Object(c.a)(te,2),ae=ne[0],ce=ne[1],re=Object(i.useState)(null),oe=Object(c.a)(re,2),ie=(oe[0],oe[1]),se=Object(i.useContext)(h.a).colors,le=function(){var e=Object(a.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.fire({title:"".concat(F("Are you sure?")),text:"".concat(F("You won't be able to revert")," ").concat(F(p.pageTitle),"!"),icon:"warning",showCancelButton:!0,confirmButtonText:"".concat(F("Yes, Delete")," ").concat(F(p.pageTitle),"!"),cancelButtonText:"".concat(F("Cancel")),customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ms-1"},buttonsStyling:!1});case 2:e.sent.value&&(J("".concat(F("Deleting")," Data ").concat(F(p.pageTitle))),V(!0),w(Object(p.deleteData)(t)).then((function(e){"fulfilled"===e.meta.requestStatus?(V(!1),g.b.success("".concat(F("Successfully deleted")," ").concat(F(p.pageTitle)),{style:{padding:"16px",color:se.success.main,border:"1px solid ".concat(se.success.main)},iconTheme:{primary:se.success.main}})):"rejected"===e.meta.requestStatus&&(V(!1),g.b.error(e.payload.message,{style:{padding:"16px",color:se.danger.main,border:"1px solid ".concat(se.danger.main)},iconTheme:{primary:se.danger.main}}))})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;ee(e),Y("add"),L(!A),U(!R),Object(u.p)(ue)},ue=function(){L(!A),U(!R),Object(u.v)()},pe=function(e){w(Object(p.setDataList)(e))},fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];J("".concat(F("Updating")," ").concat(F(p.pageTitle)," Data")),t&&(e.notReload=!0);var n=e.title;w(Object(p.putData)(e,t)).then((function(e){"fulfilled"===e.meta.requestStatus?g.b.success("".concat(F("Successfully Updated")," ").concat(F(p.pageTitle)," ").concat(n),{style:{padding:"16px",color:se.success.main,border:"1px solid ".concat(se.success.main)},iconTheme:{primary:se.success.main}}):"rejected"===e.meta.requestStatus&&g.b.error(e.payload.message,{style:{padding:"16px",color:se.danger.main,border:"1px solid ".concat(se.danger.main)},iconTheme:{primary:se.danger.main}})}))},be=function(e,t){var n=JSON.parse(JSON.stringify(t));n.forEach((function t(n){e.includes(n.id)&&(n.checked=!0,n.hidden=!0),Array.isArray(n.children)&&n.children.forEach(t)})),w(Object(p.setDataList)(n))};return Object(i.useEffect)((function(){(0===T.data.length||!T.isLoading&&p.getAlwaysGrid)&&(J("".concat(F("Loading Data")," ").concat(F(p.pageTitle))),w(Object(p.getDataList)({})).then((function(e){n&&S&&be(y,e.payload.data)}))),T.data.length>0&&S&&n&&be(y,T.data)}),[w,T.data.length]),Object(M.jsxs)(i.Fragment,{children:[Object(M.jsx)(O.a,{blocking:T.isLoading,loader:Object(M.jsx)(D.b,{}),children:Object(M.jsx)(x.k,{className:"overflow-hidden",children:Object(M.jsx)("div",{className:"react-dataTable react-dataTable-selectable-rows",children:Object(M.jsx)("div",{style:{height:n?350:800,margin:n?10:20},children:Object(M.jsx)(N.a,{treeData:T.data,onChange:pe,onMoveNode:n?null:function(e){e.treeData;var t=e.node,n=e.nextParentNode,a=(e.prevPath,e.prevTreeIndex,e.nextPath,e.nextTreeIndex,{id:t.id,title:t.title,parent_id:n.is_app_header?null:n.id});fe(a,!0)},canDrag:!n&&function(e){return!e.node.is_app_header},searchMethod:function(e){var t=e.node,n=e.searchQuery;return n&&t.title.toLowerCase().indexOf(n.toLowerCase())>-1},searchQuery:t,searchFocusOffset:ae,searchFinishCallback:function(e){ie(e.length),ce(e.length>0?ae%e.length:0)},maxDepth:4,generateNodeProps:function(e){var t=e.node;e.path;return{style:{fontSize:t.is_app_header?"16px":"14px",fontWeight:t.is_app_header?"bold":"normal"},title:t.icon?Object(M.jsx)(M.Fragment,{children:Object(M.jsx)("div",{style:{paddingLeft:t.is_app_header?0:10,fontWeight:t.is_app_header?"bold":400},children:t.title})}):Object(M.jsx)("div",{style:{fontWeight:t.is_app_header?"bold":400},children:t.title}),buttons:[E.can("post",sessionStorage.getItem("current_page_perm"))&&!n?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(x.i.Ripple,{className:"btn-icon rounded-circle",color:"flat-primary",id:"btn-edit",onClick:function(e){de(t)},children:Object(M.jsx)(b.a,{size:16})}),Object(M.jsx)(x.X,{placement:"left",target:"btn-edit",children:F("Add Child")})]}):null,!E.can("update",sessionStorage.getItem("current_page_perm"))||n||t.is_app_header?null:Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(x.i.Ripple,{className:"btn-icon rounded-circle",color:"flat-info",id:"btn-edit",onClick:function(e){var n;e.preventDefault(),n=t,Y("edit"),p.detailFromGrid?(J("".concat(F("Loading")," ").concat(F("Detail")," ").concat(F("Data")," ").concat(F(p.pageTitle))),V(!0),w(Object(p.setDataById)(n)).then((function(){V(!1),U(!0)}))):(J("".concat(F("Loading")," ").concat(F("Detail")," ").concat(F("Data")," ").concat(F(p.pageTitle))),V(!0),w(Object(p.getDataById)(n.id)).then((function(e){"rejected"===e.meta.requestStatus?(V(!1),g.b.error(e.payload.message,{style:{padding:"16px",color:se.danger.main,border:"1px solid ".concat(se.danger.main)},iconTheme:{primary:se.danger.main}})):(V(!1),U(!0))})))},children:Object(M.jsx)(m.a,{size:16})}),Object(M.jsx)(x.X,{placement:"left",target:"btn-edit",children:F("Edit")})]}),!E.can("delete",sessionStorage.getItem("current_page_perm"))||n||t.is_app_header?null:Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(x.i.Ripple,{id:"btn-delete",className:"btn-icon rounded-circle",color:"flat-danger",onClick:function(e){e.preventDefault(),le(t.id)},children:Object(M.jsx)(j.a,{size:16})}),Object(M.jsx)(x.X,{placement:"left",target:"btn-delete",children:F("Delete")})]}),n&&!t.is_app_header?Object(M.jsx)("div",{className:t.hidden?"form-check form-check-secondary":"form-check form-check-primary",children:Object(M.jsx)(x.A,{disabled:t.hidden,defaultChecked:t.checked,onChange:function(e){return function(e,t,n,a){var c=JSON.parse(JSON.stringify(T.data));return c.forEach((function n(a){a.id===t&&(a.checked=e.target.checked),Array.isArray(a.children)&&a.children.forEach(n)})),pe(c),v(t,n,a)}(e,t.id,r,_)},type:"checkbox",id:"checkbox-".concat(t.id)})}):null]}}})})})})}),R&&Object(M.jsx)(d.default,{formState:X,show:R,setShow:de,detailPage:!1,setFormState:Y,currentData:Z})]})}},577:function(e,t,n){},580:function(e,t,n){(function(t){var n=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,r=/^0o[0-7]+$/i,o=parseInt,i="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,l=i||s||Function("return this")(),d=Object.prototype.toString,u=Math.max,p=Math.min,f=function(){return l.Date.now()};function b(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(b(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=b(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var i=c.test(e);return i||r.test(e)?o(e.slice(2),i?2:8):a.test(e)?NaN:+e}e.exports=function(e,t,n){var a,c,r,o,i,s,l=0,d=!1,j=!1,O=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=a,r=c;return a=c=void 0,l=t,o=e.apply(r,n)}function g(e){return l=e,i=setTimeout(y,t),d?h(e):o}function x(e){var n=e-s;return void 0===s||n>=t||n<0||j&&e-l>=r}function y(){var e=f();if(x(e))return v(e);i=setTimeout(y,function(e){var n=t-(e-s);return j?p(n,r-(e-l)):n}(e))}function v(e){return i=void 0,O&&a?h(e):(a=c=void 0,o)}function _(){var e=f(),n=x(e);if(a=arguments,c=this,s=e,n){if(void 0===i)return g(s);if(j)return i=setTimeout(y,t),h(s)}return void 0===i&&(i=setTimeout(y,t)),o}return t=m(t)||0,b(n)&&(d=!!n.leading,r=(j="maxWait"in n)?u(m(n.maxWait)||0,t):r,O="trailing"in n?!!n.trailing:O),_.cancel=function(){void 0!==i&&clearTimeout(i),l=0,a=s=c=i=void 0},_.flush=function(){return void 0===i?o:v(f())},_}}).call(this,n(112))},611:function(e,t,n){var a=n(410);e.exports=function(e){if(Array.isArray(e))return a(e)},e.exports.__esModule=!0,e.exports.default=e.exports},612:function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},613:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},641:function(e,t){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},e.exports.__esModule=!0,e.exports.default=e.exports},644:function(e,t,n){var a=n(611),c=n(612),r=n(409),o=n(613);e.exports=function(e){return a(e)||c(e)||r(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},672:function(e,t,n){var a=n(128);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},673:function(e,t,n){var a=n(701);e.exports=function(e,t){if(null==e)return{};var n,c,r=a(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(c=0;c<o.length;c++)n=o[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r},e.exports.__esModule=!0,e.exports.default=e.exports},701:function(e,t){e.exports=function(e,t){if(null==e)return{};var n,a,c={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(c[n]=e[n]);return c},e.exports.__esModule=!0,e.exports.default=e.exports}}]);
//# sourceMappingURL=129.03a25127.chunk.js.map