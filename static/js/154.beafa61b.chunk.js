(this["webpackJsonpsaba-react-framework"]=this["webpackJsonpsaba-react-framework"]||[]).push([[154],{764:function(e,t,a){"use strict";a.r(t);var i=a(4),n=a(6),l=a(34),c=a(80),s=a(140),r=a(48),d=a(16),o=(a(138),a(111),a(2)),j=a(159),m=a(520),b=a(548),u=a(79),v=a(60),h=a.n(v),O=a(15),g=a(5),p=a(208),x=a.n(p),f=a(36),y=a(51),N=a(25),D=a(105),T=a(0),S={pagination:{clickable:!0},autoplay:{delay:1e4,disableOnInteraction:!1}};t.default=function(){var e=Object(u.a)().t,t=Object(O.c)((function(e){return e.dynamicStore})),a=(Object(O.c)((function(e){return e.dynamic_temp_state})),Object(O.b)()),v=Object(o.useContext)(f.a).colors,p=Object(o.useState)(!1),w=Object(n.a)(p,2),_=(w[0],w[1],Object(o.useState)(!1)),k=Object(n.a)(_,2),I=k[0],A=k[1],L=Object(o.useState)(!1),R=Object(n.a)(L,2),E=R[0],z=(R[1],Object(o.useState)("Please Wait")),U=Object(n.a)(z,2),C=U[0],W=U[1],q="TrainingEmployee_assignToMe",J="TrainingEmployee/assignment";Object(o.useEffect)((function(){var e,i,n;t.pageData[q]&&(0!==(null===(e=t.pageData[q])||void 0===e||null===(i=e.data)||void 0===i?void 0:i.length)||null!==(n=t.pageData[q])&&void 0!==n&&n.isLoading)||a(Object(d.g)({storeName:q,endpointName:J,baseUrl:"hr",type:"to_me",Id_AttendingState:0}))}),[]);var M,H,P,Y,B,F,G,K,Q=function(e){var t,a,i,n,l="";if(null!==e&&void 0!==e&&null!==(t=e.payload)&&void 0!==t&&null!==(a=t.error)&&void 0!==a&&a.errors){var c,s,r=null===e||void 0===e||null===(c=e.payload)||void 0===c||null===(s=c.error)||void 0===s?void 0:s.errors;for(var d in null===e||void 0===e||null===(o=e.payload)||void 0===o||null===(j=o.error)||void 0===j?void 0:j.errors){var o,j;l="".concat(l," - ").concat(r[d],"\n")}}return N.b.error("".concat(null===(i=e.payload)||void 0===i||null===(n=i.error)||void 0===n?void 0:n.message," \n \n ").concat(l),{style:{padding:"16px",color:v.danger.main,border:"1px solid ".concat(v.danger.main)},iconTheme:{primary:v.danger.main}})},V={lastDay:"[Yesterday]",sameDay:"[Today]",nextDay:"[Tomorrow]",lastWeek:"[last] dddd",nextWeek:"dddd",sameElse:"L"},X=function(e){return e.toUpperCase()};return null!==(M=t.pageData[q])&&void 0!==M&&M.isLoading?Object(T.jsx)(g.t,{lg:"12",xs:"12",children:Object(T.jsxs)(g.l,{style:{minHeight:"200px"},children:[Object(T.jsx)(g.o,{children:Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)(x.a,{className:"user-timeline-title-icon me-1"}),Object(T.jsx)(g.s,{tag:"h4",children:e("Training Invitation")})]})}),Object(T.jsx)(c.a,{blocking:!0,loader:Object(T.jsx)(r.b,{}),children:Object(T.jsx)(g.m,{})})]})}):(null===(H=t.pageData[q])||void 0===H||null===(P=H.data)||void 0===P?void 0:P.length)>0?Object(T.jsx)(g.t,{lg:"12",xs:"12",children:Object(T.jsxs)(g.l,{children:[Object(T.jsx)(g.o,{children:Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)(x.a,{className:"user-timeline-title-icon me-1"}),Object(T.jsx)(g.s,{tag:"h4",children:e("Training Invitation")}),(null===(Y=t.pageData[q])||void 0===Y||null===(B=Y.data)||void 0===B?void 0:B.length)>1&&Object(T.jsx)(g.f,{className:"ms-1",tag:"div",color:"info",pill:!0,children:null===(F=t.pageData[q])||void 0===F||null===(G=F.data)||void 0===G?void 0:G.length})]})}),Object(T.jsx)(g.m,{className:"px-0 pb-0",children:Object(T.jsx)(D.a,Object(i.a)(Object(i.a)({},S),{},{children:null===(K=t.pageData[q])||void 0===K?void 0:K.data.map((function(t){var i,n,c,r,o,u,O,p,x,f,S;return Object(T.jsx)(D.b,{children:Object(T.jsxs)(g.l,{className:"card-developer-meetup  cursor-pointer",children:[Object(T.jsx)("div",{className:"meetup-img-wrapper rounded-top text-center",children:Object(T.jsx)("img",{src:null!==t&&void 0!==t&&null!==(i=t.TrainingData)&&void 0!==i&&i.Image?t.TrainingData.Image:s.a,height:"170"})}),Object(T.jsxs)(g.m,{children:[Object(T.jsxs)("div",{className:"meetup-header d-flex align-items-center",children:[Object(T.jsxs)("div",{className:"meetup-day",children:[Object(T.jsx)("h6",{className:"mb-0",children:Object(T.jsx)(h.a,{filter:X,format:"ddd",children:null===t||void 0===t||null===(n=t.TrainingData)||void 0===n?void 0:n.StartDate})}),Object(T.jsx)("h3",{className:"mb-0",children:Object(T.jsx)(h.a,{format:"DD",children:null===t||void 0===t||null===(c=t.TrainingData)||void 0===c?void 0:c.StartDate})})]}),Object(T.jsxs)("div",{className:"my-auto text-truncate",children:[Object(T.jsx)(g.s,{tag:"h4",className:"mb-25",children:null===t||void 0===t||null===(r=t.TrainingData)||void 0===r?void 0:r.Name}),Object(T.jsx)(g.r,{className:"mb-0",children:null===t||void 0===t||null===(o=t.TrainingData)||void 0===o?void 0:o.Description})]})]}),Object(T.jsxs)("div",{className:"d-flex",children:[Object(T.jsx)(l.a,{color:"light-primary",className:"rounded me-1",icon:Object(T.jsx)(j.a,{size:18})}),Object(T.jsxs)("div",{children:[Object(T.jsx)("h6",{className:"mb-0",children:Object(T.jsx)(h.a,{calendar:V,children:null===t||void 0===t||null===(u=t.TrainingData)||void 0===u?void 0:u.StartDate})}),Object(T.jsx)("small",{children:Object(T.jsx)(h.a,{format:"[Start at] LT",children:null===t||void 0===t||null===(O=t.TrainingData)||void 0===O?void 0:O.StartDate})})]})]}),null!==t&&void 0!==t&&null!==(p=t.TrainingData)&&void 0!==p&&p.IsOnline?Object(T.jsxs)("div",{className:"d-flex mt-2",children:[Object(T.jsx)(l.a,{color:"light-primary",className:"rounded me-1",icon:Object(T.jsx)(b.a,{size:18})}),Object(T.jsxs)("div",{children:[Object(T.jsx)("h6",{className:"mb-0",children:e("Online Training")}),Object(T.jsx)("small",{children:null!==t&&void 0!==t&&null!==(f=t.TrainingData)&&void 0!==f&&f.LinkRef?null===t||void 0===t||null===(S=t.TrainingData)||void 0===S?void 0:S.LinkRef:"The link will be sent before the event starts"})]})]}):Object(T.jsxs)("div",{className:"d-flex mt-2",children:[Object(T.jsx)(l.a,{color:"light-primary",className:"rounded me-1",icon:Object(T.jsx)(m.a,{size:18})}),Object(T.jsx)("div",{children:Object(T.jsx)("small",{children:null===t||void 0===t||null===(x=t.TrainingData)||void 0===x?void 0:x.Address})})]}),3!==(null===t||void 0===t?void 0:t.Id_AttendingState)&&Object(T.jsxs)("div",{className:"d-flex mt-2 align-items-center justify-content-end",children:[!I&&(E?Object(T.jsxs)(g.i.Ripple,{color:"flat-secondary me-1",children:[Object(T.jsx)(g.S,{color:"white",size:"sm",type:"grow"}),Object(T.jsx)("span",{className:"ms-50",children:C})]}):Object(T.jsx)(g.i.Ripple,{color:"flat-secondary me-1",children:e("Decline")})),I?Object(T.jsxs)(g.i.Ripple,{color:"gradient-primary",children:[Object(T.jsx)(g.S,{color:"white",size:"sm",type:"grow"}),Object(T.jsx)("span",{className:"ms-50",children:C})]}):Object(T.jsx)(g.i.Ripple,{onClick:function(i){var n;i.preventDefault(),n={id:null===t||void 0===t?void 0:t.Id_Training},A(!0),W("Accepting Invitation"),n.storeName=q,n.endpointName=J,n.baseUrl="hr",n.callback_page=window.location.href,a(Object(d.n)(n)).then((function(t){"fulfilled"===t.meta.requestStatus?a(Object(d.g)({storeName:q,endpointName:J,baseUrl:"hr",type:"to_me",Id_AttendingState:0})).then((function(t){N.b.success("".concat(e("Successfully Accept Training Invitation"),"}"),{style:{padding:"16px",color:v.success.main,border:"1px solid ".concat(v.success.main)},iconTheme:{primary:v.success.main}})})).then((function(e){A(!1)})).then((function(e){a(Object(d.g)({storeName:"TrainingEmployee_task",endpointName:"TrainingEmployee/assignment",baseUrl:"hr",type:"to_me",Id_AttendingState:1})),setTimeout((function(){a(Object(y.getDataList)({}))}),8e3)})):"rejected"===t.meta.requestStatus&&Q(t)})).catch((function(e){A(!1),Q(e)}))},color:"gradient-primary",children:e("Accept")})]}),3===(null===t||void 0===t?void 0:t.Id_AttendingState)&&Object(T.jsx)("div",{className:"d-flex mt-2 align-items-center justify-content-center",children:Object(T.jsx)(g.i.Ripple,{color:"flat-secondary me-1",children:e("Awaiting Manager Approval")})})]})]})},"swiper_".concat(t.id))}))}))})]})}):null}}}]);
//# sourceMappingURL=154.beafa61b.chunk.js.map