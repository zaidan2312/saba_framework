{"version":3,"sources":["views/apps/endpoint/modal/index.js","views/apps/endpoint/index.js","views/apps/endpoint/Table.js","views/apps/endpoint/Tree.js","views/apps/endpoint/DropDown.js","@core/components/ui-loader/index.js","../../src/index.ts","../../src/mounts.js","../../src/index.js","../node_modules/lodash.debounce/index.js","../node_modules/react-dnd/dist/esm/decorators/utils.js","../node_modules/react-flatpickr/build/index.js","../node_modules/flatpickr/dist/l10n/id.js","shared/GlobaActionsTable.js","@core/components/breadcrumbs/index.js","../node_modules/react-dnd/dist/esm/core/DragPreviewImage.js","@core/components/widgets/stats/StatsHorizontal.js","views/apps lazy /^/.*$/ groupOptions: {} namespace object","../node_modules/react-dnd/dist/esm/core/DndContext.js","../node_modules/flatpickr/dist/flatpickr.js","../node_modules/react-dnd/dist/esm/core/DndProvider.js","../../../src/AsapQueue.ts","../../../src/TaskFactory.ts","../node_modules/react-dnd/dist/esm/internals/wrapConnectorHooks.js","../node_modules/react-dnd/dist/esm/internals/isRef.js","../node_modules/react-dnd/dist/esm/decorators/DragLayer.js","../node_modules/react-dnd/dist/esm/hooks/useIsomorphicLayoutEffect.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/DragSourceImpl.js","../node_modules/react-dnd/dist/esm/hooks/useDragDropManager.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useRegisteredDragSource.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragSource.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragType.js","../node_modules/react-dnd/dist/esm/hooks/useOptionalFactory.js","../node_modules/react-dnd/dist/esm/hooks/useCollector.js","../node_modules/react-dnd/dist/esm/hooks/useMonitorOutput.js","../node_modules/react-dnd/dist/esm/hooks/useCollectedProps.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/connectors.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDrag.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragSourceMonitor.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragSourceConnector.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/DropTargetImpl.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useRegisteredDropTarget.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useDropTarget.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useAccept.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/connectors.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useDrop.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useDropTargetMonitor.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useDropTargetConnector.js","../node_modules/react-dnd/dist/esm/hooks/useDragLayer.js","../node_modules/react-dnd/dist/esm/decorators/createSourceFactory.js","../node_modules/react-dnd/dist/esm/decorators/DragSource.js","../node_modules/react-dnd/dist/esm/decorators/createTargetFactory.js","../node_modules/react-dnd/dist/esm/decorators/DropTarget.js","../node_modules/react-dnd/dist/esm/decorators/disposables.js","../node_modules/react-dnd/dist/esm/decorators/decorateHandler.js","../node_modules/react-dnd-html5-backend/dist/esm/utils/js_utils.js","../node_modules/react-dnd-html5-backend/dist/esm/EnterLeaveCounter.js","../node_modules/react-dnd-html5-backend/dist/esm/BrowserDetector.js","../node_modules/react-dnd-html5-backend/dist/esm/MonotonicInterpolant.js","../node_modules/react-dnd-html5-backend/dist/esm/OffsetUtils.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeTypes.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/nativeTypesConfig.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/getDataFromDataTransfer.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/NativeDragSource.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/index.js","../node_modules/react-dnd-html5-backend/dist/esm/OptionsReader.js","../node_modules/react-dnd-html5-backend/dist/esm/HTML5BackendImpl.js","../node_modules/react-dnd-html5-backend/dist/esm/index.js","../node_modules/react-virtuoso/dist/index.mjs","../node_modules/@nosferatu500/react-sortable-tree/esm/index.js","../node_modules/@nosferatu500/react-dnd-scrollzone/index.js","../node_modules/lodash.throttle/index.js","../../../src/index.ts","../../../src/asap.ts","../../../src/makeRequestCall.ts","../../../src/RawTask.ts","../node_modules/fast-deep-equal/index.js","../node_modules/lodash.isequal/index.js","../node_modules/react-dnd/dist/esm/internals/registration.js","../node_modules/react-dnd/dist/esm/internals/SourceConnector.js","../node_modules/react-dnd/dist/esm/internals/DragSourceMonitorImpl.js","../node_modules/react-dnd/dist/esm/internals/DropTargetMonitorImpl.js","../node_modules/react-dnd/dist/esm/internals/TargetConnector.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/types.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/local/setClientOffset.js","../node_modules/dnd-core/dist/esm/utils/js_utils.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/beginDrag.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/publishDragSource.js","../node_modules/dnd-core/dist/esm/utils/matchesType.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/hover.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/drop.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/endDrag.js","../node_modules/dnd-core/dist/esm/classes/DragDropManagerImpl.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/index.js","../node_modules/dnd-core/node_modules/redux/es/redux.js","../node_modules/dnd-core/dist/esm/utils/equality.js","../node_modules/dnd-core/dist/esm/reducers/dragOffset.js","../node_modules/dnd-core/dist/esm/actions/registry.js","../node_modules/dnd-core/dist/esm/reducers/dragOperation.js","../node_modules/dnd-core/dist/esm/reducers/refCount.js","../node_modules/dnd-core/dist/esm/utils/dirtiness.js","../node_modules/dnd-core/dist/esm/reducers/dirtyHandlerIds.js","../node_modules/dnd-core/dist/esm/reducers/stateId.js","../node_modules/dnd-core/dist/esm/reducers/index.js","../node_modules/dnd-core/dist/esm/utils/coords.js","../node_modules/dnd-core/dist/esm/classes/DragDropMonitorImpl.js","../node_modules/dnd-core/dist/esm/interfaces.js","../node_modules/dnd-core/dist/esm/utils/getNextUniqueId.js","../node_modules/dnd-core/dist/esm/contracts.js","../node_modules/dnd-core/dist/esm/classes/HandlerRegistryImpl.js","../node_modules/dnd-core/dist/esm/createDragDropManager.js"],"names":["ModalAddEdit","show","setShow","detailPage","formState","setFormState","currentData","t","useTranslation","id","useParams","dispatch","useDispatch","store","useSelector","state","storeName","colors","useContext","ThemeColors","useState","loadingText","setLoadingText","allStore","dynamicComponents","setDynamicComponents","formDatas","formDatasError","setFormDatasError","useForm","setError","control","handleSubmit","Loader","errors","className","handleReset","resetSelectedData","handleChangeInputs","value","fieldName","isMulti","index","indexOf","splice","push","useEffect","componentsImport","dynamicFormRelation","dynamicForm","i","fieldLabel","path_name","replaceAll","MyComponent","lazy","for","lookupMode","lookupMode_fieldName","lookupMode_dropdown","lookupMode_isMulti","isMultiSelection","lookupMode_onChange","lookupMode_defaultValue","isM2MDefValFromGrid","data","map","x","selectedData","lookupMode_isM2MDefValFromGrid","defaultValue","onChange","e","target","length","isOpen","toggle","blocking","isLoadingAddEdit","isLoadingDetail","loader","pageTitle","title","onSubmit","storeData","sortedObject","key","JSON","stringify","countChanges","Object","values","every","field","putData","then","res","meta","requestStatus","toast","success","style","padding","color","main","border","iconTheme","primary","getDataById","error","payload","message","danger","type","icon","postData","errorFields","assign","item","includes","md","xs","fallback","textAlign","outline","onClick","List","searchTerm","getApiSummaryData","dataSummary","isLoadingSummary","getAlwaysGrid","getSummaryData","statTitle","baseClassName","fontSize","renderStats","sx","bgcolor","animation","height","width","count_format","count","isTreeLayout","searchString","MySwal","withReactContent","Swal","BootstrapCheckbox","forwardRef","props","ref","CustomHeader","toggleSidebar","handlePerPage","rowsPerPage","handleFilter","selectedRow","handleDeleteSelected","handleFiltersChange","filtersCustomAdd","ability","AbilityContext","dynamicFilterComponents","setDynamicFilterComponents","dynamicFilterDatas","invoices","getUserData","dynamicColumnsFilter","xl","htmlFor","can","sessionStorage","getItem","storeApp","apps_app","sort_dir","setSortDir","setSearchTerm","currentPage","setCurrentPage","sort","setSort","setRowsPerPage","selectedRows","setSelectedRows","filtersCustom","toggleCleared","setToggleCleared","sidebarOpen","setSidebarOpen","loading","setLoading","showModal","setShowModal","handleEdit","rowData","detailFromGrid","setDataById","isLoading","getDataListApp","handleCloseModal","revivalBack","neutralizeBack","handleDelete","a","fire","text","showCancelButton","confirmButtonText","cancelButtonText","customClass","confirmButton","cancelButton","buttonsStyling","deleteData","countSelectedCopy","deleteSelectedRowData","debounceFn","useCallback","debounce","inputValue","getDataList","search","page","handleRowSelected","s","columns","dynamicColumns","column","name","columnName","sortField","center","sortable","minWidth","selector","row","cell","dataFormat","columnTypeFormat","split","columnType","columnFormat","columnFormated","Moment","format","renderCell","app_logo","img","imgHeight","imgWidth","initials","content","app_name","disabledAction","tableColumns","useMemo","dark","light","removeDefaultValue","dataTree","parse","noHeader","subHeader","sortServer","responsive","pagination","paginationServer","paginationTotalRows","total","paginationComponent","Number","Math","ceil","previousLabel","nextLabel","pageCount","activeClassName","forcePage","onPageChange","selected","handlePagination","pageClassName","nextLinkClassName","nextClassName","previousClassName","previousLinkClassName","pageLinkClassName","containerClassName","selectableRows","onSelectedRowsChange","selectableRowsHighlight","clearSelectedRows","selectableRowsComponent","noDataComponent","highlightOnHover","pointerOnHover","onSort","sortDirection","sortIcon","filters","isFiltered","keys","some","k","Array","fill","dataToRender","subHeaderComponent","event","parseInt","currentTarget","par_name","currentDataAdd","setCurrentDataAdd","searchFocusIndex","setSearchFocusIndex","setSearchFoundCount","handleChange","tree","setDataList","updateDataToApi","notReload","nameMsg","mainArray","forEach","iter","isArray","children","margin","treeData","onMoveNode","node","nextParentNode","prevPath","prevTreeIndex","nextPath","nextTreeIndex","parent_id","is_app_header","canDrag","args","searchMethod","searchQuery","toLowerCase","searchFocusOffset","searchFinishCallback","matches","maxDepth","generateNodeProps","path","fontWeight","paddingLeft","buttons","Ripple","size","placement","preventDefault","hidden","disabled","defaultChecked","checked","handleChangeLookupMode","theme","selectThemeColors","dataDropdown","filter","el","options","classnames","classNamePrefix","UILoader","tag","overlayColor","Tag","backgroundColor","defaultProps","invariant","condition","argIndex","mounts","getter","swal","noop","extractReactParams","reactParams","otherParams","mountKeys","mount","React","render","domElement","ReactDOM","unrender","_main","this","__mountedDomElements","__params","superDidOpen","superDidDestroy","didOpen","popup","didDestroy","update","argsToParams","params","ParentSwal","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","freeGlobal","global","freeSelf","self","root","Function","objectToString","prototype","toString","nativeMax","max","nativeMin","min","now","Date","isObject","toNumber","isObjectLike","call","isSymbol","other","valueOf","replace","isBinary","test","slice","module","exports","func","wait","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","thisArg","undefined","apply","leadingEdge","setTimeout","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","remainingWait","debounced","isInvoking","arguments","cancel","clearTimeout","flush","_typeof","obj","Symbol","iterator","constructor","getDecoratedComponent","instanceRef","currentRef","current","decoratedRef","isRefable","C","Component","_item$$$typeof","$$typeof","isRefForwardingComponent","checkDecoratorArguments","functionName","signature","isFunction","input","isPlainObject","getPrototypeOf","proto","isValidType","allowArray","defineProperty","_react","__esModule","newObj","hasOwnProperty","desc","getOwnPropertyDescriptor","get","set","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_flatpickr","_extends","source","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_objectSpread","ownKeys","concat","sym","enumerable","_defineProperty","_classCallCheck","instance","Constructor","_defineProperties","descriptor","configurable","writable","_possibleConstructorReturn","ReferenceError","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","__proto__","_setPrototypeOf","p","hooks","hookPropType","oneOfType","arrayOf","callbacks","callbackPropTypes","DateTimePicker","_Component","protoProps","staticProps","subClass","superClass","create","_inherits","prevProps","_this","flatpickr","setDate","prevOptions","hook","optionsKeys","getOwnPropertyNames","_this2","onClose","blur","onCreate","onDestroy","destroy","_this3","_this$props","callback","wrap","createElement","string","object","onOpen","onMonthChange","onYearChange","onReady","onValueUpdate","onDayCreate","array","number","_default","fp","window","l10ns","Indonesian","weekdays","shorthand","longhand","months","firstDayOfWeek","ordinal","time_24hr","rangeSeparator","default","factory","GlobalActionsTable","pageAttr","onlyText","withText","rowClickEvent","navigate","useNavigate","storeAll","dynamicStore","dynamic_temp_state","dynamicColumnsExtraActionsButton","crudOpt","extraBtnPrefixId","getDepthValue","reverse","pop","scrollToDiv","divId","element","document","getElementById","scrollIntoView","behavior","block","extraBtnShowCondition","showIf","operator","currentRowValue","evalStr","userData","isManager","email","username","showIf_or","eval","enabledBtnViewCondition","paramss","enabledViewBtnCondition","enabledViewBtnCondition_or","pageType","hasColorClass","staticUrl","clickLinkUrl","static","fieldUrl","widgetId","clickLinkSlideToWidget","widget_id","paramsFromFields","it","idx","paramKey","paramName","paramValue","fieldUrlFix","startsWith","open","paramsArr","parseStrAndField","appendToEndpointPath","isQueryStr","newStaticUrl","join","staticUrlFix","clickLinkFillGlobalFilter","targetId","store_to_reset","getAttribute","pageAttributes","dynamicCard","child","chart_id","cardId","pageId","linkToGlobalFilter","dataFrom","linkToGlobalFilterName","childStoreName","baseUrl","pageData","resetData","endpointName","renderIcon","isViewOnRow","tooltip","onDashboard","saveAsNewBtn","gridTheme","ganttParentIdField","BreadCrumbs","mb","subtitle","to","Wrapper","link","Link","Fragment","isLastItem","active","DragPreviewImage","memo","_ref","connect","src","Image","connected","onload","StatsHorizontal","cardColor","stats","countTextColor","countTextStyle","titleStyle","statsMargin","solidColor","cardStyle","titleOnTop","cardColorFix","inverse","shallowEqual","objA","objB","compare","compareContext","compareResult","keysA","keysB","bHasOwnProperty","valueA","valueB","webpackAsyncContext","req","__webpack_require__","Promise","resolve","Error","code","ids","all","DndContext","createContext","dragDropManager","__assign","n","HOOKS","defaults","_disable","_enable","allowInput","altFormat","altInput","altInputClass","animate","navigator","userAgent","ariaDateFormat","clickOpens","closeOnSelect","conjunction","dateFormat","defaultHour","defaultMinute","defaultSeconds","disable","disableMobile","enable","enableSeconds","enableTime","errorHandler","err","console","warn","getWeek","givenDate","date","getTime","setHours","getDate","getDay","week1","getFullYear","round","hourIncrement","ignoredFocusElements","inline","locale","minuteIncrement","mode","monthSelectorType","nextArrow","noCalendar","onKeyDown","onParseConfig","onPreCalendarPosition","plugins","position","positionElement","prevArrow","shorthandCurrentMonth","showMonths","weekNumbers","english","daysInMonth","nth","weekAbbreviation","scrollTitle","toggleTitle","amPM","yearAriaLabel","hourAriaLabel","minuteAriaLabel","pad","int","bool","immediate","timeout","context","arrayify","toggleClass","elem","classList","add","remove","textContent","clearNode","firstChild","removeChild","findParent","parentNode","createNumberInput","inputClassName","opts","wrapper","numInput","arrowUp","arrowDown","pattern","setAttribute","appendChild","getEventTarget","composedPath","doNothing","monthToStr","monthNumber","revFormat","D","F","dateObj","monthName","setMonth","G","hour","parseFloat","H","J","day","K","getHours","RegExp","M","shortMonth","S","seconds","setSeconds","U","_","unixSeconds","W","weekNum","weekNumber","Y","year","setFullYear","Z","ISODate","d","h","minutes","setMinutes","j","l","m","month","u","unixMillSeconds","w","y","tokenRegex","formats","toISOString","getMonth","getSeconds","getMinutes","String","substring","createDateFormatter","_a","_b","config","_c","l10n","frmt","overrideLocale","formatDate","c","arr","createDateParser","givenFormat","timeless","customLocale","parsedDate","dateOrig","toFixed","datestr","trim","parseDate","matched","ops","matchIndex","regexStr","token_1","isBackSlash","escaped","match","exec","fn","val","isNaN","compareDates","date1","date2","isBetween","ts","ts1","ts2","duration","DAY","_i","_loop_1","args_1","DEBOUNCED_CHANGE_MS","FlatpickrInstance","instanceConfig","defaultConfig","setupHelperFunctions","utils","getDaysInMonth","yr","currentMonth","currentYear","init","parseConfig","setupLocale","setupInputs","setupDates","isMobile","build","bindEvents","selectedDates","setHoursFromDate","latestSelectedDateObj","minDate","updateValue","setCalendarWidth","showTimeInput","isSafari","positionCalendar","triggerEvent","bindToInstance","bind","requestAnimationFrame","calendarContainer","visibility","display","daysContainer","daysWidth","days","offsetWidth","weekWrapper","removeProperty","updateTime","setDefaultTime","timeWrapper","prevValue","_input","setHoursFromInputs","_debouncedChange","ampm2military","military2ampm","hourElement","minuteElement","hours","secondElement","limitMinHours","minTime","minDateHasTime","maxTime","maxDate","maxDateHasTime","setDefaultHours","minHr","minMinutes","maxHr","maxMinutes","onYearInput","delta","changeYear","handler","ev","addEventListener","_handlers","evt","which","triggerChange","querySelectorAll","setupMobile","debouncedResize","onResize","onMouseOver","body","ontouchstart","documentClick","capture","monthNav","onMonthNavClick","selectDate","timeContainer","selText","select","timeIncrement","jumpToDate","jumpDate","jumpTo","oldYear","oldMonth","buildMonthSwitch","redraw","incrementNumInput","contains","inputElem","createEvent","dispatchEvent","fragment","createDocumentFragment","tabIndex","buildMonthNav","innerContainer","buildWeeks","rContainer","buildWeekdays","buildDays","buildTime","customAppend","appendTo","nodeType","insertBefore","nextSibling","createDay","dayNumber","dateIsEnabled","isEnabled","dayElement","$i","todayDateElem","isDateSelected","selectedDateElem","isDateInRange","insertAdjacentHTML","focusOnDayElem","targetNode","focus","getFirstAvailableDay","startMonth","endMonth","startIndex","endIndex","getNextAvailableDay","givenMonth","loopDelta","numMonthDays","abs","changeMonth","focusOnDay","offset","dayFocused","isInView","activeElement","startElem","buildMonthDays","firstOfMonth","prevMonthDays","isMultiMonth","prevMonthDayClass","nextMonthDayClass","dayIndex","dayNum","dayContainer","frag","shouldBuildMonth","monthsDropdownContainer","innerHTML","buildMonth","monthElement","container","monthNavFragment","selectedMonth","yearInput","tabindex","yearElement","getElementsByTagName","buildMonths","prevMonthNav","yearElements","monthElements","nextMonthNav","__hidePrevMonthArrow","__hideNextMonthArrow","currentYearElement","updateNavigationCurrentMonth","separator","hourInput","minuteInput","secondInput","weekdayContainer","updateWeekdays","isOffset","_hidePrevMonthArrow","_hideNextMonthArrow","clear","triggerChangeEvent","toInitial","mobileInput","_initialDate","close","removeEventListener","lastChild","_type","removeAttribute","isCalendarElem","eventTarget_1","isCalendarElement","isInput","lostFocus","relatedTarget","isIgnored","newYear","newYearNum","isNewYear","dateToCheck","parsed","from","allowKeydown","allowInlineKeydown","keyCode","isTimeObj","focusAndClose","delta_1","ctrlKey","stopPropagation","elems","pluginElements","shiftKey","charAt","hoverDate","firstElementChild","initialDate","rangeStartDate","rangeEndDate","containsDisabled","minRange","maxRange","dayElem","timestamp","outOfRange","_positionElement","click","wasOpen","minMaxDateSetter","inverseDateObj","boolOpts","userConfig","dataset","dates","parseDateRules","timeMode","defaultDateFormat","defaultAltFormat","_minDate","_maxDate","minMaxTimeSetter","_minTime","_maxTime","pluginConf","customPositionElement","calendarHeight","reduce","acc","offsetHeight","calendarWidth","configPos","configPosVertical","configPosHorizontal","inputBounds","getBoundingClientRect","distanceFromBottom","innerHeight","bottom","showOnTop","top","pageYOffset","left","pageXOffset","right","rightMost","centerMost","doc","styleSheets","bodyWidth","centerLeft","centerBefore","centerAfter","centerIndex","cssRules","centerStyle","insertRule","msMaxTouchPoints","isSelectable","selectedDate","shouldChangeMonth","selectedIndex","b","single","range","loadedPlugins","_bind","_setHoursFromDate","_positionCalendar","_createElement","CALLBACKS","option","setSelectedDate","inputDate","rule","preloadedDate","defaultDate","nodeName","placeholder","_showTimeInput","querySelector","required","inputType","step","mobileFormatStr","initEvent","getDateStr","dObj","isPrevMonth","isNextMonth","isKeyDown","curValue","newValue","isHourElem","isMinuteElem","nodeList","nodes","HTMLElement","instances","HTMLCollection","NodeList","Node","en","localize","setDefaults","jQuery","fp_incr","_excluded","_slicedToArray","_arrayWithHoles","_s","_e","_arr","_n","_d","next","done","_iterableToArrayLimit","minLen","_arrayLikeToArray","_unsupportedIterableToArray","_nonIterableRest","len","arr2","refCount","INSTANCE_SYM","DndProvider","_getDndContextValue","manager","backend","getGlobalContext","debugMode","ctx","createDragDropManager","createSingletonDndContext","isGlobalInstance","getDndContextValue","_getDndContextValue2","_jsx","Provider","AsapQueue","queue","pendingErrors","flushing","capacity","q","currentIndex","scan","newLength","registerPendingError","requestErrorThrow","requestFlush","makeRequestCall","makeRequestCallFromTimer","shift","enqueueTask","task","TaskFactory","onError","freeTasks","tasks","RawTask","throwIfCompositeComponentElement","displayName","wrapConnectorHooks","wrappedHooks","endsWith","wrappedHook","elementOrNode","isValidElement","cloneWithRef","wrapHookToRecognizeElement","setRef","newRef","previousRef","cloneElement","isRef","_createClass","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","_isNativeReflectConstruct","Super","NewTarget","DragLayer","collect","DecoratedComponent","Decorated","_options$arePropsEqua","arePropsEqual","DragLayerContainer","_super","_len","_key","createRef","isCurrentlyMounted","nextState","getCurrentState","setState","nextProps","unsubscribeFromOffsetChange","unsubscribeFromStateChange","Consumer","receiveDragDropManager","monitor","getMonitor","subscribeToOffsetChange","subscribeToStateChange","hoistStatics","useIsomorphicLayoutEffect","useLayoutEffect","DragSourceImpl","spec","connector","_result","globalMonitor","isDragging","getSourceId","end","reconnect","useDragDropManager","useRegisteredDragSource","useDragSource","itemType","useDragType","_registerSource2","registerSource","handlerId","unregister","receiveHandlerId","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","useOptionalFactory","arg","deps","memoDeps","useCollector","onUpdate","_useState2","collected","setCollected","updateCollected","nextValue","equal","useCollectedProps","collector","onCollect","_useCollector2","getHandlerId","handlerIds","useMonitorOutput","useConnectDragSource","dragSource","useConnectDragPreview","dragPreview","useDrag","specArg","begin","DragSourceMonitorImpl","useDragSourceMonitor","dragSourceOptions","dragPreviewOptions","SourceConnector","getBackend","disconnectDragSource","disconnectDragPreview","useDragSourceConnector","previewOptions","DropTargetImpl","canDrop","hover","drop","useRegisteredDropTarget","dropTarget","useDropTarget","accept","useAccept","_registerTarget2","registerTarget","useConnectDropTarget","useDrop","DropTargetMonitorImpl","useDropTargetMonitor","TargetConnector","dropTargetOptions","disconnectDropTarget","useDropTargetConnector","useDragLayer","ALLOWED_SPEC_METHODS","REQUIRED_SPEC_METHODS","SourceImpl","beginDrag","sourceId","endDrag","createSourceFactory","DragSource","getType","createSource","decorateHandler","containerDisplayName","createHandler","registerHandler","createConnector","createMonitor","TargetImpl","createTargetFactory","DropTarget","createTarget","Disposable","action","isDisposed","dispose","isDisposable","empty","CompositeDisposable","disposables","shouldDispose","currentDisposables","_i2","SerialDisposable","old","DragDropContainer","disposable","receiveProps","currentType","receiveType","handlerMonitor","handlerConnector","_registerHandler2","unsubscribe","setDisposable","_ref2","_this2$handlerConnect","memoize","EnterLeaveCounter","isNodeInDocument","enteringNode","previousLength","entered","itemsA","itemsB","Set","insertItem","union","leavingNode","items","isFirefox","safari","MonotonicInterpolant","ys","indexes","dx","dy","dys","dxs","ms","c1s","m2","mNext","dxNext","common","c2s","c3s","_i3","c1","invDx","_common","mid","low","high","xHere","floor","diff","diffSq","getNodeClientOffset","parentElement","_el$getBoundingClient","getEventClientOffset","clientX","clientY","getDragPreviewOffset","sourceNode","clientOffset","anchorPoint","offsetPoint","isImage","_document$documentEle","documentElement","isImageNode","dragPreviewNodeOffsetFromClient","offsetFromDragPreview","sourceWidth","sourceHeight","anchorX","anchorY","_getDragPreviewSize","dragPreviewWidth","dragPreviewHeight","devicePixelRatio","getDragPreviewSize","offsetX","offsetY","isManualOffsetY","interpolate","calculateYOffset","_nativeTypesConfig","FILE","URL","TEXT","HTML","getDataFromDataTransfer","dataTransfer","typesToTry","resultSoFar","typeToTry","getData","nativeTypesConfig","NativeTypes","exposeProperties","files","_dataTransfer","matchesTypes","html","_dataTransfer2","urls","_dataTransfer3","_dataTransfer4","NativeDragSource","initializeExposedProperties","property","newProperties","defineProperties","handle","matchNativeItemType","dataTransferTypes","types","nativeItemType","OptionsReader","globalContext","optionsArgs","_this$globalContext","_this$optionsArgs","rootElement","enumerableOnly","symbols","getOwnPropertyDescriptors","HTML5BackendImpl","Map","sourceNodes","isDraggingNativeItem","actions","currentNativeHandle","registry","removeSource","currentNativeSource","currentDragSourceNode","clearCurrentDragSourceNode","dragStartSourceIds","defaultPrevented","publishSource","getSourceClientOffset","nativeType","setDragImage","sourcePreviewNodes","_this$getCurrentSourc","getCurrentSourcePreviewNodeOptions","dragPreviewOffset","setData","setCurrentDragSourceNode","captureDraggingState","publishDragSource","beginDragNativeItem","hasAttribute","dragEnterTargetIds","enterLeaveCounter","enter","altKeyPressed","altKey","canDropOnTarget","dropEffect","getCurrentDropEffect","dragOverTargetIds","lastClientOffset","hoverRafId","leave","endDragNativeItem","_this$currentNativeSo","dropTargetIds","loadDataTransfer","reset","dragDrop","tagName","isContentEditable","getActions","getRegistry","_this$dragStartSource","_this$dragOverTargetI","sourcePreviewNodeOptions","sourceNodeOptions","__isReactDndBackendSetUp","addEventListeners","_this$window","removeEventListeners","asyncEndDragFrameId","cancelAnimationFrame","delete","handleDragStart","handleSelectStart","_this4","handleDragEnter","handleDragOver","handleDrop","handleTopDragStart","handleTopDragStartCapture","handleTopDragEndCapture","handleTopDragEnter","handleTopDragEnterCapture","handleTopDragLeaveCapture","handleTopDragOver","handleTopDragOverCapture","handleTopDrop","handleTopDropCapture","getCurrentSourceNodeOptions","getItemType","createNativeDragSource","addSource","_this5","mouseMoveTimeoutTimer","_this5$rootElement","endDragIfSourceWasRemovedFromDOM","_this$window2","unshift","HTML5Backend","compose","thrush","proc","curry2to1","arg1","arg2","curry1to0","tap","tup","always","joinProc","procs","isDefined","subscribe","emitter","subscription","publish","publisher","getValue","depot","handleNext","unsub","stream","subscriptions","statefulStream","initial","innerSubject","streamFromEmitter","stream2","statefulStreamFromEmitter","combineOperators","operators","subscriber","reduceRight","pipe","project","defaultComparator","previous","distinctUntilChanged","comparator","predicate","mapTo","scanner","skip","times","throttleTime","interval","currentValue","debounceTime","withLatestFrom","sources","called","pendingCall","allCalled","pow","bit","prevCalled","call2","merge","duc","combineLatest","emitters","system","dependencies","singleton","useIsomorphicLayoutEffect$2","systemToComponent","systemSpec","map2","Root","requiredPropNames","optionalPropNames","optional","methodNames","methods","eventNames","events","Context","applyPropsToSystem","system2","requiredPropName","optionalPropName","buildEventHandlers","handlers","eventName","currentSubscription","cleanup","eventHandler","propsWithChildren","singletons","_init","id2","has","system22","useImperativeHandle","methodName","buildMethods","prop","omit","usePublisher","useEmitterValue","setValue","useEmitter","useIsomorphicLayoutEffect$1","LogLevel","LogLevel2","CONSOLE_METHOD_MAP","getGlobalThis","globalThis","loggerSystem","logLevel","log","label","level","currentLevel","useSizeWithElRef","enabled","useRef","callbackRef","_el","ResizeObserver","observer","entries","offsetParent","elRef","observe","unobserve","useSize","useChangedListContentsSizes","itemSize","scrollContainerStateCallback","gap","customScrollParent","memoedCallback","ranges","results","knownSize","ERROR","lastResult","getChangedChildSizes","scrollableElement","windowScrolling","lastElementChild","scrollTop","scrollHeight","viewportHeight","WARN","resolveGapValue$1","getComputedStyle","rowGap","correctItemSize","dimension","approximatelyEqual","num1","num2","useScrollTop","smoothScrollTargetReached","scrollerElement","scrollerRefCallback","scrollerRef","scrollTopTarget","timeoutRef","windowScroll","suppressFlushSync","flushSync","scrollToCallback","location","scrollerElement2","isSmooth","maxScrollTop","scrollTo","scrollByCallback","scrollBy","localRef","passive","domIOSystem","scrollContainerState","deviation","statefulScrollTop","headerHeight","fixedHeaderHeight","fixedFooterHeight","footerHeight","scrollingInProgress","NIL_NODE","lvl","newAANode","v","r","newTree","last","adjust","clone","deleteLast","find","findMaxKeyValue","Infinity","insert","rebalance","walkWithin","start","walk","isSingle","skew","rl","rlvl","rangesWithin","adjustedStart","arrayToRanges","parser","nextIndex","findIndexOfClosestSmallerOrEqual","findClosestSmallerOrEqual","findRange","startValue","endValue","recalcSystem","recalcInProgress","rangeIncludes","refRange","affectedGroupCount","groupIndices","recognizedOffsetItems","groupIndex","indexComparator","itemIndex","offsetComparator","itemOffset","offsetPointParser","point","createOffsetTree","prevOffsetTree","syncStart","sizeTree","offsetTree","prevIndex","prevSize","prevOffset","kv","startIndex2","indexOffset","aOffset","lastIndex","lastOffset","lastSize","sizeStateReducer","DEBUG","newSizeTree","groupSize","overlappingRanges","firstPassDone","shouldInsert","rangeStart","rangeEnd","rangeValue","insertRanges","newOffsetTree","groupOffsetTree","offsetOf","itemCount","originalIndexFromLocation","sizes","isGroupLocation","originalIndexFromItemIndex","hasGroups","groupOffset","SIZE_MAP","sizeSystem","sizeRanges","totalCount","statefulTotalCount","unshiftWith","shiftWith","firstItemIndex","fixedItemSize","defaultItemSize","prevGroupIndices","prev","curr","groupIndices2","sizes2","gap2","totalCount2","trackItemSizes","listRefresh","oldSizes","newSizes","changed","prevGroupIndicesValue","log2","beforeUnshiftWith","unshiftWith2","groupedMode","initialRanges","defaultSize","firstGroupSize","prependedGroupItemsCount","theGroupIndex","groupItemCount","sizeTreeKV","shiftWithOffset","shiftWith2","removedItemsCount","SUPPORTS_SCROLL_TO_OPTIONS","normalizeIndexLocation","align","scrollToIndexSystem","scrollToIndex","topListHeight","unsubscribeNextListRefresh","cleartTimeoutRef","unsubscribeListRefresh","viewportHeight2","topListHeight2","headerHeight2","footerHeight2","fixedHeaderHeight2","fixedFooterHeight2","normalLocation","limit","retry","listChanged","UP","DOWN","INITIAL_BOTTOM_STATE","atBottom","notAtBottomBecause","offsetBottom","stateFlagsSystem","isAtBottom","isAtTop","atBottomStateChange","atTopStateChange","atBottomThreshold","atTopThreshold","isScrolling","isScrollingBy","atBottomState","atBottomBecause","scrollTopDelta","scrollTop2","lastJumpDueToItemResize","jump","scrollDirection","direction","prevScrollTop","scrollVelocity","propsReadySystem","propsReady","didMount","ready","skipFrames","frameCount","getInitialTopMostItemIndexNumber","initialTopMostItemIndexSystem","scrolledToInitialItem","initialTopMostItemIndex","scrollScheduled","didMount2","scrolledToInitialItem2","defaultItemSize2","scrollScheduled2","initialTopMostItemIndex2","normalizeFollowOutput","follow","followOutputSystem","followOutput","autoscrollToBottom","pendingScrollHandle","scrollToBottom","followOutputBehavior","trapNextSizeIncrease","followOutput2","isAtBottom2","scrollingInProgress2","shouldFollow","behaviorFromFollowOutput","refreshed","groupCountsToIndicesAndCount","counts","groupCount","groupedListSystem","groupCounts","topItemsIndexes","groupIndicesAndCount","tupleComparator","rangeComparator","TOP","BOTTOM","NONE","getOverscan","overscan","getViewportIncrease","sizeRangeSystem","listBoundary","increaseViewportBy","visibleRange","listTop","listBottom","overscan2","deviation2","increaseViewportBy2","stickyHeaderHeight","headerVisible","topViewportAddition","bottomViewportAddition","EMPTY_LIST_STATE","topItems","offsetTop","transposeItems","originalIndex","transposedItems","groupRanges","currentRange","currentGroupIndex","transposedItem","buildListState","lastItem","listStateSystem","groupedListSystem2","rangeTopListHeight","stateFlags","itemsRendered","listState","recalcInProgress2","data2","dataChangeInProgress","startOffset","endOffset","topItemsIndexes2","firstItemIndex2","sizesValue","probeItemSet","rangeStartIndex","rangeEndIndex","minStartIndex","offsetPointRanges","rangesWithinOffsets","maxIndex","endReached","startReached","rangeChanged","initialItemCountSystem","initialItemCount","includedGroupsCount","adjustedCount","scrollSeekSystem","isSeeking","scrollSeekConfiguration","speed","isSeeking2","exit","velocity","change","scrollSeekRangeChanged","topItemCountSystem","topItemCount","totalListHeightSystem","totalListHeightChanged","totalListHeight","listState2","simpleMemoize","isMobileSafari","upwardScrollFixSystem","deviationOffset","prevItems","prevTotalCount","prevTotalHeight","lastJumpDueToItemResize2","totalHeight","newDev","scrollDirection2","amount","scrollByWith","deviationAmount","is","recalc","getItemOffset","defaultGroupSize","initialScrollTopSystem","initialScrollTop","alignToBottomSystem","alignToBottom","paddingTopAddition","totalListHeight2","windowScrollerSystem","windowScrollContainerState","windowViewportRect","windowScrollTo","useWindowScroll","windowScrollTop","scrollTo2","defaultCalculateViewLocation","itemTop2","itemTop","itemBottom","viewportTop","viewportBottom","locationParams","rest","scrollIntoViewSystem","viewLocation","calculateViewLocation","actualIndex","stateLoadSystem","getState","restoreStateFrom","sizeArray","nextSize","locationFromSnapshot","snapshot","featureGroup1System","sizeRange","scrollSeek","initialScrollTopSystem2","windowScroller","logger","listSystem","domIO","stateLoad","flags","featureGroup1","visibleHeight","fixedItemHeight","defaultItemHeight","WEBKIT_STICKY","STICKY","positionStickyCssValue","useWindowViewportRectRef","viewportInfo","calculateInfo","rect","visibleWidth","customScrollParentRect","deltaTop","scrollAndResizeEventHandler","VirtuosoMockContext","VirtuosoGridMockContext","identity","listComponentPropsSystem","itemContent","groupContent","components","computeItemKey","headerFooterTag","distinctProp","propName","components2","FooterComponent","HeaderComponent","TopItemListComponent","ListComponent","ItemComponent","GroupComponent","ScrollerComponent","EmptyPlaceholder","ScrollSeekPlaceholder","combinedSystem$2","listSystem2","propsSystem","DefaultScrollSeekPlaceholder$1","GROUP_STYLE","zIndex","overflowAnchor","ITEM_STYLE$1","Items$1","showTopList","useEmitterValue$2","usePublisher$2","windowScrollContainerStateCallback","_scrollContainerStateCallback","setDeviation","useEmitter$2","hasGroups2","containerStyle","boxSizing","paddingTop","paddingBottom","marginTop","contextPropIfNotDomElement","scrollerStyle","overflowY","WebkitOverflowScrolling","viewportStyle","topItemListStyle","Header$1","Header2","Footer$1","Footer2","buildScroller","usePublisher2","useEmitter2","useEmitterValue2","buildWindowScroller","Viewport$2","viewportRef","itemHeight","WindowViewport$2","TopItemListContainer","TopItemList","TheScroller","WindowScroller$2","Scroller$2","TheViewport","Virtuoso","INITIAL_GRID_STATE","itemWidth","PROBE_GRID_STATE","buildItems","dataItem","gapComparator","dimensionComparator","gridSystem","gridState","viewportDimensions","itemDimensions","stateChanged","stateRestoreInProgress","itemDimensions2","viewportDimensions2","viewport","_value","initialItemCount2","columnGap","viewportWidth","buildProbeGridState","perRow","itemsPerRow","gridLayout","rowCount","hasScrolled","stateRestoreInProgress2","gridState2","gridComponentPropsSystem","itemClassName","listClassName","combinedSystem$1","gridSystem2","gridComponentPropsSystem2","GridItems","useEmitterValue$1","scrollHeightCallback","usePublisher$1","gridGap","listRef","firstItem","resolveGapValue","Header","Footer","Viewport$1","WindowViewport$1","WindowScroller$1","Scroller$1","useEmitter$1","tableComponentPropsSystem","fixedHeaderContent","fixedFooterContent","TableComponent","TableHeadComponent","TableFooterComponent","TableBodyComponent","TableRowComponent","FillerRow","combinedSystem","DefaultScrollSeekPlaceholder","DefaultFillerRow","ITEM_STYLE","Items","paddingTopEl","paddingBottomEl","Viewport","WindowViewport","theadRef","tfootRef","WindowScroller","Scroller","TheTable","TheTHead","TheTFoot","theHead","theFoot","borderSpacing","getReactElementText","parent","stringSearch","treeIndex","defaultSearchMethod","getNodeDataAtTreeIndexOrNextIndex","targetIndex","getNodeKey","lowerSiblingCounts","ignoreCollapsed","isPseudoRoot","selfPath","expanded","childIndex","childCount","getDescendantCount","walkDescendants","mapDescendants","nextNode","selfInfo","mapResult","toggleExpandedForAll","changeNodeAtPath","newNode","RESULT_MISS","traverse","currentTreeIndex","pathIndex","result2","addNodeAtDepthAndIndex","insertedTreeIndex","pathFragment","targetDepth","minimumTreeIndex","expandParent","isLastChild","currentDepth","extraNodeProps","nextNode2","parentPath","insertedTreeIndex2","insertIndex","childIndex2","newChildren","insertNode","depth","insertResult","isDescendant","older","younger","getDepth","deepest","classes","defaultProps$3","isSearchMatch","isSearchFocus","toggleChildrenVisibility","draggedNode","rowDirection","NodeRendererDefault","scaffoldBlockPxWidth","connectDragPreview","connectDragSource","didDrop","treeId","isOver","otherProps","nodeTitle","nodeSubtitle","rowDirectionClass","jsx","isDraggedDescendant","isLandingPadActive","buttonStyle","jsxs","opacity","btn","defaultProps$2","PlaceholderRendererDefault","defaultProps$1","swapFrom","swapDepth","swapLength","TreeNodeComponent","listIndex","connectDropTarget","rowHeight","_node","getPrevRow","_path","scaffoldBlockCount","scaffold","lowerSiblingCount","lineClass","highlightLineClass","style2","calculatedRowHeight","Children","TreePlaceholder","rafId","nodeDragSourcePropInjection","propInjection","dragged","getTargetDepth","dropTargetProps","component","canNodeHaveChildren","blocksOffset","dropTargetDepth","rowAbove","dragSourceInitialDepth","getDifferenceFromInitialOffset","relativePosition","leftShift","draggedChildDepth","wrapTarget","treeRefcanDrop","dragHover","dndType","draggingTreeData","treeReftreeData","nodeDropTarget","abovePath","aboveNode","prevParent","nextParent","f","savedResult","savedArgsArray","savedKeysArray","keysArray","argsArray","memoizedInsertNode","memoizedGetFlatDataFromTree","flattened","nodeInfo","memoizedGetDescendantCount","treeIdCounter","mergeTheme","merged","innerStyle","overridableDefaults","nodeContentRenderer","placeholderRenderer","slideRegionSize","treeNodeRenderer","propKey","ReactSortableTree","startDrag","prevState","removedNode","removedTreeIndex","removeNode","instanceProps","draggedMinimumTreeIndex","draggedDepth","dragging","newDraggingTreeData","addedResult","expandedParentPath","getRows","searchFocusTreeIndex","dropResult","shouldCopy","shouldCopyOnOutsideDrop","copyNode","moveNode","virtuosoRef","listProps","virtuosoProps","nodeDragSource","getDropResult","dropTargetNode","wrapSource","treePlaceholderRenderer","placeholderDropTarget","wrapPlaceholder","scrollZoneVirtualList","createScrollingComponent","withScrolling","props2","scrollContainer","vStrength","createVerticalStrength","hStrength","createHorizontalStrength","searchMatches","ignoreOneTreeUpdate","handleDndMonitorChange","loadLazyChildren","stateUpdate","clearMonitorSubscription","onDragStateChanged","onVisibilityToggle","matchKeys","TreeNodeRenderer","NodeContentRenderer","nodeKey","callbackParams","nodeProps","rowCanDrag","sharedProps","rows","swapTo","fromIndex","toIndex","rowsWithoutMoved","slideRows","list","Placeholder","PlaceholderContent","ScrollZoneVirtualList","verticalStrength","horizontalStrength","renderRow","seekIndex","expand","singleSearch","onlyExpandSearchedNodes","newState","expandAllMatchPaths","expandFocusMatchPaths","matchCount","trav","isSelfMatch","hasFocusMatch","extraInfo","hasChildren","expandedTreeData","loadCollapsedLazyChildren","childrenArray","oldNode","newInstanceProps","isTreeDataEqual","isEqual","SortableTreeWithoutDndContext","SortableTree","jsxRuntime","react","hoist","throttle","reactDnd","_interopDefaultLegacy","hoist__default","throttle__default","intBetween","_buffer","buffer","defaultHorizontalStrength","defaultVerticalStrength","onScrollChange","strengthMultiplier","WrappedComponent","frame","wrappedInstance","scaleX","scaleY","attached","updateScrolling","box","coords","changedTouches","getCoords","startScrolling","handleEvent","handleMonitorChange","stopScrolling","attach","tick","scrollLeft","scrollWidth","clientWidth","clientHeight","newLeft","newTop","ScrollingComponent","FUNC_ERROR_TEXT","asap","asapQueue","taskFactory","makeRequestCallFromMutationObserver","scope","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","timeoutHandle","handleTimer","intervalHandle","setInterval","clearInterval","createTextNode","characterData","release","HASH_UNDEFINED","MAX_SAFE_INTEGER","argsTag","arrayTag","boolTag","dateTag","errorTag","funcTag","mapTag","numberTag","objectTag","promiseTag","regexpTag","setTag","stringTag","symbolTag","weakMapTag","arrayBufferTag","dataViewTag","reIsHostCtor","reIsUint","typedArrayTags","freeExports","freeModule","moduleExports","freeProcess","process","nodeUtil","binding","nodeIsTypedArray","isTypedArray","arraySome","mapToArray","setToArray","transform","arrayProto","funcProto","objectProto","coreJsData","funcToString","maskSrcKey","uid","IE_PROTO","nativeObjectToString","reIsNative","Buffer","Uint8Array","symToStringTag","toStringTag","nativeGetSymbols","nativeIsBuffer","isBuffer","nativeKeys","DataView","getNative","WeakMap","nativeCreate","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","Hash","entry","ListCache","MapCache","SetCache","__data__","Stack","arrayLikeKeys","inherited","isArr","isArg","isArguments","isBuff","isType","skipIndexes","iteratee","baseTimes","isIndex","assocIndexOf","eq","baseGetTag","isOwn","unmasked","getRawTag","baseIsArguments","baseIsEqual","bitmask","customizer","stack","equalFunc","objIsArr","othIsArr","objTag","getTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","byteLength","byteOffset","convert","isPartial","stacked","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","getAllKeys","objLength","othLength","skipCtor","objValue","othValue","compared","objCtor","othCtor","equalObjects","baseIsEqualDeep","baseIsNative","isMasked","baseKeys","Ctor","isPrototype","arrLength","seen","arrValue","othIndex","keysFunc","symbolsFunc","arrayPush","baseGetAllKeys","getSymbols","getMapData","isKeyable","pairs","LARGE_ARRAY_SIZE","resIndex","arrayFilter","symbol","ArrayBuffer","ctorString","isLength","baseUnary","addTarget","removeTarget","clearDragSource","dragSourceRef","dragSourceNode","reconnectDragSource","clearDragPreview","dragPreviewRef","dragPreviewNode","reconnectDragPreview","newHandlerId","dragSourceOptionsInternal","dragPreviewOptionsInternal","didChange","didHandlerIdChange","didConnectedDragSourceChange","didDragSourceOptionsChange","lastConnectedHandlerId","lastConnectedDragSource","lastConnectedDragSourceOptions","dragSourceUnsubscribe","didConnectedDragPreviewChange","didDragPreviewOptionsChange","lastConnectedDragPreview","lastConnectedDragPreviewOptions","dragPreviewUnsubscribe","isCallingCanDrag","isCallingIsDragging","internalMonitor","canDragSource","isDraggingSource","listener","isOverTarget","getTargetIds","isSourcePublic","getInitialClientOffset","getInitialSourceClientOffset","getClientOffset","isCallingCanDrop","clearDropTarget","dropTargetRef","didDropTargetChange","didOptionsChange","lastConnectedDropTarget","lastConnectedDropTargetOptions","unsubscribeDropTarget","dropTargetOptionsInternal","INIT_COORDS","BEGIN_DRAG","PUBLISH_DRAG_SOURCE","HOVER","DROP","END_DRAG","setClientOffset","sourceClientOffset","without","xor","ResetCoordinatesAction","createBeginDrag","sourceIds","_options$publishSourc","verifyInvariants","getDraggableSource","verifyGetSourceClientOffsetIsFunction","getSource","verifyItemIsObject","pinSource","getSourceType","createPublishDragSource","matchesType","targetType","draggedItemType","createHover","targetIdsArg","verifyTargetIdsIsArray","targetIds","checkInvariants","removeNonMatchingTargetIds","hoverAllTargets","lastIndexOf","getTarget","getTargetType","createDrop","getDroppableTargets","determineDropResult","verifyDropResultType","createEndDrag","verifyIsDragging","unpinSource","DragDropManagerImpl","shouldSetUp","isSetUp","setup","teardown","handleRefCountChange","createDragDropActions","boundActions","actionCreator","formatProdErrorMessage","$$observable","observable","randomString","random","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","createStore","reducer","preloadedState","enhancer","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","isSubscribed","listeners","replaceReducer","nextReducer","outerSubscribe","observeState","strictEquality","areCoordsEqual","offsetA","offsetB","areArraysEqual","initialState","initialSourceClientOffset","initialClientOffset","ADD_SOURCE","ADD_TARGET","REMOVE_SOURCE","REMOVE_TARGET","ALL","areDirty","dirtyIds","_action$payload","_action$payload$targe","_action$payload$prevT","prevTargetIds","prevInnermostTargetId","innermostTargetId","dirtyHandlerIds","dragOffset","dragOperation","stateId","subtract","__IS_NONE__","__IS_ALL__","HandlerRole","DragDropMonitorImpl","prevStateId","currentStateId","previousState","shallow","_getSourceClientOffset","_getDifferenceFromInitialOffset","nextUniqueId","validateType","getNextHandlerId","role","SOURCE","TARGET","parseRoleFromHandlerId","mapContainsValue","searchValue","isDone","_entries$next","HandlerRegistryImpl","validateSourceContract","addHandler","_addSource","validateTargetContract","_addTarget","dragSources","dropTargets","includePinned","isSourceId","isPinned","pinnedSourceId","pinnedSource","isTargetId","_removeSource","_removeTarget","backendFactory","backendOptions","makeStoreInstance","receiveBackend","reduxDevTools","__REDUX_DEVTOOLS_EXTENSION__","instanceId"],"mappings":"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,UAAU,iBAAf,SAAiC+E,kB,0CVhEnC+lB,EACdC,EACAC,EACAC,EACAC,G,IAEIC,EAAgBF,EAChBA,WADuB,QAEvB,E,QACkB,IAAlBE,E,QACF,E,GAGEJ,IAAJ,E,OACE,E,GAGkB,kBAATA,IAAP,qBAA4CC,IAAhD,E,OACE,E,IAGEI,EAAQ7nB,YAAZ,GACI8nB,EAAQ9nB,YAAZ,G,GAEI6nB,WAAiBC,EAArB,O,OACE,E,QAGEC,EAAkB/nB,qCAAtB,GAGSkjB,EAAT,EAAkBA,EAAM2E,EAAxB,OAAsC3E,IAAO,C,IACvCtjB,EAAMioB,EAAV,G,IAEKE,EAAL,G,OACE,E,IAGEC,EAAUR,EAAd,GACIS,EAAUR,EAAd,G,IAOEG,KALFA,EAAgBF,EACZA,aADmB,QAEnB,SAIiB,IAAlBE,GAA4BI,IAF/B,E,OAIE,E,OAIJ,E,uDWrDF,IAAIxpB,EAAM,CACT,QAAS,CACR,IACA,EACA,EACA,EACA,EACA,GACA,IAED,SAAU,CACT,IACA,EACA,EACA,EACA,EACA,GACA,IAED,iBAAkB,CACjB,IACA,EACA,EACA,IAED,oBAAqB,CACpB,IACA,EACA,EACA,IAED,cAAe,CACd,IACA,EACA,EACA,EACA,EACA,GACA,KAED,iBAAkB,CACjB,IACA,EACA,EACA,EACA,EACA,GACA,KAED,cAAe,CACd,IACA,EACA,EACA,EACA,EACA,GACA,IAED,iBAAkB,CACjB,IACA,EACA,EACA,EACA,EACA,GACA,IAED,cAAe,CACd,IACA,EACA,EACA,EACA,GACA,IAED,eAAgB,CACf,IACA,EACA,EACA,EACA,GACA,IAED,oBAAqB,CACpB,IACA,EACA,EACA,EACA,GACA,IAED,uBAAwB,CACvB,IACA,EACA,EACA,EACA,GACA,IAED,cAAe,CACd,GACA,GAED,eAAgB,CACf,GACA,GAED,oBAAqB,CACpB,GACA,GAED,uBAAwB,CACvB,GACA,GAED,mBAAoB,CACnB,IACA,EACA,KAED,aAAc,CACb,IACA,EACA,EACA,EACA,EACA,EACA,IAED,cAAe,CACd,IACA,EACA,EACA,EACA,EACA,EACA,IAED,sBAAuB,CACtB,IACA,EACA,EACA,IAED,yBAA0B,CACzB,IACA,EACA,EACA,IAED,mBAAoB,CACnB,IACA,EACA,EACA,EACA,KAED,sBAAuB,CACtB,IACA,EACA,EACA,EACA,KAED,kBAAmB,CAClB,IACA,EACA,EACA,EACA,KAED,qBAAsB,CACrB,IACA,EACA,EACA,EACA,KAED,mBAAoB,CACnB,IACA,EACA,EACA,EACA,EACA,EACA,IAED,sBAAuB,CACtB,IACA,EACA,EACA,EACA,EACA,EACA,IAED,mBAAoB,CACnB,IACA,EACA,IAED,oBAAqB,CACpB,IACA,EACA,IAED,yBAA0B,CACzB,IACA,EACA,IAED,4BAA6B,CAC5B,IACA,EACA,IAED,mBAAoB,CACnB,GACA,GAED,oBAAqB,CACpB,GACA,GAED,yBAA0B,CACzB,GACA,GAED,4BAA6B,CAC5B,GACA,GAED,wBAAyB,CACxB,IACA,EACA,KAED,SAAU,CACT,IACA,EACA,EACA,EACA,EACA,GACA,IAED,UAAW,CACV,IACA,EACA,EACA,EACA,EACA,GACA,IAED,kBAAmB,CAClB,IACA,EACA,EACA,IAED,qBAAsB,CACrB,IACA,EACA,EACA,IAED,eAAgB,CACf,IACA,EACA,EACA,EACA,GACA,IACA,KAED,kBAAmB,CAClB,IACA,EACA,EACA,EACA,GACA,IACA,KAED,cAAe,CACd,IACA,EACA,EACA,EACA,EACA,GACA,KAED,iBAAkB,CACjB,IACA,EACA,EACA,EACA,EACA,GACA,KAED,uBAAwB,CACvB,IACA,EACA,IAED,0BAA2B,CAC1B,IACA,EACA,IAED,wBAAyB,CACxB,IACA,EACA,GACA,IAED,2BAA4B,CAC3B,IACA,EACA,GACA,IAED,eAAgB,CACf,IACA,EACA,EACA,EACA,EACA,GACA,IAED,kBAAmB,CAClB,IACA,EACA,EACA,EACA,EACA,GACA,IAED,eAAgB,CACf,IACA,EACA,EACA,GACA,IAED,gBAAiB,CAChB,IACA,EACA,EACA,GACA,IAED,qBAAsB,CACrB,IACA,EACA,EACA,GACA,IAED,wBAAyB,CACxB,IACA,EACA,EACA,GACA,IAED,eAAgB,CACf,GACA,GAED,gBAAiB,CAChB,GACA,GAED,qBAAsB,CACrB,GACA,GAED,wBAAyB,CACxB,GACA,GAED,uBAAwB,CACvB,GACA,GAED,0BAA2B,CAC1B,GACA,GAED,oBAAqB,CACpB,IACA,EACA,KAED,eAAgB,CACf,IACA,EACA,EACA,EACA,EACA,GACA,IAED,gBAAiB,CAChB,IACA,EACA,EACA,EACA,EACA,GACA,IAED,wBAAyB,CACxB,IACA,EACA,EACA,IAED,2BAA4B,CAC3B,IACA,EACA,EACA,IAED,oBAAqB,CACpB,IACA,EACA,KAED,uBAAwB,CACvB,IACA,EACA,KAED,qBAAsB,CACrB,IACA,EACA,EACA,EACA,GACA,KAED,wBAAyB,CACxB,IACA,EACA,EACA,EACA,GACA,KAED,sBAAuB,CACtB,IACA,EACA,IAED,uBAAwB,CACvB,IACA,EACA,IAED,4BAA6B,CAC5B,IACA,EACA,IAED,+BAAgC,CAC/B,IACA,EACA,IAED,qBAAsB,CACrB,IACA,EACA,EACA,EACA,EACA,GACA,IAED,wBAAyB,CACxB,IACA,EACA,EACA,EACA,EACA,GACA,IAED,qBAAsB,CACrB,IACA,EACA,IAED,sBAAuB,CACtB,IACA,EACA,IAED,2BAA4B,CAC3B,IACA,EACA,IAED,8BAA+B,CAC9B,IACA,EACA,IAED,qBAAsB,CACrB,GACA,GAED,sBAAuB,CACtB,GACA,GAED,2BAA4B,CAC3B,GACA,GAED,8BAA+B,CAC9B,GACA,GAED,0BAA2B,CAC1B,IACA,EACA,KAED,wBAAyB,CACxB,IACA,EACA,EACA,EACA,EACA,GACA,IAED,yBAA0B,CACzB,IACA,EACA,EACA,EACA,EACA,GACA,IAED,iCAAkC,CACjC,IACA,EACA,EACA,IAED,oCAAqC,CACpC,IACA,EACA,EACA,IAED,8BAA+B,CAC9B,IACA,EACA,EACA,EACA,GACA,KAED,iCAAkC,CACjC,IACA,EACA,EACA,EACA,GACA,KAED,8BAA+B,CAC9B,IACA,EACA,EACA,EACA,EACA,GACA,IAED,iCAAkC,CACjC,IACA,EACA,EACA,EACA,EACA,GACA,IAED,8BAA+B,CAC9B,IACA,EACA,IAED,+BAAgC,CAC/B,IACA,EACA,IAED,oCAAqC,CACpC,IACA,EACA,IAED,uCAAwC,CACvC,IACA,EACA,IAED,8BAA+B,CAC9B,GACA,GAED,+BAAgC,CAC/B,GACA,GAED,oCAAqC,CACpC,GACA,GAED,uCAAwC,CACvC,GACA,GAED,mCAAoC,CACnC,IACA,EACA,KAED,oBAAqB,CACpB,IACA,EACA,EACA,EACA,EACA,GACA,IAED,qBAAsB,CACrB,IACA,EACA,EACA,EACA,EACA,GACA,IAED,6BAA8B,CAC7B,IACA,EACA,EACA,IAED,gCAAiC,CAChC,IACA,EACA,EACA,IAED,0BAA2B,CAC1B,IACA,EACA,EACA,EACA,GACA,KAED,6BAA8B,CAC7B,IACA,EACA,EACA,EACA,GACA,KAED,0BAA2B,CAC1B,IACA,EACA,EACA,EACA,EACA,GACA,IAED,6BAA8B,CAC7B,IACA,EACA,EACA,EACA,EACA,GACA,IAED,0BAA2B,CAC1B,IACA,EACA,IAED,2BAA4B,CAC3B,IACA,EACA,IAED,gCAAiC,CAChC,IACA,EACA,IAED,mCAAoC,CACnC,IACA,EACA,IAED,0BAA2B,CAC1B,GACA,GAED,2BAA4B,CAC3B,GACA,GAED,gCAAiC,CAChC,GACA,GAED,mCAAoC,CACnC,GACA,GAED,+BAAgC,CAC/B,IACA,EACA,KAED,SAAU,CACT,IACA,EACA,EACA,IAED,UAAW,CACV,IACA,EACA,EACA,IAED,kBAAmB,CAClB,IACA,EACA,EACA,IAED,qBAAsB,CACrB,IACA,EACA,EACA,IAED,mBAAoB,CACnB,IACA,EACA,KAED,sBAAuB,CACtB,IACA,EACA,KAED,eAAgB,CACf,IACA,EACA,EACA,IAED,kBAAmB,CAClB,IACA,EACA,EACA,IAED,eAAgB,CACf,IACA,EACA,EACA,IAED,kBAAmB,CAClB,IACA,EACA,EACA,IAED,eAAgB,CACf,IACA,EACA,IAED,gBAAiB,CAChB,IACA,EACA,IAED,qBAAsB,CACrB,IACA,EACA,IAED,wBAAyB,CACxB,IACA,EACA,IAED,eAAgB,CACf,GACA,GAED,gBAAiB,CAChB,GACA,GAED,qBAAsB,CACrB,GACA,GAED,wBAAyB,CACxB,GACA,GAED,oBAAqB,CACpB,IACA,EACA,KAED,0BAA2B,CAC1B,GACA,GAED,2BAA4B,CAC3B,GACA,GAED,gCAAiC,CAChC,GACA,GAED,mCAAoC,CACnC,GACA,GAED,4BAA6B,CAC5B,IACA,EACA,IAED,6BAA8B,CAC7B,IACA,EACA,IAED,sCAAuC,CACtC,IACA,EACA,KAED,yCAA0C,CACzC,IACA,EACA,KAED,kCAAmC,CAClC,IACA,EACA,EACA,IAED,qCAAsC,CACrC,IACA,EACA,EACA,IAED,oCAAqC,CACpC,IACA,EACA,IAED,uCAAwC,CACvC,IACA,EACA,IAED,kCAAmC,CAClC,IACA,EACA,IAED,qCAAsC,CACrC,IACA,EACA,IAED,4BAA6B,CAC5B,GACA,GAED,6BAA8B,CAC7B,GACA,GAED,kCAAmC,CAClC,GACA,GAED,qCAAsC,CACrC,GACA,GAED,iCAAkC,CACjC,IACA,GAED,oCAAqC,CACpC,IACA,GAED,SAAU,CACT,IACA,EACA,EACA,EACA,EACA,IAED,UAAW,CACV,IACA,EACA,EACA,EACA,EACA,IAED,eAAgB,CACf,IACA,EACA,EACA,EACA,KAED,kBAAmB,CAClB,IACA,EACA,EACA,EACA,KAED,cAAe,CACd,IACA,EACA,EACA,KAED,iBAAkB,CACjB,IACA,EACA,EACA,KAED,eAAgB,CACf,IACA,EACA,EACA,EACA,EACA,IAED,kBAAmB,CAClB,IACA,EACA,EACA,EACA,EACA,IAED,eAAgB,CACf,IACA,EACA,IAED,gBAAiB,CAChB,IACA,EACA,IAED,qBAAsB,CACrB,IACA,EACA,IAED,wBAAyB,CACxB,IACA,EACA,IAED,eAAgB,CACf,GACA,GAED,gBAAiB,CAChB,GACA,GAED,qBAAsB,CACrB,GACA,GAED,wBAAyB,CACxB,GACA,GAED,uBAAwB,CACvB,IACA,EACA,IAED,0BAA2B,CAC1B,IACA,EACA,IAED,oBAAqB,CACpB,IACA,EACA,KAED,aAAc,CACb,IACA,EACA,EACA,EACA,EACA,IAED,cAAe,CACd,IACA,EACA,EACA,EACA,EACA,IAED,mBAAoB,CACnB,IACA,EACA,EACA,EACA,EACA,KAED,sBAAuB,CACtB,IACA,EACA,EACA,EACA,EACA,KAED,mBAAoB,CACnB,IACA,EACA,EACA,EACA,EACA,IAED,sBAAuB,CACtB,IACA,EACA,EACA,EACA,EACA,IAED,mBAAoB,CACnB,IACA,EACA,EACA,IAED,oBAAqB,CACpB,IACA,EACA,EACA,IAED,yBAA0B,CACzB,IACA,EACA,EACA,IAED,4BAA6B,CAC5B,IACA,EACA,EACA,IAED,mBAAoB,CACnB,GACA,GAED,oBAAqB,CACpB,GACA,GAED,yBAA0B,CACzB,GACA,GAED,4BAA6B,CAC5B,GACA,GAED,wBAAyB,CACxB,IACA,EACA,KAED,SAAU,CACT,IACA,EACA,EACA,EACA,GACA,IAED,UAAW,CACV,IACA,EACA,EACA,EACA,GACA,IAED,iBAAkB,CACjB,IACA,EACA,EACA,KAED,oBAAqB,CACpB,IACA,EACA,EACA,KAED,eAAgB,CACf,IACA,EACA,EACA,EACA,IAED,kBAAmB,CAClB,IACA,EACA,EACA,EACA,IAED,iBAAkB,CACjB,IACA,EACA,IAED,oBAAqB,CACpB,IACA,EACA,IAED,gBAAiB,CAChB,IACA,EACA,EACA,EACA,EACA,GACA,IAED,iBAAkB,CACjB,IACA,EACA,EACA,EACA,EACA,GACA,IAED,8BAA+B,CAC9B,IACA,EACA,IAED,iCAAkC,CACjC,IACA,EACA,IAED,4BAA6B,CAC5B,IACA,EACA,EACA,GACA,KAED,+BAAgC,CAC/B,IACA,EACA,EACA,GACA,KAED,qBAAsB,CACrB,IACA,E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","file":"static/js/25.b4462a5c.chunk.js","sourcesContent":["/* eslint-disable brace-style */\n/* eslint-disable multiline-ternary */\nimport {\n  Fragment,\n  useContext,\n  useEffect,\n  useState,\n  lazy,\n  Suspense\n} from \"react\"\nimport { useParams } from \"react-router-dom\"\nimport toast from \"react-hot-toast\"\nimport Cleave from \"cleave.js/react\"\nimport {\n  Row,\n  Col,\n  Form,\n  Button,\n  Input,\n  Label,\n  Modal,\n  ModalBody,\n  ModalHeader,\n  CardText\n} from \"reactstrap\"\nimport { useTranslation } from \"react-i18next\"\nimport UILoader from \"@components/ui-loader\"\nimport Spinner from \"@components/spinner/Loading-spinner\"\nimport \"moment/locale/id\"\nimport { ThemeColors } from \"@src/utility/context/ThemeColors\"\nimport { selectThemeColors, sortedObject } from \"@utils\"\nimport Select from \"react-select\"\nimport Flatpickr from \"react-flatpickr\"\nimport \"@styles/react/libs/flatpickr/flatpickr.scss\"\nimport { Indonesian } from \"flatpickr/dist/l10n/id.js\"\nimport { useForm, Controller } from \"react-hook-form\"\nimport {\n  storeName,\n  pageTitle,\n  postData,\n  putData,\n  resetSelectedData,\n  getDataById,\n  dynamicForm\n} from \"../store\"\n\nimport { useDispatch, useSelector } from \"react-redux\"\n\nconst ModalAddEdit = ({\n  show,\n  setShow,\n  detailPage,\n  formState,\n  setFormState,\n  currentData = null\n}) => {\n  const { t } = useTranslation()\n  const { id } = useParams()\n  const dispatch = useDispatch()\n  const store = useSelector((state) => state[storeName])\n  const { colors } = useContext(ThemeColors)\n  const [loadingText, setLoadingText] = useState(\"Please Wait\")\n  const allStore = useSelector((state) => state)\n  const [dynamicComponents, setDynamicComponents] = useState({})\n  const [formDatas, setFormDatas] = useState({})\n  const [formDatasError, setFormDatasError] = useState({})\n\n  const {\n    control,\n    setError,\n    handleSubmit,\n    formState: { errors }\n  } = useForm({})\n\n  const Loader = () => {\n    return (\n      <Fragment>\n        <Spinner />\n        <CardText className=\"mb-0 mt-1\">{t(loadingText)}...</CardText>\n      </Fragment>\n    )\n  }\n\n  const countChanges = (data) => {\n    if (formState === \"edit\") {\n      const storeData = { ...sortedObject(allStore[storeName].selectedData) }\n      delete storeData[\"id\"]\n      for (let key in storeData) {\n        if (!(key in data)) delete storeData[key]\n      }\n      // console.log(JSON.stringify(sortedObject(storeData)))\n      // console.log(JSON.stringify(sortedObject(data)))\n      return (\n        JSON.stringify(sortedObject(storeData)) !==\n        JSON.stringify(sortedObject(data))\n      )\n    } else {\n      return true\n    }\n  }\n\n  const updateDataToApi = () => {\n    if (countChanges(formDatas)) {\n      if (\n        Object.values(data).every((field) => {\n          return field !== null && field !== \"\"\n        })\n      ) {\n        setLoadingText(`${t(\"Updating\")} ${t(pageTitle)} ${t(\"Detail\")} Data`)\n        dispatch(putData(data)).then((res) => {\n          // console.log(res)\n          if (res.meta.requestStatus === \"fulfilled\") {\n            setShow(!show)\n            toast.success(`${t(\"Successfully Updated\")} ${t(pageTitle)}`, {\n              style: {\n                padding: \"16px\",\n                color: colors.success.main,\n                border: `1px solid ${colors.success.main}`\n              },\n              iconTheme: {\n                primary: colors.success.main\n              }\n            })\n            if (detailPage) {\n              dispatch(getDataById(id))\n            }\n          } else if (res.meta.requestStatus === \"rejected\") {\n            toast.error(res.payload.message, {\n              style: {\n                padding: \"16px\",\n                color: colors.danger.main,\n                border: `1px solid ${colors.danger.main}`\n              },\n              iconTheme: {\n                primary: colors.danger.main\n              }\n            })\n          }\n        })\n      } else {\n        for (const key in data) {\n          if (data[key]?.length === 0) {\n            setError(key, {\n              type: \"manual\"\n            })\n          }\n        }\n      }\n    } else {\n      toast(`${t(\"You haven't changed anything\")}`, { icon: \"👏\" })\n    }\n  }\n\n  const postDataToApi = () => {\n    if (\n      Object.values(formDatas).every((field) => {\n        return field !== null && field !== \"\"\n      })\n    ) {\n      setLoadingText(`${t(`Creating a New ${pageTitle}`)}`)\n      dispatch(postData(formDatas)).then((res) => {\n        // console.log(res)\n        if (res.meta.requestStatus === \"fulfilled\") {\n          setShow(!show)\n          toast.success(`${t(\"Successfully Created\")} ${t(pageTitle)}`, {\n            style: {\n              padding: \"16px\",\n              color: colors.success.main,\n              border: `1px solid ${colors.success.main}`\n            },\n            iconTheme: {\n              primary: colors.success.main\n            }\n          })\n          if (detailPage) {\n            dispatch(getDataById(id))\n          }\n        } else if (res.meta.requestStatus === \"rejected\") {\n          toast.error(res.payload.message, {\n            style: {\n              padding: \"16px\",\n              color: colors.danger.main,\n              border: `1px solid ${colors.danger.main}`\n            },\n            iconTheme: {\n              primary: colors.danger.main\n            }\n          })\n        }\n      })\n    } else {\n      // console.log(\"ERORR\")\n      // console.log(formDatas)\n      let errorFields = Object.assign({}, formDatasError)\n      for (let key in formDatas) {\n        // console.log(key, formDatas[key])\n        if (formDatas[key] === null || formDatas[key]?.length === 0) {\n          errorFields[key] = true\n        }\n      }\n      // console.log(errorFields)\n      setFormDatasError(errorFields)\n    }\n  }\n\n  const handleReset = () => {\n    dispatch(resetSelectedData())\n  }\n\n  const handleChangeInputs = (value, fieldName, isMulti = false) => {\n    // console.log(value, fieldName, isMulti)\n    if (isMulti) {\n      if (formDatas[fieldName]) {\n        const index = formDatas[fieldName].indexOf(value)\n        if (index !== -1) {\n          formDatas[fieldName].splice(index, 1)\n        } else {\n          formDatas[fieldName].push(value)\n        }\n      } else {\n        formDatas[fieldName] = [value]\n      }\n    } else {\n      formDatas[fieldName] = value\n    }\n    // formDatasError[fieldName] = false\n    setFormDatasError({ ...formDatasError, [fieldName]: false })\n  }\n\n  useEffect(() => {\n    // DYNAMIC IMPORT COMPONENTS\n    let componentsImport = {}\n    // const dynamicFormRelation = dynamicForm.filter(function (el) {\n    //   return el.type === \"dropdown\" || el.type === \"table\"\n    // })\n\n    const dynamicFormRelation = dynamicForm\n    for (let i = 0; i < dynamicFormRelation.length; i++) {\n      const fieldName = dynamicFormRelation[i][\"fieldName\"]\n      const fieldLabel = dynamicFormRelation[i][\"fieldLabel\"]\n      const path_name = dynamicFormRelation[i][\"fieldName\"].replaceAll(\n        \"id_\",\n        \"\"\n      )\n\n      formDatas[fieldName] = null\n      formDatasError[fieldName] = false\n\n      ////////////INPUT - DROPDOWN\n      if (\n        dynamicFormRelation[i][\"type\"] === \"dropdown\" ||\n        dynamicFormRelation[i][\"type\"] === \"table\"\n      ) {\n        const MyComponent = lazy(() => import(`../../${path_name}`))\n        componentsImport[`${path_name}_comp`] = (\n          <Fragment>\n            <Label className=\"form-label\" for={fieldName}>\n              {t(fieldLabel ?? \"\")}\n            </Label>\n            <MyComponent\n              key={`dynInput_${fieldName}`}\n              lookupMode={true}\n              lookupMode_fieldName={fieldName}\n              lookupMode_dropdown={\n                dynamicFormRelation[i][\"type\"] === \"dropdown\"\n              }\n              lookupMode_isMulti={\n                dynamicFormRelation[i].isMultiSelection ?? false\n              }\n              lookupMode_onChange={handleChangeInputs}\n              lookupMode_defaultValue={\n                dynamicFormRelation[i]?.isM2MDefValFromGrid\n                  ? allStore[storeName].data.map((x) => x[fieldName])\n                  : allStore[storeName]?.selectedData\n                  ? allStore[storeName].selectedData[fieldName]\n                  : \"\"\n              }\n              lookupMode_isM2MDefValFromGrid={\n                dynamicFormRelation[i]?.isM2MDefValFromGrid ?? false\n              }\n            />\n          </Fragment>\n        )\n      }\n\n      ////////////INPUT - TEXT\n      else {\n        componentsImport[`${path_name}_comp`] = (\n          <Fragment>\n            <Label className=\"form-label\" for={fieldName}>\n              {t(fieldLabel ?? \"\")}\n            </Label>\n            <Input\n              key={`dynInput_${fieldName}`}\n              defaultValue={\n                dynamicFormRelation[i]?.isM2MDefValFromGrid\n                  ? allStore[storeName].data.map((x) => x[fieldName])\n                  : allStore[storeName]?.selectedData\n                  ? allStore[storeName].selectedData[fieldName]\n                  : \"\"\n              }\n              onChange={(e) =>\n                handleChangeInputs(\n                  e.target.value,\n                  fieldName,\n                  dynamicFormRelation[i].isMultiSelection ?? false\n                )\n              }\n              // className={\n              //   !formDatasError[fieldName]\n              //     ? \"form-control is-invalid\"\n              //     : \"form-control\"\n              // }\n              id={`dynInput_${fieldName}`}\n            />\n          </Fragment>\n        )\n      }\n    }\n\n    setDynamicComponents(componentsImport)\n  }, [])\n\n  return (\n    <Modal\n      isOpen={show}\n      toggle={() => {\n        handleReset()\n        setShow(!show)\n      }}\n      className=\"modal-dialog-centered modal-lg\"\n    >\n      <UILoader\n        blocking={store.isLoadingAddEdit || store.isLoadingDetail}\n        loader={<Loader />}\n      >\n        <ModalHeader\n          className=\"bg-transparent\"\n          toggle={() => {\n            handleReset()\n            setShow(!show)\n          }}\n        ></ModalHeader>\n        <ModalBody className=\"px-sm-5 pt-50 pb-5\">\n          <div className=\"text-center mb-2\">\n            <h2 className=\"mb-1\">\n              {formState === \"edit\" ? t(\"Edit\") : t(\"Add Sub\")} {t(pageTitle)}\n            </h2>\n            <p className=\"mb-1\">\n              {t(\"Child for \")} {currentData ? t(currentData.title) : \"\"}\n            </p>\n          </div>\n          <Form\n            onSubmit={\n              formState === \"edit\"\n                ? handleSubmit(updateDataToApi)\n                : handleSubmit(postDataToApi)\n            }\n          >\n            <Row className=\"gy-1 pt-75\">\n              {dynamicForm.map((item, index) => {\n                const path_name = item.fieldName.replaceAll(\"id_\", \"\")\n                if ([\"dropdown\", \"table\"].includes(item.type)) {\n                  if (item.type === \"table\") {\n                    return (\n                      <Col key={path_name} md={12} xs={12}>\n                        <Suspense fallback={<div>Loading...</div>}>\n                          <div\n                            className={\n                              !formDatasError[item.fieldName]\n                                ? \"dynamicForm_input\"\n                                : \"dynamicForm_input dynamicForm_input_invalid\"\n                            }\n                          >\n                            {dynamicComponents[`${path_name}_comp`]}\n                            {item?.isM2MDefValFromGrid &&\n                              formDatas[item.fieldName] && (\n                                <div\n                                  style={{ textAlign: \"right\" }}\n                                  className=\"text-primary\"\n                                >\n                                  {formDatas[item.fieldName]?.length}{\" \"}\n                                  {t(item.fieldLabel)} {t(\"Selected\")}\n                                </div>\n                              )}\n                          </div>\n                        </Suspense>\n                      </Col>\n                    )\n                  } else {\n                    return (\n                      <Col key={path_name} md={12} xs={12}>\n                        <Suspense fallback={<div>Loading...</div>}>\n                          <div\n                            className={\n                              !formDatasError[item.fieldName]\n                                ? \"\"\n                                : \"dynamicForm_input_invalid\"\n                            }\n                          >\n                            {dynamicComponents[`${path_name}_comp`]}\n                            {item?.isM2MDefValFromGrid &&\n                              formDatas[item.fieldName] && (\n                                <div\n                                  style={{ textAlign: \"right\" }}\n                                  className=\"text-primary\"\n                                >\n                                  {formDatas[item.fieldName]?.length}{\" \"}\n                                  {t(item.fieldLabel)} {t(\"Selected\")}\n                                </div>\n                              )}\n                          </div>\n                        </Suspense>\n                      </Col>\n                    )\n                  }\n                } else {\n                  return (\n                    <Col key={path_name} md={12} xs={12}>\n                      <div\n                        className={\n                          !formDatasError[item.fieldName]\n                            ? \"\"\n                            : \"dynamicForm_input_invalid\"\n                        }\n                      >\n                        {dynamicComponents[`${path_name}_comp`]}\n                      </div>\n                    </Col>\n                  )\n                }\n              })}\n\n              <Col xs={12} className=\"text-center mt-2 pt-50\">\n                <Button type=\"submit\" className=\"me-1\" color=\"primary\">\n                  {t(\"Submit\")}\n                </Button>\n                <Button\n                  type=\"reset\"\n                  color=\"secondary\"\n                  outline\n                  onClick={() => {\n                    handleReset()\n                    setFormState(\"add\")\n                    setShow(false)\n                  }}\n                >\n                  {t(\"Cancel\")}\n                </Button>\n              </Col>\n            </Row>\n          </Form>\n        </ModalBody>\n      </UILoader>\n    </Modal>\n  )\n}\n\nexport default ModalAddEdit\n","import { Fragment, useEffect, useState } from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { useTranslation } from \"react-i18next\"\nimport Table from \"./Table\"\nimport Tree from \"./Tree\"\nimport DropDown from \"./DropDown\"\nimport { Row, Col, Input } from \"reactstrap\"\nimport StatsHorizontal from \"@components/widgets/stats/StatsHorizontal\"\nimport { User, UserPlus, UserCheck, UserX } from \"react-feather\"\nimport Icon from \"@mui/material/Icon\"\nimport AddCardOutlinedIcon from \"@mui/icons-material/AddCardOutlined\"\nimport \"./style.scss\"\nimport Breadcrumbs from \"@components/breadcrumbs\"\n\nimport {\n  storeName,\n  getAlwaysGrid,\n  getApiSummaryData,\n  getSummaryData,\n  pageTitle,\n  isTreeLayout\n} from \"./store\"\nimport { Skeleton } from \"@mui/material\"\n\nconst List = ({\n  lookupMode = false,\n  lookupMode_fieldName = \"\",\n  lookupMode_dropdown = false,\n  lookupMode_isMulti = false,\n  lookupMode_onChange,\n  lookupMode_defaultValue,\n  lookupMode_isM2MDefValFromGrid\n}) => {\n  const { t } = useTranslation()\n  const dispatch = useDispatch()\n  const store = useSelector((state) => state[storeName])\n  const [searchTerm, setSearchTerm] = useState(\"\")\n\n  const handleFilter = (event) => {\n    // console.log(\"handleFilter\")\n    setSearchTerm(event)\n    // debounceFn(event)\n  }\n\n  useEffect(() => {\n    if (\n      getApiSummaryData &&\n      (store.dataSummary?.length === 0 ||\n        (!store.isLoadingSummary && getAlwaysGrid))\n    ) {\n      dispatch(getSummaryData({}))\n    }\n  }, [dispatch, store.dataSummary?.length])\n\n  const colors = [\n    \"primary\",\n    \"success\",\n    \"warning\",\n    \"danger\",\n    \"info\",\n    \"secondary\"\n  ]\n\n  return !lookupMode_dropdown ? (\n    <Fragment>\n      <div className=\"content-header row\">\n        {!lookupMode && (\n          <Breadcrumbs\n            title={t(pageTitle)}\n            data={[{ title: t(\"App Setting\") }, { title: t(pageTitle) }]}\n          />\n        )}\n        {/* <div className=\"content-header-right text-md-end col-md col-12 mb-2 \">\n          <div className=\"d-flex align-items-center mb-sm-0 mb-1 me-1\">\n            <label className=\"mb-0\" htmlFor=\"search-invoice\">\n              {t(\"Search\")}:\n            </label>\n            <Input\n              id=\"search-invoice\"\n              className=\"ms-50 w-100\"\n              type=\"text\"\n              value={searchTerm}\n              onChange={(e) => handleFilter(e.target.value)}\n            />\n          </div>\n        </div> */}\n      </div>\n      <div className=\"app-user-list\">\n        {!lookupMode && getApiSummaryData && (\n          <Row>\n            {store.dataSummary?.map((item, index) => {\n              return (\n                <Col>\n                  <StatsHorizontal\n                    color={colors[index]}\n                    statTitle={`${t(item.title)}`}\n                    icon={\n                      item.icon ? (\n                        <Icon\n                          baseClassName=\"material-icons-outlined\"\n                          fontSize=\"20\"\n                        >\n                          {item.icon}\n                        </Icon>\n                      ) : (\n                        <Icon\n                          baseClassName=\"material-icons-outlined\"\n                          fontSize=\"20\"\n                        >\n                          lightbulb\n                        </Icon>\n                      )\n                    }\n                    renderStats={\n                      store.isLoadingSummary ? (\n                        <Skeleton\n                          sx={{ bgcolor: \"#eef2f8\" }}\n                          animation=\"wave\"\n                          height={25}\n                          width={40}\n                          className=\"fw-bolder mb-75\"\n                        />\n                      ) : (\n                        <h3 className=\"fw-bolder mb-75\">\n                          {item.count_format ?? item.count}\n                        </h3>\n                      )\n                    }\n                  />\n                </Col>\n              )\n            })}\n          </Row>\n        )}\n        {isTreeLayout ? (\n          <Tree\n            searchString={searchTerm}\n            lookupMode={lookupMode}\n            lookupMode_fieldName={lookupMode_fieldName}\n            lookupMode_defaultValue={lookupMode_defaultValue}\n            lookupMode_onChange={lookupMode_onChange}\n            lookupMode_isMulti={lookupMode_isMulti}\n            lookupMode_isM2MDefValFromGrid\n          />\n        ) : (\n          <Table\n            lookupMode={lookupMode}\n            lookupMode_fieldName={lookupMode_fieldName}\n            lookupMode_defaultValue={lookupMode_defaultValue}\n            lookupMode_onChange={lookupMode_onChange}\n            lookupMode_isMulti={lookupMode_isMulti}\n            lookupMode_isM2MDefValFromGrid\n          />\n        )}\n      </div>\n    </Fragment>\n  ) : (\n    <DropDown\n      lookupMode_fieldName={lookupMode_fieldName}\n      lookupMode_onChange={lookupMode_onChange}\n      lookupMode_defaultValue={lookupMode_defaultValue}\n      lookupMode_isMulti={lookupMode_isMulti}\n      lookupMode_isM2MDefValFromGrid\n    />\n  )\n}\n\nexport default List\n","/* eslint-disable implicit-arrow-linebreak */\n/* eslint-disable no-confusing-arrow */\n/* eslint-disable multiline-ternary */\nimport {\n  Fragment,\n  useState,\n  useEffect,\n  useContext,\n  useMemo,\n  useCallback,\n  forwardRef,\n  lazy,\n  Suspense\n} from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { AbilityContext } from \"@src/utility/context/Can\"\nimport ModalAddEdit from \"./modal\"\nimport { neutralizeBack, revivalBack } from \"@src/utility/Utils\"\nimport {\n  storeName,\n  pageTitle,\n  serverSideGrid,\n  detailFromGrid,\n  getApiAfterPut,\n  getApiAfterPost,\n  getApiAfterDelete,\n  getSummarysData,\n  getAlwaysGrid,\n  getDataList,\n  getDataById,\n  setDataById,\n  deleteData,\n  deleteSelectedRowData,\n  disabledAction,\n  dynamicColumnsFilter,\n  setDataList\n} from \"./store\"\n\nimport { getDataList as getDataListApp } from \"../app/store\"\nimport { getInvoice } from \"../../invoices/store\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport ReactPaginate from \"react-paginate\"\nimport DataTable from \"react-data-table-component\"\nimport debounce from \"lodash.debounce\"\nimport {\n  ChevronDown,\n  Share,\n  Printer,\n  FileText,\n  File,\n  Grid\n} from \"react-feather\"\n\nimport { getUserData } from \"@utils\"\n\nimport UILoader from \"@components/ui-loader\"\nimport Spinner from \"@components/spinner/Loading-spinner\"\nimport { ThemeColors } from \"@src/utility/context/ThemeColors\"\nimport toast from \"react-hot-toast\"\nimport {\n  Row,\n  Col,\n  Card,\n  Input,\n  Button,\n  DropdownMenu,\n  DropdownItem,\n  DropdownToggle,\n  UncontrolledDropdown,\n  CardText\n} from \"reactstrap\"\n\nimport \"@styles/react/libs/react-select/_react-select.scss\"\nimport \"@styles/react/libs/tables/react-dataTable-component.scss\"\nimport Swal from \"sweetalert2\"\nimport withReactContent from \"sweetalert2-react-content\"\nimport { Skeleton } from \"@mui/material\"\nimport Moment from \"moment\"\nimport GlobalActionsTable from \"../../../shared/GlobaActionsTable\"\n\nimport { getDataList as getDataListPermission } from \"../permission/store\"\nimport { NoDataDisplay, Loader } from \"@src/shared/CommonComponents\"\nimport Avatar from \"@components/avatar\"\n\nconst MySwal = withReactContent(Swal)\n\n// ** Bootstrap Checkbox Component\nconst BootstrapCheckbox = forwardRef((props, ref) => (\n  <div className=\"form-check\">\n    <Input type=\"checkbox\" ref={ref} {...props} />\n  </div>\n))\n\n// ** Table Header\nconst CustomHeader = ({\n  store,\n  toggleSidebar,\n  handlePerPage,\n  rowsPerPage,\n  handleFilter,\n  searchTerm,\n  selectedRow,\n  handleDeleteSelected,\n  handleFiltersChange,\n  filtersCustomAdd,\n  searchString,\n  lookupMode,\n  lookupMode_fieldName,\n  lookupMode_defaultValue,\n  lookupMode_onChange,\n  lookupMode_isMulti,\n  lookupMode_isM2MDefValFromGrid\n}) => {\n  const { t } = useTranslation()\n  const ability = useContext(AbilityContext)\n\n  const dispatch = useDispatch()\n  const allStore = useSelector((state) => state)\n  const [dynamicFilterComponents, setDynamicFilterComponents] = useState({})\n  const [dynamicFilterDatas, setDynamicFilterDatas] = useState({})\n  const storeInvoice = useSelector((state) => state.invoices)\n  const userData = getUserData()\n\n  const handleChangeInputs = (value, fieldName, isMulti = false) => {\n    fieldName = `filter_${fieldName}`\n    if (isMulti) {\n      if (dynamicFilterDatas[fieldName]) {\n        const index = dynamicFilterDatas[fieldName].indexOf(value)\n        if (index !== -1) {\n          dynamicFilterDatas[fieldName].splice(index, 1)\n        } else {\n          dynamicFilterDatas[fieldName].push(value)\n        }\n      } else {\n        dynamicFilterDatas[fieldName] = [value]\n      }\n    } else {\n      dynamicFilterDatas[fieldName] = value\n    }\n    return handleFiltersChange(dynamicFilterDatas[fieldName], fieldName)\n  }\n\n  useEffect(() => {\n    // DYNAMIC IMPORT COMPONENTS\n    let componentsImport = {}\n    for (let i = 0; i < dynamicColumnsFilter.length; i++) {\n      const fieldName = dynamicColumnsFilter[i][\"fieldName\"]\n      const path_name = dynamicColumnsFilter[i][\"fieldName\"].replaceAll(\n        \"id_\",\n        \"\"\n      )\n\n      dynamicFilterDatas[`filter_${fieldName}`] = null\n      const MyComponent = lazy(() => import(`../${path_name}`))\n      componentsImport[`${path_name}_comp`] = (\n        <MyComponent\n          lookupMode={true}\n          lookupMode_fieldName={fieldName}\n          lookupMode_dropdown={true}\n          lookupMode_isMulti={dynamicColumnsFilter[i].isMultiSelection ?? false}\n          lookupMode_onChange={handleChangeInputs}\n          lookupMode_defaultValue={\n            dynamicColumnsFilter[i]?.isM2MDefValFromGrid\n              ? allStore[storeName].data.map((x) => x[fieldName])\n              : allStore[storeName]?.selectedData\n              ? allStore[storeName].selectedData[fieldName]\n              : \"\"\n          }\n          lookupMode_isM2MDefValFromGrid={\n            dynamicColumnsFilter[i]?.isM2MDefValFromGrid ?? false\n          }\n        />\n      )\n    }\n\n    setDynamicFilterComponents(componentsImport)\n  }, [dispatch, dynamicFilterDatas])\n\n  return (\n    <div\n      className={`invoice-list-table-header w-100 ms-50 mb-75 ${\n        !lookupMode ? \"mt-2 me-1\" : \"\"\n      }`}\n    >\n      <Row>\n        <Col xl=\"4\" className=\"d-flex align-items-center p-0\">\n          {!lookupMode && (\n            <div className=\"d-flex align-items-center w-100\">\n              <label htmlFor=\"rows-per-page\">{t(\"Show\")}</label>\n              <Input\n                className=\"mx-50\"\n                type=\"select\"\n                id=\"rows-per-page\"\n                value={rowsPerPage}\n                onChange={handlePerPage}\n                style={{ width: \"5rem\" }}\n              >\n                <option value=\"10\">10</option>\n                <option value=\"25\">25</option>\n                <option value=\"50\">50</option>\n              </Input>\n              <label htmlFor=\"rows-per-page\">{t(\"Entries\")}</label>\n            </div>\n          )}\n        </Col>\n        <Col\n          xl=\"8\"\n          className={`d-flex align-items-sm-center justify-content-xl-end justify-content-start flex-xl-nowrap flex-wrap flex-sm-row flex-column p-0 mt-xl-0 mt-1 ${\n            !lookupMode ? \"pe-xl-1\" : \"\"\n          }`}\n        >\n          {selectedRow?.length > 0 &&\n          ability.can(\"delete\", sessionStorage.getItem(\"current_page_perm\")) &&\n          !lookupMode ? (\n            <div\n              className={`d-flex align-items-center mb-sm-0 mb-1 ${\n                !lookupMode ? \"me-1\" : \"\"\n              }`}\n            >\n              <Button\n                className=\"delete-users\"\n                color=\"danger\"\n                onClick={handleDeleteSelected}\n              >\n                {t(\"Delete\")} {selectedRow.length} {t(`Selected ${pageTitle}`)}\n              </Button>\n            </div>\n          ) : null}\n          <div className={`d-flex align-items-center mb-sm-0 mb-1 me-1`}>\n            <label className=\"mb-0\" htmlFor=\"search-invoice\">\n              {t(\"Search\")}:\n            </label>\n            <Input\n              id=\"search-invoice\"\n              className=\"ms-50 w-100\"\n              type=\"text\"\n              value={searchTerm}\n              onChange={(e) => handleFilter(e.target.value)}\n            />\n          </div>\n\n          {dynamicColumnsFilter.map((item, index) => {\n            const path_name = item.fieldName.replaceAll(\"id_\", \"\")\n            return (\n              <div\n                key={path_name}\n                className={`mt-50 width-300 mt-sm-0 mt-1 ${\n                  !lookupMode ? \"me-1\" : \"\"\n                }`}\n              >\n                <Suspense fallback={<div>Loading...</div>}>\n                  {dynamicFilterComponents[`${path_name}_comp`]}\n                </Suspense>\n              </div>\n\n              // <Col key={path_name} md={12} xs={12}>\n              //   <Label className=\"form-label\" for={item.fieldName}>\n              //     {t(item.fieldLabel ?? \"\")}\n              //   </Label>\n              //   <Suspense fallback={<div>Loading...</div>}>\n              //     <div\n              //       className={\n              //         !formDatasError[item.fieldName]\n              //           ? \"dynamicForm_input\"\n              //           : \"dynamicForm_input dynamicForm_input_invalid\"\n              //       }\n              //     >\n              //       {dynamicComponents[`${path_name}_comp`]}\n              //       {item?.isM2MDefValFromGrid &&\n              //         formDatas[item.fieldName] && (\n              //           <div\n              //             style={{ textAlign: \"right\" }}\n              //             className=\"text-primary\"\n              //           >\n              //             {formDatas[item.fieldName]?.length}{\" \"}\n              //             {t(item.fieldLabel)} {t(\"Selected\")}\n              //           </div>\n              //         )}\n              //     </div>\n              //   </Suspense>\n              // </Col>\n            )\n          })}\n\n          {/* {!filtersCustomAdd[\"filter_id_permission\"] ? (\n            <div className=\"mt-50 width-200 me-1 mt-sm-0 mt-1\">\n              <Input\n                type=\"select\"\n                name=\"select\"\n                // value={role}\n                onChange={(e) =>\n                  handleFiltersChange(e.target.value, \"filter_id_permission\")\n                }\n              >\n                <option value=\"\">\n                  {t(\"Select\")} {t(\"Permission\")}\n                </option>\n                {allStore[\"apps_permission\"].data.map((item, index) => (\n                  <option key={item.id} value={item.id}>\n                    {item.title}\n                  </option>\n                ))}\n              </Input>\n            </div>\n          ) : null} */}\n          <div className=\"d-flex align-items-center table-header-actions\">\n            {ability.can(\"post\", sessionStorage.getItem(\"current_page_perm\")) &&\n            !lookupMode ? (\n              <Button\n                className=\"add-new-user\"\n                color=\"primary\"\n                onClick={toggleSidebar}\n                // onClick={handleAdd}\n              >\n                {t(\"Add New\")} {t(pageTitle)}\n              </Button>\n            ) : null}\n          </div>\n        </Col>\n      </Row>\n    </div>\n  )\n}\n\nconst List = ({\n  filtersCustomAdd,\n  searchString,\n  lookupMode,\n  lookupMode_fieldName,\n  lookupMode_defaultValue,\n  lookupMode_onChange,\n  lookupMode_isMulti,\n  lookupMode_isM2MDefValFromGrid\n}) => {\n  const dispatch = useDispatch()\n  const store = useSelector((state) => state[storeName])\n  const storeApp = useSelector((state) => state.apps_app)\n  const { t } = useTranslation()\n  const ability = useContext(AbilityContext)\n\n  const { colors } = useContext(ThemeColors)\n\n  const [sort_dir, setSortDir] = useState(\"desc\")\n  const [searchTerm, setSearchTerm] = useState(\"\")\n  const [currentPage, setCurrentPage] = useState(1)\n  const [sort, setSort] = useState(\"id\")\n  const [rowsPerPage, setRowsPerPage] = useState(lookupMode ? 5 : 10)\n  const [selectedRows, setSelectedRows] = useState([])\n\n  const [filtersCustom, setFiltersCustom] = useState(filtersCustomAdd ?? {})\n\n  const [toggleCleared, setToggleCleared] = useState(false)\n\n  const [sidebarOpen, setSidebarOpen] = useState(false)\n  const [loading, setLoading] = useState(false)\n  const [loadingText, setLoadingText] = useState(\"Please Wait\")\n  const [showModal, setShowModal] = useState(false)\n  const [formState, setFormState] = useState(null)\n\n  const handleEdit = (rowData) => {\n    setFormState(\"edit\")\n    if (!detailFromGrid) {\n      setLoadingText(\n        `${t(\"Loading\")} ${t(\"Detail\")} ${t(\"Data\")} ${t(pageTitle)}`\n      )\n      setLoading(true)\n      dispatch(getDataById(rowData.id)).then((res) => {\n        if (res.meta.requestStatus === \"rejected\") {\n          setLoading(false)\n          toast.error(res.payload.message, {\n            style: {\n              padding: \"16px\",\n              color: colors.danger.main,\n              border: `1px solid ${colors.danger.main}`\n            },\n            iconTheme: {\n              primary: colors.danger.main\n            }\n          })\n        } else {\n          setLoading(false)\n          setShowModal(true)\n        }\n      })\n    } else {\n      setLoadingText(\n        `${t(\"Loading\")} ${t(\"Detail\")} ${t(\"Data\")} ${t(pageTitle)}`\n      )\n      setLoading(true)\n      dispatch(setDataById(rowData)).then(() => {\n        if (storeApp.data.length === 0 && !storeApp.isLoading) {\n          dispatch(getDataListApp({})).then((res) => {\n            setLoading(false)\n            setShowModal(true)\n          })\n        } else {\n          setLoading(false)\n          setShowModal(true)\n        }\n      })\n    }\n  }\n\n  const handleCloseModal = () => {\n    setSidebarOpen(!sidebarOpen)\n    setShowModal(!showModal)\n    revivalBack()\n  }\n\n  const toggleSidebar = () => {\n    // console.log(\"here\")\n    setFormState(\"add\")\n    setSidebarOpen(!sidebarOpen)\n    setShowModal(!showModal)\n    neutralizeBack(handleCloseModal)\n  }\n\n  const handleDelete = async (id) => {\n    const result = await MySwal.fire({\n      title: `${t(\"Are you sure?\")}`,\n      text: `${t(\"You won't be able to revert\")} ${t(pageTitle)}!`,\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonText: `${t(\"Yes, Delete\")} ${t(pageTitle)}!`,\n      cancelButtonText: `${t(\"Cancel\")}`,\n      customClass: {\n        confirmButton: \"btn btn-primary\",\n        cancelButton: \"btn btn-outline-danger ms-1\"\n      },\n      buttonsStyling: false\n    })\n    if (result.value) {\n      setLoadingText(`${t(\"Deleting\")} Data ${t(pageTitle)}`)\n      setLoading(true)\n      dispatch(deleteData(id)).then((res) => {\n        // console.log(res)\n        if (res.meta.requestStatus === \"fulfilled\") {\n          setLoading(false)\n          toast.success(`${t(\"Successfully deleted\")} ${t(pageTitle)}`, {\n            style: {\n              padding: \"16px\",\n              color: colors.success.main,\n              border: `1px solid ${colors.success.main}`\n            },\n            iconTheme: {\n              primary: colors.success.main\n            }\n          })\n        } else if (res.meta.requestStatus === \"rejected\") {\n          setLoading(false)\n          toast.error(res.payload.message, {\n            style: {\n              padding: \"16px\",\n              color: colors.danger.main,\n              border: `1px solid ${colors.danger.main}`\n            },\n            iconTheme: {\n              primary: colors.danger.main\n            }\n          })\n        }\n      })\n    }\n  }\n\n  const handleDeleteSelected = async () => {\n    const countSelectedCopy = selectedRows.length\n    const result = await MySwal.fire({\n      title: `${t(\"Are you sure?\")}`,\n      text: `${t(\"You will delete\")} ${countSelectedCopy} ${t(\n        \"selected data. Deleted data cannot be recovered\"\n      )}!`,\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonText: `${t(\"Yes, Delete\")} ${countSelectedCopy} ${t(\n        pageTitle\n      )}!`,\n      cancelButtonText: `${t(\"Cancel\")}`,\n      customClass: {\n        confirmButton: \"btn btn-primary\",\n        cancelButton: \"btn btn-outline-danger ms-1\"\n      },\n      buttonsStyling: false\n    })\n    if (result.value) {\n      setLoadingText(\n        `${t(\"Deleting\")} ${countSelectedCopy} Data ${t(pageTitle)}`\n      )\n      setLoading(true)\n      const values = selectedRows.map((a) => a.id)\n      // console.log(values)\n      dispatch(deleteSelectedRowData({ id: values })).then((res) => {\n        // console.log(res)\n        if (res.meta.requestStatus === \"fulfilled\") {\n          setSelectedRows([])\n          setToggleCleared(!toggleCleared)\n          setLoading(false)\n          toast.success(\n            `${t(\"Successfully deleted\")} ${countSelectedCopy} ${t(pageTitle)}`,\n            {\n              style: {\n                padding: \"16px\",\n                color: colors.success.main,\n                border: `1px solid ${colors.success.main}`\n              },\n              iconTheme: {\n                primary: colors.success.main\n              }\n            }\n          )\n        } else if (res.meta.requestStatus === \"rejected\") {\n          setLoading(false)\n          toast.error(res.payload.message, {\n            style: {\n              padding: \"16px\",\n              color: colors.danger.main,\n              border: `1px solid ${colors.danger.main}`\n            },\n            iconTheme: {\n              primary: colors.danger.main\n            }\n          })\n        }\n      })\n    }\n  }\n\n  /////PAGINATION SERVERSIDE\n  const handlePagination = (page) => {\n    dispatch(\n      getDataList({\n        sort_dir,\n        sort,\n        search: searchTerm,\n        length: rowsPerPage,\n        page: page.selected + 1,\n        ...filtersCustom\n      })\n    )\n    setCurrentPage(page.selected + 1)\n  }\n\n  const handlePerPage = (e) => {\n    const value = parseInt(e.currentTarget.value)\n    dispatch(\n      getDataList({\n        sort_dir,\n        sort,\n        search: searchTerm,\n        length: value,\n        page: currentPage,\n        ...filtersCustom\n      })\n    )\n    setRowsPerPage(value)\n  }\n\n  const handleDebounceFn = (inputValue) => {\n    dispatch(\n      getDataList({\n        sort_dir,\n        search: inputValue,\n        sort,\n        page: currentPage,\n        length: rowsPerPage,\n        ...filtersCustom\n      })\n    )\n  }\n\n  const debounceFn = useCallback(debounce(handleDebounceFn, 500), [])\n\n  const handleFilter = (event) => {\n    setSearchTerm(event)\n    debounceFn(event)\n  }\n\n  const handleChangeLookupMode = (\n    e,\n    id,\n    lookupMode_fieldName,\n    lookupMode_isMulti\n  ) => {\n    return lookupMode_onChange(id, lookupMode_fieldName, lookupMode_isMulti)\n  }\n\n  const handleFiltersChange = (value, par_name) => {\n    filtersCustom[par_name] = value\n    dispatch(\n      getDataList({\n        sort_dir,\n        sort,\n        search: searchTerm,\n        page: currentPage,\n        length: rowsPerPage,\n        ...filtersCustom\n      })\n    )\n  }\n\n  const handleSort = (column, sortDirection) => {\n    setSortDir(sortDirection)\n    setSort(column.sortField)\n    dispatch(\n      getDataList({\n        sort_dir,\n        sort,\n        search: searchTerm,\n        page: currentPage,\n        length: rowsPerPage,\n        ...filtersCustom\n      })\n    )\n  }\n\n  const handleRowSelected = useCallback((state) => {\n    setSelectedRows(state.selectedRows)\n    if (lookupMode && lookupMode_isMulti) {\n      lookupMode_onChange(\n        state.selectedRows.map((s) => s.id),\n        lookupMode_fieldName,\n        lookupMode_isMulti\n      )\n    }\n  }, [])\n\n  const CustomPagination = () => {\n    const count = Number(Math.ceil(store.total / rowsPerPage))\n\n    return (\n      <ReactPaginate\n        previousLabel={\"\"}\n        nextLabel={\"\"}\n        pageCount={count || 1}\n        activeClassName=\"active\"\n        forcePage={currentPage !== 0 ? currentPage - 1 : 0}\n        onPageChange={(page) => handlePagination(page)}\n        pageClassName={\"page-item\"}\n        nextLinkClassName={\"page-link\"}\n        nextClassName={\"page-item next\"}\n        previousClassName={\"page-item prev\"}\n        previousLinkClassName={\"page-link\"}\n        pageLinkClassName={\"page-link\"}\n        containerClassName={\n          \"pagination react-paginate justify-content-end my-2 pe-1\"\n        }\n      />\n    )\n  }\n\n  const renderCell = (row, column) => {\n    const field = row[column.fieldName]\n    const dataFormat = column.dataFormat\n    if (dataFormat) {\n      if (dataFormat.includes(\":\")) {\n        const columnTypeFormat = dataFormat.split(\":\")\n        const columnType = columnTypeFormat[0]\n        const columnFormat = columnTypeFormat[1]\n        let columnFormated = row[column.fieldName]\n        if (columnType === \"date\") {\n          columnFormated = Moment(field).format(\"DD MMM YYYY\")\n          if (columnFormat) {\n            columnFormated = Moment(field).format(columnFormat)\n          }\n        }\n        if (columnType === \"datetime\") {\n          columnFormated = Moment(field).format(\"DD MMM YYYY HH:mm\")\n          if (columnFormat) {\n            columnFormated = Moment(field).format(columnFormat)\n          }\n        }\n        return columnFormated\n      }\n    }\n    return row[column.fieldName]\n  }\n\n  const columns = [\n    ...store.dynamicColumns.map((column) => ({\n      name: column.columnName,\n      sortField: column.fieldName,\n      center: false,\n      sortable: true,\n      minWidth: column.minWidth,\n      selector: (row) => row[column.fieldName],\n      cell: (row) => renderCell(row, column)\n    })),\n    {\n      name: t(\"App\"),\n      center: false,\n      sortable: false,\n      selector: (row) => row?.app_logo,\n      cell: (row) => (\n        <div className=\"d-flex justify-content-left align-items-center\">\n          {row?.app_logo ? (\n            <Avatar\n              className=\"me-1\"\n              img={row?.app_logo}\n              width=\"32\"\n              height=\"32\"\n              imgHeight=\"25\"\n              imgWidth=\"30\"\n              color={\"light-primary\"}\n            />\n          ) : (\n            <Avatar\n              initials\n              className=\"me-1\"\n              // color={row.avatarColor}\n              content={row?.app_name ?? \"\"}\n            />\n          )}\n\n          <div className=\"d-flex flex-column\">\n            <span className=\"fw-bolder\">{row.app_name}</span>\n          </div>\n        </div>\n      )\n    },\n    // {\n    //   name: t(\"App Name\"),\n    //   sortField: \"attributes\",\n    //   center: false,\n    //   sortable: true,\n    //   selector: (row) => row.attributes,\n    //   cell: (row) => row.attributes\n    // },\n    !lookupMode && {\n      name: t(\"Actions\"),\n      center: true,\n      width: \"140px\",\n      cell: (row) => (\n        <GlobalActionsTable\n          disabledAction={disabledAction}\n          row={row}\n          handleDelete={handleDelete}\n          handleEdit={handleEdit}\n        />\n      )\n      // (\n      //   <Input\n      //     disabled={row.hidden}\n      //     defaultChecked={row.checked}\n      //     onChange={(e) =>\n      //       handleChangeLookupMode(\n      //         e,\n      //         row.id,\n      //         lookupMode_fieldName,\n      //         lookupMode_isMulti\n      //       )\n      //     }\n      //     type=\"checkbox\"\n      //     id={`checkbox-${row.id}`}\n      //   />\n      // )\n    }\n  ]\n\n  const tableColumns = useMemo(\n    () =>\n      store.isLoading\n        ? columns.map((column) => ({\n            name: t(column.name),\n            ...column,\n            sortable: false,\n            cell: (row) =>\n              column.name === \"Actions\" ? (\n                <Fragment>\n                  <Skeleton\n                    sx={{ bgcolor: colors.dark.light }}\n                    animation=\"wave\"\n                    className=\"ms-2 me-1\"\n                    width={30}\n                    height={40}\n                  />\n                  <Skeleton\n                    sx={{ bgcolor: colors.dark.light }}\n                    animation=\"wave\"\n                    width={30}\n                    height={40}\n                  />\n                </Fragment>\n              ) : (\n                <Skeleton\n                  sx={{ bgcolor: colors.dark.light }}\n                  animation=\"wave\"\n                  width=\"100%\"\n                  height={40}\n                />\n              )\n          }))\n        : columns.map((column) => ({\n            name: t(column.name),\n            ...column\n          })),\n    [store.isLoading, columns]\n  )\n\n  const dataToRender = () => {\n    const filters = {\n      search: searchTerm\n    }\n    const isFiltered = Object.keys(filters).some(function (k) {\n      return filters[k].length > 0\n    })\n    if (!store.isLoading) {\n      if (store.data.length > 0) {\n        return store.data\n      } else if (store.data.length === 0 && isFiltered) {\n        return []\n      } else {\n        // console.log(store.allData)\n        // return store.allData.slice(0, rowsPerPage)\n      }\n    } else {\n      return Array(10).fill({})\n    }\n  }\n\n  const removeDefaultValue = (data, dataTree) => {\n    // console.log(dataTree)\n    let mainArray = JSON.parse(JSON.stringify(dataTree))\n    // mainArray.forEach(function iter(a) {\n    //   if (data.includes(a.id)) {\n    //     a[\"checked\"] = true\n    //     a[\"hidden\"] = true\n    //   }\n    //   // console.log(a.id, !data.includes(a.id))\n\n    //   // eslint-disable-next-line no-unused-expressions\n    //   Array.isArray(a.children) && a.children.forEach(iter)\n    // })\n    // dispatch(setDataList(mainArray))\n  }\n\n  useEffect(() => {\n    if (store.data.length === 0 || (!store.isLoading && getAlwaysGrid)) {\n      setLoadingText(`${t(\"Loading Data\")} ${t(pageTitle)}`)\n      dispatch(\n        getDataList({\n          sort_dir,\n          sort,\n          search: searchTerm,\n          page: currentPage,\n          length: rowsPerPage,\n          ...filtersCustom\n        })\n      ).then((x) => {\n        if (lookupMode && lookupMode_isM2MDefValFromGrid) {\n          removeDefaultValue(lookupMode_defaultValue, x.payload.data)\n        }\n      })\n    }\n    if (store.data.length > 0 && lookupMode_isM2MDefValFromGrid && lookupMode) {\n      removeDefaultValue(lookupMode_defaultValue, store.data)\n    }\n  }, [dispatch, sort_dir, sort, currentPage, filtersCustom])\n\n  return (\n    <Fragment>\n      <UILoader blocking={loading} loader={<Loader />}>\n        <Card className=\"overflow-hidden\">\n          <div className=\"react-dataTable react-dataTable-selectable-rows\">\n            <DataTable\n              noHeader\n              subHeader\n              sortServer\n              responsive\n              pagination\n              paginationServer\n              paginationTotalRows={store.total}\n              paginationComponent={CustomPagination}\n              selectableRows\n              onSelectedRowsChange={handleRowSelected}\n              selectableRowsHighlight\n              // onRowClicked={handleRowSelected}\n              clearSelectedRows={toggleCleared}\n              selectableRowsComponent={BootstrapCheckbox}\n              noDataComponent={<NoDataDisplay />}\n              // fixedHeader\n              // fixedHeaderScrollHeight=\"600px\"\n              style={{ \"min-height\": \"400px\" }}\n              highlightOnHover\n              pointerOnHover\n              columns={tableColumns}\n              onSort={handleSort}\n              sortIcon={<ChevronDown />}\n              className=\"react-dataTable\"\n              data={dataToRender()}\n              subHeaderComponent={\n                <CustomHeader\n                  store={store}\n                  searchTerm={searchTerm}\n                  rowsPerPage={rowsPerPage}\n                  handleFilter={handleFilter}\n                  handlePerPage={handlePerPage}\n                  toggleSidebar={toggleSidebar}\n                  selectedRow={selectedRows}\n                  handleDeleteSelected={handleDeleteSelected}\n                  handleFiltersChange={handleFiltersChange}\n                  filtersCustomAdd={filtersCustomAdd}\n                  lookupMode={lookupMode}\n                />\n              }\n            />\n          </div>\n        </Card>\n\n        {/* <Sidebar open={sidebarOpen} toggleSidebar={toggleSidebar} /> */}\n      </UILoader>\n\n      {showModal && (\n        <ModalAddEdit\n          formState={formState}\n          show={showModal}\n          setShow={toggleSidebar}\n          detailPage={false}\n          setFormState={setFormState}\n        />\n      )}\n    </Fragment>\n  )\n}\n\nexport default List\n","/* eslint-disable implicit-arrow-linebreak */\n/* eslint-disable no-confusing-arrow */\n/* eslint-disable multiline-ternary */\nimport {\n  Fragment,\n  useState,\n  useEffect,\n  useContext,\n  useMemo,\n  useCallback,\n  forwardRef,\n  Component\n} from \"react\"\nimport { Link } from \"react-router-dom\"\nimport { useTranslation } from \"react-i18next\"\nimport { AbilityContext } from \"@src/utility/context/Can\"\nimport ModalAddEdit from \"./modal\"\nimport { neutralizeBack, revivalBack } from \"@src/utility/Utils\"\nimport {\n  storeName,\n  pageTitle,\n  serverSideGrid,\n  detailFromGrid,\n  getApiAfterPut,\n  getApiAfterPost,\n  getApiAfterDelete,\n  getSummarysData,\n  getAlwaysGrid,\n  getDataList,\n  getDataById,\n  setDataById,\n  deleteData,\n  deleteSelectedRowData,\n  setDataList,\n  putData\n} from \"./store\"\nimport { getInvoice } from \"../../invoices/store\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport ReactPaginate from \"react-paginate\"\nimport DataTable from \"react-data-table-component\"\nimport debounce from \"lodash.debounce\"\nimport {\n  ChevronDown,\n  Share,\n  Printer,\n  FileText,\n  File,\n  Grid,\n  Copy,\n  Slack,\n  User,\n  Settings,\n  Database,\n  Edit2,\n  MoreVertical,\n  Trash2,\n  Archive,\n  Eye,\n  CheckCircle,\n  CheckSquare,\n  Check,\n  Square,\n  Plus\n} from \"react-feather\"\n\nimport { getUserData } from \"@utils\"\n\nimport UILoader from \"@components/ui-loader\"\nimport Spinner from \"@components/spinner/Loading-spinner\"\nimport { ThemeColors } from \"@src/utility/context/ThemeColors\"\nimport toast from \"react-hot-toast\"\nimport {\n  Row,\n  Col,\n  Card,\n  Input,\n  Label,\n  Button,\n  CardBody,\n  CardTitle,\n  CardHeader,\n  DropdownMenu,\n  DropdownItem,\n  DropdownToggle,\n  UncontrolledDropdown,\n  Badge,\n  UncontrolledTooltip,\n  CardText\n} from \"reactstrap\"\nimport Swal from \"sweetalert2\"\nimport withReactContent from \"sweetalert2-react-content\"\nconst MySwal = withReactContent(Swal)\nimport \"@styles/react/libs/react-select/_react-select.scss\"\nimport \"@styles/react/libs/tables/react-dataTable-component.scss\"\nimport SortableTree from \"@nosferatu500/react-sortable-tree\"\nimport { Loader } from \"@src/shared/CommonComponents\"\n\nconst List = ({\n  searchString,\n  lookupMode,\n  lookupMode_fieldName,\n  lookupMode_defaultValue,\n  lookupMode_onChange,\n  lookupMode_isMulti,\n  lookupMode_isM2MDefValFromGrid\n}) => {\n  const dispatch = useDispatch()\n  const store = useSelector((state) => state[storeName])\n  const { t } = useTranslation()\n  const [sidebarOpen, setSidebarOpen] = useState(false)\n  const ability = useContext(AbilityContext)\n  const [loading, setLoading] = useState(false)\n  const [loadingText, setLoadingText] = useState(\"Please Wait\")\n  const [showModal, setShowModal] = useState(false)\n  const [formState, setFormState] = useState(null)\n  const [currentDataAdd, setCurrentDataAdd] = useState(null)\n\n  const [searchFocusIndex, setSearchFocusIndex] = useState(0)\n  const [searchFoundCount, setSearchFoundCount] = useState(null)\n\n  const { colors } = useContext(ThemeColors)\n\n  const handleEdit = (rowData) => {\n    setFormState(\"edit\")\n    if (!detailFromGrid) {\n      setLoadingText(\n        `${t(\"Loading\")} ${t(\"Detail\")} ${t(\"Data\")} ${t(pageTitle)}`\n      )\n      setLoading(true)\n      dispatch(getDataById(rowData.id)).then((res) => {\n        if (res.meta.requestStatus === \"rejected\") {\n          setLoading(false)\n          toast.error(res.payload.message, {\n            style: {\n              padding: \"16px\",\n              color: colors.danger.main,\n              border: `1px solid ${colors.danger.main}`\n            },\n            iconTheme: {\n              primary: colors.danger.main\n            }\n          })\n        } else {\n          setLoading(false)\n          setShowModal(true)\n        }\n      })\n    } else {\n      setLoadingText(\n        `${t(\"Loading\")} ${t(\"Detail\")} ${t(\"Data\")} ${t(pageTitle)}`\n      )\n      setLoading(true)\n      dispatch(setDataById(rowData)).then(() => {\n        setLoading(false)\n        setShowModal(true)\n      })\n    }\n  }\n\n  const handleDelete = async (id) => {\n    const result = await MySwal.fire({\n      title: `${t(\"Are you sure?\")}`,\n      text: `${t(\"You won't be able to revert\")} ${t(pageTitle)}!`,\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonText: `${t(\"Yes, Delete\")} ${t(pageTitle)}!`,\n      cancelButtonText: `${t(\"Cancel\")}`,\n      customClass: {\n        confirmButton: \"btn btn-primary\",\n        cancelButton: \"btn btn-outline-danger ms-1\"\n      },\n      buttonsStyling: false\n    })\n    if (result.value) {\n      setLoadingText(`${t(\"Deleting\")} Data ${t(pageTitle)}`)\n      setLoading(true)\n      dispatch(deleteData(id)).then((res) => {\n        // console.log(res)\n        if (res.meta.requestStatus === \"fulfilled\") {\n          setLoading(false)\n          toast.success(`${t(\"Successfully deleted\")} ${t(pageTitle)}`, {\n            style: {\n              padding: \"16px\",\n              color: colors.success.main,\n              border: `1px solid ${colors.success.main}`\n            },\n            iconTheme: {\n              primary: colors.success.main\n            }\n          })\n        } else if (res.meta.requestStatus === \"rejected\") {\n          setLoading(false)\n          toast.error(res.payload.message, {\n            style: {\n              padding: \"16px\",\n              color: colors.danger.main,\n              border: `1px solid ${colors.danger.main}`\n            },\n            iconTheme: {\n              primary: colors.danger.main\n            }\n          })\n        }\n      })\n    }\n  }\n\n  const toggleSidebar = (row = null) => {\n    // console.log(row.id)\n    setCurrentDataAdd(row)\n    setFormState(\"add\")\n    setSidebarOpen(!sidebarOpen)\n    setShowModal(!showModal)\n    neutralizeBack(handleCloseModal)\n  }\n\n  const handleCloseModal = () => {\n    setSidebarOpen(!sidebarOpen)\n    setShowModal(!showModal)\n    revivalBack()\n  }\n\n  const handleChange = (tree) => {\n    dispatch(setDataList(tree))\n  }\n\n  const handleChangeLookupMode = (\n    e,\n    id,\n    lookupMode_fieldName,\n    lookupMode_isMulti\n  ) => {\n    let mainArray = JSON.parse(JSON.stringify(store.data))\n    mainArray.forEach(function iter(a) {\n      if (a.id === id) {\n        a.checked = e.target.checked\n      }\n      // eslint-disable-next-line no-unused-expressions\n      Array.isArray(a.children) && a.children.forEach(iter)\n    })\n    handleChange(mainArray)\n    return lookupMode_onChange(id, lookupMode_fieldName, lookupMode_isMulti)\n  }\n\n  const eventCanDragNode = (args) => {\n    // console.log(args)\n    if (args.node.is_app_header) {\n      return false\n    }\n    return true\n  }\n\n  const onMoveNode = ({\n    treeData,\n    node,\n    nextParentNode,\n    prevPath,\n    prevTreeIndex,\n    nextPath,\n    nextTreeIndex\n  }) => {\n    // console.log(nextParentNode)\n    const data = {\n      id: node.id,\n      title: node.title,\n      parent_id: nextParentNode.is_app_header ? null : nextParentNode.id\n    }\n    updateDataToApi(data, true)\n  }\n\n  const updateDataToApi = (data, notReload = false) => {\n    // console.log(data)\n    setLoadingText(`${t(\"Updating\")} ${t(pageTitle)} Data`)\n    if (notReload) data[\"notReload\"] = true\n    const nameMsg = data.title\n    dispatch(putData(data, notReload)).then((res) => {\n      // console.log(res)\n      if (res.meta.requestStatus === \"fulfilled\") {\n        toast.success(\n          `${t(\"Successfully Updated\")} ${t(pageTitle)} ${nameMsg}`,\n          {\n            style: {\n              padding: \"16px\",\n              color: colors.success.main,\n              border: `1px solid ${colors.success.main}`\n            },\n            iconTheme: {\n              primary: colors.success.main\n            }\n          }\n        )\n      } else if (res.meta.requestStatus === \"rejected\") {\n        toast.error(res.payload.message, {\n          style: {\n            padding: \"16px\",\n            color: colors.danger.main,\n            border: `1px solid ${colors.danger.main}`\n          },\n          iconTheme: {\n            primary: colors.danger.main\n          }\n        })\n      }\n    })\n  }\n\n  const customSearchMethod = ({ node, searchQuery }) => {\n    return (\n      searchQuery &&\n      node.title.toLowerCase().indexOf(searchQuery.toLowerCase()) > -1\n    )\n  }\n\n  const selectPrevMatch = () =>\n    setSearchFocusIndex(\n      searchFocusIndex !== null\n        ? (searchFoundCount + searchFocusIndex - 1) % searchFoundCount\n        : searchFoundCount - 1\n    )\n\n  const selectNextMatch = () =>\n    setSearchFocusIndex(\n      searchFocusIndex !== null ? (searchFocusIndex + 1) % searchFoundCount : 0\n    )\n\n  const removeDefaultValue = (data, dataTree) => {\n    // console.log(dataTree)\n    let mainArray = JSON.parse(JSON.stringify(dataTree))\n    mainArray.forEach(function iter(a) {\n      if (data.includes(a.id)) {\n        a[\"checked\"] = true\n        a[\"hidden\"] = true\n      }\n      // console.log(a.id, !data.includes(a.id))\n\n      // eslint-disable-next-line no-unused-expressions\n      Array.isArray(a.children) && a.children.forEach(iter)\n    })\n    // console.log(data)\n    // console.log(mainArray)\n    dispatch(setDataList(mainArray))\n  }\n\n  useEffect(() => {\n    if (store.data.length === 0 || (!store.isLoading && getAlwaysGrid)) {\n      setLoadingText(`${t(\"Loading Data\")} ${t(pageTitle)}`)\n      dispatch(getDataList({})).then((x) => {\n        // console.log(lookupMode_isM2MDefValFromGrid)\n        if (lookupMode && lookupMode_isM2MDefValFromGrid) {\n          removeDefaultValue(lookupMode_defaultValue, x.payload.data)\n        }\n      })\n    }\n    // console.log(lookupMode_isM2MDefValFromGrid)\n    if (store.data.length > 0 && lookupMode_isM2MDefValFromGrid && lookupMode) {\n      removeDefaultValue(lookupMode_defaultValue, store.data)\n    }\n  }, [dispatch, store.data.length])\n\n  return (\n    <Fragment>\n      <UILoader blocking={store.isLoading} loader={<Loader />}>\n        <Card className=\"overflow-hidden\">\n          <div className=\"react-dataTable react-dataTable-selectable-rows\">\n            <div\n              style={{\n                height: !lookupMode ? 800 : 350,\n                margin: !lookupMode ? 20 : 10\n              }}\n            >\n              <SortableTree\n                treeData={store.data}\n                onChange={handleChange}\n                onMoveNode={!lookupMode ? onMoveNode : null}\n                canDrag={!lookupMode ? eventCanDragNode : false}\n                searchMethod={customSearchMethod}\n                searchQuery={searchString}\n                searchFocusOffset={searchFocusIndex}\n                searchFinishCallback={(matches) => {\n                  setSearchFoundCount(matches.length)\n                  setSearchFocusIndex(\n                    matches.length > 0 ? searchFocusIndex % matches.length : 0\n                  )\n                }}\n                // onlyExpandSearchedNodes\n                maxDepth={4}\n                generateNodeProps={({ node, path }) => ({\n                  style: {\n                    fontSize: node.is_app_header ? `16px` : \"14px\",\n                    fontWeight: node.is_app_header ? `bold` : \"normal\"\n                  },\n                  title: node.icon ? (\n                    <>\n                      <div\n                        style={{\n                          paddingLeft: node.is_app_header ? 0 : 10,\n                          fontWeight: node.is_app_header ? `bold` : 400\n                        }}\n                      >\n                        {node.title}\n                      </div>\n                    </>\n                  ) : (\n                    <div\n                      style={{ fontWeight: node.is_app_header ? `bold` : 400 }}\n                    >\n                      {node.title}\n                    </div>\n                  ),\n                  buttons: [\n                    ability.can(\n                      \"post\",\n                      sessionStorage.getItem(\"current_page_perm\")\n                    ) && !lookupMode ? (\n                      <>\n                        <Button.Ripple\n                          className=\"btn-icon rounded-circle\"\n                          color=\"flat-primary\"\n                          id=\"btn-edit\"\n                          onClick={(e) => {\n                            toggleSidebar(node)\n                          }}\n                        >\n                          <Plus size={16} />\n                        </Button.Ripple>\n                        <UncontrolledTooltip placement=\"left\" target=\"btn-edit\">\n                          {t(\"Add Child\")}\n                        </UncontrolledTooltip>\n                      </>\n                    ) : null,\n                    ability.can(\n                      \"update\",\n                      sessionStorage.getItem(\"current_page_perm\")\n                    ) &&\n                    !lookupMode &&\n                    !node.is_app_header ? (\n                      <>\n                        <Button.Ripple\n                          className=\"btn-icon rounded-circle\"\n                          color=\"flat-info\"\n                          id=\"btn-edit\"\n                          onClick={(e) => {\n                            e.preventDefault()\n                            handleEdit(node)\n                          }}\n                        >\n                          <Edit2 size={16} />\n                        </Button.Ripple>\n                        <UncontrolledTooltip placement=\"left\" target=\"btn-edit\">\n                          {t(\"Edit\")}\n                        </UncontrolledTooltip>\n                      </>\n                    ) : null,\n                    ability.can(\n                      \"delete\",\n                      sessionStorage.getItem(\"current_page_perm\")\n                    ) &&\n                    !lookupMode &&\n                    !node.is_app_header ? (\n                      <>\n                        <Button.Ripple\n                          id=\"btn-delete\"\n                          className=\"btn-icon rounded-circle\"\n                          color=\"flat-danger\"\n                          onClick={(e) => {\n                            e.preventDefault()\n                            handleDelete(node.id)\n                          }}\n                        >\n                          <Trash2 size={16} />\n                        </Button.Ripple>\n                        <UncontrolledTooltip\n                          placement=\"left\"\n                          target=\"btn-delete\"\n                        >\n                          {t(\"Delete\")}\n                        </UncontrolledTooltip>\n                      </>\n                    ) : null,\n                    lookupMode && !node.is_app_header ? (\n                      <div\n                        className={\n                          node.hidden\n                            ? \"form-check form-check-secondary\"\n                            : \"form-check form-check-primary\"\n                        }\n                      >\n                        <Input\n                          disabled={node.hidden}\n                          defaultChecked={node.checked}\n                          onChange={(e) =>\n                            handleChangeLookupMode(\n                              e,\n                              node.id,\n                              lookupMode_fieldName,\n                              lookupMode_isMulti\n                            )\n                          }\n                          type=\"checkbox\"\n                          id={`checkbox-${node.id}`}\n                        />\n                      </div>\n                    ) : null\n                  ]\n                })}\n              />\n            </div>\n          </div>\n        </Card>\n      </UILoader>\n\n      {showModal && (\n        <ModalAddEdit\n          formState={formState}\n          show={showModal}\n          setShow={toggleSidebar}\n          detailPage={false}\n          setFormState={setFormState}\n          currentData={currentDataAdd}\n        />\n      )}\n    </Fragment>\n  )\n}\n\nexport default List\n","import { Fragment, useEffect, useState } from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { useTranslation } from \"react-i18next\"\nimport \"./style.scss\"\nimport { selectThemeColors } from \"@utils\"\nimport classnames from \"classnames\"\nimport Select from \"react-select\"\n\nimport { storeName, getDataList, getAlwaysGrid } from \"./store\"\n\nconst List = ({\n  lookupMode_fieldName = \"\",\n  lookupMode_isMulti = false,\n  lookupMode_onChange,\n  lookupMode_defaultValue\n}) => {\n  const { t } = useTranslation()\n  const dispatch = useDispatch()\n  const store = useSelector((state) => state[storeName])\n\n  const onChangeInput = (e) => {\n    return lookupMode_onChange(e, lookupMode_fieldName)\n  }\n\n  useEffect(() => {\n    if (store.data.length === 0 || (!store.isLoading && getAlwaysGrid)) {\n      dispatch(getDataList({}))\n    }\n  }, [dispatch, store.data.length])\n\n  return (\n    <Fragment>\n      <Select\n        theme={selectThemeColors}\n        defaultValue={\n          !lookupMode_isMulti\n            ? store.dataDropdown.filter(\n                (el) => el.value === lookupMode_defaultValue\n              )\n            : lookupMode_defaultValue\n        }\n        isMulti={lookupMode_isMulti}\n        // onChange={lookupMode_onChange}\n        onChange={onChangeInput}\n        options={store.dataDropdown}\n        className={classnames(\"react-select\", {\n          \"is-invalid\": store.selectedData?.id === null\n        })}\n        classNamePrefix=\"select\"\n      />\n    </Fragment>\n  )\n}\n\nexport default List\n","// ** React Imports\nimport { Fragment } from \"react\"\n\n// ** Third Party Components\nimport Proptypes from \"prop-types\"\nimport classnames from \"classnames\"\n\n// ** Reactstrap Imports\nimport { Spinner } from \"reactstrap\"\n\n// ** Styles\nimport \"./ui-loader.scss\"\n\nconst UILoader = (props) => {\n  const { children, blocking, loader, className, tag, overlayColor } = props\n\n  const Tag = tag\n\n  return (\n    <Tag\n      className={classnames(\"ui-loader\", {\n        [className]: className,\n        show: blocking\n      })}\n    >\n      {children}\n      {blocking ? (\n        <Fragment>\n          <div\n            className=\"overlay\" /*eslint-disable */\n            {...(blocking && overlayColor\n              ? { style: { backgroundColor: overlayColor } }\n              : {})}\n            /*eslint-enable */\n          ></div>\n          <div className=\"loader\">{loader}</div>\n        </Fragment>\n      ) : null}\n    </Tag>\n  )\n}\n\nexport default UILoader\n\nUILoader.defaultProps = {\n  tag: \"div\",\n  blocking: false,\n  loader: <Spinner color=\"primary\" />\n}\n\nUILoader.propTypes = {\n  tag: Proptypes.string,\n  loader: Proptypes.any,\n  className: Proptypes.string,\n  overlayColor: Proptypes.string,\n  blocking: Proptypes.bool.isRequired\n}\n","export function shallowEqual<T>(\n  objA: T,\n  objB: T,\n  compare?: (a: T, b: T, key?: string) => boolean | void,\n  compareContext?: any\n) {\n  var compareResult = compare\n    ? compare.call(compareContext, objA, objB)\n    : void 0;\n  if (compareResult !== void 0) {\n    return !!compareResult;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || !objA || typeof objB !== 'object' || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\n  // Test for A's keys different from B.\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = (objA as any)[key];\n    var valueB = (objB as any)[key];\n\n    compareResult = compare\n      ? compare.call(compareContext, valueA, valueB, key)\n      : void 0;\n\n    if (\n      compareResult === false ||\n      (compareResult === void 0 && valueA !== valueB)\n    ) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","export const mounts = [\n  {\n    key: 'title',\n    getter: swal => swal.getTitle(),\n  },\n  {\n    key: 'html',\n    getter: swal => swal.getHtmlContainer(),\n  },\n  {\n    key: 'confirmButtonText',\n    getter: swal => swal.getConfirmButton(),\n  },\n  {\n    key: 'denyButtonText',\n    getter: swal => swal.getDenyButton(),\n  },\n  {\n    key: 'cancelButtonText',\n    getter: swal => swal.getCancelButton(),\n  },\n  {\n    key: 'footer',\n    getter: swal => swal.getFooter(),\n  },\n  {\n    key: 'closeButtonHtml',\n    getter: swal => swal.getCloseButton(),\n  },\n  {\n    key: 'iconHtml',\n    getter: swal => swal.getIcon().querySelector('.swal2-icon-content'),\n  },\n  {\n    key: 'loaderHtml',\n    getter: swal => swal.getLoader(),\n  },\n]\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { mounts } from './mounts'\n\nconst noop = () => {} // eslint-disable-line @typescript-eslint/no-empty-function\n\nexport default function withReactContent (ParentSwal) {\n  /* Returns `params` separated into a tuple of `reactParams` (the React params that need to be rendered)\n  and`otherParams` (all the other parameters, with any React params replaced with a space ' ') */\n  function extractReactParams (params) {\n    const reactParams = {}\n    const otherParams = {}\n    const mountKeys = mounts.map(mount => mount.key)\n    Object.entries(params).forEach(([key, value]) => {\n      if (mountKeys.includes(key) && React.isValidElement(value)) {\n        reactParams[key] = value\n        otherParams[key] = ' '\n      } else {\n        otherParams[key] = value\n      }\n    })\n    return [reactParams, otherParams]\n  }\n  function render (swal, reactParams) {\n    Object.entries(reactParams).forEach(([key, value]) => {\n      const mount = mounts.find(mount => mount.key === key)\n      const domElement = mount.getter(ParentSwal)\n      ReactDOM.render(value, domElement)\n      swal.__mountedDomElements.push(domElement)\n    })\n  }\n\n  function unrender (swal) {\n    swal.__mountedDomElements.forEach(domElement => {\n      ReactDOM.unmountComponentAtNode(domElement)\n    })\n    swal.__mountedDomElements = []\n  }\n\n  return class extends ParentSwal {\n    static argsToParams (args) {\n      if (React.isValidElement(args[0]) || React.isValidElement(args[1])) {\n        const params = {}\n        ;['title', 'html', 'icon'].forEach((name, index) => {\n          if (args[index] !== undefined) {\n            params[name] = args[index]\n          }\n        })\n        return params\n      } else {\n        return ParentSwal.argsToParams(args)\n      }\n    }\n\n    _main (params, mixinParams) {\n      this.__mountedDomElements = []\n      this.__params = Object.assign({}, mixinParams, params)\n      const [reactParams, otherParams] = extractReactParams(this.__params)\n      const superDidOpen = otherParams.didOpen || noop\n      const superDidDestroy = otherParams.didDestroy || noop\n      return super._main(\n        Object.assign({}, otherParams, {\n          didOpen: popup => {\n            render(this, reactParams)\n            superDidOpen(popup)\n          },\n          didDestroy: popup => {\n            superDidDestroy(popup)\n            unrender(this)\n          },\n        }),\n      )\n    }\n\n    update (params) {\n      Object.assign(this.__params, params)\n      unrender(this)\n      const [reactParams, otherParams] = extractReactParams(this.__params)\n      super.update(otherParams)\n      render(this, reactParams)\n    }\n  }\n}\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function getDecoratedComponent(instanceRef) {\n  var currentRef = instanceRef.current;\n\n  if (currentRef == null) {\n    return null;\n  } else if (currentRef.decoratedRef) {\n    // go through the private field in decorateHandler to avoid the invariant hit\n    return currentRef.decoratedRef.current;\n  } else {\n    return currentRef;\n  }\n}\nexport function isClassComponent(Component) {\n  return Component && Component.prototype && typeof Component.prototype.render === 'function';\n}\nexport function isRefForwardingComponent(C) {\n  var _item$$$typeof;\n\n  var item = C;\n  return (item === null || item === void 0 ? void 0 : (_item$$$typeof = item.$$typeof) === null || _item$$$typeof === void 0 ? void 0 : _item$$$typeof.toString()) === 'Symbol(react.forward_ref)';\n}\nexport function isRefable(C) {\n  return isClassComponent(C) || isRefForwardingComponent(C);\n}\nexport function checkDecoratorArguments(functionName, signature) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var i = 0; i < (arguments.length <= 2 ? 0 : arguments.length - 2); i++) {\n      var arg = i + 2 < 2 || arguments.length <= i + 2 ? undefined : arguments[i + 2];\n\n      if (arg && arg.prototype && arg.prototype.render) {\n        // eslint-disable-next-line no-console\n        console.error('You seem to be applying the arguments in the wrong order. ' + \"It should be \".concat(functionName, \"(\").concat(signature, \")(Component), not the other way around. \") + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#you-seem-to-be-applying-the-arguments-in-the-wrong-order');\n        return;\n      }\n    }\n  }\n}\nexport function isFunction(input) {\n  return typeof input === 'function';\n}\nexport function noop() {// noop\n}\n\nfunction isObjectLike(input) {\n  return _typeof(input) === 'object' && input !== null;\n}\n\nexport function isPlainObject(input) {\n  if (!isObjectLike(input)) {\n    return false;\n  }\n\n  if (Object.getPrototypeOf(input) === null) {\n    return true;\n  }\n\n  var proto = input;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(input) === proto;\n}\nexport function isValidType(type, allowArray) {\n  return typeof type === 'string' || _typeof(type) === 'symbol' || !!allowArray && Array.isArray(type) && type.every(function (t) {\n    return isValidType(t, false);\n  });\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _flatpickr = _interopRequireDefault(require(\"flatpickr\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj[\"default\"] = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar hooks = ['onChange', 'onOpen', 'onClose', 'onMonthChange', 'onYearChange', 'onReady', 'onValueUpdate', 'onDayCreate'];\n\nvar hookPropType = _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].func, _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].func)]);\n\nvar callbacks = ['onCreate', 'onDestroy'];\nvar callbackPropTypes = _propTypes[\"default\"].func;\n\nvar DateTimePicker =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(DateTimePicker, _Component);\n\n  function DateTimePicker() {\n    _classCallCheck(this, DateTimePicker);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(DateTimePicker).apply(this, arguments));\n  }\n\n  _createClass(DateTimePicker, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this = this;\n\n      if (this.props.hasOwnProperty('value') && this.props.value !== prevProps.value) {\n        this.flatpickr.setDate(this.props.value, false);\n      }\n\n      var options = this.props.options;\n      var prevOptions = prevProps.options;\n      hooks.forEach(function (hook) {\n        if (_this.props.hasOwnProperty(hook)) {\n          options[hook] = _this.props[hook];\n        } // Add prev ones too so we can compare against them later\n\n\n        if (prevProps.hasOwnProperty(hook)) {\n          prevOptions[hook] = prevProps[hook];\n        }\n      });\n      var optionsKeys = Object.getOwnPropertyNames(options);\n\n      for (var index = optionsKeys.length - 1; index >= 0; index--) {\n        var key = optionsKeys[index];\n        var value = options[key];\n\n        if (value !== prevOptions[key]) {\n          // Hook handlers must be set as an array\n          if (hooks.indexOf(key) !== -1 && !Array.isArray(value)) {\n            value = [value];\n          }\n\n          this.flatpickr.set(key, value);\n        }\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var options = _objectSpread({\n        onClose: function onClose() {\n          _this2.node.blur && _this2.node.blur();\n        }\n      }, this.props.options); // Add prop hooks to options\n\n\n      hooks.forEach(function (hook) {\n        if (_this2.props[hook]) {\n          options[hook] = _this2.props[hook];\n        }\n      });\n      this.flatpickr = new _flatpickr[\"default\"](this.node, options);\n\n      if (this.props.hasOwnProperty('value')) {\n        this.flatpickr.setDate(this.props.value, false);\n      }\n\n      var onCreate = this.props.onCreate;\n      if (onCreate) onCreate(this.flatpickr);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var onDestroy = this.props.onDestroy;\n      if (onDestroy) onDestroy(this.flatpickr);\n      this.flatpickr.destroy();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      // eslint-disable-next-line no-unused-vars\n      var _this$props = this.props,\n          options = _this$props.options,\n          defaultValue = _this$props.defaultValue,\n          value = _this$props.value,\n          children = _this$props.children,\n          render = _this$props.render,\n          props = _objectWithoutProperties(_this$props, [\"options\", \"defaultValue\", \"value\", \"children\", \"render\"]);\n\n      var ref = function ref(node) {\n        _this3.node = node;\n      }; // Don't pass hooks and callbacks to dom node\n\n\n      hooks.forEach(function (hook) {\n        delete props[hook];\n      });\n      callbacks.forEach(function (callback) {\n        delete props[callback];\n      });\n      if (render) return render(_objectSpread({}, props, {\n        defaultValue: defaultValue,\n        value: value\n      }), ref);\n      return options.wrap ? _react[\"default\"].createElement(\"div\", _extends({}, props, {\n        ref: ref\n      }), children) : _react[\"default\"].createElement(\"input\", _extends({}, props, {\n        defaultValue: defaultValue,\n        ref: ref\n      }));\n    }\n  }]);\n\n  return DateTimePicker;\n}(_react.Component);\n\n_defineProperty(DateTimePicker, \"propTypes\", {\n  defaultValue: _propTypes[\"default\"].string,\n  options: _propTypes[\"default\"].object,\n  onChange: hookPropType,\n  onOpen: hookPropType,\n  onClose: hookPropType,\n  onMonthChange: hookPropType,\n  onYearChange: hookPropType,\n  onReady: hookPropType,\n  onValueUpdate: hookPropType,\n  onDayCreate: hookPropType,\n  onCreate: callbackPropTypes,\n  onDestroy: callbackPropTypes,\n  value: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].array, _propTypes[\"default\"].object, _propTypes[\"default\"].number]),\n  children: _propTypes[\"default\"].node,\n  className: _propTypes[\"default\"].string,\n  render: _propTypes[\"default\"].func\n});\n\n_defineProperty(DateTimePicker, \"defaultProps\", {\n  options: {}\n});\n\nvar _default = DateTimePicker;\nexports[\"default\"] = _default;","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = global || self, factory(global.id = {}));\n}(this, function (exports) { 'use strict';\n\n  var fp = typeof window !== \"undefined\" && window.flatpickr !== undefined\n      ? window.flatpickr\n      : {\n          l10ns: {}\n      };\n  var Indonesian = {\n      weekdays: {\n          shorthand: [\"Min\", \"Sen\", \"Sel\", \"Rab\", \"Kam\", \"Jum\", \"Sab\"],\n          longhand: [\"Minggu\", \"Senin\", \"Selasa\", \"Rabu\", \"Kamis\", \"Jumat\", \"Sabtu\"]\n      },\n      months: {\n          shorthand: [\n              \"Jan\",\n              \"Feb\",\n              \"Mar\",\n              \"Apr\",\n              \"Mei\",\n              \"Jun\",\n              \"Jul\",\n              \"Agu\",\n              \"Sep\",\n              \"Okt\",\n              \"Nov\",\n              \"Des\",\n          ],\n          longhand: [\n              \"Januari\",\n              \"Februari\",\n              \"Maret\",\n              \"April\",\n              \"Mei\",\n              \"Juni\",\n              \"Juli\",\n              \"Agustus\",\n              \"September\",\n              \"Oktober\",\n              \"November\",\n              \"Desember\",\n          ]\n      },\n      firstDayOfWeek: 1,\n      ordinal: function () {\n          return \"\";\n      },\n      time_24hr: true,\n      rangeSeparator: \" - \"\n  };\n  fp.l10ns.id = Indonesian;\n  var id = fp.l10ns;\n\n  exports.Indonesian = Indonesian;\n  exports.default = id;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n","import { AbilityContext } from \"@src/utility/context/Can\"\nimport { renderIcon } from \"@src/views/apps/menu/store/my_menu\"\nimport { getUserData, parseStrAndField } from \"@utils\"\nimport { Fragment, useContext } from \"react\"\nimport { CornerDownRight, Edit2, Eye, Trash2 } from \"react-feather\"\nimport { useTranslation } from \"react-i18next\"\nimport { useNavigate, useParams } from \"react-router-dom\"\nimport { Button, UncontrolledTooltip } from \"reactstrap\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport {\n  getBaseUrl,\n  getDataList,\n  resetData\n} from \"@src/shared/dynamic_pages/store\"\n\nconst GlobalActionsTable = ({\n  row,\n  pageAttr,\n  handleDelete,\n  handleEdit,\n  disabledAction = [],\n  onlyText = false,\n  withText = false,\n  outline = false,\n  rowClickEvent = \"edit\"\n}) => {\n  const { t } = useTranslation()\n  const ability = useContext(AbilityContext)\n  const navigate = useNavigate()\n  const storeAll = useSelector((state) => state.dynamicStore)\n  const store = useSelector((state) => state.dynamic_temp_state)\n  const dispatch = useDispatch()\n  const dynamicColumnsExtraActionsButton =\n    pageAttr?.crudOpt?.dynamicColumnsExtraActionsButton\n\n  const extraBtnPrefixId = `btn-extra-action-${row?.id}`\n\n  function getDepthValue(obj, path, defaultValue = null) {\n    let props\n    if (typeof obj === \"undefined\") return defaultValue\n    if (typeof path === \"string\") {\n      props = path.split(\".\").reverse()\n    } else {\n      props = path\n    }\n    if (path.length === 0) return obj || defaultValue\n    let current = props.pop()\n    return getDepthValue(obj?.[current], props, defaultValue)\n  }\n\n  const scrollToDiv = (divId) => {\n    const element = document.getElementById(divId)\n    if (element) {\n      element.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"start\"\n      })\n    }\n  }\n\n  const extraBtnShowCondition = (crudOpt, row = null) => {\n    let result = false\n    if (crudOpt?.showIf) {\n      crudOpt?.showIf?.map((item, index) => {\n        let field = item?.field\n        let operator = item?.operator\n        let value = item?.value\n\n        let currentRowValue = null\n        let evalStr = null\n\n        if (field?.includes(\"__userData\")) {\n          const userData = getUserData()\n          if (field === \"__userData.name__\") {\n            currentRowValue = userData?.name\n          } else if (field === \"__userData.isManager__\") {\n            currentRowValue = userData?.isManager\n          } else if (field === \"__userData.email__\") {\n            currentRowValue = userData?.email\n          } else if (field === \"__userData.id__\") {\n            currentRowValue = userData?.id\n          } else if (field === \"__userData.username__\") {\n            currentRowValue = userData?.username\n          }\n\n          evalStr = `'${currentRowValue}' ${operator} ${value}`\n          if (\n            [null, undefined, \"\", false].includes(currentRowValue) &&\n            (value === \"null\" || value === \"false\")\n          ) {\n            evalStr = `${currentRowValue} ${operator} ${currentRowValue}`\n          }\n\n          try {\n            if (item?.showIf_or === true) {\n              result = result || eval(evalStr)\n            } else {\n              result = eval(evalStr)\n            }\n          } catch (error) {\n            result = false\n          }\n          // console.log(field, evalStr, result)\n        } else {\n          currentRowValue = field?.includes(\".\")\n            ? getDepthValue(row, field)\n            : row?.[field]\n\n          evalStr = `'${currentRowValue}' ${operator} ${value}`\n\n          if (\n            [null, undefined, \"\", false].includes(currentRowValue) &&\n            (value === \"null\" || value === \"false\")\n          ) {\n            evalStr = `${currentRowValue} ${operator} ${currentRowValue}`\n          }\n\n          try {\n            if (item?.showIf_or === true) {\n              result = result || eval(evalStr)\n            } else {\n              result = eval(evalStr)\n            }\n          } catch (error) {\n            result = false\n          }\n          // console.log(field, evalStr, result)\n        }\n      })\n    } else {\n      result = true\n    }\n    return result\n  }\n\n  const enabledBtnViewCondition = (crudOpt, row = null) => {\n    const paramss = useParams()\n    let result = false\n    if (crudOpt?.enabledViewBtnCondition) {\n      crudOpt?.enabledViewBtnCondition?.map((item) => {\n        let field = item?.field\n        let operator = item?.operator\n        let value = item?.value\n\n        let currentRowValue = null\n        let evalStr = null\n\n        if (field?.includes(\"__userData\")) {\n          const userData = getUserData()\n          if (field === \"__userData.name__\") {\n            currentRowValue = userData?.name\n          } else if (field === \"__userData.isManager__\") {\n            currentRowValue = userData?.isManager\n          } else if (field === \"__userData.email__\") {\n            currentRowValue = userData?.email\n          } else if (field === \"__userData.id__\") {\n            currentRowValue = userData?.id\n          } else if (field === \"__userData.username__\") {\n            currentRowValue = userData?.username\n          }\n\n          evalStr = `'${currentRowValue}' ${operator} ${value}`\n          if (\n            [null, undefined, \"\", false].includes(currentRowValue) &&\n            (value === \"null\" || value === \"false\")\n          ) {\n            evalStr = `${currentRowValue} ${operator} ${currentRowValue}`\n          }\n\n          try {\n            if (crudOpt?.enabledViewBtnCondition_or === true) {\n              result = result || eval(evalStr)\n            } else {\n              result = eval(evalStr)\n            }\n          } catch (error) {\n            result = false\n          }\n          // console.log(field, evalStr, result)\n        } else {\n          currentRowValue = field?.includes(\".\")\n            ? getDepthValue(row, field)\n            : row?.[field]\n\n          evalStr = `'${currentRowValue}' ${operator} ${value}`\n\n          if (\n            [null, undefined, \"\", false].includes(currentRowValue) &&\n            (value === \"null\" || value === \"false\")\n          ) {\n            evalStr = `${currentRowValue} ${operator} ${currentRowValue}`\n          }\n\n          try {\n            if (crudOpt?.enabledViewBtnCondition_or === true) {\n              result = result || eval(evalStr)\n            } else {\n              result = eval(evalStr)\n            }\n          } catch (error) {\n            result = false\n          }\n          // console.log(field, evalStr, result)\n        }\n      })\n    }\n\n    if (\n      !ability.can(\"update\", sessionStorage.getItem(\"current_page_perm\")) &&\n      !ability.can(\"post\", sessionStorage.getItem(\"current_page_perm\"))\n    ) {\n      result = true\n    }\n\n    if (paramss?.pageType === \"view\") {\n      result = true\n    }\n\n    return result\n  }\n\n  function hasColorClass(className) {\n    let result = \"\"\n    if (className && !className?.includes(\"flat\")) {\n      result = \"has-color\"\n    }\n    return result\n  }\n\n  return (\n    <div className=\"column-action text-center\">\n      {dynamicColumnsExtraActionsButton\n        ? dynamicColumnsExtraActionsButton?.map((item, index) => {\n            return (\n              extraBtnShowCondition(item, row) && (\n                <Fragment key={`${extraBtnPrefixId}-fragment-${index}`}>\n                  <Button.Ripple\n                    key={`${extraBtnPrefixId}-${index}`}\n                    outline={\n                      item?.outline &&\n                      /^(flat-|gradient-|relief-)/.test(item?.color) === false\n                    }\n                    id={`${extraBtnPrefixId}-${index}`}\n                    className={`btn-icon ms-25 extra-btn-table } ${\n                      !item?.text ? \"rounded-circle \" : \"\"\n                    }`}\n                    color={item?.color ? item?.color : \"flat-secondary\"}\n                    onClick={(e) => {\n                      e.preventDefault()\n                      let staticUrl = item?.clickLinkUrl?.static\n                      let fieldUrl = item?.clickLinkUrl?.field\n                      let widgetId = item?.clickLinkSlideToWidget?.widget_id\n\n                      if (staticUrl && !fieldUrl && !widgetId) {\n                        let params = \"\"\n                        let paramsFromFields =\n                          item?.clickLinkUrl?.paramsFromFields\n                        let paramsArr = []\n                        if (paramsFromFields) {\n                          paramsFromFields?.map((it, idx) => {\n                            let paramKey = it?.paramName\n                            // let paramValue = row?.[it?.fieldName]\n                            let paramValue = parseStrAndField(\n                              row,\n                              it?.fieldName\n                            )\n                            params += `&${paramKey}=${paramValue}`\n                            paramsArr.push(`${paramKey}=${paramValue}`)\n                          })\n                        }\n\n                        let appendToEndpointPath =\n                          item?.clickLinkUrl?.appendToEndpointPath\n                        if (appendToEndpointPath) {\n                          // let appendToEndpointPathObj = appendToEndpointPath?.split(\",\")\n                          appendToEndpointPath?.map((it, idx) => {\n                            let paramKey = it?.paramName\n                            let paramValue = parseStrAndField(row, it)\n                            params += `/${paramValue}`\n                            paramsArr.push(`${paramValue}`)\n                          })\n                        }\n\n                        const isQueryStr = staticUrl?.includes(\"?\")\n\n                        let newStaticUrl = !appendToEndpointPath\n                          ? `${staticUrl}${\n                              isQueryStr ? \"\" : \"?\"\n                            }${paramsArr.join(\"&\")}`\n                          : `${staticUrl}${\n                              isQueryStr ? \"/\" : \"/\"\n                            }${paramsArr.join(\"/\")}`\n\n                        let staticUrlFix = !appendToEndpointPath\n                          ? newStaticUrl\n                              .replace(\"&&\", \"&\")\n                              .replace(\"/?&\", \"?\")\n                              .replace(\"??\", \"?\")\n                              .replace(\"/?\", \"?\")\n                              .replace(\"/&\", \"&\")\n                              .replace(\"?&\", \"?\")\n                              .replace(\"&?\", \"&\")\n                              .replace(\"?&\", \"\")\n                          : newStaticUrl\n\n                        if (\n                          staticUrl.startsWith(\"http://\") ||\n                          staticUrl.startsWith(\"https://\")\n                        ) {\n                          // console.log(staticUrlFix)\n                          window.open(staticUrlFix, \"_blank\", \"noreferrer\")\n                        } else {\n                          navigate(newStaticUrl)\n                        }\n                      } else if (fieldUrl && !staticUrl && !widgetId) {\n                        let params = \"\"\n                        let paramsFromFields =\n                          item?.clickLinkUrl?.paramsFromFields\n                        // console.log(fieldUrl.includes(\".\"))\n                        let fieldUrlFix = fieldUrl.includes(\".\")\n                          ? getDepthValue(row, fieldUrl)\n                          : row?.[fieldUrl]\n                        // console.log(fieldUrlFix)\n                        if (fieldUrlFix) {\n                          // console.log(fieldUrlFix)\n                          if (paramsFromFields) {\n                            paramsFromFields?.map((it, idx) => {\n                              let paramKey = it?.paramName\n                              let paramValue = row?.[it?.fieldName]\n                              params += `${paramKey}=${paramValue}&`\n                            })\n                          }\n                          fieldUrlFix = `${fieldUrlFix}?${params.replace(\n                            /&$/,\n                            \"\"\n                          )}`\n                          if (\n                            fieldUrlFix.startsWith(\"http://\") ||\n                            fieldUrlFix.startsWith(\"https://\")\n                          ) {\n                            // console.log(fieldUrlFix)\n                            window.open(fieldUrlFix, \"_blank\", \"noreferrer\")\n                          } else {\n                            navigate(fieldUrlFix)\n                          }\n                        }\n                      } else if (!fieldUrl && !staticUrl && widgetId) {\n                        let params = \"\"\n                        let paramsFromFields =\n                          item?.clickLinkSlideToWidget?.paramsFromFields\n\n                        if (paramsFromFields) {\n                          paramsFromFields?.map((it, idx) => {\n                            let paramKey = it?.paramName\n                            let paramValue = row?.[it?.fieldName]\n                            params += `${paramKey}=${paramValue}&`\n                          })\n                        }\n                        setTimeout(() => {\n                          scrollToDiv(`widget_${widgetId}`)\n                        }, 400)\n                      }\n\n                      const clickLinkFillGlobalFilter =\n                        item?.clickLinkFillGlobalFilter\n                      // console.log(clickLinkFillGlobalFilter)\n                      if (clickLinkFillGlobalFilter) {\n                        const targetId = clickLinkFillGlobalFilter?.widget_id\n                        const element = document.getElementById(\n                          `widget_${targetId}`\n                        )\n                        if (element) {\n                          const store_to_reset =\n                            element.getAttribute(\"storename\")\n\n                          let params = {}\n                          let paramsFromFields =\n                            item?.clickLinkFillGlobalFilter?.paramsFromFields\n\n                          if (paramsFromFields) {\n                            paramsFromFields?.map((it, idx) => {\n                              let paramKey = it?.paramName\n                              let paramValue = row?.[it?.fieldName]\n                              params[`${paramKey}`] = paramValue\n                            })\n                          }\n\n                          storeAll.pageAttributes[\n                            store_to_reset\n                          ]?.options?.data?.dynamicCard?.map((x, index) => {\n                            // console.log(x)\n                            if (x?.children) {\n                              x.children?.map((child, index) => {\n                                // console.log(storeAll)\n                                // console.log(store)\n                                const widget_id =\n                                  child?.chart_id ??\n                                  child?.cardId ??\n                                  child?.pageId ??\n                                  child?.crudOpt?.pageId ??\n                                  index\n\n                                const targetAttr = child\n\n                                const linkToGlobalFilterName =\n                                  child?.linkToGlobalFilter ??\n                                  child?.crudOpt?.linkToGlobalFilter ??\n                                  child?.dataFrom?.linkToGlobalFilter\n\n                                // console.log(widget_id, targetId)\n\n                                if (\n                                  child?.type === \"global_filter\" &&\n                                  widget_id === targetId\n                                ) {\n                                  // console.log(targetAttr)\n                                  // if (storeAll?.pageData?.[store_to_reset]?.data) {\n                                  //   dispatch(resetData(store_to_reset))\n                                  // }\n                                  // dispatch(\n                                  //   getDataList({\n                                  //     ...(storeAll?.pageData?.[store_to_reset]\n                                  //       ?.params ?? {}),\n                                  //     ...params,\n                                  //     storeName: store_to_reset,\n                                  //     endpointName:\n                                  //     child?.crudOpt\n                                  //         ?.endpointName,\n                                  //     baseUrl:\n                                  //     child?.crudOpt\n                                  //         ?.baseUrl\n                                  //   })\n                                  // )\n                                }\n\n                                // else if (child?.crudOpt && targetId === linkToGlobalFilterName) {\n                                //   const child_widget_id =\n                                //   child?.chart_id ??\n                                //   child?.cardId ??\n                                //   child?.pageId ??\n                                //   child?.crudOpt?.pageId ??\n                                //   index\n                                // }\n                              })\n                            } else {\n                              const widget_id =\n                                x?.chart_id ??\n                                x?.cardId ??\n                                x?.pageId ??\n                                x?.crudOpt?.pageId ??\n                                index\n\n                              const targetAttr = x\n                              const linkToGlobalFilterName =\n                                x?.linkToGlobalFilter ??\n                                x?.crudOpt?.linkToGlobalFilter ??\n                                x?.dataFrom?.linkToGlobalFilter\n\n                              // console.log(widget_id, targetId)\n\n                              if (\n                                x?.type === \"global_filter\" &&\n                                widget_id === targetId\n                              ) {\n                                // console.log(targetAttr)\n                                // console.log(storeAll)\n                              } else if (\n                                x?.crudOpt &&\n                                targetId === linkToGlobalFilterName\n                              ) {\n                                const childStoreName = `${\n                                  x?.crudOpt?.baseUrl ??\n                                  x?.dataFrom?.baseUrl ??\n                                  x?.baseUrl\n                                }_${widget_id}`\n\n                                // console.log(params, x)\n                                // console.log(storeAll, childStoreName)\n\n                                if (\n                                  storeAll?.pageData?.[childStoreName]?.data\n                                ) {\n                                  dispatch(resetData(childStoreName))\n                                }\n\n                                dispatch(\n                                  getDataList({\n                                    ...(storeAll?.pageData?.[childStoreName]\n                                      ?.params ?? {}),\n                                    ...params,\n                                    storeName: childStoreName,\n                                    endpointName: x?.crudOpt?.endpointName,\n                                    baseUrl: x?.crudOpt?.baseUrl\n                                  })\n                                )\n                              }\n\n                              // const linkToGlobalFilterName =\n                              //   x?.linkToGlobalFilter ??\n                              //   x?.crudOpt?.linkToGlobalFilter ??\n                              //   x?.dataFrom?.linkToGlobalFilter\n                              // if (linkToGlobalFilterName) {\n                              //   const widget_id = x?.chart_id ?? x?.cardId\n                              //   // console.log(params?.storeName, linkToGlobalFilterName)\n                              //   if (params?.storeName === linkToGlobalFilterName) {\n                              //     isLinkedToChilds = true\n                              //     if (x?.crudOpt) {\n                              //       const store_to_reset = `${\n                              //         x?.crudOpt?.baseUrl ?? x?.dataFrom?.baseUrl ?? x?.baseUrl\n                              //       }_${widget_id}`\n                              //       // console.log(store_to_reset)\n                              //       // if (storeAll?.pageData?.[store_to_reset]?.data) {\n                              //       resetDataByStore(store_to_reset, params)\n                              //       // }\n                              //     } else {\n                              //       const store_to_reset = `${widget_id}`\n                              //       const copyParams = { ...params }\n                              //       delete copyParams.storeName\n                              //       copyParams[\"item\"] = x\n                              //       handleChangeFilterFromChild(copyParams)\n                              //     }\n                              //   }\n                              // }\n                            }\n                          })\n                        }\n                      }\n                    }}\n                  >\n                    {\n                      <Fragment>\n                        {item?.icon &&\n                          renderIcon(item?.icon, \"align-middle\", 16)}\n                        {item?.text && (\n                          <span className=\"ms-25 align-middle\">\n                            {t(item?.text)}\n                          </span>\n                        )}\n                      </Fragment>\n                    }\n                  </Button.Ripple>\n                  {!pageAttr?.isViewOnRow && (\n                    <UncontrolledTooltip\n                      key={`${extraBtnPrefixId}-tooltip-${index}`}\n                      placement=\"left\"\n                      target={`${extraBtnPrefixId}-${index}`}\n                    >\n                      {item?.tooltip ? t(item?.tooltip) : t(item?.text)}\n                    </UncontrolledTooltip>\n                  )}\n                </Fragment>\n              )\n            )\n          })\n        : null}\n\n      {ability.can(\"delete\", sessionStorage.getItem(\"current_page_perm\")) &&\n      !disabledAction.includes(\"delete\") &&\n      !pageAttr?.onDashboard ? (\n        <Fragment>\n          <Button.Ripple\n            outline={outline}\n            id={`btn-delete-${row.id}`}\n            className={`btn-action-table ms-25 btn-icon ${\n              !outline ? \"rounded-circle \" : \"\"\n            }`}\n            color={!outline ? \"flat-secondary\" : \"secondary\"}\n            onClick={(e) => {\n              e.preventDefault()\n              handleDelete(row.id)\n            }}\n          >\n            {!onlyText && <Trash2 size={16} />}\n            {(onlyText || withText) && (\n              <span className=\"align-middle ms-25\">{t(\"Delete\")}</span>\n            )}\n          </Button.Ripple>\n          {!pageAttr?.isViewOnRow && (\n            <UncontrolledTooltip\n              placement=\"left\"\n              target={`btn-delete-${row.id}`}\n            >\n              {t(\"Delete\")}\n            </UncontrolledTooltip>\n          )}\n        </Fragment>\n      ) : null}\n\n      {rowClickEvent !== \"view\" &&\n      ability.can(\"update\", sessionStorage.getItem(\"current_page_perm\")) &&\n      !disabledAction.includes(\"update\") &&\n      !pageAttr?.onDashboard ? (\n        <Fragment>\n          <Button.Ripple\n            outline={outline}\n            className={`btn-action-table ms-25 btn-icon ${\n              !outline ? \"rounded-circle \" : \"\"\n            }`}\n            color={!outline ? \"flat-secondary\" : \"secondary\"}\n            id={`btn-edit-${row.id}`}\n            onClick={(e) => {\n              e.preventDefault()\n              handleEdit(row)\n            }}\n          >\n            {!onlyText && <Edit2 size={16} />}\n            {(onlyText || withText) && (\n              <span className=\"align-middle ms-25\">{t(\"Edit\")}</span>\n            )}\n          </Button.Ripple>\n          {!pageAttr?.isViewOnRow && (\n            <UncontrolledTooltip placement=\"left\" target={`btn-edit-${row.id}`}>\n              {t(\"Edit\")}\n            </UncontrolledTooltip>\n          )}\n        </Fragment>\n      ) : null}\n\n      {(rowClickEvent === \"view\" && !disabledAction.includes(\"view\")) ||\n      (enabledBtnViewCondition(pageAttr?.crudOpt, row) &&\n        !pageAttr?.crudOpt?.saveAsNewBtn &&\n        !pageAttr?.crudOpt?.data?.dynamicForm?.some(\n          (item) => item.type === \"selectTable\"\n        ) &&\n        !pageAttr?.onDashboard) ? (\n        <Fragment>\n          <Button.Ripple\n            outline={outline}\n            className={`btn-action-table ms-25 btn-icon ${\n              !outline ? \"rounded-circle \" : \"\"\n            }`}\n            color={!outline ? \"flat-secondary\" : \"secondary\"}\n            id={`btn-view-${row.id}`}\n            onClick={(e) => {\n              e.preventDefault()\n              handleEdit(row, null, \"view\")\n            }}\n          >\n            {!onlyText && <Eye size={16} />}\n            {(onlyText || withText) && (\n              <span className=\"align-middle ms-25\">{t(\"View\")}</span>\n            )}\n          </Button.Ripple>\n          {!pageAttr?.isViewOnRow && (\n            <UncontrolledTooltip placement=\"left\" target={`btn-view-${row.id}`}>\n              {t(\"View Detail\")}\n            </UncontrolledTooltip>\n          )}\n        </Fragment>\n      ) : null}\n\n      {ability.can(\"post\", sessionStorage.getItem(\"current_page_perm\")) &&\n      !disabledAction.includes(\"add-child\") &&\n      pageAttr?.crudOpt?.gridTheme === \"table_tree\" &&\n      !pageAttr?.onDashboard ? (\n        <Fragment>\n          <Button.Ripple\n            outline={outline}\n            id={`btn-add-child-${row.id}`}\n            className={`btn-action-table btn-icon ${\n              !outline ? \"rounded-circle \" : \"\"\n            }`}\n            color={!outline ? \"flat-secondary\" : \"secondary\"}\n            onClick={(e) => {\n              e.preventDefault()\n              handleEdit(null, {\n                [pageAttr?.crudOpt?.ganttParentIdField ?? \"parent_id\"]: row?.id\n              })\n            }}\n          >\n            {!onlyText && <CornerDownRight size={16} />}\n            {/* {!onlyText && renderIcon(\"fontAwesome:folder-tree\", \"\", 16)} */}\n            {/* {!onlyText && renderIcon(\"material:subdirectory_arrow_right\", \"\", 16)} */}\n            {(onlyText || withText) && (\n              <span className=\"align-middle ms-25\">{t(\"Add Child\")}</span>\n            )}\n          </Button.Ripple>\n          {!pageAttr?.isViewOnRow && (\n            <UncontrolledTooltip\n              placement=\"left\"\n              target={`btn-add-child-${row.id}`}\n            >\n              {t(\"Add Child\")}\n            </UncontrolledTooltip>\n          )}\n        </Fragment>\n      ) : null}\n\n      {/* {rowClickEvent === \"view\" || !disabledAction.includes(\"view\") ? (\n        <Fragment>\n          <Button.Ripple\n            outline={outline}\n            className={`btn-icon ms-1 ${!outline ? \"rounded-circle \" : \"\"}`}\n            color={!outline ? \"flat-info\" : \"info\"}\n            id={`btn-view-${row.id}`}\n            onClick={(e) => {\n              e.preventDefault()\n              handleEdit(row)\n            }}\n          >\n            {!onlyText && <Eye size={16} />}\n            {(onlyText || withText) && (\n              <span className=\"align-middle ms-25\">{t(\"View\")}</span>\n            )}\n          </Button.Ripple>\n          <UncontrolledTooltip placement=\"left\" target={`btn-view-${row.id}`}>\n            {t(\"View Detail\")}\n          </UncontrolledTooltip>\n        </Fragment>\n      ) : null} */}\n    </div>\n  )\n}\n\nexport default GlobalActionsTable\n","// ** React Imports\nimport { Fragment } from \"react\"\nimport { Link } from \"react-router-dom\"\n\n// ** Third Party Components\nimport Proptypes from \"prop-types\"\nimport classnames from \"classnames\"\nimport { Grid, CheckSquare, MessageSquare, Mail, Calendar } from \"react-feather\"\nimport { useTranslation } from \"react-i18next\"\n\n// ** Reactstrap Imports\nimport {\n  Breadcrumb,\n  DropdownMenu,\n  DropdownItem,\n  BreadcrumbItem,\n  DropdownToggle,\n  UncontrolledButtonDropdown\n} from \"reactstrap\"\n\nconst BreadCrumbs = (props) => {\n  const { t } = useTranslation()\n  // ** Props\n  const { data, title, mb, subtitle } = props\n\n  const renderBreadCrumbs = () => {\n    return data.map((item, index) => {\n      const Wrapper = item.link ? Link : Fragment\n      const isLastItem = data.length - 1 === index\n      return (\n        <BreadcrumbItem\n          tag=\"li\"\n          key={index}\n          active={!isLastItem}\n          className={classnames({ \"text-primary\": !isLastItem })}\n        >\n          <Wrapper {...(item.link ? { to: item.link } : {})}>\n            {item.title}\n          </Wrapper>\n        </BreadcrumbItem>\n      )\n    })\n  }\n\n  return (\n    <div\n      className={`content-header-left col-md-9 col-8 ${\n        mb || mb === 0 ? `mb-${mb}` : \"mb-2\"\n      }`}\n    >\n      <div className=\"row breadcrumbs-top\">\n        <div className=\"col-12\">\n          {title ? (\n            <h2 className=\"content-header-title float-start mb-0\">{title}</h2>\n          ) : (\n            \"\"\n          )}\n          <div className=\"breadcrumb-wrapper vs-breadcrumbs d-sm-block d-none col-12\">\n            <Breadcrumb>\n              <BreadcrumbItem tag=\"li\">\n                <Link to=\"/\">{t(\"Home\")}</Link>\n              </BreadcrumbItem>\n              {renderBreadCrumbs()}\n            </Breadcrumb>\n          </div>\n        </div>\n        <div className=\"col-12\">{subtitle ?? \"\"}</div>\n      </div>\n    </div>\n  )\n}\nexport default BreadCrumbs\n\n// ** PropTypes\nBreadCrumbs.propTypes = {\n  title: Proptypes.string.isRequired,\n  data: Proptypes.arrayOf(\n    Proptypes.shape({\n      link: Proptypes.string,\n      title: Proptypes.string.isRequired\n    })\n  )\n}\n","import { useEffect, memo } from 'react';\n/**\n * A utility for rendering a drag preview image\n */\n\nexport var DragPreviewImage = memo(function DragPreviewImage(_ref) {\n  var connect = _ref.connect,\n      src = _ref.src;\n  useEffect(function () {\n    if (typeof Image === 'undefined') return;\n    var connected = false;\n    var img = new Image();\n    img.src = src;\n\n    img.onload = function () {\n      connect(img);\n      connected = true;\n    };\n\n    return function () {\n      if (connected) {\n        connect(null);\n      }\n    };\n  });\n  return null;\n});","// ** Third Party Components\nimport PropTypes from \"prop-types\"\nimport classnames from \"classnames\"\n\n// ** Reactstrap Imports\nimport { Card, CardBody } from \"reactstrap\"\nimport { Fragment } from \"react\"\n\nconst StatsHorizontal = ({\n  icon,\n  color,\n  cardColor,\n  stats,\n  renderStats,\n  statTitle,\n  className,\n  countTextColor,\n  countTextStyle = {},\n  titleStyle = {},\n  statsMargin,\n  solidColor = false,\n  cardStyle = {},\n  titleOnTop = false\n}) => {\n  const cardColorFix = !solidColor ? `bg-light-${cardColor}` : `bg-${cardColor}`\n  return (\n    <Card\n      style={{ ...cardStyle }}\n      {...(cardColor ? { className: cardColorFix, inverse: true } : {})}\n    >\n      <CardBody className={className}>\n        {!titleOnTop ? (\n          <div className=\"d-flex justify-content-between align-items-center\">\n            {renderStats ? (\n              renderStats\n            ) : (\n              <Fragment>\n                <div>\n                  {renderStats ? (\n                    renderStats\n                  ) : (\n                    <h3\n                      className={classnames(\"fw-bolder\", {\n                        \"mb-0\": !statsMargin,\n                        [statsMargin]: statsMargin\n                      })}\n                      style={{\n                        color: countTextColor ?? \"#5e5873\",\n                        ...countTextStyle\n                      }}\n                    >\n                      {stats}\n                    </h3>\n                  )}\n\n                  <p style={{ ...titleStyle }} className=\"card-text\">\n                    {statTitle}\n                  </p>\n                </div>\n                <div\n                  className={`avatar avatar-stats p-50 m-0 ${\n                    color ? `bg-light-${color}` : \"bg-light-primary\"\n                  }`}\n                >\n                  <div className=\"avatar-content\">{icon}</div>\n                </div>\n              </Fragment>\n            )}\n          </div>\n        ) : (\n          <Fragment>\n            <div>\n              <p style={{ ...titleStyle }} className=\"card-text\">\n                {statTitle}\n              </p>\n            </div>\n            <div className=\"d-flex justify-content-between align-items-center\">\n              {renderStats ? (\n                renderStats\n              ) : (\n                <Fragment>\n                  <div>\n                    {renderStats ? (\n                      renderStats\n                    ) : (\n                      <h3\n                        className={classnames(\"fw-bolder\", {\n                          \"mb-0\": !statsMargin,\n                          [statsMargin]: statsMargin\n                        })}\n                        style={{\n                          color: countTextColor ?? \"#5e5873\",\n                          ...countTextStyle\n                        }}\n                      >\n                        {stats}\n                      </h3>\n                    )}\n                  </div>\n                  <div\n                    className={`avatar avatar-stats p-50 m-0 ${\n                      color ? `bg-light-${color}` : \"bg-light-primary\"\n                    }`}\n                  >\n                    <div className=\"avatar-content\">{icon}</div>\n                  </div>\n                </Fragment>\n              )}\n            </div>\n          </Fragment>\n        )}\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default StatsHorizontal\n\n// ** PropTypes\nStatsHorizontal.propTypes = {\n  stats: PropTypes.string,\n  renderStats: PropTypes.any,\n  className: PropTypes.string,\n  icon: PropTypes.element,\n  color: PropTypes.string,\n  cardColor: PropTypes.string,\n  statTitle: PropTypes.string,\n  statsMargin: PropTypes.oneOf([\n    \"mb-0\",\n    \"mb-25\",\n    \"mb-50\",\n    \"mb-75\",\n    \"mb-1\",\n    \"mb-2\",\n    \"mb-3\",\n    \"mb-4\",\n    \"mb-5\"\n  ])\n}\n","var map = {\n\t\"./app\": [\n\t\t174,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t9,\n\t\t14,\n\t\t38\n\t],\n\t\"./app/\": [\n\t\t174,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t9,\n\t\t14,\n\t\t38\n\t],\n\t\"./app/DropDown\": [\n\t\t392,\n\t\t9,\n\t\t0,\n\t\t60\n\t],\n\t\"./app/DropDown.js\": [\n\t\t392,\n\t\t9,\n\t\t0,\n\t\t60\n\t],\n\t\"./app/Table\": [\n\t\t381,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t9,\n\t\t14,\n\t\t144\n\t],\n\t\"./app/Table.js\": [\n\t\t381,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t9,\n\t\t14,\n\t\t144\n\t],\n\t\"./app/index\": [\n\t\t174,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t9,\n\t\t14,\n\t\t38\n\t],\n\t\"./app/index.js\": [\n\t\t174,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t9,\n\t\t14,\n\t\t38\n\t],\n\t\"./app/modal\": [\n\t\t168,\n\t\t9,\n\t\t0,\n\t\t9,\n\t\t14,\n\t\t72\n\t],\n\t\"./app/modal/\": [\n\t\t168,\n\t\t9,\n\t\t0,\n\t\t9,\n\t\t14,\n\t\t72\n\t],\n\t\"./app/modal/index\": [\n\t\t168,\n\t\t9,\n\t\t0,\n\t\t9,\n\t\t14,\n\t\t72\n\t],\n\t\"./app/modal/index.js\": [\n\t\t168,\n\t\t9,\n\t\t0,\n\t\t9,\n\t\t14,\n\t\t72\n\t],\n\t\"./app/store\": [\n\t\t85,\n\t\t9\n\t],\n\t\"./app/store/\": [\n\t\t85,\n\t\t9\n\t],\n\t\"./app/store/index\": [\n\t\t85,\n\t\t9\n\t],\n\t\"./app/store/index.js\": [\n\t\t85,\n\t\t9\n\t],\n\t\"./app/style.scss\": [\n\t\t545,\n\t\t7,\n\t\t170\n\t],\n\t\"./endpoint\": [\n\t\t175,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t8,\n\t\t6,\n\t\t42\n\t],\n\t\"./endpoint/\": [\n\t\t175,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t8,\n\t\t6,\n\t\t42\n\t],\n\t\"./endpoint/DropDown\": [\n\t\t393,\n\t\t9,\n\t\t0,\n\t\t61\n\t],\n\t\"./endpoint/DropDown.js\": [\n\t\t393,\n\t\t9,\n\t\t0,\n\t\t61\n\t],\n\t\"./endpoint/Table\": [\n\t\t382,\n\t\t9,\n\t\t2,\n\t\t6,\n\t\t139\n\t],\n\t\"./endpoint/Table.js\": [\n\t\t382,\n\t\t9,\n\t\t2,\n\t\t6,\n\t\t139\n\t],\n\t\"./endpoint/Tree\": [\n\t\t383,\n\t\t9,\n\t\t2,\n\t\t8,\n\t\t132\n\t],\n\t\"./endpoint/Tree.js\": [\n\t\t383,\n\t\t9,\n\t\t2,\n\t\t8,\n\t\t132\n\t],\n\t\"./endpoint/index\": [\n\t\t175,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t8,\n\t\t6,\n\t\t42\n\t],\n\t\"./endpoint/index.js\": [\n\t\t175,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t8,\n\t\t6,\n\t\t42\n\t],\n\t\"./endpoint/modal\": [\n\t\t164,\n\t\t9,\n\t\t75\n\t],\n\t\"./endpoint/modal/\": [\n\t\t164,\n\t\t9,\n\t\t75\n\t],\n\t\"./endpoint/modal/index\": [\n\t\t164,\n\t\t9,\n\t\t75\n\t],\n\t\"./endpoint/modal/index.js\": [\n\t\t164,\n\t\t9,\n\t\t75\n\t],\n\t\"./endpoint/store\": [\n\t\t90,\n\t\t9\n\t],\n\t\"./endpoint/store/\": [\n\t\t90,\n\t\t9\n\t],\n\t\"./endpoint/store/index\": [\n\t\t90,\n\t\t9\n\t],\n\t\"./endpoint/store/index.js\": [\n\t\t90,\n\t\t9\n\t],\n\t\"./endpoint/style.scss\": [\n\t\t546,\n\t\t7,\n\t\t171\n\t],\n\t\"./menu\": [\n\t\t176,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t8,\n\t\t10,\n\t\t29\n\t],\n\t\"./menu/\": [\n\t\t176,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t8,\n\t\t10,\n\t\t29\n\t],\n\t\"./menu/DropDown\": [\n\t\t394,\n\t\t9,\n\t\t0,\n\t\t62\n\t],\n\t\"./menu/DropDown.js\": [\n\t\t394,\n\t\t9,\n\t\t0,\n\t\t62\n\t],\n\t\"./menu/Table\": [\n\t\t384,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t10,\n\t\t135,\n\t\t138\n\t],\n\t\"./menu/Table.js\": [\n\t\t384,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t10,\n\t\t135,\n\t\t138\n\t],\n\t\"./menu/Tree\": [\n\t\t385,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t8,\n\t\t10,\n\t\t122\n\t],\n\t\"./menu/Tree.js\": [\n\t\t385,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t8,\n\t\t10,\n\t\t122\n\t],\n\t\"./menu/icons/feather\": [\n\t\t373,\n\t\t9,\n\t\t43\n\t],\n\t\"./menu/icons/feather.js\": [\n\t\t373,\n\t\t9,\n\t\t43\n\t],\n\t\"./menu/icons/material\": [\n\t\t374,\n\t\t9,\n\t\t10,\n\t\t63\n\t],\n\t\"./menu/icons/material.js\": [\n\t\t374,\n\t\t9,\n\t\t10,\n\t\t63\n\t],\n\t\"./menu/index\": [\n\t\t176,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t8,\n\t\t10,\n\t\t29\n\t],\n\t\"./menu/index.js\": [\n\t\t176,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t8,\n\t\t10,\n\t\t29\n\t],\n\t\"./menu/modal\": [\n\t\t165,\n\t\t9,\n\t\t0,\n\t\t10,\n\t\t35\n\t],\n\t\"./menu/modal/\": [\n\t\t165,\n\t\t9,\n\t\t0,\n\t\t10,\n\t\t35\n\t],\n\t\"./menu/modal/index\": [\n\t\t165,\n\t\t9,\n\t\t0,\n\t\t10,\n\t\t35\n\t],\n\t\"./menu/modal/index.js\": [\n\t\t165,\n\t\t9,\n\t\t0,\n\t\t10,\n\t\t35\n\t],\n\t\"./menu/store\": [\n\t\t89,\n\t\t9\n\t],\n\t\"./menu/store/\": [\n\t\t89,\n\t\t9\n\t],\n\t\"./menu/store/index\": [\n\t\t89,\n\t\t9\n\t],\n\t\"./menu/store/index.js\": [\n\t\t89,\n\t\t9\n\t],\n\t\"./menu/store/my_menu\": [\n\t\t35,\n\t\t9\n\t],\n\t\"./menu/store/my_menu.js\": [\n\t\t35,\n\t\t9\n\t],\n\t\"./menu/style.scss\": [\n\t\t547,\n\t\t7,\n\t\t172\n\t],\n\t\"./permission\": [\n\t\t177,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t16,\n\t\t58\n\t],\n\t\"./permission/\": [\n\t\t177,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t16,\n\t\t58\n\t],\n\t\"./permission/DropDown\": [\n\t\t395,\n\t\t9,\n\t\t0,\n\t\t64\n\t],\n\t\"./permission/DropDown.js\": [\n\t\t395,\n\t\t9,\n\t\t0,\n\t\t64\n\t],\n\t\"./permission/Form\": [\n\t\t376,\n\t\t9,\n\t\t179\n\t],\n\t\"./permission/Form.js\": [\n\t\t376,\n\t\t9,\n\t\t179\n\t],\n\t\"./permission/Table\": [\n\t\t396,\n\t\t9,\n\t\t2,\n\t\t6,\n\t\t16,\n\t\t153\n\t],\n\t\"./permission/Table.js\": [\n\t\t396,\n\t\t9,\n\t\t2,\n\t\t6,\n\t\t16,\n\t\t153\n\t],\n\t\"./permission/detail\": [\n\t\t124,\n\t\t9,\n\t\t65\n\t],\n\t\"./permission/detail/\": [\n\t\t124,\n\t\t9,\n\t\t65\n\t],\n\t\"./permission/detail/index\": [\n\t\t124,\n\t\t9,\n\t\t65\n\t],\n\t\"./permission/detail/index.js\": [\n\t\t124,\n\t\t9,\n\t\t65\n\t],\n\t\"./permission/index\": [\n\t\t177,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t16,\n\t\t58\n\t],\n\t\"./permission/index.js\": [\n\t\t177,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t16,\n\t\t58\n\t],\n\t\"./permission/modal\": [\n\t\t170,\n\t\t9,\n\t\t73\n\t],\n\t\"./permission/modal/\": [\n\t\t170,\n\t\t9,\n\t\t73\n\t],\n\t\"./permission/modal/index\": [\n\t\t170,\n\t\t9,\n\t\t73\n\t],\n\t\"./permission/modal/index.js\": [\n\t\t170,\n\t\t9,\n\t\t73\n\t],\n\t\"./permission/store\": [\n\t\t86,\n\t\t9\n\t],\n\t\"./permission/store/\": [\n\t\t86,\n\t\t9\n\t],\n\t\"./permission/store/index\": [\n\t\t86,\n\t\t9\n\t],\n\t\"./permission/store/index.js\": [\n\t\t86,\n\t\t9\n\t],\n\t\"./permission/style.scss\": [\n\t\t548,\n\t\t7,\n\t\t173\n\t],\n\t\"./permission_endpoint\": [\n\t\t178,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t17,\n\t\t53\n\t],\n\t\"./permission_endpoint/\": [\n\t\t178,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t17,\n\t\t53\n\t],\n\t\"./permission_endpoint/DropDown\": [\n\t\t397,\n\t\t9,\n\t\t0,\n\t\t66\n\t],\n\t\"./permission_endpoint/DropDown.js\": [\n\t\t397,\n\t\t9,\n\t\t0,\n\t\t66\n\t],\n\t\"./permission_endpoint/Table\": [\n\t\t398,\n\t\t9,\n\t\t2,\n\t\t6,\n\t\t17,\n\t\t154\n\t],\n\t\"./permission_endpoint/Table.js\": [\n\t\t398,\n\t\t9,\n\t\t2,\n\t\t6,\n\t\t17,\n\t\t154\n\t],\n\t\"./permission_endpoint/index\": [\n\t\t178,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t17,\n\t\t53\n\t],\n\t\"./permission_endpoint/index.js\": [\n\t\t178,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t17,\n\t\t53\n\t],\n\t\"./permission_endpoint/modal\": [\n\t\t171,\n\t\t9,\n\t\t76\n\t],\n\t\"./permission_endpoint/modal/\": [\n\t\t171,\n\t\t9,\n\t\t76\n\t],\n\t\"./permission_endpoint/modal/index\": [\n\t\t171,\n\t\t9,\n\t\t76\n\t],\n\t\"./permission_endpoint/modal/index.js\": [\n\t\t171,\n\t\t9,\n\t\t76\n\t],\n\t\"./permission_endpoint/store\": [\n\t\t92,\n\t\t9\n\t],\n\t\"./permission_endpoint/store/\": [\n\t\t92,\n\t\t9\n\t],\n\t\"./permission_endpoint/store/index\": [\n\t\t92,\n\t\t9\n\t],\n\t\"./permission_endpoint/store/index.js\": [\n\t\t92,\n\t\t9\n\t],\n\t\"./permission_endpoint/style.scss\": [\n\t\t549,\n\t\t7,\n\t\t174\n\t],\n\t\"./permission_menu\": [\n\t\t179,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t18,\n\t\t54\n\t],\n\t\"./permission_menu/\": [\n\t\t179,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t18,\n\t\t54\n\t],\n\t\"./permission_menu/DropDown\": [\n\t\t399,\n\t\t9,\n\t\t0,\n\t\t67\n\t],\n\t\"./permission_menu/DropDown.js\": [\n\t\t399,\n\t\t9,\n\t\t0,\n\t\t67\n\t],\n\t\"./permission_menu/Table\": [\n\t\t400,\n\t\t9,\n\t\t2,\n\t\t6,\n\t\t18,\n\t\t155\n\t],\n\t\"./permission_menu/Table.js\": [\n\t\t400,\n\t\t9,\n\t\t2,\n\t\t6,\n\t\t18,\n\t\t155\n\t],\n\t\"./permission_menu/index\": [\n\t\t179,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t18,\n\t\t54\n\t],\n\t\"./permission_menu/index.js\": [\n\t\t179,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t18,\n\t\t54\n\t],\n\t\"./permission_menu/modal\": [\n\t\t172,\n\t\t9,\n\t\t77\n\t],\n\t\"./permission_menu/modal/\": [\n\t\t172,\n\t\t9,\n\t\t77\n\t],\n\t\"./permission_menu/modal/index\": [\n\t\t172,\n\t\t9,\n\t\t77\n\t],\n\t\"./permission_menu/modal/index.js\": [\n\t\t172,\n\t\t9,\n\t\t77\n\t],\n\t\"./permission_menu/store\": [\n\t\t91,\n\t\t9\n\t],\n\t\"./permission_menu/store/\": [\n\t\t91,\n\t\t9\n\t],\n\t\"./permission_menu/store/index\": [\n\t\t91,\n\t\t9\n\t],\n\t\"./permission_menu/store/index.js\": [\n\t\t91,\n\t\t9\n\t],\n\t\"./permission_menu/style.scss\": [\n\t\t550,\n\t\t7,\n\t\t175\n\t],\n\t\"./role\": [\n\t\t180,\n\t\t9,\n\t\t0,\n\t\t44\n\t],\n\t\"./role/\": [\n\t\t180,\n\t\t9,\n\t\t0,\n\t\t44\n\t],\n\t\"./role/DropDown\": [\n\t\t401,\n\t\t9,\n\t\t0,\n\t\t68\n\t],\n\t\"./role/DropDown.js\": [\n\t\t401,\n\t\t9,\n\t\t0,\n\t\t68\n\t],\n\t\"./role/RoleCards\": [\n\t\t386,\n\t\t9,\n\t\t160\n\t],\n\t\"./role/RoleCards.js\": [\n\t\t386,\n\t\t9,\n\t\t160\n\t],\n\t\"./role/Table\": [\n\t\t407,\n\t\t9,\n\t\t2,\n\t\t39\n\t],\n\t\"./role/Table.js\": [\n\t\t407,\n\t\t9,\n\t\t2,\n\t\t39\n\t],\n\t\"./role/index\": [\n\t\t180,\n\t\t9,\n\t\t0,\n\t\t44\n\t],\n\t\"./role/index.js\": [\n\t\t180,\n\t\t9,\n\t\t0,\n\t\t44\n\t],\n\t\"./role/modal\": [\n\t\t173,\n\t\t9,\n\t\t78\n\t],\n\t\"./role/modal/\": [\n\t\t173,\n\t\t9,\n\t\t78\n\t],\n\t\"./role/modal/index\": [\n\t\t173,\n\t\t9,\n\t\t78\n\t],\n\t\"./role/modal/index.js\": [\n\t\t173,\n\t\t9,\n\t\t78\n\t],\n\t\"./role/store\": [\n\t\t66,\n\t\t9\n\t],\n\t\"./role/store/\": [\n\t\t66,\n\t\t9\n\t],\n\t\"./role/store/index\": [\n\t\t66,\n\t\t9\n\t],\n\t\"./role/store/index.js\": [\n\t\t66,\n\t\t9\n\t],\n\t\"./role/style.scss\": [\n\t\t551,\n\t\t7,\n\t\t176\n\t],\n\t\"./role_permission/store\": [\n\t\t94,\n\t\t9\n\t],\n\t\"./role_permission/store/\": [\n\t\t94,\n\t\t9\n\t],\n\t\"./role_permission/store/index\": [\n\t\t94,\n\t\t9\n\t],\n\t\"./role_permission/store/index.js\": [\n\t\t94,\n\t\t9\n\t],\n\t\"./roles-permissions/roles\": [\n\t\t184,\n\t\t9,\n\t\t15\n\t],\n\t\"./roles-permissions/roles/\": [\n\t\t184,\n\t\t9,\n\t\t15\n\t],\n\t\"./roles-permissions/roles/RoleCards\": [\n\t\t406,\n\t\t9,\n\t\t121\n\t],\n\t\"./roles-permissions/roles/RoleCards.js\": [\n\t\t406,\n\t\t9,\n\t\t121\n\t],\n\t\"./roles-permissions/roles/Table\": [\n\t\t408,\n\t\t9,\n\t\t2,\n\t\t41\n\t],\n\t\"./roles-permissions/roles/Table.js\": [\n\t\t408,\n\t\t9,\n\t\t2,\n\t\t41\n\t],\n\t\"./roles-permissions/roles/columns\": [\n\t\t404,\n\t\t9,\n\t\t79\n\t],\n\t\"./roles-permissions/roles/columns.js\": [\n\t\t404,\n\t\t9,\n\t\t79\n\t],\n\t\"./roles-permissions/roles/index\": [\n\t\t184,\n\t\t9,\n\t\t15\n\t],\n\t\"./roles-permissions/roles/index.js\": [\n\t\t184,\n\t\t9,\n\t\t15\n\t],\n\t\"./roles-permissions/store\": [\n\t\t95,\n\t\t9\n\t],\n\t\"./roles-permissions/store/\": [\n\t\t95,\n\t\t9\n\t],\n\t\"./roles-permissions/store/index\": [\n\t\t95,\n\t\t9\n\t],\n\t\"./roles-permissions/store/index.js\": [\n\t\t95,\n\t\t9\n\t],\n\t\"./roles-permissions/store/role\": [\n\t\t127,\n\t\t9\n\t],\n\t\"./roles-permissions/store/role.js\": [\n\t\t127,\n\t\t9\n\t],\n\t\"./unit\": [\n\t\t181,\n\t\t9,\n\t\t2,\n\t\t8,\n\t\t6,\n\t\t36\n\t],\n\t\"./unit/\": [\n\t\t181,\n\t\t9,\n\t\t2,\n\t\t8,\n\t\t6,\n\t\t36\n\t],\n\t\"./unit/Table\": [\n\t\t387,\n\t\t9,\n\t\t2,\n\t\t6,\n\t\t140\n\t],\n\t\"./unit/Table.js\": [\n\t\t387,\n\t\t9,\n\t\t2,\n\t\t6,\n\t\t140\n\t],\n\t\"./unit/Tree\": [\n\t\t388,\n\t\t9,\n\t\t8,\n\t\t145\n\t],\n\t\"./unit/Tree.js\": [\n\t\t388,\n\t\t9,\n\t\t8,\n\t\t145\n\t],\n\t\"./unit/index\": [\n\t\t181,\n\t\t9,\n\t\t2,\n\t\t8,\n\t\t6,\n\t\t36\n\t],\n\t\"./unit/index.js\": [\n\t\t181,\n\t\t9,\n\t\t2,\n\t\t8,\n\t\t6,\n\t\t36\n\t],\n\t\"./unit/modal\": [\n\t\t166,\n\t\t9,\n\t\t80\n\t],\n\t\"./unit/modal/\": [\n\t\t166,\n\t\t9,\n\t\t80\n\t],\n\t\"./unit/modal/index\": [\n\t\t166,\n\t\t9,\n\t\t80\n\t],\n\t\"./unit/modal/index.js\": [\n\t\t166,\n\t\t9,\n\t\t80\n\t],\n\t\"./unit/store\": [\n\t\t87,\n\t\t9\n\t],\n\t\"./unit/store/\": [\n\t\t87,\n\t\t9\n\t],\n\t\"./unit/store/index\": [\n\t\t87,\n\t\t9\n\t],\n\t\"./unit/store/index.js\": [\n\t\t87,\n\t\t9\n\t],\n\t\"./unit/store/my_unit\": [\n\t\t403,\n\t\t9,\n\t\t81\n\t],\n\t\"./unit/store/my_unit.js\": [\n\t\t403,\n\t\t9,\n\t\t81\n\t],\n\t\"./unit/style.scss\": [\n\t\t552,\n\t\t7,\n\t\t177\n\t],\n\t\"./unit_app\": [\n\t\t182,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t52\n\t],\n\t\"./unit_app/\": [\n\t\t182,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t52\n\t],\n\t\"./unit_app/Table\": [\n\t\t389,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t164\n\t],\n\t\"./unit_app/Table.js\": [\n\t\t389,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t164\n\t],\n\t\"./unit_app/index\": [\n\t\t182,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t52\n\t],\n\t\"./unit_app/index.js\": [\n\t\t182,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t6,\n\t\t52\n\t],\n\t\"./unit_app/modal\": [\n\t\t169,\n\t\t9,\n\t\t0,\n\t\t82\n\t],\n\t\"./unit_app/modal/\": [\n\t\t169,\n\t\t9,\n\t\t0,\n\t\t82\n\t],\n\t\"./unit_app/modal/index\": [\n\t\t169,\n\t\t9,\n\t\t0,\n\t\t82\n\t],\n\t\"./unit_app/modal/index.js\": [\n\t\t169,\n\t\t9,\n\t\t0,\n\t\t82\n\t],\n\t\"./unit_app/store\": [\n\t\t93,\n\t\t9\n\t],\n\t\"./unit_app/store/\": [\n\t\t93,\n\t\t9\n\t],\n\t\"./unit_app/store/index\": [\n\t\t93,\n\t\t9\n\t],\n\t\"./unit_app/store/index.js\": [\n\t\t93,\n\t\t9\n\t],\n\t\"./unit_app/style.scss\": [\n\t\t553,\n\t\t7,\n\t\t178\n\t],\n\t\"./user\": [\n\t\t183,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t12,\n\t\t59\n\t],\n\t\"./user/\": [\n\t\t183,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t12,\n\t\t59\n\t],\n\t\"./user/Sidebar\": [\n\t\t402,\n\t\t9,\n\t\t0,\n\t\t169\n\t],\n\t\"./user/Sidebar.js\": [\n\t\t402,\n\t\t9,\n\t\t0,\n\t\t169\n\t],\n\t\"./user/Table\": [\n\t\t405,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t12\n\t],\n\t\"./user/Table.js\": [\n\t\t405,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t12\n\t],\n\t\"./user/columns\": [\n\t\t409,\n\t\t9,\n\t\t83\n\t],\n\t\"./user/columns.js\": [\n\t\t409,\n\t\t9,\n\t\t83\n\t],\n\t\"./user/detail\": [\n\t\t125,\n\t\t9,\n\t\t0,\n\t\t7,\n\t\t9,\n\t\t13,\n\t\t32\n\t],\n\t\"./user/detail/\": [\n\t\t125,\n\t\t9,\n\t\t0,\n\t\t7,\n\t\t9,\n\t\t13,\n\t\t32\n\t],\n\t\"./user/detail/Notifications\": [\n\t\t379,\n\t\t9,\n\t\t84\n\t],\n\t\"./user/detail/Notifications.js\": [\n\t\t379,\n\t\t9,\n\t\t84\n\t],\n\t\"./user/detail/SecurityTab\": [\n\t\t378,\n\t\t9,\n\t\t7,\n\t\t13,\n\t\t162\n\t],\n\t\"./user/detail/SecurityTab.js\": [\n\t\t378,\n\t\t9,\n\t\t7,\n\t\t13,\n\t\t162\n\t],\n\t\"./user/detail/Tabs\": [\n\t\t390,\n\t\t9,\n\t\t7,\n\t\t13,\n\t\t130\n\t],\n\t\"./user/detail/Tabs.js\": [\n\t\t390,\n\t\t9,\n\t\t7,\n\t\t13,\n\t\t130\n\t],\n\t\"./user/detail/UserInfoCard\": [\n\t\t391,\n\t\t9,\n\t\t0,\n\t\t9,\n\t\t158\n\t],\n\t\"./user/detail/UserInfoCard.js\": [\n\t\t391,\n\t\t9,\n\t\t0,\n\t\t9,\n\t\t158\n\t],\n\t\"./user/detail/UserTimeline\": [\n\t\t377,\n\t\t9,\n\t\t137\n\t],\n\t\"./user/detail/UserTimeline.js\": [\n\t\t377,\n\t\t9,\n\t\t137\n\t],\n\t\"./user/detail/index\": [\n\t\t125,\n\t\t9,\n\t\t0,\n\t\t7,\n\t\t9,\n\t\t13,\n\t\t32\n\t],\n\t\"./user/detail/index.js\": [\n\t\t125,\n\t\t9,\n\t\t0,\n\t\t7,\n\t\t9,\n\t\t13,\n\t\t32\n\t],\n\t\"./user/index\": [\n\t\t183,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t12,\n\t\t59\n\t],\n\t\"./user/index.js\": [\n\t\t183,\n\t\t9,\n\t\t0,\n\t\t2,\n\t\t12,\n\t\t59\n\t],\n\t\"./user/modal\": [\n\t\t167,\n\t\t9,\n\t\t0,\n\t\t74\n\t],\n\t\"./user/modal/\": [\n\t\t167,\n\t\t9,\n\t\t0,\n\t\t74\n\t],\n\t\"./user/modal/index\": [\n\t\t167,\n\t\t9,\n\t\t0,\n\t\t74\n\t],\n\t\"./user/modal/index.js\": [\n\t\t167,\n\t\t9,\n\t\t0,\n\t\t74\n\t],\n\t\"./user/store\": [\n\t\t88,\n\t\t9\n\t],\n\t\"./user/store/\": [\n\t\t88,\n\t\t9\n\t],\n\t\"./user/store/index\": [\n\t\t88,\n\t\t9\n\t],\n\t\"./user/store/index.js\": [\n\t\t88,\n\t\t9\n\t],\n\t\"./user/store/userActivity\": [\n\t\t128,\n\t\t9\n\t],\n\t\"./user/store/userActivity.js\": [\n\t\t128,\n\t\t9\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(2).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__.t(id, ids[1])\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 606;\nmodule.exports = webpackAsyncContext;","import { createContext } from 'react';\n/**\n * Create the React Context\n */\n\nexport var DndContext = createContext({\n  dragDropManager: undefined\n});","/* flatpickr v4.6.3, @license MIT */\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global = global || self, global.flatpickr = factory());\n}(this, function () { 'use strict';\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation. All rights reserved.\r\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n    this file except in compliance with the License. You may obtain a copy of the\r\n    License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n    MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n    and limitations under the License.\r\n    ***************************************************************************** */\r\n\r\n    var __assign = function() {\r\n        __assign = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign.apply(this, arguments);\r\n    };\n\n    var HOOKS = [\n        \"onChange\",\n        \"onClose\",\n        \"onDayCreate\",\n        \"onDestroy\",\n        \"onKeyDown\",\n        \"onMonthChange\",\n        \"onOpen\",\n        \"onParseConfig\",\n        \"onReady\",\n        \"onValueUpdate\",\n        \"onYearChange\",\n        \"onPreCalendarPosition\",\n    ];\n    var defaults = {\n        _disable: [],\n        _enable: [],\n        allowInput: false,\n        altFormat: \"F j, Y\",\n        altInput: false,\n        altInputClass: \"form-control input\",\n        animate: typeof window === \"object\" &&\n            window.navigator.userAgent.indexOf(\"MSIE\") === -1,\n        ariaDateFormat: \"F j, Y\",\n        clickOpens: true,\n        closeOnSelect: true,\n        conjunction: \", \",\n        dateFormat: \"Y-m-d\",\n        defaultHour: 12,\n        defaultMinute: 0,\n        defaultSeconds: 0,\n        disable: [],\n        disableMobile: false,\n        enable: [],\n        enableSeconds: false,\n        enableTime: false,\n        errorHandler: function (err) {\n            return typeof console !== \"undefined\" && console.warn(err);\n        },\n        getWeek: function (givenDate) {\n            var date = new Date(givenDate.getTime());\n            date.setHours(0, 0, 0, 0);\n            // Thursday in current week decides the year.\n            date.setDate(date.getDate() + 3 - ((date.getDay() + 6) % 7));\n            // January 4 is always in week 1.\n            var week1 = new Date(date.getFullYear(), 0, 4);\n            // Adjust to Thursday in week 1 and count number of weeks from date to week1.\n            return (1 +\n                Math.round(((date.getTime() - week1.getTime()) / 86400000 -\n                    3 +\n                    ((week1.getDay() + 6) % 7)) /\n                    7));\n        },\n        hourIncrement: 1,\n        ignoredFocusElements: [],\n        inline: false,\n        locale: \"default\",\n        minuteIncrement: 5,\n        mode: \"single\",\n        monthSelectorType: \"dropdown\",\n        nextArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\n        noCalendar: false,\n        now: new Date(),\n        onChange: [],\n        onClose: [],\n        onDayCreate: [],\n        onDestroy: [],\n        onKeyDown: [],\n        onMonthChange: [],\n        onOpen: [],\n        onParseConfig: [],\n        onReady: [],\n        onValueUpdate: [],\n        onYearChange: [],\n        onPreCalendarPosition: [],\n        plugins: [],\n        position: \"auto\",\n        positionElement: undefined,\n        prevArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\n        shorthandCurrentMonth: false,\n        showMonths: 1,\n        static: false,\n        time_24hr: false,\n        weekNumbers: false,\n        wrap: false\n    };\n\n    var english = {\n        weekdays: {\n            shorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n            longhand: [\n                \"Sunday\",\n                \"Monday\",\n                \"Tuesday\",\n                \"Wednesday\",\n                \"Thursday\",\n                \"Friday\",\n                \"Saturday\",\n            ]\n        },\n        months: {\n            shorthand: [\n                \"Jan\",\n                \"Feb\",\n                \"Mar\",\n                \"Apr\",\n                \"May\",\n                \"Jun\",\n                \"Jul\",\n                \"Aug\",\n                \"Sep\",\n                \"Oct\",\n                \"Nov\",\n                \"Dec\",\n            ],\n            longhand: [\n                \"January\",\n                \"February\",\n                \"March\",\n                \"April\",\n                \"May\",\n                \"June\",\n                \"July\",\n                \"August\",\n                \"September\",\n                \"October\",\n                \"November\",\n                \"December\",\n            ]\n        },\n        daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n        firstDayOfWeek: 0,\n        ordinal: function (nth) {\n            var s = nth % 100;\n            if (s > 3 && s < 21)\n                return \"th\";\n            switch (s % 10) {\n                case 1:\n                    return \"st\";\n                case 2:\n                    return \"nd\";\n                case 3:\n                    return \"rd\";\n                default:\n                    return \"th\";\n            }\n        },\n        rangeSeparator: \" to \",\n        weekAbbreviation: \"Wk\",\n        scrollTitle: \"Scroll to increment\",\n        toggleTitle: \"Click to toggle\",\n        amPM: [\"AM\", \"PM\"],\n        yearAriaLabel: \"Year\",\n        hourAriaLabel: \"Hour\",\n        minuteAriaLabel: \"Minute\",\n        time_24hr: false\n    };\n\n    var pad = function (number) { return (\"0\" + number).slice(-2); };\n    var int = function (bool) { return (bool === true ? 1 : 0); };\n    /* istanbul ignore next */\n    function debounce(func, wait, immediate) {\n        if (immediate === void 0) { immediate = false; }\n        var timeout;\n        return function () {\n            var context = this, args = arguments;\n            timeout !== null && clearTimeout(timeout);\n            timeout = window.setTimeout(function () {\n                timeout = null;\n                if (!immediate)\n                    func.apply(context, args);\n            }, wait);\n            if (immediate && !timeout)\n                func.apply(context, args);\n        };\n    }\n    var arrayify = function (obj) {\n        return obj instanceof Array ? obj : [obj];\n    };\n\n    function toggleClass(elem, className, bool) {\n        if (bool === true)\n            return elem.classList.add(className);\n        elem.classList.remove(className);\n    }\n    function createElement(tag, className, content) {\n        var e = window.document.createElement(tag);\n        className = className || \"\";\n        content = content || \"\";\n        e.className = className;\n        if (content !== undefined)\n            e.textContent = content;\n        return e;\n    }\n    function clearNode(node) {\n        while (node.firstChild)\n            node.removeChild(node.firstChild);\n    }\n    function findParent(node, condition) {\n        if (condition(node))\n            return node;\n        else if (node.parentNode)\n            return findParent(node.parentNode, condition);\n        return undefined; // nothing found\n    }\n    function createNumberInput(inputClassName, opts) {\n        var wrapper = createElement(\"div\", \"numInputWrapper\"), numInput = createElement(\"input\", \"numInput \" + inputClassName), arrowUp = createElement(\"span\", \"arrowUp\"), arrowDown = createElement(\"span\", \"arrowDown\");\n        if (navigator.userAgent.indexOf(\"MSIE 9.0\") === -1) {\n            numInput.type = \"number\";\n        }\n        else {\n            numInput.type = \"text\";\n            numInput.pattern = \"\\\\d*\";\n        }\n        if (opts !== undefined)\n            for (var key in opts)\n                numInput.setAttribute(key, opts[key]);\n        wrapper.appendChild(numInput);\n        wrapper.appendChild(arrowUp);\n        wrapper.appendChild(arrowDown);\n        return wrapper;\n    }\n    function getEventTarget(event) {\n        if (typeof event.composedPath === \"function\") {\n            var path = event.composedPath();\n            return path[0];\n        }\n        return event.target;\n    }\n\n    var doNothing = function () { return undefined; };\n    var monthToStr = function (monthNumber, shorthand, locale) { return locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber]; };\n    var revFormat = {\n        D: doNothing,\n        F: function (dateObj, monthName, locale) {\n            dateObj.setMonth(locale.months.longhand.indexOf(monthName));\n        },\n        G: function (dateObj, hour) {\n            dateObj.setHours(parseFloat(hour));\n        },\n        H: function (dateObj, hour) {\n            dateObj.setHours(parseFloat(hour));\n        },\n        J: function (dateObj, day) {\n            dateObj.setDate(parseFloat(day));\n        },\n        K: function (dateObj, amPM, locale) {\n            dateObj.setHours((dateObj.getHours() % 12) +\n                12 * int(new RegExp(locale.amPM[1], \"i\").test(amPM)));\n        },\n        M: function (dateObj, shortMonth, locale) {\n            dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\n        },\n        S: function (dateObj, seconds) {\n            dateObj.setSeconds(parseFloat(seconds));\n        },\n        U: function (_, unixSeconds) { return new Date(parseFloat(unixSeconds) * 1000); },\n        W: function (dateObj, weekNum, locale) {\n            var weekNumber = parseInt(weekNum);\n            var date = new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\n            date.setDate(date.getDate() - date.getDay() + locale.firstDayOfWeek);\n            return date;\n        },\n        Y: function (dateObj, year) {\n            dateObj.setFullYear(parseFloat(year));\n        },\n        Z: function (_, ISODate) { return new Date(ISODate); },\n        d: function (dateObj, day) {\n            dateObj.setDate(parseFloat(day));\n        },\n        h: function (dateObj, hour) {\n            dateObj.setHours(parseFloat(hour));\n        },\n        i: function (dateObj, minutes) {\n            dateObj.setMinutes(parseFloat(minutes));\n        },\n        j: function (dateObj, day) {\n            dateObj.setDate(parseFloat(day));\n        },\n        l: doNothing,\n        m: function (dateObj, month) {\n            dateObj.setMonth(parseFloat(month) - 1);\n        },\n        n: function (dateObj, month) {\n            dateObj.setMonth(parseFloat(month) - 1);\n        },\n        s: function (dateObj, seconds) {\n            dateObj.setSeconds(parseFloat(seconds));\n        },\n        u: function (_, unixMillSeconds) {\n            return new Date(parseFloat(unixMillSeconds));\n        },\n        w: doNothing,\n        y: function (dateObj, year) {\n            dateObj.setFullYear(2000 + parseFloat(year));\n        }\n    };\n    var tokenRegex = {\n        D: \"(\\\\w+)\",\n        F: \"(\\\\w+)\",\n        G: \"(\\\\d\\\\d|\\\\d)\",\n        H: \"(\\\\d\\\\d|\\\\d)\",\n        J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\n        K: \"\",\n        M: \"(\\\\w+)\",\n        S: \"(\\\\d\\\\d|\\\\d)\",\n        U: \"(.+)\",\n        W: \"(\\\\d\\\\d|\\\\d)\",\n        Y: \"(\\\\d{4})\",\n        Z: \"(.+)\",\n        d: \"(\\\\d\\\\d|\\\\d)\",\n        h: \"(\\\\d\\\\d|\\\\d)\",\n        i: \"(\\\\d\\\\d|\\\\d)\",\n        j: \"(\\\\d\\\\d|\\\\d)\",\n        l: \"(\\\\w+)\",\n        m: \"(\\\\d\\\\d|\\\\d)\",\n        n: \"(\\\\d\\\\d|\\\\d)\",\n        s: \"(\\\\d\\\\d|\\\\d)\",\n        u: \"(.+)\",\n        w: \"(\\\\d\\\\d|\\\\d)\",\n        y: \"(\\\\d{2})\"\n    };\n    var formats = {\n        // get the date in UTC\n        Z: function (date) { return date.toISOString(); },\n        // weekday name, short, e.g. Thu\n        D: function (date, locale, options) {\n            return locale.weekdays.shorthand[formats.w(date, locale, options)];\n        },\n        // full month name e.g. January\n        F: function (date, locale, options) {\n            return monthToStr(formats.n(date, locale, options) - 1, false, locale);\n        },\n        // padded hour 1-12\n        G: function (date, locale, options) {\n            return pad(formats.h(date, locale, options));\n        },\n        // hours with leading zero e.g. 03\n        H: function (date) { return pad(date.getHours()); },\n        // day (1-30) with ordinal suffix e.g. 1st, 2nd\n        J: function (date, locale) {\n            return locale.ordinal !== undefined\n                ? date.getDate() + locale.ordinal(date.getDate())\n                : date.getDate();\n        },\n        // AM/PM\n        K: function (date, locale) { return locale.amPM[int(date.getHours() > 11)]; },\n        // shorthand month e.g. Jan, Sep, Oct, etc\n        M: function (date, locale) {\n            return monthToStr(date.getMonth(), true, locale);\n        },\n        // seconds 00-59\n        S: function (date) { return pad(date.getSeconds()); },\n        // unix timestamp\n        U: function (date) { return date.getTime() / 1000; },\n        W: function (date, _, options) {\n            return options.getWeek(date);\n        },\n        // full year e.g. 2016\n        Y: function (date) { return date.getFullYear(); },\n        // day in month, padded (01-30)\n        d: function (date) { return pad(date.getDate()); },\n        // hour from 1-12 (am/pm)\n        h: function (date) { return (date.getHours() % 12 ? date.getHours() % 12 : 12); },\n        // minutes, padded with leading zero e.g. 09\n        i: function (date) { return pad(date.getMinutes()); },\n        // day in month (1-30)\n        j: function (date) { return date.getDate(); },\n        // weekday name, full, e.g. Thursday\n        l: function (date, locale) {\n            return locale.weekdays.longhand[date.getDay()];\n        },\n        // padded month number (01-12)\n        m: function (date) { return pad(date.getMonth() + 1); },\n        // the month number (1-12)\n        n: function (date) { return date.getMonth() + 1; },\n        // seconds 0-59\n        s: function (date) { return date.getSeconds(); },\n        // Unix Milliseconds\n        u: function (date) { return date.getTime(); },\n        // number of the day of the week\n        w: function (date) { return date.getDay(); },\n        // last two digits of year e.g. 16 for 2016\n        y: function (date) { return String(date.getFullYear()).substring(2); }\n    };\n\n    var createDateFormatter = function (_a) {\n        var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c;\n        return function (dateObj, frmt, overrideLocale) {\n            var locale = overrideLocale || l10n;\n            if (config.formatDate !== undefined) {\n                return config.formatDate(dateObj, frmt, locale);\n            }\n            return frmt\n                .split(\"\")\n                .map(function (c, i, arr) {\n                return formats[c] && arr[i - 1] !== \"\\\\\"\n                    ? formats[c](dateObj, locale, config)\n                    : c !== \"\\\\\"\n                        ? c\n                        : \"\";\n            })\n                .join(\"\");\n        };\n    };\n    var createDateParser = function (_a) {\n        var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c;\n        return function (date, givenFormat, timeless, customLocale) {\n            if (date !== 0 && !date)\n                return undefined;\n            var locale = customLocale || l10n;\n            var parsedDate;\n            var dateOrig = date;\n            if (date instanceof Date)\n                parsedDate = new Date(date.getTime());\n            else if (typeof date !== \"string\" &&\n                date.toFixed !== undefined // timestamp\n            )\n                // create a copy\n                parsedDate = new Date(date);\n            else if (typeof date === \"string\") {\n                // date string\n                var format = givenFormat || (config || defaults).dateFormat;\n                var datestr = String(date).trim();\n                if (datestr === \"today\") {\n                    parsedDate = new Date();\n                    timeless = true;\n                }\n                else if (/Z$/.test(datestr) ||\n                    /GMT$/.test(datestr) // datestrings w/ timezone\n                )\n                    parsedDate = new Date(date);\n                else if (config && config.parseDate)\n                    parsedDate = config.parseDate(date, format);\n                else {\n                    parsedDate =\n                        !config || !config.noCalendar\n                            ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)\n                            : new Date(new Date().setHours(0, 0, 0, 0));\n                    var matched = void 0, ops = [];\n                    for (var i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\n                        var token_1 = format[i];\n                        var isBackSlash = token_1 === \"\\\\\";\n                        var escaped = format[i - 1] === \"\\\\\" || isBackSlash;\n                        if (tokenRegex[token_1] && !escaped) {\n                            regexStr += tokenRegex[token_1];\n                            var match = new RegExp(regexStr).exec(date);\n                            if (match && (matched = true)) {\n                                ops[token_1 !== \"Y\" ? \"push\" : \"unshift\"]({\n                                    fn: revFormat[token_1],\n                                    val: match[++matchIndex]\n                                });\n                            }\n                        }\n                        else if (!isBackSlash)\n                            regexStr += \".\"; // don't really care\n                        ops.forEach(function (_a) {\n                            var fn = _a.fn, val = _a.val;\n                            return (parsedDate = fn(parsedDate, val, locale) || parsedDate);\n                        });\n                    }\n                    parsedDate = matched ? parsedDate : undefined;\n                }\n            }\n            /* istanbul ignore next */\n            if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {\n                config.errorHandler(new Error(\"Invalid date provided: \" + dateOrig));\n                return undefined;\n            }\n            if (timeless === true)\n                parsedDate.setHours(0, 0, 0, 0);\n            return parsedDate;\n        };\n    };\n    /**\n     * Compute the difference in dates, measured in ms\n     */\n    function compareDates(date1, date2, timeless) {\n        if (timeless === void 0) { timeless = true; }\n        if (timeless !== false) {\n            return (new Date(date1.getTime()).setHours(0, 0, 0, 0) -\n                new Date(date2.getTime()).setHours(0, 0, 0, 0));\n        }\n        return date1.getTime() - date2.getTime();\n    }\n    var isBetween = function (ts, ts1, ts2) {\n        return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);\n    };\n    var duration = {\n        DAY: 86400000\n    };\n\n    if (typeof Object.assign !== \"function\") {\n        Object.assign = function (target) {\n            var args = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                args[_i - 1] = arguments[_i];\n            }\n            if (!target) {\n                throw TypeError(\"Cannot convert undefined or null to object\");\n            }\n            var _loop_1 = function (source) {\n                if (source) {\n                    Object.keys(source).forEach(function (key) { return (target[key] = source[key]); });\n                }\n            };\n            for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n                var source = args_1[_a];\n                _loop_1(source);\n            }\n            return target;\n        };\n    }\n\n    var DEBOUNCED_CHANGE_MS = 300;\n    function FlatpickrInstance(element, instanceConfig) {\n        var self = {\n            config: __assign({}, defaults, flatpickr.defaultConfig),\n            l10n: english\n        };\n        self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n        self._handlers = [];\n        self.pluginElements = [];\n        self.loadedPlugins = [];\n        self._bind = bind;\n        self._setHoursFromDate = setHoursFromDate;\n        self._positionCalendar = positionCalendar;\n        self.changeMonth = changeMonth;\n        self.changeYear = changeYear;\n        self.clear = clear;\n        self.close = close;\n        self._createElement = createElement;\n        self.destroy = destroy;\n        self.isEnabled = isEnabled;\n        self.jumpToDate = jumpToDate;\n        self.open = open;\n        self.redraw = redraw;\n        self.set = set;\n        self.setDate = setDate;\n        self.toggle = toggle;\n        function setupHelperFunctions() {\n            self.utils = {\n                getDaysInMonth: function (month, yr) {\n                    if (month === void 0) { month = self.currentMonth; }\n                    if (yr === void 0) { yr = self.currentYear; }\n                    if (month === 1 && ((yr % 4 === 0 && yr % 100 !== 0) || yr % 400 === 0))\n                        return 29;\n                    return self.l10n.daysInMonth[month];\n                }\n            };\n        }\n        function init() {\n            self.element = self.input = element;\n            self.isOpen = false;\n            parseConfig();\n            setupLocale();\n            setupInputs();\n            setupDates();\n            setupHelperFunctions();\n            if (!self.isMobile)\n                build();\n            bindEvents();\n            if (self.selectedDates.length || self.config.noCalendar) {\n                if (self.config.enableTime) {\n                    setHoursFromDate(self.config.noCalendar\n                        ? self.latestSelectedDateObj || self.config.minDate\n                        : undefined);\n                }\n                updateValue(false);\n            }\n            setCalendarWidth();\n            self.showTimeInput =\n                self.selectedDates.length > 0 || self.config.noCalendar;\n            var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n            /* TODO: investigate this further\n        \n              Currently, there is weird positioning behavior in safari causing pages\n              to scroll up. https://github.com/chmln/flatpickr/issues/563\n        \n              However, most browsers are not Safari and positioning is expensive when used\n              in scale. https://github.com/chmln/flatpickr/issues/1096\n            */\n            if (!self.isMobile && isSafari) {\n                positionCalendar();\n            }\n            triggerEvent(\"onReady\");\n        }\n        function bindToInstance(fn) {\n            return fn.bind(self);\n        }\n        function setCalendarWidth() {\n            var config = self.config;\n            if (config.weekNumbers === false && config.showMonths === 1)\n                return;\n            else if (config.noCalendar !== true) {\n                window.requestAnimationFrame(function () {\n                    if (self.calendarContainer !== undefined) {\n                        self.calendarContainer.style.visibility = \"hidden\";\n                        self.calendarContainer.style.display = \"block\";\n                    }\n                    if (self.daysContainer !== undefined) {\n                        var daysWidth = (self.days.offsetWidth + 1) * config.showMonths;\n                        self.daysContainer.style.width = daysWidth + \"px\";\n                        self.calendarContainer.style.width =\n                            daysWidth +\n                                (self.weekWrapper !== undefined\n                                    ? self.weekWrapper.offsetWidth\n                                    : 0) +\n                                \"px\";\n                        self.calendarContainer.style.removeProperty(\"visibility\");\n                        self.calendarContainer.style.removeProperty(\"display\");\n                    }\n                });\n            }\n        }\n        /**\n         * The handler for all events targeting the time inputs\n         */\n        function updateTime(e) {\n            if (self.selectedDates.length === 0) {\n                setDefaultTime();\n            }\n            if (e !== undefined && e.type !== \"blur\") {\n                timeWrapper(e);\n            }\n            var prevValue = self._input.value;\n            setHoursFromInputs();\n            updateValue();\n            if (self._input.value !== prevValue) {\n                self._debouncedChange();\n            }\n        }\n        function ampm2military(hour, amPM) {\n            return (hour % 12) + 12 * int(amPM === self.l10n.amPM[1]);\n        }\n        function military2ampm(hour) {\n            switch (hour % 24) {\n                case 0:\n                case 12:\n                    return 12;\n                default:\n                    return hour % 12;\n            }\n        }\n        /**\n         * Syncs the selected date object time with user's time input\n         */\n        function setHoursFromInputs() {\n            if (self.hourElement === undefined || self.minuteElement === undefined)\n                return;\n            var hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== undefined\n                ? (parseInt(self.secondElement.value, 10) || 0) % 60\n                : 0;\n            if (self.amPM !== undefined) {\n                hours = ampm2military(hours, self.amPM.textContent);\n            }\n            var limitMinHours = self.config.minTime !== undefined ||\n                (self.config.minDate &&\n                    self.minDateHasTime &&\n                    self.latestSelectedDateObj &&\n                    compareDates(self.latestSelectedDateObj, self.config.minDate, true) ===\n                        0);\n            var limitMaxHours = self.config.maxTime !== undefined ||\n                (self.config.maxDate &&\n                    self.maxDateHasTime &&\n                    self.latestSelectedDateObj &&\n                    compareDates(self.latestSelectedDateObj, self.config.maxDate, true) ===\n                        0);\n            if (limitMaxHours) {\n                var maxTime = self.config.maxTime !== undefined\n                    ? self.config.maxTime\n                    : self.config.maxDate;\n                hours = Math.min(hours, maxTime.getHours());\n                if (hours === maxTime.getHours())\n                    minutes = Math.min(minutes, maxTime.getMinutes());\n                if (minutes === maxTime.getMinutes())\n                    seconds = Math.min(seconds, maxTime.getSeconds());\n            }\n            if (limitMinHours) {\n                var minTime = self.config.minTime !== undefined\n                    ? self.config.minTime\n                    : self.config.minDate;\n                hours = Math.max(hours, minTime.getHours());\n                if (hours === minTime.getHours())\n                    minutes = Math.max(minutes, minTime.getMinutes());\n                if (minutes === minTime.getMinutes())\n                    seconds = Math.max(seconds, minTime.getSeconds());\n            }\n            setHours(hours, minutes, seconds);\n        }\n        /**\n         * Syncs time input values with a date\n         */\n        function setHoursFromDate(dateObj) {\n            var date = dateObj || self.latestSelectedDateObj;\n            if (date)\n                setHours(date.getHours(), date.getMinutes(), date.getSeconds());\n        }\n        function setDefaultHours() {\n            var hours = self.config.defaultHour;\n            var minutes = self.config.defaultMinute;\n            var seconds = self.config.defaultSeconds;\n            if (self.config.minDate !== undefined) {\n                var minHr = self.config.minDate.getHours();\n                var minMinutes = self.config.minDate.getMinutes();\n                hours = Math.max(hours, minHr);\n                if (hours === minHr)\n                    minutes = Math.max(minMinutes, minutes);\n                if (hours === minHr && minutes === minMinutes)\n                    seconds = self.config.minDate.getSeconds();\n            }\n            if (self.config.maxDate !== undefined) {\n                var maxHr = self.config.maxDate.getHours();\n                var maxMinutes = self.config.maxDate.getMinutes();\n                hours = Math.min(hours, maxHr);\n                if (hours === maxHr)\n                    minutes = Math.min(maxMinutes, minutes);\n                if (hours === maxHr && minutes === maxMinutes)\n                    seconds = self.config.maxDate.getSeconds();\n            }\n            setHours(hours, minutes, seconds);\n        }\n        /**\n         * Sets the hours, minutes, and optionally seconds\n         * of the latest selected date object and the\n         * corresponding time inputs\n         * @param {Number} hours the hour. whether its military\n         *                 or am-pm gets inferred from config\n         * @param {Number} minutes the minutes\n         * @param {Number} seconds the seconds (optional)\n         */\n        function setHours(hours, minutes, seconds) {\n            if (self.latestSelectedDateObj !== undefined) {\n                self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\n            }\n            if (!self.hourElement || !self.minuteElement || self.isMobile)\n                return;\n            self.hourElement.value = pad(!self.config.time_24hr\n                ? ((12 + hours) % 12) + 12 * int(hours % 12 === 0)\n                : hours);\n            self.minuteElement.value = pad(minutes);\n            if (self.amPM !== undefined)\n                self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\n            if (self.secondElement !== undefined)\n                self.secondElement.value = pad(seconds);\n        }\n        /**\n         * Handles the year input and incrementing events\n         * @param {Event} event the keyup or increment event\n         */\n        function onYearInput(event) {\n            var year = parseInt(event.target.value) + (event.delta || 0);\n            if (year / 1000 > 1 ||\n                (event.key === \"Enter\" && !/[^\\d]/.test(year.toString()))) {\n                changeYear(year);\n            }\n        }\n        /**\n         * Essentially addEventListener + tracking\n         * @param {Element} element the element to addEventListener to\n         * @param {String} event the event name\n         * @param {Function} handler the event handler\n         */\n        function bind(element, event, handler, options) {\n            if (event instanceof Array)\n                return event.forEach(function (ev) { return bind(element, ev, handler, options); });\n            if (element instanceof Array)\n                return element.forEach(function (el) { return bind(el, event, handler, options); });\n            element.addEventListener(event, handler, options);\n            self._handlers.push({\n                element: element,\n                event: event,\n                handler: handler,\n                options: options\n            });\n        }\n        /**\n         * A mousedown handler which mimics click.\n         * Minimizes latency, since we don't need to wait for mouseup in most cases.\n         * Also, avoids handling right clicks.\n         *\n         * @param {Function} handler the event handler\n         */\n        function onClick(handler) {\n            return function (evt) {\n                evt.which === 1 && handler(evt);\n            };\n        }\n        function triggerChange() {\n            triggerEvent(\"onChange\");\n        }\n        /**\n         * Adds all the necessary event listeners\n         */\n        function bindEvents() {\n            if (self.config.wrap) {\n                [\"open\", \"close\", \"toggle\", \"clear\"].forEach(function (evt) {\n                    Array.prototype.forEach.call(self.element.querySelectorAll(\"[data-\" + evt + \"]\"), function (el) {\n                        return bind(el, \"click\", self[evt]);\n                    });\n                });\n            }\n            if (self.isMobile) {\n                setupMobile();\n                return;\n            }\n            var debouncedResize = debounce(onResize, 50);\n            self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);\n            if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent))\n                bind(self.daysContainer, \"mouseover\", function (e) {\n                    if (self.config.mode === \"range\")\n                        onMouseOver(e.target);\n                });\n            bind(window.document.body, \"keydown\", onKeyDown);\n            if (!self.config.inline && !self.config.static)\n                bind(window, \"resize\", debouncedResize);\n            if (window.ontouchstart !== undefined)\n                bind(window.document, \"touchstart\", documentClick);\n            else\n                bind(window.document, \"mousedown\", onClick(documentClick));\n            bind(window.document, \"focus\", documentClick, { capture: true });\n            if (self.config.clickOpens === true) {\n                bind(self._input, \"focus\", self.open);\n                bind(self._input, \"mousedown\", onClick(self.open));\n            }\n            if (self.daysContainer !== undefined) {\n                bind(self.monthNav, \"mousedown\", onClick(onMonthNavClick));\n                bind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\n                bind(self.daysContainer, \"mousedown\", onClick(selectDate));\n            }\n            if (self.timeContainer !== undefined &&\n                self.minuteElement !== undefined &&\n                self.hourElement !== undefined) {\n                var selText = function (e) {\n                    return e.target.select();\n                };\n                bind(self.timeContainer, [\"increment\"], updateTime);\n                bind(self.timeContainer, \"blur\", updateTime, { capture: true });\n                bind(self.timeContainer, \"mousedown\", onClick(timeIncrement));\n                bind([self.hourElement, self.minuteElement], [\"focus\", \"click\"], selText);\n                if (self.secondElement !== undefined)\n                    bind(self.secondElement, \"focus\", function () { return self.secondElement && self.secondElement.select(); });\n                if (self.amPM !== undefined) {\n                    bind(self.amPM, \"mousedown\", onClick(function (e) {\n                        updateTime(e);\n                        triggerChange();\n                    }));\n                }\n            }\n        }\n        /**\n         * Set the calendar view to a particular date.\n         * @param {Date} jumpDate the date to set the view to\n         * @param {boolean} triggerChange if change events should be triggered\n         */\n        function jumpToDate(jumpDate, triggerChange) {\n            var jumpTo = jumpDate !== undefined\n                ? self.parseDate(jumpDate)\n                : self.latestSelectedDateObj ||\n                    (self.config.minDate && self.config.minDate > self.now\n                        ? self.config.minDate\n                        : self.config.maxDate && self.config.maxDate < self.now\n                            ? self.config.maxDate\n                            : self.now);\n            var oldYear = self.currentYear;\n            var oldMonth = self.currentMonth;\n            try {\n                if (jumpTo !== undefined) {\n                    self.currentYear = jumpTo.getFullYear();\n                    self.currentMonth = jumpTo.getMonth();\n                }\n            }\n            catch (e) {\n                /* istanbul ignore next */\n                e.message = \"Invalid date supplied: \" + jumpTo;\n                self.config.errorHandler(e);\n            }\n            if (triggerChange && self.currentYear !== oldYear) {\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n            if (triggerChange &&\n                (self.currentYear !== oldYear || self.currentMonth !== oldMonth)) {\n                triggerEvent(\"onMonthChange\");\n            }\n            self.redraw();\n        }\n        /**\n         * The up/down arrow handler for time inputs\n         * @param {Event} e the click event\n         */\n        function timeIncrement(e) {\n            if (~e.target.className.indexOf(\"arrow\"))\n                incrementNumInput(e, e.target.classList.contains(\"arrowUp\") ? 1 : -1);\n        }\n        /**\n         * Increments/decrements the value of input associ-\n         * ated with the up/down arrow by dispatching an\n         * \"increment\" event on the input.\n         *\n         * @param {Event} e the click event\n         * @param {Number} delta the diff (usually 1 or -1)\n         * @param {Element} inputElem the input element\n         */\n        function incrementNumInput(e, delta, inputElem) {\n            var target = e && e.target;\n            var input = inputElem ||\n                (target && target.parentNode && target.parentNode.firstChild);\n            var event = createEvent(\"increment\");\n            event.delta = delta;\n            input && input.dispatchEvent(event);\n        }\n        function build() {\n            var fragment = window.document.createDocumentFragment();\n            self.calendarContainer = createElement(\"div\", \"flatpickr-calendar\");\n            self.calendarContainer.tabIndex = -1;\n            if (!self.config.noCalendar) {\n                fragment.appendChild(buildMonthNav());\n                self.innerContainer = createElement(\"div\", \"flatpickr-innerContainer\");\n                if (self.config.weekNumbers) {\n                    var _a = buildWeeks(), weekWrapper = _a.weekWrapper, weekNumbers = _a.weekNumbers;\n                    self.innerContainer.appendChild(weekWrapper);\n                    self.weekNumbers = weekNumbers;\n                    self.weekWrapper = weekWrapper;\n                }\n                self.rContainer = createElement(\"div\", \"flatpickr-rContainer\");\n                self.rContainer.appendChild(buildWeekdays());\n                if (!self.daysContainer) {\n                    self.daysContainer = createElement(\"div\", \"flatpickr-days\");\n                    self.daysContainer.tabIndex = -1;\n                }\n                buildDays();\n                self.rContainer.appendChild(self.daysContainer);\n                self.innerContainer.appendChild(self.rContainer);\n                fragment.appendChild(self.innerContainer);\n            }\n            if (self.config.enableTime) {\n                fragment.appendChild(buildTime());\n            }\n            toggleClass(self.calendarContainer, \"rangeMode\", self.config.mode === \"range\");\n            toggleClass(self.calendarContainer, \"animate\", self.config.animate === true);\n            toggleClass(self.calendarContainer, \"multiMonth\", self.config.showMonths > 1);\n            self.calendarContainer.appendChild(fragment);\n            var customAppend = self.config.appendTo !== undefined &&\n                self.config.appendTo.nodeType !== undefined;\n            if (self.config.inline || self.config.static) {\n                self.calendarContainer.classList.add(self.config.inline ? \"inline\" : \"static\");\n                if (self.config.inline) {\n                    if (!customAppend && self.element.parentNode)\n                        self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);\n                    else if (self.config.appendTo !== undefined)\n                        self.config.appendTo.appendChild(self.calendarContainer);\n                }\n                if (self.config.static) {\n                    var wrapper = createElement(\"div\", \"flatpickr-wrapper\");\n                    if (self.element.parentNode)\n                        self.element.parentNode.insertBefore(wrapper, self.element);\n                    wrapper.appendChild(self.element);\n                    if (self.altInput)\n                        wrapper.appendChild(self.altInput);\n                    wrapper.appendChild(self.calendarContainer);\n                }\n            }\n            if (!self.config.static && !self.config.inline)\n                (self.config.appendTo !== undefined\n                    ? self.config.appendTo\n                    : window.document.body).appendChild(self.calendarContainer);\n        }\n        function createDay(className, date, dayNumber, i) {\n            var dateIsEnabled = isEnabled(date, true), dayElement = createElement(\"span\", \"flatpickr-day \" + className, date.getDate().toString());\n            dayElement.dateObj = date;\n            dayElement.$i = i;\n            dayElement.setAttribute(\"aria-label\", self.formatDate(date, self.config.ariaDateFormat));\n            if (className.indexOf(\"hidden\") === -1 &&\n                compareDates(date, self.now) === 0) {\n                self.todayDateElem = dayElement;\n                dayElement.classList.add(\"today\");\n                dayElement.setAttribute(\"aria-current\", \"date\");\n            }\n            if (dateIsEnabled) {\n                dayElement.tabIndex = -1;\n                if (isDateSelected(date)) {\n                    dayElement.classList.add(\"selected\");\n                    self.selectedDateElem = dayElement;\n                    if (self.config.mode === \"range\") {\n                        toggleClass(dayElement, \"startRange\", self.selectedDates[0] &&\n                            compareDates(date, self.selectedDates[0], true) === 0);\n                        toggleClass(dayElement, \"endRange\", self.selectedDates[1] &&\n                            compareDates(date, self.selectedDates[1], true) === 0);\n                        if (className === \"nextMonthDay\")\n                            dayElement.classList.add(\"inRange\");\n                    }\n                }\n            }\n            else {\n                dayElement.classList.add(\"flatpickr-disabled\");\n            }\n            if (self.config.mode === \"range\") {\n                if (isDateInRange(date) && !isDateSelected(date))\n                    dayElement.classList.add(\"inRange\");\n            }\n            if (self.weekNumbers &&\n                self.config.showMonths === 1 &&\n                className !== \"prevMonthDay\" &&\n                dayNumber % 7 === 1) {\n                self.weekNumbers.insertAdjacentHTML(\"beforeend\", \"<span class='flatpickr-day'>\" + self.config.getWeek(date) + \"</span>\");\n            }\n            triggerEvent(\"onDayCreate\", dayElement);\n            return dayElement;\n        }\n        function focusOnDayElem(targetNode) {\n            targetNode.focus();\n            if (self.config.mode === \"range\")\n                onMouseOver(targetNode);\n        }\n        function getFirstAvailableDay(delta) {\n            var startMonth = delta > 0 ? 0 : self.config.showMonths - 1;\n            var endMonth = delta > 0 ? self.config.showMonths : -1;\n            for (var m = startMonth; m != endMonth; m += delta) {\n                var month = self.daysContainer.children[m];\n                var startIndex = delta > 0 ? 0 : month.children.length - 1;\n                var endIndex = delta > 0 ? month.children.length : -1;\n                for (var i = startIndex; i != endIndex; i += delta) {\n                    var c = month.children[i];\n                    if (c.className.indexOf(\"hidden\") === -1 && isEnabled(c.dateObj))\n                        return c;\n                }\n            }\n            return undefined;\n        }\n        function getNextAvailableDay(current, delta) {\n            var givenMonth = current.className.indexOf(\"Month\") === -1\n                ? current.dateObj.getMonth()\n                : self.currentMonth;\n            var endMonth = delta > 0 ? self.config.showMonths : -1;\n            var loopDelta = delta > 0 ? 1 : -1;\n            for (var m = givenMonth - self.currentMonth; m != endMonth; m += loopDelta) {\n                var month = self.daysContainer.children[m];\n                var startIndex = givenMonth - self.currentMonth === m\n                    ? current.$i + delta\n                    : delta < 0\n                        ? month.children.length - 1\n                        : 0;\n                var numMonthDays = month.children.length;\n                for (var i = startIndex; i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1); i += loopDelta) {\n                    var c = month.children[i];\n                    if (c.className.indexOf(\"hidden\") === -1 &&\n                        isEnabled(c.dateObj) &&\n                        Math.abs(current.$i - i) >= Math.abs(delta))\n                        return focusOnDayElem(c);\n                }\n            }\n            self.changeMonth(loopDelta);\n            focusOnDay(getFirstAvailableDay(loopDelta), 0);\n            return undefined;\n        }\n        function focusOnDay(current, offset) {\n            var dayFocused = isInView(document.activeElement || document.body);\n            var startElem = current !== undefined\n                ? current\n                : dayFocused\n                    ? document.activeElement\n                    : self.selectedDateElem !== undefined && isInView(self.selectedDateElem)\n                        ? self.selectedDateElem\n                        : self.todayDateElem !== undefined && isInView(self.todayDateElem)\n                            ? self.todayDateElem\n                            : getFirstAvailableDay(offset > 0 ? 1 : -1);\n            if (startElem === undefined)\n                return self._input.focus();\n            if (!dayFocused)\n                return focusOnDayElem(startElem);\n            getNextAvailableDay(startElem, offset);\n        }\n        function buildMonthDays(year, month) {\n            var firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;\n            var prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12);\n            var daysInMonth = self.utils.getDaysInMonth(month), days = window.document.createDocumentFragment(), isMultiMonth = self.config.showMonths > 1, prevMonthDayClass = isMultiMonth ? \"prevMonthDay hidden\" : \"prevMonthDay\", nextMonthDayClass = isMultiMonth ? \"nextMonthDay hidden\" : \"nextMonthDay\";\n            var dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;\n            // prepend days from the ending of previous month\n            for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\n                days.appendChild(createDay(prevMonthDayClass, new Date(year, month - 1, dayNumber), dayNumber, dayIndex));\n            }\n            // Start at 1 since there is no 0th day\n            for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\n                days.appendChild(createDay(\"\", new Date(year, month, dayNumber), dayNumber, dayIndex));\n            }\n            // append days from the next month\n            for (var dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth &&\n                (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {\n                days.appendChild(createDay(nextMonthDayClass, new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));\n            }\n            //updateNavigationCurrentMonth();\n            var dayContainer = createElement(\"div\", \"dayContainer\");\n            dayContainer.appendChild(days);\n            return dayContainer;\n        }\n        function buildDays() {\n            if (self.daysContainer === undefined) {\n                return;\n            }\n            clearNode(self.daysContainer);\n            // TODO: week numbers for each month\n            if (self.weekNumbers)\n                clearNode(self.weekNumbers);\n            var frag = document.createDocumentFragment();\n            for (var i = 0; i < self.config.showMonths; i++) {\n                var d = new Date(self.currentYear, self.currentMonth, 1);\n                d.setMonth(self.currentMonth + i);\n                frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));\n            }\n            self.daysContainer.appendChild(frag);\n            self.days = self.daysContainer.firstChild;\n            if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n                onMouseOver();\n            }\n        }\n        function buildMonthSwitch() {\n            if (self.config.showMonths > 1 ||\n                self.config.monthSelectorType !== \"dropdown\")\n                return;\n            var shouldBuildMonth = function (month) {\n                if (self.config.minDate !== undefined &&\n                    self.currentYear === self.config.minDate.getFullYear() &&\n                    month < self.config.minDate.getMonth()) {\n                    return false;\n                }\n                return !(self.config.maxDate !== undefined &&\n                    self.currentYear === self.config.maxDate.getFullYear() &&\n                    month > self.config.maxDate.getMonth());\n            };\n            self.monthsDropdownContainer.tabIndex = -1;\n            self.monthsDropdownContainer.innerHTML = \"\";\n            for (var i = 0; i < 12; i++) {\n                if (!shouldBuildMonth(i))\n                    continue;\n                var month = createElement(\"option\", \"flatpickr-monthDropdown-month\");\n                month.value = new Date(self.currentYear, i).getMonth().toString();\n                month.textContent = monthToStr(i, self.config.shorthandCurrentMonth, self.l10n);\n                month.tabIndex = -1;\n                if (self.currentMonth === i) {\n                    month.selected = true;\n                }\n                self.monthsDropdownContainer.appendChild(month);\n            }\n        }\n        function buildMonth() {\n            var container = createElement(\"div\", \"flatpickr-month\");\n            var monthNavFragment = window.document.createDocumentFragment();\n            var monthElement;\n            if (self.config.showMonths > 1 ||\n                self.config.monthSelectorType === \"static\") {\n                monthElement = createElement(\"span\", \"cur-month\");\n            }\n            else {\n                self.monthsDropdownContainer = createElement(\"select\", \"flatpickr-monthDropdown-months\");\n                bind(self.monthsDropdownContainer, \"change\", function (e) {\n                    var target = e.target;\n                    var selectedMonth = parseInt(target.value, 10);\n                    self.changeMonth(selectedMonth - self.currentMonth);\n                    triggerEvent(\"onMonthChange\");\n                });\n                buildMonthSwitch();\n                monthElement = self.monthsDropdownContainer;\n            }\n            var yearInput = createNumberInput(\"cur-year\", { tabindex: \"-1\" });\n            var yearElement = yearInput.getElementsByTagName(\"input\")[0];\n            yearElement.setAttribute(\"aria-label\", self.l10n.yearAriaLabel);\n            if (self.config.minDate) {\n                yearElement.setAttribute(\"min\", self.config.minDate.getFullYear().toString());\n            }\n            if (self.config.maxDate) {\n                yearElement.setAttribute(\"max\", self.config.maxDate.getFullYear().toString());\n                yearElement.disabled =\n                    !!self.config.minDate &&\n                        self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\n            }\n            var currentMonth = createElement(\"div\", \"flatpickr-current-month\");\n            currentMonth.appendChild(monthElement);\n            currentMonth.appendChild(yearInput);\n            monthNavFragment.appendChild(currentMonth);\n            container.appendChild(monthNavFragment);\n            return {\n                container: container,\n                yearElement: yearElement,\n                monthElement: monthElement\n            };\n        }\n        function buildMonths() {\n            clearNode(self.monthNav);\n            self.monthNav.appendChild(self.prevMonthNav);\n            if (self.config.showMonths) {\n                self.yearElements = [];\n                self.monthElements = [];\n            }\n            for (var m = self.config.showMonths; m--;) {\n                var month = buildMonth();\n                self.yearElements.push(month.yearElement);\n                self.monthElements.push(month.monthElement);\n                self.monthNav.appendChild(month.container);\n            }\n            self.monthNav.appendChild(self.nextMonthNav);\n        }\n        function buildMonthNav() {\n            self.monthNav = createElement(\"div\", \"flatpickr-months\");\n            self.yearElements = [];\n            self.monthElements = [];\n            self.prevMonthNav = createElement(\"span\", \"flatpickr-prev-month\");\n            self.prevMonthNav.innerHTML = self.config.prevArrow;\n            self.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\n            self.nextMonthNav.innerHTML = self.config.nextArrow;\n            buildMonths();\n            Object.defineProperty(self, \"_hidePrevMonthArrow\", {\n                get: function () { return self.__hidePrevMonthArrow; },\n                set: function (bool) {\n                    if (self.__hidePrevMonthArrow !== bool) {\n                        toggleClass(self.prevMonthNav, \"flatpickr-disabled\", bool);\n                        self.__hidePrevMonthArrow = bool;\n                    }\n                }\n            });\n            Object.defineProperty(self, \"_hideNextMonthArrow\", {\n                get: function () { return self.__hideNextMonthArrow; },\n                set: function (bool) {\n                    if (self.__hideNextMonthArrow !== bool) {\n                        toggleClass(self.nextMonthNav, \"flatpickr-disabled\", bool);\n                        self.__hideNextMonthArrow = bool;\n                    }\n                }\n            });\n            self.currentYearElement = self.yearElements[0];\n            updateNavigationCurrentMonth();\n            return self.monthNav;\n        }\n        function buildTime() {\n            self.calendarContainer.classList.add(\"hasTime\");\n            if (self.config.noCalendar)\n                self.calendarContainer.classList.add(\"noCalendar\");\n            self.timeContainer = createElement(\"div\", \"flatpickr-time\");\n            self.timeContainer.tabIndex = -1;\n            var separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\n            var hourInput = createNumberInput(\"flatpickr-hour\", {\n                \"aria-label\": self.l10n.hourAriaLabel\n            });\n            self.hourElement = hourInput.getElementsByTagName(\"input\")[0];\n            var minuteInput = createNumberInput(\"flatpickr-minute\", {\n                \"aria-label\": self.l10n.minuteAriaLabel\n            });\n            self.minuteElement = minuteInput.getElementsByTagName(\"input\")[0];\n            self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\n            self.hourElement.value = pad(self.latestSelectedDateObj\n                ? self.latestSelectedDateObj.getHours()\n                : self.config.time_24hr\n                    ? self.config.defaultHour\n                    : military2ampm(self.config.defaultHour));\n            self.minuteElement.value = pad(self.latestSelectedDateObj\n                ? self.latestSelectedDateObj.getMinutes()\n                : self.config.defaultMinute);\n            self.hourElement.setAttribute(\"step\", self.config.hourIncrement.toString());\n            self.minuteElement.setAttribute(\"step\", self.config.minuteIncrement.toString());\n            self.hourElement.setAttribute(\"min\", self.config.time_24hr ? \"0\" : \"1\");\n            self.hourElement.setAttribute(\"max\", self.config.time_24hr ? \"23\" : \"12\");\n            self.minuteElement.setAttribute(\"min\", \"0\");\n            self.minuteElement.setAttribute(\"max\", \"59\");\n            self.timeContainer.appendChild(hourInput);\n            self.timeContainer.appendChild(separator);\n            self.timeContainer.appendChild(minuteInput);\n            if (self.config.time_24hr)\n                self.timeContainer.classList.add(\"time24hr\");\n            if (self.config.enableSeconds) {\n                self.timeContainer.classList.add(\"hasSeconds\");\n                var secondInput = createNumberInput(\"flatpickr-second\");\n                self.secondElement = secondInput.getElementsByTagName(\"input\")[0];\n                self.secondElement.value = pad(self.latestSelectedDateObj\n                    ? self.latestSelectedDateObj.getSeconds()\n                    : self.config.defaultSeconds);\n                self.secondElement.setAttribute(\"step\", self.minuteElement.getAttribute(\"step\"));\n                self.secondElement.setAttribute(\"min\", \"0\");\n                self.secondElement.setAttribute(\"max\", \"59\");\n                self.timeContainer.appendChild(createElement(\"span\", \"flatpickr-time-separator\", \":\"));\n                self.timeContainer.appendChild(secondInput);\n            }\n            if (!self.config.time_24hr) {\n                // add self.amPM if appropriate\n                self.amPM = createElement(\"span\", \"flatpickr-am-pm\", self.l10n.amPM[int((self.latestSelectedDateObj\n                    ? self.hourElement.value\n                    : self.config.defaultHour) > 11)]);\n                self.amPM.title = self.l10n.toggleTitle;\n                self.amPM.tabIndex = -1;\n                self.timeContainer.appendChild(self.amPM);\n            }\n            return self.timeContainer;\n        }\n        function buildWeekdays() {\n            if (!self.weekdayContainer)\n                self.weekdayContainer = createElement(\"div\", \"flatpickr-weekdays\");\n            else\n                clearNode(self.weekdayContainer);\n            for (var i = self.config.showMonths; i--;) {\n                var container = createElement(\"div\", \"flatpickr-weekdaycontainer\");\n                self.weekdayContainer.appendChild(container);\n            }\n            updateWeekdays();\n            return self.weekdayContainer;\n        }\n        function updateWeekdays() {\n            if (!self.weekdayContainer) {\n                return;\n            }\n            var firstDayOfWeek = self.l10n.firstDayOfWeek;\n            var weekdays = self.l10n.weekdays.shorthand.slice();\n            if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\n                weekdays = weekdays.splice(firstDayOfWeek, weekdays.length).concat(weekdays.splice(0, firstDayOfWeek));\n            }\n            for (var i = self.config.showMonths; i--;) {\n                self.weekdayContainer.children[i].innerHTML = \"\\n      <span class='flatpickr-weekday'>\\n        \" + weekdays.join(\"</span><span class='flatpickr-weekday'>\") + \"\\n      </span>\\n      \";\n            }\n        }\n        /* istanbul ignore next */\n        function buildWeeks() {\n            self.calendarContainer.classList.add(\"hasWeeks\");\n            var weekWrapper = createElement(\"div\", \"flatpickr-weekwrapper\");\n            weekWrapper.appendChild(createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation));\n            var weekNumbers = createElement(\"div\", \"flatpickr-weeks\");\n            weekWrapper.appendChild(weekNumbers);\n            return {\n                weekWrapper: weekWrapper,\n                weekNumbers: weekNumbers\n            };\n        }\n        function changeMonth(value, isOffset) {\n            if (isOffset === void 0) { isOffset = true; }\n            var delta = isOffset ? value : value - self.currentMonth;\n            if ((delta < 0 && self._hidePrevMonthArrow === true) ||\n                (delta > 0 && self._hideNextMonthArrow === true))\n                return;\n            self.currentMonth += delta;\n            if (self.currentMonth < 0 || self.currentMonth > 11) {\n                self.currentYear += self.currentMonth > 11 ? 1 : -1;\n                self.currentMonth = (self.currentMonth + 12) % 12;\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n            buildDays();\n            triggerEvent(\"onMonthChange\");\n            updateNavigationCurrentMonth();\n        }\n        function clear(triggerChangeEvent, toInitial) {\n            if (triggerChangeEvent === void 0) { triggerChangeEvent = true; }\n            if (toInitial === void 0) { toInitial = true; }\n            self.input.value = \"\";\n            if (self.altInput !== undefined)\n                self.altInput.value = \"\";\n            if (self.mobileInput !== undefined)\n                self.mobileInput.value = \"\";\n            self.selectedDates = [];\n            self.latestSelectedDateObj = undefined;\n            if (toInitial === true) {\n                self.currentYear = self._initialDate.getFullYear();\n                self.currentMonth = self._initialDate.getMonth();\n            }\n            self.showTimeInput = false;\n            if (self.config.enableTime === true) {\n                setDefaultHours();\n            }\n            self.redraw();\n            if (triggerChangeEvent)\n                // triggerChangeEvent is true (default) or an Event\n                triggerEvent(\"onChange\");\n        }\n        function close() {\n            self.isOpen = false;\n            if (!self.isMobile) {\n                if (self.calendarContainer !== undefined) {\n                    self.calendarContainer.classList.remove(\"open\");\n                }\n                if (self._input !== undefined) {\n                    self._input.classList.remove(\"active\");\n                }\n            }\n            triggerEvent(\"onClose\");\n        }\n        function destroy() {\n            if (self.config !== undefined)\n                triggerEvent(\"onDestroy\");\n            for (var i = self._handlers.length; i--;) {\n                var h = self._handlers[i];\n                h.element.removeEventListener(h.event, h.handler, h.options);\n            }\n            self._handlers = [];\n            if (self.mobileInput) {\n                if (self.mobileInput.parentNode)\n                    self.mobileInput.parentNode.removeChild(self.mobileInput);\n                self.mobileInput = undefined;\n            }\n            else if (self.calendarContainer && self.calendarContainer.parentNode) {\n                if (self.config.static && self.calendarContainer.parentNode) {\n                    var wrapper = self.calendarContainer.parentNode;\n                    wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);\n                    if (wrapper.parentNode) {\n                        while (wrapper.firstChild)\n                            wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\n                        wrapper.parentNode.removeChild(wrapper);\n                    }\n                }\n                else\n                    self.calendarContainer.parentNode.removeChild(self.calendarContainer);\n            }\n            if (self.altInput) {\n                self.input.type = \"text\";\n                if (self.altInput.parentNode)\n                    self.altInput.parentNode.removeChild(self.altInput);\n                delete self.altInput;\n            }\n            if (self.input) {\n                self.input.type = self.input._type;\n                self.input.classList.remove(\"flatpickr-input\");\n                self.input.removeAttribute(\"readonly\");\n                self.input.value = \"\";\n            }\n            [\n                \"_showTimeInput\",\n                \"latestSelectedDateObj\",\n                \"_hideNextMonthArrow\",\n                \"_hidePrevMonthArrow\",\n                \"__hideNextMonthArrow\",\n                \"__hidePrevMonthArrow\",\n                \"isMobile\",\n                \"isOpen\",\n                \"selectedDateElem\",\n                \"minDateHasTime\",\n                \"maxDateHasTime\",\n                \"days\",\n                \"daysContainer\",\n                \"_input\",\n                \"_positionElement\",\n                \"innerContainer\",\n                \"rContainer\",\n                \"monthNav\",\n                \"todayDateElem\",\n                \"calendarContainer\",\n                \"weekdayContainer\",\n                \"prevMonthNav\",\n                \"nextMonthNav\",\n                \"monthsDropdownContainer\",\n                \"currentMonthElement\",\n                \"currentYearElement\",\n                \"navigationCurrentMonth\",\n                \"selectedDateElem\",\n                \"config\",\n            ].forEach(function (k) {\n                try {\n                    delete self[k];\n                }\n                catch (_) { }\n            });\n        }\n        function isCalendarElem(elem) {\n            if (self.config.appendTo && self.config.appendTo.contains(elem))\n                return true;\n            return self.calendarContainer.contains(elem);\n        }\n        function documentClick(e) {\n            if (self.isOpen && !self.config.inline) {\n                var eventTarget_1 = getEventTarget(e);\n                var isCalendarElement = isCalendarElem(eventTarget_1);\n                var isInput = eventTarget_1 === self.input ||\n                    eventTarget_1 === self.altInput ||\n                    self.element.contains(eventTarget_1) ||\n                    // web components\n                    // e.path is not present in all browsers. circumventing typechecks\n                    (e.path &&\n                        e.path.indexOf &&\n                        (~e.path.indexOf(self.input) ||\n                            ~e.path.indexOf(self.altInput)));\n                var lostFocus = e.type === \"blur\"\n                    ? isInput &&\n                        e.relatedTarget &&\n                        !isCalendarElem(e.relatedTarget)\n                    : !isInput &&\n                        !isCalendarElement &&\n                        !isCalendarElem(e.relatedTarget);\n                var isIgnored = !self.config.ignoredFocusElements.some(function (elem) {\n                    return elem.contains(eventTarget_1);\n                });\n                if (lostFocus && isIgnored) {\n                    if (self.timeContainer !== undefined &&\n                        self.minuteElement !== undefined &&\n                        self.hourElement !== undefined) {\n                        updateTime();\n                    }\n                    self.close();\n                    if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n                        self.clear(false);\n                        self.redraw();\n                    }\n                }\n            }\n        }\n        function changeYear(newYear) {\n            if (!newYear ||\n                (self.config.minDate && newYear < self.config.minDate.getFullYear()) ||\n                (self.config.maxDate && newYear > self.config.maxDate.getFullYear()))\n                return;\n            var newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;\n            self.currentYear = newYearNum || self.currentYear;\n            if (self.config.maxDate &&\n                self.currentYear === self.config.maxDate.getFullYear()) {\n                self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\n            }\n            else if (self.config.minDate &&\n                self.currentYear === self.config.minDate.getFullYear()) {\n                self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\n            }\n            if (isNewYear) {\n                self.redraw();\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n        }\n        function isEnabled(date, timeless) {\n            if (timeless === void 0) { timeless = true; }\n            var dateToCheck = self.parseDate(date, undefined, timeless); // timeless\n            if ((self.config.minDate &&\n                dateToCheck &&\n                compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0) ||\n                (self.config.maxDate &&\n                    dateToCheck &&\n                    compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0))\n                return false;\n            if (self.config.enable.length === 0 && self.config.disable.length === 0)\n                return true;\n            if (dateToCheck === undefined)\n                return false;\n            var bool = self.config.enable.length > 0, array = bool ? self.config.enable : self.config.disable;\n            for (var i = 0, d = void 0; i < array.length; i++) {\n                d = array[i];\n                if (typeof d === \"function\" &&\n                    d(dateToCheck) // disabled by function\n                )\n                    return bool;\n                else if (d instanceof Date &&\n                    dateToCheck !== undefined &&\n                    d.getTime() === dateToCheck.getTime())\n                    // disabled by date\n                    return bool;\n                else if (typeof d === \"string\" && dateToCheck !== undefined) {\n                    // disabled by date string\n                    var parsed = self.parseDate(d, undefined, true);\n                    return parsed && parsed.getTime() === dateToCheck.getTime()\n                        ? bool\n                        : !bool;\n                }\n                else if (\n                // disabled by range\n                typeof d === \"object\" &&\n                    dateToCheck !== undefined &&\n                    d.from &&\n                    d.to &&\n                    dateToCheck.getTime() >= d.from.getTime() &&\n                    dateToCheck.getTime() <= d.to.getTime())\n                    return bool;\n            }\n            return !bool;\n        }\n        function isInView(elem) {\n            if (self.daysContainer !== undefined)\n                return (elem.className.indexOf(\"hidden\") === -1 &&\n                    self.daysContainer.contains(elem));\n            return false;\n        }\n        function onKeyDown(e) {\n            // e.key                      e.keyCode\n            // \"Backspace\"                        8\n            // \"Tab\"                              9\n            // \"Enter\"                           13\n            // \"Escape\"     (IE \"Esc\")           27\n            // \"ArrowLeft\"  (IE \"Left\")          37\n            // \"ArrowUp\"    (IE \"Up\")            38\n            // \"ArrowRight\" (IE \"Right\")         39\n            // \"ArrowDown\"  (IE \"Down\")          40\n            // \"Delete\"     (IE \"Del\")           46\n            var isInput = e.target === self._input;\n            var allowInput = self.config.allowInput;\n            var allowKeydown = self.isOpen && (!allowInput || !isInput);\n            var allowInlineKeydown = self.config.inline && isInput && !allowInput;\n            if (e.keyCode === 13 && isInput) {\n                if (allowInput) {\n                    self.setDate(self._input.value, true, e.target === self.altInput\n                        ? self.config.altFormat\n                        : self.config.dateFormat);\n                    return e.target.blur();\n                }\n                else {\n                    self.open();\n                }\n            }\n            else if (isCalendarElem(e.target) ||\n                allowKeydown ||\n                allowInlineKeydown) {\n                var isTimeObj = !!self.timeContainer &&\n                    self.timeContainer.contains(e.target);\n                switch (e.keyCode) {\n                    case 13:\n                        if (isTimeObj) {\n                            e.preventDefault();\n                            updateTime();\n                            focusAndClose();\n                        }\n                        else\n                            selectDate(e);\n                        break;\n                    case 27: // escape\n                        e.preventDefault();\n                        focusAndClose();\n                        break;\n                    case 8:\n                    case 46:\n                        if (isInput && !self.config.allowInput) {\n                            e.preventDefault();\n                            self.clear();\n                        }\n                        break;\n                    case 37:\n                    case 39:\n                        if (!isTimeObj && !isInput) {\n                            e.preventDefault();\n                            if (self.daysContainer !== undefined &&\n                                (allowInput === false ||\n                                    (document.activeElement && isInView(document.activeElement)))) {\n                                var delta_1 = e.keyCode === 39 ? 1 : -1;\n                                if (!e.ctrlKey)\n                                    focusOnDay(undefined, delta_1);\n                                else {\n                                    e.stopPropagation();\n                                    changeMonth(delta_1);\n                                    focusOnDay(getFirstAvailableDay(1), 0);\n                                }\n                            }\n                        }\n                        else if (self.hourElement)\n                            self.hourElement.focus();\n                        break;\n                    case 38:\n                    case 40:\n                        e.preventDefault();\n                        var delta = e.keyCode === 40 ? 1 : -1;\n                        if ((self.daysContainer && e.target.$i !== undefined) ||\n                            e.target === self.input ||\n                            e.target === self.altInput) {\n                            if (e.ctrlKey) {\n                                e.stopPropagation();\n                                changeYear(self.currentYear - delta);\n                                focusOnDay(getFirstAvailableDay(1), 0);\n                            }\n                            else if (!isTimeObj)\n                                focusOnDay(undefined, delta * 7);\n                        }\n                        else if (e.target === self.currentYearElement) {\n                            changeYear(self.currentYear - delta);\n                        }\n                        else if (self.config.enableTime) {\n                            if (!isTimeObj && self.hourElement)\n                                self.hourElement.focus();\n                            updateTime(e);\n                            self._debouncedChange();\n                        }\n                        break;\n                    case 9:\n                        if (isTimeObj) {\n                            var elems = [\n                                self.hourElement,\n                                self.minuteElement,\n                                self.secondElement,\n                                self.amPM,\n                            ]\n                                .concat(self.pluginElements)\n                                .filter(function (x) { return x; });\n                            var i = elems.indexOf(e.target);\n                            if (i !== -1) {\n                                var target = elems[i + (e.shiftKey ? -1 : 1)];\n                                e.preventDefault();\n                                (target || self._input).focus();\n                            }\n                        }\n                        else if (!self.config.noCalendar &&\n                            self.daysContainer &&\n                            self.daysContainer.contains(e.target) &&\n                            e.shiftKey) {\n                            e.preventDefault();\n                            self._input.focus();\n                        }\n                        break;\n                    default:\n                        break;\n                }\n            }\n            if (self.amPM !== undefined && e.target === self.amPM) {\n                switch (e.key) {\n                    case self.l10n.amPM[0].charAt(0):\n                    case self.l10n.amPM[0].charAt(0).toLowerCase():\n                        self.amPM.textContent = self.l10n.amPM[0];\n                        setHoursFromInputs();\n                        updateValue();\n                        break;\n                    case self.l10n.amPM[1].charAt(0):\n                    case self.l10n.amPM[1].charAt(0).toLowerCase():\n                        self.amPM.textContent = self.l10n.amPM[1];\n                        setHoursFromInputs();\n                        updateValue();\n                        break;\n                }\n            }\n            if (isInput || isCalendarElem(e.target)) {\n                triggerEvent(\"onKeyDown\", e);\n            }\n        }\n        function onMouseOver(elem) {\n            if (self.selectedDates.length !== 1 ||\n                (elem &&\n                    (!elem.classList.contains(\"flatpickr-day\") ||\n                        elem.classList.contains(\"flatpickr-disabled\"))))\n                return;\n            var hoverDate = elem\n                ? elem.dateObj.getTime()\n                : self.days.firstElementChild.dateObj.getTime(), initialDate = self.parseDate(self.selectedDates[0], undefined, true).getTime(), rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());\n            var containsDisabled = false;\n            var minRange = 0, maxRange = 0;\n            for (var t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {\n                if (!isEnabled(new Date(t), true)) {\n                    containsDisabled =\n                        containsDisabled || (t > rangeStartDate && t < rangeEndDate);\n                    if (t < initialDate && (!minRange || t > minRange))\n                        minRange = t;\n                    else if (t > initialDate && (!maxRange || t < maxRange))\n                        maxRange = t;\n                }\n            }\n            for (var m = 0; m < self.config.showMonths; m++) {\n                var month = self.daysContainer.children[m];\n                var _loop_1 = function (i, l) {\n                    var dayElem = month.children[i], date = dayElem.dateObj;\n                    var timestamp = date.getTime();\n                    var outOfRange = (minRange > 0 && timestamp < minRange) ||\n                        (maxRange > 0 && timestamp > maxRange);\n                    if (outOfRange) {\n                        dayElem.classList.add(\"notAllowed\");\n                        [\"inRange\", \"startRange\", \"endRange\"].forEach(function (c) {\n                            dayElem.classList.remove(c);\n                        });\n                        return \"continue\";\n                    }\n                    else if (containsDisabled && !outOfRange)\n                        return \"continue\";\n                    [\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach(function (c) {\n                        dayElem.classList.remove(c);\n                    });\n                    if (elem !== undefined) {\n                        elem.classList.add(hoverDate <= self.selectedDates[0].getTime()\n                            ? \"startRange\"\n                            : \"endRange\");\n                        if (initialDate < hoverDate && timestamp === initialDate)\n                            dayElem.classList.add(\"startRange\");\n                        else if (initialDate > hoverDate && timestamp === initialDate)\n                            dayElem.classList.add(\"endRange\");\n                        if (timestamp >= minRange &&\n                            (maxRange === 0 || timestamp <= maxRange) &&\n                            isBetween(timestamp, initialDate, hoverDate))\n                            dayElem.classList.add(\"inRange\");\n                    }\n                };\n                for (var i = 0, l = month.children.length; i < l; i++) {\n                    _loop_1(i, l);\n                }\n            }\n        }\n        function onResize() {\n            if (self.isOpen && !self.config.static && !self.config.inline)\n                positionCalendar();\n        }\n        function setDefaultTime() {\n            self.setDate(self.config.minDate !== undefined\n                ? new Date(self.config.minDate.getTime())\n                : new Date(), true);\n            setDefaultHours();\n            updateValue();\n        }\n        function open(e, positionElement) {\n            if (positionElement === void 0) { positionElement = self._positionElement; }\n            if (self.isMobile === true) {\n                if (e) {\n                    e.preventDefault();\n                    e.target && e.target.blur();\n                }\n                if (self.mobileInput !== undefined) {\n                    self.mobileInput.focus();\n                    self.mobileInput.click();\n                }\n                triggerEvent(\"onOpen\");\n                return;\n            }\n            if (self._input.disabled || self.config.inline)\n                return;\n            var wasOpen = self.isOpen;\n            self.isOpen = true;\n            if (!wasOpen) {\n                self.calendarContainer.classList.add(\"open\");\n                self._input.classList.add(\"active\");\n                triggerEvent(\"onOpen\");\n                positionCalendar(positionElement);\n            }\n            if (self.config.enableTime === true && self.config.noCalendar === true) {\n                if (self.selectedDates.length === 0) {\n                    setDefaultTime();\n                }\n                if (self.config.allowInput === false &&\n                    (e === undefined ||\n                        !self.timeContainer.contains(e.relatedTarget))) {\n                    setTimeout(function () { return self.hourElement.select(); }, 50);\n                }\n            }\n        }\n        function minMaxDateSetter(type) {\n            return function (date) {\n                var dateObj = (self.config[\"_\" + type + \"Date\"] = self.parseDate(date, self.config.dateFormat));\n                var inverseDateObj = self.config[\"_\" + (type === \"min\" ? \"max\" : \"min\") + \"Date\"];\n                if (dateObj !== undefined) {\n                    self[type === \"min\" ? \"minDateHasTime\" : \"maxDateHasTime\"] =\n                        dateObj.getHours() > 0 ||\n                            dateObj.getMinutes() > 0 ||\n                            dateObj.getSeconds() > 0;\n                }\n                if (self.selectedDates) {\n                    self.selectedDates = self.selectedDates.filter(function (d) { return isEnabled(d); });\n                    if (!self.selectedDates.length && type === \"min\")\n                        setHoursFromDate(dateObj);\n                    updateValue();\n                }\n                if (self.daysContainer) {\n                    redraw();\n                    if (dateObj !== undefined)\n                        self.currentYearElement[type] = dateObj.getFullYear().toString();\n                    else\n                        self.currentYearElement.removeAttribute(type);\n                    self.currentYearElement.disabled =\n                        !!inverseDateObj &&\n                            dateObj !== undefined &&\n                            inverseDateObj.getFullYear() === dateObj.getFullYear();\n                }\n            };\n        }\n        function parseConfig() {\n            var boolOpts = [\n                \"wrap\",\n                \"weekNumbers\",\n                \"allowInput\",\n                \"clickOpens\",\n                \"time_24hr\",\n                \"enableTime\",\n                \"noCalendar\",\n                \"altInput\",\n                \"shorthandCurrentMonth\",\n                \"inline\",\n                \"static\",\n                \"enableSeconds\",\n                \"disableMobile\",\n            ];\n            var userConfig = __assign({}, instanceConfig, JSON.parse(JSON.stringify(element.dataset || {})));\n            var formats = {};\n            self.config.parseDate = userConfig.parseDate;\n            self.config.formatDate = userConfig.formatDate;\n            Object.defineProperty(self.config, \"enable\", {\n                get: function () { return self.config._enable; },\n                set: function (dates) {\n                    self.config._enable = parseDateRules(dates);\n                }\n            });\n            Object.defineProperty(self.config, \"disable\", {\n                get: function () { return self.config._disable; },\n                set: function (dates) {\n                    self.config._disable = parseDateRules(dates);\n                }\n            });\n            var timeMode = userConfig.mode === \"time\";\n            if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {\n                var defaultDateFormat = flatpickr.defaultConfig.dateFormat || defaults.dateFormat;\n                formats.dateFormat =\n                    userConfig.noCalendar || timeMode\n                        ? \"H:i\" + (userConfig.enableSeconds ? \":S\" : \"\")\n                        : defaultDateFormat + \" H:i\" + (userConfig.enableSeconds ? \":S\" : \"\");\n            }\n            if (userConfig.altInput &&\n                (userConfig.enableTime || timeMode) &&\n                !userConfig.altFormat) {\n                var defaultAltFormat = flatpickr.defaultConfig.altFormat || defaults.altFormat;\n                formats.altFormat =\n                    userConfig.noCalendar || timeMode\n                        ? \"h:i\" + (userConfig.enableSeconds ? \":S K\" : \" K\")\n                        : defaultAltFormat + (\" h:i\" + (userConfig.enableSeconds ? \":S\" : \"\") + \" K\");\n            }\n            if (!userConfig.altInputClass) {\n                self.config.altInputClass =\n                    self.input.className + \" \" + self.config.altInputClass;\n            }\n            Object.defineProperty(self.config, \"minDate\", {\n                get: function () { return self.config._minDate; },\n                set: minMaxDateSetter(\"min\")\n            });\n            Object.defineProperty(self.config, \"maxDate\", {\n                get: function () { return self.config._maxDate; },\n                set: minMaxDateSetter(\"max\")\n            });\n            var minMaxTimeSetter = function (type) { return function (val) {\n                self.config[type === \"min\" ? \"_minTime\" : \"_maxTime\"] = self.parseDate(val, \"H:i:S\");\n            }; };\n            Object.defineProperty(self.config, \"minTime\", {\n                get: function () { return self.config._minTime; },\n                set: minMaxTimeSetter(\"min\")\n            });\n            Object.defineProperty(self.config, \"maxTime\", {\n                get: function () { return self.config._maxTime; },\n                set: minMaxTimeSetter(\"max\")\n            });\n            if (userConfig.mode === \"time\") {\n                self.config.noCalendar = true;\n                self.config.enableTime = true;\n            }\n            Object.assign(self.config, formats, userConfig);\n            for (var i = 0; i < boolOpts.length; i++)\n                self.config[boolOpts[i]] =\n                    self.config[boolOpts[i]] === true ||\n                        self.config[boolOpts[i]] === \"true\";\n            HOOKS.filter(function (hook) { return self.config[hook] !== undefined; }).forEach(function (hook) {\n                self.config[hook] = arrayify(self.config[hook] || []).map(bindToInstance);\n            });\n            self.isMobile =\n                !self.config.disableMobile &&\n                    !self.config.inline &&\n                    self.config.mode === \"single\" &&\n                    !self.config.disable.length &&\n                    !self.config.enable.length &&\n                    !self.config.weekNumbers &&\n                    /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n            for (var i = 0; i < self.config.plugins.length; i++) {\n                var pluginConf = self.config.plugins[i](self) || {};\n                for (var key in pluginConf) {\n                    if (HOOKS.indexOf(key) > -1) {\n                        self.config[key] = arrayify(pluginConf[key])\n                            .map(bindToInstance)\n                            .concat(self.config[key]);\n                    }\n                    else if (typeof userConfig[key] === \"undefined\")\n                        self.config[key] = pluginConf[key];\n                }\n            }\n            triggerEvent(\"onParseConfig\");\n        }\n        function setupLocale() {\n            if (typeof self.config.locale !== \"object\" &&\n                typeof flatpickr.l10ns[self.config.locale] === \"undefined\")\n                self.config.errorHandler(new Error(\"flatpickr: invalid locale \" + self.config.locale));\n            self.l10n = __assign({}, flatpickr.l10ns[\"default\"], (typeof self.config.locale === \"object\"\n                ? self.config.locale\n                : self.config.locale !== \"default\"\n                    ? flatpickr.l10ns[self.config.locale]\n                    : undefined));\n            tokenRegex.K = \"(\" + self.l10n.amPM[0] + \"|\" + self.l10n.amPM[1] + \"|\" + self.l10n.amPM[0].toLowerCase() + \"|\" + self.l10n.amPM[1].toLowerCase() + \")\";\n            var userConfig = __assign({}, instanceConfig, JSON.parse(JSON.stringify(element.dataset || {})));\n            if (userConfig.time_24hr === undefined &&\n                flatpickr.defaultConfig.time_24hr === undefined) {\n                self.config.time_24hr = self.l10n.time_24hr;\n            }\n            self.formatDate = createDateFormatter(self);\n            self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n        }\n        function positionCalendar(customPositionElement) {\n            if (self.calendarContainer === undefined)\n                return;\n            triggerEvent(\"onPreCalendarPosition\");\n            var positionElement = customPositionElement || self._positionElement;\n            var calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, (function (acc, child) { return acc + child.offsetHeight; }), 0), calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position.split(\" \"), configPosVertical = configPos[0], configPosHorizontal = configPos.length > 1 ? configPos[1] : null, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPosVertical === \"above\" ||\n                (configPosVertical !== \"below\" &&\n                    distanceFromBottom < calendarHeight &&\n                    inputBounds.top > calendarHeight);\n            var top = window.pageYOffset +\n                inputBounds.top +\n                (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\n            toggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\n            toggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\n            if (self.config.inline)\n                return;\n            var left = window.pageXOffset +\n                inputBounds.left -\n                (configPosHorizontal != null && configPosHorizontal === \"center\"\n                    ? (calendarWidth - inputBounds.width) / 2\n                    : 0);\n            var right = window.document.body.offsetWidth - (window.pageXOffset + inputBounds.right);\n            var rightMost = left + calendarWidth > window.document.body.offsetWidth;\n            var centerMost = right + calendarWidth > window.document.body.offsetWidth;\n            toggleClass(self.calendarContainer, \"rightMost\", rightMost);\n            if (self.config.static)\n                return;\n            self.calendarContainer.style.top = top + \"px\";\n            if (!rightMost) {\n                self.calendarContainer.style.left = left + \"px\";\n                self.calendarContainer.style.right = \"auto\";\n            }\n            else if (!centerMost) {\n                self.calendarContainer.style.left = \"auto\";\n                self.calendarContainer.style.right = right + \"px\";\n            }\n            else {\n                var doc = document.styleSheets[0];\n                // some testing environments don't have css support\n                if (doc === undefined)\n                    return;\n                var bodyWidth = window.document.body.offsetWidth;\n                var centerLeft = Math.max(0, bodyWidth / 2 - calendarWidth / 2);\n                var centerBefore = \".flatpickr-calendar.centerMost:before\";\n                var centerAfter = \".flatpickr-calendar.centerMost:after\";\n                var centerIndex = doc.cssRules.length;\n                var centerStyle = \"{left:\" + inputBounds.left + \"px;right:auto;}\";\n                toggleClass(self.calendarContainer, \"rightMost\", false);\n                toggleClass(self.calendarContainer, \"centerMost\", true);\n                doc.insertRule(centerBefore + \",\" + centerAfter + centerStyle, centerIndex);\n                self.calendarContainer.style.left = centerLeft + \"px\";\n                self.calendarContainer.style.right = \"auto\";\n            }\n        }\n        function redraw() {\n            if (self.config.noCalendar || self.isMobile)\n                return;\n            updateNavigationCurrentMonth();\n            buildDays();\n        }\n        function focusAndClose() {\n            self._input.focus();\n            if (window.navigator.userAgent.indexOf(\"MSIE\") !== -1 ||\n                navigator.msMaxTouchPoints !== undefined) {\n                // hack - bugs in the way IE handles focus keeps the calendar open\n                setTimeout(self.close, 0);\n            }\n            else {\n                self.close();\n            }\n        }\n        function selectDate(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            var isSelectable = function (day) {\n                return day.classList &&\n                    day.classList.contains(\"flatpickr-day\") &&\n                    !day.classList.contains(\"flatpickr-disabled\") &&\n                    !day.classList.contains(\"notAllowed\");\n            };\n            var t = findParent(e.target, isSelectable);\n            if (t === undefined)\n                return;\n            var target = t;\n            var selectedDate = (self.latestSelectedDateObj = new Date(target.dateObj.getTime()));\n            var shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth ||\n                selectedDate.getMonth() >\n                    self.currentMonth + self.config.showMonths - 1) &&\n                self.config.mode !== \"range\";\n            self.selectedDateElem = target;\n            if (self.config.mode === \"single\")\n                self.selectedDates = [selectedDate];\n            else if (self.config.mode === \"multiple\") {\n                var selectedIndex = isDateSelected(selectedDate);\n                if (selectedIndex)\n                    self.selectedDates.splice(parseInt(selectedIndex), 1);\n                else\n                    self.selectedDates.push(selectedDate);\n            }\n            else if (self.config.mode === \"range\") {\n                if (self.selectedDates.length === 2) {\n                    self.clear(false, false);\n                }\n                self.latestSelectedDateObj = selectedDate;\n                self.selectedDates.push(selectedDate);\n                // unless selecting same date twice, sort ascendingly\n                if (compareDates(selectedDate, self.selectedDates[0], true) !== 0)\n                    self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n            }\n            setHoursFromInputs();\n            if (shouldChangeMonth) {\n                var isNewYear = self.currentYear !== selectedDate.getFullYear();\n                self.currentYear = selectedDate.getFullYear();\n                self.currentMonth = selectedDate.getMonth();\n                if (isNewYear) {\n                    triggerEvent(\"onYearChange\");\n                    buildMonthSwitch();\n                }\n                triggerEvent(\"onMonthChange\");\n            }\n            updateNavigationCurrentMonth();\n            buildDays();\n            updateValue();\n            if (self.config.enableTime)\n                setTimeout(function () { return (self.showTimeInput = true); }, 50);\n            // maintain focus\n            if (!shouldChangeMonth &&\n                self.config.mode !== \"range\" &&\n                self.config.showMonths === 1)\n                focusOnDayElem(target);\n            else if (self.selectedDateElem !== undefined &&\n                self.hourElement === undefined) {\n                self.selectedDateElem && self.selectedDateElem.focus();\n            }\n            if (self.hourElement !== undefined)\n                self.hourElement !== undefined && self.hourElement.focus();\n            if (self.config.closeOnSelect) {\n                var single = self.config.mode === \"single\" && !self.config.enableTime;\n                var range = self.config.mode === \"range\" &&\n                    self.selectedDates.length === 2 &&\n                    !self.config.enableTime;\n                if (single || range) {\n                    focusAndClose();\n                }\n            }\n            triggerChange();\n        }\n        var CALLBACKS = {\n            locale: [setupLocale, updateWeekdays],\n            showMonths: [buildMonths, setCalendarWidth, buildWeekdays],\n            minDate: [jumpToDate],\n            maxDate: [jumpToDate]\n        };\n        function set(option, value) {\n            if (option !== null && typeof option === \"object\") {\n                Object.assign(self.config, option);\n                for (var key in option) {\n                    if (CALLBACKS[key] !== undefined)\n                        CALLBACKS[key].forEach(function (x) { return x(); });\n                }\n            }\n            else {\n                self.config[option] = value;\n                if (CALLBACKS[option] !== undefined)\n                    CALLBACKS[option].forEach(function (x) { return x(); });\n                else if (HOOKS.indexOf(option) > -1)\n                    self.config[option] = arrayify(value);\n            }\n            self.redraw();\n            updateValue(false);\n        }\n        function setSelectedDate(inputDate, format) {\n            var dates = [];\n            if (inputDate instanceof Array)\n                dates = inputDate.map(function (d) { return self.parseDate(d, format); });\n            else if (inputDate instanceof Date || typeof inputDate === \"number\")\n                dates = [self.parseDate(inputDate, format)];\n            else if (typeof inputDate === \"string\") {\n                switch (self.config.mode) {\n                    case \"single\":\n                    case \"time\":\n                        dates = [self.parseDate(inputDate, format)];\n                        break;\n                    case \"multiple\":\n                        dates = inputDate\n                            .split(self.config.conjunction)\n                            .map(function (date) { return self.parseDate(date, format); });\n                        break;\n                    case \"range\":\n                        dates = inputDate\n                            .split(self.l10n.rangeSeparator)\n                            .map(function (date) { return self.parseDate(date, format); });\n                        break;\n                    default:\n                        break;\n                }\n            }\n            else\n                self.config.errorHandler(new Error(\"Invalid date supplied: \" + JSON.stringify(inputDate)));\n            self.selectedDates = dates.filter(function (d) { return d instanceof Date && isEnabled(d, false); });\n            if (self.config.mode === \"range\")\n                self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n        }\n        function setDate(date, triggerChange, format) {\n            if (triggerChange === void 0) { triggerChange = false; }\n            if (format === void 0) { format = self.config.dateFormat; }\n            if ((date !== 0 && !date) || (date instanceof Array && date.length === 0))\n                return self.clear(triggerChange);\n            setSelectedDate(date, format);\n            self.showTimeInput = self.selectedDates.length > 0;\n            self.latestSelectedDateObj =\n                self.selectedDates[self.selectedDates.length - 1];\n            self.redraw();\n            jumpToDate();\n            setHoursFromDate();\n            if (self.selectedDates.length === 0) {\n                self.clear(false);\n            }\n            updateValue(triggerChange);\n            if (triggerChange)\n                triggerEvent(\"onChange\");\n        }\n        function parseDateRules(arr) {\n            return arr\n                .slice()\n                .map(function (rule) {\n                if (typeof rule === \"string\" ||\n                    typeof rule === \"number\" ||\n                    rule instanceof Date) {\n                    return self.parseDate(rule, undefined, true);\n                }\n                else if (rule &&\n                    typeof rule === \"object\" &&\n                    rule.from &&\n                    rule.to)\n                    return {\n                        from: self.parseDate(rule.from, undefined),\n                        to: self.parseDate(rule.to, undefined)\n                    };\n                return rule;\n            })\n                .filter(function (x) { return x; }); // remove falsy values\n        }\n        function setupDates() {\n            self.selectedDates = [];\n            self.now = self.parseDate(self.config.now) || new Date();\n            // Workaround IE11 setting placeholder as the input's value\n            var preloadedDate = self.config.defaultDate ||\n                ((self.input.nodeName === \"INPUT\" ||\n                    self.input.nodeName === \"TEXTAREA\") &&\n                    self.input.placeholder &&\n                    self.input.value === self.input.placeholder\n                    ? null\n                    : self.input.value);\n            if (preloadedDate)\n                setSelectedDate(preloadedDate, self.config.dateFormat);\n            self._initialDate =\n                self.selectedDates.length > 0\n                    ? self.selectedDates[0]\n                    : self.config.minDate &&\n                        self.config.minDate.getTime() > self.now.getTime()\n                        ? self.config.minDate\n                        : self.config.maxDate &&\n                            self.config.maxDate.getTime() < self.now.getTime()\n                            ? self.config.maxDate\n                            : self.now;\n            self.currentYear = self._initialDate.getFullYear();\n            self.currentMonth = self._initialDate.getMonth();\n            if (self.selectedDates.length > 0)\n                self.latestSelectedDateObj = self.selectedDates[0];\n            if (self.config.minTime !== undefined)\n                self.config.minTime = self.parseDate(self.config.minTime, \"H:i\");\n            if (self.config.maxTime !== undefined)\n                self.config.maxTime = self.parseDate(self.config.maxTime, \"H:i\");\n            self.minDateHasTime =\n                !!self.config.minDate &&\n                    (self.config.minDate.getHours() > 0 ||\n                        self.config.minDate.getMinutes() > 0 ||\n                        self.config.minDate.getSeconds() > 0);\n            self.maxDateHasTime =\n                !!self.config.maxDate &&\n                    (self.config.maxDate.getHours() > 0 ||\n                        self.config.maxDate.getMinutes() > 0 ||\n                        self.config.maxDate.getSeconds() > 0);\n            Object.defineProperty(self, \"showTimeInput\", {\n                get: function () { return self._showTimeInput; },\n                set: function (bool) {\n                    self._showTimeInput = bool;\n                    if (self.calendarContainer)\n                        toggleClass(self.calendarContainer, \"showTimeInput\", bool);\n                    self.isOpen && positionCalendar();\n                }\n            });\n        }\n        function setupInputs() {\n            self.input = self.config.wrap\n                ? element.querySelector(\"[data-input]\")\n                : element;\n            /* istanbul ignore next */\n            if (!self.input) {\n                self.config.errorHandler(new Error(\"Invalid input element specified\"));\n                return;\n            }\n            // hack: store previous type to restore it after destroy()\n            self.input._type = self.input.type;\n            self.input.type = \"text\";\n            self.input.classList.add(\"flatpickr-input\");\n            self._input = self.input;\n            if (self.config.altInput) {\n                // replicate self.element\n                self.altInput = createElement(self.input.nodeName, self.config.altInputClass);\n                self._input = self.altInput;\n                self.altInput.placeholder = self.input.placeholder;\n                self.altInput.disabled = self.input.disabled;\n                self.altInput.required = self.input.required;\n                self.altInput.tabIndex = self.input.tabIndex;\n                self.altInput.type = \"text\";\n                self.input.setAttribute(\"type\", \"hidden\");\n                if (!self.config.static && self.input.parentNode)\n                    self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\n            }\n            if (!self.config.allowInput)\n                self._input.setAttribute(\"readonly\", \"readonly\");\n            self._positionElement = self.config.positionElement || self._input;\n        }\n        function setupMobile() {\n            var inputType = self.config.enableTime\n                ? self.config.noCalendar\n                    ? \"time\"\n                    : \"datetime-local\"\n                : \"date\";\n            self.mobileInput = createElement(\"input\", self.input.className + \" flatpickr-mobile\");\n            self.mobileInput.step = self.input.getAttribute(\"step\") || \"any\";\n            self.mobileInput.tabIndex = 1;\n            self.mobileInput.type = inputType;\n            self.mobileInput.disabled = self.input.disabled;\n            self.mobileInput.required = self.input.required;\n            self.mobileInput.placeholder = self.input.placeholder;\n            self.mobileFormatStr =\n                inputType === \"datetime-local\"\n                    ? \"Y-m-d\\\\TH:i:S\"\n                    : inputType === \"date\"\n                        ? \"Y-m-d\"\n                        : \"H:i:S\";\n            if (self.selectedDates.length > 0) {\n                self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\n            }\n            if (self.config.minDate)\n                self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\n            if (self.config.maxDate)\n                self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\n            self.input.type = \"hidden\";\n            if (self.altInput !== undefined)\n                self.altInput.type = \"hidden\";\n            try {\n                if (self.input.parentNode)\n                    self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\n            }\n            catch (_a) { }\n            bind(self.mobileInput, \"change\", function (e) {\n                self.setDate(e.target.value, false, self.mobileFormatStr);\n                triggerEvent(\"onChange\");\n                triggerEvent(\"onClose\");\n            });\n        }\n        function toggle(e) {\n            if (self.isOpen === true)\n                return self.close();\n            self.open(e);\n        }\n        function triggerEvent(event, data) {\n            // If the instance has been destroyed already, all hooks have been removed\n            if (self.config === undefined)\n                return;\n            var hooks = self.config[event];\n            if (hooks !== undefined && hooks.length > 0) {\n                for (var i = 0; hooks[i] && i < hooks.length; i++)\n                    hooks[i](self.selectedDates, self.input.value, self, data);\n            }\n            if (event === \"onChange\") {\n                self.input.dispatchEvent(createEvent(\"change\"));\n                // many front-end frameworks bind to the input event\n                self.input.dispatchEvent(createEvent(\"input\"));\n            }\n        }\n        function createEvent(name) {\n            var e = document.createEvent(\"Event\");\n            e.initEvent(name, true, true);\n            return e;\n        }\n        function isDateSelected(date) {\n            for (var i = 0; i < self.selectedDates.length; i++) {\n                if (compareDates(self.selectedDates[i], date) === 0)\n                    return \"\" + i;\n            }\n            return false;\n        }\n        function isDateInRange(date) {\n            if (self.config.mode !== \"range\" || self.selectedDates.length < 2)\n                return false;\n            return (compareDates(date, self.selectedDates[0]) >= 0 &&\n                compareDates(date, self.selectedDates[1]) <= 0);\n        }\n        function updateNavigationCurrentMonth() {\n            if (self.config.noCalendar || self.isMobile || !self.monthNav)\n                return;\n            self.yearElements.forEach(function (yearElement, i) {\n                var d = new Date(self.currentYear, self.currentMonth, 1);\n                d.setMonth(self.currentMonth + i);\n                if (self.config.showMonths > 1 ||\n                    self.config.monthSelectorType === \"static\") {\n                    self.monthElements[i].textContent =\n                        monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + \" \";\n                }\n                else {\n                    self.monthsDropdownContainer.value = d.getMonth().toString();\n                }\n                yearElement.value = d.getFullYear().toString();\n            });\n            self._hidePrevMonthArrow =\n                self.config.minDate !== undefined &&\n                    (self.currentYear === self.config.minDate.getFullYear()\n                        ? self.currentMonth <= self.config.minDate.getMonth()\n                        : self.currentYear < self.config.minDate.getFullYear());\n            self._hideNextMonthArrow =\n                self.config.maxDate !== undefined &&\n                    (self.currentYear === self.config.maxDate.getFullYear()\n                        ? self.currentMonth + 1 > self.config.maxDate.getMonth()\n                        : self.currentYear > self.config.maxDate.getFullYear());\n        }\n        function getDateStr(format) {\n            return self.selectedDates\n                .map(function (dObj) { return self.formatDate(dObj, format); })\n                .filter(function (d, i, arr) {\n                return self.config.mode !== \"range\" ||\n                    self.config.enableTime ||\n                    arr.indexOf(d) === i;\n            })\n                .join(self.config.mode !== \"range\"\n                ? self.config.conjunction\n                : self.l10n.rangeSeparator);\n        }\n        /**\n         * Updates the values of inputs associated with the calendar\n         */\n        function updateValue(triggerChange) {\n            if (triggerChange === void 0) { triggerChange = true; }\n            if (self.mobileInput !== undefined && self.mobileFormatStr) {\n                self.mobileInput.value =\n                    self.latestSelectedDateObj !== undefined\n                        ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr)\n                        : \"\";\n            }\n            self.input.value = getDateStr(self.config.dateFormat);\n            if (self.altInput !== undefined) {\n                self.altInput.value = getDateStr(self.config.altFormat);\n            }\n            if (triggerChange !== false)\n                triggerEvent(\"onValueUpdate\");\n        }\n        function onMonthNavClick(e) {\n            var isPrevMonth = self.prevMonthNav.contains(e.target);\n            var isNextMonth = self.nextMonthNav.contains(e.target);\n            if (isPrevMonth || isNextMonth) {\n                changeMonth(isPrevMonth ? -1 : 1);\n            }\n            else if (self.yearElements.indexOf(e.target) >= 0) {\n                e.target.select();\n            }\n            else if (e.target.classList.contains(\"arrowUp\")) {\n                self.changeYear(self.currentYear + 1);\n            }\n            else if (e.target.classList.contains(\"arrowDown\")) {\n                self.changeYear(self.currentYear - 1);\n            }\n        }\n        function timeWrapper(e) {\n            e.preventDefault();\n            var isKeyDown = e.type === \"keydown\", input = e.target;\n            if (self.amPM !== undefined && e.target === self.amPM) {\n                self.amPM.textContent =\n                    self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n            }\n            var min = parseFloat(input.getAttribute(\"min\")), max = parseFloat(input.getAttribute(\"max\")), step = parseFloat(input.getAttribute(\"step\")), curValue = parseInt(input.value, 10), delta = e.delta ||\n                (isKeyDown ? (e.which === 38 ? 1 : -1) : 0);\n            var newValue = curValue + step * delta;\n            if (typeof input.value !== \"undefined\" && input.value.length === 2) {\n                var isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;\n                if (newValue < min) {\n                    newValue =\n                        max +\n                            newValue +\n                            int(!isHourElem) +\n                            (int(isHourElem) && int(!self.amPM));\n                    if (isMinuteElem)\n                        incrementNumInput(undefined, -1, self.hourElement);\n                }\n                else if (newValue > max) {\n                    newValue =\n                        input === self.hourElement ? newValue - max - int(!self.amPM) : min;\n                    if (isMinuteElem)\n                        incrementNumInput(undefined, 1, self.hourElement);\n                }\n                if (self.amPM &&\n                    isHourElem &&\n                    (step === 1\n                        ? newValue + curValue === 23\n                        : Math.abs(newValue - curValue) > step)) {\n                    self.amPM.textContent =\n                        self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n                }\n                input.value = pad(newValue);\n            }\n        }\n        init();\n        return self;\n    }\n    /* istanbul ignore next */\n    function _flatpickr(nodeList, config) {\n        // static list\n        var nodes = Array.prototype.slice\n            .call(nodeList)\n            .filter(function (x) { return x instanceof HTMLElement; });\n        var instances = [];\n        for (var i = 0; i < nodes.length; i++) {\n            var node = nodes[i];\n            try {\n                if (node.getAttribute(\"data-fp-omit\") !== null)\n                    continue;\n                if (node._flatpickr !== undefined) {\n                    node._flatpickr.destroy();\n                    node._flatpickr = undefined;\n                }\n                node._flatpickr = FlatpickrInstance(node, config || {});\n                instances.push(node._flatpickr);\n            }\n            catch (e) {\n                console.error(e);\n            }\n        }\n        return instances.length === 1 ? instances[0] : instances;\n    }\n    /* istanbul ignore next */\n    if (typeof HTMLElement !== \"undefined\" &&\n        typeof HTMLCollection !== \"undefined\" &&\n        typeof NodeList !== \"undefined\") {\n        // browser env\n        HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\n            return _flatpickr(this, config);\n        };\n        HTMLElement.prototype.flatpickr = function (config) {\n            return _flatpickr([this], config);\n        };\n    }\n    /* istanbul ignore next */\n    var flatpickr = function (selector, config) {\n        if (typeof selector === \"string\") {\n            return _flatpickr(window.document.querySelectorAll(selector), config);\n        }\n        else if (selector instanceof Node) {\n            return _flatpickr([selector], config);\n        }\n        else {\n            return _flatpickr(selector, config);\n        }\n    };\n    /* istanbul ignore next */\n    flatpickr.defaultConfig = {};\n    flatpickr.l10ns = {\n        en: __assign({}, english),\n        \"default\": __assign({}, english)\n    };\n    flatpickr.localize = function (l10n) {\n        flatpickr.l10ns[\"default\"] = __assign({}, flatpickr.l10ns[\"default\"], l10n);\n    };\n    flatpickr.setDefaults = function (config) {\n        flatpickr.defaultConfig = __assign({}, flatpickr.defaultConfig, config);\n    };\n    flatpickr.parseDate = createDateParser({});\n    flatpickr.formatDate = createDateFormatter({});\n    flatpickr.compareDates = compareDates;\n    /* istanbul ignore next */\n    if (typeof jQuery !== \"undefined\" && typeof jQuery.fn !== \"undefined\") {\n        jQuery.fn.flatpickr = function (config) {\n            return _flatpickr(this, config);\n        };\n    }\n    // eslint-disable-next-line @typescript-eslint/camelcase\n    Date.prototype.fp_incr = function (days) {\n        return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === \"string\" ? parseInt(days, 10) : days));\n    };\n    if (typeof window !== \"undefined\") {\n        window.flatpickr = flatpickr;\n    }\n\n    return flatpickr;\n\n}));\n","var _excluded = [\"children\"];\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect, memo } from 'react';\nimport { createDragDropManager } from 'dnd-core';\nimport { DndContext } from './DndContext';\nvar refCount = 0;\nvar INSTANCE_SYM = Symbol.for('__REACT_DND_CONTEXT_INSTANCE__');\n/**\n * A React component that provides the React-DnD context\n */\n\nexport var DndProvider = memo(function DndProvider(_ref) {\n  var children = _ref.children,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _getDndContextValue = getDndContextValue(props),\n      _getDndContextValue2 = _slicedToArray(_getDndContextValue, 2),\n      manager = _getDndContextValue2[0],\n      isGlobalInstance = _getDndContextValue2[1]; // memoized from props\n\n  /**\n   * If the global context was used to store the DND context\n   * then where theres no more references to it we should\n   * clean it up to avoid memory leaks\n   */\n\n\n  useEffect(function () {\n    if (isGlobalInstance) {\n      var context = getGlobalContext();\n      ++refCount;\n      return function () {\n        if (--refCount === 0) {\n          context[INSTANCE_SYM] = null;\n        }\n      };\n    }\n  }, []);\n  return _jsx(DndContext.Provider, Object.assign({\n    value: manager\n  }, {\n    children: children\n  }), void 0);\n});\n\nfunction getDndContextValue(props) {\n  if ('manager' in props) {\n    var _manager = {\n      dragDropManager: props.manager\n    };\n    return [_manager, false];\n  }\n\n  var manager = createSingletonDndContext(props.backend, props.context, props.options, props.debugMode);\n  var isGlobalInstance = !props.context;\n  return [manager, isGlobalInstance];\n}\n\nfunction createSingletonDndContext(backend) {\n  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getGlobalContext();\n  var options = arguments.length > 2 ? arguments[2] : undefined;\n  var debugMode = arguments.length > 3 ? arguments[3] : undefined;\n  var ctx = context;\n\n  if (!ctx[INSTANCE_SYM]) {\n    ctx[INSTANCE_SYM] = {\n      dragDropManager: createDragDropManager(backend, context, options, debugMode)\n    };\n  }\n\n  return ctx[INSTANCE_SYM];\n}\n\nfunction getGlobalContext() {\n  return typeof global !== 'undefined' ? global : window;\n}","/* eslint-disable no-restricted-globals, @typescript-eslint/ban-ts-comment, @typescript-eslint/no-unused-vars, @typescript-eslint/no-non-null-assertion */\nimport type { Task } from './types.js'\nimport { makeRequestCall, makeRequestCallFromTimer } from './makeRequestCall.js'\n\nexport class AsapQueue {\n\tprivate queue: Task[] = []\n\t// We queue errors to ensure they are thrown in right order (FIFO).\n\t// Array-as-queue is good enough here, since we are just dealing with exceptions.\n\tprivate pendingErrors: any[] = []\n\t// Once a flush has been requested, no further calls to `requestFlush` are\n\t// necessary until the next `flush` completes.\n\t// @ts-ignore\n\tprivate flushing = false\n\t// `requestFlush` is an implementation-specific method that attempts to kick\n\t// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n\t// the event queue before yielding to the browser's own event loop.\n\tprivate requestFlush: () => void\n\n\tprivate requestErrorThrow: () => void\n\t// The position of the next task to execute in the task queue. This is\n\t// preserved between calls to `flush` so that it can be resumed if\n\t// a task throws an exception.\n\tprivate index = 0\n\t// If a task schedules additional tasks recursively, the task queue can grow\n\t// unbounded. To prevent memory exhaustion, the task queue will periodically\n\t// truncate already-completed tasks.\n\tprivate capacity = 1024\n\n\tpublic constructor() {\n\t\t// `requestFlush` requests that the high priority event queue be flushed as\n\t\t// soon as possible.\n\t\t// This is useful to prevent an error thrown in a task from stalling the event\n\t\t// queue if the exception handled by Node.js’s\n\t\t// `process.on(\"uncaughtException\")` or by a domain.\n\n\t\t// `requestFlush` is implemented using a strategy based on data collected from\n\t\t// every available SauceLabs Selenium web driver worker at time of writing.\n\t\t// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\t\tthis.requestFlush = makeRequestCall(this.flush)\n\t\tthis.requestErrorThrow = makeRequestCallFromTimer(() => {\n\t\t\t// Throw first error\n\t\t\tif (this.pendingErrors.length) {\n\t\t\t\tthrow this.pendingErrors.shift()\n\t\t\t}\n\t\t})\n\t}\n\n\t// Use the fastest means possible to execute a task in its own turn, with\n\t// priority over other events including IO, animation, reflow, and redraw\n\t// events in browsers.\n\t//\n\t// An exception thrown by a task will permanently interrupt the processing of\n\t// subsequent tasks. The higher level `asap` function ensures that if an\n\t// exception is thrown by a task, that the task queue will continue flushing as\n\t// soon as possible, but if you use `rawAsap` directly, you are responsible to\n\t// either ensure that no exceptions are thrown from your task, or to manually\n\t// call `rawAsap.requestFlush` if an exception is thrown.\n\tpublic enqueueTask(task: Task): void {\n\t\tconst { queue: q, requestFlush } = this\n\t\tif (!q.length) {\n\t\t\trequestFlush()\n\t\t\tthis.flushing = true\n\t\t}\n\t\t// Equivalent to push, but avoids a function call.\n\t\tq[q.length] = task\n\t}\n\n\t// The flush function processes all tasks that have been scheduled with\n\t// `rawAsap` unless and until one of those tasks throws an exception.\n\t// If a task throws an exception, `flush` ensures that its state will remain\n\t// consistent and will resume where it left off when called again.\n\t// However, `flush` does not make any arrangements to be called again if an\n\t// exception is thrown.\n\tprivate flush = () => {\n\t\tconst { queue: q } = this\n\t\twhile (this.index < q.length) {\n\t\t\tconst currentIndex = this.index\n\t\t\t// Advance the index before calling the task. This ensures that we will\n\t\t\t// begin flushing on the next task the task throws an error.\n\t\t\tthis.index++\n\t\t\tq[currentIndex]!.call()\n\t\t\t// Prevent leaking memory for long chains of recursive calls to `asap`.\n\t\t\t// If we call `asap` within tasks scheduled by `asap`, the queue will\n\t\t\t// grow, but to avoid an O(n) walk for every task we execute, we don't\n\t\t\t// shift tasks off the queue after they have been executed.\n\t\t\t// Instead, we periodically shift 1024 tasks off the queue.\n\t\t\tif (this.index > this.capacity) {\n\t\t\t\t// Manually shift all values starting at the index back to the\n\t\t\t\t// beginning of the queue.\n\t\t\t\tfor (\n\t\t\t\t\tlet scan = 0, newLength = q.length - this.index;\n\t\t\t\t\tscan < newLength;\n\t\t\t\t\tscan++\n\t\t\t\t) {\n\t\t\t\t\tq[scan] = q[scan + this.index]!\n\t\t\t\t}\n\t\t\t\tq.length -= this.index\n\t\t\t\tthis.index = 0\n\t\t\t}\n\t\t}\n\t\tq.length = 0\n\t\tthis.index = 0\n\t\tthis.flushing = false\n\t}\n\n\t// In a web browser, exceptions are not fatal. However, to avoid\n\t// slowing down the queue of pending tasks, we rethrow the error in a\n\t// lower priority turn.\n\tpublic registerPendingError = (err: any) => {\n\t\tthis.pendingErrors.push(err)\n\t\tthis.requestErrorThrow()\n\t}\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// // its existence.\n// rawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n","import type { Task } from './types.js'\nimport { RawTask } from './RawTask.js'\n\nexport class TaskFactory {\n\tprivate freeTasks: RawTask[] = []\n\n\tpublic constructor(private onError: (err: any) => void) {}\n\n\tpublic create(task: () => void): Task {\n\t\tconst tasks = this.freeTasks\n\t\tconst t = tasks.length\n\t\t\t? (tasks.pop() as RawTask)\n\t\t\t: new RawTask(this.onError, (t) => (tasks[tasks.length] = t))\n\t\tt.task = task\n\t\treturn t\n\t}\n}\n","import { invariant } from '@react-dnd/invariant';\nimport { cloneElement, isValidElement } from 'react';\n\nfunction throwIfCompositeComponentElement(element) {\n  // Custom components can no longer be wrapped directly in React DnD 2.0\n  // so that we don't need to depend on findDOMNode() from react-dom.\n  if (typeof element.type === 'string') {\n    return;\n  }\n\n  var displayName = element.type.displayName || element.type.name || 'the component';\n  throw new Error('Only native element nodes can now be passed to React DnD connectors.' + \"You can either wrap \".concat(displayName, \" into a <div>, or turn it into a \") + 'drag source or a drop target itself.');\n}\n\nfunction wrapHookToRecognizeElement(hook) {\n  return function () {\n    var elementOrNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    // When passed a node, call the hook straight away.\n    if (!isValidElement(elementOrNode)) {\n      var node = elementOrNode;\n      hook(node, options); // return the node so it can be chained (e.g. when within callback refs\n      // <div ref={node => connectDragSource(connectDropTarget(node))}/>\n\n      return node;\n    } // If passed a ReactElement, clone it and attach this function as a ref.\n    // This helps us achieve a neat API where user doesn't even know that refs\n    // are being used under the hood.\n\n\n    var element = elementOrNode;\n    throwIfCompositeComponentElement(element); // When no options are passed, use the hook directly\n\n    var ref = options ? function (node) {\n      return hook(node, options);\n    } : hook;\n    return cloneWithRef(element, ref);\n  };\n}\n\nexport function wrapConnectorHooks(hooks) {\n  var wrappedHooks = {};\n  Object.keys(hooks).forEach(function (key) {\n    var hook = hooks[key]; // ref objects should be passed straight through without wrapping\n\n    if (key.endsWith('Ref')) {\n      wrappedHooks[key] = hooks[key];\n    } else {\n      var wrappedHook = wrapHookToRecognizeElement(hook);\n\n      wrappedHooks[key] = function () {\n        return wrappedHook;\n      };\n    }\n  });\n  return wrappedHooks;\n}\n\nfunction setRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else {\n    ref.current = node;\n  }\n}\n\nfunction cloneWithRef(element, newRef) {\n  var previousRef = element.ref;\n  invariant(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' + 'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' + 'Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs');\n\n  if (!previousRef) {\n    // When there is no ref on the element, use the new ref directly\n    return cloneElement(element, {\n      ref: newRef\n    });\n  } else {\n    return cloneElement(element, {\n      ref: function ref(node) {\n        setRef(previousRef, node);\n        setRef(newRef, node);\n      }\n    });\n  }\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function isRef(obj) {\n  return (// eslint-disable-next-line no-prototype-builtins\n    obj !== null && _typeof(obj) === 'object' && Object.prototype.hasOwnProperty.call(obj, 'current')\n  );\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { createRef, Component } from 'react';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { invariant } from '@react-dnd/invariant';\nimport hoistStatics from 'hoist-non-react-statics';\nimport { DndContext } from '../core';\nimport { isRefable, checkDecoratorArguments, isPlainObject } from './utils';\n/**\n * @param collect The props collector function\n * @param options The DnD options\n */\n\nexport function DragLayer(collect) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  checkDecoratorArguments('DragLayer', 'collect[, options]', collect, options);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ', 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the second argument to DragLayer to be a plain object when specified. ' + 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', options);\n  return function decorateLayer(DecoratedComponent) {\n    var Decorated = DecoratedComponent;\n    var _options$arePropsEqua = options.arePropsEqual,\n        arePropsEqual = _options$arePropsEqua === void 0 ? shallowEqual : _options$arePropsEqua;\n    var displayName = Decorated.displayName || Decorated.name || 'Component';\n\n    var DragLayerContainer = /*#__PURE__*/function (_Component) {\n      _inherits(DragLayerContainer, _Component);\n\n      var _super = _createSuper(DragLayerContainer);\n\n      function DragLayerContainer() {\n        var _this;\n\n        _classCallCheck(this, DragLayerContainer);\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        _this = _super.call.apply(_super, [this].concat(args));\n\n        _defineProperty(_assertThisInitialized(_this), \"manager\", void 0);\n\n        _defineProperty(_assertThisInitialized(_this), \"isCurrentlyMounted\", false);\n\n        _defineProperty(_assertThisInitialized(_this), \"unsubscribeFromOffsetChange\", void 0);\n\n        _defineProperty(_assertThisInitialized(_this), \"unsubscribeFromStateChange\", void 0);\n\n        _defineProperty(_assertThisInitialized(_this), \"ref\", createRef());\n\n        _defineProperty(_assertThisInitialized(_this), \"handleChange\", function () {\n          if (!_this.isCurrentlyMounted) {\n            return;\n          }\n\n          var nextState = _this.getCurrentState();\n\n          if (!shallowEqual(nextState, _this.state)) {\n            _this.setState(nextState);\n          }\n        });\n\n        return _this;\n      }\n\n      _createClass(DragLayerContainer, [{\n        key: \"getDecoratedComponentInstance\",\n        value: function getDecoratedComponentInstance() {\n          invariant(this.ref.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');\n          return this.ref.current;\n        }\n      }, {\n        key: \"shouldComponentUpdate\",\n        value: function shouldComponentUpdate(nextProps, nextState) {\n          return !arePropsEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n        }\n      }, {\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          this.isCurrentlyMounted = true;\n          this.handleChange();\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          this.isCurrentlyMounted = false;\n\n          if (this.unsubscribeFromOffsetChange) {\n            this.unsubscribeFromOffsetChange();\n            this.unsubscribeFromOffsetChange = undefined;\n          }\n\n          if (this.unsubscribeFromStateChange) {\n            this.unsubscribeFromStateChange();\n            this.unsubscribeFromStateChange = undefined;\n          }\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          var _this2 = this;\n\n          return _jsx(DndContext.Consumer, {\n            children: function children(_ref) {\n              var dragDropManager = _ref.dragDropManager;\n\n              if (dragDropManager === undefined) {\n                return null;\n              }\n\n              _this2.receiveDragDropManager(dragDropManager); // Let componentDidMount fire to initialize the collected state\n\n\n              if (!_this2.isCurrentlyMounted) {\n                return null;\n              }\n\n              return _jsx(Decorated, Object.assign({}, _this2.props, _this2.state, {\n                ref: isRefable(Decorated) ? _this2.ref : null\n              }), void 0);\n            }\n          }, void 0);\n        }\n      }, {\n        key: \"receiveDragDropManager\",\n        value: function receiveDragDropManager(dragDropManager) {\n          if (this.manager !== undefined) {\n            return;\n          }\n\n          this.manager = dragDropManager;\n          invariant(_typeof(dragDropManager) === 'object', 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to render a DndProvider component in your top-level component. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n          var monitor = this.manager.getMonitor();\n          this.unsubscribeFromOffsetChange = monitor.subscribeToOffsetChange(this.handleChange);\n          this.unsubscribeFromStateChange = monitor.subscribeToStateChange(this.handleChange);\n        }\n      }, {\n        key: \"getCurrentState\",\n        value: function getCurrentState() {\n          if (!this.manager) {\n            return {};\n          }\n\n          var monitor = this.manager.getMonitor();\n          return collect(monitor, this.props);\n        }\n      }]);\n\n      return DragLayerContainer;\n    }(Component);\n\n    _defineProperty(DragLayerContainer, \"displayName\", \"DragLayer(\".concat(displayName, \")\"));\n\n    _defineProperty(DragLayerContainer, \"DecoratedComponent\", DecoratedComponent);\n\n    return hoistStatics(DragLayerContainer, DecoratedComponent);\n  };\n}","import { useLayoutEffect, useEffect } from 'react'; // suppress the useLayoutEffect warning on server side.\n\nexport var useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var DragSourceImpl = /*#__PURE__*/function () {\n  function DragSourceImpl(spec, monitor, connector) {\n    _classCallCheck(this, DragSourceImpl);\n\n    _defineProperty(this, \"spec\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"connector\", void 0);\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.connector = connector;\n  }\n\n  _createClass(DragSourceImpl, [{\n    key: \"beginDrag\",\n    value: function beginDrag() {\n      var _result;\n\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var result = null;\n\n      if (_typeof(spec.item) === 'object') {\n        result = spec.item;\n      } else if (typeof spec.item === 'function') {\n        result = spec.item(monitor);\n      } else {\n        result = {};\n      }\n\n      return (_result = result) !== null && _result !== void 0 ? _result : null;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (typeof spec.canDrag === 'boolean') {\n        return spec.canDrag;\n      } else if (typeof spec.canDrag === 'function') {\n        return spec.canDrag(monitor);\n      } else {\n        return true;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(globalMonitor, target) {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var isDragging = spec.isDragging;\n      return isDragging ? isDragging(monitor) : target === globalMonitor.getSourceId();\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var connector = this.connector;\n      var end = spec.end;\n\n      if (end) {\n        end(monitor.getItem(), monitor);\n      }\n\n      connector.reconnect();\n    }\n  }]);\n\n  return DragSourceImpl;\n}();","import { useContext } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { DndContext } from '../core';\n/**\n * A hook to retrieve the DragDropManager from Context\n */\n\nexport function useDragDropManager() {\n  var _useContext = useContext(DndContext),\n      dragDropManager = _useContext.dragDropManager;\n\n  invariant(dragDropManager != null, 'Expected drag drop context');\n  return dragDropManager;\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { registerSource } from '../../internals';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nimport { useDragSource } from './useDragSource';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useDragType } from './useDragType';\nexport function useRegisteredDragSource(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var handler = useDragSource(spec, monitor, connector);\n  var itemType = useDragType(spec);\n  useIsomorphicLayoutEffect(function registerDragSource() {\n    if (itemType != null) {\n      var _registerSource = registerSource(itemType, handler, manager),\n          _registerSource2 = _slicedToArray(_registerSource, 2),\n          handlerId = _registerSource2[0],\n          unregister = _registerSource2[1];\n\n      monitor.receiveHandlerId(handlerId);\n      connector.receiveHandlerId(handlerId);\n      return unregister;\n    }\n  }, [manager, monitor, connector, handler, itemType]);\n}","import { useEffect, useMemo } from 'react';\nimport { DragSourceImpl } from './DragSourceImpl';\nexport function useDragSource(spec, monitor, connector) {\n  var handler = useMemo(function () {\n    return new DragSourceImpl(spec, monitor, connector);\n  }, [monitor, connector]);\n  useEffect(function () {\n    handler.spec = spec;\n  }, [spec]);\n  return handler;\n}","import { invariant } from '@react-dnd/invariant';\nimport { useMemo } from 'react';\nexport function useDragType(spec) {\n  return useMemo(function () {\n    var result = spec.type;\n    invariant(result != null, 'spec.type must be defined');\n    return result;\n  }, [spec]);\n}","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { useMemo } from 'react';\nexport function useOptionalFactory(arg, deps) {\n  var memoDeps = _toConsumableArray(deps || []);\n\n  if (deps == null && typeof arg !== 'function') {\n    memoDeps.push(arg);\n  }\n\n  return useMemo(function () {\n    return typeof arg === 'function' ? arg() : arg;\n  }, memoDeps);\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport equal from 'fast-deep-equal';\nimport { useState, useCallback } from 'react';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\n/**\n *\n * @param monitor The monitor to collect state from\n * @param collect The collecting function\n * @param onUpdate A method to invoke when updates occur\n */\n\nexport function useCollector(monitor, collect, onUpdate) {\n  var _useState = useState(function () {\n    return collect(monitor);\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      collected = _useState2[0],\n      setCollected = _useState2[1];\n\n  var updateCollected = useCallback(function () {\n    var nextValue = collect(monitor); // This needs to be a deep-equality check because some monitor-collected values\n    // include XYCoord objects that may be equivalent, but do not have instance equality.\n\n    if (!equal(collected, nextValue)) {\n      setCollected(nextValue);\n\n      if (onUpdate) {\n        onUpdate();\n      }\n    }\n  }, [collected, monitor, onUpdate]); // update the collected properties after react renders.\n  // Note that the \"Dustbin Stress Test\" fails if this is not\n  // done when the component updates\n\n  useIsomorphicLayoutEffect(updateCollected);\n  return [collected, updateCollected];\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nimport { useCollector } from './useCollector';\nexport function useMonitorOutput(monitor, collect, onCollect) {\n  var _useCollector = useCollector(monitor, collect, onCollect),\n      _useCollector2 = _slicedToArray(_useCollector, 2),\n      collected = _useCollector2[0],\n      updateCollected = _useCollector2[1];\n\n  useIsomorphicLayoutEffect(function subscribeToMonitorStateChange() {\n    var handlerId = monitor.getHandlerId();\n\n    if (handlerId == null) {\n      return;\n    }\n\n    return monitor.subscribeToStateChange(updateCollected, {\n      handlerIds: [handlerId]\n    });\n  }, [monitor, updateCollected]);\n  return collected;\n}","import { useMonitorOutput } from './useMonitorOutput';\nexport function useCollectedProps(collector, monitor, connector) {\n  return useMonitorOutput(monitor, collector || function () {\n    return {};\n  }, function () {\n    return connector.reconnect();\n  });\n}","import { useMemo } from 'react';\nexport function useConnectDragSource(connector) {\n  return useMemo(function () {\n    return connector.hooks.dragSource();\n  }, [connector]);\n}\nexport function useConnectDragPreview(connector) {\n  return useMemo(function () {\n    return connector.hooks.dragPreview();\n  }, [connector]);\n}","import { useRegisteredDragSource } from './useRegisteredDragSource';\nimport { useOptionalFactory } from '../useOptionalFactory';\nimport { useDragSourceMonitor } from './useDragSourceMonitor';\nimport { useDragSourceConnector } from './useDragSourceConnector';\nimport { useCollectedProps } from '../useCollectedProps';\nimport { useConnectDragPreview, useConnectDragSource } from './connectors';\nimport { invariant } from '@react-dnd/invariant';\n/**\n * useDragSource hook\n * @param sourceSpec The drag source specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\n\nexport function useDrag(specArg, deps) {\n  var spec = useOptionalFactory(specArg, deps);\n  invariant(!spec.begin, \"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)\");\n  var monitor = useDragSourceMonitor();\n  var connector = useDragSourceConnector(spec.options, spec.previewOptions);\n  useRegisteredDragSource(spec, monitor, connector);\n  return [useCollectedProps(spec.collect, monitor, connector), useConnectDragSource(connector), useConnectDragPreview(connector)];\n}","import { useMemo } from 'react';\nimport { DragSourceMonitorImpl } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nexport function useDragSourceMonitor() {\n  var manager = useDragDropManager();\n  return useMemo(function () {\n    return new DragSourceMonitorImpl(manager);\n  }, [manager]);\n}","import { useMemo } from 'react';\nimport { SourceConnector } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nexport function useDragSourceConnector(dragSourceOptions, dragPreviewOptions) {\n  var manager = useDragDropManager();\n  var connector = useMemo(function () {\n    return new SourceConnector(manager.getBackend());\n  }, [manager]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragSourceOptions = dragSourceOptions || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDragSource();\n    };\n  }, [connector, dragSourceOptions]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragPreviewOptions = dragPreviewOptions || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDragPreview();\n    };\n  }, [connector, dragPreviewOptions]);\n  return connector;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var DropTargetImpl = /*#__PURE__*/function () {\n  function DropTargetImpl(spec, monitor) {\n    _classCallCheck(this, DropTargetImpl);\n\n    _defineProperty(this, \"spec\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    this.spec = spec;\n    this.monitor = monitor;\n  }\n\n  _createClass(DropTargetImpl, [{\n    key: \"canDrop\",\n    value: function canDrop() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      return spec.canDrop ? spec.canDrop(monitor.getItem(), monitor) : true;\n    }\n  }, {\n    key: \"hover\",\n    value: function hover() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (spec.hover) {\n        spec.hover(monitor.getItem(), monitor);\n      }\n    }\n  }, {\n    key: \"drop\",\n    value: function drop() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (spec.drop) {\n        return spec.drop(monitor.getItem(), monitor);\n      }\n    }\n  }]);\n\n  return DropTargetImpl;\n}();","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { registerTarget } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nimport { useAccept } from './useAccept';\nimport { useDropTarget } from './useDropTarget';\nexport function useRegisteredDropTarget(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var dropTarget = useDropTarget(spec, monitor);\n  var accept = useAccept(spec);\n  useIsomorphicLayoutEffect(function registerDropTarget() {\n    var _registerTarget = registerTarget(accept, dropTarget, manager),\n        _registerTarget2 = _slicedToArray(_registerTarget, 2),\n        handlerId = _registerTarget2[0],\n        unregister = _registerTarget2[1];\n\n    monitor.receiveHandlerId(handlerId);\n    connector.receiveHandlerId(handlerId);\n    return unregister;\n  }, [manager, monitor, dropTarget, connector, accept.map(function (a) {\n    return a.toString();\n  }).join('|')]);\n}","import { useEffect, useMemo } from 'react';\nimport { DropTargetImpl } from './DropTargetImpl';\nexport function useDropTarget(spec, monitor) {\n  var dropTarget = useMemo(function () {\n    return new DropTargetImpl(spec, monitor);\n  }, [monitor]);\n  useEffect(function () {\n    dropTarget.spec = spec;\n  }, [spec]);\n  return dropTarget;\n}","import { invariant } from '@react-dnd/invariant';\nimport { useMemo } from 'react';\n/**\n * Internal utility hook to get an array-version of spec.accept.\n * The main utility here is that we aren't creating a new array on every render if a non-array spec.accept is passed in.\n * @param spec\n */\n\nexport function useAccept(spec) {\n  var accept = spec.accept;\n  return useMemo(function () {\n    invariant(spec.accept != null, 'accept must be defined');\n    return Array.isArray(accept) ? accept : [accept];\n  }, [accept]);\n}","import { useMemo } from 'react';\nexport function useConnectDropTarget(connector) {\n  return useMemo(function () {\n    return connector.hooks.dropTarget();\n  }, [connector]);\n}","import { useRegisteredDropTarget } from './useRegisteredDropTarget';\nimport { useOptionalFactory } from '../useOptionalFactory';\nimport { useDropTargetMonitor } from './useDropTargetMonitor';\nimport { useDropTargetConnector } from './useDropTargetConnector';\nimport { useCollectedProps } from '../useCollectedProps';\nimport { useConnectDropTarget } from './connectors';\n/**\n * useDropTarget Hook\n * @param spec The drop target specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\n\nexport function useDrop(specArg, deps) {\n  var spec = useOptionalFactory(specArg, deps);\n  var monitor = useDropTargetMonitor();\n  var connector = useDropTargetConnector(spec.options);\n  useRegisteredDropTarget(spec, monitor, connector);\n  return [useCollectedProps(spec.collect, monitor, connector), useConnectDropTarget(connector)];\n}","import { useMemo } from 'react';\nimport { DropTargetMonitorImpl } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nexport function useDropTargetMonitor() {\n  var manager = useDragDropManager();\n  return useMemo(function () {\n    return new DropTargetMonitorImpl(manager);\n  }, [manager]);\n}","import { useMemo } from 'react';\nimport { TargetConnector } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nexport function useDropTargetConnector(options) {\n  var manager = useDragDropManager();\n  var connector = useMemo(function () {\n    return new TargetConnector(manager.getBackend());\n  }, [manager]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dropTargetOptions = options || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDropTarget();\n    };\n  }, [options]);\n  return connector;\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useEffect } from 'react';\nimport { useDragDropManager } from './useDragDropManager';\nimport { useCollector } from './useCollector';\n/**\n * useDragLayer Hook\n * @param collector The property collector\n */\n\nexport function useDragLayer(collect) {\n  var dragDropManager = useDragDropManager();\n  var monitor = dragDropManager.getMonitor();\n\n  var _useCollector = useCollector(monitor, collect),\n      _useCollector2 = _slicedToArray(_useCollector, 2),\n      collected = _useCollector2[0],\n      updateCollected = _useCollector2[1];\n\n  useEffect(function () {\n    return monitor.subscribeToOffsetChange(updateCollected);\n  });\n  useEffect(function () {\n    return monitor.subscribeToStateChange(updateCollected);\n  });\n  return collected;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { isPlainObject, getDecoratedComponent } from './utils';\nvar ALLOWED_SPEC_METHODS = ['canDrag', 'beginDrag', 'isDragging', 'endDrag'];\nvar REQUIRED_SPEC_METHODS = ['beginDrag'];\n\nvar SourceImpl = /*#__PURE__*/function () {\n  function SourceImpl(spec, monitor, ref) {\n    var _this = this;\n\n    _classCallCheck(this, SourceImpl);\n\n    _defineProperty(this, \"props\", null);\n\n    _defineProperty(this, \"spec\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"ref\", void 0);\n\n    _defineProperty(this, \"beginDrag\", function () {\n      if (!_this.props) {\n        return;\n      }\n\n      var item = _this.spec.beginDrag(_this.props, _this.monitor, _this.ref.current);\n\n      if (process.env.NODE_ENV !== 'production') {\n        invariant(isPlainObject(item), 'beginDrag() must return a plain object that represents the dragged item. ' + 'Instead received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', item);\n      }\n\n      return item;\n    });\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.ref = ref;\n  }\n\n  _createClass(SourceImpl, [{\n    key: \"receiveProps\",\n    value: function receiveProps(props) {\n      this.props = props;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      if (!this.props) {\n        return false;\n      }\n\n      if (!this.spec.canDrag) {\n        return true;\n      }\n\n      return this.spec.canDrag(this.props, this.monitor);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(globalMonitor, sourceId) {\n      if (!this.props) {\n        return false;\n      }\n\n      if (!this.spec.isDragging) {\n        return sourceId === globalMonitor.getSourceId();\n      }\n\n      return this.spec.isDragging(this.props, this.monitor);\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {\n      if (!this.props) {\n        return;\n      }\n\n      if (!this.spec.endDrag) {\n        return;\n      }\n\n      this.spec.endDrag(this.props, this.monitor, getDecoratedComponent(this.ref));\n    }\n  }]);\n\n  return SourceImpl;\n}();\n\nexport function createSourceFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drag source specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', ALLOWED_SPEC_METHODS.join(', '), key);\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);\n  });\n  REQUIRED_SPEC_METHODS.forEach(function (key) {\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);\n  });\n  return function createSource(monitor, ref) {\n    return new SourceImpl(spec, monitor, ref);\n  };\n}","import { invariant } from '@react-dnd/invariant';\nimport { registerSource, DragSourceMonitorImpl, SourceConnector } from '../internals';\nimport { checkDecoratorArguments, isPlainObject, isValidType } from './utils';\nimport { decorateHandler } from './decorateHandler';\nimport { createSourceFactory } from './createSourceFactory';\n/**\n * Decorates a component as a dragsource\n * @param type The dragsource type\n * @param spec The drag source specification\n * @param collect The props collector function\n * @param options DnD options\n */\n\nexport function DragSource(type, spec, collect) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  checkDecoratorArguments('DragSource', 'type, spec, collect[, options]', type, spec, collect, options);\n  var getType = type;\n\n  if (typeof type !== 'function') {\n    invariant(isValidType(type), 'Expected \"type\" provided as the first argument to DragSource to be ' + 'a string, or a function that returns a string given the current props. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', type);\n\n    getType = function getType() {\n      return type;\n    };\n  }\n\n  invariant(isPlainObject(spec), 'Expected \"spec\" provided as the second argument to DragSource to be ' + 'a plain object. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', spec);\n  var createSource = createSourceFactory(spec);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DragSource to be ' + 'a function that returns a plain object of props to inject. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the fourth argument to DragSource to be ' + 'a plain object when specified. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', collect);\n  return function decorateSource(DecoratedComponent) {\n    return decorateHandler({\n      containerDisplayName: 'DragSource',\n      createHandler: createSource,\n      registerHandler: registerSource,\n      createConnector: function createConnector(backend) {\n        return new SourceConnector(backend);\n      },\n      createMonitor: function createMonitor(manager) {\n        return new DragSourceMonitorImpl(manager);\n      },\n      DecoratedComponent: DecoratedComponent,\n      getType: getType,\n      collect: collect,\n      options: options\n    });\n  };\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { isPlainObject, getDecoratedComponent } from './utils';\nvar ALLOWED_SPEC_METHODS = ['canDrop', 'hover', 'drop'];\n\nvar TargetImpl = /*#__PURE__*/function () {\n  function TargetImpl(spec, monitor, ref) {\n    _classCallCheck(this, TargetImpl);\n\n    _defineProperty(this, \"props\", null);\n\n    _defineProperty(this, \"spec\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"ref\", void 0);\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.ref = ref;\n  }\n\n  _createClass(TargetImpl, [{\n    key: \"receiveProps\",\n    value: function receiveProps(props) {\n      this.props = props;\n    }\n  }, {\n    key: \"receiveMonitor\",\n    value: function receiveMonitor(monitor) {\n      this.monitor = monitor;\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      if (!this.spec.canDrop) {\n        return true;\n      }\n\n      return this.spec.canDrop(this.props, this.monitor);\n    }\n  }, {\n    key: \"hover\",\n    value: function hover() {\n      if (!this.spec.hover || !this.props) {\n        return;\n      }\n\n      this.spec.hover(this.props, this.monitor, getDecoratedComponent(this.ref));\n    }\n  }, {\n    key: \"drop\",\n    value: function drop() {\n      if (!this.spec.drop) {\n        return undefined;\n      }\n\n      var dropResult = this.spec.drop(this.props, this.monitor, this.ref.current);\n\n      if (process.env.NODE_ENV !== 'production') {\n        invariant(typeof dropResult === 'undefined' || isPlainObject(dropResult), 'drop() must either return undefined, or an object that represents the drop result. ' + 'Instead received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', dropResult);\n      }\n\n      return dropResult;\n    }\n  }]);\n\n  return TargetImpl;\n}();\n\nexport function createTargetFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drop target specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', ALLOWED_SPEC_METHODS.join(', '), key);\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drop target specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', key, key, spec[key]);\n  });\n  return function createTarget(monitor, ref) {\n    return new TargetImpl(spec, monitor, ref);\n  };\n}","import { invariant } from '@react-dnd/invariant';\nimport { TargetConnector, DropTargetMonitorImpl, registerTarget } from '../internals';\nimport { isPlainObject, isValidType } from './utils';\nimport { checkDecoratorArguments } from './utils';\nimport { decorateHandler } from './decorateHandler';\nimport { createTargetFactory } from './createTargetFactory';\n/**\n * @param type The accepted target type\n * @param spec The DropTarget specification\n * @param collect The props collector function\n * @param options Options\n */\n\nexport function DropTarget(type, spec, collect) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  checkDecoratorArguments('DropTarget', 'type, spec, collect[, options]', type, spec, collect, options);\n  var getType = type;\n\n  if (typeof type !== 'function') {\n    invariant(isValidType(type, true), 'Expected \"type\" provided as the first argument to DropTarget to be ' + 'a string, an array of strings, or a function that returns either given ' + 'the current props. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', type);\n\n    getType = function getType() {\n      return type;\n    };\n  }\n\n  invariant(isPlainObject(spec), 'Expected \"spec\" provided as the second argument to DropTarget to be ' + 'a plain object. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', spec);\n  var createTarget = createTargetFactory(spec);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DropTarget to be ' + 'a function that returns a plain object of props to inject. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the fourth argument to DropTarget to be ' + 'a plain object when specified. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);\n  return function decorateTarget(DecoratedComponent) {\n    return decorateHandler({\n      containerDisplayName: 'DropTarget',\n      createHandler: createTarget,\n      registerHandler: registerTarget,\n      createMonitor: function createMonitor(manager) {\n        return new DropTargetMonitorImpl(manager);\n      },\n      createConnector: function createConnector(backend) {\n        return new TargetConnector(backend);\n      },\n      DecoratedComponent: DecoratedComponent,\n      getType: getType,\n      collect: collect,\n      options: options\n    });\n  };\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { isFunction, noop } from './utils';\n/**\n * Provides a set of static methods for creating Disposables.\n * @param {Function} action Action to run during the first call to dispose.\n * The action is guaranteed to be run at most once.\n */\n\nexport var Disposable = /*#__PURE__*/function () {\n  function Disposable(action) {\n    _classCallCheck(this, Disposable);\n\n    _defineProperty(this, \"isDisposed\", false);\n\n    _defineProperty(this, \"action\", void 0);\n\n    this.action = isFunction(action) ? action : noop;\n  }\n  /** Performs the task of cleaning up resources. */\n\n\n  _createClass(Disposable, [{\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.action();\n        this.isDisposed = true;\n      }\n    }\n  }], [{\n    key: \"isDisposable\",\n    value:\n    /**\n     * Gets the disposable that does nothing when disposed.\n     */\n\n    /**\n     * Validates whether the given object is a disposable\n     * @param {Object} Object to test whether it has a dispose method\n     * @returns {Boolean} true if a disposable object, else false.\n     */\n    function isDisposable(d) {\n      return Boolean(d && isFunction(d.dispose));\n    }\n  }, {\n    key: \"_fixup\",\n    value: function _fixup(result) {\n      return Disposable.isDisposable(result) ? result : Disposable.empty;\n    }\n    /**\n     * Creates a disposable object that invokes the specified action when disposed.\n     * @param {Function} dispose Action to run during the first call to dispose.\n     * The action is guaranteed to be run at most once.\n     * @return {Disposable} The disposable object that runs the given action upon disposal.\n     */\n\n  }, {\n    key: \"create\",\n    value: function create(action) {\n      return new Disposable(action);\n    }\n  }]);\n\n  return Disposable;\n}();\n/**\n * Represents a group of disposable resources that are disposed together.\n * @constructor\n */\n\n_defineProperty(Disposable, \"empty\", {\n  dispose: noop\n});\n\nexport var CompositeDisposable = /*#__PURE__*/function () {\n  function CompositeDisposable() {\n    _classCallCheck(this, CompositeDisposable);\n\n    _defineProperty(this, \"isDisposed\", false);\n\n    _defineProperty(this, \"disposables\", void 0);\n\n    for (var _len = arguments.length, disposables = new Array(_len), _key = 0; _key < _len; _key++) {\n      disposables[_key] = arguments[_key];\n    }\n\n    this.disposables = disposables;\n  }\n  /**\n   * Adds a disposable to the CompositeDisposable or disposes the disposable if the CompositeDisposable is disposed.\n   * @param {Any} item Disposable to add.\n   */\n\n\n  _createClass(CompositeDisposable, [{\n    key: \"add\",\n    value: function add(item) {\n      if (this.isDisposed) {\n        item.dispose();\n      } else {\n        this.disposables.push(item);\n      }\n    }\n    /**\n     * Removes and disposes the first occurrence of a disposable from the CompositeDisposable.\n     * @param {Any} item Disposable to remove.\n     * @returns {Boolean} true if found; false otherwise.\n     */\n\n  }, {\n    key: \"remove\",\n    value: function remove(item) {\n      var shouldDispose = false;\n\n      if (!this.isDisposed) {\n        var idx = this.disposables.indexOf(item);\n\n        if (idx !== -1) {\n          shouldDispose = true;\n          this.disposables.splice(idx, 1);\n          item.dispose();\n        }\n      }\n\n      return shouldDispose;\n    }\n    /**\n     *  Disposes all disposables in the group and removes them from the group but\n     *  does not dispose the CompositeDisposable.\n     */\n\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      if (!this.isDisposed) {\n        var len = this.disposables.length;\n        var currentDisposables = new Array(len);\n\n        for (var i = 0; i < len; i++) {\n          currentDisposables[i] = this.disposables[i];\n        }\n\n        this.disposables = [];\n\n        for (var _i = 0; _i < len; _i++) {\n          currentDisposables[_i].dispose();\n        }\n      }\n    }\n    /**\n     *  Disposes all disposables in the group and removes them from the group.\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        var len = this.disposables.length;\n        var currentDisposables = new Array(len);\n\n        for (var i = 0; i < len; i++) {\n          currentDisposables[i] = this.disposables[i];\n        }\n\n        this.disposables = [];\n\n        for (var _i2 = 0; _i2 < len; _i2++) {\n          currentDisposables[_i2].dispose();\n        }\n      }\n    }\n  }]);\n\n  return CompositeDisposable;\n}();\n/**\n * Represents a disposable resource whose underlying disposable resource can\n * be replaced by another disposable resource, causing automatic disposal of\n * the previous underlying disposable resource.\n */\n\nexport var SerialDisposable = /*#__PURE__*/function () {\n  function SerialDisposable() {\n    _classCallCheck(this, SerialDisposable);\n\n    _defineProperty(this, \"isDisposed\", false);\n\n    _defineProperty(this, \"current\", void 0);\n  }\n\n  _createClass(SerialDisposable, [{\n    key: \"getDisposable\",\n    value:\n    /**\n     * Gets the underlying disposable.\n     * @returns {Any} the underlying disposable.\n     */\n    function getDisposable() {\n      return this.current;\n    }\n  }, {\n    key: \"setDisposable\",\n    value: function setDisposable(value) {\n      var shouldDispose = this.isDisposed;\n\n      if (!shouldDispose) {\n        var old = this.current;\n        this.current = value;\n\n        if (old) {\n          old.dispose();\n        }\n      }\n\n      if (shouldDispose && value) {\n        value.dispose();\n      }\n    }\n    /** Performs the task of cleaning up resources. */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        var old = this.current;\n        this.current = undefined;\n\n        if (old) {\n          old.dispose();\n        }\n      }\n    }\n  }]);\n\n  return SerialDisposable;\n}();","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { createRef, Component } from 'react';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { invariant } from '@react-dnd/invariant';\nimport { DndContext } from '../core';\nimport { isPlainObject } from './utils';\nimport { Disposable, CompositeDisposable, SerialDisposable } from './disposables';\nimport { isRefable } from './utils';\nimport hoistStatics from 'hoist-non-react-statics';\nexport function decorateHandler(_ref) {\n  var DecoratedComponent = _ref.DecoratedComponent,\n      createHandler = _ref.createHandler,\n      createMonitor = _ref.createMonitor,\n      createConnector = _ref.createConnector,\n      registerHandler = _ref.registerHandler,\n      containerDisplayName = _ref.containerDisplayName,\n      getType = _ref.getType,\n      collect = _ref.collect,\n      options = _ref.options;\n  var _options$arePropsEqua = options.arePropsEqual,\n      arePropsEqual = _options$arePropsEqua === void 0 ? shallowEqual : _options$arePropsEqua;\n  var Decorated = DecoratedComponent;\n  var displayName = DecoratedComponent.displayName || DecoratedComponent.name || 'Component';\n\n  var DragDropContainer = /*#__PURE__*/function (_Component) {\n    _inherits(DragDropContainer, _Component);\n\n    var _super = _createSuper(DragDropContainer);\n\n    function DragDropContainer(props) {\n      var _this;\n\n      _classCallCheck(this, DragDropContainer);\n\n      _this = _super.call(this, props);\n\n      _defineProperty(_assertThisInitialized(_this), \"decoratedRef\", createRef());\n\n      _defineProperty(_assertThisInitialized(_this), \"handlerId\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"manager\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"handlerMonitor\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"handlerConnector\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"handler\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"disposable\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"currentType\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"handleChange\", function () {\n        var nextState = _this.getCurrentState();\n\n        if (!shallowEqual(nextState, _this.state)) {\n          _this.setState(nextState);\n        }\n      });\n\n      _this.disposable = new SerialDisposable();\n\n      _this.receiveProps(props);\n\n      _this.dispose();\n\n      return _this;\n    }\n\n    _createClass(DragDropContainer, [{\n      key: \"getHandlerId\",\n      value: function getHandlerId() {\n        return this.handlerId;\n      }\n    }, {\n      key: \"getDecoratedComponentInstance\",\n      value: function getDecoratedComponentInstance() {\n        invariant(this.decoratedRef.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');\n        return this.decoratedRef.current;\n      }\n    }, {\n      key: \"shouldComponentUpdate\",\n      value: function shouldComponentUpdate(nextProps, nextState) {\n        return !arePropsEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.disposable = new SerialDisposable();\n        this.currentType = undefined;\n        this.receiveProps(this.props);\n        this.handleChange();\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        if (!arePropsEqual(this.props, prevProps)) {\n          this.receiveProps(this.props);\n          this.handleChange();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.dispose();\n      }\n    }, {\n      key: \"receiveProps\",\n      value: function receiveProps(props) {\n        if (!this.handler) {\n          return;\n        }\n\n        this.handler.receiveProps(props);\n        this.receiveType(getType(props));\n      }\n    }, {\n      key: \"receiveType\",\n      value: function receiveType(type) {\n        if (!this.handlerMonitor || !this.manager || !this.handlerConnector) {\n          return;\n        }\n\n        if (type === this.currentType) {\n          return;\n        }\n\n        this.currentType = type;\n\n        var _registerHandler = registerHandler(type, this.handler, this.manager),\n            _registerHandler2 = _slicedToArray(_registerHandler, 2),\n            handlerId = _registerHandler2[0],\n            unregister = _registerHandler2[1];\n\n        this.handlerId = handlerId;\n        this.handlerMonitor.receiveHandlerId(handlerId);\n        this.handlerConnector.receiveHandlerId(handlerId);\n        var globalMonitor = this.manager.getMonitor();\n        var unsubscribe = globalMonitor.subscribeToStateChange(this.handleChange, {\n          handlerIds: [handlerId]\n        });\n        this.disposable.setDisposable(new CompositeDisposable(new Disposable(unsubscribe), new Disposable(unregister)));\n      }\n    }, {\n      key: \"dispose\",\n      value: function dispose() {\n        this.disposable.dispose();\n\n        if (this.handlerConnector) {\n          this.handlerConnector.receiveHandlerId(null);\n        }\n      }\n    }, {\n      key: \"getCurrentState\",\n      value: function getCurrentState() {\n        if (!this.handlerConnector) {\n          return {};\n        }\n\n        var nextState = collect(this.handlerConnector.hooks, this.handlerMonitor, this.props);\n\n        if (process.env.NODE_ENV !== 'production') {\n          invariant(isPlainObject(nextState), 'Expected `collect` specified as the second argument to ' + '%s for %s to return a plain object of props to inject. ' + 'Instead, received %s.', containerDisplayName, displayName, nextState);\n        }\n\n        return nextState;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n\n        return _jsx(DndContext.Consumer, {\n          children: function children(_ref2) {\n            var dragDropManager = _ref2.dragDropManager;\n\n            _this2.receiveDragDropManager(dragDropManager);\n\n            if (typeof requestAnimationFrame !== 'undefined') {\n              requestAnimationFrame(function () {\n                var _this2$handlerConnect;\n\n                return (_this2$handlerConnect = _this2.handlerConnector) === null || _this2$handlerConnect === void 0 ? void 0 : _this2$handlerConnect.reconnect();\n              });\n            }\n\n            return _jsx(Decorated, Object.assign({}, _this2.props, _this2.getCurrentState(), {\n              // NOTE: if Decorated is a Function Component, decoratedRef will not be populated unless it's a refforwarding component.\n              ref: isRefable(Decorated) ? _this2.decoratedRef : null\n            }), void 0);\n          }\n        }, void 0);\n      }\n    }, {\n      key: \"receiveDragDropManager\",\n      value: function receiveDragDropManager(dragDropManager) {\n        if (this.manager !== undefined) {\n          return;\n        }\n\n        invariant(dragDropManager !== undefined, 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to render a DndProvider component in your top-level component. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n\n        if (dragDropManager === undefined) {\n          return;\n        }\n\n        this.manager = dragDropManager;\n        this.handlerMonitor = createMonitor(dragDropManager);\n        this.handlerConnector = createConnector(dragDropManager.getBackend());\n        this.handler = createHandler(this.handlerMonitor, this.decoratedRef);\n      }\n    }]);\n\n    return DragDropContainer;\n  }(Component);\n\n  _defineProperty(DragDropContainer, \"DecoratedComponent\", DecoratedComponent);\n\n  _defineProperty(DragDropContainer, \"displayName\", \"\".concat(containerDisplayName, \"(\").concat(displayName, \")\"));\n\n  return hoistStatics(DragDropContainer, DecoratedComponent);\n}","// cheap lodash replacements\nexport function memoize(fn) {\n  var result = null;\n\n  var memoized = function memoized() {\n    if (result == null) {\n      result = fn();\n    }\n\n    return result;\n  };\n\n  return memoized;\n}\n/**\n * drop-in replacement for _.without\n */\n\nexport function without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\nexport function union(itemsA, itemsB) {\n  var set = new Set();\n\n  var insertItem = function insertItem(item) {\n    return set.add(item);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  set.forEach(function (key) {\n    return result.push(key);\n  });\n  return result;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { union, without } from './utils/js_utils';\nexport var EnterLeaveCounter = /*#__PURE__*/function () {\n  function EnterLeaveCounter(isNodeInDocument) {\n    _classCallCheck(this, EnterLeaveCounter);\n\n    _defineProperty(this, \"entered\", []);\n\n    _defineProperty(this, \"isNodeInDocument\", void 0);\n\n    this.isNodeInDocument = isNodeInDocument;\n  }\n\n  _createClass(EnterLeaveCounter, [{\n    key: \"enter\",\n    value: function enter(enteringNode) {\n      var _this = this;\n\n      var previousLength = this.entered.length;\n\n      var isNodeEntered = function isNodeEntered(node) {\n        return _this.isNodeInDocument(node) && (!node.contains || node.contains(enteringNode));\n      };\n\n      this.entered = union(this.entered.filter(isNodeEntered), [enteringNode]);\n      return previousLength === 0 && this.entered.length > 0;\n    }\n  }, {\n    key: \"leave\",\n    value: function leave(leavingNode) {\n      var previousLength = this.entered.length;\n      this.entered = without(this.entered.filter(this.isNodeInDocument), leavingNode);\n      return previousLength > 0 && this.entered.length === 0;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.entered = [];\n    }\n  }]);\n\n  return EnterLeaveCounter;\n}();","import { memoize } from './utils/js_utils';\nexport var isFirefox = memoize(function () {\n  return /firefox/i.test(navigator.userAgent);\n});\nexport var isSafari = memoize(function () {\n  return Boolean(window.safari);\n});","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var MonotonicInterpolant = /*#__PURE__*/function () {\n  function MonotonicInterpolant(xs, ys) {\n    _classCallCheck(this, MonotonicInterpolant);\n\n    _defineProperty(this, \"xs\", void 0);\n\n    _defineProperty(this, \"ys\", void 0);\n\n    _defineProperty(this, \"c1s\", void 0);\n\n    _defineProperty(this, \"c2s\", void 0);\n\n    _defineProperty(this, \"c3s\", void 0);\n\n    var length = xs.length; // Rearrange xs and ys so that xs is sorted\n\n    var indexes = [];\n\n    for (var i = 0; i < length; i++) {\n      indexes.push(i);\n    }\n\n    indexes.sort(function (a, b) {\n      return xs[a] < xs[b] ? -1 : 1;\n    }); // Get consecutive differences and slopes\n\n    var dys = [];\n    var dxs = [];\n    var ms = [];\n    var dx;\n    var dy;\n\n    for (var _i = 0; _i < length - 1; _i++) {\n      dx = xs[_i + 1] - xs[_i];\n      dy = ys[_i + 1] - ys[_i];\n      dxs.push(dx);\n      dys.push(dy);\n      ms.push(dy / dx);\n    } // Get degree-1 coefficients\n\n\n    var c1s = [ms[0]];\n\n    for (var _i2 = 0; _i2 < dxs.length - 1; _i2++) {\n      var m2 = ms[_i2];\n      var mNext = ms[_i2 + 1];\n\n      if (m2 * mNext <= 0) {\n        c1s.push(0);\n      } else {\n        dx = dxs[_i2];\n        var dxNext = dxs[_i2 + 1];\n        var common = dx + dxNext;\n        c1s.push(3 * common / ((common + dxNext) / m2 + (common + dx) / mNext));\n      }\n    }\n\n    c1s.push(ms[ms.length - 1]); // Get degree-2 and degree-3 coefficients\n\n    var c2s = [];\n    var c3s = [];\n    var m;\n\n    for (var _i3 = 0; _i3 < c1s.length - 1; _i3++) {\n      m = ms[_i3];\n      var c1 = c1s[_i3];\n      var invDx = 1 / dxs[_i3];\n\n      var _common = c1 + c1s[_i3 + 1] - m - m;\n\n      c2s.push((m - c1 - _common) * invDx);\n      c3s.push(_common * invDx * invDx);\n    }\n\n    this.xs = xs;\n    this.ys = ys;\n    this.c1s = c1s;\n    this.c2s = c2s;\n    this.c3s = c3s;\n  }\n\n  _createClass(MonotonicInterpolant, [{\n    key: \"interpolate\",\n    value: function interpolate(x) {\n      var xs = this.xs,\n          ys = this.ys,\n          c1s = this.c1s,\n          c2s = this.c2s,\n          c3s = this.c3s; // The rightmost point in the dataset should give an exact result\n\n      var i = xs.length - 1;\n\n      if (x === xs[i]) {\n        return ys[i];\n      } // Search for the interval x is in, returning the corresponding y if x is one of the original xs\n\n\n      var low = 0;\n      var high = c3s.length - 1;\n      var mid;\n\n      while (low <= high) {\n        mid = Math.floor(0.5 * (low + high));\n        var xHere = xs[mid];\n\n        if (xHere < x) {\n          low = mid + 1;\n        } else if (xHere > x) {\n          high = mid - 1;\n        } else {\n          return ys[mid];\n        }\n      }\n\n      i = Math.max(0, high); // Interpolate\n\n      var diff = x - xs[i];\n      var diffSq = diff * diff;\n      return ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq;\n    }\n  }]);\n\n  return MonotonicInterpolant;\n}();","import { isSafari, isFirefox } from './BrowserDetector';\nimport { MonotonicInterpolant } from './MonotonicInterpolant';\nvar ELEMENT_NODE = 1;\nexport function getNodeClientOffset(node) {\n  var el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;\n\n  if (!el) {\n    return null;\n  }\n\n  var _el$getBoundingClient = el.getBoundingClientRect(),\n      top = _el$getBoundingClient.top,\n      left = _el$getBoundingClient.left;\n\n  return {\n    x: left,\n    y: top\n  };\n}\nexport function getEventClientOffset(e) {\n  return {\n    x: e.clientX,\n    y: e.clientY\n  };\n}\n\nfunction isImageNode(node) {\n  var _document$documentEle;\n\n  return node.nodeName === 'IMG' && (isFirefox() || !((_document$documentEle = document.documentElement) !== null && _document$documentEle !== void 0 && _document$documentEle.contains(node)));\n}\n\nfunction getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight) {\n  var dragPreviewWidth = isImage ? dragPreview.width : sourceWidth;\n  var dragPreviewHeight = isImage ? dragPreview.height : sourceHeight; // Work around @2x coordinate discrepancies in browsers\n\n  if (isSafari() && isImage) {\n    dragPreviewHeight /= window.devicePixelRatio;\n    dragPreviewWidth /= window.devicePixelRatio;\n  }\n\n  return {\n    dragPreviewWidth: dragPreviewWidth,\n    dragPreviewHeight: dragPreviewHeight\n  };\n}\n\nexport function getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint) {\n  // The browsers will use the image intrinsic size under different conditions.\n  // Firefox only cares if it's an image, but WebKit also wants it to be detached.\n  var isImage = isImageNode(dragPreview);\n  var dragPreviewNode = isImage ? sourceNode : dragPreview;\n  var dragPreviewNodeOffsetFromClient = getNodeClientOffset(dragPreviewNode);\n  var offsetFromDragPreview = {\n    x: clientOffset.x - dragPreviewNodeOffsetFromClient.x,\n    y: clientOffset.y - dragPreviewNodeOffsetFromClient.y\n  };\n  var sourceWidth = sourceNode.offsetWidth,\n      sourceHeight = sourceNode.offsetHeight;\n  var anchorX = anchorPoint.anchorX,\n      anchorY = anchorPoint.anchorY;\n\n  var _getDragPreviewSize = getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight),\n      dragPreviewWidth = _getDragPreviewSize.dragPreviewWidth,\n      dragPreviewHeight = _getDragPreviewSize.dragPreviewHeight;\n\n  var calculateYOffset = function calculateYOffset() {\n    var interpolantY = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the top\n    offsetFromDragPreview.y, // Align at the center\n    offsetFromDragPreview.y / sourceHeight * dragPreviewHeight, // Dock to the bottom\n    offsetFromDragPreview.y + dragPreviewHeight - sourceHeight]);\n    var y = interpolantY.interpolate(anchorY); // Work around Safari 8 positioning bug\n\n    if (isSafari() && isImage) {\n      // We'll have to wait for @3x to see if this is entirely correct\n      y += (window.devicePixelRatio - 1) * dragPreviewHeight;\n    }\n\n    return y;\n  };\n\n  var calculateXOffset = function calculateXOffset() {\n    // Interpolate coordinates depending on anchor point\n    // If you know a simpler way to do this, let me know\n    var interpolantX = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the left\n    offsetFromDragPreview.x, // Align at the center\n    offsetFromDragPreview.x / sourceWidth * dragPreviewWidth, // Dock to the right\n    offsetFromDragPreview.x + dragPreviewWidth - sourceWidth]);\n    return interpolantX.interpolate(anchorX);\n  }; // Force offsets if specified in the options.\n\n\n  var offsetX = offsetPoint.offsetX,\n      offsetY = offsetPoint.offsetY;\n  var isManualOffsetX = offsetX === 0 || offsetX;\n  var isManualOffsetY = offsetY === 0 || offsetY;\n  return {\n    x: isManualOffsetX ? offsetX : calculateXOffset(),\n    y: isManualOffsetY ? offsetY : calculateYOffset()\n  };\n}","export var FILE = '__NATIVE_FILE__';\nexport var URL = '__NATIVE_URL__';\nexport var TEXT = '__NATIVE_TEXT__';\nexport var HTML = '__NATIVE_HTML__';","var _nativeTypesConfig;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport * as NativeTypes from '../NativeTypes';\nimport { getDataFromDataTransfer } from './getDataFromDataTransfer';\nexport var nativeTypesConfig = (_nativeTypesConfig = {}, _defineProperty(_nativeTypesConfig, NativeTypes.FILE, {\n  exposeProperties: {\n    files: function files(dataTransfer) {\n      return Array.prototype.slice.call(dataTransfer.files);\n    },\n    items: function items(dataTransfer) {\n      return dataTransfer.items;\n    },\n    dataTransfer: function dataTransfer(_dataTransfer) {\n      return _dataTransfer;\n    }\n  },\n  matchesTypes: ['Files']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.HTML, {\n  exposeProperties: {\n    html: function html(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '');\n    },\n    dataTransfer: function dataTransfer(_dataTransfer2) {\n      return _dataTransfer2;\n    }\n  },\n  matchesTypes: ['Html', 'text/html']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.URL, {\n  exposeProperties: {\n    urls: function urls(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '').split('\\n');\n    },\n    dataTransfer: function dataTransfer(_dataTransfer3) {\n      return _dataTransfer3;\n    }\n  },\n  matchesTypes: ['Url', 'text/uri-list']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.TEXT, {\n  exposeProperties: {\n    text: function text(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '');\n    },\n    dataTransfer: function dataTransfer(_dataTransfer4) {\n      return _dataTransfer4;\n    }\n  },\n  matchesTypes: ['Text', 'text/plain']\n}), _nativeTypesConfig);","export function getDataFromDataTransfer(dataTransfer, typesToTry, defaultValue) {\n  var result = typesToTry.reduce(function (resultSoFar, typeToTry) {\n    return resultSoFar || dataTransfer.getData(typeToTry);\n  }, '');\n  return result != null ? result : defaultValue;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var NativeDragSource = /*#__PURE__*/function () {\n  function NativeDragSource(config) {\n    _classCallCheck(this, NativeDragSource);\n\n    _defineProperty(this, \"item\", void 0);\n\n    _defineProperty(this, \"config\", void 0);\n\n    this.config = config;\n    this.item = {};\n    this.initializeExposedProperties();\n  }\n\n  _createClass(NativeDragSource, [{\n    key: \"initializeExposedProperties\",\n    value: function initializeExposedProperties() {\n      var _this = this;\n\n      Object.keys(this.config.exposeProperties).forEach(function (property) {\n        Object.defineProperty(_this.item, property, {\n          configurable: true,\n          enumerable: true,\n          get: function get() {\n            // eslint-disable-next-line no-console\n            console.warn(\"Browser doesn't allow reading \\\"\".concat(property, \"\\\" until the drop event.\"));\n            return null;\n          }\n        });\n      });\n    }\n  }, {\n    key: \"loadDataTransfer\",\n    value: function loadDataTransfer(dataTransfer) {\n      var _this2 = this;\n\n      if (dataTransfer) {\n        var newProperties = {};\n        Object.keys(this.config.exposeProperties).forEach(function (property) {\n          newProperties[property] = {\n            value: _this2.config.exposeProperties[property](dataTransfer, _this2.config.matchesTypes),\n            configurable: true,\n            enumerable: true\n          };\n        });\n        Object.defineProperties(this.item, newProperties);\n      }\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      return true;\n    }\n  }, {\n    key: \"beginDrag\",\n    value: function beginDrag() {\n      return this.item;\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(monitor, handle) {\n      return handle === monitor.getSourceId();\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {// empty\n    }\n  }]);\n\n  return NativeDragSource;\n}();","import { nativeTypesConfig } from './nativeTypesConfig';\nimport { NativeDragSource } from './NativeDragSource';\nexport function createNativeDragSource(type, dataTransfer) {\n  var result = new NativeDragSource(nativeTypesConfig[type]);\n  result.loadDataTransfer(dataTransfer);\n  return result;\n}\nexport function matchNativeItemType(dataTransfer) {\n  if (!dataTransfer) {\n    return null;\n  }\n\n  var dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || []);\n  return Object.keys(nativeTypesConfig).filter(function (nativeItemType) {\n    var matchesTypes = nativeTypesConfig[nativeItemType].matchesTypes;\n    return matchesTypes.some(function (t) {\n      return dataTransferTypes.indexOf(t) > -1;\n    });\n  })[0] || null;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var OptionsReader = /*#__PURE__*/function () {\n  function OptionsReader(globalContext, options) {\n    _classCallCheck(this, OptionsReader);\n\n    _defineProperty(this, \"ownerDocument\", null);\n\n    _defineProperty(this, \"globalContext\", void 0);\n\n    _defineProperty(this, \"optionsArgs\", void 0);\n\n    this.globalContext = globalContext;\n    this.optionsArgs = options;\n  }\n\n  _createClass(OptionsReader, [{\n    key: \"window\",\n    get: function get() {\n      if (this.globalContext) {\n        return this.globalContext;\n      } else if (typeof window !== 'undefined') {\n        return window;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      var _this$globalContext;\n\n      if ((_this$globalContext = this.globalContext) !== null && _this$globalContext !== void 0 && _this$globalContext.document) {\n        return this.globalContext.document;\n      } else if (this.window) {\n        return this.window.document;\n      } else {\n        return undefined;\n      }\n    }\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      var _this$optionsArgs;\n\n      return ((_this$optionsArgs = this.optionsArgs) === null || _this$optionsArgs === void 0 ? void 0 : _this$optionsArgs.rootElement) || this.window;\n    }\n  }]);\n\n  return OptionsReader;\n}();","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { EnterLeaveCounter } from './EnterLeaveCounter';\nimport { getNodeClientOffset, getEventClientOffset, getDragPreviewOffset } from './OffsetUtils';\nimport { createNativeDragSource, matchNativeItemType } from './NativeDragSources';\nimport * as NativeTypes from './NativeTypes';\nimport { OptionsReader } from './OptionsReader';\nexport var HTML5BackendImpl = /*#__PURE__*/function () {\n  // React-Dnd Components\n  // Internal State\n  function HTML5BackendImpl(manager, globalContext, options) {\n    var _this = this;\n\n    _classCallCheck(this, HTML5BackendImpl);\n\n    _defineProperty(this, \"options\", void 0);\n\n    _defineProperty(this, \"actions\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"registry\", void 0);\n\n    _defineProperty(this, \"enterLeaveCounter\", void 0);\n\n    _defineProperty(this, \"sourcePreviewNodes\", new Map());\n\n    _defineProperty(this, \"sourcePreviewNodeOptions\", new Map());\n\n    _defineProperty(this, \"sourceNodes\", new Map());\n\n    _defineProperty(this, \"sourceNodeOptions\", new Map());\n\n    _defineProperty(this, \"dragStartSourceIds\", null);\n\n    _defineProperty(this, \"dropTargetIds\", []);\n\n    _defineProperty(this, \"dragEnterTargetIds\", []);\n\n    _defineProperty(this, \"currentNativeSource\", null);\n\n    _defineProperty(this, \"currentNativeHandle\", null);\n\n    _defineProperty(this, \"currentDragSourceNode\", null);\n\n    _defineProperty(this, \"altKeyPressed\", false);\n\n    _defineProperty(this, \"mouseMoveTimeoutTimer\", null);\n\n    _defineProperty(this, \"asyncEndDragFrameId\", null);\n\n    _defineProperty(this, \"dragOverTargetIds\", null);\n\n    _defineProperty(this, \"lastClientOffset\", null);\n\n    _defineProperty(this, \"hoverRafId\", null);\n\n    _defineProperty(this, \"getSourceClientOffset\", function (sourceId) {\n      var source = _this.sourceNodes.get(sourceId);\n\n      return source && getNodeClientOffset(source) || null;\n    });\n\n    _defineProperty(this, \"endDragNativeItem\", function () {\n      if (!_this.isDraggingNativeItem()) {\n        return;\n      }\n\n      _this.actions.endDrag();\n\n      if (_this.currentNativeHandle) {\n        _this.registry.removeSource(_this.currentNativeHandle);\n      }\n\n      _this.currentNativeHandle = null;\n      _this.currentNativeSource = null;\n    });\n\n    _defineProperty(this, \"isNodeInDocument\", function (node) {\n      // Check the node either in the main document or in the current context\n      return Boolean(node && _this.document && _this.document.body && _this.document.body.contains(node));\n    });\n\n    _defineProperty(this, \"endDragIfSourceWasRemovedFromDOM\", function () {\n      var node = _this.currentDragSourceNode;\n\n      if (node == null || _this.isNodeInDocument(node)) {\n        return;\n      }\n\n      if (_this.clearCurrentDragSourceNode() && _this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragStartCapture\", function () {\n      _this.clearCurrentDragSourceNode();\n\n      _this.dragStartSourceIds = [];\n    });\n\n    _defineProperty(this, \"handleTopDragStart\", function (e) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      var dragStartSourceIds = _this.dragStartSourceIds;\n      _this.dragStartSourceIds = null;\n      var clientOffset = getEventClientOffset(e); // Avoid crashing if we missed a drop event or our previous drag died\n\n      if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      } // Don't publish the source just yet (see why below)\n\n\n      _this.actions.beginDrag(dragStartSourceIds || [], {\n        publishSource: false,\n        getSourceClientOffset: _this.getSourceClientOffset,\n        clientOffset: clientOffset\n      });\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (_this.monitor.isDragging()) {\n        if (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n          // Use custom drag image if user specifies it.\n          // If child drag source refuses drag but parent agrees,\n          // use parent's node as drag image. Neither works in IE though.\n          var sourceId = _this.monitor.getSourceId();\n\n          var sourceNode = _this.sourceNodes.get(sourceId);\n\n          var dragPreview = _this.sourcePreviewNodes.get(sourceId) || sourceNode;\n\n          if (dragPreview) {\n            var _this$getCurrentSourc = _this.getCurrentSourcePreviewNodeOptions(),\n                anchorX = _this$getCurrentSourc.anchorX,\n                anchorY = _this$getCurrentSourc.anchorY,\n                offsetX = _this$getCurrentSourc.offsetX,\n                offsetY = _this$getCurrentSourc.offsetY;\n\n            var anchorPoint = {\n              anchorX: anchorX,\n              anchorY: anchorY\n            };\n            var offsetPoint = {\n              offsetX: offsetX,\n              offsetY: offsetY\n            };\n            var dragPreviewOffset = getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);\n            dataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);\n          }\n        }\n\n        try {\n          // Firefox won't drag without setting data\n          dataTransfer === null || dataTransfer === void 0 ? void 0 : dataTransfer.setData('application/json', {});\n        } catch (err) {// IE doesn't support MIME types in setData\n        } // Store drag source node so we can check whether\n        // it is removed from DOM and trigger endDrag manually.\n\n\n        _this.setCurrentDragSourceNode(e.target); // Now we are ready to publish the drag source.. or are we not?\n\n\n        var _this$getCurrentSourc2 = _this.getCurrentSourcePreviewNodeOptions(),\n            captureDraggingState = _this$getCurrentSourc2.captureDraggingState;\n\n        if (!captureDraggingState) {\n          // Usually we want to publish it in the next tick so that browser\n          // is able to screenshot the current (not yet dragging) state.\n          //\n          // It also neatly avoids a situation where render() returns null\n          // in the same tick for the source element, and browser freaks out.\n          setTimeout(function () {\n            return _this.actions.publishDragSource();\n          }, 0);\n        } else {\n          // In some cases the user may want to override this behavior, e.g.\n          // to work around IE not supporting custom drag previews.\n          //\n          // When using a custom drag layer, the only way to prevent\n          // the default drag preview from drawing in IE is to screenshot\n          // the dragging state in which the node itself has zero opacity\n          // and height. In this case, though, returning null from render()\n          // will abruptly end the dragging, which is not obvious.\n          //\n          // This is the reason such behavior is strictly opt-in.\n          _this.actions.publishDragSource();\n        }\n      } else if (nativeType) {\n        // A native item (such as URL) dragged from inside the document\n        _this.beginDragNativeItem(nativeType);\n      } else if (dataTransfer && !dataTransfer.types && (e.target && !e.target.hasAttribute || !e.target.hasAttribute('draggable'))) {\n        // Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n        // Just let it drag. It's a native type (URL or text) and will be picked up in\n        // dragenter handler.\n        return;\n      } else {\n        // If by this time no drag source reacted, tell browser not to drag.\n        e.preventDefault();\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragEndCapture\", function () {\n      if (_this.clearCurrentDragSourceNode() && _this.monitor.isDragging()) {\n        // Firefox can dispatch this event in an infinite loop\n        // if dragend handler does something like showing an alert.\n        // Only proceed if we have not handled it already.\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragEnterCapture\", function (e) {\n      _this.dragEnterTargetIds = [];\n\n      var isFirstEnter = _this.enterLeaveCounter.enter(e.target);\n\n      if (!isFirstEnter || _this.monitor.isDragging()) {\n        return;\n      }\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (nativeType) {\n        // A native item (such as file or URL) dragged from outside the document\n        _this.beginDragNativeItem(nativeType, dataTransfer);\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragEnter\", function (e) {\n      var dragEnterTargetIds = _this.dragEnterTargetIds;\n      _this.dragEnterTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey; // If the target changes position as the result of `dragenter`, `dragover` might still\n      // get dispatched despite target being no longer there. The easy solution is to check\n      // whether there actually is a target before firing `hover`.\n\n      if (dragEnterTargetIds.length > 0) {\n        _this.actions.hover(dragEnterTargetIds, {\n          clientOffset: getEventClientOffset(e)\n        });\n      }\n\n      var canDrop = dragEnterTargetIds.some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // IE requires this to fire dragover events\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragOverCapture\", function () {\n      _this.dragOverTargetIds = [];\n    });\n\n    _defineProperty(this, \"handleTopDragOver\", function (e) {\n      var dragOverTargetIds = _this.dragOverTargetIds;\n      _this.dragOverTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        // Prevent default \"drop and blow away the whole document\" action.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n      _this.lastClientOffset = getEventClientOffset(e);\n\n      if (_this.hoverRafId === null && typeof requestAnimationFrame !== 'undefined') {\n        _this.hoverRafId = requestAnimationFrame(function () {\n          if (_this.monitor.isDragging()) {\n            _this.actions.hover(dragOverTargetIds || [], {\n              clientOffset: _this.lastClientOffset\n            });\n          }\n\n          _this.hoverRafId = null;\n        });\n      }\n\n      var canDrop = (dragOverTargetIds || []).some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // Show user-specified drop effect.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      } else if (_this.isDraggingNativeItem()) {\n        // Don't show a nice cursor but still prevent default\n        // \"drop and blow away the whole document\" action.\n        e.preventDefault();\n      } else {\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragLeaveCapture\", function (e) {\n      if (_this.isDraggingNativeItem()) {\n        e.preventDefault();\n      }\n\n      var isLastLeave = _this.enterLeaveCounter.leave(e.target);\n\n      if (!isLastLeave) {\n        return;\n      }\n\n      if (_this.isDraggingNativeItem()) {\n        setTimeout(function () {\n          return _this.endDragNativeItem();\n        }, 0);\n      }\n    });\n\n    _defineProperty(this, \"handleTopDropCapture\", function (e) {\n      _this.dropTargetIds = [];\n\n      if (_this.isDraggingNativeItem()) {\n        var _this$currentNativeSo;\n\n        e.preventDefault();\n        (_this$currentNativeSo = _this.currentNativeSource) === null || _this$currentNativeSo === void 0 ? void 0 : _this$currentNativeSo.loadDataTransfer(e.dataTransfer);\n      } else if (matchNativeItemType(e.dataTransfer)) {\n        // Dragging some elements, like <a> and <img> may still behave like a native drag event,\n        // even if the current drag event matches a user-defined type.\n        // Stop the default behavior when we're not expecting a native item to be dropped.\n        e.preventDefault();\n      }\n\n      _this.enterLeaveCounter.reset();\n    });\n\n    _defineProperty(this, \"handleTopDrop\", function (e) {\n      var dropTargetIds = _this.dropTargetIds;\n      _this.dropTargetIds = [];\n\n      _this.actions.hover(dropTargetIds, {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      _this.actions.drop({\n        dropEffect: _this.getCurrentDropEffect()\n      });\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      } else if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty(this, \"handleSelectStart\", function (e) {\n      var target = e.target; // Only IE requires us to explicitly say\n      // we want drag drop operation to start\n\n      if (typeof target.dragDrop !== 'function') {\n        return;\n      } // Inputs and textareas should be selectable\n\n\n      if (target.tagName === 'INPUT' || target.tagName === 'SELECT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\n        return;\n      } // For other targets, ask IE\n      // to enable drag and drop\n\n\n      e.preventDefault();\n      target.dragDrop();\n    });\n\n    this.options = new OptionsReader(globalContext, options);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.registry = manager.getRegistry();\n    this.enterLeaveCounter = new EnterLeaveCounter(this.isNodeInDocument);\n  }\n  /**\n   * Generate profiling statistics for the HTML5Backend.\n   */\n\n\n  _createClass(HTML5BackendImpl, [{\n    key: \"profile\",\n    value: function profile() {\n      var _this$dragStartSource, _this$dragOverTargetI;\n\n      return {\n        sourcePreviewNodes: this.sourcePreviewNodes.size,\n        sourcePreviewNodeOptions: this.sourcePreviewNodeOptions.size,\n        sourceNodeOptions: this.sourceNodeOptions.size,\n        sourceNodes: this.sourceNodes.size,\n        dragStartSourceIds: ((_this$dragStartSource = this.dragStartSourceIds) === null || _this$dragStartSource === void 0 ? void 0 : _this$dragStartSource.length) || 0,\n        dropTargetIds: this.dropTargetIds.length,\n        dragEnterTargetIds: this.dragEnterTargetIds.length,\n        dragOverTargetIds: ((_this$dragOverTargetI = this.dragOverTargetIds) === null || _this$dragOverTargetI === void 0 ? void 0 : _this$dragOverTargetI.length) || 0\n      };\n    } // public for test\n\n  }, {\n    key: \"window\",\n    get: function get() {\n      return this.options.window;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      return this.options.document;\n    }\n    /**\n     * Get the root element to use for event subscriptions\n     */\n\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      return this.options.rootElement;\n    }\n  }, {\n    key: \"setup\",\n    value: function setup() {\n      var root = this.rootElement;\n\n      if (root === undefined) {\n        return;\n      }\n\n      if (root.__isReactDndBackendSetUp) {\n        throw new Error('Cannot have two HTML5 backends at the same time.');\n      }\n\n      root.__isReactDndBackendSetUp = true;\n      this.addEventListeners(root);\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      var root = this.rootElement;\n\n      if (root === undefined) {\n        return;\n      }\n\n      root.__isReactDndBackendSetUp = false;\n      this.removeEventListeners(this.rootElement);\n      this.clearCurrentDragSourceNode();\n\n      if (this.asyncEndDragFrameId) {\n        var _this$window;\n\n        (_this$window = this.window) === null || _this$window === void 0 ? void 0 : _this$window.cancelAnimationFrame(this.asyncEndDragFrameId);\n      }\n    }\n  }, {\n    key: \"connectDragPreview\",\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this2 = this;\n\n      this.sourcePreviewNodeOptions.set(sourceId, options);\n      this.sourcePreviewNodes.set(sourceId, node);\n      return function () {\n        _this2.sourcePreviewNodes.delete(sourceId);\n\n        _this2.sourcePreviewNodeOptions.delete(sourceId);\n      };\n    }\n  }, {\n    key: \"connectDragSource\",\n    value: function connectDragSource(sourceId, node, options) {\n      var _this3 = this;\n\n      this.sourceNodes.set(sourceId, node);\n      this.sourceNodeOptions.set(sourceId, options);\n\n      var handleDragStart = function handleDragStart(e) {\n        return _this3.handleDragStart(e, sourceId);\n      };\n\n      var handleSelectStart = function handleSelectStart(e) {\n        return _this3.handleSelectStart(e);\n      };\n\n      node.setAttribute('draggable', 'true');\n      node.addEventListener('dragstart', handleDragStart);\n      node.addEventListener('selectstart', handleSelectStart);\n      return function () {\n        _this3.sourceNodes.delete(sourceId);\n\n        _this3.sourceNodeOptions.delete(sourceId);\n\n        node.removeEventListener('dragstart', handleDragStart);\n        node.removeEventListener('selectstart', handleSelectStart);\n        node.setAttribute('draggable', 'false');\n      };\n    }\n  }, {\n    key: \"connectDropTarget\",\n    value: function connectDropTarget(targetId, node) {\n      var _this4 = this;\n\n      var handleDragEnter = function handleDragEnter(e) {\n        return _this4.handleDragEnter(e, targetId);\n      };\n\n      var handleDragOver = function handleDragOver(e) {\n        return _this4.handleDragOver(e, targetId);\n      };\n\n      var handleDrop = function handleDrop(e) {\n        return _this4.handleDrop(e, targetId);\n      };\n\n      node.addEventListener('dragenter', handleDragEnter);\n      node.addEventListener('dragover', handleDragOver);\n      node.addEventListener('drop', handleDrop);\n      return function () {\n        node.removeEventListener('dragenter', handleDragEnter);\n        node.removeEventListener('dragover', handleDragOver);\n        node.removeEventListener('drop', handleDrop);\n      };\n    }\n  }, {\n    key: \"addEventListeners\",\n    value: function addEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.addEventListener) {\n        return;\n      }\n\n      target.addEventListener('dragstart', this.handleTopDragStart);\n      target.addEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.addEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.addEventListener('dragenter', this.handleTopDragEnter);\n      target.addEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.addEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.addEventListener('dragover', this.handleTopDragOver);\n      target.addEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.addEventListener('drop', this.handleTopDrop);\n      target.addEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"removeEventListeners\",\n    value: function removeEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.removeEventListener) {\n        return;\n      }\n\n      target.removeEventListener('dragstart', this.handleTopDragStart);\n      target.removeEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.removeEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.removeEventListener('dragenter', this.handleTopDragEnter);\n      target.removeEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.removeEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.removeEventListener('dragover', this.handleTopDragOver);\n      target.removeEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.removeEventListener('drop', this.handleTopDrop);\n      target.removeEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"getCurrentSourceNodeOptions\",\n    value: function getCurrentSourceNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourceNodeOptions = this.sourceNodeOptions.get(sourceId);\n      return _objectSpread({\n        dropEffect: this.altKeyPressed ? 'copy' : 'move'\n      }, sourceNodeOptions || {});\n    }\n  }, {\n    key: \"getCurrentDropEffect\",\n    value: function getCurrentDropEffect() {\n      if (this.isDraggingNativeItem()) {\n        // It makes more sense to default to 'copy' for native resources\n        return 'copy';\n      }\n\n      return this.getCurrentSourceNodeOptions().dropEffect;\n    }\n  }, {\n    key: \"getCurrentSourcePreviewNodeOptions\",\n    value: function getCurrentSourcePreviewNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId);\n      return _objectSpread({\n        anchorX: 0.5,\n        anchorY: 0.5,\n        captureDraggingState: false\n      }, sourcePreviewNodeOptions || {});\n    }\n  }, {\n    key: \"isDraggingNativeItem\",\n    value: function isDraggingNativeItem() {\n      var itemType = this.monitor.getItemType();\n      return Object.keys(NativeTypes).some(function (key) {\n        return NativeTypes[key] === itemType;\n      });\n    }\n  }, {\n    key: \"beginDragNativeItem\",\n    value: function beginDragNativeItem(type, dataTransfer) {\n      this.clearCurrentDragSourceNode();\n      this.currentNativeSource = createNativeDragSource(type, dataTransfer);\n      this.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);\n      this.actions.beginDrag([this.currentNativeHandle]);\n    }\n  }, {\n    key: \"setCurrentDragSourceNode\",\n    value: function setCurrentDragSourceNode(node) {\n      var _this5 = this;\n\n      this.clearCurrentDragSourceNode();\n      this.currentDragSourceNode = node; // A timeout of > 0 is necessary to resolve Firefox issue referenced\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n\n      var MOUSE_MOVE_TIMEOUT = 1000; // Receiving a mouse event in the middle of a dragging operation\n      // means it has ended and the drag source node disappeared from DOM,\n      // so the browser didn't dispatch the dragend event.\n      //\n      // We need to wait before we start listening for mousemove events.\n      // This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n      // immediately in some browsers.\n      //\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n      //\n\n      this.mouseMoveTimeoutTimer = setTimeout(function () {\n        var _this5$rootElement;\n\n        return (_this5$rootElement = _this5.rootElement) === null || _this5$rootElement === void 0 ? void 0 : _this5$rootElement.addEventListener('mousemove', _this5.endDragIfSourceWasRemovedFromDOM, true);\n      }, MOUSE_MOVE_TIMEOUT);\n    }\n  }, {\n    key: \"clearCurrentDragSourceNode\",\n    value: function clearCurrentDragSourceNode() {\n      if (this.currentDragSourceNode) {\n        this.currentDragSourceNode = null;\n\n        if (this.rootElement) {\n          var _this$window2;\n\n          (_this$window2 = this.window) === null || _this$window2 === void 0 ? void 0 : _this$window2.clearTimeout(this.mouseMoveTimeoutTimer || undefined);\n          this.rootElement.removeEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);\n        }\n\n        this.mouseMoveTimeoutTimer = null;\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"handleDragStart\",\n    value: function handleDragStart(e, sourceId) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      if (!this.dragStartSourceIds) {\n        this.dragStartSourceIds = [];\n      }\n\n      this.dragStartSourceIds.unshift(sourceId);\n    }\n  }, {\n    key: \"handleDragEnter\",\n    value: function handleDragEnter(e, targetId) {\n      this.dragEnterTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDragOver\",\n    value: function handleDragOver(e, targetId) {\n      if (this.dragOverTargetIds === null) {\n        this.dragOverTargetIds = [];\n      }\n\n      this.dragOverTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDrop\",\n    value: function handleDrop(e, targetId) {\n      this.dropTargetIds.unshift(targetId);\n    }\n  }]);\n\n  return HTML5BackendImpl;\n}();","import { HTML5BackendImpl } from './HTML5BackendImpl';\nimport * as NativeTypes from './NativeTypes';\nexport { getEmptyImage } from './getEmptyImage';\nexport { NativeTypes };\nexport var HTML5Backend = function createBackend(manager, context, options) {\n  return new HTML5BackendImpl(manager, context, options);\n};","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nconst PUBLISH = 0;\nconst SUBSCRIBE = 1;\nconst RESET = 2;\nconst VALUE = 4;\nfunction compose(a, b) {\n  return (arg) => a(b(arg));\n}\nfunction thrush(arg, proc) {\n  return proc(arg);\n}\nfunction curry2to1(proc, arg1) {\n  return (arg2) => proc(arg1, arg2);\n}\nfunction curry1to0(proc, arg) {\n  return () => proc(arg);\n}\nfunction tap(arg, proc) {\n  proc(arg);\n  return arg;\n}\nfunction tup(...args) {\n  return args;\n}\nfunction call(proc) {\n  proc();\n}\nfunction always(value) {\n  return () => value;\n}\nfunction joinProc(...procs) {\n  return () => {\n    procs.map(call);\n  };\n}\nfunction isDefined(arg) {\n  return arg !== void 0;\n}\nfunction noop() {\n}\nfunction subscribe(emitter, subscription) {\n  return emitter(SUBSCRIBE, subscription);\n}\nfunction publish(publisher, value) {\n  publisher(PUBLISH, value);\n}\nfunction reset(emitter) {\n  emitter(RESET);\n}\nfunction getValue(depot) {\n  return depot(VALUE);\n}\nfunction connect(emitter, publisher) {\n  return subscribe(emitter, curry2to1(publisher, PUBLISH));\n}\nfunction handleNext(emitter, subscription) {\n  const unsub = emitter(SUBSCRIBE, (value) => {\n    unsub();\n    subscription(value);\n  });\n  return unsub;\n}\nfunction stream() {\n  const subscriptions = [];\n  return (action, arg) => {\n    switch (action) {\n      case RESET:\n        subscriptions.splice(0, subscriptions.length);\n        return;\n      case SUBSCRIBE:\n        subscriptions.push(arg);\n        return () => {\n          const indexOf = subscriptions.indexOf(arg);\n          if (indexOf > -1) {\n            subscriptions.splice(indexOf, 1);\n          }\n        };\n      case PUBLISH:\n        subscriptions.slice().forEach((subscription) => {\n          subscription(arg);\n        });\n        return;\n      default:\n        throw new Error(`unrecognized action ${action}`);\n    }\n  };\n}\nfunction statefulStream(initial) {\n  let value = initial;\n  const innerSubject = stream();\n  return (action, arg) => {\n    switch (action) {\n      case SUBSCRIBE:\n        const subscription = arg;\n        subscription(value);\n        break;\n      case PUBLISH:\n        value = arg;\n        break;\n      case VALUE:\n        return value;\n    }\n    return innerSubject(action, arg);\n  };\n}\nfunction eventHandler(emitter) {\n  let unsub;\n  let currentSubscription;\n  const cleanup = () => unsub && unsub();\n  return function(action, subscription) {\n    switch (action) {\n      case SUBSCRIBE:\n        if (subscription) {\n          if (currentSubscription === subscription) {\n            return;\n          }\n          cleanup();\n          currentSubscription = subscription;\n          unsub = subscribe(emitter, subscription);\n          return unsub;\n        } else {\n          cleanup();\n          return noop;\n        }\n      case RESET:\n        cleanup();\n        currentSubscription = null;\n        return;\n      default:\n        throw new Error(`unrecognized action ${action}`);\n    }\n  };\n}\nfunction streamFromEmitter(emitter) {\n  return tap(stream(), (stream2) => connect(emitter, stream2));\n}\nfunction statefulStreamFromEmitter(emitter, initial) {\n  return tap(statefulStream(initial), (stream2) => connect(emitter, stream2));\n}\nfunction combineOperators(...operators) {\n  return (subscriber) => {\n    return operators.reduceRight(thrush, subscriber);\n  };\n}\nfunction pipe(source, ...operators) {\n  const project = combineOperators(...operators);\n  return (action, subscription) => {\n    switch (action) {\n      case SUBSCRIBE:\n        return subscribe(source, project(subscription));\n      case RESET:\n        reset(source);\n        return;\n    }\n  };\n}\nfunction defaultComparator(previous, next) {\n  return previous === next;\n}\nfunction distinctUntilChanged(comparator = defaultComparator) {\n  let current;\n  return (done) => (next) => {\n    if (!comparator(current, next)) {\n      current = next;\n      done(next);\n    }\n  };\n}\nfunction filter(predicate) {\n  return (done) => (value) => {\n    predicate(value) && done(value);\n  };\n}\nfunction map(project) {\n  return (done) => compose(done, project);\n}\nfunction mapTo(value) {\n  return (done) => () => done(value);\n}\nfunction scan(scanner, initial) {\n  return (done) => (value) => done(initial = scanner(initial, value));\n}\nfunction skip(times) {\n  return (done) => (value) => {\n    times > 0 ? times-- : done(value);\n  };\n}\nfunction throttleTime(interval) {\n  let currentValue = null;\n  let timeout;\n  return (done) => (value) => {\n    currentValue = value;\n    if (timeout) {\n      return;\n    }\n    timeout = setTimeout(() => {\n      timeout = void 0;\n      done(currentValue);\n    }, interval);\n  };\n}\nfunction debounceTime(interval) {\n  let currentValue;\n  let timeout;\n  return (done) => (value) => {\n    currentValue = value;\n    if (timeout) {\n      clearTimeout(timeout);\n    }\n    timeout = setTimeout(() => {\n      done(currentValue);\n    }, interval);\n  };\n}\nfunction withLatestFrom(...sources) {\n  const values = new Array(sources.length);\n  let called = 0;\n  let pendingCall = null;\n  const allCalled = Math.pow(2, sources.length) - 1;\n  sources.forEach((source, index) => {\n    const bit = Math.pow(2, index);\n    subscribe(source, (value) => {\n      const prevCalled = called;\n      called = called | bit;\n      values[index] = value;\n      if (prevCalled !== allCalled && called === allCalled && pendingCall) {\n        pendingCall();\n        pendingCall = null;\n      }\n    });\n  });\n  return (done) => (value) => {\n    const call2 = () => done([value].concat(values));\n    if (called === allCalled) {\n      call2();\n    } else {\n      pendingCall = call2;\n    }\n  };\n}\nfunction merge(...sources) {\n  return function(action, subscription) {\n    switch (action) {\n      case SUBSCRIBE:\n        return joinProc(...sources.map((source) => subscribe(source, subscription)));\n      case RESET:\n        return;\n      default:\n        throw new Error(`unrecognized action ${action}`);\n    }\n  };\n}\nfunction duc(source, comparator = defaultComparator) {\n  return pipe(source, distinctUntilChanged(comparator));\n}\nfunction combineLatest(...emitters) {\n  const innerSubject = stream();\n  const values = new Array(emitters.length);\n  let called = 0;\n  const allCalled = Math.pow(2, emitters.length) - 1;\n  emitters.forEach((source, index) => {\n    const bit = Math.pow(2, index);\n    subscribe(source, (value) => {\n      values[index] = value;\n      called = called | bit;\n      if (called === allCalled) {\n        publish(innerSubject, values);\n      }\n    });\n  });\n  return function(action, subscription) {\n    switch (action) {\n      case SUBSCRIBE:\n        if (called === allCalled) {\n          subscription(values);\n        }\n        return subscribe(innerSubject, subscription);\n      case RESET:\n        return reset(innerSubject);\n      default:\n        throw new Error(`unrecognized action ${action}`);\n    }\n  };\n}\nfunction system(constructor, dependencies = [], { singleton } = { singleton: true }) {\n  return {\n    id: id(),\n    constructor,\n    dependencies,\n    singleton\n  };\n}\nconst id = () => Symbol();\nfunction init(systemSpec) {\n  const singletons = /* @__PURE__ */ new Map();\n  const _init = ({ id: id2, constructor, dependencies, singleton }) => {\n    if (singleton && singletons.has(id2)) {\n      return singletons.get(id2);\n    }\n    const system2 = constructor(dependencies.map((e) => _init(e)));\n    if (singleton) {\n      singletons.set(id2, system2);\n    }\n    return system2;\n  };\n  return _init(systemSpec);\n}\nfunction omit(keys, obj) {\n  const result = {};\n  const index = {};\n  let idx = 0;\n  const len = keys.length;\n  while (idx < len) {\n    index[keys[idx]] = 1;\n    idx += 1;\n  }\n  for (const prop in obj) {\n    if (!index.hasOwnProperty(prop)) {\n      result[prop] = obj[prop];\n    }\n  }\n  return result;\n}\nconst useIsomorphicLayoutEffect$2 = typeof document !== \"undefined\" ? React.useLayoutEffect : React.useEffect;\nfunction systemToComponent(systemSpec, map2, Root) {\n  const requiredPropNames = Object.keys(map2.required || {});\n  const optionalPropNames = Object.keys(map2.optional || {});\n  const methodNames = Object.keys(map2.methods || {});\n  const eventNames = Object.keys(map2.events || {});\n  const Context = React.createContext({});\n  function applyPropsToSystem(system2, props) {\n    if (system2[\"propsReady\"]) {\n      publish(system2[\"propsReady\"], false);\n    }\n    for (const requiredPropName of requiredPropNames) {\n      const stream2 = system2[map2.required[requiredPropName]];\n      publish(stream2, props[requiredPropName]);\n    }\n    for (const optionalPropName of optionalPropNames) {\n      if (optionalPropName in props) {\n        const stream2 = system2[map2.optional[optionalPropName]];\n        publish(stream2, props[optionalPropName]);\n      }\n    }\n    if (system2[\"propsReady\"]) {\n      publish(system2[\"propsReady\"], true);\n    }\n  }\n  function buildMethods(system2) {\n    return methodNames.reduce((acc, methodName) => {\n      acc[methodName] = (value) => {\n        const stream2 = system2[map2.methods[methodName]];\n        publish(stream2, value);\n      };\n      return acc;\n    }, {});\n  }\n  function buildEventHandlers(system2) {\n    return eventNames.reduce((handlers, eventName) => {\n      handlers[eventName] = eventHandler(system2[map2.events[eventName]]);\n      return handlers;\n    }, {});\n  }\n  const Component = React.forwardRef((propsWithChildren, ref) => {\n    const { children, ...props } = propsWithChildren;\n    const [system2] = React.useState(() => {\n      return tap(init(systemSpec), (system22) => applyPropsToSystem(system22, props));\n    });\n    const [handlers] = React.useState(curry1to0(buildEventHandlers, system2));\n    useIsomorphicLayoutEffect$2(() => {\n      for (const eventName of eventNames) {\n        if (eventName in props) {\n          subscribe(handlers[eventName], props[eventName]);\n        }\n      }\n      return () => {\n        Object.values(handlers).map(reset);\n      };\n    }, [props, handlers, system2]);\n    useIsomorphicLayoutEffect$2(() => {\n      applyPropsToSystem(system2, props);\n    });\n    React.useImperativeHandle(ref, always(buildMethods(system2)));\n    return React.createElement(\n      Context.Provider,\n      { value: system2 },\n      Root ? React.createElement(\n        Root,\n        omit([...requiredPropNames, ...optionalPropNames, ...eventNames], props),\n        children\n      ) : children\n    );\n  });\n  const usePublisher2 = (key) => {\n    return React.useCallback(curry2to1(publish, React.useContext(Context)[key]), [key]);\n  };\n  const useEmitterValue2 = (key) => {\n    const system2 = React.useContext(Context);\n    const source = system2[key];\n    const [value, setValue] = React.useState(curry1to0(getValue, source));\n    useIsomorphicLayoutEffect$2(\n      () => subscribe(source, (next) => {\n        if (next !== value) {\n          setValue(always(next));\n        }\n      }),\n      [source, value]\n    );\n    return value;\n  };\n  const useEmitter2 = (key, callback) => {\n    const context = React.useContext(Context);\n    const source = context[key];\n    useIsomorphicLayoutEffect$2(() => subscribe(source, callback), [callback, source]);\n  };\n  return {\n    Component,\n    usePublisher: usePublisher2,\n    useEmitterValue: useEmitterValue2,\n    useEmitter: useEmitter2\n  };\n}\nconst useIsomorphicLayoutEffect = typeof document !== \"undefined\" ? React.useLayoutEffect : React.useEffect;\nconst useIsomorphicLayoutEffect$1 = useIsomorphicLayoutEffect;\nvar LogLevel = /* @__PURE__ */ ((LogLevel2) => {\n  LogLevel2[LogLevel2[\"DEBUG\"] = 0] = \"DEBUG\";\n  LogLevel2[LogLevel2[\"INFO\"] = 1] = \"INFO\";\n  LogLevel2[LogLevel2[\"WARN\"] = 2] = \"WARN\";\n  LogLevel2[LogLevel2[\"ERROR\"] = 3] = \"ERROR\";\n  return LogLevel2;\n})(LogLevel || {});\nconst CONSOLE_METHOD_MAP = {\n  [\n    0\n    /* DEBUG */\n  ]: \"debug\",\n  [\n    1\n    /* INFO */\n  ]: \"log\",\n  [\n    2\n    /* WARN */\n  ]: \"warn\",\n  [\n    3\n    /* ERROR */\n  ]: \"error\"\n};\nconst getGlobalThis = () => typeof globalThis === \"undefined\" ? window : globalThis;\nconst loggerSystem = system(\n  () => {\n    const logLevel = statefulStream(\n      3\n      /* ERROR */\n    );\n    const log = statefulStream((label, message, level = 1) => {\n      var _a;\n      const currentLevel = (_a = getGlobalThis()[\"VIRTUOSO_LOG_LEVEL\"]) != null ? _a : getValue(logLevel);\n      if (level >= currentLevel) {\n        console[CONSOLE_METHOD_MAP[level]](\n          \"%creact-virtuoso: %c%s %o\",\n          \"color: #0253b3; font-weight: bold\",\n          \"color: initial\",\n          label,\n          message\n        );\n      }\n    });\n    return {\n      log,\n      logLevel\n    };\n  },\n  [],\n  { singleton: true }\n);\nfunction useSizeWithElRef(callback, enabled = true) {\n  const ref = React.useRef(null);\n  let callbackRef = (_el) => {\n  };\n  if (typeof ResizeObserver !== \"undefined\") {\n    const observer = React.useMemo(() => {\n      return new ResizeObserver((entries) => {\n        const element = entries[0].target;\n        if (element.offsetParent !== null) {\n          callback(element);\n        }\n      });\n    }, [callback]);\n    callbackRef = (elRef) => {\n      if (elRef && enabled) {\n        observer.observe(elRef);\n        ref.current = elRef;\n      } else {\n        if (ref.current) {\n          observer.unobserve(ref.current);\n        }\n        ref.current = null;\n      }\n    };\n  }\n  return { ref, callbackRef };\n}\nfunction useSize(callback, enabled = true) {\n  return useSizeWithElRef(callback, enabled).callbackRef;\n}\nfunction useChangedListContentsSizes(callback, itemSize, enabled, scrollContainerStateCallback, log, gap, customScrollParent) {\n  const memoedCallback = React.useCallback(\n    (el) => {\n      const ranges = getChangedChildSizes(el.children, itemSize, \"offsetHeight\", log);\n      let scrollableElement = el.parentElement;\n      while (!scrollableElement.dataset[\"virtuosoScroller\"]) {\n        scrollableElement = scrollableElement.parentElement;\n      }\n      const windowScrolling = scrollableElement.lastElementChild.dataset[\"viewportType\"] === \"window\";\n      const scrollTop = customScrollParent ? customScrollParent.scrollTop : windowScrolling ? window.pageYOffset || document.documentElement.scrollTop : scrollableElement.scrollTop;\n      const scrollHeight = customScrollParent ? customScrollParent.scrollHeight : windowScrolling ? document.documentElement.scrollHeight : scrollableElement.scrollHeight;\n      const viewportHeight = customScrollParent ? customScrollParent.offsetHeight : windowScrolling ? window.innerHeight : scrollableElement.offsetHeight;\n      scrollContainerStateCallback({\n        scrollTop: Math.max(scrollTop, 0),\n        scrollHeight,\n        viewportHeight\n      });\n      gap == null ? void 0 : gap(resolveGapValue$1(\"row-gap\", getComputedStyle(el).rowGap, log));\n      if (ranges !== null) {\n        callback(ranges);\n      }\n    },\n    [callback, itemSize, log, gap, customScrollParent, scrollContainerStateCallback]\n  );\n  return useSizeWithElRef(memoedCallback, enabled);\n}\nfunction getChangedChildSizes(children, itemSize, field, log) {\n  const length = children.length;\n  if (length === 0) {\n    return null;\n  }\n  const results = [];\n  for (let i = 0; i < length; i++) {\n    const child = children.item(i);\n    if (!child || child.dataset.index === void 0) {\n      continue;\n    }\n    const index = parseInt(child.dataset.index);\n    const knownSize = parseFloat(child.dataset.knownSize);\n    const size = itemSize(child, field);\n    if (size === 0) {\n      log(\"Zero-sized element, this should not happen\", { child }, LogLevel.ERROR);\n    }\n    if (size === knownSize) {\n      continue;\n    }\n    const lastResult = results[results.length - 1];\n    if (results.length === 0 || lastResult.size !== size || lastResult.endIndex !== index - 1) {\n      results.push({ startIndex: index, endIndex: index, size });\n    } else {\n      results[results.length - 1].endIndex++;\n    }\n  }\n  return results;\n}\nfunction resolveGapValue$1(property, value, log) {\n  if (value !== \"normal\" && !(value == null ? void 0 : value.endsWith(\"px\"))) {\n    log(`${property} was not resolved to pixel value correctly`, value, LogLevel.WARN);\n  }\n  if (value === \"normal\") {\n    return 0;\n  }\n  return parseInt(value != null ? value : \"0\", 10);\n}\nfunction correctItemSize(el, dimension) {\n  return Math.round(el.getBoundingClientRect()[dimension]);\n}\nfunction approximatelyEqual(num1, num2) {\n  return Math.abs(num1 - num2) < 1.01;\n}\nfunction useScrollTop(scrollContainerStateCallback, smoothScrollTargetReached, scrollerElement, scrollerRefCallback = noop, customScrollParent) {\n  const scrollerRef = React.useRef(null);\n  const scrollTopTarget = React.useRef(null);\n  const timeoutRef = React.useRef(null);\n  const handler = React.useCallback(\n    (ev) => {\n      const el = ev.target;\n      const windowScroll = el === window || el === document;\n      const scrollTop = windowScroll ? window.pageYOffset || document.documentElement.scrollTop : el.scrollTop;\n      const scrollHeight = windowScroll ? document.documentElement.scrollHeight : el.scrollHeight;\n      const viewportHeight = windowScroll ? window.innerHeight : el.offsetHeight;\n      const call2 = () => {\n        scrollContainerStateCallback({\n          scrollTop: Math.max(scrollTop, 0),\n          scrollHeight,\n          viewportHeight\n        });\n      };\n      if (ev.suppressFlushSync) {\n        call2();\n      } else {\n        ReactDOM.flushSync(call2);\n      }\n      if (scrollTopTarget.current !== null) {\n        if (scrollTop === scrollTopTarget.current || scrollTop <= 0 || scrollTop === scrollHeight - viewportHeight) {\n          scrollTopTarget.current = null;\n          smoothScrollTargetReached(true);\n          if (timeoutRef.current) {\n            clearTimeout(timeoutRef.current);\n            timeoutRef.current = null;\n          }\n        }\n      }\n    },\n    [scrollContainerStateCallback, smoothScrollTargetReached]\n  );\n  React.useEffect(() => {\n    const localRef = customScrollParent ? customScrollParent : scrollerRef.current;\n    scrollerRefCallback(customScrollParent ? customScrollParent : scrollerRef.current);\n    handler({ target: localRef, suppressFlushSync: true });\n    localRef.addEventListener(\"scroll\", handler, { passive: true });\n    return () => {\n      scrollerRefCallback(null);\n      localRef.removeEventListener(\"scroll\", handler);\n    };\n  }, [scrollerRef, handler, scrollerElement, scrollerRefCallback, customScrollParent]);\n  function scrollToCallback(location) {\n    const scrollerElement2 = scrollerRef.current;\n    if (!scrollerElement2 || \"offsetHeight\" in scrollerElement2 && scrollerElement2.offsetHeight === 0) {\n      return;\n    }\n    const isSmooth = location.behavior === \"smooth\";\n    let offsetHeight;\n    let scrollHeight;\n    let scrollTop;\n    if (scrollerElement2 === window) {\n      scrollHeight = Math.max(correctItemSize(document.documentElement, \"height\"), document.documentElement.scrollHeight);\n      offsetHeight = window.innerHeight;\n      scrollTop = document.documentElement.scrollTop;\n    } else {\n      scrollHeight = scrollerElement2.scrollHeight;\n      offsetHeight = correctItemSize(scrollerElement2, \"height\");\n      scrollTop = scrollerElement2.scrollTop;\n    }\n    const maxScrollTop = scrollHeight - offsetHeight;\n    location.top = Math.ceil(Math.max(Math.min(maxScrollTop, location.top), 0));\n    if (approximatelyEqual(offsetHeight, scrollHeight) || location.top === scrollTop) {\n      scrollContainerStateCallback({ scrollTop, scrollHeight, viewportHeight: offsetHeight });\n      if (isSmooth) {\n        smoothScrollTargetReached(true);\n      }\n      return;\n    }\n    if (isSmooth) {\n      scrollTopTarget.current = location.top;\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n      timeoutRef.current = setTimeout(() => {\n        timeoutRef.current = null;\n        scrollTopTarget.current = null;\n        smoothScrollTargetReached(true);\n      }, 1e3);\n    } else {\n      scrollTopTarget.current = null;\n    }\n    scrollerElement2.scrollTo(location);\n  }\n  function scrollByCallback(location) {\n    scrollerRef.current.scrollBy(location);\n  }\n  return { scrollerRef, scrollByCallback, scrollToCallback };\n}\nconst domIOSystem = system(\n  () => {\n    const scrollContainerState = stream();\n    const scrollTop = stream();\n    const deviation = statefulStream(0);\n    const smoothScrollTargetReached = stream();\n    const statefulScrollTop = statefulStream(0);\n    const viewportHeight = stream();\n    const scrollHeight = stream();\n    const headerHeight = statefulStream(0);\n    const fixedHeaderHeight = statefulStream(0);\n    const fixedFooterHeight = statefulStream(0);\n    const footerHeight = statefulStream(0);\n    const scrollTo = stream();\n    const scrollBy = stream();\n    const scrollingInProgress = statefulStream(false);\n    connect(\n      pipe(\n        scrollContainerState,\n        map(({ scrollTop: scrollTop2 }) => scrollTop2)\n      ),\n      scrollTop\n    );\n    connect(\n      pipe(\n        scrollContainerState,\n        map(({ scrollHeight: scrollHeight2 }) => scrollHeight2)\n      ),\n      scrollHeight\n    );\n    connect(scrollTop, statefulScrollTop);\n    return {\n      // input\n      scrollContainerState,\n      scrollTop,\n      viewportHeight,\n      headerHeight,\n      fixedHeaderHeight,\n      fixedFooterHeight,\n      footerHeight,\n      scrollHeight,\n      smoothScrollTargetReached,\n      // signals\n      scrollTo,\n      scrollBy,\n      // state\n      statefulScrollTop,\n      deviation,\n      scrollingInProgress\n    };\n  },\n  [],\n  { singleton: true }\n);\nconst NIL_NODE = { lvl: 0 };\nfunction newAANode(k, v, lvl, l = NIL_NODE, r = NIL_NODE) {\n  return { k, v, lvl, l, r };\n}\nfunction empty(node) {\n  return node === NIL_NODE;\n}\nfunction newTree() {\n  return NIL_NODE;\n}\nfunction remove(node, key) {\n  if (empty(node))\n    return NIL_NODE;\n  const { k, l, r } = node;\n  if (key === k) {\n    if (empty(l)) {\n      return r;\n    } else if (empty(r)) {\n      return l;\n    } else {\n      const [lastKey, lastValue] = last(l);\n      return adjust(clone(node, { k: lastKey, v: lastValue, l: deleteLast(l) }));\n    }\n  } else if (key < k) {\n    return adjust(clone(node, { l: remove(l, key) }));\n  } else {\n    return adjust(clone(node, { r: remove(r, key) }));\n  }\n}\nfunction find(node, key) {\n  if (empty(node)) {\n    return;\n  }\n  if (key === node.k) {\n    return node.v;\n  } else if (key < node.k) {\n    return find(node.l, key);\n  } else {\n    return find(node.r, key);\n  }\n}\nfunction findMaxKeyValue(node, value, field = \"k\") {\n  if (empty(node)) {\n    return [-Infinity, void 0];\n  }\n  if (Number(node[field]) === value) {\n    return [node.k, node.v];\n  }\n  if (Number(node[field]) < value) {\n    const r = findMaxKeyValue(node.r, value, field);\n    if (r[0] === -Infinity) {\n      return [node.k, node.v];\n    } else {\n      return r;\n    }\n  }\n  return findMaxKeyValue(node.l, value, field);\n}\nfunction insert(node, k, v) {\n  if (empty(node)) {\n    return newAANode(k, v, 1);\n  }\n  if (k === node.k) {\n    return clone(node, { k, v });\n  } else if (k < node.k) {\n    return rebalance(clone(node, { l: insert(node.l, k, v) }));\n  } else {\n    return rebalance(clone(node, { r: insert(node.r, k, v) }));\n  }\n}\nfunction walkWithin(node, start, end) {\n  if (empty(node)) {\n    return [];\n  }\n  const { k, v, l, r } = node;\n  let result = [];\n  if (k > start) {\n    result = result.concat(walkWithin(l, start, end));\n  }\n  if (k >= start && k <= end) {\n    result.push({ k, v });\n  }\n  if (k <= end) {\n    result = result.concat(walkWithin(r, start, end));\n  }\n  return result;\n}\nfunction walk(node) {\n  if (empty(node)) {\n    return [];\n  }\n  return [...walk(node.l), { k: node.k, v: node.v }, ...walk(node.r)];\n}\nfunction last(node) {\n  return empty(node.r) ? [node.k, node.v] : last(node.r);\n}\nfunction deleteLast(node) {\n  return empty(node.r) ? node.l : adjust(clone(node, { r: deleteLast(node.r) }));\n}\nfunction clone(node, args) {\n  return newAANode(\n    args.k !== void 0 ? args.k : node.k,\n    args.v !== void 0 ? args.v : node.v,\n    args.lvl !== void 0 ? args.lvl : node.lvl,\n    args.l !== void 0 ? args.l : node.l,\n    args.r !== void 0 ? args.r : node.r\n  );\n}\nfunction isSingle(node) {\n  return empty(node) || node.lvl > node.r.lvl;\n}\nfunction rebalance(node) {\n  return split(skew(node));\n}\nfunction adjust(node) {\n  const { l, r, lvl } = node;\n  if (r.lvl >= lvl - 1 && l.lvl >= lvl - 1) {\n    return node;\n  } else if (lvl > r.lvl + 1) {\n    if (isSingle(l)) {\n      return skew(clone(node, { lvl: lvl - 1 }));\n    } else {\n      if (!empty(l) && !empty(l.r)) {\n        return clone(l.r, {\n          l: clone(l, { r: l.r.l }),\n          r: clone(node, {\n            l: l.r.r,\n            lvl: lvl - 1\n          }),\n          lvl\n        });\n      } else {\n        throw new Error(\"Unexpected empty nodes\");\n      }\n    }\n  } else {\n    if (isSingle(node)) {\n      return split(clone(node, { lvl: lvl - 1 }));\n    } else {\n      if (!empty(r) && !empty(r.l)) {\n        const rl = r.l;\n        const rlvl = isSingle(rl) ? r.lvl - 1 : r.lvl;\n        return clone(rl, {\n          l: clone(node, {\n            r: rl.l,\n            lvl: lvl - 1\n          }),\n          r: split(clone(r, { l: rl.r, lvl: rlvl })),\n          lvl: rl.lvl + 1\n        });\n      } else {\n        throw new Error(\"Unexpected empty nodes\");\n      }\n    }\n  }\n}\nfunction rangesWithin(node, startIndex, endIndex) {\n  if (empty(node)) {\n    return [];\n  }\n  const adjustedStart = findMaxKeyValue(node, startIndex)[0];\n  return toRanges(walkWithin(node, adjustedStart, endIndex));\n}\nfunction arrayToRanges(items, parser) {\n  const length = items.length;\n  if (length === 0) {\n    return [];\n  }\n  let { index: start, value } = parser(items[0]);\n  const result = [];\n  for (let i = 1; i < length; i++) {\n    const { index: nextIndex, value: nextValue } = parser(items[i]);\n    result.push({ start, end: nextIndex - 1, value });\n    start = nextIndex;\n    value = nextValue;\n  }\n  result.push({ start, end: Infinity, value });\n  return result;\n}\nfunction toRanges(nodes) {\n  return arrayToRanges(nodes, ({ k: index, v: value }) => ({ index, value }));\n}\nfunction split(node) {\n  const { r, lvl } = node;\n  return !empty(r) && !empty(r.r) && r.lvl === lvl && r.r.lvl === lvl ? clone(r, { l: clone(node, { r: r.l }), lvl: lvl + 1 }) : node;\n}\nfunction skew(node) {\n  const { l } = node;\n  return !empty(l) && l.lvl === node.lvl ? clone(l, { r: clone(node, { l: l.r }) }) : node;\n}\nfunction findIndexOfClosestSmallerOrEqual(items, value, comparator, start = 0) {\n  let end = items.length - 1;\n  while (start <= end) {\n    const index = Math.floor((start + end) / 2);\n    const item = items[index];\n    const match = comparator(item, value);\n    if (match === 0) {\n      return index;\n    }\n    if (match === -1) {\n      if (end - start < 2) {\n        return index - 1;\n      }\n      end = index - 1;\n    } else {\n      if (end === start) {\n        return index;\n      }\n      start = index + 1;\n    }\n  }\n  throw new Error(`Failed binary finding record in array - ${items.join(\",\")}, searched for ${value}`);\n}\nfunction findClosestSmallerOrEqual(items, value, comparator) {\n  return items[findIndexOfClosestSmallerOrEqual(items, value, comparator)];\n}\nfunction findRange(items, startValue, endValue, comparator) {\n  const startIndex = findIndexOfClosestSmallerOrEqual(items, startValue, comparator);\n  const endIndex = findIndexOfClosestSmallerOrEqual(items, endValue, comparator, startIndex);\n  return items.slice(startIndex, endIndex + 1);\n}\nconst recalcSystem = system(\n  () => {\n    const recalcInProgress = statefulStream(false);\n    return { recalcInProgress };\n  },\n  [],\n  { singleton: true }\n);\nfunction rangeIncludes(refRange) {\n  const { size, startIndex, endIndex } = refRange;\n  return (range) => {\n    return range.start === startIndex && (range.end === endIndex || range.end === Infinity) && range.value === size;\n  };\n}\nfunction affectedGroupCount(offset, groupIndices) {\n  let recognizedOffsetItems = 0;\n  let groupIndex = 0;\n  while (recognizedOffsetItems < offset) {\n    recognizedOffsetItems += groupIndices[groupIndex + 1] - groupIndices[groupIndex] - 1;\n    groupIndex++;\n  }\n  const offsetIsExact = recognizedOffsetItems === offset;\n  return groupIndex - (offsetIsExact ? 0 : 1);\n}\nfunction insertRanges(sizeTree, ranges) {\n  let syncStart = empty(sizeTree) ? 0 : Infinity;\n  for (const range of ranges) {\n    const { size, startIndex, endIndex } = range;\n    syncStart = Math.min(syncStart, startIndex);\n    if (empty(sizeTree)) {\n      sizeTree = insert(sizeTree, 0, size);\n      continue;\n    }\n    const overlappingRanges = rangesWithin(sizeTree, startIndex - 1, endIndex + 1);\n    if (overlappingRanges.some(rangeIncludes(range))) {\n      continue;\n    }\n    let firstPassDone = false;\n    let shouldInsert = false;\n    for (const { start: rangeStart, end: rangeEnd, value: rangeValue } of overlappingRanges) {\n      if (!firstPassDone) {\n        shouldInsert = rangeValue !== size;\n        firstPassDone = true;\n      } else {\n        if (endIndex >= rangeStart || size === rangeValue) {\n          sizeTree = remove(sizeTree, rangeStart);\n        }\n      }\n      if (rangeEnd > endIndex && endIndex >= rangeStart) {\n        if (rangeValue !== size) {\n          sizeTree = insert(sizeTree, endIndex + 1, rangeValue);\n        }\n      }\n    }\n    if (shouldInsert) {\n      sizeTree = insert(sizeTree, startIndex, size);\n    }\n  }\n  return [sizeTree, syncStart];\n}\nfunction initialSizeState() {\n  return {\n    offsetTree: [],\n    sizeTree: newTree(),\n    groupOffsetTree: newTree(),\n    lastIndex: 0,\n    lastOffset: 0,\n    lastSize: 0,\n    groupIndices: []\n  };\n}\nfunction indexComparator({ index: itemIndex }, index) {\n  return index === itemIndex ? 0 : index < itemIndex ? -1 : 1;\n}\nfunction offsetComparator({ offset: itemOffset }, offset) {\n  return offset === itemOffset ? 0 : offset < itemOffset ? -1 : 1;\n}\nfunction offsetPointParser(point) {\n  return { index: point.index, value: point };\n}\nfunction rangesWithinOffsets(tree, startOffset, endOffset, minStartIndex = 0) {\n  if (minStartIndex > 0) {\n    startOffset = Math.max(startOffset, findClosestSmallerOrEqual(tree, minStartIndex, indexComparator).offset);\n  }\n  return arrayToRanges(findRange(tree, startOffset, endOffset, offsetComparator), offsetPointParser);\n}\nfunction createOffsetTree(prevOffsetTree, syncStart, sizeTree, gap) {\n  let offsetTree = prevOffsetTree;\n  let prevIndex = 0;\n  let prevSize = 0;\n  let prevOffset = 0;\n  let startIndex = 0;\n  if (syncStart !== 0) {\n    startIndex = findIndexOfClosestSmallerOrEqual(offsetTree, syncStart - 1, indexComparator);\n    const offsetInfo = offsetTree[startIndex];\n    prevOffset = offsetInfo.offset;\n    const kv = findMaxKeyValue(sizeTree, syncStart - 1);\n    prevIndex = kv[0];\n    prevSize = kv[1];\n    if (offsetTree.length && offsetTree[startIndex].size === findMaxKeyValue(sizeTree, syncStart)[1]) {\n      startIndex -= 1;\n    }\n    offsetTree = offsetTree.slice(0, startIndex + 1);\n  } else {\n    offsetTree = [];\n  }\n  for (const { start: startIndex2, value } of rangesWithin(sizeTree, syncStart, Infinity)) {\n    const indexOffset = startIndex2 - prevIndex;\n    const aOffset = indexOffset * prevSize + prevOffset + indexOffset * gap;\n    offsetTree.push({\n      offset: aOffset,\n      size: value,\n      index: startIndex2\n    });\n    prevIndex = startIndex2;\n    prevOffset = aOffset;\n    prevSize = value;\n  }\n  return {\n    offsetTree,\n    lastIndex: prevIndex,\n    lastOffset: prevOffset,\n    lastSize: prevSize\n  };\n}\nfunction sizeStateReducer(state, [ranges, groupIndices, log, gap]) {\n  if (ranges.length > 0) {\n    log(\"received item sizes\", ranges, LogLevel.DEBUG);\n  }\n  const sizeTree = state.sizeTree;\n  let newSizeTree = sizeTree;\n  let syncStart = 0;\n  if (groupIndices.length > 0 && empty(sizeTree) && ranges.length === 2) {\n    const groupSize = ranges[0].size;\n    const itemSize = ranges[1].size;\n    newSizeTree = groupIndices.reduce((tree, groupIndex) => {\n      return insert(insert(tree, groupIndex, groupSize), groupIndex + 1, itemSize);\n    }, newSizeTree);\n  } else {\n    [newSizeTree, syncStart] = insertRanges(newSizeTree, ranges);\n  }\n  if (newSizeTree === sizeTree) {\n    return state;\n  }\n  const { offsetTree: newOffsetTree, lastIndex, lastSize, lastOffset } = createOffsetTree(state.offsetTree, syncStart, newSizeTree, gap);\n  return {\n    sizeTree: newSizeTree,\n    offsetTree: newOffsetTree,\n    lastIndex,\n    lastOffset,\n    lastSize,\n    groupOffsetTree: groupIndices.reduce((tree, index) => {\n      return insert(tree, index, offsetOf(index, newOffsetTree, gap));\n    }, newTree()),\n    groupIndices\n  };\n}\nfunction offsetOf(index, tree, gap) {\n  if (tree.length === 0) {\n    return 0;\n  }\n  const { offset, index: startIndex, size } = findClosestSmallerOrEqual(tree, index, indexComparator);\n  const itemCount = index - startIndex;\n  const top = size * itemCount + (itemCount - 1) * gap + offset;\n  return top > 0 ? top + gap : top;\n}\nfunction isGroupLocation(location) {\n  return typeof location.groupIndex !== \"undefined\";\n}\nfunction originalIndexFromLocation(location, sizes, lastIndex) {\n  if (isGroupLocation(location)) {\n    return sizes.groupIndices[location.groupIndex] + 1;\n  } else {\n    const numericIndex = location.index === \"LAST\" ? lastIndex : location.index;\n    let result = originalIndexFromItemIndex(numericIndex, sizes);\n    result = Math.max(0, result, Math.min(lastIndex, result));\n    return result;\n  }\n}\nfunction originalIndexFromItemIndex(itemIndex, sizes) {\n  if (!hasGroups(sizes)) {\n    return itemIndex;\n  }\n  let groupOffset = 0;\n  while (sizes.groupIndices[groupOffset] <= itemIndex + groupOffset) {\n    groupOffset++;\n  }\n  return itemIndex + groupOffset;\n}\nfunction hasGroups(sizes) {\n  return !empty(sizes.groupOffsetTree);\n}\nfunction sizeTreeToRanges(sizeTree) {\n  return walk(sizeTree).map(({ k: startIndex, v: size }, index, sizeArray) => {\n    const nextSize = sizeArray[index + 1];\n    const endIndex = nextSize ? nextSize.k - 1 : Infinity;\n    return { startIndex, endIndex, size };\n  });\n}\nconst SIZE_MAP = {\n  offsetHeight: \"height\",\n  offsetWidth: \"width\"\n};\nconst sizeSystem = system(\n  ([{ log }, { recalcInProgress }]) => {\n    const sizeRanges = stream();\n    const totalCount = stream();\n    const statefulTotalCount = statefulStreamFromEmitter(totalCount, 0);\n    const unshiftWith = stream();\n    const shiftWith = stream();\n    const firstItemIndex = statefulStream(0);\n    const groupIndices = statefulStream([]);\n    const fixedItemSize = statefulStream(void 0);\n    const defaultItemSize = statefulStream(void 0);\n    const itemSize = statefulStream((el, field) => correctItemSize(el, SIZE_MAP[field]));\n    const data = statefulStream(void 0);\n    const gap = statefulStream(0);\n    const initial = initialSizeState();\n    const sizes = statefulStreamFromEmitter(\n      pipe(sizeRanges, withLatestFrom(groupIndices, log, gap), scan(sizeStateReducer, initial), distinctUntilChanged()),\n      initial\n    );\n    const prevGroupIndices = statefulStreamFromEmitter(\n      pipe(\n        groupIndices,\n        distinctUntilChanged(),\n        scan((prev, curr) => ({ prev: prev.current, current: curr }), {\n          prev: [],\n          current: []\n        }),\n        map(({ prev }) => prev)\n      ),\n      []\n    );\n    connect(\n      pipe(\n        groupIndices,\n        filter((indexes) => indexes.length > 0),\n        withLatestFrom(sizes, gap),\n        map(([groupIndices2, sizes2, gap2]) => {\n          const groupOffsetTree = groupIndices2.reduce((tree, index, idx) => {\n            return insert(tree, index, offsetOf(index, sizes2.offsetTree, gap2) || idx);\n          }, newTree());\n          return {\n            ...sizes2,\n            groupIndices: groupIndices2,\n            groupOffsetTree\n          };\n        })\n      ),\n      sizes\n    );\n    connect(\n      pipe(\n        totalCount,\n        withLatestFrom(sizes),\n        filter(([totalCount2, { lastIndex }]) => {\n          return totalCount2 < lastIndex;\n        }),\n        map(([totalCount2, { lastIndex, lastSize }]) => {\n          return [\n            {\n              startIndex: totalCount2,\n              endIndex: lastIndex,\n              size: lastSize\n            }\n          ];\n        })\n      ),\n      sizeRanges\n    );\n    connect(fixedItemSize, defaultItemSize);\n    const trackItemSizes = statefulStreamFromEmitter(\n      pipe(\n        fixedItemSize,\n        map((size) => size === void 0)\n      ),\n      true\n    );\n    connect(\n      pipe(\n        defaultItemSize,\n        filter((value) => {\n          return value !== void 0 && empty(getValue(sizes).sizeTree);\n        }),\n        map((size) => [{ startIndex: 0, endIndex: 0, size }])\n      ),\n      sizeRanges\n    );\n    const listRefresh = streamFromEmitter(\n      pipe(\n        sizeRanges,\n        withLatestFrom(sizes),\n        scan(\n          ({ sizes: oldSizes }, [_, newSizes]) => {\n            return {\n              changed: newSizes !== oldSizes,\n              sizes: newSizes\n            };\n          },\n          { changed: false, sizes: initial }\n        ),\n        map((value) => value.changed)\n      )\n    );\n    subscribe(\n      pipe(\n        firstItemIndex,\n        scan(\n          (prev, next) => {\n            return { diff: prev.prev - next, prev: next };\n          },\n          { diff: 0, prev: 0 }\n        ),\n        map((val) => val.diff)\n      ),\n      (offset) => {\n        const { groupIndices: groupIndices2 } = getValue(sizes);\n        if (offset > 0) {\n          publish(recalcInProgress, true);\n          publish(unshiftWith, offset + affectedGroupCount(offset, groupIndices2));\n        } else if (offset < 0) {\n          const prevGroupIndicesValue = getValue(prevGroupIndices);\n          if (prevGroupIndicesValue.length > 0) {\n            offset -= affectedGroupCount(-offset, prevGroupIndicesValue);\n          }\n          publish(shiftWith, offset);\n        }\n      }\n    );\n    subscribe(pipe(firstItemIndex, withLatestFrom(log)), ([index, log2]) => {\n      if (index < 0) {\n        log2(\n          \"`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value\",\n          { firstItemIndex },\n          LogLevel.ERROR\n        );\n      }\n    });\n    const beforeUnshiftWith = streamFromEmitter(unshiftWith);\n    connect(\n      pipe(\n        unshiftWith,\n        withLatestFrom(sizes),\n        map(([unshiftWith2, sizes2]) => {\n          const groupedMode = sizes2.groupIndices.length > 0;\n          const initialRanges = [];\n          const defaultSize = sizes2.lastSize;\n          if (groupedMode) {\n            const firstGroupSize = find(sizes2.sizeTree, 0);\n            let prependedGroupItemsCount = 0;\n            let groupIndex = 0;\n            while (prependedGroupItemsCount < unshiftWith2) {\n              const theGroupIndex = sizes2.groupIndices[groupIndex];\n              const groupItemCount = sizes2.groupIndices.length === groupIndex + 1 ? Infinity : sizes2.groupIndices[groupIndex + 1] - theGroupIndex - 1;\n              initialRanges.push({\n                startIndex: theGroupIndex,\n                endIndex: theGroupIndex,\n                size: firstGroupSize\n              });\n              initialRanges.push({\n                startIndex: theGroupIndex + 1,\n                endIndex: theGroupIndex + 1 + groupItemCount - 1,\n                size: defaultSize\n              });\n              groupIndex++;\n              prependedGroupItemsCount += groupItemCount + 1;\n            }\n            const sizeTreeKV = walk(sizes2.sizeTree);\n            const firstGroupIsExpanded = prependedGroupItemsCount !== unshiftWith2;\n            if (firstGroupIsExpanded) {\n              sizeTreeKV.shift();\n            }\n            return sizeTreeKV.reduce(\n              (acc, { k: index, v: size }) => {\n                let ranges = acc.ranges;\n                if (acc.prevSize !== 0) {\n                  ranges = [\n                    ...acc.ranges,\n                    {\n                      startIndex: acc.prevIndex,\n                      endIndex: index + unshiftWith2 - 1,\n                      size: acc.prevSize\n                    }\n                  ];\n                }\n                return {\n                  ranges,\n                  prevIndex: index + unshiftWith2,\n                  prevSize: size\n                };\n              },\n              {\n                ranges: initialRanges,\n                prevIndex: unshiftWith2,\n                prevSize: 0\n              }\n            ).ranges;\n          }\n          return walk(sizes2.sizeTree).reduce(\n            (acc, { k: index, v: size }) => {\n              return {\n                ranges: [...acc.ranges, { startIndex: acc.prevIndex, endIndex: index + unshiftWith2 - 1, size: acc.prevSize }],\n                prevIndex: index + unshiftWith2,\n                prevSize: size\n              };\n            },\n            {\n              ranges: [],\n              prevIndex: 0,\n              prevSize: defaultSize\n            }\n          ).ranges;\n        })\n      ),\n      sizeRanges\n    );\n    const shiftWithOffset = streamFromEmitter(\n      pipe(\n        shiftWith,\n        withLatestFrom(sizes, gap),\n        map(([shiftWith2, { offsetTree }, gap2]) => {\n          const newFirstItemIndex = -shiftWith2;\n          return offsetOf(newFirstItemIndex, offsetTree, gap2);\n        })\n      )\n    );\n    connect(\n      pipe(\n        shiftWith,\n        withLatestFrom(sizes, gap),\n        map(([shiftWith2, sizes2, gap2]) => {\n          const groupedMode = sizes2.groupIndices.length > 0;\n          if (groupedMode) {\n            if (empty(sizes2.sizeTree)) {\n              return sizes2;\n            }\n            let newSizeTree = newTree();\n            const prevGroupIndicesValue = getValue(prevGroupIndices);\n            let removedItemsCount = 0;\n            let groupIndex = 0;\n            let groupOffset = 0;\n            while (removedItemsCount < -shiftWith2) {\n              groupOffset = prevGroupIndicesValue[groupIndex];\n              const groupItemCount = prevGroupIndicesValue[groupIndex + 1] - groupOffset - 1;\n              groupIndex++;\n              removedItemsCount += groupItemCount + 1;\n            }\n            newSizeTree = walk(sizes2.sizeTree).reduce((acc, { k, v }) => {\n              return insert(acc, Math.max(0, k + shiftWith2), v);\n            }, newSizeTree);\n            const aGroupIsShrunk = removedItemsCount !== -shiftWith2;\n            if (aGroupIsShrunk) {\n              const firstGroupSize = find(sizes2.sizeTree, groupOffset);\n              newSizeTree = insert(newSizeTree, 0, firstGroupSize);\n              const nextItemSize = findMaxKeyValue(sizes2.sizeTree, -shiftWith2 + 1)[1];\n              newSizeTree = insert(newSizeTree, 1, nextItemSize);\n            }\n            return {\n              ...sizes2,\n              sizeTree: newSizeTree,\n              ...createOffsetTree(sizes2.offsetTree, 0, newSizeTree, gap2)\n            };\n          } else {\n            const newSizeTree = walk(sizes2.sizeTree).reduce((acc, { k, v }) => {\n              return insert(acc, Math.max(0, k + shiftWith2), v);\n            }, newTree());\n            return {\n              ...sizes2,\n              sizeTree: newSizeTree,\n              ...createOffsetTree(sizes2.offsetTree, 0, newSizeTree, gap2)\n            };\n          }\n        })\n      ),\n      sizes\n    );\n    return {\n      // input\n      data,\n      totalCount,\n      sizeRanges,\n      groupIndices,\n      defaultItemSize,\n      fixedItemSize,\n      unshiftWith,\n      shiftWith,\n      shiftWithOffset,\n      beforeUnshiftWith,\n      firstItemIndex,\n      gap,\n      // output\n      sizes,\n      listRefresh,\n      statefulTotalCount,\n      trackItemSizes,\n      itemSize\n    };\n  },\n  tup(loggerSystem, recalcSystem),\n  { singleton: true }\n);\nconst SUPPORTS_SCROLL_TO_OPTIONS = typeof document !== \"undefined\" && \"scrollBehavior\" in document.documentElement.style;\nfunction normalizeIndexLocation(location) {\n  const result = typeof location === \"number\" ? { index: location } : location;\n  if (!result.align) {\n    result.align = \"start\";\n  }\n  if (!result.behavior || !SUPPORTS_SCROLL_TO_OPTIONS) {\n    result.behavior = \"auto\";\n  }\n  if (!result.offset) {\n    result.offset = 0;\n  }\n  return result;\n}\nconst scrollToIndexSystem = system(\n  ([\n    { sizes, totalCount, listRefresh, gap },\n    {\n      scrollingInProgress,\n      viewportHeight,\n      scrollTo,\n      smoothScrollTargetReached,\n      headerHeight,\n      footerHeight,\n      fixedHeaderHeight,\n      fixedFooterHeight\n    },\n    { log }\n  ]) => {\n    const scrollToIndex = stream();\n    const topListHeight = statefulStream(0);\n    let unsubscribeNextListRefresh = null;\n    let cleartTimeoutRef = null;\n    let unsubscribeListRefresh = null;\n    function cleanup() {\n      if (unsubscribeNextListRefresh) {\n        unsubscribeNextListRefresh();\n        unsubscribeNextListRefresh = null;\n      }\n      if (unsubscribeListRefresh) {\n        unsubscribeListRefresh();\n        unsubscribeListRefresh = null;\n      }\n      if (cleartTimeoutRef) {\n        clearTimeout(cleartTimeoutRef);\n        cleartTimeoutRef = null;\n      }\n      publish(scrollingInProgress, false);\n    }\n    connect(\n      pipe(\n        scrollToIndex,\n        withLatestFrom(sizes, viewportHeight, totalCount, topListHeight, headerHeight, footerHeight, log),\n        withLatestFrom(gap, fixedHeaderHeight, fixedFooterHeight),\n        map(\n          ([\n            [location, sizes2, viewportHeight2, totalCount2, topListHeight2, headerHeight2, footerHeight2, log2],\n            gap2,\n            fixedHeaderHeight2,\n            fixedFooterHeight2\n          ]) => {\n            const normalLocation = normalizeIndexLocation(location);\n            const { align, behavior, offset } = normalLocation;\n            const lastIndex = totalCount2 - 1;\n            const index = originalIndexFromLocation(normalLocation, sizes2, lastIndex);\n            let top = offsetOf(index, sizes2.offsetTree, gap2) + headerHeight2;\n            if (align === \"end\") {\n              top += fixedHeaderHeight2 + findMaxKeyValue(sizes2.sizeTree, index)[1] - viewportHeight2 + fixedFooterHeight2;\n              if (index === lastIndex) {\n                top += footerHeight2;\n              }\n            } else if (align === \"center\") {\n              top += (fixedHeaderHeight2 + findMaxKeyValue(sizes2.sizeTree, index)[1] - viewportHeight2 + fixedFooterHeight2) / 2;\n            } else {\n              top -= topListHeight2;\n            }\n            if (offset) {\n              top += offset;\n            }\n            const retry = (listChanged) => {\n              cleanup();\n              if (listChanged) {\n                log2(\"retrying to scroll to\", { location }, LogLevel.DEBUG);\n                publish(scrollToIndex, location);\n              } else {\n                log2(\"list did not change, scroll successful\", {}, LogLevel.DEBUG);\n              }\n            };\n            cleanup();\n            if (behavior === \"smooth\") {\n              let listChanged = false;\n              unsubscribeListRefresh = subscribe(listRefresh, (changed) => {\n                listChanged = listChanged || changed;\n              });\n              unsubscribeNextListRefresh = handleNext(smoothScrollTargetReached, () => {\n                retry(listChanged);\n              });\n            } else {\n              unsubscribeNextListRefresh = handleNext(pipe(listRefresh, watchChangesFor(150)), retry);\n            }\n            cleartTimeoutRef = setTimeout(() => {\n              cleanup();\n            }, 1200);\n            publish(scrollingInProgress, true);\n            log2(\"scrolling from index to\", { index, top, behavior }, LogLevel.DEBUG);\n            return { top, behavior };\n          }\n        )\n      ),\n      scrollTo\n    );\n    return {\n      scrollToIndex,\n      topListHeight\n    };\n  },\n  tup(sizeSystem, domIOSystem, loggerSystem),\n  { singleton: true }\n);\nfunction watchChangesFor(limit) {\n  return (done) => {\n    const timeoutRef = setTimeout(() => {\n      done(false);\n    }, limit);\n    return (value) => {\n      if (value) {\n        done(true);\n        clearTimeout(timeoutRef);\n      }\n    };\n  };\n}\nconst UP = \"up\";\nconst DOWN = \"down\";\nconst NONE$1 = \"none\";\nconst INITIAL_BOTTOM_STATE = {\n  atBottom: false,\n  notAtBottomBecause: \"NOT_SHOWING_LAST_ITEM\",\n  state: {\n    offsetBottom: 0,\n    scrollTop: 0,\n    viewportHeight: 0,\n    scrollHeight: 0\n  }\n};\nconst DEFAULT_AT_TOP_THRESHOLD = 0;\nconst stateFlagsSystem = system(([{ scrollContainerState, scrollTop, viewportHeight, headerHeight, footerHeight, scrollBy }]) => {\n  const isAtBottom = statefulStream(false);\n  const isAtTop = statefulStream(true);\n  const atBottomStateChange = stream();\n  const atTopStateChange = stream();\n  const atBottomThreshold = statefulStream(4);\n  const atTopThreshold = statefulStream(DEFAULT_AT_TOP_THRESHOLD);\n  const isScrolling = statefulStreamFromEmitter(\n    pipe(\n      merge(pipe(duc(scrollTop), skip(1), mapTo(true)), pipe(duc(scrollTop), skip(1), mapTo(false), debounceTime(100))),\n      distinctUntilChanged()\n    ),\n    false\n  );\n  const isScrollingBy = statefulStreamFromEmitter(\n    pipe(merge(pipe(scrollBy, mapTo(true)), pipe(scrollBy, mapTo(false), debounceTime(200))), distinctUntilChanged()),\n    false\n  );\n  connect(\n    pipe(\n      combineLatest(duc(scrollTop), duc(atTopThreshold)),\n      map(([top, atTopThreshold2]) => top <= atTopThreshold2),\n      distinctUntilChanged()\n    ),\n    isAtTop\n  );\n  connect(pipe(isAtTop, throttleTime(50)), atTopStateChange);\n  const atBottomState = streamFromEmitter(\n    pipe(\n      combineLatest(scrollContainerState, duc(viewportHeight), duc(headerHeight), duc(footerHeight), duc(atBottomThreshold)),\n      scan((current, [{ scrollTop: scrollTop2, scrollHeight }, viewportHeight2, _headerHeight, _footerHeight, atBottomThreshold2]) => {\n        const isAtBottom2 = scrollTop2 + viewportHeight2 - scrollHeight > -atBottomThreshold2;\n        const state = {\n          viewportHeight: viewportHeight2,\n          scrollTop: scrollTop2,\n          scrollHeight\n        };\n        if (isAtBottom2) {\n          let atBottomBecause;\n          let scrollTopDelta;\n          if (scrollTop2 > current.state.scrollTop) {\n            atBottomBecause = \"SCROLLED_DOWN\";\n            scrollTopDelta = current.state.scrollTop - scrollTop2;\n          } else {\n            atBottomBecause = \"SIZE_DECREASED\";\n            scrollTopDelta = current.state.scrollTop - scrollTop2 || current.scrollTopDelta;\n          }\n          return {\n            atBottom: true,\n            state,\n            atBottomBecause,\n            scrollTopDelta\n          };\n        }\n        let notAtBottomBecause;\n        if (state.scrollHeight > current.state.scrollHeight) {\n          notAtBottomBecause = \"SIZE_INCREASED\";\n        } else if (viewportHeight2 < current.state.viewportHeight) {\n          notAtBottomBecause = \"VIEWPORT_HEIGHT_DECREASING\";\n        } else if (scrollTop2 < current.state.scrollTop) {\n          notAtBottomBecause = \"SCROLLING_UPWARDS\";\n        } else {\n          notAtBottomBecause = \"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM\";\n        }\n        return {\n          atBottom: false,\n          notAtBottomBecause,\n          state\n        };\n      }, INITIAL_BOTTOM_STATE),\n      distinctUntilChanged((prev, next) => {\n        return prev && prev.atBottom === next.atBottom;\n      })\n    )\n  );\n  const lastJumpDueToItemResize = statefulStreamFromEmitter(\n    pipe(\n      scrollContainerState,\n      scan(\n        (current, { scrollTop: scrollTop2, scrollHeight, viewportHeight: viewportHeight2 }) => {\n          if (!approximatelyEqual(current.scrollHeight, scrollHeight)) {\n            const atBottom = scrollHeight - (scrollTop2 + viewportHeight2) < 1;\n            if (current.scrollTop !== scrollTop2 && atBottom) {\n              return {\n                scrollHeight,\n                scrollTop: scrollTop2,\n                jump: current.scrollTop - scrollTop2,\n                changed: true\n              };\n            } else {\n              return {\n                scrollHeight,\n                scrollTop: scrollTop2,\n                jump: 0,\n                changed: true\n              };\n            }\n          } else {\n            return {\n              scrollTop: scrollTop2,\n              scrollHeight,\n              jump: 0,\n              changed: false\n            };\n          }\n        },\n        { scrollHeight: 0, jump: 0, scrollTop: 0, changed: false }\n      ),\n      filter((value) => value.changed),\n      map((value) => value.jump)\n    ),\n    0\n  );\n  connect(\n    pipe(\n      atBottomState,\n      map((state) => state.atBottom)\n    ),\n    isAtBottom\n  );\n  connect(pipe(isAtBottom, throttleTime(50)), atBottomStateChange);\n  const scrollDirection = statefulStream(DOWN);\n  connect(\n    pipe(\n      scrollContainerState,\n      map(({ scrollTop: scrollTop2 }) => scrollTop2),\n      distinctUntilChanged(),\n      scan(\n        (acc, scrollTop2) => {\n          if (getValue(isScrollingBy)) {\n            return { direction: acc.direction, prevScrollTop: scrollTop2 };\n          }\n          return { direction: scrollTop2 < acc.prevScrollTop ? UP : DOWN, prevScrollTop: scrollTop2 };\n        },\n        { direction: DOWN, prevScrollTop: 0 }\n      ),\n      map((value) => value.direction)\n    ),\n    scrollDirection\n  );\n  connect(pipe(scrollContainerState, throttleTime(50), mapTo(NONE$1)), scrollDirection);\n  const scrollVelocity = statefulStream(0);\n  connect(\n    pipe(\n      isScrolling,\n      filter((value) => !value),\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n      mapTo(0)\n    ),\n    scrollVelocity\n  );\n  connect(\n    pipe(\n      scrollTop,\n      throttleTime(100),\n      withLatestFrom(isScrolling),\n      filter(([_, isScrolling2]) => !!isScrolling2),\n      scan(([_, prev], [next]) => [prev, next], [0, 0]),\n      map(([prev, next]) => next - prev)\n    ),\n    scrollVelocity\n  );\n  return {\n    isScrolling,\n    isAtTop,\n    isAtBottom,\n    atBottomState,\n    atTopStateChange,\n    atBottomStateChange,\n    scrollDirection,\n    atBottomThreshold,\n    atTopThreshold,\n    scrollVelocity,\n    lastJumpDueToItemResize\n  };\n}, tup(domIOSystem));\nconst propsReadySystem = system(\n  ([{ log }]) => {\n    const propsReady = statefulStream(false);\n    const didMount = streamFromEmitter(\n      pipe(\n        propsReady,\n        filter((ready) => ready),\n        distinctUntilChanged()\n      )\n    );\n    subscribe(propsReady, (value) => {\n      value && getValue(log)(\"props updated\", {}, LogLevel.DEBUG);\n    });\n    return { propsReady, didMount };\n  },\n  tup(loggerSystem),\n  { singleton: true }\n);\nfunction skipFrames(frameCount, callback) {\n  if (frameCount == 0) {\n    callback();\n  } else {\n    requestAnimationFrame(() => skipFrames(frameCount - 1, callback));\n  }\n}\nfunction getInitialTopMostItemIndexNumber(location, totalCount) {\n  const lastIndex = totalCount - 1;\n  const index = typeof location === \"number\" ? location : location.index === \"LAST\" ? lastIndex : location.index;\n  return index;\n}\nconst initialTopMostItemIndexSystem = system(\n  ([{ sizes, listRefresh, defaultItemSize }, { scrollTop }, { scrollToIndex }, { didMount }]) => {\n    const scrolledToInitialItem = statefulStream(true);\n    const initialTopMostItemIndex = statefulStream(0);\n    const scrollScheduled = statefulStream(false);\n    connect(\n      pipe(\n        didMount,\n        withLatestFrom(initialTopMostItemIndex),\n        filter(([_, location]) => !!location),\n        mapTo(false)\n      ),\n      scrolledToInitialItem\n    );\n    subscribe(\n      pipe(\n        combineLatest(listRefresh, didMount),\n        withLatestFrom(scrolledToInitialItem, sizes, defaultItemSize, scrollScheduled),\n        filter(([[, didMount2], scrolledToInitialItem2, { sizeTree }, defaultItemSize2, scrollScheduled2]) => {\n          return didMount2 && (!empty(sizeTree) || isDefined(defaultItemSize2)) && !scrolledToInitialItem2 && !scrollScheduled2;\n        }),\n        withLatestFrom(initialTopMostItemIndex)\n      ),\n      ([, initialTopMostItemIndex2]) => {\n        publish(scrollScheduled, true);\n        skipFrames(3, () => {\n          handleNext(scrollTop, () => publish(scrolledToInitialItem, true));\n          publish(scrollToIndex, initialTopMostItemIndex2);\n        });\n      }\n    );\n    return {\n      scrolledToInitialItem,\n      initialTopMostItemIndex\n    };\n  },\n  tup(sizeSystem, domIOSystem, scrollToIndexSystem, propsReadySystem),\n  { singleton: true }\n);\nfunction normalizeFollowOutput(follow) {\n  if (!follow) {\n    return false;\n  }\n  return follow === \"smooth\" ? \"smooth\" : \"auto\";\n}\nconst behaviorFromFollowOutput = (follow, isAtBottom) => {\n  if (typeof follow === \"function\") {\n    return normalizeFollowOutput(follow(isAtBottom));\n  }\n  return isAtBottom && normalizeFollowOutput(follow);\n};\nconst followOutputSystem = system(\n  ([\n    { totalCount, listRefresh },\n    { isAtBottom, atBottomState },\n    { scrollToIndex },\n    { scrolledToInitialItem },\n    { propsReady, didMount },\n    { log },\n    { scrollingInProgress }\n  ]) => {\n    const followOutput = statefulStream(false);\n    const autoscrollToBottom = stream();\n    let pendingScrollHandle = null;\n    function scrollToBottom(followOutputBehavior) {\n      publish(scrollToIndex, {\n        index: \"LAST\",\n        align: \"end\",\n        behavior: followOutputBehavior\n      });\n    }\n    subscribe(\n      pipe(\n        combineLatest(pipe(duc(totalCount), skip(1)), didMount),\n        withLatestFrom(duc(followOutput), isAtBottom, scrolledToInitialItem, scrollingInProgress),\n        map(([[totalCount2, didMount2], followOutput2, isAtBottom2, scrolledToInitialItem2, scrollingInProgress2]) => {\n          let shouldFollow = didMount2 && scrolledToInitialItem2;\n          let followOutputBehavior = \"auto\";\n          if (shouldFollow) {\n            followOutputBehavior = behaviorFromFollowOutput(followOutput2, isAtBottom2 || scrollingInProgress2);\n            shouldFollow = shouldFollow && !!followOutputBehavior;\n          }\n          return { totalCount: totalCount2, shouldFollow, followOutputBehavior };\n        }),\n        filter(({ shouldFollow }) => shouldFollow)\n      ),\n      ({ totalCount: totalCount2, followOutputBehavior }) => {\n        if (pendingScrollHandle) {\n          pendingScrollHandle();\n          pendingScrollHandle = null;\n        }\n        pendingScrollHandle = handleNext(listRefresh, () => {\n          getValue(log)(\"following output to \", { totalCount: totalCount2 }, LogLevel.DEBUG);\n          scrollToBottom(followOutputBehavior);\n          pendingScrollHandle = null;\n        });\n      }\n    );\n    function trapNextSizeIncrease(followOutput2) {\n      const cancel = handleNext(atBottomState, (state) => {\n        if (followOutput2 && !state.atBottom && state.notAtBottomBecause === \"SIZE_INCREASED\" && !pendingScrollHandle) {\n          getValue(log)(\"scrolling to bottom due to increased size\", {}, LogLevel.DEBUG);\n          scrollToBottom(\"auto\");\n        }\n      });\n      setTimeout(cancel, 100);\n    }\n    subscribe(\n      pipe(\n        combineLatest(duc(followOutput), totalCount, propsReady),\n        filter(([follow, , ready]) => follow && ready),\n        scan(\n          ({ value }, [, next]) => {\n            return { refreshed: value === next, value: next };\n          },\n          { refreshed: false, value: 0 }\n        ),\n        filter(({ refreshed }) => refreshed),\n        withLatestFrom(followOutput, totalCount)\n      ),\n      ([, followOutput2]) => {\n        trapNextSizeIncrease(followOutput2 !== false);\n      }\n    );\n    subscribe(autoscrollToBottom, () => {\n      trapNextSizeIncrease(getValue(followOutput) !== false);\n    });\n    subscribe(combineLatest(duc(followOutput), atBottomState), ([followOutput2, state]) => {\n      if (followOutput2 && !state.atBottom && state.notAtBottomBecause === \"VIEWPORT_HEIGHT_DECREASING\") {\n        scrollToBottom(\"auto\");\n      }\n    });\n    return { followOutput, autoscrollToBottom };\n  },\n  tup(sizeSystem, stateFlagsSystem, scrollToIndexSystem, initialTopMostItemIndexSystem, propsReadySystem, loggerSystem, domIOSystem)\n);\nfunction groupCountsToIndicesAndCount(counts) {\n  return counts.reduce(\n    (acc, groupCount) => {\n      acc.groupIndices.push(acc.totalCount);\n      acc.totalCount += groupCount + 1;\n      return acc;\n    },\n    {\n      totalCount: 0,\n      groupIndices: []\n    }\n  );\n}\nconst groupedListSystem = system(([{ totalCount, groupIndices, sizes }, { scrollTop, headerHeight }]) => {\n  const groupCounts = stream();\n  const topItemsIndexes = stream();\n  const groupIndicesAndCount = streamFromEmitter(pipe(groupCounts, map(groupCountsToIndicesAndCount)));\n  connect(\n    pipe(\n      groupIndicesAndCount,\n      map((value) => value.totalCount)\n    ),\n    totalCount\n  );\n  connect(\n    pipe(\n      groupIndicesAndCount,\n      map((value) => value.groupIndices)\n    ),\n    groupIndices\n  );\n  connect(\n    pipe(\n      combineLatest(scrollTop, sizes, headerHeight),\n      filter(([_, sizes2]) => hasGroups(sizes2)),\n      map(([scrollTop2, state, headerHeight2]) => findMaxKeyValue(state.groupOffsetTree, Math.max(scrollTop2 - headerHeight2, 0), \"v\")[0]),\n      distinctUntilChanged(),\n      map((index) => [index])\n    ),\n    topItemsIndexes\n  );\n  return { groupCounts, topItemsIndexes };\n}, tup(sizeSystem, domIOSystem));\nfunction tupleComparator(prev, current) {\n  return !!(prev && prev[0] === current[0] && prev[1] === current[1]);\n}\nfunction rangeComparator(prev, next) {\n  return !!(prev && prev.startIndex === next.startIndex && prev.endIndex === next.endIndex);\n}\nconst TOP = \"top\";\nconst BOTTOM = \"bottom\";\nconst NONE = \"none\";\nfunction getOverscan(overscan, end, direction) {\n  if (typeof overscan === \"number\") {\n    return direction === UP && end === TOP || direction === DOWN && end === BOTTOM ? overscan : 0;\n  } else {\n    if (direction === UP) {\n      return end === TOP ? overscan.main : overscan.reverse;\n    } else {\n      return end === BOTTOM ? overscan.main : overscan.reverse;\n    }\n  }\n}\nfunction getViewportIncrease(value, end) {\n  return typeof value === \"number\" ? value : value[end] || 0;\n}\nconst sizeRangeSystem = system(\n  ([{ scrollTop, viewportHeight, deviation, headerHeight, fixedHeaderHeight }]) => {\n    const listBoundary = stream();\n    const topListHeight = statefulStream(0);\n    const increaseViewportBy = statefulStream(0);\n    const overscan = statefulStream(0);\n    const visibleRange = statefulStreamFromEmitter(\n      pipe(\n        combineLatest(\n          duc(scrollTop),\n          duc(viewportHeight),\n          duc(headerHeight),\n          duc(listBoundary, tupleComparator),\n          duc(overscan),\n          duc(topListHeight),\n          duc(fixedHeaderHeight),\n          duc(deviation),\n          duc(increaseViewportBy)\n        ),\n        map(\n          ([\n            scrollTop2,\n            viewportHeight2,\n            headerHeight2,\n            [listTop, listBottom],\n            overscan2,\n            topListHeight2,\n            fixedHeaderHeight2,\n            deviation2,\n            increaseViewportBy2\n          ]) => {\n            const top = scrollTop2 - deviation2;\n            const stickyHeaderHeight = topListHeight2 + fixedHeaderHeight2;\n            const headerVisible = Math.max(headerHeight2 - top, 0);\n            let direction = NONE;\n            const topViewportAddition = getViewportIncrease(increaseViewportBy2, TOP);\n            const bottomViewportAddition = getViewportIncrease(increaseViewportBy2, BOTTOM);\n            listTop -= deviation2;\n            listTop += headerHeight2 + fixedHeaderHeight2;\n            listBottom += headerHeight2 + fixedHeaderHeight2;\n            listBottom -= deviation2;\n            if (listTop > scrollTop2 + stickyHeaderHeight - topViewportAddition) {\n              direction = UP;\n            }\n            if (listBottom < scrollTop2 - headerVisible + viewportHeight2 + bottomViewportAddition) {\n              direction = DOWN;\n            }\n            if (direction !== NONE) {\n              return [\n                Math.max(top - headerHeight2 - getOverscan(overscan2, TOP, direction) - topViewportAddition, 0),\n                top - headerVisible - fixedHeaderHeight2 + viewportHeight2 + getOverscan(overscan2, BOTTOM, direction) + bottomViewportAddition\n              ];\n            }\n            return null;\n          }\n        ),\n        filter((value) => value != null),\n        distinctUntilChanged(tupleComparator)\n      ),\n      [0, 0]\n    );\n    return {\n      // input\n      listBoundary,\n      overscan,\n      topListHeight,\n      increaseViewportBy,\n      // output\n      visibleRange\n    };\n  },\n  tup(domIOSystem),\n  { singleton: true }\n);\nfunction probeItemSet(index, sizes, data) {\n  if (hasGroups(sizes)) {\n    const itemIndex = originalIndexFromItemIndex(index, sizes);\n    const groupIndex = findMaxKeyValue(sizes.groupOffsetTree, itemIndex)[0];\n    return [\n      { index: groupIndex, size: 0, offset: 0 },\n      { index: itemIndex, size: 0, offset: 0, data: data && data[0] }\n    ];\n  }\n  return [{ index, size: 0, offset: 0, data: data && data[0] }];\n}\nconst EMPTY_LIST_STATE = {\n  items: [],\n  topItems: [],\n  offsetTop: 0,\n  offsetBottom: 0,\n  top: 0,\n  bottom: 0,\n  topListHeight: 0,\n  totalCount: 0,\n  firstItemIndex: 0\n};\nfunction transposeItems(items, sizes, firstItemIndex) {\n  if (items.length === 0) {\n    return [];\n  }\n  if (!hasGroups(sizes)) {\n    return items.map((item) => ({ ...item, index: item.index + firstItemIndex, originalIndex: item.index }));\n  }\n  const startIndex = items[0].index;\n  const endIndex = items[items.length - 1].index;\n  const transposedItems = [];\n  const groupRanges = rangesWithin(sizes.groupOffsetTree, startIndex, endIndex);\n  let currentRange = void 0;\n  let currentGroupIndex = 0;\n  for (const item of items) {\n    if (!currentRange || currentRange.end < item.index) {\n      currentRange = groupRanges.shift();\n      currentGroupIndex = sizes.groupIndices.indexOf(currentRange.start);\n    }\n    let transposedItem;\n    if (item.index === currentRange.start) {\n      transposedItem = {\n        type: \"group\",\n        index: currentGroupIndex\n      };\n    } else {\n      transposedItem = {\n        index: item.index - (currentGroupIndex + 1) + firstItemIndex,\n        groupIndex: currentGroupIndex\n      };\n    }\n    transposedItems.push({\n      ...transposedItem,\n      size: item.size,\n      offset: item.offset,\n      originalIndex: item.index,\n      data: item.data\n    });\n  }\n  return transposedItems;\n}\nfunction buildListState(items, topItems, totalCount, gap, sizes, firstItemIndex) {\n  const { lastSize, lastOffset, lastIndex } = sizes;\n  let offsetTop = 0;\n  let bottom = 0;\n  if (items.length > 0) {\n    offsetTop = items[0].offset;\n    const lastItem = items[items.length - 1];\n    bottom = lastItem.offset + lastItem.size;\n  }\n  const itemCount = totalCount - lastIndex;\n  const total = lastOffset + itemCount * lastSize + (itemCount - 1) * gap;\n  const top = offsetTop;\n  const offsetBottom = total - bottom;\n  return {\n    items: transposeItems(items, sizes, firstItemIndex),\n    topItems: transposeItems(topItems, sizes, firstItemIndex),\n    topListHeight: topItems.reduce((height, item) => item.size + height, 0),\n    offsetTop,\n    offsetBottom,\n    top,\n    bottom,\n    totalCount,\n    firstItemIndex\n  };\n}\nconst listStateSystem = system(\n  ([\n    { sizes, totalCount, data, firstItemIndex, gap },\n    groupedListSystem2,\n    { visibleRange, listBoundary, topListHeight: rangeTopListHeight },\n    { scrolledToInitialItem, initialTopMostItemIndex },\n    { topListHeight },\n    stateFlags,\n    { didMount },\n    { recalcInProgress }\n  ]) => {\n    const topItemsIndexes = statefulStream([]);\n    const itemsRendered = stream();\n    connect(groupedListSystem2.topItemsIndexes, topItemsIndexes);\n    const listState = statefulStreamFromEmitter(\n      pipe(\n        combineLatest(\n          didMount,\n          recalcInProgress,\n          duc(visibleRange, tupleComparator),\n          duc(totalCount),\n          duc(sizes),\n          duc(initialTopMostItemIndex),\n          scrolledToInitialItem,\n          duc(topItemsIndexes),\n          duc(firstItemIndex),\n          duc(gap),\n          data\n        ),\n        filter(([mount, recalcInProgress2, , totalCount2, , , , , , , data2]) => {\n          const dataChangeInProgress = data2 && data2.length !== totalCount2;\n          return mount && !recalcInProgress2 && !dataChangeInProgress;\n        }),\n        map(\n          ([\n            ,\n            ,\n            [startOffset, endOffset],\n            totalCount2,\n            sizes2,\n            initialTopMostItemIndex2,\n            scrolledToInitialItem2,\n            topItemsIndexes2,\n            firstItemIndex2,\n            gap2,\n            data2\n          ]) => {\n            const sizesValue = sizes2;\n            const { sizeTree, offsetTree } = sizesValue;\n            if (totalCount2 === 0 || startOffset === 0 && endOffset === 0) {\n              return { ...EMPTY_LIST_STATE, totalCount: totalCount2 };\n            }\n            if (empty(sizeTree)) {\n              return buildListState(\n                probeItemSet(getInitialTopMostItemIndexNumber(initialTopMostItemIndex2, totalCount2), sizesValue, data2),\n                [],\n                totalCount2,\n                gap2,\n                sizesValue,\n                firstItemIndex2\n              );\n            }\n            const topItems = [];\n            if (topItemsIndexes2.length > 0) {\n              const startIndex = topItemsIndexes2[0];\n              const endIndex = topItemsIndexes2[topItemsIndexes2.length - 1];\n              let offset = 0;\n              for (const range of rangesWithin(sizeTree, startIndex, endIndex)) {\n                const size = range.value;\n                const rangeStartIndex = Math.max(range.start, startIndex);\n                const rangeEndIndex = Math.min(range.end, endIndex);\n                for (let i = rangeStartIndex; i <= rangeEndIndex; i++) {\n                  topItems.push({ index: i, size, offset, data: data2 && data2[i] });\n                  offset += size;\n                }\n              }\n            }\n            if (!scrolledToInitialItem2) {\n              return buildListState([], topItems, totalCount2, gap2, sizesValue, firstItemIndex2);\n            }\n            const minStartIndex = topItemsIndexes2.length > 0 ? topItemsIndexes2[topItemsIndexes2.length - 1] + 1 : 0;\n            const offsetPointRanges = rangesWithinOffsets(offsetTree, startOffset, endOffset, minStartIndex);\n            if (offsetPointRanges.length === 0) {\n              return null;\n            }\n            const maxIndex = totalCount2 - 1;\n            const items = tap([], (result) => {\n              for (const range of offsetPointRanges) {\n                const point = range.value;\n                let offset = point.offset;\n                let rangeStartIndex = range.start;\n                const size = point.size;\n                if (point.offset < startOffset) {\n                  rangeStartIndex += Math.floor((startOffset - point.offset + gap2) / (size + gap2));\n                  const itemCount = rangeStartIndex - range.start;\n                  offset += itemCount * size + itemCount * gap2;\n                }\n                if (rangeStartIndex < minStartIndex) {\n                  offset += (minStartIndex - rangeStartIndex) * size;\n                  rangeStartIndex = minStartIndex;\n                }\n                const endIndex = Math.min(range.end, maxIndex);\n                for (let i = rangeStartIndex; i <= endIndex; i++) {\n                  if (offset >= endOffset) {\n                    break;\n                  }\n                  result.push({ index: i, size, offset, data: data2 && data2[i] });\n                  offset += size + gap2;\n                }\n              }\n            });\n            return buildListState(items, topItems, totalCount2, gap2, sizesValue, firstItemIndex2);\n          }\n        ),\n        //@ts-expect-error filter needs to be fixed\n        filter((value) => value !== null),\n        distinctUntilChanged()\n      ),\n      EMPTY_LIST_STATE\n    );\n    connect(\n      pipe(\n        data,\n        filter(isDefined),\n        map((data2) => data2 == null ? void 0 : data2.length)\n      ),\n      totalCount\n    );\n    connect(\n      pipe(\n        listState,\n        map((value) => value.topListHeight)\n      ),\n      topListHeight\n    );\n    connect(topListHeight, rangeTopListHeight);\n    connect(\n      pipe(\n        listState,\n        map((state) => [state.top, state.bottom])\n      ),\n      listBoundary\n    );\n    connect(\n      pipe(\n        listState,\n        map((state) => state.items)\n      ),\n      itemsRendered\n    );\n    const endReached = streamFromEmitter(\n      pipe(\n        listState,\n        filter(({ items }) => items.length > 0),\n        withLatestFrom(totalCount, data),\n        filter(([{ items }, totalCount2]) => items[items.length - 1].originalIndex === totalCount2 - 1),\n        map(([, totalCount2, data2]) => [totalCount2 - 1, data2]),\n        distinctUntilChanged(tupleComparator),\n        map(([count]) => count)\n      )\n    );\n    const startReached = streamFromEmitter(\n      pipe(\n        listState,\n        throttleTime(200),\n        filter(({ items, topItems }) => {\n          return items.length > 0 && items[0].originalIndex === topItems.length;\n        }),\n        map(({ items }) => items[0].index),\n        distinctUntilChanged()\n      )\n    );\n    const rangeChanged = streamFromEmitter(\n      pipe(\n        listState,\n        filter(({ items }) => items.length > 0),\n        map(({ items }) => {\n          let startIndex = 0;\n          let endIndex = items.length - 1;\n          while (items[startIndex].type === \"group\" && startIndex < endIndex) {\n            startIndex++;\n          }\n          while (items[endIndex].type === \"group\" && endIndex > startIndex) {\n            endIndex--;\n          }\n          return {\n            startIndex: items[startIndex].index,\n            endIndex: items[endIndex].index\n          };\n        }),\n        distinctUntilChanged(rangeComparator)\n      )\n    );\n    return { listState, topItemsIndexes, endReached, startReached, rangeChanged, itemsRendered, ...stateFlags };\n  },\n  tup(\n    sizeSystem,\n    groupedListSystem,\n    sizeRangeSystem,\n    initialTopMostItemIndexSystem,\n    scrollToIndexSystem,\n    stateFlagsSystem,\n    propsReadySystem,\n    recalcSystem\n  ),\n  { singleton: true }\n);\nconst initialItemCountSystem = system(\n  ([{ sizes, firstItemIndex, data, gap }, { listState }, { didMount }]) => {\n    const initialItemCount = statefulStream(0);\n    connect(\n      pipe(\n        didMount,\n        withLatestFrom(initialItemCount),\n        filter(([, count]) => count !== 0),\n        withLatestFrom(sizes, firstItemIndex, gap, data),\n        map(([[, count], sizes2, firstItemIndex2, gap2, data2 = []]) => {\n          let includedGroupsCount = 0;\n          if (sizes2.groupIndices.length > 0) {\n            for (const index of sizes2.groupIndices) {\n              if (index - includedGroupsCount >= count) {\n                break;\n              }\n              includedGroupsCount++;\n            }\n          }\n          const adjustedCount = count + includedGroupsCount;\n          const items = Array.from({ length: adjustedCount }).map((_, index) => ({ index, size: 0, offset: 0, data: data2[index] }));\n          return buildListState(items, [], adjustedCount, gap2, sizes2, firstItemIndex2);\n        })\n      ),\n      listState\n    );\n    return { initialItemCount };\n  },\n  tup(sizeSystem, listStateSystem, propsReadySystem),\n  { singleton: true }\n);\nconst scrollSeekSystem = system(\n  ([{ scrollVelocity }]) => {\n    const isSeeking = statefulStream(false);\n    const rangeChanged = stream();\n    const scrollSeekConfiguration = statefulStream(false);\n    connect(\n      pipe(\n        scrollVelocity,\n        withLatestFrom(scrollSeekConfiguration, isSeeking, rangeChanged),\n        filter(([_, config]) => !!config),\n        map(([speed, config, isSeeking2, range]) => {\n          const { exit, enter } = config;\n          if (isSeeking2) {\n            if (exit(speed, range)) {\n              return false;\n            }\n          } else {\n            if (enter(speed, range)) {\n              return true;\n            }\n          }\n          return isSeeking2;\n        }),\n        distinctUntilChanged()\n      ),\n      isSeeking\n    );\n    subscribe(\n      pipe(combineLatest(isSeeking, scrollVelocity, rangeChanged), withLatestFrom(scrollSeekConfiguration)),\n      ([[isSeeking2, velocity, range], config]) => isSeeking2 && config && config.change && config.change(velocity, range)\n    );\n    return { isSeeking, scrollSeekConfiguration, scrollVelocity, scrollSeekRangeChanged: rangeChanged };\n  },\n  tup(stateFlagsSystem),\n  { singleton: true }\n);\nconst topItemCountSystem = system(([{ topItemsIndexes }]) => {\n  const topItemCount = statefulStream(0);\n  connect(\n    pipe(\n      topItemCount,\n      filter((length) => length > 0),\n      map((length) => Array.from({ length }).map((_, index) => index))\n    ),\n    topItemsIndexes\n  );\n  return { topItemCount };\n}, tup(listStateSystem));\nconst totalListHeightSystem = system(\n  ([{ footerHeight, headerHeight, fixedHeaderHeight, fixedFooterHeight }, { listState }]) => {\n    const totalListHeightChanged = stream();\n    const totalListHeight = statefulStreamFromEmitter(\n      pipe(\n        combineLatest(footerHeight, fixedFooterHeight, headerHeight, fixedHeaderHeight, listState),\n        map(([footerHeight2, fixedFooterHeight2, headerHeight2, fixedHeaderHeight2, listState2]) => {\n          return footerHeight2 + fixedFooterHeight2 + headerHeight2 + fixedHeaderHeight2 + listState2.offsetBottom + listState2.bottom;\n        })\n      ),\n      0\n    );\n    connect(duc(totalListHeight), totalListHeightChanged);\n    return { totalListHeight, totalListHeightChanged };\n  },\n  tup(domIOSystem, listStateSystem),\n  { singleton: true }\n);\nfunction simpleMemoize(func) {\n  let called = false;\n  let result;\n  return () => {\n    if (!called) {\n      called = true;\n      result = func();\n    }\n    return result;\n  };\n}\nconst isMobileSafari = simpleMemoize(() => {\n  return /iP(ad|od|hone)/i.test(navigator.userAgent) && /WebKit/i.test(navigator.userAgent);\n});\nconst upwardScrollFixSystem = system(\n  ([\n    { scrollBy, scrollTop, deviation, scrollingInProgress },\n    { isScrolling, isAtBottom, scrollDirection, lastJumpDueToItemResize },\n    { listState },\n    { beforeUnshiftWith, shiftWithOffset, sizes, gap },\n    { log },\n    { recalcInProgress }\n  ]) => {\n    const deviationOffset = streamFromEmitter(\n      pipe(\n        listState,\n        withLatestFrom(lastJumpDueToItemResize),\n        scan(\n          ([, prevItems, prevTotalCount, prevTotalHeight], [{ items, totalCount, bottom, offsetBottom }, lastJumpDueToItemResize2]) => {\n            const totalHeight = bottom + offsetBottom;\n            let newDev = 0;\n            if (prevTotalCount === totalCount) {\n              if (prevItems.length > 0 && items.length > 0) {\n                const atStart = items[0].originalIndex === 0 && prevItems[0].originalIndex === 0;\n                if (!atStart) {\n                  newDev = totalHeight - prevTotalHeight;\n                  if (newDev !== 0) {\n                    newDev += lastJumpDueToItemResize2;\n                  }\n                }\n              }\n            }\n            return [newDev, items, totalCount, totalHeight];\n          },\n          [0, [], 0, 0]\n        ),\n        filter(([amount]) => amount !== 0),\n        withLatestFrom(scrollTop, scrollDirection, scrollingInProgress, isAtBottom, log, recalcInProgress),\n        filter(([, scrollTop2, scrollDirection2, scrollingInProgress2, , , recalcInProgress2]) => {\n          return !recalcInProgress2 && !scrollingInProgress2 && scrollTop2 !== 0 && scrollDirection2 === UP;\n        }),\n        map(([[amount], , , , , log2]) => {\n          log2(\"Upward scrolling compensation\", { amount }, LogLevel.DEBUG);\n          return amount;\n        })\n      )\n    );\n    function scrollByWith(offset) {\n      if (offset > 0) {\n        publish(scrollBy, { top: -offset, behavior: \"auto\" });\n        publish(deviation, 0);\n      } else {\n        publish(deviation, 0);\n        publish(scrollBy, { top: -offset, behavior: \"auto\" });\n      }\n    }\n    subscribe(pipe(deviationOffset, withLatestFrom(deviation, isScrolling)), ([offset, deviationAmount, isScrolling2]) => {\n      if (isScrolling2 && isMobileSafari()) {\n        publish(deviation, deviationAmount - offset);\n      } else {\n        scrollByWith(-offset);\n      }\n    });\n    subscribe(\n      pipe(\n        combineLatest(statefulStreamFromEmitter(isScrolling, false), deviation, recalcInProgress),\n        filter(([is, deviation2, recalc]) => !is && !recalc && deviation2 !== 0),\n        map(([_, deviation2]) => deviation2),\n        throttleTime(1)\n      ),\n      scrollByWith\n    );\n    connect(\n      pipe(\n        shiftWithOffset,\n        map((offset) => {\n          return { top: -offset };\n        })\n      ),\n      scrollBy\n    );\n    subscribe(\n      pipe(\n        beforeUnshiftWith,\n        withLatestFrom(sizes, gap),\n        map(([offset, { lastSize: defaultItemSize, groupIndices, sizeTree }, gap2]) => {\n          function getItemOffset(itemCount) {\n            return itemCount * (defaultItemSize + gap2);\n          }\n          if (groupIndices.length === 0) {\n            return getItemOffset(offset);\n          } else {\n            let amount = 0;\n            const defaultGroupSize = find(sizeTree, 0);\n            let recognizedOffsetItems = 0;\n            let groupIndex = 0;\n            while (recognizedOffsetItems < offset) {\n              recognizedOffsetItems++;\n              amount += defaultGroupSize;\n              let groupItemCount = groupIndices.length === groupIndex + 1 ? Infinity : groupIndices[groupIndex + 1] - groupIndices[groupIndex] - 1;\n              if (recognizedOffsetItems + groupItemCount > offset) {\n                amount -= defaultGroupSize;\n                groupItemCount = offset - recognizedOffsetItems + 1;\n              }\n              recognizedOffsetItems += groupItemCount;\n              amount += getItemOffset(groupItemCount);\n              groupIndex++;\n            }\n            return amount;\n          }\n        })\n      ),\n      (offset) => {\n        publish(deviation, offset);\n        requestAnimationFrame(() => {\n          publish(scrollBy, { top: offset });\n          requestAnimationFrame(() => {\n            publish(deviation, 0);\n            publish(recalcInProgress, false);\n          });\n        });\n      }\n    );\n    return { deviation };\n  },\n  tup(domIOSystem, stateFlagsSystem, listStateSystem, sizeSystem, loggerSystem, recalcSystem)\n);\nconst initialScrollTopSystem = system(\n  ([{ didMount }, { scrollTo }, { listState }]) => {\n    const initialScrollTop = statefulStream(0);\n    subscribe(\n      pipe(\n        didMount,\n        withLatestFrom(initialScrollTop),\n        filter(([, offset]) => offset !== 0),\n        map(([, offset]) => ({ top: offset }))\n      ),\n      (location) => {\n        handleNext(\n          pipe(\n            listState,\n            skip(1),\n            filter((state) => state.items.length > 1)\n          ),\n          () => {\n            requestAnimationFrame(() => {\n              publish(scrollTo, location);\n            });\n          }\n        );\n      }\n    );\n    return {\n      initialScrollTop\n    };\n  },\n  tup(propsReadySystem, domIOSystem, listStateSystem),\n  { singleton: true }\n);\nconst alignToBottomSystem = system(\n  ([{ viewportHeight }, { totalListHeight }]) => {\n    const alignToBottom = statefulStream(false);\n    const paddingTopAddition = statefulStreamFromEmitter(\n      pipe(\n        combineLatest(alignToBottom, viewportHeight, totalListHeight),\n        filter(([enabled]) => enabled),\n        map(([, viewportHeight2, totalListHeight2]) => {\n          return Math.max(0, viewportHeight2 - totalListHeight2);\n        }),\n        throttleTime(0),\n        distinctUntilChanged()\n      ),\n      0\n    );\n    return { alignToBottom, paddingTopAddition };\n  },\n  tup(domIOSystem, totalListHeightSystem),\n  { singleton: true }\n);\nconst windowScrollerSystem = system(([{ scrollTo, scrollContainerState }]) => {\n  const windowScrollContainerState = stream();\n  const windowViewportRect = stream();\n  const windowScrollTo = stream();\n  const useWindowScroll = statefulStream(false);\n  const customScrollParent = statefulStream(void 0);\n  connect(\n    pipe(\n      combineLatest(windowScrollContainerState, windowViewportRect),\n      map(([{ viewportHeight, scrollTop: windowScrollTop, scrollHeight }, { offsetTop }]) => {\n        return {\n          scrollTop: Math.max(0, windowScrollTop - offsetTop),\n          scrollHeight,\n          viewportHeight\n        };\n      })\n    ),\n    scrollContainerState\n  );\n  connect(\n    pipe(\n      scrollTo,\n      withLatestFrom(windowViewportRect),\n      map(([scrollTo2, { offsetTop }]) => {\n        return {\n          ...scrollTo2,\n          top: scrollTo2.top + offsetTop\n        };\n      })\n    ),\n    windowScrollTo\n  );\n  return {\n    // config\n    useWindowScroll,\n    customScrollParent,\n    // input\n    windowScrollContainerState,\n    windowViewportRect,\n    // signals\n    windowScrollTo\n  };\n}, tup(domIOSystem));\nconst defaultCalculateViewLocation = ({\n  itemTop: itemTop2,\n  itemBottom,\n  viewportTop,\n  viewportBottom,\n  locationParams: { behavior, align, ...rest }\n}) => {\n  if (itemTop2 < viewportTop) {\n    return { ...rest, behavior, align: align != null ? align : \"start\" };\n  }\n  if (itemBottom > viewportBottom) {\n    return { ...rest, behavior, align: align != null ? align : \"end\" };\n  }\n  return null;\n};\nconst scrollIntoViewSystem = system(\n  ([\n    { sizes, totalCount, gap },\n    { scrollTop, viewportHeight, headerHeight, fixedHeaderHeight, fixedFooterHeight, scrollingInProgress },\n    { scrollToIndex }\n  ]) => {\n    const scrollIntoView = stream();\n    connect(\n      pipe(\n        scrollIntoView,\n        withLatestFrom(sizes, viewportHeight, totalCount, headerHeight, fixedHeaderHeight, fixedFooterHeight, scrollTop),\n        withLatestFrom(gap),\n        map(([[viewLocation, sizes2, viewportHeight2, totalCount2, headerHeight2, fixedHeaderHeight2, fixedFooterHeight2, scrollTop2], gap2]) => {\n          const { done, behavior, align, calculateViewLocation = defaultCalculateViewLocation, ...rest } = viewLocation;\n          const actualIndex = originalIndexFromLocation(viewLocation, sizes2, totalCount2 - 1);\n          const itemTop2 = offsetOf(actualIndex, sizes2.offsetTree, gap2) + headerHeight2 + fixedHeaderHeight2;\n          const itemBottom = itemTop2 + findMaxKeyValue(sizes2.sizeTree, actualIndex)[1];\n          const viewportTop = scrollTop2 + fixedHeaderHeight2;\n          const viewportBottom = scrollTop2 + viewportHeight2 - fixedFooterHeight2;\n          const location = calculateViewLocation({\n            itemTop: itemTop2,\n            itemBottom,\n            viewportTop,\n            viewportBottom,\n            locationParams: { behavior, align, ...rest }\n          });\n          if (location) {\n            done && handleNext(\n              pipe(\n                scrollingInProgress,\n                filter((value) => value === false),\n                // skips the initial publish of false, and the cleanup call.\n                // but if scrollingInProgress is true, we skip the initial publish.\n                skip(getValue(scrollingInProgress) ? 1 : 2)\n              ),\n              done\n            );\n          } else {\n            done && done();\n          }\n          return location;\n        }),\n        filter((value) => value !== null)\n      ),\n      scrollToIndex\n    );\n    return {\n      scrollIntoView\n    };\n  },\n  tup(sizeSystem, domIOSystem, scrollToIndexSystem, listStateSystem, loggerSystem),\n  { singleton: true }\n);\nconst stateLoadSystem = system(([{ sizes, sizeRanges }, { scrollTop }, { initialTopMostItemIndex }, { didMount }]) => {\n  const getState = stream();\n  const restoreStateFrom = statefulStream(void 0);\n  subscribe(pipe(getState, withLatestFrom(sizes, scrollTop)), ([callback, sizes2, scrollTop2]) => {\n    const ranges = sizeTreeToRanges(sizes2.sizeTree);\n    callback({ ranges, scrollTop: scrollTop2 });\n  });\n  connect(pipe(restoreStateFrom, filter(isDefined), map(locationFromSnapshot)), initialTopMostItemIndex);\n  connect(\n    pipe(\n      didMount,\n      withLatestFrom(restoreStateFrom),\n      filter(([, state]) => state !== void 0),\n      distinctUntilChanged(),\n      map(([, snapshot]) => {\n        return snapshot.ranges;\n      })\n    ),\n    sizeRanges\n  );\n  return {\n    getState,\n    restoreStateFrom\n  };\n}, tup(sizeSystem, domIOSystem, initialTopMostItemIndexSystem, propsReadySystem));\nfunction locationFromSnapshot(snapshot) {\n  return { offset: snapshot.scrollTop, index: 0, align: \"start\" };\n}\nconst featureGroup1System = system(\n  ([\n    sizeRange,\n    initialItemCount,\n    propsReady,\n    scrollSeek,\n    totalListHeight,\n    initialScrollTopSystem2,\n    alignToBottom,\n    windowScroller,\n    scrollIntoView,\n    logger\n  ]) => {\n    return {\n      ...sizeRange,\n      ...initialItemCount,\n      ...propsReady,\n      ...scrollSeek,\n      ...totalListHeight,\n      ...initialScrollTopSystem2,\n      ...alignToBottom,\n      ...windowScroller,\n      ...scrollIntoView,\n      ...logger\n    };\n  },\n  tup(\n    sizeRangeSystem,\n    initialItemCountSystem,\n    propsReadySystem,\n    scrollSeekSystem,\n    totalListHeightSystem,\n    initialScrollTopSystem,\n    alignToBottomSystem,\n    windowScrollerSystem,\n    scrollIntoViewSystem,\n    loggerSystem\n  )\n);\nconst listSystem = system(\n  ([\n    {\n      totalCount,\n      sizeRanges,\n      fixedItemSize,\n      defaultItemSize,\n      trackItemSizes,\n      itemSize,\n      data,\n      firstItemIndex,\n      groupIndices,\n      statefulTotalCount,\n      gap,\n      sizes\n    },\n    { initialTopMostItemIndex, scrolledToInitialItem },\n    domIO,\n    stateLoad,\n    followOutput,\n    { listState, topItemsIndexes, ...flags },\n    { scrollToIndex },\n    _,\n    { topItemCount },\n    { groupCounts },\n    featureGroup1\n  ]) => {\n    connect(flags.rangeChanged, featureGroup1.scrollSeekRangeChanged);\n    connect(\n      pipe(\n        featureGroup1.windowViewportRect,\n        map((value) => value.visibleHeight)\n      ),\n      domIO.viewportHeight\n    );\n    return {\n      // input\n      totalCount,\n      data,\n      firstItemIndex,\n      sizeRanges,\n      initialTopMostItemIndex,\n      scrolledToInitialItem,\n      topItemsIndexes,\n      topItemCount,\n      groupCounts,\n      fixedItemHeight: fixedItemSize,\n      defaultItemHeight: defaultItemSize,\n      gap,\n      ...followOutput,\n      // output\n      statefulTotalCount,\n      listState,\n      scrollToIndex,\n      trackItemSizes,\n      itemSize,\n      groupIndices,\n      // exported from stateFlagsSystem\n      ...flags,\n      // the bag of IO from featureGroup1System\n      ...featureGroup1,\n      ...domIO,\n      sizes,\n      ...stateLoad\n    };\n  },\n  tup(\n    sizeSystem,\n    initialTopMostItemIndexSystem,\n    domIOSystem,\n    stateLoadSystem,\n    followOutputSystem,\n    listStateSystem,\n    scrollToIndexSystem,\n    upwardScrollFixSystem,\n    topItemCountSystem,\n    groupedListSystem,\n    featureGroup1System\n  )\n);\nconst WEBKIT_STICKY = \"-webkit-sticky\";\nconst STICKY = \"sticky\";\nconst positionStickyCssValue = simpleMemoize(() => {\n  if (typeof document === \"undefined\") {\n    return STICKY;\n  }\n  const node = document.createElement(\"div\");\n  node.style.position = WEBKIT_STICKY;\n  return node.style.position === WEBKIT_STICKY ? WEBKIT_STICKY : STICKY;\n});\nfunction useWindowViewportRectRef(callback, customScrollParent) {\n  const viewportInfo = React.useRef(null);\n  const calculateInfo = React.useCallback(\n    (element) => {\n      if (element === null || !element.offsetParent) {\n        return;\n      }\n      const rect = element.getBoundingClientRect();\n      const visibleWidth = rect.width;\n      let visibleHeight, offsetTop;\n      if (customScrollParent) {\n        const customScrollParentRect = customScrollParent.getBoundingClientRect();\n        const deltaTop = rect.top - customScrollParentRect.top;\n        visibleHeight = customScrollParentRect.height - Math.max(0, deltaTop);\n        offsetTop = deltaTop + customScrollParent.scrollTop;\n      } else {\n        visibleHeight = window.innerHeight - Math.max(0, rect.top);\n        offsetTop = rect.top + window.pageYOffset;\n      }\n      viewportInfo.current = {\n        offsetTop,\n        visibleHeight,\n        visibleWidth\n      };\n      callback(viewportInfo.current);\n    },\n    [callback, customScrollParent]\n  );\n  const { callbackRef, ref } = useSizeWithElRef(calculateInfo);\n  const scrollAndResizeEventHandler = React.useCallback(() => {\n    calculateInfo(ref.current);\n  }, [calculateInfo, ref]);\n  React.useEffect(() => {\n    if (customScrollParent) {\n      customScrollParent.addEventListener(\"scroll\", scrollAndResizeEventHandler);\n      const observer = new ResizeObserver(scrollAndResizeEventHandler);\n      observer.observe(customScrollParent);\n      return () => {\n        customScrollParent.removeEventListener(\"scroll\", scrollAndResizeEventHandler);\n        observer.unobserve(customScrollParent);\n      };\n    } else {\n      window.addEventListener(\"scroll\", scrollAndResizeEventHandler);\n      window.addEventListener(\"resize\", scrollAndResizeEventHandler);\n      return () => {\n        window.removeEventListener(\"scroll\", scrollAndResizeEventHandler);\n        window.removeEventListener(\"resize\", scrollAndResizeEventHandler);\n      };\n    }\n  }, [scrollAndResizeEventHandler, customScrollParent]);\n  return callbackRef;\n}\nconst VirtuosoMockContext = React.createContext(void 0);\nconst VirtuosoGridMockContext = React.createContext(void 0);\nfunction identity(value) {\n  return value;\n}\nconst listComponentPropsSystem = /* @__PURE__ */ system(() => {\n  const itemContent = statefulStream((index) => `Item ${index}`);\n  const context = statefulStream(null);\n  const groupContent = statefulStream((index) => `Group ${index}`);\n  const components = statefulStream({});\n  const computeItemKey = statefulStream(identity);\n  const headerFooterTag = statefulStream(\"div\");\n  const scrollerRef = statefulStream(noop);\n  const distinctProp = (propName, defaultValue = null) => {\n    return statefulStreamFromEmitter(\n      pipe(\n        components,\n        map((components2) => components2[propName]),\n        distinctUntilChanged()\n      ),\n      defaultValue\n    );\n  };\n  return {\n    context,\n    itemContent,\n    groupContent,\n    components,\n    computeItemKey,\n    headerFooterTag,\n    scrollerRef,\n    FooterComponent: distinctProp(\"Footer\"),\n    HeaderComponent: distinctProp(\"Header\"),\n    TopItemListComponent: distinctProp(\"TopItemList\"),\n    ListComponent: distinctProp(\"List\", \"div\"),\n    ItemComponent: distinctProp(\"Item\", \"div\"),\n    GroupComponent: distinctProp(\"Group\", \"div\"),\n    ScrollerComponent: distinctProp(\"Scroller\", \"div\"),\n    EmptyPlaceholder: distinctProp(\"EmptyPlaceholder\"),\n    ScrollSeekPlaceholder: distinctProp(\"ScrollSeekPlaceholder\")\n  };\n});\nconst combinedSystem$2 = /* @__PURE__ */ system(([listSystem2, propsSystem]) => {\n  return { ...listSystem2, ...propsSystem };\n}, tup(listSystem, listComponentPropsSystem));\nconst DefaultScrollSeekPlaceholder$1 = ({ height }) => /* @__PURE__ */ React.createElement(\"div\", { style: { height } });\nconst GROUP_STYLE = { position: positionStickyCssValue(), zIndex: 1, overflowAnchor: \"none\" };\nconst ITEM_STYLE$1 = { overflowAnchor: \"none\" };\nconst Items$1 = /* @__PURE__ */ React.memo(function VirtuosoItems({ showTopList = false }) {\n  const listState = useEmitterValue$2(\"listState\");\n  const sizeRanges = usePublisher$2(\"sizeRanges\");\n  const useWindowScroll = useEmitterValue$2(\"useWindowScroll\");\n  const customScrollParent = useEmitterValue$2(\"customScrollParent\");\n  const windowScrollContainerStateCallback = usePublisher$2(\"windowScrollContainerState\");\n  const _scrollContainerStateCallback = usePublisher$2(\"scrollContainerState\");\n  const scrollContainerStateCallback = customScrollParent || useWindowScroll ? windowScrollContainerStateCallback : _scrollContainerStateCallback;\n  const itemContent = useEmitterValue$2(\"itemContent\");\n  const context = useEmitterValue$2(\"context\");\n  const groupContent = useEmitterValue$2(\"groupContent\");\n  const trackItemSizes = useEmitterValue$2(\"trackItemSizes\");\n  const itemSize = useEmitterValue$2(\"itemSize\");\n  const log = useEmitterValue$2(\"log\");\n  const listGap = usePublisher$2(\"gap\");\n  const { callbackRef } = useChangedListContentsSizes(\n    sizeRanges,\n    itemSize,\n    trackItemSizes,\n    showTopList ? noop : scrollContainerStateCallback,\n    log,\n    listGap,\n    customScrollParent\n  );\n  const [deviation, setDeviation] = React.useState(0);\n  useEmitter$2(\"deviation\", (value) => {\n    if (deviation !== value) {\n      setDeviation(value);\n    }\n  });\n  const EmptyPlaceholder = useEmitterValue$2(\"EmptyPlaceholder\");\n  const ScrollSeekPlaceholder = useEmitterValue$2(\"ScrollSeekPlaceholder\") || DefaultScrollSeekPlaceholder$1;\n  const ListComponent = useEmitterValue$2(\"ListComponent\");\n  const ItemComponent = useEmitterValue$2(\"ItemComponent\");\n  const GroupComponent = useEmitterValue$2(\"GroupComponent\");\n  const computeItemKey = useEmitterValue$2(\"computeItemKey\");\n  const isSeeking = useEmitterValue$2(\"isSeeking\");\n  const hasGroups2 = useEmitterValue$2(\"groupIndices\").length > 0;\n  const paddingTopAddition = useEmitterValue$2(\"paddingTopAddition\");\n  const scrolledToInitialItem = useEmitterValue$2(\"scrolledToInitialItem\");\n  const containerStyle = showTopList ? {} : {\n    boxSizing: \"border-box\",\n    paddingTop: listState.offsetTop + paddingTopAddition,\n    paddingBottom: listState.offsetBottom,\n    marginTop: deviation,\n    ...scrolledToInitialItem ? {} : { visibility: \"hidden\" }\n  };\n  if (!showTopList && listState.totalCount === 0 && EmptyPlaceholder) {\n    return React.createElement(EmptyPlaceholder, contextPropIfNotDomElement(EmptyPlaceholder, context));\n  }\n  return React.createElement(\n    ListComponent,\n    {\n      ...contextPropIfNotDomElement(ListComponent, context),\n      ref: callbackRef,\n      style: containerStyle,\n      \"data-test-id\": showTopList ? \"virtuoso-top-item-list\" : \"virtuoso-item-list\"\n    },\n    (showTopList ? listState.topItems : listState.items).map((item) => {\n      const index = item.originalIndex;\n      const key = computeItemKey(index + listState.firstItemIndex, item.data, context);\n      if (isSeeking) {\n        return React.createElement(ScrollSeekPlaceholder, {\n          ...contextPropIfNotDomElement(ScrollSeekPlaceholder, context),\n          key,\n          index: item.index,\n          height: item.size,\n          type: item.type || \"item\",\n          ...item.type === \"group\" ? {} : { groupIndex: item.groupIndex }\n        });\n      }\n      if (item.type === \"group\") {\n        return React.createElement(\n          GroupComponent,\n          {\n            ...contextPropIfNotDomElement(GroupComponent, context),\n            key,\n            \"data-index\": index,\n            \"data-known-size\": item.size,\n            \"data-item-index\": item.index,\n            style: GROUP_STYLE\n          },\n          groupContent(item.index, context)\n        );\n      } else {\n        return React.createElement(\n          ItemComponent,\n          {\n            ...contextPropIfNotDomElement(ItemComponent, context),\n            key,\n            \"data-index\": index,\n            \"data-known-size\": item.size,\n            \"data-item-index\": item.index,\n            \"data-item-group-index\": item.groupIndex,\n            item: item.data,\n            style: ITEM_STYLE$1\n          },\n          hasGroups2 ? itemContent(item.index, item.groupIndex, item.data, context) : itemContent(item.index, item.data, context)\n        );\n      }\n    })\n  );\n});\nconst scrollerStyle = {\n  height: \"100%\",\n  outline: \"none\",\n  overflowY: \"auto\",\n  position: \"relative\",\n  WebkitOverflowScrolling: \"touch\"\n};\nconst viewportStyle = {\n  width: \"100%\",\n  height: \"100%\",\n  position: \"absolute\",\n  top: 0\n};\nconst topItemListStyle = {\n  width: \"100%\",\n  position: positionStickyCssValue(),\n  top: 0,\n  zIndex: 1\n};\nfunction contextPropIfNotDomElement(element, context) {\n  if (typeof element === \"string\") {\n    return void 0;\n  }\n  return { context };\n}\nconst Header$1 = /* @__PURE__ */ React.memo(function VirtuosoHeader() {\n  const Header2 = useEmitterValue$2(\"HeaderComponent\");\n  const headerHeight = usePublisher$2(\"headerHeight\");\n  const headerFooterTag = useEmitterValue$2(\"headerFooterTag\");\n  const ref = useSize((el) => headerHeight(correctItemSize(el, \"height\")));\n  const context = useEmitterValue$2(\"context\");\n  return Header2 ? React.createElement(headerFooterTag, { ref }, React.createElement(Header2, contextPropIfNotDomElement(Header2, context))) : null;\n});\nconst Footer$1 = /* @__PURE__ */ React.memo(function VirtuosoFooter() {\n  const Footer2 = useEmitterValue$2(\"FooterComponent\");\n  const footerHeight = usePublisher$2(\"footerHeight\");\n  const headerFooterTag = useEmitterValue$2(\"headerFooterTag\");\n  const ref = useSize((el) => footerHeight(correctItemSize(el, \"height\")));\n  const context = useEmitterValue$2(\"context\");\n  return Footer2 ? React.createElement(headerFooterTag, { ref }, React.createElement(Footer2, contextPropIfNotDomElement(Footer2, context))) : null;\n});\nfunction buildScroller({ usePublisher: usePublisher2, useEmitter: useEmitter2, useEmitterValue: useEmitterValue2 }) {\n  const Scroller2 = React.memo(function VirtuosoScroller({ style, children, ...props }) {\n    const scrollContainerStateCallback = usePublisher2(\"scrollContainerState\");\n    const ScrollerComponent = useEmitterValue2(\"ScrollerComponent\");\n    const smoothScrollTargetReached = usePublisher2(\"smoothScrollTargetReached\");\n    const scrollerRefCallback = useEmitterValue2(\"scrollerRef\");\n    const context = useEmitterValue2(\"context\");\n    const { scrollerRef, scrollByCallback, scrollToCallback } = useScrollTop(\n      scrollContainerStateCallback,\n      smoothScrollTargetReached,\n      ScrollerComponent,\n      scrollerRefCallback\n    );\n    useEmitter2(\"scrollTo\", scrollToCallback);\n    useEmitter2(\"scrollBy\", scrollByCallback);\n    return React.createElement(\n      ScrollerComponent,\n      {\n        ref: scrollerRef,\n        style: { ...scrollerStyle, ...style },\n        \"data-test-id\": \"virtuoso-scroller\",\n        \"data-virtuoso-scroller\": true,\n        tabIndex: 0,\n        ...props,\n        ...contextPropIfNotDomElement(ScrollerComponent, context)\n      },\n      children\n    );\n  });\n  return Scroller2;\n}\nfunction buildWindowScroller({ usePublisher: usePublisher2, useEmitter: useEmitter2, useEmitterValue: useEmitterValue2 }) {\n  const Scroller2 = React.memo(function VirtuosoWindowScroller({ style, children, ...props }) {\n    const scrollContainerStateCallback = usePublisher2(\"windowScrollContainerState\");\n    const ScrollerComponent = useEmitterValue2(\"ScrollerComponent\");\n    const smoothScrollTargetReached = usePublisher2(\"smoothScrollTargetReached\");\n    const totalListHeight = useEmitterValue2(\"totalListHeight\");\n    const deviation = useEmitterValue2(\"deviation\");\n    const customScrollParent = useEmitterValue2(\"customScrollParent\");\n    const context = useEmitterValue2(\"context\");\n    const { scrollerRef, scrollByCallback, scrollToCallback } = useScrollTop(\n      scrollContainerStateCallback,\n      smoothScrollTargetReached,\n      ScrollerComponent,\n      noop,\n      customScrollParent\n    );\n    useIsomorphicLayoutEffect$1(() => {\n      scrollerRef.current = customScrollParent ? customScrollParent : window;\n      return () => {\n        scrollerRef.current = null;\n      };\n    }, [scrollerRef, customScrollParent]);\n    useEmitter2(\"windowScrollTo\", scrollToCallback);\n    useEmitter2(\"scrollBy\", scrollByCallback);\n    return React.createElement(\n      ScrollerComponent,\n      {\n        style: { position: \"relative\", ...style, ...totalListHeight !== 0 ? { height: totalListHeight + deviation } : {} },\n        \"data-virtuoso-scroller\": true,\n        ...props,\n        ...contextPropIfNotDomElement(ScrollerComponent, context)\n      },\n      children\n    );\n  });\n  return Scroller2;\n}\nconst Viewport$2 = ({ children }) => {\n  const ctx = React.useContext(VirtuosoMockContext);\n  const viewportHeight = usePublisher$2(\"viewportHeight\");\n  const fixedItemHeight = usePublisher$2(\"fixedItemHeight\");\n  const viewportRef = useSize(compose(viewportHeight, (el) => correctItemSize(el, \"height\")));\n  React.useEffect(() => {\n    if (ctx) {\n      viewportHeight(ctx.viewportHeight);\n      fixedItemHeight(ctx.itemHeight);\n    }\n  }, [ctx, viewportHeight, fixedItemHeight]);\n  return /* @__PURE__ */ React.createElement(\"div\", { style: viewportStyle, ref: viewportRef, \"data-viewport-type\": \"element\" }, children);\n};\nconst WindowViewport$2 = ({ children }) => {\n  const ctx = React.useContext(VirtuosoMockContext);\n  const windowViewportRect = usePublisher$2(\"windowViewportRect\");\n  const fixedItemHeight = usePublisher$2(\"fixedItemHeight\");\n  const customScrollParent = useEmitterValue$2(\"customScrollParent\");\n  const viewportRef = useWindowViewportRectRef(windowViewportRect, customScrollParent);\n  React.useEffect(() => {\n    if (ctx) {\n      fixedItemHeight(ctx.itemHeight);\n      windowViewportRect({ offsetTop: 0, visibleHeight: ctx.viewportHeight, visibleWidth: 100 });\n    }\n  }, [ctx, windowViewportRect, fixedItemHeight]);\n  return /* @__PURE__ */ React.createElement(\"div\", { ref: viewportRef, style: viewportStyle, \"data-viewport-type\": \"window\" }, children);\n};\nconst TopItemListContainer = ({ children }) => {\n  const TopItemList = useEmitterValue$2(\"TopItemListComponent\");\n  const headerHeight = useEmitterValue$2(\"headerHeight\");\n  const style = { ...topItemListStyle, marginTop: `${headerHeight}px` };\n  const context = useEmitterValue$2(\"context\");\n  return React.createElement(TopItemList || \"div\", { style, context }, children);\n};\nconst ListRoot = /* @__PURE__ */ React.memo(function VirtuosoRoot(props) {\n  const useWindowScroll = useEmitterValue$2(\"useWindowScroll\");\n  const showTopList = useEmitterValue$2(\"topItemsIndexes\").length > 0;\n  const customScrollParent = useEmitterValue$2(\"customScrollParent\");\n  const TheScroller = customScrollParent || useWindowScroll ? WindowScroller$2 : Scroller$2;\n  const TheViewport = customScrollParent || useWindowScroll ? WindowViewport$2 : Viewport$2;\n  return /* @__PURE__ */ React.createElement(TheScroller, { ...props }, showTopList && /* @__PURE__ */ React.createElement(TopItemListContainer, null, /* @__PURE__ */ React.createElement(Items$1, { showTopList: true })), /* @__PURE__ */ React.createElement(TheViewport, null, /* @__PURE__ */ React.createElement(Header$1, null), /* @__PURE__ */ React.createElement(Items$1, null), /* @__PURE__ */ React.createElement(Footer$1, null)));\n});\nconst {\n  Component: List,\n  usePublisher: usePublisher$2,\n  useEmitterValue: useEmitterValue$2,\n  useEmitter: useEmitter$2\n} = /* @__PURE__ */ systemToComponent(\n  combinedSystem$2,\n  {\n    required: {},\n    optional: {\n      restoreStateFrom: \"restoreStateFrom\",\n      context: \"context\",\n      followOutput: \"followOutput\",\n      itemContent: \"itemContent\",\n      groupContent: \"groupContent\",\n      overscan: \"overscan\",\n      increaseViewportBy: \"increaseViewportBy\",\n      totalCount: \"totalCount\",\n      groupCounts: \"groupCounts\",\n      topItemCount: \"topItemCount\",\n      firstItemIndex: \"firstItemIndex\",\n      initialTopMostItemIndex: \"initialTopMostItemIndex\",\n      components: \"components\",\n      atBottomThreshold: \"atBottomThreshold\",\n      atTopThreshold: \"atTopThreshold\",\n      computeItemKey: \"computeItemKey\",\n      defaultItemHeight: \"defaultItemHeight\",\n      fixedItemHeight: \"fixedItemHeight\",\n      itemSize: \"itemSize\",\n      scrollSeekConfiguration: \"scrollSeekConfiguration\",\n      headerFooterTag: \"headerFooterTag\",\n      data: \"data\",\n      initialItemCount: \"initialItemCount\",\n      initialScrollTop: \"initialScrollTop\",\n      alignToBottom: \"alignToBottom\",\n      useWindowScroll: \"useWindowScroll\",\n      customScrollParent: \"customScrollParent\",\n      scrollerRef: \"scrollerRef\",\n      logLevel: \"logLevel\"\n    },\n    methods: {\n      scrollToIndex: \"scrollToIndex\",\n      scrollIntoView: \"scrollIntoView\",\n      scrollTo: \"scrollTo\",\n      scrollBy: \"scrollBy\",\n      autoscrollToBottom: \"autoscrollToBottom\",\n      getState: \"getState\"\n    },\n    events: {\n      isScrolling: \"isScrolling\",\n      endReached: \"endReached\",\n      startReached: \"startReached\",\n      rangeChanged: \"rangeChanged\",\n      atBottomStateChange: \"atBottomStateChange\",\n      atTopStateChange: \"atTopStateChange\",\n      totalListHeightChanged: \"totalListHeightChanged\",\n      itemsRendered: \"itemsRendered\",\n      groupIndices: \"groupIndices\"\n    }\n  },\n  ListRoot\n);\nconst Scroller$2 = /* @__PURE__ */ buildScroller({ usePublisher: usePublisher$2, useEmitterValue: useEmitterValue$2, useEmitter: useEmitter$2 });\nconst WindowScroller$2 = /* @__PURE__ */ buildWindowScroller({ usePublisher: usePublisher$2, useEmitterValue: useEmitterValue$2, useEmitter: useEmitter$2 });\nconst Virtuoso = List;\nconst GroupedVirtuoso = List;\nconst INITIAL_GRID_STATE = {\n  items: [],\n  offsetBottom: 0,\n  offsetTop: 0,\n  top: 0,\n  bottom: 0,\n  itemHeight: 0,\n  itemWidth: 0\n};\nconst PROBE_GRID_STATE = {\n  items: [{ index: 0 }],\n  offsetBottom: 0,\n  offsetTop: 0,\n  top: 0,\n  bottom: 0,\n  itemHeight: 0,\n  itemWidth: 0\n};\nconst { round, ceil, floor, min, max } = Math;\nfunction buildProbeGridState(items) {\n  return {\n    ...PROBE_GRID_STATE,\n    items\n  };\n}\nfunction buildItems(startIndex, endIndex, data) {\n  return Array.from({ length: endIndex - startIndex + 1 }).map((_, i) => {\n    const dataItem = data === null ? null : data[i + startIndex];\n    return { index: i + startIndex, data: dataItem };\n  });\n}\nfunction gapComparator(prev, next) {\n  return prev && prev.column === next.column && prev.row === next.row;\n}\nfunction dimensionComparator(prev, next) {\n  return prev && prev.width === next.width && prev.height === next.height;\n}\nconst gridSystem = /* @__PURE__ */ system(\n  ([\n    { overscan, visibleRange, listBoundary },\n    { scrollTop, viewportHeight, scrollBy, scrollTo, smoothScrollTargetReached, scrollContainerState, footerHeight, headerHeight },\n    stateFlags,\n    scrollSeek,\n    { propsReady, didMount },\n    { windowViewportRect, useWindowScroll, customScrollParent, windowScrollContainerState, windowScrollTo },\n    log\n  ]) => {\n    const totalCount = statefulStream(0);\n    const initialItemCount = statefulStream(0);\n    const gridState = statefulStream(INITIAL_GRID_STATE);\n    const viewportDimensions = statefulStream({ height: 0, width: 0 });\n    const itemDimensions = statefulStream({ height: 0, width: 0 });\n    const scrollToIndex = stream();\n    const scrollHeight = stream();\n    const deviation = statefulStream(0);\n    const data = statefulStream(null);\n    const gap = statefulStream({ row: 0, column: 0 });\n    const stateChanged = stream();\n    const restoreStateFrom = stream();\n    const stateRestoreInProgress = statefulStream(false);\n    const initialTopMostItemIndex = statefulStream(0);\n    const scrolledToInitialItem = statefulStream(true);\n    const scrollScheduled = statefulStream(false);\n    subscribe(\n      pipe(\n        didMount,\n        withLatestFrom(initialTopMostItemIndex),\n        filter(([_, location]) => !!location)\n      ),\n      () => {\n        publish(scrolledToInitialItem, false);\n        publish(initialItemCount, 0);\n      }\n    );\n    subscribe(\n      pipe(\n        combineLatest(didMount, scrolledToInitialItem, itemDimensions, viewportDimensions, initialTopMostItemIndex, scrollScheduled),\n        filter(([didMount2, scrolledToInitialItem2, itemDimensions2, viewportDimensions2, , scrollScheduled2]) => {\n          return didMount2 && !scrolledToInitialItem2 && itemDimensions2.height !== 0 && viewportDimensions2.height !== 0 && !scrollScheduled2;\n        })\n      ),\n      ([, , , , initialTopMostItemIndex2]) => {\n        publish(scrollScheduled, true);\n        skipFrames(1, () => {\n          publish(scrollToIndex, initialTopMostItemIndex2);\n        });\n        handleNext(pipe(scrollTop), () => {\n          publish(listBoundary, [0, 0]);\n          publish(scrolledToInitialItem, true);\n        });\n      }\n    );\n    connect(\n      pipe(\n        restoreStateFrom,\n        filter((value) => value !== void 0 && value !== null && value.scrollTop > 0),\n        mapTo(0)\n      ),\n      initialItemCount\n    );\n    subscribe(\n      pipe(\n        didMount,\n        withLatestFrom(restoreStateFrom),\n        filter(([, snapshot]) => snapshot !== void 0 && snapshot !== null)\n      ),\n      ([, snapshot]) => {\n        if (!snapshot) {\n          return;\n        }\n        publish(viewportDimensions, snapshot.viewport), publish(itemDimensions, snapshot == null ? void 0 : snapshot.item);\n        publish(gap, snapshot.gap);\n        if (snapshot.scrollTop > 0) {\n          publish(stateRestoreInProgress, true);\n          handleNext(pipe(scrollTop, skip(1)), (_value) => {\n            publish(stateRestoreInProgress, false);\n          });\n          publish(scrollTo, { top: snapshot.scrollTop });\n        }\n      }\n    );\n    connect(\n      pipe(\n        viewportDimensions,\n        map(({ height }) => height)\n      ),\n      viewportHeight\n    );\n    connect(\n      pipe(\n        combineLatest(\n          duc(viewportDimensions, dimensionComparator),\n          duc(itemDimensions, dimensionComparator),\n          duc(gap, (prev, next) => prev && prev.column === next.column && prev.row === next.row),\n          duc(scrollTop)\n        ),\n        map(([viewport, item, gap2, scrollTop2]) => ({\n          viewport,\n          item,\n          gap: gap2,\n          scrollTop: scrollTop2\n        }))\n      ),\n      stateChanged\n    );\n    connect(\n      pipe(\n        combineLatest(\n          duc(totalCount),\n          visibleRange,\n          duc(gap, gapComparator),\n          duc(itemDimensions, dimensionComparator),\n          duc(viewportDimensions, dimensionComparator),\n          duc(data),\n          duc(initialItemCount),\n          duc(stateRestoreInProgress),\n          duc(scrolledToInitialItem),\n          duc(initialTopMostItemIndex)\n        ),\n        filter(([, , , , , , , stateRestoreInProgress2]) => {\n          return !stateRestoreInProgress2;\n        }),\n        map(\n          ([\n            totalCount2,\n            [startOffset, endOffset],\n            gap2,\n            item,\n            viewport,\n            data2,\n            initialItemCount2,\n            ,\n            scrolledToInitialItem2,\n            initialTopMostItemIndex2\n          ]) => {\n            const { row: rowGap, column: columnGap } = gap2;\n            const { height: itemHeight, width: itemWidth } = item;\n            const { width: viewportWidth } = viewport;\n            if (initialItemCount2 === 0 && (totalCount2 === 0 || viewportWidth === 0)) {\n              return INITIAL_GRID_STATE;\n            }\n            if (itemWidth === 0) {\n              const startIndex2 = getInitialTopMostItemIndexNumber(initialTopMostItemIndex2, totalCount2);\n              const endIndex2 = startIndex2 === 0 ? Math.max(initialItemCount2 - 1, 0) : startIndex2;\n              return buildProbeGridState(buildItems(startIndex2, endIndex2, data2));\n            }\n            const perRow = itemsPerRow(viewportWidth, itemWidth, columnGap);\n            let startIndex;\n            let endIndex;\n            if (!scrolledToInitialItem2) {\n              startIndex = 0;\n              endIndex = -1;\n            } else if (startOffset === 0 && endOffset === 0 && initialItemCount2 > 0) {\n              startIndex = 0;\n              endIndex = initialItemCount2 - 1;\n            } else {\n              startIndex = perRow * floor((startOffset + rowGap) / (itemHeight + rowGap));\n              endIndex = perRow * ceil((endOffset + rowGap) / (itemHeight + rowGap)) - 1;\n              endIndex = min(totalCount2 - 1, max(endIndex, perRow - 1));\n              startIndex = min(endIndex, max(0, startIndex));\n            }\n            const items = buildItems(startIndex, endIndex, data2);\n            const { top, bottom } = gridLayout(viewport, gap2, item, items);\n            const rowCount = ceil(totalCount2 / perRow);\n            const totalHeight = rowCount * itemHeight + (rowCount - 1) * rowGap;\n            const offsetBottom = totalHeight - bottom;\n            return { items, offsetTop: top, offsetBottom, top, bottom, itemHeight, itemWidth };\n          }\n        )\n      ),\n      gridState\n    );\n    connect(\n      pipe(\n        data,\n        filter((data2) => data2 !== null),\n        map((data2) => data2.length)\n      ),\n      totalCount\n    );\n    connect(\n      pipe(\n        combineLatest(viewportDimensions, itemDimensions, gridState, gap),\n        filter(([viewportDimensions2, itemDimensions2, { items }]) => {\n          return items.length > 0 && itemDimensions2.height !== 0 && viewportDimensions2.height !== 0;\n        }),\n        map(([viewportDimensions2, itemDimensions2, { items }, gap2]) => {\n          const { top, bottom } = gridLayout(viewportDimensions2, gap2, itemDimensions2, items);\n          return [top, bottom];\n        }),\n        distinctUntilChanged(tupleComparator)\n      ),\n      listBoundary\n    );\n    const hasScrolled = statefulStream(false);\n    connect(\n      pipe(\n        scrollTop,\n        withLatestFrom(hasScrolled),\n        map(([scrollTop2, hasScrolled2]) => {\n          return hasScrolled2 || scrollTop2 !== 0;\n        })\n      ),\n      hasScrolled\n    );\n    const endReached = streamFromEmitter(\n      pipe(\n        duc(gridState),\n        filter(({ items }) => items.length > 0),\n        withLatestFrom(totalCount, hasScrolled),\n        filter(([{ items }, totalCount2, hasScrolled2]) => hasScrolled2 && items[items.length - 1].index === totalCount2 - 1),\n        map(([, totalCount2]) => totalCount2 - 1),\n        distinctUntilChanged()\n      )\n    );\n    const startReached = streamFromEmitter(\n      pipe(\n        duc(gridState),\n        filter(({ items }) => {\n          return items.length > 0 && items[0].index === 0;\n        }),\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n        mapTo(0),\n        distinctUntilChanged()\n      )\n    );\n    const rangeChanged = streamFromEmitter(\n      pipe(\n        duc(gridState),\n        withLatestFrom(stateRestoreInProgress),\n        filter(([{ items }, stateRestoreInProgress2]) => items.length > 0 && !stateRestoreInProgress2),\n        map(([{ items }]) => {\n          return {\n            startIndex: items[0].index,\n            endIndex: items[items.length - 1].index\n          };\n        }),\n        distinctUntilChanged(rangeComparator),\n        throttleTime(0)\n      )\n    );\n    connect(rangeChanged, scrollSeek.scrollSeekRangeChanged);\n    connect(\n      pipe(\n        scrollToIndex,\n        withLatestFrom(viewportDimensions, itemDimensions, totalCount, gap),\n        map(([location, viewportDimensions2, itemDimensions2, totalCount2, gap2]) => {\n          const normalLocation = normalizeIndexLocation(location);\n          const { align, behavior, offset } = normalLocation;\n          let index = normalLocation.index;\n          if (index === \"LAST\") {\n            index = totalCount2 - 1;\n          }\n          index = max(0, index, min(totalCount2 - 1, index));\n          let top = itemTop(viewportDimensions2, gap2, itemDimensions2, index);\n          if (align === \"end\") {\n            top = round(top - viewportDimensions2.height + itemDimensions2.height);\n          } else if (align === \"center\") {\n            top = round(top - viewportDimensions2.height / 2 + itemDimensions2.height / 2);\n          }\n          if (offset) {\n            top += offset;\n          }\n          return { top, behavior };\n        })\n      ),\n      scrollTo\n    );\n    const totalListHeight = statefulStreamFromEmitter(\n      pipe(\n        gridState,\n        map((gridState2) => {\n          return gridState2.offsetBottom + gridState2.bottom;\n        })\n      ),\n      0\n    );\n    connect(\n      pipe(\n        windowViewportRect,\n        map((viewportInfo) => ({ width: viewportInfo.visibleWidth, height: viewportInfo.visibleHeight }))\n      ),\n      viewportDimensions\n    );\n    return {\n      // input\n      data,\n      totalCount,\n      viewportDimensions,\n      itemDimensions,\n      scrollTop,\n      scrollHeight,\n      overscan,\n      scrollBy,\n      scrollTo,\n      scrollToIndex,\n      smoothScrollTargetReached,\n      windowViewportRect,\n      windowScrollTo,\n      useWindowScroll,\n      customScrollParent,\n      windowScrollContainerState,\n      deviation,\n      scrollContainerState,\n      footerHeight,\n      headerHeight,\n      initialItemCount,\n      gap,\n      restoreStateFrom,\n      ...scrollSeek,\n      initialTopMostItemIndex,\n      // output\n      gridState,\n      totalListHeight,\n      ...stateFlags,\n      startReached,\n      endReached,\n      rangeChanged,\n      stateChanged,\n      propsReady,\n      stateRestoreInProgress,\n      ...log\n    };\n  },\n  tup(sizeRangeSystem, domIOSystem, stateFlagsSystem, scrollSeekSystem, propsReadySystem, windowScrollerSystem, loggerSystem)\n);\nfunction gridLayout(viewport, gap, item, items) {\n  const { height: itemHeight } = item;\n  if (itemHeight === void 0 || items.length === 0) {\n    return { top: 0, bottom: 0 };\n  }\n  const top = itemTop(viewport, gap, item, items[0].index);\n  const bottom = itemTop(viewport, gap, item, items[items.length - 1].index) + itemHeight;\n  return { top, bottom };\n}\nfunction itemTop(viewport, gap, item, index) {\n  const perRow = itemsPerRow(viewport.width, item.width, gap.column);\n  const rowCount = floor(index / perRow);\n  const top = rowCount * item.height + max(0, rowCount - 1) * gap.row;\n  return top > 0 ? top + gap.row : top;\n}\nfunction itemsPerRow(viewportWidth, itemWidth, gap) {\n  return max(1, floor((viewportWidth + gap) / (floor(itemWidth) + gap)));\n}\nconst gridComponentPropsSystem = /* @__PURE__ */ system(() => {\n  const itemContent = statefulStream((index) => `Item ${index}`);\n  const components = statefulStream({});\n  const context = statefulStream(null);\n  const itemClassName = statefulStream(\"virtuoso-grid-item\");\n  const listClassName = statefulStream(\"virtuoso-grid-list\");\n  const computeItemKey = statefulStream(identity);\n  const headerFooterTag = statefulStream(\"div\");\n  const scrollerRef = statefulStream(noop);\n  const distinctProp = (propName, defaultValue = null) => {\n    return statefulStreamFromEmitter(\n      pipe(\n        components,\n        map((components2) => components2[propName]),\n        distinctUntilChanged()\n      ),\n      defaultValue\n    );\n  };\n  return {\n    context,\n    itemContent,\n    components,\n    computeItemKey,\n    itemClassName,\n    listClassName,\n    headerFooterTag,\n    scrollerRef,\n    FooterComponent: distinctProp(\"Footer\"),\n    HeaderComponent: distinctProp(\"Header\"),\n    ListComponent: distinctProp(\"List\", \"div\"),\n    ItemComponent: distinctProp(\"Item\", \"div\"),\n    ScrollerComponent: distinctProp(\"Scroller\", \"div\"),\n    ScrollSeekPlaceholder: distinctProp(\"ScrollSeekPlaceholder\", \"div\")\n  };\n});\nconst combinedSystem$1 = /* @__PURE__ */ system(([gridSystem2, gridComponentPropsSystem2]) => {\n  return { ...gridSystem2, ...gridComponentPropsSystem2 };\n}, tup(gridSystem, gridComponentPropsSystem));\nconst GridItems = /* @__PURE__ */ React.memo(function GridItems2() {\n  const gridState = useEmitterValue$1(\"gridState\");\n  const listClassName = useEmitterValue$1(\"listClassName\");\n  const itemClassName = useEmitterValue$1(\"itemClassName\");\n  const itemContent = useEmitterValue$1(\"itemContent\");\n  const computeItemKey = useEmitterValue$1(\"computeItemKey\");\n  const isSeeking = useEmitterValue$1(\"isSeeking\");\n  const scrollHeightCallback = usePublisher$1(\"scrollHeight\");\n  const ItemComponent = useEmitterValue$1(\"ItemComponent\");\n  const ListComponent = useEmitterValue$1(\"ListComponent\");\n  const ScrollSeekPlaceholder = useEmitterValue$1(\"ScrollSeekPlaceholder\");\n  const context = useEmitterValue$1(\"context\");\n  const itemDimensions = usePublisher$1(\"itemDimensions\");\n  const gridGap = usePublisher$1(\"gap\");\n  const log = useEmitterValue$1(\"log\");\n  const stateRestoreInProgress = useEmitterValue$1(\"stateRestoreInProgress\");\n  const listRef = useSize((el) => {\n    const scrollHeight = el.parentElement.parentElement.scrollHeight;\n    scrollHeightCallback(scrollHeight);\n    const firstItem = el.firstChild;\n    if (firstItem) {\n      const { width, height } = firstItem.getBoundingClientRect();\n      itemDimensions({ width, height });\n    }\n    gridGap({\n      row: resolveGapValue(\"row-gap\", getComputedStyle(el).rowGap, log),\n      column: resolveGapValue(\"column-gap\", getComputedStyle(el).columnGap, log)\n    });\n  });\n  if (stateRestoreInProgress) {\n    return null;\n  }\n  return React.createElement(\n    ListComponent,\n    {\n      ref: listRef,\n      className: listClassName,\n      ...contextPropIfNotDomElement(ListComponent, context),\n      style: { paddingTop: gridState.offsetTop, paddingBottom: gridState.offsetBottom },\n      \"data-test-id\": \"virtuoso-item-list\"\n    },\n    gridState.items.map((item) => {\n      const key = computeItemKey(item.index, item.data, context);\n      return isSeeking ? React.createElement(ScrollSeekPlaceholder, {\n        key,\n        ...contextPropIfNotDomElement(ScrollSeekPlaceholder, context),\n        index: item.index,\n        height: gridState.itemHeight,\n        width: gridState.itemWidth\n      }) : React.createElement(\n        ItemComponent,\n        { ...contextPropIfNotDomElement(ItemComponent, context), className: itemClassName, \"data-index\": item.index, key },\n        itemContent(item.index, item.data, context)\n      );\n    })\n  );\n});\nconst Header = React.memo(function VirtuosoHeader2() {\n  const Header2 = useEmitterValue$1(\"HeaderComponent\");\n  const headerHeight = usePublisher$1(\"headerHeight\");\n  const headerFooterTag = useEmitterValue$1(\"headerFooterTag\");\n  const ref = useSize((el) => headerHeight(correctItemSize(el, \"height\")));\n  const context = useEmitterValue$1(\"context\");\n  return Header2 ? React.createElement(headerFooterTag, { ref }, React.createElement(Header2, contextPropIfNotDomElement(Header2, context))) : null;\n});\nconst Footer = React.memo(function VirtuosoGridFooter() {\n  const Footer2 = useEmitterValue$1(\"FooterComponent\");\n  const footerHeight = usePublisher$1(\"footerHeight\");\n  const headerFooterTag = useEmitterValue$1(\"headerFooterTag\");\n  const ref = useSize((el) => footerHeight(correctItemSize(el, \"height\")));\n  const context = useEmitterValue$1(\"context\");\n  return Footer2 ? React.createElement(headerFooterTag, { ref }, React.createElement(Footer2, contextPropIfNotDomElement(Footer2, context))) : null;\n});\nconst Viewport$1 = ({ children }) => {\n  const ctx = React.useContext(VirtuosoGridMockContext);\n  const itemDimensions = usePublisher$1(\"itemDimensions\");\n  const viewportDimensions = usePublisher$1(\"viewportDimensions\");\n  const viewportRef = useSize((el) => {\n    viewportDimensions(el.getBoundingClientRect());\n  });\n  React.useEffect(() => {\n    if (ctx) {\n      viewportDimensions({ height: ctx.viewportHeight, width: ctx.viewportWidth });\n      itemDimensions({ height: ctx.itemHeight, width: ctx.itemWidth });\n    }\n  }, [ctx, viewportDimensions, itemDimensions]);\n  return /* @__PURE__ */ React.createElement(\"div\", { style: viewportStyle, ref: viewportRef }, children);\n};\nconst WindowViewport$1 = ({ children }) => {\n  const ctx = React.useContext(VirtuosoGridMockContext);\n  const windowViewportRect = usePublisher$1(\"windowViewportRect\");\n  const itemDimensions = usePublisher$1(\"itemDimensions\");\n  const customScrollParent = useEmitterValue$1(\"customScrollParent\");\n  const viewportRef = useWindowViewportRectRef(windowViewportRect, customScrollParent);\n  React.useEffect(() => {\n    if (ctx) {\n      itemDimensions({ height: ctx.itemHeight, width: ctx.itemWidth });\n      windowViewportRect({ offsetTop: 0, visibleHeight: ctx.viewportHeight, visibleWidth: ctx.viewportWidth });\n    }\n  }, [ctx, windowViewportRect, itemDimensions]);\n  return /* @__PURE__ */ React.createElement(\"div\", { ref: viewportRef, style: viewportStyle }, children);\n};\nconst GridRoot = /* @__PURE__ */ React.memo(function GridRoot2({ ...props }) {\n  const useWindowScroll = useEmitterValue$1(\"useWindowScroll\");\n  const customScrollParent = useEmitterValue$1(\"customScrollParent\");\n  const TheScroller = customScrollParent || useWindowScroll ? WindowScroller$1 : Scroller$1;\n  const TheViewport = customScrollParent || useWindowScroll ? WindowViewport$1 : Viewport$1;\n  return /* @__PURE__ */ React.createElement(TheScroller, { ...props }, /* @__PURE__ */ React.createElement(TheViewport, null, /* @__PURE__ */ React.createElement(Header, null), /* @__PURE__ */ React.createElement(GridItems, null), /* @__PURE__ */ React.createElement(Footer, null)));\n});\nconst {\n  Component: Grid,\n  usePublisher: usePublisher$1,\n  useEmitterValue: useEmitterValue$1,\n  useEmitter: useEmitter$1\n} = /* @__PURE__ */ systemToComponent(\n  combinedSystem$1,\n  {\n    optional: {\n      context: \"context\",\n      totalCount: \"totalCount\",\n      overscan: \"overscan\",\n      itemContent: \"itemContent\",\n      components: \"components\",\n      computeItemKey: \"computeItemKey\",\n      data: \"data\",\n      initialItemCount: \"initialItemCount\",\n      scrollSeekConfiguration: \"scrollSeekConfiguration\",\n      headerFooterTag: \"headerFooterTag\",\n      listClassName: \"listClassName\",\n      itemClassName: \"itemClassName\",\n      useWindowScroll: \"useWindowScroll\",\n      customScrollParent: \"customScrollParent\",\n      scrollerRef: \"scrollerRef\",\n      logLevel: \"logLevel\",\n      restoreStateFrom: \"restoreStateFrom\",\n      initialTopMostItemIndex: \"initialTopMostItemIndex\"\n    },\n    methods: {\n      scrollTo: \"scrollTo\",\n      scrollBy: \"scrollBy\",\n      scrollToIndex: \"scrollToIndex\"\n    },\n    events: {\n      isScrolling: \"isScrolling\",\n      endReached: \"endReached\",\n      startReached: \"startReached\",\n      rangeChanged: \"rangeChanged\",\n      atBottomStateChange: \"atBottomStateChange\",\n      atTopStateChange: \"atTopStateChange\",\n      stateChanged: \"stateChanged\"\n    }\n  },\n  GridRoot\n);\nconst Scroller$1 = /* @__PURE__ */ buildScroller({ usePublisher: usePublisher$1, useEmitterValue: useEmitterValue$1, useEmitter: useEmitter$1 });\nconst WindowScroller$1 = /* @__PURE__ */ buildWindowScroller({ usePublisher: usePublisher$1, useEmitterValue: useEmitterValue$1, useEmitter: useEmitter$1 });\nfunction resolveGapValue(property, value, log) {\n  if (value !== \"normal\" && !(value == null ? void 0 : value.endsWith(\"px\"))) {\n    log(`${property} was not resolved to pixel value correctly`, value, LogLevel.WARN);\n  }\n  if (value === \"normal\") {\n    return 0;\n  }\n  return parseInt(value != null ? value : \"0\", 10);\n}\nconst VirtuosoGrid = Grid;\nconst tableComponentPropsSystem = /* @__PURE__ */ system(() => {\n  const itemContent = statefulStream((index) => /* @__PURE__ */ React.createElement(\"td\", null, \"Item $\", index));\n  const context = statefulStream(null);\n  const fixedHeaderContent = statefulStream(null);\n  const fixedFooterContent = statefulStream(null);\n  const components = statefulStream({});\n  const computeItemKey = statefulStream(identity);\n  const scrollerRef = statefulStream(noop);\n  const distinctProp = (propName, defaultValue = null) => {\n    return statefulStreamFromEmitter(\n      pipe(\n        components,\n        map((components2) => components2[propName]),\n        distinctUntilChanged()\n      ),\n      defaultValue\n    );\n  };\n  return {\n    context,\n    itemContent,\n    fixedHeaderContent,\n    fixedFooterContent,\n    components,\n    computeItemKey,\n    scrollerRef,\n    TableComponent: distinctProp(\"Table\", \"table\"),\n    TableHeadComponent: distinctProp(\"TableHead\", \"thead\"),\n    TableFooterComponent: distinctProp(\"TableFoot\", \"tfoot\"),\n    TableBodyComponent: distinctProp(\"TableBody\", \"tbody\"),\n    TableRowComponent: distinctProp(\"TableRow\", \"tr\"),\n    ScrollerComponent: distinctProp(\"Scroller\", \"div\"),\n    EmptyPlaceholder: distinctProp(\"EmptyPlaceholder\"),\n    ScrollSeekPlaceholder: distinctProp(\"ScrollSeekPlaceholder\"),\n    FillerRow: distinctProp(\"FillerRow\")\n  };\n});\nconst combinedSystem = /* @__PURE__ */ system(([listSystem2, propsSystem]) => {\n  return { ...listSystem2, ...propsSystem };\n}, tup(listSystem, tableComponentPropsSystem));\nconst DefaultScrollSeekPlaceholder = ({ height }) => /* @__PURE__ */ React.createElement(\"tr\", null, /* @__PURE__ */ React.createElement(\"td\", { style: { height } }));\nconst DefaultFillerRow = ({ height }) => /* @__PURE__ */ React.createElement(\"tr\", null, /* @__PURE__ */ React.createElement(\"td\", { style: { height, padding: 0, border: 0 } }));\nconst ITEM_STYLE = { overflowAnchor: \"none\" };\nconst Items = /* @__PURE__ */ React.memo(function VirtuosoItems2() {\n  const listState = useEmitterValue(\"listState\");\n  const sizeRanges = usePublisher(\"sizeRanges\");\n  const useWindowScroll = useEmitterValue(\"useWindowScroll\");\n  const customScrollParent = useEmitterValue(\"customScrollParent\");\n  const windowScrollContainerStateCallback = usePublisher(\"windowScrollContainerState\");\n  const _scrollContainerStateCallback = usePublisher(\"scrollContainerState\");\n  const scrollContainerStateCallback = customScrollParent || useWindowScroll ? windowScrollContainerStateCallback : _scrollContainerStateCallback;\n  const itemContent = useEmitterValue(\"itemContent\");\n  const trackItemSizes = useEmitterValue(\"trackItemSizes\");\n  const itemSize = useEmitterValue(\"itemSize\");\n  const log = useEmitterValue(\"log\");\n  const { callbackRef, ref } = useChangedListContentsSizes(\n    sizeRanges,\n    itemSize,\n    trackItemSizes,\n    scrollContainerStateCallback,\n    log,\n    void 0,\n    customScrollParent\n  );\n  const [deviation, setDeviation] = React.useState(0);\n  useEmitter(\"deviation\", (value) => {\n    if (deviation !== value) {\n      ref.current.style.marginTop = `${value}px`;\n      setDeviation(value);\n    }\n  });\n  const EmptyPlaceholder = useEmitterValue(\"EmptyPlaceholder\");\n  const ScrollSeekPlaceholder = useEmitterValue(\"ScrollSeekPlaceholder\") || DefaultScrollSeekPlaceholder;\n  const FillerRow = useEmitterValue(\"FillerRow\") || DefaultFillerRow;\n  const TableBodyComponent = useEmitterValue(\"TableBodyComponent\");\n  const TableRowComponent = useEmitterValue(\"TableRowComponent\");\n  const computeItemKey = useEmitterValue(\"computeItemKey\");\n  const isSeeking = useEmitterValue(\"isSeeking\");\n  const paddingTopAddition = useEmitterValue(\"paddingTopAddition\");\n  const firstItemIndex = useEmitterValue(\"firstItemIndex\");\n  const statefulTotalCount = useEmitterValue(\"statefulTotalCount\");\n  const context = useEmitterValue(\"context\");\n  if (statefulTotalCount === 0 && EmptyPlaceholder) {\n    return React.createElement(EmptyPlaceholder, contextPropIfNotDomElement(EmptyPlaceholder, context));\n  }\n  const paddingTop = listState.offsetTop + paddingTopAddition + deviation;\n  const paddingBottom = listState.offsetBottom;\n  const paddingTopEl = paddingTop > 0 ? /* @__PURE__ */ React.createElement(FillerRow, { height: paddingTop, key: \"padding-top\", context }) : null;\n  const paddingBottomEl = paddingBottom > 0 ? /* @__PURE__ */ React.createElement(FillerRow, { height: paddingBottom, key: \"padding-bottom\", context }) : null;\n  const items = listState.items.map((item) => {\n    const index = item.originalIndex;\n    const key = computeItemKey(index + firstItemIndex, item.data, context);\n    if (isSeeking) {\n      return React.createElement(ScrollSeekPlaceholder, {\n        ...contextPropIfNotDomElement(ScrollSeekPlaceholder, context),\n        key,\n        index: item.index,\n        height: item.size,\n        type: item.type || \"item\"\n      });\n    }\n    return React.createElement(\n      TableRowComponent,\n      {\n        ...contextPropIfNotDomElement(TableRowComponent, context),\n        key,\n        \"data-index\": index,\n        \"data-known-size\": item.size,\n        \"data-item-index\": item.index,\n        item: item.data,\n        style: ITEM_STYLE\n      },\n      itemContent(item.index, item.data, context)\n    );\n  });\n  return React.createElement(\n    TableBodyComponent,\n    { ref: callbackRef, \"data-test-id\": \"virtuoso-item-list\", ...contextPropIfNotDomElement(TableBodyComponent, context) },\n    [paddingTopEl, ...items, paddingBottomEl]\n  );\n});\nconst Viewport = ({ children }) => {\n  const ctx = React.useContext(VirtuosoMockContext);\n  const viewportHeight = usePublisher(\"viewportHeight\");\n  const fixedItemHeight = usePublisher(\"fixedItemHeight\");\n  const viewportRef = useSize(compose(viewportHeight, (el) => correctItemSize(el, \"height\")));\n  React.useEffect(() => {\n    if (ctx) {\n      viewportHeight(ctx.viewportHeight);\n      fixedItemHeight(ctx.itemHeight);\n    }\n  }, [ctx, viewportHeight, fixedItemHeight]);\n  return /* @__PURE__ */ React.createElement(\"div\", { style: viewportStyle, ref: viewportRef, \"data-viewport-type\": \"element\" }, children);\n};\nconst WindowViewport = ({ children }) => {\n  const ctx = React.useContext(VirtuosoMockContext);\n  const windowViewportRect = usePublisher(\"windowViewportRect\");\n  const fixedItemHeight = usePublisher(\"fixedItemHeight\");\n  const customScrollParent = useEmitterValue(\"customScrollParent\");\n  const viewportRef = useWindowViewportRectRef(windowViewportRect, customScrollParent);\n  React.useEffect(() => {\n    if (ctx) {\n      fixedItemHeight(ctx.itemHeight);\n      windowViewportRect({ offsetTop: 0, visibleHeight: ctx.viewportHeight, visibleWidth: 100 });\n    }\n  }, [ctx, windowViewportRect, fixedItemHeight]);\n  return /* @__PURE__ */ React.createElement(\"div\", { ref: viewportRef, style: viewportStyle, \"data-viewport-type\": \"window\" }, children);\n};\nconst TableRoot = /* @__PURE__ */ React.memo(function TableVirtuosoRoot(props) {\n  const useWindowScroll = useEmitterValue(\"useWindowScroll\");\n  const customScrollParent = useEmitterValue(\"customScrollParent\");\n  const fixedHeaderHeight = usePublisher(\"fixedHeaderHeight\");\n  const fixedFooterHeight = usePublisher(\"fixedFooterHeight\");\n  const fixedHeaderContent = useEmitterValue(\"fixedHeaderContent\");\n  const fixedFooterContent = useEmitterValue(\"fixedFooterContent\");\n  const context = useEmitterValue(\"context\");\n  const theadRef = useSize(compose(fixedHeaderHeight, (el) => correctItemSize(el, \"height\")));\n  const tfootRef = useSize(compose(fixedFooterHeight, (el) => correctItemSize(el, \"height\")));\n  const TheScroller = customScrollParent || useWindowScroll ? WindowScroller : Scroller;\n  const TheViewport = customScrollParent || useWindowScroll ? WindowViewport : Viewport;\n  const TheTable = useEmitterValue(\"TableComponent\");\n  const TheTHead = useEmitterValue(\"TableHeadComponent\");\n  const TheTFoot = useEmitterValue(\"TableFooterComponent\");\n  const theHead = fixedHeaderContent ? React.createElement(\n    TheTHead,\n    {\n      key: \"TableHead\",\n      style: { zIndex: 2, position: \"sticky\", top: 0 },\n      ref: theadRef,\n      ...contextPropIfNotDomElement(TheTHead, context)\n    },\n    fixedHeaderContent()\n  ) : null;\n  const theFoot = fixedFooterContent ? React.createElement(\n    TheTFoot,\n    {\n      key: \"TableFoot\",\n      style: { zIndex: 1, position: \"sticky\", bottom: 0 },\n      ref: tfootRef,\n      ...contextPropIfNotDomElement(TheTFoot, context)\n    },\n    fixedFooterContent()\n  ) : null;\n  return /* @__PURE__ */ React.createElement(TheScroller, { ...props }, /* @__PURE__ */ React.createElement(TheViewport, null, React.createElement(\n    TheTable,\n    { style: { borderSpacing: 0, overflowAnchor: \"none\" }, ...contextPropIfNotDomElement(TheTable, context) },\n    [theHead, /* @__PURE__ */ React.createElement(Items, { key: \"TableBody\" }), theFoot]\n  )));\n});\nconst {\n  Component: Table,\n  usePublisher,\n  useEmitterValue,\n  useEmitter\n} = /* @__PURE__ */ systemToComponent(\n  combinedSystem,\n  {\n    required: {},\n    optional: {\n      context: \"context\",\n      followOutput: \"followOutput\",\n      firstItemIndex: \"firstItemIndex\",\n      itemContent: \"itemContent\",\n      fixedHeaderContent: \"fixedHeaderContent\",\n      fixedFooterContent: \"fixedFooterContent\",\n      overscan: \"overscan\",\n      increaseViewportBy: \"increaseViewportBy\",\n      totalCount: \"totalCount\",\n      topItemCount: \"topItemCount\",\n      initialTopMostItemIndex: \"initialTopMostItemIndex\",\n      components: \"components\",\n      groupCounts: \"groupCounts\",\n      atBottomThreshold: \"atBottomThreshold\",\n      atTopThreshold: \"atTopThreshold\",\n      computeItemKey: \"computeItemKey\",\n      defaultItemHeight: \"defaultItemHeight\",\n      fixedItemHeight: \"fixedItemHeight\",\n      itemSize: \"itemSize\",\n      scrollSeekConfiguration: \"scrollSeekConfiguration\",\n      data: \"data\",\n      initialItemCount: \"initialItemCount\",\n      initialScrollTop: \"initialScrollTop\",\n      alignToBottom: \"alignToBottom\",\n      useWindowScroll: \"useWindowScroll\",\n      customScrollParent: \"customScrollParent\",\n      scrollerRef: \"scrollerRef\",\n      logLevel: \"logLevel\"\n    },\n    methods: {\n      scrollToIndex: \"scrollToIndex\",\n      scrollIntoView: \"scrollIntoView\",\n      scrollTo: \"scrollTo\",\n      scrollBy: \"scrollBy\"\n    },\n    events: {\n      isScrolling: \"isScrolling\",\n      endReached: \"endReached\",\n      startReached: \"startReached\",\n      rangeChanged: \"rangeChanged\",\n      atBottomStateChange: \"atBottomStateChange\",\n      atTopStateChange: \"atTopStateChange\",\n      totalListHeightChanged: \"totalListHeightChanged\",\n      itemsRendered: \"itemsRendered\",\n      groupIndices: \"groupIndices\"\n    }\n  },\n  TableRoot\n);\nconst Scroller = /* @__PURE__ */ buildScroller({ usePublisher, useEmitterValue, useEmitter });\nconst WindowScroller = /* @__PURE__ */ buildWindowScroller({ usePublisher, useEmitterValue, useEmitter });\nconst TableVirtuoso = Table;\nexport {\n  GroupedVirtuoso,\n  LogLevel,\n  TableVirtuoso,\n  Virtuoso,\n  VirtuosoGrid,\n  VirtuosoGridMockContext,\n  VirtuosoMockContext\n};\n","import { jsx, jsxs } from 'react/jsx-runtime';\nimport React, { Component, Children, cloneElement } from 'react';\nimport withScrolling, { createScrollingComponent, createVerticalStrength, createHorizontalStrength } from '@nosferatu500/react-dnd-scrollzone';\nimport isEqual from 'lodash.isequal';\nimport { DragSource, DropTarget, DndContext, DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { Virtuoso } from 'react-virtuoso';\n\nconst defaultGetNodeKey = ({ treeIndex }) => treeIndex;\nconst getReactElementText = (parent) => {\n  if (typeof parent === \"string\") {\n    return parent;\n  }\n  if (parent === void 0 || typeof parent !== \"object\" || !parent.props || !parent.props.children || typeof parent.props.children !== \"string\" && typeof parent.props.children !== \"object\") {\n    return \"\";\n  }\n  if (typeof parent.props.children === \"string\") {\n    return parent.props.children;\n  }\n  return parent.props.children.map((child) => getReactElementText(child)).join(\"\");\n};\nconst stringSearch = (key, searchQuery, node, path, treeIndex) => {\n  if (typeof node[key] === \"function\") {\n    return String(node[key]({ node, path, treeIndex })).includes(searchQuery);\n  }\n  if (typeof node[key] === \"object\") {\n    return getReactElementText(node[key]).includes(searchQuery);\n  }\n  return node[key] && String(node[key]).includes(searchQuery);\n};\nconst defaultSearchMethod = ({\n  node,\n  path,\n  treeIndex,\n  searchQuery\n}) => {\n  return stringSearch(\"title\", searchQuery, node, path, treeIndex) || stringSearch(\"subtitle\", searchQuery, node, path, treeIndex);\n};\n\nconst getNodeDataAtTreeIndexOrNextIndex = ({\n  targetIndex,\n  node,\n  currentIndex,\n  getNodeKey,\n  path = [],\n  lowerSiblingCounts = [],\n  ignoreCollapsed = true,\n  isPseudoRoot = false\n}) => {\n  const selfPath = isPseudoRoot ? [] : [...path, getNodeKey({ node, treeIndex: currentIndex })];\n  if (currentIndex === targetIndex) {\n    return {\n      node,\n      lowerSiblingCounts,\n      path: selfPath\n    };\n  }\n  if (!(node == null ? void 0 : node.children) || ignoreCollapsed && (node == null ? void 0 : node.expanded) !== true) {\n    return { nextIndex: currentIndex + 1 };\n  }\n  let childIndex = currentIndex + 1;\n  const childCount = node.children.length;\n  for (let i = 0; i < childCount; i += 1) {\n    const result = getNodeDataAtTreeIndexOrNextIndex({\n      ignoreCollapsed,\n      getNodeKey,\n      targetIndex,\n      node: node.children[i],\n      currentIndex: childIndex,\n      lowerSiblingCounts: [...lowerSiblingCounts, childCount - i - 1],\n      path: selfPath\n    });\n    if (result.node) {\n      return result;\n    }\n    childIndex = result.nextIndex;\n  }\n  return { nextIndex: childIndex };\n};\nconst getDescendantCount = ({\n  node,\n  ignoreCollapsed = true\n}) => {\n  return getNodeDataAtTreeIndexOrNextIndex({\n    getNodeKey: () => {\n    },\n    ignoreCollapsed,\n    node,\n    currentIndex: 0,\n    targetIndex: -1\n  }).nextIndex - 1;\n};\nconst walkDescendants = ({\n  callback,\n  getNodeKey,\n  ignoreCollapsed,\n  isPseudoRoot = false,\n  node,\n  parentNode = void 0,\n  currentIndex,\n  path = [],\n  lowerSiblingCounts = []\n}) => {\n  const selfPath = isPseudoRoot ? [] : [...path, getNodeKey({ node, treeIndex: currentIndex })];\n  const selfInfo = isPseudoRoot ? void 0 : {\n    node,\n    parentNode,\n    path: selfPath,\n    lowerSiblingCounts,\n    treeIndex: currentIndex\n  };\n  if (!isPseudoRoot) {\n    const callbackResult = callback(selfInfo);\n    if (callbackResult === false) {\n      return false;\n    }\n  }\n  if (!node.children || node.expanded !== true && ignoreCollapsed && !isPseudoRoot) {\n    return currentIndex;\n  }\n  let childIndex = currentIndex;\n  const childCount = node.children.length;\n  if (typeof node.children !== \"function\") {\n    for (let i = 0; i < childCount; i += 1) {\n      childIndex = walkDescendants({\n        callback,\n        getNodeKey,\n        ignoreCollapsed,\n        node: node.children[i],\n        parentNode: isPseudoRoot ? void 0 : node,\n        currentIndex: childIndex + 1,\n        lowerSiblingCounts: [...lowerSiblingCounts, childCount - i - 1],\n        path: selfPath\n      });\n      if (childIndex === false) {\n        return false;\n      }\n    }\n  }\n  return childIndex;\n};\nconst mapDescendants = ({\n  callback,\n  getNodeKey,\n  ignoreCollapsed,\n  isPseudoRoot = false,\n  node,\n  parentNode = void 0,\n  currentIndex,\n  path = [],\n  lowerSiblingCounts = []\n}) => {\n  const nextNode = { ...node };\n  const selfPath = isPseudoRoot ? [] : [...path, getNodeKey({ node: nextNode, treeIndex: currentIndex })];\n  const selfInfo = {\n    node: nextNode,\n    parentNode,\n    path: selfPath,\n    lowerSiblingCounts,\n    treeIndex: currentIndex\n  };\n  if (!nextNode.children || nextNode.expanded !== true && ignoreCollapsed && !isPseudoRoot) {\n    return {\n      treeIndex: currentIndex,\n      node: callback(selfInfo)\n    };\n  }\n  let childIndex = currentIndex;\n  const childCount = nextNode.children.length;\n  if (typeof nextNode.children !== \"function\") {\n    nextNode.children = nextNode.children.map((child, i) => {\n      const mapResult = mapDescendants({\n        callback,\n        getNodeKey,\n        ignoreCollapsed,\n        node: child,\n        parentNode: isPseudoRoot ? void 0 : nextNode,\n        currentIndex: childIndex + 1,\n        lowerSiblingCounts: [...lowerSiblingCounts, childCount - i - 1],\n        path: selfPath\n      });\n      childIndex = mapResult.treeIndex;\n      return mapResult.node;\n    });\n  }\n  return {\n    node: callback(selfInfo),\n    treeIndex: childIndex\n  };\n};\nconst getVisibleNodeCount = ({ treeData }) => {\n  const traverse = (node) => {\n    if (!node.children || node.expanded !== true || typeof node.children === \"function\") {\n      return 1;\n    }\n    return 1 + node.children.reduce(\n      (total, currentNode) => total + traverse(currentNode),\n      0\n    );\n  };\n  return treeData.reduce(\n    (total, currentNode) => total + traverse(currentNode),\n    0\n  );\n};\nconst getVisibleNodeInfoAtIndex = ({\n  treeData,\n  index: targetIndex,\n  getNodeKey\n}) => {\n  if (!treeData || treeData.length === 0) {\n    return void 0;\n  }\n  const result = getNodeDataAtTreeIndexOrNextIndex({\n    targetIndex,\n    getNodeKey,\n    node: {\n      children: treeData,\n      expanded: true\n    },\n    currentIndex: -1,\n    path: [],\n    lowerSiblingCounts: [],\n    isPseudoRoot: true\n  });\n  if (result.node) {\n    return result;\n  }\n  return void 0;\n};\nconst walk = ({\n  treeData,\n  getNodeKey,\n  callback,\n  ignoreCollapsed = true\n}) => {\n  if (!treeData || treeData.length === 0) {\n    return;\n  }\n  walkDescendants({\n    callback,\n    getNodeKey,\n    ignoreCollapsed,\n    isPseudoRoot: true,\n    node: { children: treeData },\n    currentIndex: -1,\n    path: [],\n    lowerSiblingCounts: []\n  });\n};\nconst map = ({\n  treeData,\n  getNodeKey,\n  callback,\n  ignoreCollapsed = true\n}) => {\n  if (!treeData || treeData.length === 0) {\n    return [];\n  }\n  return mapDescendants({\n    callback,\n    getNodeKey,\n    ignoreCollapsed,\n    isPseudoRoot: true,\n    node: { children: treeData },\n    currentIndex: -1,\n    path: [],\n    lowerSiblingCounts: []\n  }).node.children;\n};\nconst toggleExpandedForAll = ({\n  treeData,\n  expanded = true\n}) => {\n  return map({\n    treeData,\n    callback: ({ node }) => ({ ...node, expanded }),\n    getNodeKey: ({ treeIndex }) => treeIndex,\n    ignoreCollapsed: false\n  });\n};\nconst changeNodeAtPath = ({\n  treeData,\n  path,\n  newNode,\n  getNodeKey,\n  ignoreCollapsed = true\n}) => {\n  const RESULT_MISS = \"RESULT_MISS\";\n  const traverse = ({\n    isPseudoRoot = false,\n    node,\n    currentTreeIndex,\n    pathIndex\n  }) => {\n    if (!isPseudoRoot && getNodeKey({ node, treeIndex: currentTreeIndex }) !== path[pathIndex]) {\n      return RESULT_MISS;\n    }\n    if (pathIndex >= path.length - 1) {\n      return typeof newNode === \"function\" ? newNode({ node, treeIndex: currentTreeIndex }) : newNode;\n    }\n    if (!node.children) {\n      throw new Error(\"Path referenced children of node with no children.\");\n    }\n    let nextTreeIndex = currentTreeIndex + 1;\n    for (let i = 0; i < node.children.length; i += 1) {\n      const result2 = traverse({\n        node: node.children[i],\n        currentTreeIndex: nextTreeIndex,\n        pathIndex: pathIndex + 1\n      });\n      if (result2 !== RESULT_MISS) {\n        if (result2) {\n          return {\n            ...node,\n            children: [\n              ...node.children.slice(0, i),\n              result2,\n              ...node.children.slice(i + 1)\n            ]\n          };\n        }\n        return {\n          ...node,\n          children: [\n            ...node.children.slice(0, i),\n            ...node.children.slice(i + 1)\n          ]\n        };\n      }\n      nextTreeIndex += 1 + getDescendantCount({ node: node.children[i], ignoreCollapsed });\n    }\n    return RESULT_MISS;\n  };\n  const result = traverse({\n    node: { children: treeData },\n    currentTreeIndex: -1,\n    pathIndex: -1,\n    isPseudoRoot: true\n  });\n  if (result === RESULT_MISS) {\n    throw new Error(\"No node found at the given path.\");\n  }\n  return result.children;\n};\nconst removeNodeAtPath = ({\n  treeData,\n  path,\n  getNodeKey,\n  ignoreCollapsed = true\n}) => {\n  return changeNodeAtPath({\n    treeData,\n    path,\n    getNodeKey,\n    ignoreCollapsed,\n    newNode: void 0\n    // Delete the node\n  });\n};\nconst removeNode = ({\n  treeData,\n  path,\n  getNodeKey,\n  ignoreCollapsed = true\n}) => {\n  let removedNode;\n  let removedTreeIndex;\n  const nextTreeData = changeNodeAtPath({\n    treeData,\n    path,\n    getNodeKey,\n    ignoreCollapsed,\n    newNode: ({ node, treeIndex }) => {\n      removedNode = node;\n      removedTreeIndex = treeIndex;\n      return void 0;\n    }\n  });\n  return {\n    treeData: nextTreeData,\n    node: removedNode,\n    treeIndex: removedTreeIndex\n  };\n};\nconst getNodeAtPath = ({\n  treeData,\n  path,\n  getNodeKey,\n  ignoreCollapsed = true\n}) => {\n  let foundNodeInfo;\n  try {\n    changeNodeAtPath({\n      treeData,\n      path,\n      getNodeKey,\n      ignoreCollapsed,\n      newNode: ({ node, treeIndex }) => {\n        foundNodeInfo = { node, treeIndex };\n        return node;\n      }\n    });\n  } catch {\n  }\n  return foundNodeInfo;\n};\nconst addNodeUnderParent = ({\n  treeData,\n  newNode,\n  parentKey = void 0,\n  getNodeKey,\n  ignoreCollapsed = true,\n  expandParent = false,\n  addAsFirstChild = false\n}) => {\n  if (parentKey === null || parentKey === void 0) {\n    return addAsFirstChild ? {\n      treeData: [newNode, ...treeData || []],\n      treeIndex: 0\n    } : {\n      treeData: [...treeData || [], newNode],\n      treeIndex: (treeData || []).length\n    };\n  }\n  let insertedTreeIndex;\n  let hasBeenAdded = false;\n  const changedTreeData = map({\n    treeData,\n    getNodeKey,\n    ignoreCollapsed,\n    callback: ({ node, treeIndex, path }) => {\n      const key = path ? path[path.length - 1] : void 0;\n      if (hasBeenAdded || key !== parentKey) {\n        return node;\n      }\n      hasBeenAdded = true;\n      const parentNode = {\n        ...node\n      };\n      if (expandParent) {\n        parentNode.expanded = true;\n      }\n      if (!parentNode.children) {\n        insertedTreeIndex = treeIndex + 1;\n        return {\n          ...parentNode,\n          children: [newNode]\n        };\n      }\n      if (typeof parentNode.children === \"function\") {\n        throw new TypeError(\"Cannot add to children defined by a function\");\n      }\n      let nextTreeIndex = treeIndex + 1;\n      for (let i = 0; i < parentNode.children.length; i += 1) {\n        nextTreeIndex += 1 + getDescendantCount({ node: parentNode.children[i], ignoreCollapsed });\n      }\n      insertedTreeIndex = nextTreeIndex;\n      const children = addAsFirstChild ? [newNode, ...parentNode.children] : [...parentNode.children, newNode];\n      return {\n        ...parentNode,\n        children\n      };\n    }\n  });\n  if (!hasBeenAdded) {\n    throw new Error(\"No node found with the given key.\");\n  }\n  return {\n    treeData: changedTreeData,\n    treeIndex: insertedTreeIndex\n  };\n};\nconst addNodeAtDepthAndIndex = ({\n  targetDepth,\n  minimumTreeIndex,\n  newNode,\n  ignoreCollapsed,\n  expandParent,\n  isPseudoRoot = false,\n  isLastChild,\n  node,\n  currentIndex,\n  currentDepth,\n  getNodeKey,\n  path = []\n}) => {\n  const selfPath = (n) => isPseudoRoot ? [] : [...path, getNodeKey({ node: n, treeIndex: currentIndex })];\n  if (currentIndex >= minimumTreeIndex - 1 || isLastChild && !(node.children && node.children.length > 0)) {\n    if (typeof node.children === \"function\") {\n      throw new TypeError(\"Cannot add to children defined by a function\");\n    } else {\n      const extraNodeProps = expandParent ? { expanded: true } : {};\n      const nextNode2 = {\n        ...node,\n        ...extraNodeProps,\n        children: node.children ? [newNode, ...node.children] : [newNode]\n      };\n      return {\n        node: nextNode2,\n        nextIndex: currentIndex + 2,\n        insertedTreeIndex: currentIndex + 1,\n        parentPath: selfPath(nextNode2),\n        parentNode: isPseudoRoot ? void 0 : nextNode2\n      };\n    }\n  }\n  if (currentDepth >= targetDepth - 1) {\n    if (!node.children || typeof node.children === \"function\" || node.expanded !== true && ignoreCollapsed && !isPseudoRoot) {\n      return { node, nextIndex: currentIndex + 1 };\n    }\n    let childIndex2 = currentIndex + 1;\n    let insertedTreeIndex2;\n    let insertIndex;\n    for (let i = 0; i < node.children.length; i += 1) {\n      if (childIndex2 >= minimumTreeIndex) {\n        insertedTreeIndex2 = childIndex2;\n        insertIndex = i;\n        break;\n      }\n      childIndex2 += 1 + getDescendantCount({ node: node.children[i], ignoreCollapsed });\n    }\n    if (insertIndex === null || insertIndex === void 0) {\n      if (childIndex2 < minimumTreeIndex && !isLastChild) {\n        return { node, nextIndex: childIndex2 };\n      }\n      insertedTreeIndex2 = childIndex2;\n      insertIndex = node.children.length;\n    }\n    const nextNode2 = {\n      ...node,\n      children: [\n        ...node.children.slice(0, insertIndex),\n        newNode,\n        ...node.children.slice(insertIndex)\n      ]\n    };\n    return {\n      node: nextNode2,\n      nextIndex: childIndex2,\n      insertedTreeIndex: insertedTreeIndex2,\n      parentPath: selfPath(nextNode2),\n      parentNode: isPseudoRoot ? void 0 : nextNode2\n    };\n  }\n  if (!node.children || typeof node.children === \"function\" || node.expanded !== true && ignoreCollapsed && !isPseudoRoot) {\n    return { node, nextIndex: currentIndex + 1 };\n  }\n  let insertedTreeIndex;\n  let pathFragment;\n  let parentNode;\n  let childIndex = currentIndex + 1;\n  let newChildren = node.children;\n  if (typeof newChildren !== \"function\") {\n    newChildren = newChildren.map((child, i) => {\n      if (insertedTreeIndex !== null && insertedTreeIndex !== void 0) {\n        return child;\n      }\n      const mapResult = addNodeAtDepthAndIndex({\n        targetDepth,\n        minimumTreeIndex,\n        newNode,\n        ignoreCollapsed,\n        expandParent,\n        isLastChild: isLastChild && i === newChildren.length - 1,\n        node: child,\n        currentIndex: childIndex,\n        currentDepth: currentDepth + 1,\n        getNodeKey,\n        path: []\n        // Cannot determine the parent path until the children have been processed\n      });\n      if (\"insertedTreeIndex\" in mapResult) {\n        ({\n          insertedTreeIndex,\n          parentNode,\n          parentPath: pathFragment\n        } = mapResult);\n      }\n      childIndex = mapResult.nextIndex;\n      return mapResult.node;\n    });\n  }\n  const nextNode = { ...node, children: newChildren };\n  const result = {\n    node: nextNode,\n    nextIndex: childIndex\n  };\n  if (insertedTreeIndex !== null && insertedTreeIndex !== void 0) {\n    result.insertedTreeIndex = insertedTreeIndex;\n    result.parentPath = [...selfPath(nextNode), ...pathFragment];\n    result.parentNode = parentNode;\n  }\n  return result;\n};\nconst insertNode = ({\n  treeData,\n  depth: targetDepth,\n  minimumTreeIndex,\n  newNode,\n  getNodeKey,\n  ignoreCollapsed = true,\n  expandParent = false\n}) => {\n  if (!treeData && targetDepth === 0) {\n    return {\n      treeData: [newNode],\n      treeIndex: 0,\n      path: [getNodeKey({ node: newNode, treeIndex: 0 })],\n      parentNode: void 0\n    };\n  }\n  const insertResult = addNodeAtDepthAndIndex({\n    targetDepth,\n    minimumTreeIndex,\n    newNode,\n    ignoreCollapsed,\n    expandParent,\n    getNodeKey,\n    isPseudoRoot: true,\n    isLastChild: true,\n    node: { children: treeData },\n    currentIndex: -1,\n    currentDepth: -1\n  });\n  if (!(\"insertedTreeIndex\" in insertResult)) {\n    throw new Error(\"No suitable position found to insert.\");\n  }\n  const treeIndex = insertResult.insertedTreeIndex;\n  return {\n    treeData: insertResult.node.children,\n    treeIndex,\n    path: [\n      ...insertResult.parentPath,\n      getNodeKey({ node: newNode, treeIndex })\n    ],\n    parentNode: insertResult.parentNode\n  };\n};\nconst getFlatDataFromTree = ({\n  treeData,\n  getNodeKey,\n  ignoreCollapsed = true\n}) => {\n  if (!treeData || treeData.length === 0) {\n    return [];\n  }\n  const flattened = [];\n  walk({\n    treeData,\n    getNodeKey,\n    ignoreCollapsed,\n    callback: (nodeInfo) => {\n      flattened.push(nodeInfo);\n    }\n  });\n  return flattened;\n};\nconst getTreeFromFlatData = ({\n  flatData,\n  getKey = (node) => node.id,\n  getParentKey = (node) => node.parentId,\n  rootKey = \"0\"\n}) => {\n  if (!flatData) {\n    return [];\n  }\n  const childrenToParents = {};\n  for (const child of flatData) {\n    const parentKey = getParentKey(child);\n    if (parentKey in childrenToParents) {\n      childrenToParents[parentKey].push(child);\n    } else {\n      childrenToParents[parentKey] = [child];\n    }\n  }\n  if (!(rootKey in childrenToParents)) {\n    return [];\n  }\n  const trav = (parent) => {\n    const parentKey = getKey(parent);\n    if (parentKey in childrenToParents) {\n      return {\n        ...parent,\n        children: childrenToParents[parentKey].map((child) => trav(child))\n      };\n    }\n    return { ...parent };\n  };\n  return childrenToParents[rootKey].map((child) => trav(child));\n};\nconst isDescendant = (older, younger) => {\n  return !!older.children && typeof older.children !== \"function\" && older.children.some(\n    (child) => child === younger || isDescendant(child, younger)\n  );\n};\nconst getDepth = (node, depth = 0) => {\n  if (!node.children) {\n    return depth;\n  }\n  if (typeof node.children === \"function\") {\n    return depth + 1;\n  }\n  return node.children.reduce(\n    (deepest, child) => Math.max(deepest, getDepth(child, depth + 1)),\n    depth\n  );\n};\nconst find = ({\n  getNodeKey,\n  treeData,\n  searchQuery,\n  searchMethod,\n  searchFocusOffset,\n  expandAllMatchPaths = false,\n  expandFocusMatchPaths = true\n}) => {\n  let matchCount = 0;\n  const trav = ({ isPseudoRoot = false, node, currentIndex, path = [] }) => {\n    let matches = [];\n    let isSelfMatch = false;\n    let hasFocusMatch = false;\n    const selfPath = isPseudoRoot ? [] : [...path, getNodeKey({ node, treeIndex: currentIndex })];\n    const extraInfo = isPseudoRoot ? void 0 : {\n      path: selfPath,\n      treeIndex: currentIndex\n    };\n    const hasChildren = node.children && typeof node.children !== \"function\" && node.children.length > 0;\n    if (!isPseudoRoot && searchMethod({ ...extraInfo, node, searchQuery })) {\n      if (matchCount === searchFocusOffset) {\n        hasFocusMatch = true;\n      }\n      matchCount += 1;\n      isSelfMatch = true;\n    }\n    let childIndex = currentIndex;\n    const newNode = { ...node };\n    if (hasChildren) {\n      newNode.children = newNode.children.map((child) => {\n        const mapResult = trav({\n          node: child,\n          currentIndex: childIndex + 1,\n          path: selfPath\n        });\n        if (mapResult.node.expanded) {\n          childIndex = mapResult.treeIndex;\n        } else {\n          childIndex += 1;\n        }\n        if (mapResult.matches.length > 0 || mapResult.hasFocusMatch) {\n          matches = [...matches, ...mapResult.matches];\n          if (mapResult.hasFocusMatch) {\n            hasFocusMatch = true;\n          }\n          if (expandAllMatchPaths && mapResult.matches.length > 0 || (expandAllMatchPaths || expandFocusMatchPaths) && mapResult.hasFocusMatch) {\n            newNode.expanded = true;\n          }\n        }\n        return mapResult.node;\n      });\n    }\n    if (!isPseudoRoot && !newNode.expanded) {\n      matches = matches.map((match) => ({\n        ...match,\n        treeIndex: void 0\n      }));\n    }\n    if (isSelfMatch) {\n      matches = [{ ...extraInfo, node: newNode }, ...matches];\n    }\n    return {\n      node: matches.length > 0 ? newNode : node,\n      matches,\n      hasFocusMatch,\n      treeIndex: childIndex\n    };\n  };\n  const result = trav({\n    node: { children: treeData },\n    isPseudoRoot: true,\n    currentIndex: -1\n  });\n  return {\n    matches: result.matches,\n    treeData: result.node.children\n  };\n};\n\nconst classnames = (...classes) => classes.filter(Boolean).join(\" \");\n\nconst defaultProps$3 = {\n  isSearchMatch: false,\n  isSearchFocus: false,\n  canDrag: false,\n  toggleChildrenVisibility: void 0,\n  buttons: [],\n  className: \"\",\n  style: {},\n  parentNode: void 0,\n  draggedNode: void 0,\n  canDrop: false,\n  title: void 0,\n  subtitle: void 0,\n  rowDirection: \"ltr\"\n};\nconst NodeRendererDefault = function(props) {\n  props = { ...defaultProps$3, ...props };\n  const {\n    scaffoldBlockPxWidth,\n    toggleChildrenVisibility,\n    connectDragPreview,\n    connectDragSource,\n    isDragging,\n    canDrop,\n    canDrag,\n    node,\n    title,\n    subtitle,\n    draggedNode,\n    path,\n    treeIndex,\n    isSearchMatch,\n    isSearchFocus,\n    buttons,\n    className,\n    style,\n    didDrop,\n    treeId: _treeId,\n    isOver: _isOver,\n    // Not needed, but preserved for other renderers\n    parentNode: _parentNode,\n    // Needed for dndManager\n    rowDirection,\n    ...otherProps\n  } = props;\n  const nodeTitle = title || node.title;\n  const nodeSubtitle = subtitle || node.subtitle;\n  const rowDirectionClass = rowDirection === \"rtl\" ? \"rst__rtl\" : void 0;\n  let handle;\n  if (canDrag) {\n    handle = typeof node.children === \"function\" && node.expanded ? /* @__PURE__ */ jsx(\"div\", { className: \"rst__loadingHandle\", children: /* @__PURE__ */ jsx(\"div\", { className: \"rst__loadingCircle\", children: Array.from({ length: 12 }).map((_, index) => /* @__PURE__ */ jsx(\n      \"div\",\n      {\n        className: classnames(\n          \"rst__loadingCirclePoint\",\n          rowDirectionClass ?? \"\"\n        )\n      },\n      index\n    )) }) }) : connectDragSource(/* @__PURE__ */ jsx(\"div\", { className: \"rst__moveHandle\" }), {\n      dropEffect: \"copy\"\n    });\n  }\n  const isDraggedDescendant = draggedNode && isDescendant(draggedNode, node);\n  const isLandingPadActive = !didDrop && isDragging;\n  let buttonStyle = { left: -0.5 * scaffoldBlockPxWidth, right: 0 };\n  if (rowDirection === \"rtl\") {\n    buttonStyle = { right: -0.5 * scaffoldBlockPxWidth, left: 0 };\n  }\n  return /* @__PURE__ */ jsxs(\"div\", { style: { height: \"100%\" }, ...otherProps, children: [\n    toggleChildrenVisibility && node.children && (node.children.length > 0 || typeof node.children === \"function\") && /* @__PURE__ */ jsxs(\"div\", { children: [\n      /* @__PURE__ */ jsx(\n        \"button\",\n        {\n          type: \"button\",\n          \"aria-label\": node.expanded ? \"Collapse\" : \"Expand\",\n          className: classnames(\n            node.expanded ? \"rst__collapseButton\" : \"rst__expandButton\",\n            rowDirectionClass ?? \"\"\n          ),\n          style: buttonStyle,\n          onClick: () => toggleChildrenVisibility({\n            node,\n            path,\n            treeIndex\n          })\n        }\n      ),\n      node.expanded && !isDragging && /* @__PURE__ */ jsx(\n        \"div\",\n        {\n          style: { width: scaffoldBlockPxWidth },\n          className: classnames(\n            \"rst__lineChildren\",\n            rowDirectionClass ?? \"\"\n          )\n        }\n      )\n    ] }),\n    /* @__PURE__ */ jsx(\"div\", { className: classnames(\"rst__rowWrapper\", rowDirectionClass ?? \"\"), children: connectDragPreview(\n      /* @__PURE__ */ jsxs(\n        \"div\",\n        {\n          className: classnames(\n            \"rst__row\",\n            isLandingPadActive ? \"rst__rowLandingPad\" : \"\",\n            isLandingPadActive && !canDrop ? \"rst__rowCancelPad\" : \"\",\n            isSearchMatch ? \"rst__rowSearchMatch\" : \"\",\n            isSearchFocus ? \"rst__rowSearchFocus\" : \"\",\n            rowDirectionClass ?? \"\",\n            className ?? \"\"\n          ),\n          style: {\n            opacity: isDraggedDescendant ? 0.5 : 1,\n            ...style\n          },\n          children: [\n            handle,\n            /* @__PURE__ */ jsxs(\n              \"div\",\n              {\n                className: classnames(\n                  \"rst__rowContents\",\n                  canDrag ? \"\" : \"rst__rowContentsDragDisabled\",\n                  rowDirectionClass ?? \"\"\n                ),\n                children: [\n                  /* @__PURE__ */ jsxs(\n                    \"div\",\n                    {\n                      className: classnames(\n                        \"rst__rowLabel\",\n                        rowDirectionClass ?? \"\"\n                      ),\n                      children: [\n                        /* @__PURE__ */ jsx(\n                          \"span\",\n                          {\n                            className: classnames(\n                              \"rst__rowTitle\",\n                              node.subtitle ? \"rst__rowTitleWithSubtitle\" : \"\"\n                            ),\n                            children: typeof nodeTitle === \"function\" ? nodeTitle({\n                              node,\n                              path,\n                              treeIndex\n                            }) : nodeTitle\n                          }\n                        ),\n                        nodeSubtitle && /* @__PURE__ */ jsx(\"span\", { className: \"rst__rowSubtitle\", children: typeof nodeSubtitle === \"function\" ? nodeSubtitle({\n                          node,\n                          path,\n                          treeIndex\n                        }) : nodeSubtitle })\n                      ]\n                    }\n                  ),\n                  /* @__PURE__ */ jsx(\"div\", { className: \"rst__rowToolbar\", children: buttons == null ? void 0 : buttons.map((btn, index) => /* @__PURE__ */ jsx(\"div\", { className: \"rst__toolbarButton\", children: btn }, index)) })\n                ]\n              }\n            )\n          ]\n        }\n      )\n    ) })\n  ] });\n};\n\nconst defaultProps$2 = {\n  isOver: false,\n  canDrop: false\n};\nconst PlaceholderRendererDefault = function(props) {\n  props = { ...defaultProps$2, ...props };\n  const { canDrop, isOver } = props;\n  return /* @__PURE__ */ jsx(\n    \"div\",\n    {\n      className: classnames(\n        \"rst__placeholder\",\n        canDrop ? \"rst__placeholderLandingPad\" : \"\",\n        canDrop && !isOver ? \"rst__placeholderCancelPad\" : \"\"\n      )\n    }\n  );\n};\n\nconst defaultProps$1 = {\n  swapFrom: void 0,\n  swapDepth: void 0,\n  swapLength: void 0,\n  canDrop: false,\n  draggedNode: void 0,\n  rowDirection: \"ltr\"\n};\nclass TreeNodeComponent extends Component {\n  render() {\n    const props = { ...defaultProps$1, ...this.props };\n    const {\n      children,\n      listIndex,\n      swapFrom,\n      swapLength,\n      swapDepth,\n      scaffoldBlockPxWidth,\n      lowerSiblingCounts,\n      connectDropTarget,\n      isOver,\n      draggedNode,\n      canDrop,\n      treeIndex,\n      rowHeight,\n      treeId: _treeId,\n      // Delete from otherProps\n      getPrevRow: _getPrevRow,\n      // Delete from otherProps\n      node: _node,\n      // Delete from otherProps\n      path: _path,\n      // Delete from otherProps\n      rowDirection,\n      ...otherProps\n    } = props;\n    const rowDirectionClass = rowDirection === \"rtl\" ? \"rst__rtl\" : void 0;\n    const scaffoldBlockCount = lowerSiblingCounts.length;\n    const scaffold = [];\n    for (const [i, lowerSiblingCount] of lowerSiblingCounts.entries()) {\n      let lineClass = \"\";\n      if (lowerSiblingCount > 0) {\n        if (listIndex === 0) {\n          lineClass = \"rst__lineHalfHorizontalRight rst__lineHalfVerticalBottom\";\n        } else if (i === scaffoldBlockCount - 1) {\n          lineClass = \"rst__lineHalfHorizontalRight rst__lineFullVertical\";\n        } else {\n          lineClass = \"rst__lineFullVertical\";\n        }\n      } else if (listIndex === 0) {\n        lineClass = \"rst__lineHalfHorizontalRight\";\n      } else if (i === scaffoldBlockCount - 1) {\n        lineClass = \"rst__lineHalfVerticalTop rst__lineHalfHorizontalRight\";\n      }\n      scaffold.push(\n        /* @__PURE__ */ jsx(\n          \"div\",\n          {\n            style: { width: scaffoldBlockPxWidth },\n            className: classnames(\n              \"rst__lineBlock\",\n              lineClass,\n              rowDirectionClass ?? \"\"\n            )\n          },\n          `pre_${1 + i}`\n        )\n      );\n      if (treeIndex !== listIndex && i === swapDepth) {\n        let highlightLineClass = \"\";\n        if (listIndex === swapFrom + swapLength - 1) {\n          highlightLineClass = \"rst__highlightBottomLeftCorner\";\n        } else if (treeIndex === swapFrom) {\n          highlightLineClass = \"rst__highlightTopLeftCorner\";\n        } else {\n          highlightLineClass = \"rst__highlightLineVertical\";\n        }\n        const style2 = rowDirection === \"rtl\" ? {\n          width: scaffoldBlockPxWidth,\n          right: scaffoldBlockPxWidth * i\n        } : {\n          width: scaffoldBlockPxWidth,\n          left: scaffoldBlockPxWidth * i\n        };\n        scaffold.push(\n          /* @__PURE__ */ jsx(\n            \"div\",\n            {\n              style: style2,\n              className: classnames(\n                \"rst__absoluteLineBlock\",\n                highlightLineClass,\n                rowDirectionClass ?? \"\"\n              )\n            },\n            i\n          )\n        );\n      }\n    }\n    const style = rowDirection === \"rtl\" ? { right: scaffoldBlockPxWidth * scaffoldBlockCount } : { left: scaffoldBlockPxWidth * scaffoldBlockCount };\n    let calculatedRowHeight = rowHeight;\n    if (typeof rowHeight === \"function\") {\n      calculatedRowHeight = rowHeight(treeIndex, _node, _path);\n    }\n    return connectDropTarget(\n      /* @__PURE__ */ jsxs(\n        \"div\",\n        {\n          ...otherProps,\n          style: { height: `${calculatedRowHeight}px` },\n          className: classnames(\"rst__node\", rowDirectionClass ?? \"\"),\n          ref: (node) => this.node = node,\n          children: [\n            scaffold,\n            /* @__PURE__ */ jsx(\"div\", { className: \"rst__nodeContent\", style, children: Children.map(\n              children,\n              (child) => cloneElement(child, {\n                isOver,\n                canDrop,\n                draggedNode\n              })\n            ) })\n          ]\n        }\n      )\n    );\n  }\n}\n\nconst defaultProps = {\n  canDrop: false,\n  draggedNode: void 0\n};\nconst TreePlaceholder = (props) => {\n  props = { ...defaultProps, ...props };\n  const { children, connectDropTarget, treeId, drop, ...otherProps } = props;\n  return connectDropTarget(\n    /* @__PURE__ */ jsx(\"div\", { children: Children.map(\n      children,\n      (child) => cloneElement(child, {\n        ...otherProps\n      })\n    ) })\n  );\n};\n\nlet rafId = 0;\nconst nodeDragSourcePropInjection = (connect, monitor) => ({\n  connectDragSource: connect.dragSource(),\n  connectDragPreview: connect.dragPreview(),\n  isDragging: monitor.isDragging(),\n  didDrop: monitor.didDrop()\n});\nconst wrapSource = (el, startDrag, endDrag, dndType) => {\n  const nodeDragSource = {\n    beginDrag: (props) => {\n      startDrag(props);\n      return {\n        node: props.node,\n        parentNode: props.parentNode,\n        path: props.path,\n        treeIndex: props.treeIndex,\n        treeId: props.treeId\n      };\n    },\n    endDrag: (props, monitor) => {\n      endDrag(monitor.getDropResult());\n    },\n    isDragging: (props, monitor) => {\n      const dropTargetNode = monitor.getItem().node;\n      const draggedNode = props.node;\n      return draggedNode === dropTargetNode;\n    }\n  };\n  return DragSource(dndType, nodeDragSource, nodeDragSourcePropInjection)(el);\n};\nconst propInjection = (connect, monitor) => {\n  const dragged = monitor.getItem();\n  return {\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver(),\n    canDrop: monitor.canDrop(),\n    draggedNode: dragged ? dragged.node : void 0\n  };\n};\nconst wrapPlaceholder = (el, treeId, drop, dndType) => {\n  const placeholderDropTarget = {\n    drop: (dropTargetProps, monitor) => {\n      const { node, path, treeIndex } = monitor.getItem();\n      const result = {\n        node,\n        path,\n        treeIndex,\n        treeId,\n        minimumTreeIndex: 0,\n        depth: 0\n      };\n      drop(result);\n      return result;\n    }\n  };\n  return DropTarget(dndType, placeholderDropTarget, propInjection)(el);\n};\nconst getTargetDepth = (dropTargetProps, monitor, component, canNodeHaveChildren, treeId, maxDepth) => {\n  let dropTargetDepth = 0;\n  const rowAbove = dropTargetProps.getPrevRow();\n  if (rowAbove) {\n    const { node } = rowAbove;\n    let { path } = rowAbove;\n    const aboveNodeCannotHaveChildren = !canNodeHaveChildren(node);\n    if (aboveNodeCannotHaveChildren) {\n      path = path.slice(0, -1);\n    }\n    dropTargetDepth = Math.min(path.length, dropTargetProps.path.length);\n  }\n  let blocksOffset;\n  let dragSourceInitialDepth = (monitor.getItem().path || []).length;\n  if (monitor.getItem().treeId === treeId) {\n    const direction = dropTargetProps.rowDirection === \"rtl\" ? -1 : 1;\n    blocksOffset = Math.round(\n      direction * monitor.getDifferenceFromInitialOffset().x / dropTargetProps.scaffoldBlockPxWidth\n    );\n  } else {\n    dragSourceInitialDepth = 0;\n    if (component) {\n      const relativePosition = component.node.getBoundingClientRect();\n      const leftShift = monitor.getSourceClientOffset().x - relativePosition.left;\n      blocksOffset = Math.round(\n        leftShift / dropTargetProps.scaffoldBlockPxWidth\n      );\n    } else {\n      blocksOffset = dropTargetProps.path.length;\n    }\n  }\n  let targetDepth = Math.min(\n    dropTargetDepth,\n    Math.max(0, dragSourceInitialDepth + blocksOffset - 1)\n  );\n  if (maxDepth !== void 0 && maxDepth !== void 0) {\n    const draggedNode = monitor.getItem().node;\n    const draggedChildDepth = getDepth(draggedNode);\n    targetDepth = Math.max(\n      0,\n      Math.min(targetDepth, maxDepth - draggedChildDepth - 1)\n    );\n  }\n  return targetDepth;\n};\nconst canDrop = (dropTargetProps, monitor, canNodeHaveChildren, treeId, maxDepth, treeRefcanDrop, draggingTreeData, treeReftreeData, getNodeKey) => {\n  if (!monitor.isOver()) {\n    return false;\n  }\n  const rowAbove = dropTargetProps.getPrevRow();\n  const abovePath = rowAbove ? rowAbove.path : [];\n  const aboveNode = rowAbove ? rowAbove.node : {};\n  const targetDepth = getTargetDepth(\n    dropTargetProps,\n    monitor,\n    void 0,\n    canNodeHaveChildren,\n    treeId,\n    maxDepth\n  );\n  if (targetDepth >= abovePath.length && typeof aboveNode.children === \"function\") {\n    return false;\n  }\n  if (typeof treeRefcanDrop === \"function\") {\n    const { node } = monitor.getItem();\n    return treeRefcanDrop({\n      node,\n      prevPath: monitor.getItem().path,\n      prevParent: monitor.getItem().parentNode,\n      prevTreeIndex: monitor.getItem().treeIndex,\n      // Equals -1 when dragged from external tree\n      nextPath: dropTargetProps.children.props.path,\n      nextParent: dropTargetProps.children.props.parentNode,\n      nextTreeIndex: dropTargetProps.children.props.treeIndex\n    });\n  }\n  return true;\n};\nconst wrapTarget = (el, canNodeHaveChildren, treeId, maxDepth, treeRefcanDrop, drop, dragHover, dndType, draggingTreeData, treeReftreeData, getNodeKey) => {\n  const nodeDropTarget = {\n    drop: (dropTargetProps, monitor, component) => {\n      const result = {\n        node: monitor.getItem().node,\n        path: monitor.getItem().path,\n        treeIndex: monitor.getItem().treeIndex,\n        treeId,\n        minimumTreeIndex: dropTargetProps.treeIndex,\n        depth: getTargetDepth(\n          dropTargetProps,\n          monitor,\n          component,\n          canNodeHaveChildren,\n          treeId,\n          maxDepth\n        )\n      };\n      drop(result);\n      return result;\n    },\n    hover: (dropTargetProps, monitor, component) => {\n      const targetDepth = getTargetDepth(\n        dropTargetProps,\n        monitor,\n        component,\n        canNodeHaveChildren,\n        treeId,\n        maxDepth\n      );\n      const draggedNode = monitor.getItem().node;\n      const needsRedraw = (\n        // Redraw if hovered above different nodes\n        dropTargetProps.node !== draggedNode || // Or hovered above the same node but at a different depth\n        targetDepth !== dropTargetProps.path.length - 1\n      );\n      if (!needsRedraw) {\n        return;\n      }\n      cancelAnimationFrame(rafId);\n      rafId = requestAnimationFrame(() => {\n        const item = monitor.getItem();\n        if (!item || !monitor.isOver()) {\n          return;\n        }\n        dragHover({\n          node: draggedNode,\n          path: item.path,\n          minimumTreeIndex: dropTargetProps.listIndex,\n          depth: targetDepth\n        });\n      });\n    },\n    canDrop: (dropTargetProps, monitor) => canDrop(\n      dropTargetProps,\n      monitor,\n      canNodeHaveChildren,\n      treeId,\n      maxDepth,\n      treeRefcanDrop)\n  };\n  return DropTarget(dndType, nodeDropTarget, propInjection)(el);\n};\n\nconst slideRows = (rows, fromIndex, toIndex, count = 1) => {\n  const rowsWithoutMoved = [\n    ...rows.slice(0, fromIndex),\n    ...rows.slice(fromIndex + count)\n  ];\n  return [\n    ...rowsWithoutMoved.slice(0, toIndex),\n    ...rows.slice(fromIndex, fromIndex + count),\n    ...rowsWithoutMoved.slice(toIndex)\n  ];\n};\n\nconst memoize = (f) => {\n  let savedArgsArray = [];\n  let savedKeysArray = [];\n  let savedResult;\n  return (args) => {\n    const keysArray = Object.keys(args).sort();\n    const argsArray = keysArray.map((key) => args[key]);\n    if (argsArray.length !== savedArgsArray.length || argsArray.some((arg, index) => arg !== savedArgsArray[index]) || keysArray.some((key, index) => key !== savedKeysArray[index])) {\n      savedArgsArray = argsArray;\n      savedKeysArray = keysArray;\n      savedResult = f(args);\n    }\n    return savedResult;\n  };\n};\nconst memoizedInsertNode = memoize(insertNode);\nconst memoizedGetFlatDataFromTree = memoize(getFlatDataFromTree);\nconst memoizedGetDescendantCount = memoize(getDescendantCount);\n\nlet treeIdCounter = 1;\nconst mergeTheme = (props) => {\n  const merged = {\n    ...props,\n    style: { ...props.theme.style, ...props.style },\n    innerStyle: { ...props.theme.innerStyle, ...props.innerStyle }\n  };\n  const overridableDefaults = {\n    nodeContentRenderer: NodeRendererDefault,\n    placeholderRenderer: PlaceholderRendererDefault,\n    scaffoldBlockPxWidth: 44,\n    slideRegionSize: 100,\n    rowHeight: 62,\n    treeNodeRenderer: TreeNodeComponent\n  };\n  for (const propKey of Object.keys(overridableDefaults)) {\n    if (props[propKey] === void 0) {\n      merged[propKey] = props.theme[propKey] === void 0 ? overridableDefaults[propKey] : props.theme[propKey];\n    }\n  }\n  return merged;\n};\nclass ReactSortableTree extends Component {\n  constructor(props) {\n    super(props);\n    this.startDrag = ({ path }) => {\n      this.setState((prevState) => {\n        const {\n          treeData: draggingTreeData,\n          node: draggedNode,\n          treeIndex: draggedMinimumTreeIndex\n        } = removeNode({\n          treeData: prevState.instanceProps.treeData,\n          path,\n          getNodeKey: this.props.getNodeKey\n        });\n        return {\n          draggingTreeData,\n          draggedNode,\n          draggedDepth: path.length - 1,\n          draggedMinimumTreeIndex,\n          dragging: true\n        };\n      });\n    };\n    this.dragHover = ({\n      node: draggedNode,\n      depth: draggedDepth,\n      minimumTreeIndex: draggedMinimumTreeIndex\n    }) => {\n      if (this.state.draggedDepth === draggedDepth && this.state.draggedMinimumTreeIndex === draggedMinimumTreeIndex) {\n        return;\n      }\n      this.setState(({ draggingTreeData, instanceProps }) => {\n        const newDraggingTreeData = draggingTreeData || instanceProps.treeData;\n        const addedResult = memoizedInsertNode({\n          treeData: newDraggingTreeData,\n          newNode: draggedNode,\n          depth: draggedDepth,\n          minimumTreeIndex: draggedMinimumTreeIndex,\n          expandParent: true,\n          getNodeKey: this.props.getNodeKey\n        });\n        const rows = this.getRows(addedResult.treeData);\n        const expandedParentPath = rows[addedResult.treeIndex].path;\n        return {\n          draggedNode,\n          draggedDepth,\n          draggedMinimumTreeIndex,\n          draggingTreeData: changeNodeAtPath({\n            treeData: newDraggingTreeData,\n            path: expandedParentPath.slice(0, -1),\n            newNode: ({ node }) => ({ ...node, expanded: true }),\n            getNodeKey: this.props.getNodeKey\n          }),\n          // reset the scroll focus so it doesn't jump back\n          // to a search result while dragging\n          searchFocusTreeIndex: void 0,\n          dragging: true\n        };\n      });\n    };\n    this.endDrag = (dropResult) => {\n      const { instanceProps } = this.state;\n      if (!dropResult) {\n        this.setState({\n          draggingTreeData: void 0,\n          draggedNode: void 0,\n          draggedMinimumTreeIndex: void 0,\n          draggedDepth: void 0,\n          dragging: false\n        });\n      } else if (dropResult.treeId !== this.treeId) {\n        const { node, path, treeIndex } = dropResult;\n        let shouldCopy = this.props.shouldCopyOnOutsideDrop;\n        if (typeof shouldCopy === \"function\") {\n          shouldCopy = shouldCopy({\n            node,\n            prevTreeIndex: treeIndex,\n            prevPath: path\n          });\n        }\n        let treeData = this.state.draggingTreeData || instanceProps.treeData;\n        if (shouldCopy) {\n          treeData = changeNodeAtPath({\n            treeData: instanceProps.treeData,\n            // use treeData unaltered by the drag operation\n            path,\n            newNode: ({ node: copyNode }) => ({ ...copyNode }),\n            // create a shallow copy of the node\n            getNodeKey: this.props.getNodeKey\n          });\n        }\n        this.props.onChange(treeData);\n        this.props.onMoveNode({\n          treeData,\n          node,\n          treeIndex: void 0,\n          path: void 0,\n          nextPath: void 0,\n          nextTreeIndex: void 0,\n          prevPath: path,\n          prevTreeIndex: treeIndex\n        });\n      }\n    };\n    this.drop = (dropResult) => {\n      this.moveNode(dropResult);\n    };\n    this.canNodeHaveChildren = (node) => {\n      const { canNodeHaveChildren } = this.props;\n      if (canNodeHaveChildren) {\n        return canNodeHaveChildren(node);\n      }\n      return true;\n    };\n    this.listRef = props.virtuosoRef || React.createRef();\n    this.listProps = props.virtuosoProps || {};\n    const { dndType, nodeContentRenderer, treeNodeRenderer, slideRegionSize } = mergeTheme(props);\n    this.treeId = `rst__${treeIdCounter}`;\n    treeIdCounter += 1;\n    this.dndType = dndType || this.treeId;\n    this.nodeContentRenderer = wrapSource(\n      nodeContentRenderer,\n      this.startDrag,\n      this.endDrag,\n      this.dndType\n    );\n    this.treePlaceholderRenderer = wrapPlaceholder(\n      TreePlaceholder,\n      this.treeId,\n      this.drop,\n      this.dndType\n    );\n    this.scrollZoneVirtualList = (createScrollingComponent || withScrolling)(\n      React.forwardRef((props2, ref) => {\n        const { dragDropManager, rowHeight, ...otherProps } = props2;\n        return /* @__PURE__ */ jsx(\n          Virtuoso,\n          {\n            ref: this.listRef,\n            scrollerRef: (scrollContainer) => ref.current = scrollContainer,\n            ...otherProps\n          }\n        );\n      })\n    );\n    this.vStrength = createVerticalStrength(slideRegionSize);\n    this.hStrength = createHorizontalStrength(slideRegionSize);\n    this.state = {\n      draggingTreeData: void 0,\n      draggedNode: void 0,\n      draggedMinimumTreeIndex: void 0,\n      draggedDepth: void 0,\n      searchMatches: [],\n      searchFocusTreeIndex: void 0,\n      dragging: false,\n      // props that need to be used in gDSFP or static functions will be stored here\n      instanceProps: {\n        treeData: [],\n        ignoreOneTreeUpdate: false,\n        searchQuery: void 0,\n        searchFocusOffset: void 0\n      }\n    };\n    this.treeNodeRenderer = wrapTarget(\n      treeNodeRenderer,\n      this.canNodeHaveChildren,\n      this.treeId,\n      this.props.maxDepth,\n      this.props.canDrop,\n      this.drop,\n      this.dragHover,\n      this.dndType,\n      this.state.draggingTreeData,\n      this.props.treeData,\n      this.props.getNodeKey\n    );\n    this.toggleChildrenVisibility = this.toggleChildrenVisibility.bind(this);\n    this.moveNode = this.moveNode.bind(this);\n    this.startDrag = this.startDrag.bind(this);\n    this.dragHover = this.dragHover.bind(this);\n    this.endDrag = this.endDrag.bind(this);\n    this.drop = this.drop.bind(this);\n    this.handleDndMonitorChange = this.handleDndMonitorChange.bind(this);\n  }\n  // returns the new state after search\n  static search(props, state, seekIndex, expand, singleSearch) {\n    const {\n      onChange,\n      getNodeKey,\n      searchFinishCallback,\n      searchQuery,\n      searchMethod,\n      searchFocusOffset,\n      onlyExpandSearchedNodes\n    } = props;\n    const { instanceProps } = state;\n    if (!searchQuery && !searchMethod) {\n      if (searchFinishCallback) {\n        searchFinishCallback([]);\n      }\n      return { searchMatches: [] };\n    }\n    const newState = { instanceProps: {} };\n    const { treeData: expandedTreeData, matches: searchMatches } = find({\n      getNodeKey,\n      treeData: onlyExpandSearchedNodes ? toggleExpandedForAll({\n        treeData: instanceProps.treeData,\n        expanded: false\n      }) : instanceProps.treeData,\n      searchQuery,\n      searchMethod: searchMethod || defaultSearchMethod,\n      searchFocusOffset,\n      expandAllMatchPaths: expand && !singleSearch,\n      expandFocusMatchPaths: !!expand\n    });\n    if (expand) {\n      newState.instanceProps.ignoreOneTreeUpdate = true;\n      onChange(expandedTreeData);\n    }\n    if (searchFinishCallback) {\n      searchFinishCallback(searchMatches);\n    }\n    let searchFocusTreeIndex;\n    if (seekIndex && searchFocusOffset !== void 0 && searchFocusOffset < searchMatches.length) {\n      searchFocusTreeIndex = searchMatches[searchFocusOffset].treeIndex;\n    }\n    newState.searchMatches = searchMatches;\n    newState.searchFocusTreeIndex = searchFocusTreeIndex;\n    return newState;\n  }\n  // Load any children in the tree that are given by a function\n  // calls the onChange callback on the new treeData\n  static loadLazyChildren(props, state) {\n    const { instanceProps } = state;\n    walk({\n      treeData: instanceProps.treeData,\n      getNodeKey: props.getNodeKey,\n      callback: ({ node, path, lowerSiblingCounts, treeIndex }) => {\n        if (node.children && typeof node.children === \"function\" && (node.expanded || props.loadCollapsedLazyChildren)) {\n          node.children({\n            node,\n            path,\n            lowerSiblingCounts,\n            treeIndex,\n            // Provide a helper to append the new data when it is received\n            done: (childrenArray) => props.onChange(\n              changeNodeAtPath({\n                treeData: instanceProps.treeData,\n                path,\n                newNode: ({ node: oldNode }) => (\n                  // Only replace the old node if it's the one we set off to find children\n                  //  for in the first place\n                  oldNode === node ? {\n                    ...oldNode,\n                    children: childrenArray\n                  } : oldNode\n                ),\n                getNodeKey: props.getNodeKey\n              })\n            )\n          });\n        }\n      }\n    });\n  }\n  componentDidMount() {\n    ReactSortableTree.loadLazyChildren(this.props, this.state);\n    const stateUpdate = ReactSortableTree.search(\n      this.props,\n      this.state,\n      true,\n      true,\n      false\n    );\n    this.setState(stateUpdate);\n    this.clearMonitorSubscription = this.props.dragDropManager.getMonitor().subscribeToStateChange(this.handleDndMonitorChange);\n  }\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const { instanceProps } = prevState;\n    const newState = {};\n    const newInstanceProps = { ...instanceProps };\n    const isTreeDataEqual = isEqual(instanceProps.treeData, nextProps.treeData);\n    newInstanceProps.treeData = nextProps.treeData;\n    if (!isTreeDataEqual) {\n      if (instanceProps.ignoreOneTreeUpdate) {\n        newInstanceProps.ignoreOneTreeUpdate = false;\n      } else {\n        newState.searchFocusTreeIndex = void 0;\n        ReactSortableTree.loadLazyChildren(nextProps, prevState);\n        Object.assign(\n          newState,\n          ReactSortableTree.search(nextProps, prevState, false, false, false)\n        );\n      }\n      newState.draggingTreeData = void 0;\n      newState.draggedNode = void 0;\n      newState.draggedMinimumTreeIndex = void 0;\n      newState.draggedDepth = void 0;\n      newState.dragging = false;\n    } else if (!isEqual(instanceProps.searchQuery, nextProps.searchQuery)) {\n      Object.assign(\n        newState,\n        ReactSortableTree.search(nextProps, prevState, true, true, false)\n      );\n    } else if (instanceProps.searchFocusOffset !== nextProps.searchFocusOffset) {\n      Object.assign(\n        newState,\n        ReactSortableTree.search(nextProps, prevState, true, true, true)\n      );\n    }\n    newInstanceProps.searchQuery = nextProps.searchQuery;\n    newInstanceProps.searchFocusOffset = nextProps.searchFocusOffset;\n    newState.instanceProps = { ...newInstanceProps, ...newState.instanceProps };\n    return newState;\n  }\n  // listen to dragging\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.dragging !== prevState.dragging && this.props.onDragStateChanged) {\n      this.props.onDragStateChanged({\n        isDragging: this.state.dragging,\n        draggedNode: this.state.draggedNode\n      });\n    }\n  }\n  componentWillUnmount() {\n    this.clearMonitorSubscription();\n  }\n  handleDndMonitorChange() {\n    const monitor = this.props.dragDropManager.getMonitor();\n    if (!monitor.isDragging() && this.state.draggingTreeData) {\n      setTimeout(() => {\n        this.endDrag();\n      });\n    }\n  }\n  getRows(treeData) {\n    return memoizedGetFlatDataFromTree({\n      ignoreCollapsed: true,\n      getNodeKey: this.props.getNodeKey,\n      treeData\n    });\n  }\n  toggleChildrenVisibility({ node: targetNode, path }) {\n    const { instanceProps } = this.state;\n    const treeData = changeNodeAtPath({\n      treeData: instanceProps.treeData,\n      path,\n      newNode: ({ node }) => ({ ...node, expanded: !node.expanded }),\n      getNodeKey: this.props.getNodeKey\n    });\n    this.props.onChange(treeData);\n    this.props.onVisibilityToggle({\n      treeData,\n      node: targetNode,\n      expanded: !targetNode.expanded,\n      path\n    });\n  }\n  moveNode({\n    node,\n    path: prevPath,\n    treeIndex: prevTreeIndex,\n    depth,\n    minimumTreeIndex\n  }) {\n    const {\n      treeData,\n      treeIndex,\n      path,\n      parentNode: nextParentNode\n    } = insertNode({\n      treeData: this.state.draggingTreeData,\n      newNode: node,\n      depth,\n      minimumTreeIndex,\n      expandParent: true,\n      getNodeKey: this.props.getNodeKey\n    });\n    this.props.onChange(treeData);\n    this.props.onMoveNode({\n      treeData,\n      node,\n      treeIndex,\n      path,\n      nextPath: path,\n      nextTreeIndex: treeIndex,\n      prevPath,\n      prevTreeIndex,\n      nextParentNode\n    });\n  }\n  renderRow(row, { listIndex, style, getPrevRow, matchKeys, swapFrom, swapDepth, swapLength }) {\n    const { node, parentNode, path, lowerSiblingCounts, treeIndex } = row;\n    const {\n      canDrag,\n      generateNodeProps,\n      scaffoldBlockPxWidth,\n      searchFocusOffset,\n      rowDirection,\n      rowHeight\n    } = mergeTheme(this.props);\n    const TreeNodeRenderer = this.treeNodeRenderer;\n    const NodeContentRenderer = this.nodeContentRenderer;\n    const nodeKey = path[path.length - 1];\n    const isSearchMatch = nodeKey in matchKeys;\n    const isSearchFocus = isSearchMatch && matchKeys[nodeKey] === searchFocusOffset;\n    const callbackParams = {\n      node,\n      parentNode,\n      path,\n      lowerSiblingCounts,\n      treeIndex,\n      isSearchMatch,\n      isSearchFocus\n    };\n    const nodeProps = generateNodeProps ? generateNodeProps(callbackParams) : {};\n    const rowCanDrag = typeof canDrag === \"function\" ? canDrag(callbackParams) : canDrag;\n    const sharedProps = {\n      treeIndex,\n      scaffoldBlockPxWidth,\n      node,\n      path,\n      treeId: this.treeId,\n      rowDirection\n    };\n    return /* @__PURE__ */ jsx(\n      TreeNodeRenderer,\n      {\n        style,\n        rowHeight,\n        listIndex,\n        getPrevRow,\n        lowerSiblingCounts,\n        swapFrom,\n        swapLength,\n        swapDepth,\n        ...sharedProps,\n        children: /* @__PURE__ */ jsx(\n          NodeContentRenderer,\n          {\n            parentNode,\n            isSearchMatch,\n            isSearchFocus,\n            canDrag: rowCanDrag,\n            toggleChildrenVisibility: this.toggleChildrenVisibility,\n            ...sharedProps,\n            ...nodeProps\n          }\n        )\n      },\n      nodeKey\n    );\n  }\n  render() {\n    const {\n      dragDropManager,\n      style,\n      className,\n      innerStyle,\n      placeholderRenderer,\n      getNodeKey,\n      rowDirection\n    } = mergeTheme(this.props);\n    const {\n      searchMatches,\n      searchFocusTreeIndex,\n      draggedNode,\n      draggedDepth,\n      draggedMinimumTreeIndex,\n      instanceProps\n    } = this.state;\n    const treeData = this.state.draggingTreeData || instanceProps.treeData;\n    const rowDirectionClass = rowDirection === \"rtl\" ? \"rst__rtl\" : void 0;\n    let rows;\n    let swapFrom;\n    let swapLength;\n    if (draggedNode && draggedMinimumTreeIndex !== void 0) {\n      const addedResult = memoizedInsertNode({\n        treeData,\n        newNode: draggedNode,\n        depth: draggedDepth,\n        minimumTreeIndex: draggedMinimumTreeIndex,\n        expandParent: true,\n        getNodeKey\n      });\n      const swapTo = draggedMinimumTreeIndex;\n      swapFrom = addedResult.treeIndex;\n      swapLength = 1 + memoizedGetDescendantCount({ node: draggedNode });\n      rows = slideRows(\n        this.getRows(addedResult.treeData),\n        swapFrom,\n        swapTo,\n        swapLength\n      );\n    } else {\n      rows = this.getRows(treeData);\n    }\n    const matchKeys = {};\n    for (const [i, { path }] of searchMatches.entries()) {\n      matchKeys[path[path.length - 1]] = i;\n    }\n    if (searchFocusTreeIndex !== void 0) {\n      this.listRef.current.scrollToIndex({\n        index: searchFocusTreeIndex,\n        align: \"center\"\n      });\n    }\n    let containerStyle = style;\n    let list;\n    if (rows.length === 0) {\n      const Placeholder = this.treePlaceholderRenderer;\n      const PlaceholderContent = placeholderRenderer;\n      list = /* @__PURE__ */ jsx(Placeholder, { treeId: this.treeId, drop: this.drop, children: /* @__PURE__ */ jsx(PlaceholderContent, {}) });\n    } else {\n      containerStyle = { height: \"100%\", ...containerStyle };\n      const ScrollZoneVirtualList = this.scrollZoneVirtualList;\n      list = /* @__PURE__ */ jsx(\n        ScrollZoneVirtualList,\n        {\n          data: rows,\n          dragDropManager,\n          verticalStrength: this.vStrength,\n          horizontalStrength: this.hStrength,\n          className: \"rst__virtualScrollOverride\",\n          style: innerStyle,\n          itemContent: (index) => this.renderRow(rows[index], {\n            listIndex: index,\n            getPrevRow: () => rows[index - 1] || void 0,\n            matchKeys,\n            swapFrom,\n            swapDepth: draggedDepth,\n            swapLength\n          }),\n          ...this.listProps\n        }\n      );\n    }\n    return /* @__PURE__ */ jsx(\n      \"div\",\n      {\n        className: classnames(\"rst__tree\", className, rowDirectionClass),\n        style: containerStyle,\n        children: list\n      }\n    );\n  }\n}\nReactSortableTree.defaultProps = {\n  canDrag: true,\n  canDrop: void 0,\n  canNodeHaveChildren: () => true,\n  className: \"\",\n  dndType: void 0,\n  generateNodeProps: void 0,\n  getNodeKey: defaultGetNodeKey,\n  innerStyle: {},\n  maxDepth: void 0,\n  treeNodeRenderer: void 0,\n  nodeContentRenderer: void 0,\n  onMoveNode: () => {\n  },\n  onVisibilityToggle: () => {\n  },\n  placeholderRenderer: void 0,\n  scaffoldBlockPxWidth: void 0,\n  searchFinishCallback: void 0,\n  searchFocusOffset: void 0,\n  searchMethod: void 0,\n  searchQuery: void 0,\n  shouldCopyOnOutsideDrop: false,\n  slideRegionSize: void 0,\n  style: {},\n  theme: {},\n  onDragStateChanged: () => {\n  },\n  onlyExpandSearchedNodes: false,\n  rowDirection: \"ltr\",\n  debugMode: false,\n  overscan: 0\n};\nconst SortableTreeWithoutDndContext = function(props) {\n  return /* @__PURE__ */ jsx(DndContext.Consumer, { children: ({ dragDropManager }) => dragDropManager === void 0 ? void 0 : /* @__PURE__ */ jsx(ReactSortableTree, { ...props, dragDropManager }) });\n};\nconst SortableTree = function(props) {\n  return /* @__PURE__ */ jsx(DndProvider, { debugMode: props.debugMode, backend: HTML5Backend, children: /* @__PURE__ */ jsx(SortableTreeWithoutDndContext, { ...props }) });\n};\n\nexport { SortableTreeWithoutDndContext, addNodeUnderParent, changeNodeAtPath, SortableTree as default, defaultGetNodeKey, defaultSearchMethod, find, getDepth, getDescendantCount, getFlatDataFromTree, getNodeAtPath, getTreeFromFlatData, getVisibleNodeCount, getVisibleNodeInfoAtIndex, insertNode, isDescendant, map, removeNode, removeNodeAtPath, toggleExpandedForAll, walk };\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar jsxRuntime = require('react/jsx-runtime');\nvar react = require('react');\nvar hoist = require('hoist-non-react-statics');\nvar throttle = require('lodash.throttle');\nvar reactDnd = require('react-dnd');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nvar hoist__default = /*#__PURE__*/_interopDefaultLegacy(hoist);\nvar throttle__default = /*#__PURE__*/_interopDefaultLegacy(throttle);\n\nconst noop = () => {};\n\nconst intBetween = (min, max, val) => Math.floor(Math.min(max, Math.max(min, val)));\n\nconst getCoords = evt => {\n  if (evt.type === 'touchmove') {\n    return {\n      x: evt.changedTouches[0].clientX,\n      y: evt.changedTouches[0].clientY\n    };\n  }\n\n  return {\n    x: evt.clientX,\n    y: evt.clientY\n  };\n};\n\nconst DEFAULT_BUFFER = 150;\nconst createHorizontalStrength = _buffer => ({\n  x,\n  w,\n  y,\n  h\n}, point) => {\n  const buffer = Math.min(w / 2, _buffer);\n  const inRange = point.x >= x && point.x <= x + w;\n  const inBox = inRange && point.y >= y && point.y <= y + h;\n\n  if (inBox) {\n    if (point.x < x + buffer) {\n      return (point.x - x - buffer) / buffer;\n    }\n\n    if (point.x > x + w - buffer) {\n      return -(x + w - point.x - buffer) / buffer;\n    }\n  }\n\n  return 0;\n};\nconst createVerticalStrength = _buffer => ({\n  y,\n  h,\n  x,\n  w\n}, point) => {\n  const buffer = Math.min(h / 2, _buffer);\n  const inRange = point.y >= y && point.y <= y + h;\n  const inBox = inRange && point.x >= x && point.x <= x + w;\n\n  if (inBox) {\n    if (point.y < y + buffer) {\n      return (point.y - y - buffer) / buffer;\n    }\n\n    if (point.y > y + h - buffer) {\n      return -(y + h - point.y - buffer) / buffer;\n    }\n  }\n\n  return 0;\n};\nconst defaultHorizontalStrength = createHorizontalStrength(DEFAULT_BUFFER);\nconst defaultVerticalStrength = createVerticalStrength(DEFAULT_BUFFER);\nconst defaultProps = {\n  onScrollChange: noop,\n  verticalStrength: defaultVerticalStrength,\n  horizontalStrength: defaultHorizontalStrength,\n  strengthMultiplier: 30\n};\nconst createScrollingComponent = WrappedComponent => {\n  const ScrollingComponent = props => {\n    props = { ...defaultProps,\n      ...props\n    };\n    let container;\n    const wrappedInstance = react.createRef();\n    let frame;\n    let scaleX = 0;\n    let scaleY = 0;\n    let attached = false;\n    let dragging = false;\n    const updateScrolling = throttle__default[\"default\"](evt => {\n      const {\n        left: x,\n        top: y,\n        width: w,\n        height: h\n      } = container.getBoundingClientRect();\n      const box = {\n        x,\n        y,\n        w,\n        h\n      };\n      const coords = getCoords(evt);\n      scaleX = props.horizontalStrength(box, coords);\n      scaleY = props.verticalStrength(box, coords);\n\n      if (!frame && (scaleX || scaleY)) {\n        startScrolling();\n      }\n    }, 100, {\n      trailing: false\n    });\n    react.useEffect(() => {\n      container = wrappedInstance.current;\n\n      if (container && typeof container.addEventListener === 'function') {\n        container.addEventListener('dragover', handleEvent);\n      }\n\n      window.document.body.addEventListener('touchmove', handleEvent);\n      const clearMonitorSubscription = props.dragDropManager.getMonitor().subscribeToStateChange(() => handleMonitorChange());\n      return () => {\n        if (container && typeof container.removeEventListener === 'function') {\n          container.removeEventListener('dragover', handleEvent);\n        }\n\n        window.document.body.removeEventListener('touchmove', handleEvent);\n        clearMonitorSubscription();\n        stopScrolling();\n      };\n    }, []);\n\n    const handleEvent = evt => {\n      if (dragging && !attached) {\n        attach();\n        updateScrolling(evt);\n      }\n    };\n\n    const handleMonitorChange = () => {\n      const isDragging = props.dragDropManager.getMonitor().isDragging();\n\n      if (!dragging && isDragging) {\n        dragging = true;\n      } else if (dragging && !isDragging) {\n        dragging = false;\n        stopScrolling();\n      }\n    };\n\n    const attach = () => {\n      attached = true;\n      window.document.body.addEventListener('dragover', updateScrolling);\n      window.document.body.addEventListener('touchmove', updateScrolling);\n    };\n\n    const detach = () => {\n      attached = false;\n      window.document.body.removeEventListener('dragover', updateScrolling);\n      window.document.body.removeEventListener('touchmove', updateScrolling);\n    };\n\n    const startScrolling = () => {\n      let i = 0;\n\n      const tick = () => {\n        if (props.strengthMultiplier === 0 || scaleX + scaleY === 0) {\n          stopScrolling();\n          return;\n        }\n\n        i += 1;\n\n        if (i % 2) {\n          const {\n            scrollLeft,\n            scrollTop,\n            scrollWidth,\n            scrollHeight,\n            clientWidth,\n            clientHeight\n          } = container;\n          const newLeft = scaleX ? container.scrollLeft = intBetween(0, scrollWidth - clientWidth, scrollLeft + scaleX * props.strengthMultiplier) : scrollLeft;\n          const newTop = scaleY ? container.scrollTop = intBetween(0, scrollHeight - clientHeight, scrollTop + scaleY * props.strengthMultiplier) : scrollTop;\n          props.onScrollChange(newLeft, newTop);\n        }\n\n        frame = requestAnimationFrame(tick);\n      };\n\n      tick();\n    };\n\n    const stopScrolling = () => {\n      detach();\n      scaleX = 0;\n      scaleY = 0;\n\n      if (frame) {\n        cancelAnimationFrame(frame);\n        frame = undefined;\n      }\n    };\n\n    const {\n      strengthMultiplier,\n      verticalStrength,\n      horizontalStrength,\n      onScrollChange,\n      ...other\n    } = props;\n    return jsxRuntime.jsx(WrappedComponent, {\n      ref: wrappedInstance,\n      ...other\n    });\n  };\n\n  return hoist__default[\"default\"](ScrollingComponent, WrappedComponent);\n};\n\nconst createScrollingComponentWithConsumer = WrappedComponent => {\n  const ScrollingComponent = createScrollingComponent(WrappedComponent);\n  return props => {\n    return jsxRuntime.jsx(reactDnd.DndContext.Consumer, {\n      children: ({\n        dragDropManager\n      }) => dragDropManager === undefined ? undefined : jsxRuntime.jsx(ScrollingComponent, { ...props,\n        dragDropManager: dragDropManager\n      })\n    });\n  };\n};\n\nexports.createHorizontalStrength = createHorizontalStrength;\nexports.createScrollingComponent = createScrollingComponent;\nexports.createVerticalStrength = createVerticalStrength;\nexports[\"default\"] = createScrollingComponentWithConsumer;\nexports.defaultHorizontalStrength = defaultHorizontalStrength;\nexports.defaultVerticalStrength = defaultVerticalStrength;\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","export * from './asap.js'\nexport * from './types.js'\nexport * from './AsapQueue.js'\nexport * from './TaskFactory.js'\n","import { AsapQueue } from './AsapQueue.js'\nimport { TaskFactory } from './TaskFactory.js'\nimport type { TaskFn } from './types.js'\n\nconst asapQueue = new AsapQueue()\nconst taskFactory = new TaskFactory(asapQueue.registerPendingError)\n\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\nexport function asap(task: TaskFn) {\n\tasapQueue.enqueueTask(taskFactory.create(task))\n}\n","// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\nconst scope = typeof global !== 'undefined' ? global : self\nconst BrowserMutationObserver =\n\t(scope as any).MutationObserver || (scope as any).WebKitMutationObserver\n\nexport function makeRequestCallFromTimer(callback: () => void) {\n\treturn function requestCall() {\n\t\t// We dispatch a timeout with a specified delay of 0 for engines that\n\t\t// can reliably accommodate that request. This will usually be snapped\n\t\t// to a 4 milisecond delay, but once we're flushing, there's no delay\n\t\t// between events.\n\t\tconst timeoutHandle = setTimeout(handleTimer, 0)\n\t\t// However, since this timer gets frequently dropped in Firefox\n\t\t// workers, we enlist an interval handle that will try to fire\n\t\t// an event 20 times per second until it succeeds.\n\t\tconst intervalHandle = setInterval(handleTimer, 50)\n\n\t\tfunction handleTimer() {\n\t\t\t// Whichever timer succeeds will cancel both timers and\n\t\t\t// execute the callback.\n\t\t\tclearTimeout(timeoutHandle)\n\t\t\tclearInterval(intervalHandle)\n\t\t\tcallback()\n\t\t}\n\t}\n}\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nexport function makeRequestCallFromMutationObserver(callback: () => void) {\n\tlet toggle = 1\n\tconst observer = new BrowserMutationObserver(callback)\n\tconst node = document.createTextNode('')\n\tobserver.observe(node, { characterData: true })\n\treturn function requestCall() {\n\t\ttoggle = -toggle\n\t\t;(node as any).data = toggle\n\t}\n}\n\nexport const makeRequestCall =\n\ttypeof BrowserMutationObserver === 'function'\n\t\t? // MutationObservers are desirable because they have high priority and work\n\t\t  // reliably everywhere they are implemented.\n\t\t  // They are implemented in all modern browsers.\n\t\t  //\n\t\t  // - Android 4-4.3\n\t\t  // - Chrome 26-34\n\t\t  // - Firefox 14-29\n\t\t  // - Internet Explorer 11\n\t\t  // - iPad Safari 6-7.1\n\t\t  // - iPhone Safari 7-7.1\n\t\t  // - Safari 6-7\n\t\t  makeRequestCallFromMutationObserver\n\t\t: // MessageChannels are desirable because they give direct access to the HTML\n\t\t  // task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n\t\t  // 11-12, and in web workers in many engines.\n\t\t  // Although message channels yield to any queued rendering and IO tasks, they\n\t\t  // would be better than imposing the 4ms delay of timers.\n\t\t  // However, they do not work reliably in Internet Explorer or Safari.\n\n\t\t  // Internet Explorer 10 is the only browser that has setImmediate but does\n\t\t  // not have MutationObservers.\n\t\t  // Although setImmediate yields to the browser's renderer, it would be\n\t\t  // preferrable to falling back to setTimeout since it does not have\n\t\t  // the minimum 4ms penalty.\n\t\t  // Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n\t\t  // Desktop to a lesser extent) that renders both setImmediate and\n\t\t  // MessageChannel useless for the purposes of ASAP.\n\t\t  // https://github.com/kriskowal/q/issues/396\n\n\t\t  // Timers are implemented universally.\n\t\t  // We fall back to timers in workers in most engines, and in foreground\n\t\t  // contexts in the following browsers.\n\t\t  // However, note that even this simple case requires nuances to operate in a\n\t\t  // broad spectrum of browsers.\n\t\t  //\n\t\t  // - Firefox 3-13\n\t\t  // - Internet Explorer 6-9\n\t\t  // - iPad Safari 4.3\n\t\t  // - Lynx 2.8.7\n\t\t  makeRequestCallFromTimer\n","// We wrap tasks with recyclable task objects.  A task object implements\n\nimport type { TaskFn, Task } from 'types'\n\n// `call`, just like a function.\nexport class RawTask implements Task {\n\tpublic task: TaskFn | null = null\n\n\tpublic constructor(\n\t\tprivate onError: (err: any) => void,\n\t\tprivate release: (t: RawTask) => void,\n\t) {}\n\n\tpublic call() {\n\t\ttry {\n\t\t\tthis.task && this.task()\n\t\t} catch (error) {\n\t\t\tthis.onError(error)\n\t\t} finally {\n\t\t\tthis.task = null\n\t\t\tthis.release(this)\n\t\t}\n\t}\n}\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = isEqual;\n","export function registerTarget(type, target, manager) {\n  var registry = manager.getRegistry();\n  var targetId = registry.addTarget(type, target);\n  return [targetId, function () {\n    return registry.removeTarget(targetId);\n  }];\n}\nexport function registerSource(type, source, manager) {\n  var registry = manager.getRegistry();\n  var sourceId = registry.addSource(type, source);\n  return [sourceId, function () {\n    return registry.removeSource(sourceId);\n  }];\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { wrapConnectorHooks } from './wrapConnectorHooks';\nimport { isRef } from './isRef';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nexport var SourceConnector = /*#__PURE__*/function () {\n  // The drop target may either be attached via ref or connect function\n  // The drag preview may either be attached via ref or connect function\n  function SourceConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, SourceConnector);\n\n    _defineProperty(this, \"hooks\", wrapConnectorHooks({\n      dragSource: function dragSource(node, options) {\n        _this.clearDragSource();\n\n        _this.dragSourceOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragSourceRef = node;\n        } else {\n          _this.dragSourceNode = node;\n        }\n\n        _this.reconnectDragSource();\n      },\n      dragPreview: function dragPreview(node, options) {\n        _this.clearDragPreview();\n\n        _this.dragPreviewOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragPreviewRef = node;\n        } else {\n          _this.dragPreviewNode = node;\n        }\n\n        _this.reconnectDragPreview();\n      }\n    }));\n\n    _defineProperty(this, \"handlerId\", null);\n\n    _defineProperty(this, \"dragSourceRef\", null);\n\n    _defineProperty(this, \"dragSourceNode\", void 0);\n\n    _defineProperty(this, \"dragSourceOptionsInternal\", null);\n\n    _defineProperty(this, \"dragSourceUnsubscribe\", void 0);\n\n    _defineProperty(this, \"dragPreviewRef\", null);\n\n    _defineProperty(this, \"dragPreviewNode\", void 0);\n\n    _defineProperty(this, \"dragPreviewOptionsInternal\", null);\n\n    _defineProperty(this, \"dragPreviewUnsubscribe\", void 0);\n\n    _defineProperty(this, \"lastConnectedHandlerId\", null);\n\n    _defineProperty(this, \"lastConnectedDragSource\", null);\n\n    _defineProperty(this, \"lastConnectedDragSourceOptions\", null);\n\n    _defineProperty(this, \"lastConnectedDragPreview\", null);\n\n    _defineProperty(this, \"lastConnectedDragPreviewOptions\", null);\n\n    _defineProperty(this, \"backend\", void 0);\n\n    this.backend = backend;\n  }\n\n  _createClass(SourceConnector, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (this.handlerId === newHandlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dragSource;\n    }\n  }, {\n    key: \"dragSourceOptions\",\n    get: function get() {\n      return this.dragSourceOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragSourceOptionsInternal = options;\n    }\n  }, {\n    key: \"dragPreviewOptions\",\n    get: function get() {\n      return this.dragPreviewOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragPreviewOptionsInternal = options;\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      this.reconnectDragSource();\n      this.reconnectDragPreview();\n    }\n  }, {\n    key: \"reconnectDragSource\",\n    value: function reconnectDragSource() {\n      var dragSource = this.dragSource; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragSourceChange() || this.didDragSourceOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragSource();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragSource) {\n        this.lastConnectedDragSource = dragSource;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragSource = dragSource;\n        this.lastConnectedDragSourceOptions = this.dragSourceOptions;\n        this.dragSourceUnsubscribe = this.backend.connectDragSource(this.handlerId, dragSource, this.dragSourceOptions);\n      }\n    }\n  }, {\n    key: \"reconnectDragPreview\",\n    value: function reconnectDragPreview() {\n      var dragPreview = this.dragPreview; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragPreviewChange() || this.didDragPreviewOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragPreview();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragPreview) {\n        this.lastConnectedDragPreview = dragPreview;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragPreview = dragPreview;\n        this.lastConnectedDragPreviewOptions = this.dragPreviewOptions;\n        this.dragPreviewUnsubscribe = this.backend.connectDragPreview(this.handlerId, dragPreview, this.dragPreviewOptions);\n      }\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didConnectedDragSourceChange\",\n    value: function didConnectedDragSourceChange() {\n      return this.lastConnectedDragSource !== this.dragSource;\n    }\n  }, {\n    key: \"didConnectedDragPreviewChange\",\n    value: function didConnectedDragPreviewChange() {\n      return this.lastConnectedDragPreview !== this.dragPreview;\n    }\n  }, {\n    key: \"didDragSourceOptionsChange\",\n    value: function didDragSourceOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragSourceOptions, this.dragSourceOptions);\n    }\n  }, {\n    key: \"didDragPreviewOptionsChange\",\n    value: function didDragPreviewOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragPreviewOptions, this.dragPreviewOptions);\n    }\n  }, {\n    key: \"disconnectDragSource\",\n    value: function disconnectDragSource() {\n      if (this.dragSourceUnsubscribe) {\n        this.dragSourceUnsubscribe();\n        this.dragSourceUnsubscribe = undefined;\n      }\n    }\n  }, {\n    key: \"disconnectDragPreview\",\n    value: function disconnectDragPreview() {\n      if (this.dragPreviewUnsubscribe) {\n        this.dragPreviewUnsubscribe();\n        this.dragPreviewUnsubscribe = undefined;\n        this.dragPreviewNode = null;\n        this.dragPreviewRef = null;\n      }\n    }\n  }, {\n    key: \"dragSource\",\n    get: function get() {\n      return this.dragSourceNode || this.dragSourceRef && this.dragSourceRef.current;\n    }\n  }, {\n    key: \"dragPreview\",\n    get: function get() {\n      return this.dragPreviewNode || this.dragPreviewRef && this.dragPreviewRef.current;\n    }\n  }, {\n    key: \"clearDragSource\",\n    value: function clearDragSource() {\n      this.dragSourceNode = null;\n      this.dragSourceRef = null;\n    }\n  }, {\n    key: \"clearDragPreview\",\n    value: function clearDragPreview() {\n      this.dragPreviewNode = null;\n      this.dragPreviewRef = null;\n    }\n  }]);\n\n  return SourceConnector;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrag = false;\nvar isCallingIsDragging = false;\nexport var DragSourceMonitorImpl = /*#__PURE__*/function () {\n  function DragSourceMonitorImpl(manager) {\n    _classCallCheck(this, DragSourceMonitorImpl);\n\n    _defineProperty(this, \"internalMonitor\", void 0);\n\n    _defineProperty(this, \"sourceId\", null);\n\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DragSourceMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(sourceId) {\n      this.sourceId = sourceId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.sourceId;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      invariant(!isCallingCanDrag, 'You may not call monitor.canDrag() inside your canDrag() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingCanDrag = true;\n        return this.internalMonitor.canDragSource(this.sourceId);\n      } finally {\n        isCallingCanDrag = false;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      if (!this.sourceId) {\n        return false;\n      }\n\n      invariant(!isCallingIsDragging, 'You may not call monitor.isDragging() inside your isDragging() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingIsDragging = true;\n        return this.internalMonitor.isDraggingSource(this.sourceId);\n      } finally {\n        isCallingIsDragging = false;\n      }\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      return this.internalMonitor.isDraggingSource(sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId, options) {\n      return this.internalMonitor.isOverTarget(targetId, options);\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.internalMonitor.getTargetIds();\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return this.internalMonitor.isSourcePublic();\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.internalMonitor.getSourceId();\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      return this.internalMonitor.subscribeToOffsetChange(listener);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      return this.internalMonitor.canDragSource(sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      return this.internalMonitor.canDropOnTarget(targetId);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DragSourceMonitorImpl;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrop = false;\nexport var DropTargetMonitorImpl = /*#__PURE__*/function () {\n  function DropTargetMonitorImpl(manager) {\n    _classCallCheck(this, DropTargetMonitorImpl);\n\n    _defineProperty(this, \"internalMonitor\", void 0);\n\n    _defineProperty(this, \"targetId\", null);\n\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DropTargetMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(targetId) {\n      this.targetId = targetId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.targetId;\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      // Cut out early if the target id has not been set. This should prevent errors\n      // where the user has an older version of dnd-core like in\n      // https://github.com/react-dnd/react-dnd/issues/1310\n      if (!this.targetId) {\n        return false;\n      }\n\n      invariant(!isCallingCanDrop, 'You may not call monitor.canDrop() inside your canDrop() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor');\n\n      try {\n        isCallingCanDrop = true;\n        return this.internalMonitor.canDropOnTarget(this.targetId);\n      } finally {\n        isCallingCanDrop = false;\n      }\n    }\n  }, {\n    key: \"isOver\",\n    value: function isOver(options) {\n      if (!this.targetId) {\n        return false;\n      }\n\n      return this.internalMonitor.isOverTarget(this.targetId, options);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DropTargetMonitorImpl;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { wrapConnectorHooks } from './wrapConnectorHooks';\nimport { isRef } from './isRef';\nexport var TargetConnector = /*#__PURE__*/function () {\n  // The drop target may either be attached via ref or connect function\n  function TargetConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, TargetConnector);\n\n    _defineProperty(this, \"hooks\", wrapConnectorHooks({\n      dropTarget: function dropTarget(node, options) {\n        _this.clearDropTarget();\n\n        _this.dropTargetOptions = options;\n\n        if (isRef(node)) {\n          _this.dropTargetRef = node;\n        } else {\n          _this.dropTargetNode = node;\n        }\n\n        _this.reconnect();\n      }\n    }));\n\n    _defineProperty(this, \"handlerId\", null);\n\n    _defineProperty(this, \"dropTargetRef\", null);\n\n    _defineProperty(this, \"dropTargetNode\", void 0);\n\n    _defineProperty(this, \"dropTargetOptionsInternal\", null);\n\n    _defineProperty(this, \"unsubscribeDropTarget\", void 0);\n\n    _defineProperty(this, \"lastConnectedHandlerId\", null);\n\n    _defineProperty(this, \"lastConnectedDropTarget\", null);\n\n    _defineProperty(this, \"lastConnectedDropTargetOptions\", null);\n\n    _defineProperty(this, \"backend\", void 0);\n\n    this.backend = backend;\n  }\n\n  _createClass(TargetConnector, [{\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dropTarget;\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      // if nothing has changed then don't resubscribe\n      var didChange = this.didHandlerIdChange() || this.didDropTargetChange() || this.didOptionsChange();\n\n      if (didChange) {\n        this.disconnectDropTarget();\n      }\n\n      var dropTarget = this.dropTarget;\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dropTarget) {\n        this.lastConnectedDropTarget = dropTarget;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDropTarget = dropTarget;\n        this.lastConnectedDropTargetOptions = this.dropTargetOptions;\n        this.unsubscribeDropTarget = this.backend.connectDropTarget(this.handlerId, dropTarget, this.dropTargetOptions);\n      }\n    }\n  }, {\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (newHandlerId === this.handlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"dropTargetOptions\",\n    get: function get() {\n      return this.dropTargetOptionsInternal;\n    },\n    set: function set(options) {\n      this.dropTargetOptionsInternal = options;\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didDropTargetChange\",\n    value: function didDropTargetChange() {\n      return this.lastConnectedDropTarget !== this.dropTarget;\n    }\n  }, {\n    key: \"didOptionsChange\",\n    value: function didOptionsChange() {\n      return !shallowEqual(this.lastConnectedDropTargetOptions, this.dropTargetOptions);\n    }\n  }, {\n    key: \"disconnectDropTarget\",\n    value: function disconnectDropTarget() {\n      if (this.unsubscribeDropTarget) {\n        this.unsubscribeDropTarget();\n        this.unsubscribeDropTarget = undefined;\n      }\n    }\n  }, {\n    key: \"dropTarget\",\n    get: function get() {\n      return this.dropTargetNode || this.dropTargetRef && this.dropTargetRef.current;\n    }\n  }, {\n    key: \"clearDropTarget\",\n    value: function clearDropTarget() {\n      this.dropTargetRef = null;\n      this.dropTargetNode = null;\n    }\n  }]);\n\n  return TargetConnector;\n}();","export var INIT_COORDS = 'dnd-core/INIT_COORDS';\nexport var BEGIN_DRAG = 'dnd-core/BEGIN_DRAG';\nexport var PUBLISH_DRAG_SOURCE = 'dnd-core/PUBLISH_DRAG_SOURCE';\nexport var HOVER = 'dnd-core/HOVER';\nexport var DROP = 'dnd-core/DROP';\nexport var END_DRAG = 'dnd-core/END_DRAG';","import { INIT_COORDS } from '../types';\nexport function setClientOffset(clientOffset, sourceClientOffset) {\n  return {\n    type: INIT_COORDS,\n    payload: {\n      sourceClientOffset: sourceClientOffset || null,\n      clientOffset: clientOffset || null\n    }\n  };\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n// cheap lodash replacements\n\n/**\n * drop-in replacement for _.get\n * @param obj\n * @param path\n * @param defaultValue\n */\nexport function get(obj, path, defaultValue) {\n  return path.split('.').reduce(function (a, c) {\n    return a && a[c] ? a[c] : defaultValue || null;\n  }, obj);\n}\n/**\n * drop-in replacement for _.without\n */\n\nexport function without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */\n\nexport function isString(input) {\n  return typeof input === 'string';\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */\n\nexport function isObject(input) {\n  return _typeof(input) === 'object';\n}\n/**\n * repalcement for _.xor\n * @param itemsA\n * @param itemsB\n */\n\nexport function xor(itemsA, itemsB) {\n  var map = new Map();\n\n  var insertItem = function insertItem(item) {\n    map.set(item, map.has(item) ? map.get(item) + 1 : 1);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  map.forEach(function (count, key) {\n    if (count === 1) {\n      result.push(key);\n    }\n  });\n  return result;\n}\n/**\n * replacement for _.intersection\n * @param itemsA\n * @param itemsB\n */\n\nexport function intersection(itemsA, itemsB) {\n  return itemsA.filter(function (t) {\n    return itemsB.indexOf(t) > -1;\n  });\n}","import { invariant } from '@react-dnd/invariant';\nimport { setClientOffset } from './local/setClientOffset';\nimport { isObject } from '../../utils/js_utils';\nimport { BEGIN_DRAG, INIT_COORDS } from './types';\nvar ResetCoordinatesAction = {\n  type: INIT_COORDS,\n  payload: {\n    clientOffset: null,\n    sourceClientOffset: null\n  }\n};\nexport function createBeginDrag(manager) {\n  return function beginDrag() {\n    var sourceIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      publishSource: true\n    };\n    var _options$publishSourc = options.publishSource,\n        publishSource = _options$publishSourc === void 0 ? true : _options$publishSourc,\n        clientOffset = options.clientOffset,\n        getSourceClientOffset = options.getSourceClientOffset;\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry(); // Initialize the coordinates using the client offset\n\n    manager.dispatch(setClientOffset(clientOffset));\n    verifyInvariants(sourceIds, monitor, registry); // Get the draggable source\n\n    var sourceId = getDraggableSource(sourceIds, monitor);\n\n    if (sourceId === null) {\n      manager.dispatch(ResetCoordinatesAction);\n      return;\n    } // Get the source client offset\n\n\n    var sourceClientOffset = null;\n\n    if (clientOffset) {\n      if (!getSourceClientOffset) {\n        throw new Error('getSourceClientOffset must be defined');\n      }\n\n      verifyGetSourceClientOffsetIsFunction(getSourceClientOffset);\n      sourceClientOffset = getSourceClientOffset(sourceId);\n    } // Initialize the full coordinates\n\n\n    manager.dispatch(setClientOffset(clientOffset, sourceClientOffset));\n    var source = registry.getSource(sourceId);\n    var item = source.beginDrag(monitor, sourceId); // If source.beginDrag returns null, this is an indicator to cancel the drag\n\n    if (item == null) {\n      return undefined;\n    }\n\n    verifyItemIsObject(item);\n    registry.pinSource(sourceId);\n    var itemType = registry.getSourceType(sourceId);\n    return {\n      type: BEGIN_DRAG,\n      payload: {\n        itemType: itemType,\n        item: item,\n        sourceId: sourceId,\n        clientOffset: clientOffset || null,\n        sourceClientOffset: sourceClientOffset || null,\n        isSourcePublic: !!publishSource\n      }\n    };\n  };\n}\n\nfunction verifyInvariants(sourceIds, monitor, registry) {\n  invariant(!monitor.isDragging(), 'Cannot call beginDrag while dragging.');\n  sourceIds.forEach(function (sourceId) {\n    invariant(registry.getSource(sourceId), 'Expected sourceIds to be registered.');\n  });\n}\n\nfunction verifyGetSourceClientOffsetIsFunction(getSourceClientOffset) {\n  invariant(typeof getSourceClientOffset === 'function', 'When clientOffset is provided, getSourceClientOffset must be a function.');\n}\n\nfunction verifyItemIsObject(item) {\n  invariant(isObject(item), 'Item must be an object.');\n}\n\nfunction getDraggableSource(sourceIds, monitor) {\n  var sourceId = null;\n\n  for (var i = sourceIds.length - 1; i >= 0; i--) {\n    if (monitor.canDragSource(sourceIds[i])) {\n      sourceId = sourceIds[i];\n      break;\n    }\n  }\n\n  return sourceId;\n}","import { PUBLISH_DRAG_SOURCE } from './types';\nexport function createPublishDragSource(manager) {\n  return function publishDragSource() {\n    var monitor = manager.getMonitor();\n\n    if (monitor.isDragging()) {\n      return {\n        type: PUBLISH_DRAG_SOURCE\n      };\n    }\n  };\n}","export function matchesType(targetType, draggedItemType) {\n  if (draggedItemType === null) {\n    return targetType === null;\n  }\n\n  return Array.isArray(targetType) ? targetType.some(function (t) {\n    return t === draggedItemType;\n  }) : targetType === draggedItemType;\n}","import { invariant } from '@react-dnd/invariant';\nimport { matchesType } from '../../utils/matchesType';\nimport { HOVER } from './types';\nexport function createHover(manager) {\n  return function hover(targetIdsArg) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        clientOffset = _ref.clientOffset;\n\n    verifyTargetIdsIsArray(targetIdsArg);\n    var targetIds = targetIdsArg.slice(0);\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    checkInvariants(targetIds, monitor, registry);\n    var draggedItemType = monitor.getItemType();\n    removeNonMatchingTargetIds(targetIds, registry, draggedItemType);\n    hoverAllTargets(targetIds, monitor, registry);\n    return {\n      type: HOVER,\n      payload: {\n        targetIds: targetIds,\n        clientOffset: clientOffset || null\n      }\n    };\n  };\n}\n\nfunction verifyTargetIdsIsArray(targetIdsArg) {\n  invariant(Array.isArray(targetIdsArg), 'Expected targetIds to be an array.');\n}\n\nfunction checkInvariants(targetIds, monitor, registry) {\n  invariant(monitor.isDragging(), 'Cannot call hover while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call hover after drop.');\n\n  for (var i = 0; i < targetIds.length; i++) {\n    var targetId = targetIds[i];\n    invariant(targetIds.lastIndexOf(targetId) === i, 'Expected targetIds to be unique in the passed array.');\n    var target = registry.getTarget(targetId);\n    invariant(target, 'Expected targetIds to be registered.');\n  }\n}\n\nfunction removeNonMatchingTargetIds(targetIds, registry, draggedItemType) {\n  // Remove those targetIds that don't match the targetType.  This\n  // fixes shallow isOver which would only be non-shallow because of\n  // non-matching targets.\n  for (var i = targetIds.length - 1; i >= 0; i--) {\n    var targetId = targetIds[i];\n    var targetType = registry.getTargetType(targetId);\n\n    if (!matchesType(targetType, draggedItemType)) {\n      targetIds.splice(i, 1);\n    }\n  }\n}\n\nfunction hoverAllTargets(targetIds, monitor, registry) {\n  // Finally call hover on all matching targets.\n  targetIds.forEach(function (targetId) {\n    var target = registry.getTarget(targetId);\n    target.hover(monitor, targetId);\n  });\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { DROP } from './types';\nimport { isObject } from '../../utils/js_utils';\nexport function createDrop(manager) {\n  return function drop() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyInvariants(monitor);\n    var targetIds = getDroppableTargets(monitor); // Multiple actions are dispatched here, which is why this doesn't return an action\n\n    targetIds.forEach(function (targetId, index) {\n      var dropResult = determineDropResult(targetId, index, registry, monitor);\n      var action = {\n        type: DROP,\n        payload: {\n          dropResult: _objectSpread(_objectSpread({}, options), dropResult)\n        }\n      };\n      manager.dispatch(action);\n    });\n  };\n}\n\nfunction verifyInvariants(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call drop while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call drop twice during one drag operation.');\n}\n\nfunction determineDropResult(targetId, index, registry, monitor) {\n  var target = registry.getTarget(targetId);\n  var dropResult = target ? target.drop(monitor, targetId) : undefined;\n  verifyDropResultType(dropResult);\n\n  if (typeof dropResult === 'undefined') {\n    dropResult = index === 0 ? {} : monitor.getDropResult();\n  }\n\n  return dropResult;\n}\n\nfunction verifyDropResultType(dropResult) {\n  invariant(typeof dropResult === 'undefined' || isObject(dropResult), 'Drop result must either be an object or undefined.');\n}\n\nfunction getDroppableTargets(monitor) {\n  var targetIds = monitor.getTargetIds().filter(monitor.canDropOnTarget, monitor);\n  targetIds.reverse();\n  return targetIds;\n}","import { invariant } from '@react-dnd/invariant';\nimport { END_DRAG } from './types';\nexport function createEndDrag(manager) {\n  return function endDrag() {\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyIsDragging(monitor);\n    var sourceId = monitor.getSourceId();\n\n    if (sourceId != null) {\n      var source = registry.getSource(sourceId, true);\n      source.endDrag(monitor, sourceId);\n      registry.unpinSource();\n    }\n\n    return {\n      type: END_DRAG\n    };\n  };\n}\n\nfunction verifyIsDragging(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call endDrag while not dragging.');\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { createDragDropActions } from '../actions/dragDrop';\nexport var DragDropManagerImpl = /*#__PURE__*/function () {\n  function DragDropManagerImpl(store, monitor) {\n    var _this = this;\n\n    _classCallCheck(this, DragDropManagerImpl);\n\n    _defineProperty(this, \"store\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"backend\", void 0);\n\n    _defineProperty(this, \"isSetUp\", false);\n\n    _defineProperty(this, \"handleRefCountChange\", function () {\n      var shouldSetUp = _this.store.getState().refCount > 0;\n\n      if (_this.backend) {\n        if (shouldSetUp && !_this.isSetUp) {\n          _this.backend.setup();\n\n          _this.isSetUp = true;\n        } else if (!shouldSetUp && _this.isSetUp) {\n          _this.backend.teardown();\n\n          _this.isSetUp = false;\n        }\n      }\n    });\n\n    this.store = store;\n    this.monitor = monitor;\n    store.subscribe(this.handleRefCountChange);\n  }\n\n  _createClass(DragDropManagerImpl, [{\n    key: \"receiveBackend\",\n    value: function receiveBackend(backend) {\n      this.backend = backend;\n    }\n  }, {\n    key: \"getMonitor\",\n    value: function getMonitor() {\n      return this.monitor;\n    }\n  }, {\n    key: \"getBackend\",\n    value: function getBackend() {\n      return this.backend;\n    }\n  }, {\n    key: \"getRegistry\",\n    value: function getRegistry() {\n      return this.monitor.registry;\n    }\n  }, {\n    key: \"getActions\",\n    value: function getActions() {\n      /* eslint-disable-next-line @typescript-eslint/no-this-alias */\n      var manager = this;\n      var dispatch = this.store.dispatch;\n\n      function bindActionCreator(actionCreator) {\n        return function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          var action = actionCreator.apply(manager, args);\n\n          if (typeof action !== 'undefined') {\n            dispatch(action);\n          }\n        };\n      }\n\n      var actions = createDragDropActions(this);\n      return Object.keys(actions).reduce(function (boundActions, key) {\n        var action = actions[key];\n        boundActions[key] = bindActionCreator(action);\n        return boundActions;\n      }, {});\n    }\n  }, {\n    key: \"dispatch\",\n    value: function dispatch(action) {\n      this.store.dispatch(action);\n    }\n  }]);\n\n  return DragDropManagerImpl;\n}();","import { createBeginDrag } from './beginDrag';\nimport { createPublishDragSource } from './publishDragSource';\nimport { createHover } from './hover';\nimport { createDrop } from './drop';\nimport { createEndDrag } from './endDrag';\nexport * from './types';\nexport function createDragDropActions(manager) {\n  return {\n    beginDrag: createBeginDrag(manager),\n    publishDragSource: createPublishDragSource(manager),\n    hover: createHover(manager),\n    drop: createDrop(manager),\n    endDrag: createEndDrag(manager)\n  };\n}","import _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n}\n\n// Inlined version of the `symbol-observable` polyfill\nvar $$observable = (function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n})();\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (process.env.NODE_ENV !== 'production') {\n    typeOfVal = miniKindOf(val);\n  }\n\n  return typeOfVal;\n}\n\n/**\n * @deprecated\n *\n * **We recommend using the `configureStore` method\n * of the `@reduxjs/toolkit` package**, which replaces `createStore`.\n *\n * Redux Toolkit is our recommended approach for writing Redux logic today,\n * including store setup, reducers, data fetching, and more.\n *\n * **For more details, please read this Redux docs page:**\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * `configureStore` from Redux Toolkit is an improved version of `createStore` that\n * simplifies setup and helps avoid common bugs.\n *\n * You should not be using the `redux` core package by itself today, except for learning purposes.\n * The `createStore` method from the core `redux` package will not be removed, but we encourage\n * all users to migrate to using Redux Toolkit for all Redux code.\n *\n * If you want to use `createStore` without this visual deprecation warning, use\n * the `legacy_createStore` import instead:\n *\n * `import { legacy_createStore as createStore} from 'redux'`\n *\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(0) : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(1) : \"Expected the enhancer to be a function. Instead, received: '\" + kindOf(enhancer) + \"'\");\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(2) : \"Expected the root reducer to be a function. Instead, received: '\" + kindOf(reducer) + \"'\");\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(3) : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(4) : \"Expected the listener to be a function. Instead, received: '\" + kindOf(listener) + \"'\");\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(5) : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(6) : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(7) : \"Actions must be plain objects. Instead, the actual type was: '\" + kindOf(action) + \"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.\");\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(8) : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(9) : 'Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(10) : \"Expected the nextReducer to be a function. Instead, received: '\" + kindOf(nextReducer));\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(11) : \"Expected the observer to be an object. Instead, received: '\" + kindOf(observer) + \"'\");\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n/**\n * Creates a Redux store that holds the state tree.\n *\n * **We recommend using `configureStore` from the\n * `@reduxjs/toolkit` package**, which replaces `createStore`:\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nvar legacy_createStore = createStore;\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + kindOf(inputState) + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(12) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(13) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle '\" + ActionTypes.INIT + \"' or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var actionType = action && action.type;\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(14) : \"When called with an action of type \" + (actionType ? \"\\\"\" + String(actionType) + \"\\\"\" : '(unknown type)') + \", the slice reducer for key \\\"\" + _key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\");\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(16) : \"bindActionCreators expected an object or a function, but instead received: '\" + kindOf(actionCreators) + \"'. \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(15) : 'Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread(_objectSpread({}, store), {}, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore, legacy_createStore };\n","export var strictEquality = function strictEquality(a, b) {\n  return a === b;\n};\n/**\n * Determine if two cartesian coordinate offsets are equal\n * @param offsetA\n * @param offsetB\n */\n\nexport function areCoordsEqual(offsetA, offsetB) {\n  if (!offsetA && !offsetB) {\n    return true;\n  } else if (!offsetA || !offsetB) {\n    return false;\n  } else {\n    return offsetA.x === offsetB.x && offsetA.y === offsetB.y;\n  }\n}\n/**\n * Determines if two arrays of items are equal\n * @param a The first array of items\n * @param b The second array of items\n */\n\nexport function areArraysEqual(a, b) {\n  var isEqual = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : strictEquality;\n\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  for (var i = 0; i < a.length; ++i) {\n    if (!isEqual(a[i], b[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { INIT_COORDS, BEGIN_DRAG, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { areCoordsEqual } from '../utils/equality';\nvar initialState = {\n  initialSourceClientOffset: null,\n  initialClientOffset: null,\n  clientOffset: null\n};\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case INIT_COORDS:\n    case BEGIN_DRAG:\n      return {\n        initialSourceClientOffset: payload.sourceClientOffset,\n        initialClientOffset: payload.clientOffset,\n        clientOffset: payload.clientOffset\n      };\n\n    case HOVER:\n      if (areCoordsEqual(state.clientOffset, payload.clientOffset)) {\n        return state;\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        clientOffset: payload.clientOffset\n      });\n\n    case END_DRAG:\n    case DROP:\n      return initialState;\n\n    default:\n      return state;\n  }\n}","export var ADD_SOURCE = 'dnd-core/ADD_SOURCE';\nexport var ADD_TARGET = 'dnd-core/ADD_TARGET';\nexport var REMOVE_SOURCE = 'dnd-core/REMOVE_SOURCE';\nexport var REMOVE_TARGET = 'dnd-core/REMOVE_TARGET';\nexport function addSource(sourceId) {\n  return {\n    type: ADD_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\nexport function addTarget(targetId) {\n  return {\n    type: ADD_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}\nexport function removeSource(sourceId) {\n  return {\n    type: REMOVE_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\nexport function removeTarget(targetId) {\n  return {\n    type: REMOVE_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { BEGIN_DRAG, PUBLISH_DRAG_SOURCE, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { REMOVE_TARGET } from '../actions/registry';\nimport { without } from '../utils/js_utils';\nvar initialState = {\n  itemType: null,\n  item: null,\n  sourceId: null,\n  targetIds: [],\n  dropResult: null,\n  didDrop: false,\n  isSourcePublic: null\n};\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case BEGIN_DRAG:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        itemType: payload.itemType,\n        item: payload.item,\n        sourceId: payload.sourceId,\n        isSourcePublic: payload.isSourcePublic,\n        dropResult: null,\n        didDrop: false\n      });\n\n    case PUBLISH_DRAG_SOURCE:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isSourcePublic: true\n      });\n\n    case HOVER:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        targetIds: payload.targetIds\n      });\n\n    case REMOVE_TARGET:\n      if (state.targetIds.indexOf(payload.targetId) === -1) {\n        return state;\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        targetIds: without(state.targetIds, payload.targetId)\n      });\n\n    case DROP:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        dropResult: payload.dropResult,\n        didDrop: true,\n        targetIds: []\n      });\n\n    case END_DRAG:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        itemType: null,\n        item: null,\n        sourceId: null,\n        dropResult: null,\n        didDrop: false,\n        isSourcePublic: null,\n        targetIds: []\n      });\n\n    default:\n      return state;\n  }\n}","import { ADD_SOURCE, ADD_TARGET, REMOVE_SOURCE, REMOVE_TARGET } from '../actions/registry';\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_SOURCE:\n    case ADD_TARGET:\n      return state + 1;\n\n    case REMOVE_SOURCE:\n    case REMOVE_TARGET:\n      return state - 1;\n\n    default:\n      return state;\n  }\n}","import { intersection } from './js_utils';\nexport var NONE = [];\nexport var ALL = [];\nNONE.__IS_NONE__ = true;\nALL.__IS_ALL__ = true;\n/**\n * Determines if the given handler IDs are dirty or not.\n *\n * @param dirtyIds The set of dirty handler ids\n * @param handlerIds The set of handler ids to check\n */\n\nexport function areDirty(dirtyIds, handlerIds) {\n  if (dirtyIds === NONE) {\n    return false;\n  }\n\n  if (dirtyIds === ALL || typeof handlerIds === 'undefined') {\n    return true;\n  }\n\n  var commonIds = intersection(handlerIds, dirtyIds);\n  return commonIds.length > 0;\n}","import { BEGIN_DRAG, PUBLISH_DRAG_SOURCE, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { ADD_SOURCE, ADD_TARGET, REMOVE_SOURCE, REMOVE_TARGET } from '../actions/registry';\nimport { areArraysEqual } from '../utils/equality';\nimport { NONE, ALL } from '../utils/dirtiness';\nimport { xor } from '../utils/js_utils';\nexport function reduce() {\n  var _state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : NONE;\n\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case HOVER:\n      break;\n\n    case ADD_SOURCE:\n    case ADD_TARGET:\n    case REMOVE_TARGET:\n    case REMOVE_SOURCE:\n      return NONE;\n\n    case BEGIN_DRAG:\n    case PUBLISH_DRAG_SOURCE:\n    case END_DRAG:\n    case DROP:\n    default:\n      return ALL;\n  }\n\n  var _action$payload = action.payload,\n      _action$payload$targe = _action$payload.targetIds,\n      targetIds = _action$payload$targe === void 0 ? [] : _action$payload$targe,\n      _action$payload$prevT = _action$payload.prevTargetIds,\n      prevTargetIds = _action$payload$prevT === void 0 ? [] : _action$payload$prevT;\n  var result = xor(targetIds, prevTargetIds);\n  var didChange = result.length > 0 || !areArraysEqual(targetIds, prevTargetIds);\n\n  if (!didChange) {\n    return NONE;\n  } // Check the target ids at the innermost position. If they are valid, add them\n  // to the result\n\n\n  var prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1];\n  var innermostTargetId = targetIds[targetIds.length - 1];\n\n  if (prevInnermostTargetId !== innermostTargetId) {\n    if (prevInnermostTargetId) {\n      result.push(prevInnermostTargetId);\n    }\n\n    if (innermostTargetId) {\n      result.push(innermostTargetId);\n    }\n  }\n\n  return result;\n}","export function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return state + 1;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { reduce as dragOffset } from './dragOffset';\nimport { reduce as dragOperation } from './dragOperation';\nimport { reduce as refCount } from './refCount';\nimport { reduce as dirtyHandlerIds } from './dirtyHandlerIds';\nimport { reduce as stateId } from './stateId';\nimport { get } from '../utils/js_utils';\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return {\n    dirtyHandlerIds: dirtyHandlerIds(state.dirtyHandlerIds, {\n      type: action.type,\n      payload: _objectSpread(_objectSpread({}, action.payload), {}, {\n        prevTargetIds: get(state, 'dragOperation.targetIds', [])\n      })\n    }),\n    dragOffset: dragOffset(state.dragOffset, action),\n    refCount: refCount(state.refCount, action),\n    dragOperation: dragOperation(state.dragOperation, action),\n    stateId: stateId(state.stateId)\n  };\n}","/**\n * Coordinate addition\n * @param a The first coordinate\n * @param b The second coordinate\n */\nexport function add(a, b) {\n  return {\n    x: a.x + b.x,\n    y: a.y + b.y\n  };\n}\n/**\n * Coordinate subtraction\n * @param a The first coordinate\n * @param b The second coordinate\n */\n\nexport function subtract(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n}\n/**\n * Returns the cartesian distance of the drag source component's position, based on its position\n * at the time when the current drag operation has started, and the movement difference.\n *\n * Returns null if no item is being dragged.\n *\n * @param state The offset state to compute from\n */\n\nexport function getSourceClientOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset,\n      initialSourceClientOffset = state.initialSourceClientOffset;\n\n  if (!clientOffset || !initialClientOffset || !initialSourceClientOffset) {\n    return null;\n  }\n\n  return subtract(add(clientOffset, initialSourceClientOffset), initialClientOffset);\n}\n/**\n * Determines the x,y offset between the client offset and the initial client offset\n *\n * @param state The offset state to compute from\n */\n\nexport function getDifferenceFromInitialOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset;\n\n  if (!clientOffset || !initialClientOffset) {\n    return null;\n  }\n\n  return subtract(clientOffset, initialClientOffset);\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { matchesType } from '../utils/matchesType';\nimport { getSourceClientOffset as _getSourceClientOffset, getDifferenceFromInitialOffset as _getDifferenceFromInitialOffset } from '../utils/coords';\nimport { areDirty } from '../utils/dirtiness';\nexport var DragDropMonitorImpl = /*#__PURE__*/function () {\n  function DragDropMonitorImpl(store, registry) {\n    _classCallCheck(this, DragDropMonitorImpl);\n\n    _defineProperty(this, \"store\", void 0);\n\n    _defineProperty(this, \"registry\", void 0);\n\n    this.store = store;\n    this.registry = registry;\n  }\n\n  _createClass(DragDropMonitorImpl, [{\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        handlerIds: undefined\n      };\n      var handlerIds = options.handlerIds;\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      invariant(typeof handlerIds === 'undefined' || Array.isArray(handlerIds), 'handlerIds, when specified, must be an array of strings.');\n      var prevStateId = this.store.getState().stateId;\n\n      var handleChange = function handleChange() {\n        var state = _this.store.getState();\n\n        var currentStateId = state.stateId;\n\n        try {\n          var canSkipListener = currentStateId === prevStateId || currentStateId === prevStateId + 1 && !areDirty(state.dirtyHandlerIds, handlerIds);\n\n          if (!canSkipListener) {\n            listener();\n          }\n        } finally {\n          prevStateId = currentStateId;\n        }\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      var _this2 = this;\n\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      var previousState = this.store.getState().dragOffset;\n\n      var handleChange = function handleChange() {\n        var nextState = _this2.store.getState().dragOffset;\n\n        if (nextState === previousState) {\n          return;\n        }\n\n        previousState = nextState;\n        listener();\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId);\n      invariant(source, \"Expected to find a valid source. sourceId=\".concat(sourceId));\n\n      if (this.isDragging()) {\n        return false;\n      }\n\n      return source.canDrag(this, sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      // undefined on initial render\n      if (!targetId) {\n        return false;\n      }\n\n      var target = this.registry.getTarget(targetId);\n      invariant(target, \"Expected to find a valid target. targetId=\".concat(targetId));\n\n      if (!this.isDragging() || this.didDrop()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n      return matchesType(targetType, draggedItemType) && target.canDrop(this, targetId);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      return Boolean(this.getItemType());\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      // undefined on initial render\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId, true);\n      invariant(source, \"Expected to find a valid source. sourceId=\".concat(sourceId));\n\n      if (!this.isDragging() || !this.isSourcePublic()) {\n        return false;\n      }\n\n      var sourceType = this.registry.getSourceType(sourceId);\n      var draggedItemType = this.getItemType();\n\n      if (sourceType !== draggedItemType) {\n        return false;\n      }\n\n      return source.isDragging(this, sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        shallow: false\n      };\n\n      // undefined on initial render\n      if (!targetId) {\n        return false;\n      }\n\n      var shallow = options.shallow;\n\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n\n      if (draggedItemType && !matchesType(targetType, draggedItemType)) {\n        return false;\n      }\n\n      var targetIds = this.getTargetIds();\n\n      if (!targetIds.length) {\n        return false;\n      }\n\n      var index = targetIds.indexOf(targetId);\n\n      if (shallow) {\n        return index === targetIds.length - 1;\n      } else {\n        return index > -1;\n      }\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.store.getState().dragOperation.itemType;\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.store.getState().dragOperation.item;\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.store.getState().dragOperation.sourceId;\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.store.getState().dragOperation.targetIds;\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.store.getState().dragOperation.dropResult;\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.store.getState().dragOperation.didDrop;\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return Boolean(this.store.getState().dragOperation.isSourcePublic);\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.store.getState().dragOffset.initialClientOffset;\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.store.getState().dragOffset.initialSourceClientOffset;\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.store.getState().dragOffset.clientOffset;\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return _getSourceClientOffset(this.store.getState().dragOffset);\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return _getDifferenceFromInitialOffset(this.store.getState().dragOffset);\n    }\n  }]);\n\n  return DragDropMonitorImpl;\n}();","export var HandlerRole;\n\n(function (HandlerRole) {\n  HandlerRole[\"SOURCE\"] = \"SOURCE\";\n  HandlerRole[\"TARGET\"] = \"TARGET\";\n})(HandlerRole || (HandlerRole = {}));","var nextUniqueId = 0;\nexport function getNextUniqueId() {\n  return nextUniqueId++;\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { invariant } from '@react-dnd/invariant';\nexport function validateSourceContract(source) {\n  invariant(typeof source.canDrag === 'function', 'Expected canDrag to be a function.');\n  invariant(typeof source.beginDrag === 'function', 'Expected beginDrag to be a function.');\n  invariant(typeof source.endDrag === 'function', 'Expected endDrag to be a function.');\n}\nexport function validateTargetContract(target) {\n  invariant(typeof target.canDrop === 'function', 'Expected canDrop to be a function.');\n  invariant(typeof target.hover === 'function', 'Expected hover to be a function.');\n  invariant(typeof target.drop === 'function', 'Expected beginDrag to be a function.');\n}\nexport function validateType(type, allowArray) {\n  if (allowArray && Array.isArray(type)) {\n    type.forEach(function (t) {\n      return validateType(t, false);\n    });\n    return;\n  }\n\n  invariant(typeof type === 'string' || _typeof(type) === 'symbol', allowArray ? 'Type can only be a string, a symbol, or an array of either.' : 'Type can only be a string or a symbol.');\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { addSource as _addSource, addTarget as _addTarget, removeSource as _removeSource, removeTarget as _removeTarget } from '../actions/registry';\nimport { getNextUniqueId } from '../utils/getNextUniqueId';\nimport { HandlerRole } from '../interfaces';\nimport { validateSourceContract, validateTargetContract, validateType } from '../contracts';\nimport { asap } from '@react-dnd/asap';\n\nfunction getNextHandlerId(role) {\n  var id = getNextUniqueId().toString();\n\n  switch (role) {\n    case HandlerRole.SOURCE:\n      return \"S\".concat(id);\n\n    case HandlerRole.TARGET:\n      return \"T\".concat(id);\n\n    default:\n      throw new Error(\"Unknown Handler Role: \".concat(role));\n  }\n}\n\nfunction parseRoleFromHandlerId(handlerId) {\n  switch (handlerId[0]) {\n    case 'S':\n      return HandlerRole.SOURCE;\n\n    case 'T':\n      return HandlerRole.TARGET;\n\n    default:\n      invariant(false, \"Cannot parse handler ID: \".concat(handlerId));\n  }\n}\n\nfunction mapContainsValue(map, searchValue) {\n  var entries = map.entries();\n  var isDone = false;\n\n  do {\n    var _entries$next = entries.next(),\n        done = _entries$next.done,\n        _entries$next$value = _slicedToArray(_entries$next.value, 2),\n        value = _entries$next$value[1];\n\n    if (value === searchValue) {\n      return true;\n    }\n\n    isDone = !!done;\n  } while (!isDone);\n\n  return false;\n}\n\nexport var HandlerRegistryImpl = /*#__PURE__*/function () {\n  function HandlerRegistryImpl(store) {\n    _classCallCheck(this, HandlerRegistryImpl);\n\n    _defineProperty(this, \"types\", new Map());\n\n    _defineProperty(this, \"dragSources\", new Map());\n\n    _defineProperty(this, \"dropTargets\", new Map());\n\n    _defineProperty(this, \"pinnedSourceId\", null);\n\n    _defineProperty(this, \"pinnedSource\", null);\n\n    _defineProperty(this, \"store\", void 0);\n\n    this.store = store;\n  }\n\n  _createClass(HandlerRegistryImpl, [{\n    key: \"addSource\",\n    value: function addSource(type, source) {\n      validateType(type);\n      validateSourceContract(source);\n      var sourceId = this.addHandler(HandlerRole.SOURCE, type, source);\n      this.store.dispatch(_addSource(sourceId));\n      return sourceId;\n    }\n  }, {\n    key: \"addTarget\",\n    value: function addTarget(type, target) {\n      validateType(type, true);\n      validateTargetContract(target);\n      var targetId = this.addHandler(HandlerRole.TARGET, type, target);\n      this.store.dispatch(_addTarget(targetId));\n      return targetId;\n    }\n  }, {\n    key: \"containsHandler\",\n    value: function containsHandler(handler) {\n      return mapContainsValue(this.dragSources, handler) || mapContainsValue(this.dropTargets, handler);\n    }\n  }, {\n    key: \"getSource\",\n    value: function getSource(sourceId) {\n      var includePinned = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      var isPinned = includePinned && sourceId === this.pinnedSourceId;\n      var source = isPinned ? this.pinnedSource : this.dragSources.get(sourceId);\n      return source;\n    }\n  }, {\n    key: \"getTarget\",\n    value: function getTarget(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.dropTargets.get(targetId);\n    }\n  }, {\n    key: \"getSourceType\",\n    value: function getSourceType(sourceId) {\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      return this.types.get(sourceId);\n    }\n  }, {\n    key: \"getTargetType\",\n    value: function getTargetType(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.types.get(targetId);\n    }\n  }, {\n    key: \"isSourceId\",\n    value: function isSourceId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.SOURCE;\n    }\n  }, {\n    key: \"isTargetId\",\n    value: function isTargetId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.TARGET;\n    }\n  }, {\n    key: \"removeSource\",\n    value: function removeSource(sourceId) {\n      var _this = this;\n\n      invariant(this.getSource(sourceId), 'Expected an existing source.');\n      this.store.dispatch(_removeSource(sourceId));\n      asap(function () {\n        _this.dragSources.delete(sourceId);\n\n        _this.types.delete(sourceId);\n      });\n    }\n  }, {\n    key: \"removeTarget\",\n    value: function removeTarget(targetId) {\n      invariant(this.getTarget(targetId), 'Expected an existing target.');\n      this.store.dispatch(_removeTarget(targetId));\n      this.dropTargets.delete(targetId);\n      this.types.delete(targetId);\n    }\n  }, {\n    key: \"pinSource\",\n    value: function pinSource(sourceId) {\n      var source = this.getSource(sourceId);\n      invariant(source, 'Expected an existing source.');\n      this.pinnedSourceId = sourceId;\n      this.pinnedSource = source;\n    }\n  }, {\n    key: \"unpinSource\",\n    value: function unpinSource() {\n      invariant(this.pinnedSource, 'No source is pinned at the time.');\n      this.pinnedSourceId = null;\n      this.pinnedSource = null;\n    }\n  }, {\n    key: \"addHandler\",\n    value: function addHandler(role, type, handler) {\n      var id = getNextHandlerId(role);\n      this.types.set(id, type);\n\n      if (role === HandlerRole.SOURCE) {\n        this.dragSources.set(id, handler);\n      } else if (role === HandlerRole.TARGET) {\n        this.dropTargets.set(id, handler);\n      }\n\n      return id;\n    }\n  }]);\n\n  return HandlerRegistryImpl;\n}();","import { DragDropManagerImpl } from './classes/DragDropManagerImpl';\nimport { createStore } from 'redux';\nimport { reduce } from './reducers';\nimport { DragDropMonitorImpl } from './classes/DragDropMonitorImpl';\nimport { HandlerRegistryImpl } from './classes/HandlerRegistryImpl';\nexport function createDragDropManager(backendFactory) {\n  var globalContext = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n  var backendOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var debugMode = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var store = makeStoreInstance(debugMode);\n  var monitor = new DragDropMonitorImpl(store, new HandlerRegistryImpl(store));\n  var manager = new DragDropManagerImpl(store, monitor);\n  var backend = backendFactory(manager, globalContext, backendOptions);\n  manager.receiveBackend(backend);\n  return manager;\n}\n\nfunction makeStoreInstance(debugMode) {\n  // TODO: if we ever make a react-native version of this,\n  // we'll need to consider how to pull off dev-tooling\n  var reduxDevTools = typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION__;\n  return createStore(reduce, debugMode && reduxDevTools && reduxDevTools({\n    name: 'dnd-core',\n    instanceId: 'dnd-core'\n  }));\n}"],"sourceRoot":""}