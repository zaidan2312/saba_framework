(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[81],{136:function(e,t,a){"use strict";a.r(t);var c=a(6),n=a(9),s=a(0),i=a(20),r=a(68),l=(a(520),a(10)),o=a(103),d=a(507),u=a(182),m=(a(133),a(69)),b=(a(31),a(516),a(510),a(517),a(511)),j=a(72),O=a(16),p=a(2);t.default=function(e){var t,a,f,x,g=e.show,h=e.setShow,v=e.detailPage,y=e.formState,N=e.setFormState,S=e.currentData,D=void 0===S?null:S,k=Object(o.a)().t,T=Object(i.g)().id,C=Object(O.b)(),q=Object(O.c)((function(e){return e[j.storeName]})),w=Object(s.useContext)(m.a).colors,A=Object(s.useState)(null),E=Object(n.a)(A,2),J=(E[0],E[1],Object(s.useState)("Please Wait")),F=Object(n.a)(J,2),U=F[0],B=F[1],I=Object(b.e)({}),L=I.control,P=I.setError,V=I.handleSubmit,H=I.formState.errors,Q=function(){return Object(p.jsxs)(s.Fragment,{children:[Object(p.jsx)(u.a,{}),Object(p.jsxs)(l.q,{className:"mb-0 mt-1",children:[k(U),"..."]})]})};function W(e){return Object.keys(e).sort().reduce((function(t,a){return t[a]=e[a],t}),{})}var Y=function(){C(Object(j.resetSelectedData)())};return Object(p.jsx)(l.E,{isOpen:g,toggle:function(){Y(),h(!g)},className:"modal-dialog-centered modal-lg",children:Object(p.jsxs)(d.a,{blocking:q.isLoadingAddEdit||q.isLoadingDetail,loader:Object(p.jsx)(Q,{}),children:[Object(p.jsx)(l.H,{className:"bg-transparent",toggle:function(){Y(),h(!g)}}),Object(p.jsxs)(l.F,{className:"px-sm-5 pt-50 pb-5",children:[Object(p.jsxs)("div",{className:"text-center mb-2",children:[Object(p.jsxs)("h2",{className:"mb-1",children:[k("edit"===y?"Edit":"Add")," ",k(j.pageTitle)]}),"edit"!==y?Object(p.jsxs)("p",{children:["Setelah menambahkan data ",k("Unit")," baru, maka pastikan logout dulu akun anda."]}):null]}),Object(p.jsx)(l.x,{onSubmit:V("edit"===y?function(e){if(function(e){if("edit"===y){var t=Object(c.a)({},W(q.selectedData));for(var a in delete t.id,t)a in e||delete t[a];return JSON.stringify(W(t))!==JSON.stringify(W(e))}return!0}(e))if(Object.values(e).every((function(e){return null!==e&&""!==e})))B("".concat(k("Updating")," ").concat(k(j.pageTitle)," ").concat(k("Detail")," Data")),C(Object(j.putData)(e)).then((function(e){if("fulfilled"===e.meta.requestStatus)h(!g),r.b.success("".concat(k("Successfully Updated")," ").concat(k(j.pageTitle)),{style:{padding:"16px",color:w.success.main,border:"1px solid ".concat(w.success.main)},iconTheme:{primary:w.success.main}}),v&&C(Object(j.getDataById)(T));else if("rejected"===e.meta.requestStatus){var t;r.b.error(null===(t=e.payload)||void 0===t?void 0:t.message,{style:{padding:"16px",color:w.danger.main,border:"1px solid ".concat(w.danger.main)},iconTheme:{primary:w.danger.main}})}}));else for(var t in e){var a;0===(null===(a=e[t])||void 0===a?void 0:a.length)&&P(t,{type:"manual"})}else Object(r.b)("".concat(k("You haven't changed anything")),{icon:"\ud83d\udc4f"})}:function(e){if(Object.values(e).every((function(e){return null!==e&&""!==e})))B("".concat(k("Creating a New ".concat(j.pageTitle)))),e.depth=D.depth+1,e.parent_id=D.id,C(Object(j.postData)(e)).then((function(e){console.log(e),"fulfilled"===e.meta.requestStatus?(h(!g),r.b.success("".concat(k("Successfully Created")," ").concat(k(j.pageTitle)),{style:{padding:"16px",color:w.success.main,border:"1px solid ".concat(w.success.main)},iconTheme:{primary:w.success.main}}),v&&C(Object(j.getDataById)(T))):"rejected"===e.meta.requestStatus&&r.b.error(e.payload.message,{style:{padding:"16px",color:w.danger.main,border:"1px solid ".concat(w.danger.main)},iconTheme:{primary:w.danger.main}})}));else for(var t in e){var a;null!==e[t]&&0===(null===(a=e[t])||void 0===a?void 0:a.length)&&P(t,{type:"manual"})}}),children:Object(p.jsxs)(l.Q,{className:"gy-1 pt-75",children:[Object(p.jsxs)(l.s,{md:12,xs:12,children:[Object(p.jsxs)(l.D,{className:"form-label",for:"name",children:[k("Name"),Object(p.jsx)("span",{className:"text-danger",children:"*"})]}),Object(p.jsx)(b.a,{defaultValue:null!==(t=null===(a=q.selectedData)||void 0===a?void 0:a.name)&&void 0!==t?t:"",control:L,id:"name",name:"name",render:function(e){var t=e.field;return Object(p.jsx)(l.A,Object(c.a)(Object(c.a)({},t),{},{className:H.name?"form-control is-invalid":"form-control",id:"name",invalid:H.name&&!0}))}})]}),Object(p.jsxs)(l.s,{md:12,xs:12,children:[Object(p.jsxs)(l.D,{className:"form-label",for:"description",children:[k("Code"),Object(p.jsx)("span",{className:"text-danger",children:"*"})]}),Object(p.jsx)(b.a,{defaultValue:null!==(f=null===(x=q.selectedData)||void 0===x?void 0:x.code)&&void 0!==f?f:"",control:L,id:"code",name:"code",render:function(e){var t=e.field;return Object(p.jsx)(l.A,Object(c.a)(Object(c.a)({},t),{},{className:H.code?"form-control is-invalid":"form-control",id:"code",invalid:H.code&&!0}))}})]}),Object(p.jsxs)(l.s,{xs:12,className:"text-center mt-2 pt-50",children:[Object(p.jsx)(l.i,{type:"submit",className:"me-1",color:"primary",children:k("Submit")}),Object(p.jsx)(l.i,{type:"reset",color:"secondary",outline:!0,onClick:function(){Y(),N("add"),h(!1)},children:k("Cancel")})]})]})})]})]})})}}}]);
//# sourceMappingURL=81.f3263daf.chunk.js.map