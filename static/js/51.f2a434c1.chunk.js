(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[51,69,141,159],{150:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(103),s=a(16),i=a(350),o=a(335),r=a(54),l=(a(482),a(2));t.default=function(e){e.lookupMode;var t,a=e.lookupMode_fieldName,d=void 0===a?"":a,u=e.lookupMode_dropdown,j=void 0!==u&&u,m=e.lookupMode_defaultValue,b=e.lookupMode_onChange,p=e.lookupMode_isMulti,O=void 0!==p&&p,h=e.errorState,f=void 0!==h&&h,x=Object(n.a)().t,g=Object(s.b)(),v=Object(s.c)((function(e){return e[r.storeName]}));Object(c.useEffect)((function(){var e;r.getApiSummaryData&&0===(null===(e=v.dataSummary)||void 0===e?void 0:e.length)&&!v.isLoadingSummary&&g(Object(r.getSummaryData)({}))}),[g,(null===(t=v.dataSummary)||void 0===t?void 0:t.length)>0]);return j?Object(l.jsx)(i.default,{lookupMode_fieldName:d,lookupMode_onChange:b,lookupMode_defaultValue:m,lookupMode_isMulti:O,errorState:f}):Object(l.jsxs)(c.Fragment,{children:[Object(l.jsx)("h3",{children:x("Roles List")}),Object(l.jsx)("p",{className:"mb-2",children:x("A role provides access to predefined menus and features depending on the assigned role to an administrator that can have access to what he needs.")}),Object(l.jsx)(o.default,{})]})}},335:function(e,t,a){"use strict";a.r(t);var c=a(6),n=a(4),s=a(13),i=a(9),o=a(3),r=a.n(o),l=a(0),d=a(23),u=a(10),j=a(69),m=a(54),b=a(71),p=a(79),O=a(251),h=a(511),f=a(529),x=a(16),g=a(655),v=a(68),N=a(103),y=a(319),k=a(507),w=a(2);t.default=function(){var e=Object(N.a)().t,t=Object(l.useState)(!1),o=Object(i.a)(t,2),D=o[0],S=o[1],_=Object(l.useState)("".concat(e("Add New"))),C=Object(i.a)(_,2),M=C[0],A=C[1],L=Object(x.b)(),T=Object(x.c)((function(e){return e[m.storeName]})),E=Object(x.c)((function(e){return e.apps_permission})),q=Object(l.useState)([]),R=Object(i.a)(q,2),U=R[0],F=R[1],V=Object(l.useState)([]),J=Object(i.a)(V,2),P=J[0],z=J[1],I=Object(l.useState)(""),Q=Object(i.a)(I,2),B=Q[0],G=Q[1],H=Object(l.useState)(null),W=Object(i.a)(H,2),X=W[0],Y=W[1],K=Object(l.useState)(!1),Z=Object(i.a)(K,2),$=(Z[0],Z[1]),ee=Object(l.useState)("Please Wait"),te=Object(i.a)(ee,2),ae=(te[0],te[1]),ce=Object(l.useContext)(j.a).colors,ne=Object(h.e)({}),se=ne.reset,ie=ne.control,oe=ne.setError,re=ne.setValue,le=ne.handleSubmit,de=ne.formState.errors,ue=function(e,t,a){var c=Object.assign([],U);c[t][a]=e.target.checked,F(c)},je=function(){var t=Object(n.a)(r.a.mark((function t(){var a,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Y("add"),A("".concat(e("Add New"))),0!==E.data.length||E.isLoading){t.next=8;break}return $(!0),t.next=6,L(Object(b.getDataList)({})).then((function(e){var t=Object(s.a)(e.payload.data),a=t;F(t),z(a),S(!0),$(!1)}));case 6:t.next=14;break;case 8:a=Object(s.a)(E.dataDropdown),c=Object(s.a)(E.dataDropdown),F(a),z(c),S(!0),$(!1);case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),me=function(t){if(Object.values(t).every((function(e){return null!==e&&""!==e}))){ae("".concat(e("Creating a New ".concat(m.pageTitle))));var a=(s=P,i=function(e,t){return e.id_permission===t.id_permission&&e.post===t.post&&e.put===t.put&&e.delete===t.delete&&e.get===t.get},U.filter((function(e){return!s.some((function(t){return i(e,t)}))})));a.length>0&&(t.role_permission=a),L(Object(m.postData)(t)).then((function(t){"fulfilled"===t.meta.requestStatus?(S(!1),v.b.success("".concat(e("Successfully Created")," ").concat(e(m.pageTitle)),{style:{padding:"16px",color:ce.success.main,border:"1px solid ".concat(ce.success.main)},iconTheme:{primary:ce.success.main}})):"rejected"===t.meta.requestStatus&&v.b.error(t.payload.message,{style:{padding:"16px",color:ce.danger.main,border:"1px solid ".concat(ce.danger.main)},iconTheme:{primary:ce.danger.main}})}))}else for(var c in t){var n;null!==t[c]&&0===(null===(n=t[c])||void 0===n?void 0:n.length)&&oe(c,{type:"manual"})}var s,i};var be=function(t){if(function(e){if("edit"===X){var t=JSON.stringify(P)!==JSON.stringify(U);return T.selectedData.title!==e.description||t}return!0}(t)){ae("".concat(e("Updating")," ").concat(e(m.pageTitle)," ").concat(e("Detail")," Data"));var a=(c=P,n=function(e,t){return e.id===t.id&&e.id_permission===t.id_permission&&e.post===t.post&&e.put===t.put&&e.delete===t.delete&&e.get===t.get},U.filter((function(e){return!c.some((function(t){return n(e,t)}))})));a.length>0&&(t.role_permission=a),L(Object(m.putData)(t)).then((function(t){"fulfilled"===t.meta.requestStatus?(S(!1),v.b.success("".concat(e("Successfully Updated")," ").concat(e(m.pageTitle)),{style:{padding:"16px",color:ce.success.main,border:"1px solid ".concat(ce.success.main)},iconTheme:{primary:ce.success.main}})):"rejected"===t.meta.requestStatus&&v.b.error(t.payload.message,{style:{padding:"16px",color:ce.danger.main,border:"1px solid ".concat(ce.danger.main)},iconTheme:{primary:ce.danger.main}})}))}else Object(v.b)("".concat(e("You haven't changed anything")),{icon:"\ud83d\udc4f"});var c,n};return Object(l.useEffect)((function(){0!==E.dataDropdown.length||E.isLoading||L(Object(b.getDataList)({grid_mode:!0}))}),[L,E.dataDropdown.length]),Object(w.jsx)(l.Fragment,{children:Object(w.jsxs)(k.a,{blocking:T.isLoadingSummary,loader:Object(w.jsx)(y.b,{}),children:[Object(w.jsxs)(u.Q,{children:[T.dataSummary.map((function(t,c){var n,i,o;return Object(w.jsx)(u.s,{xl:4,md:6,children:Object(w.jsx)(u.k,{children:Object(w.jsxs)(u.l,{children:[Object(w.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(w.jsx)("span",{children:"Total ".concat(t.totalUsers," users")}),(null===t||void 0===t||null===(n=t.users)||void 0===n?void 0:n.length)>0?Object(w.jsx)(f.a,{data:t.users.map((function(e){return{size:e.size,title:e.title,id:e.id,img:null!==(null===e||void 0===e?void 0:e.img)?e.img:a(42).default}}))}):Object(w.jsx)("div",{style:{height:"30px"},className:""})]}),Object(w.jsxs)("div",{className:"d-flex justify-content-between align-items-end mt-1 pt-25",children:[Object(w.jsxs)("div",{className:"role-heading  text-truncate",children:[Object(w.jsx)("h4",{className:"fw-bolder mb-0",children:null!==(i=t.title)&&void 0!==i?i:"-"}),Object(w.jsx)("div",{children:Object(w.jsx)("small",{className:"fw-bolder",children:null!==(o=t.name)&&void 0!==o?o:"-"})}),Object(w.jsx)(d.b,{to:"/",className:"role-edit-modal",onClick:function(a){var c;a.preventDefault(),G((c=t).title),console.log(c),Y("edit"),A("".concat(e("Edit"))),m.detailFromGrid?($(!0),ae("".concat(e("Loading")," ").concat(e("Detail")," ").concat(e("Data")," ").concat(e(m.pageTitle))),L(Object(m.setDataById)(c)).then((function(e){$(!1),S(!0)}))):(ae("".concat(e("Loading")," ").concat(e("Detail")," ").concat(e("Data")," ").concat(e(m.pageTitle))),$(!0),L(Object(m.setDataById)(c)).then((function(e){$(!1),S(!0)})),L(Object(p.getDataList)({filter_id_role:c.id})).then((function(e){if("rejected"===e.meta.requestStatus)$(!1),v.b.error(e.payload.message,{style:{padding:"16px",color:ce.danger.main,border:"1px solid ".concat(ce.danger.main)},iconTheme:{primary:ce.danger.main}});else{var t=Object(s.a)(e.payload.data),a=E.dataDropdown.map((function(e,a){return Object.assign({},e,t[a])})),c=E.dataDropdown.map((function(e,a){return Object.assign({},e,t[a])}));F(a),z(c)}})))},children:Object(w.jsxs)("small",{className:"fw-bolder",children:[e("Edit")," ",e("Role")]})})]}),Object(w.jsx)(d.b,{to:"",className:"text-body",onClick:function(e){return e.preventDefault()}})]})]})})},c)})),"admin.insaba.co.id"===location.host&&Object(w.jsx)(u.s,{xl:4,md:6,children:Object(w.jsx)(u.k,{children:Object(w.jsxs)(u.Q,{className:"mb-2",children:[Object(w.jsx)(u.s,{sm:5,children:Object(w.jsx)("div",{className:"d-flex align-items-end justify-content-center h-100",children:Object(w.jsx)("img",{className:"img-fluid mt-2",src:g.a,alt:"Image",width:85})})}),"(",Object(w.jsx)(u.s,{sm:7,children:Object(w.jsxs)(u.l,{className:"text-sm-end text-center ps-sm-0",children:[Object(w.jsxs)(u.i,{color:"primary",className:"text-nowrap mb-1",onClick:function(){je()},children:[e("Add New Role")," "]}),Object(w.jsx)("p",{className:"mb-0",children:e("Add a new role, if it does not exist")})]})}),")"]})})})]}),D&&Object(w.jsxs)(u.E,{isOpen:D,onClosed:function(){A("".concat(e("Add New"))),re("roleName")},toggle:function(){return S(!D)},className:"modal-dialog-centered modal-xl",children:[Object(w.jsx)(u.H,{className:"bg-transparent",toggle:function(){return S(!D)}}),!T.loading&&Object(w.jsxs)(u.F,{className:"px-5 pb-5",children:[Object(w.jsxs)("div",{className:"text-center mb-4",children:[Object(w.jsxs)("h1",{children:[M," ",e("Role")]}),Object(w.jsx)("p",{children:"edit"===X?"".concat(e("Set role name and permissions")):e("Create new role")})]}),Object(w.jsxs)(u.Q,{tag:"form",onSubmit:le((function(e){e.description.length?"edit"===X?be(e):me(e):oe("description",{type:"manual"})})),children:[Object(w.jsxs)(u.s,{xs:12,children:[Object(w.jsx)(u.D,{className:"form-label",for:"description",children:e("Role Name")}),Object(w.jsx)(h.a,{name:"description",control:ie,defaultValue:B,render:function(t){var a=t.field;return Object(w.jsx)(u.A,Object(c.a)(Object(c.a)({},a),{},{id:"description",placeholder:e("Enter role name"),invalid:de.description&&!0}))}}),de.description&&Object(w.jsx)(u.y,{children:e("Please enter a valid role name")})]}),Object(w.jsxs)(u.s,{xs:12,children:[Object(w.jsx)("h4",{className:"mt-2 pt-50",children:e("Role Permissions")}),Object(w.jsx)(u.U,{className:"table-flush-spacing",responsive:!0,children:Object(w.jsx)("tbody",{children:U.map((function(t,a){return Object(w.jsxs)("tr",{children:[Object(w.jsxs)("td",{className:"text-nowrap fw-bolder",children:[Object(w.jsxs)("span",{className:"me-50",children:[" ",t.label]}),Object(w.jsx)(O.a,{size:14,id:"info_".concat(t.id)}),Object(w.jsx)(u.X,{placement:"top",target:"info_".concat(t.id),children:e(t.description)})]}),Object(w.jsx)("td",{children:Object(w.jsxs)("div",{className:"d-flex",children:[Object(w.jsxs)("div",{className:"form-check me-3 me-lg-5",children:[Object(w.jsx)(u.A,{checked:t.get,type:"checkbox",id:"read-".concat(t.id),onChange:function(e){ue(e,a,"get")}}),Object(w.jsx)(u.D,{className:"form-check-label",for:"read-".concat(t.id),children:e("Read")})]}),Object(w.jsxs)("div",{className:"form-check me-3 me-lg-5",children:[Object(w.jsx)(u.A,{checked:t.post,type:"checkbox",id:"write-".concat(t.id),onChange:function(e){ue(e,a,"post")}}),Object(w.jsx)(u.D,{className:"form-check-label",for:"write-".concat(t.id),children:e("Create")})]}),Object(w.jsxs)("div",{className:"form-check me-3 me-lg-5",children:[Object(w.jsx)(u.A,{checked:t.put,type:"checkbox",id:"create-".concat(t.id),onChange:function(e){ue(e,a,"put")}}),Object(w.jsx)(u.D,{className:"form-check-label",for:"create-".concat(t.id),children:e("Update")})]}),Object(w.jsxs)("div",{className:"form-check",children:[Object(w.jsx)(u.A,{checked:t.delete,type:"checkbox",id:"delete-".concat(t.id),onChange:function(e){ue(e,a,"delete")}}),Object(w.jsx)(u.D,{className:"form-check-label",for:"delete-".concat(t.id),children:e("Delete")})]})]})})]},a)}))})})]}),Object(w.jsxs)(u.s,{className:"text-center mt-2",xs:12,children:[Object(w.jsx)(u.i,{type:"submit",color:"primary",className:"me-1",children:e("Submit")}),Object(w.jsx)(u.i,{type:"reset",outline:!0,onClick:function(){S(!1),se({roleName:""})},children:e("Cancel")})]})]})]})]})]})})}},350:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(16),s=a(103),i=(a(482),a(31)),o=(a(7),a(181)),r=a(54),l=a(2);t.default=function(e){var t=e.lookupMode_fieldName,a=void 0===t?"":t,d=e.lookupMode_isMulti,u=void 0!==d&&d,j=e.lookupMode_onChange,m=e.lookupMode_defaultValue,b=(e.errorState,Object(s.a)().t,Object(n.b)()),p=Object(n.c)((function(e){return e[r.storeName]}));return Object(c.useEffect)((function(){(0===p.data.length||!p.isLoading&&r.getAlwaysGrid)&&b(Object(r.getDataList)({}))}),[b,p.data.length]),Object(l.jsx)(c.Fragment,{children:Object(l.jsx)(o.a,{theme:i.q,defaultValue:u?m:p.dataDropdown.filter((function(e){return e.value===m})),isMulti:u,onChange:function(e){return j(e.value,a)},options:p.dataDropdown,className:"react-select",classNamePrefix:"select"})})}},482:function(e,t,a){},529:function(e,t,a){"use strict";var c=a(6),n=a(8),s=a(0),i=a(7),o=a.n(i),r=a(33),l=a(23),d=a(2);t.a=function(e){var t=e.data,a=e.tag,i=e.className,u=a||"div";return Object(d.jsx)(u,{className:o()("avatar-group",Object(n.a)({},i,i)),children:t.map((function(e,t){var a=null!==e&&void 0!==e&&e.id?"avatar_".concat(t,"_").concat(e.id):e.title.split(" ").join("-"),i=null===e||void 0===e?void 0:e.linkUrl;null===e||void 0===e||delete e.linkUrl;var u=e.tag?e.tag:"div",j=Object(d.jsxs)(s.Fragment,{children:[e.meta?null:null!==e&&void 0!==e&&e.img?Object(d.jsx)(r.a,Object(c.a)(Object(c.a)(Object(c.a)({tag:u,className:o()("pull-up",Object(n.a)({},e.className,e.className))},a?{id:a}:{}),e),{},{title:void 0,meta:void 0})):Object(d.jsx)(r.a,Object(c.a)(Object(c.a)({tag:u,initials:!0,className:o()("pull-up",Object(n.a)({},e.className,e.className))},a?{id:a}:{}),{},{color:"light-primary",content:"".concat(e.title)})),e.meta?Object(d.jsx)(u,{className:"d-flex align-items-center ps-1",children:e.meta}):null]},t);return i?Object(d.jsx)(l.b,{to:i,children:j},"avatar_".concat(t)):j}))})}},655:function(e,t,a){"use strict";t.a=a.p+"static/media/faq-illustrations.f8c4ea78.svg"}}]);
//# sourceMappingURL=51.f2a434c1.chunk.js.map