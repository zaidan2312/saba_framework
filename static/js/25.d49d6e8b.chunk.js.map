{"version":3,"sources":["views/apps/unit/modal/index.js","views/apps/unit/index.js","views/apps/unit/Table.js","views/apps/unit/Tree.js","@core/components/ui-loader/index.js","../../src/index.ts","../../src/mounts.js","../../src/index.js","../node_modules/flatpickr/dist/l10n/id.js","../node_modules/lodash.debounce/index.js","@core/components/widgets/stats/StatsHorizontal.js","shared/GlobaActionsTable.js","@core/components/breadcrumbs/index.js","../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/react-dnd/dist/esm/core/DndContext.js","../node_modules/@babel/runtime/helpers/objectSpread2.js","../node_modules/@babel/runtime/helpers/objectWithoutProperties.js","../node_modules/react-dnd/dist/esm/core/DndProvider.js","../../../src/AsapQueue.ts","../../../src/TaskFactory.ts","../node_modules/react-dnd/dist/esm/core/DragPreviewImage.js","../node_modules/react-dnd/dist/esm/internals/registration.js","../node_modules/react-dnd/dist/esm/internals/wrapConnectorHooks.js","../node_modules/react-dnd/dist/esm/internals/isRef.js","../node_modules/react-dnd/dist/esm/internals/SourceConnector.js","../node_modules/react-dnd/dist/esm/internals/DragSourceMonitorImpl.js","../node_modules/react-dnd/dist/esm/decorators/utils.js","../node_modules/react-dnd/dist/esm/decorators/disposables.js","../node_modules/react-dnd/dist/esm/decorators/decorateHandler.js","../node_modules/react-dnd/dist/esm/decorators/createSourceFactory.js","../node_modules/react-dnd/dist/esm/decorators/DragSource.js","../node_modules/react-dnd/dist/esm/internals/DropTargetMonitorImpl.js","../node_modules/react-dnd/dist/esm/internals/TargetConnector.js","../node_modules/react-dnd/dist/esm/decorators/createTargetFactory.js","../node_modules/react-dnd/dist/esm/decorators/DropTarget.js","../node_modules/react-dnd/dist/esm/decorators/DragLayer.js","../node_modules/react-dnd/dist/esm/hooks/useIsomorphicLayoutEffect.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/DragSourceImpl.js","../node_modules/react-dnd/dist/esm/hooks/useDragDropManager.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useRegisteredDragSource.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragSource.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragType.js","../node_modules/react-dnd/dist/esm/hooks/useOptionalFactory.js","../node_modules/react-dnd/dist/esm/hooks/useCollector.js","../node_modules/react-dnd/dist/esm/hooks/useMonitorOutput.js","../node_modules/react-dnd/dist/esm/hooks/useCollectedProps.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/connectors.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDrag.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragSourceMonitor.js","../node_modules/react-dnd/dist/esm/hooks/useDrag/useDragSourceConnector.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/DropTargetImpl.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useRegisteredDropTarget.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useDropTarget.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useAccept.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/connectors.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useDrop.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useDropTargetMonitor.js","../node_modules/react-dnd/dist/esm/hooks/useDrop/useDropTargetConnector.js","../node_modules/react-dnd/dist/esm/hooks/useDragLayer.js","../node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js","../node_modules/@nosferatu500/react-sortable-tree/index.js","../node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js","../node_modules/@nosferatu500/react-dnd-scrollzone/index.js","../../../src/index.ts","../../../src/asap.ts","../../../src/makeRequestCall.ts","../../../src/RawTask.ts","../node_modules/fast-deep-equal/index.js","../node_modules/lodash.isequal/index.js","../node_modules/react-dnd-html5-backend/dist/esm/utils/js_utils.js","../node_modules/react-dnd-html5-backend/dist/esm/EnterLeaveCounter.js","../node_modules/react-dnd-html5-backend/dist/esm/BrowserDetector.js","../node_modules/react-dnd-html5-backend/dist/esm/MonotonicInterpolant.js","../node_modules/react-dnd-html5-backend/dist/esm/OffsetUtils.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeTypes.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/nativeTypesConfig.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/getDataFromDataTransfer.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/NativeDragSource.js","../node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/index.js","../node_modules/react-dnd-html5-backend/dist/esm/OptionsReader.js","../node_modules/react-dnd-html5-backend/dist/esm/HTML5BackendImpl.js","../node_modules/react-dnd-html5-backend/dist/esm/getEmptyImage.js","../node_modules/react-dnd-html5-backend/dist/esm/index.js","../../src/utils.ts","../../src/actions.ts","../../src/constants.ts","../../src/streams.ts","../../src/pipe.ts","../../src/transformers.ts","../../src/system.ts","../../src/hooks/useIsomorphicLayoutEffect.ts","../../src/loggerSystem.ts","../../src/hooks/useSize.ts","../../src/hooks/useChangedChildSizes.ts","../../src/utils/correctItemSize.ts","../../src/utils/approximatelyEqual.ts","../../src/hooks/useScrollTop.ts","../../src/domIOSystem.ts","../../src/AATree.ts","../../src/utils/binaryArraySearch.ts","../../src/recalcSystem.ts","../../src/sizeSystem.ts","../../src/scrollToIndexSystem.ts","../../src/stateFlagsSystem.ts","../../src/propsReadySystem.ts","../../src/initialTopMostItemIndexSystem.ts","../../src/followOutputSystem.ts","../../src/groupedListSystem.ts","../../src/comparators.tsx","../../src/sizeRangeSystem.ts","../../src/listStateSystem.ts","../../src/initialItemCountSystem.ts","../../src/scrollSeekSystem.ts","../../src/topItemCountSystem.ts","../../src/totalListHeightSystem.ts","../../src/utils/simpleMemoize.ts","../../src/upwardScrollFixSystem.ts","../../src/initialScrollTopSystem.ts","../../src/alignToBottomSystem.ts","../../src/windowScrollerSystem.ts","../../src/scrollIntoViewSystem.ts","../../src/listSystem.ts","../../src/utils/positionStickyCssValue.ts","../../src/hooks/useWindowViewportRect.ts","../../src/List.tsx","../../src/gridSystem.ts","../../src/Grid.tsx","../../src/Table.tsx","../../src/components.tsx","../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/types.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/local/setClientOffset.js","../node_modules/dnd-core/dist/esm/utils/js_utils.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/beginDrag.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/publishDragSource.js","../node_modules/dnd-core/dist/esm/utils/matchesType.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/hover.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/drop.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/endDrag.js","../node_modules/dnd-core/dist/esm/classes/DragDropManagerImpl.js","../node_modules/dnd-core/dist/esm/actions/dragDrop/index.js","../node_modules/dnd-core/node_modules/redux/es/redux.js","../node_modules/dnd-core/dist/esm/utils/equality.js","../node_modules/dnd-core/dist/esm/reducers/dragOffset.js","../node_modules/dnd-core/dist/esm/actions/registry.js","../node_modules/dnd-core/dist/esm/reducers/dragOperation.js","../node_modules/dnd-core/dist/esm/reducers/refCount.js","../node_modules/dnd-core/dist/esm/utils/dirtiness.js","../node_modules/dnd-core/dist/esm/reducers/dirtyHandlerIds.js","../node_modules/dnd-core/dist/esm/reducers/stateId.js","../node_modules/dnd-core/dist/esm/reducers/index.js","../node_modules/dnd-core/dist/esm/utils/coords.js","../node_modules/dnd-core/dist/esm/classes/DragDropMonitorImpl.js","../node_modules/dnd-core/dist/esm/interfaces.js","../node_modules/dnd-core/dist/esm/utils/getNextUniqueId.js","../node_modules/dnd-core/dist/esm/contracts.js","../node_modules/dnd-core/dist/esm/classes/HandlerRegistryImpl.js","../node_modules/dnd-core/dist/esm/createDragDropManager.js"],"names":["ModalAddEdit","_ref","_store$selectedData$n","_store$selectedData","_store$selectedData$c","_store$selectedData2","show","setShow","detailPage","formState","setFormState","_ref$currentData","currentData","t","useTranslation","id","useParams","dispatch","useDispatch","store","useSelector","state","storeName","colors","useContext","ThemeColors","_useState","useState","_useState2","_slicedToArray","_useState3","_useState4","loadingText","setLoadingText","_useForm","useForm","control","setError","handleSubmit","errors","Loader","_jsxs","Fragment","children","_jsx","Spinner","CardText","className","sortedObject","unordered","Object","keys","sort","reduce","obj","key","handleReset","resetSelectedData","Modal","isOpen","toggle","UILoader","blocking","isLoadingAddEdit","isLoadingDetail","loader","ModalHeader","ModalBody","pageTitle","Form","onSubmit","data","storeData","_objectSpread","selectedData","JSON","stringify","countChanges","values","every","field","concat","putData","then","res","meta","requestStatus","toast","success","style","padding","color","main","border","iconTheme","primary","getDataById","_res$payload","error","payload","message","danger","_data$key","length","type","icon","depth","postData","console","log","_data$key2","Row","Col","md","xs","Label","for","Controller","defaultValue","name","render","_ref2","Input","invalid","code","_ref3","Button","outline","onClick","List","_store$dataSummary2","_store$dataSummary3","searchTerm","setSearchTerm","useEffect","_store$dataSummary","getApiSummaryData","dataSummary","isLoadingSummary","getAlwaysGrid","getSummaryData","_Fragment","Breadcrumbs","title","htmlFor","value","onChange","e","event","target","map","item","index","_item$count_format","StatsHorizontal","statTitle","Icon","baseClassName","fontSize","renderStats","Skeleton","sx","bgcolor","animation","height","width","count_format","count","Tree","searchString","MySwal","withReactContent","Swal","BootstrapCheckbox","forwardRef","props","ref","CustomHeader","toggleSidebar","handlePerPage","rowsPerPage","handleFilter","selectedRow","handleDeleteSelected","ability","AbilityContext","userData","invoices","getUserData","xl","can","sessionStorage","getItem","UncontrolledDropdown","DropdownToggle","caret","Share","DropdownMenu","DropdownItem","getInvoice","rpt_name","output_type","dataYear","print","as_attachment","par_UNITKEY","par_SAMPLE","Printer","File","Grid","FileText","sort_dir","setSortDir","_useState5","_useState6","currentPage","setCurrentPage","_useState7","_useState8","setSort","_useState9","_useState10","setRowsPerPage","_useState11","_useState12","selectedRows","setSelectedRows","_useState13","_useState14","toggleCleared","setToggleCleared","_useState15","_useState16","sidebarOpen","setSidebarOpen","_useState17","_useState18","loading","setLoading","_useState19","_useState20","_useState21","_useState22","showModal","setShowModal","_useState23","_useState24","handleEdit","rowData","detailFromGrid","setDataById","handleCloseModal","revivalBack","neutralizeBack","handleDelete","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","fire","text","showCancelButton","confirmButtonText","cancelButtonText","customClass","confirmButton","cancelButton","buttonsStyling","sent","deleteData","stop","_x","apply","arguments","_callee2","countSelectedCopy","_context2","a","deleteSelectedRowData","debounceFn","useCallback","debounce","inputValue","getDataList","search","page","handleRowSelected","columns","_toConsumableArray","dynamicColumns","column","columnName","sortField","fieldName","center","sortable","selector","row","cell","dataFormat","includes","columnTypeFormat","split","columnType","columnFormat","columnFormated","Moment","format","renderCell","GlobalActionsTable","tableColumns","useMemo","isLoading","dark","light","Card","DataTable","noHeader","subHeader","sortServer","responsive","pagination","paginationServer","paginationTotalRows","total","paginationComponent","Number","Math","ceil","ReactPaginate","previousLabel","nextLabel","pageCount","activeClassName","forcePage","onPageChange","selected","handlePagination","pageClassName","nextLinkClassName","nextClassName","previousClassName","previousLinkClassName","pageLinkClassName","containerClassName","selectableRows","onSelectedRowsChange","selectableRowsHighlight","clearSelectedRows","selectableRowsComponent","noDataComponent","NoDataDisplay","highlightOnHover","pointerOnHover","onSort","sortDirection","sortIcon","ChevronDown","filters","isFiltered","some","k","Array","fill","dataToRender","subHeaderComponent","parseInt","currentTarget","currentDataAdd","setCurrentDataAdd","searchFocusIndex","setSearchFocusIndex","setSearchFoundCount","undefined","dataNested","isLoadingNested","marginLeft","marginRight","marginTop","SortableTree","treeData","tree","setDataListNested","canDrag","searchMethod","node","searchQuery","toLowerCase","indexOf","searchFocusOffset","searchFinishCallback","matches","maxDepth","generateNodeProps","_ref4","_node$attributes","_node$children","path","is_app_header","fontWeight","attributes","logo","src","buttons","Ripple","Plus","size","UncontrolledTooltip","placement","disableEdit","preventDefault","Edit2","disableDelete","Trash2","_classnames","tag","overlayColor","Tag","classnames","_defineProperty","backgroundColor","defaultProps","invariant","condition","args","_len","_key","Error","argIndex","replace","framesToPop","mounts","getter","swal","getTitle","getHtmlContainer","getConfirmButton","getDenyButton","getCancelButton","getFooter","getCloseButton","getIcon","querySelector","getLoader","noop","ParentSwal","extractReactParams","params","reactParams","otherParams","mountKeys","mount","entries","forEach","React__default","isValidElement","domElement","find","ReactDOM__default","__mountedDomElements","push","unrender","unmountComponentAtNode","_ParentSwal","_inherits","_class","_super","_createSuper","_classCallCheck","_createClass","mixinParams","_this","this","__params","assign","_extractReactParams","_extractReactParams2","superDidOpen","didOpen","superDidDestroy","didDestroy","_get","_getPrototypeOf","prototype","call","popup","_extractReactParams3","_extractReactParams4","argsToParams","exports","fp","window","flatpickr","l10ns","Indonesian","weekdays","shorthand","longhand","months","firstDayOfWeek","ordinal","time_24hr","rangeSeparator","default","defineProperty","factory","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","freeGlobal","global","freeSelf","self","root","Function","objectToString","toString","nativeMax","max","nativeMin","min","now","Date","isObject","toNumber","isObjectLike","isSymbol","other","valueOf","isBinary","test","slice","module","func","wait","options","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","thisArg","leadingEdge","setTimeout","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","remainingWait","debounced","isInvoking","cancel","clearTimeout","flush","cardColor","stats","countTextColor","_ref$countTextStyle","countTextStyle","_ref$titleStyle","titleStyle","statsMargin","_ref$solidColor","solidColor","_ref$cardStyle","cardStyle","_ref$titleOnTop","titleOnTop","cardColorFix","inverse","CardBody","_pageAttr$crudOpt","_pageAttr$crudOpt2","_pageAttr$crudOpt3","pageAttr","_ref$disabledAction","disabledAction","_ref$onlyText","onlyText","_ref$withText","withText","_ref$outline","_ref$rowClickEvent","rowClickEvent","_useTranslation","navigate","useNavigate","storeAll","dynamicStore","dynamic_temp_state","dynamicColumnsExtraActionsButton","crudOpt","extraBtnPrefixId","getDepthValue","reverse","current","pop","scrollToDiv","divId","element","document","getElementById","scrollIntoView","behavior","block","extraBtnShowCondition","_crudOpt$showIf","showIf","operator","currentRowValue","evalStr","isManager","email","username","showIf_or","eval","enabledBtnViewCondition","paramss","_crudOpt$enabledViewB","enabledViewBtnCondition","enabledViewBtnCondition_or","pageType","hasColorClass","_item$clickLinkUrl","_item$clickLinkUrl2","_item$clickLinkSlideT","staticUrl","clickLinkUrl","static","fieldUrl","widgetId","clickLinkSlideToWidget","widget_id","_item$clickLinkSlideT2","paramsFromFields","it","idx","paramKey","paramName","paramValue","_item$clickLinkUrl4","fieldUrlFix","startsWith","open","_item$clickLinkUrl3","paramsArr","parseStrAndField","isQueryStr","newStaticUrl","join","staticUrlFix","clickLinkFillGlobalFilter","targetId","_item$clickLinkFillGl","_storeAll$pageAttribu","_storeAll$pageAttribu2","_storeAll$pageAttribu3","_storeAll$pageAttribu4","store_to_reset","getAttribute","pageAttributes","dynamicCard","x","_x$children","child","_child$chart_id","_child$crudOpt","_ref5","_child$linkToGlobalFi","_child$crudOpt2","_child$dataFrom","chart_id","cardId","pageId","targetAttr","linkToGlobalFilter","dataFrom","_ref6","_ref7","_ref8","_x$chart_id","_x$crudOpt","_ref9","_x$linkToGlobalFilter","_x$crudOpt2","_x$dataFrom","linkToGlobalFilterName","_ref10","_x$crudOpt$baseUrl","_x$crudOpt3","_x$dataFrom2","_storeAll$pageData","_storeAll$pageData$ch","_storeAll$pageData$ch2","_storeAll$pageData2","_storeAll$pageData2$c","_x$crudOpt4","_x$crudOpt5","childStoreName","baseUrl","pageData","resetData","endpointName","renderIcon","isViewOnRow","tooltip","onDashboard","saveAsNewBtn","Eye","gridTheme","_pageAttr$crudOpt$gan","_pageAttr$crudOpt4","ganttParentIdField","CornerDownRight","BreadCrumbs","mb","subtitle","Breadcrumb","BreadcrumbItem","Link","to","Wrapper","link","isLastItem","active","arrayLikeToArray","arr","isArray","__esModule","iter","Symbol","iterator","from","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","DndContext","createContext","dragDropManager","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","i","source","getOwnPropertyDescriptors","defineProperties","objectWithoutPropertiesLoose","excluded","sourceSymbolKeys","propertyIsEnumerable","_excluded","_arrayWithHoles","_i","_s","_e","_arr","_n","_d","done","err","_iterableToArrayLimit","o","minLen","_arrayLikeToArray","n","constructor","_unsupportedIterableToArray","_nonIterableRest","len","arr2","_objectWithoutProperties","sourceKeys","_objectWithoutPropertiesLoose","refCount","INSTANCE_SYM","DndProvider","memo","_getDndContextValue","manager","backend","context","getGlobalContext","debugMode","ctx","createDragDropManager","createSingletonDndContext","isGlobalInstance","getDndContextValue","_getDndContextValue2","Provider","require","_makeRequestCallJs","AsapQueue","queue","pendingErrors","flushing","capacity","q","currentIndex","scan","newLength","registerPendingError","requestErrorThrow","requestFlush","makeRequestCall","makeRequestCallFromTimer","shift","task","_rawTaskJs","TaskFactory","onError","freeTasks","tasks","t1","RawTask","DragPreviewImage","connect","Image","connected","img","onload","registerTarget","registry","getRegistry","addTarget","removeTarget","registerSource","sourceId","addSource","removeSource","throwIfCompositeComponentElement","displayName","wrapConnectorHooks","hooks","wrappedHooks","hook","endsWith","wrappedHook","elementOrNode","cloneWithRef","wrapHookToRecognizeElement","setRef","newRef","previousRef","cloneElement","_typeof","isRef","hasOwnProperty","shallowEqual","objA","objB","compare","compareContext","compareResult","keysA","keysB","bHasOwnProperty","bind","valueA","valueB","_defineProperties","descriptor","configurable","writable","SourceConnector","instance","Constructor","dragSource","clearDragSource","dragSourceOptions","dragSourceRef","dragSourceNode","reconnectDragSource","dragPreview","clearDragPreview","dragPreviewOptions","dragPreviewRef","dragPreviewNode","reconnectDragPreview","protoProps","staticProps","newHandlerId","handlerId","reconnect","get","dragSourceOptionsInternal","set","dragPreviewOptionsInternal","didChange","didHandlerIdChange","didConnectedDragSourceChange","didDragSourceOptionsChange","disconnectDragSource","lastConnectedHandlerId","lastConnectedDragSource","lastConnectedDragSourceOptions","dragSourceUnsubscribe","connectDragSource","didConnectedDragPreviewChange","didDragPreviewOptionsChange","disconnectDragPreview","lastConnectedDragPreview","lastConnectedDragPreviewOptions","dragPreviewUnsubscribe","connectDragPreview","isCallingCanDrag","isCallingIsDragging","DragSourceMonitorImpl","internalMonitor","getMonitor","canDragSource","isDraggingSource","listener","subscribeToStateChange","isOverTarget","getTargetIds","isSourcePublic","getSourceId","subscribeToOffsetChange","canDropOnTarget","getItemType","getDropResult","didDrop","getInitialClientOffset","getInitialSourceClientOffset","getSourceClientOffset","getClientOffset","getDifferenceFromInitialOffset","getDecoratedComponent","instanceRef","currentRef","decoratedRef","isRefable","C","Component","_item$$$typeof","$$typeof","isRefForwardingComponent","isFunction","input","isPlainObject","getPrototypeOf","proto","isValidType","allowArray","Disposable","action","isDisposed","d","Boolean","dispose","isDisposable","empty","CompositeDisposable","disposables","shouldDispose","splice","currentDisposables","_i2","SerialDisposable","old","_setPrototypeOf","p","setPrototypeOf","__proto__","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","_isNativeReflectConstruct","Super","NewTarget","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","decorateHandler","DecoratedComponent","createHandler","createMonitor","createConnector","registerHandler","containerDisplayName","getType","collect","_options$arePropsEqua","arePropsEqual","Decorated","DragDropContainer","_Component","subClass","superClass","create","createRef","nextState","getCurrentState","setState","disposable","receiveProps","nextProps","currentType","handleChange","prevProps","handler","receiveType","handlerMonitor","handlerConnector","_registerHandler2","unregister","receiveHandlerId","unsubscribe","handlerIds","setDisposable","_this2","Consumer","receiveDragDropManager","requestAnimationFrame","_this2$handlerConnect","getBackend","hoistStatics","ALLOWED_SPEC_METHODS","REQUIRED_SPEC_METHODS","SourceImpl","spec","monitor","beginDrag","globalMonitor","isDragging","endDrag","createSourceFactory","DragSource","createSource","isCallingCanDrop","DropTargetMonitorImpl","TargetConnector","dropTarget","clearDropTarget","dropTargetOptions","dropTargetRef","dropTargetNode","didDropTargetChange","didOptionsChange","disconnectDropTarget","lastConnectedDropTarget","lastConnectedDropTargetOptions","unsubscribeDropTarget","connectDropTarget","dropTargetOptionsInternal","TargetImpl","canDrop","hover","drop","createTargetFactory","DropTarget","createTarget","DragLayer","DragLayerContainer","isCurrentlyMounted","unsubscribeFromOffsetChange","unsubscribeFromStateChange","useIsomorphicLayoutEffect","useLayoutEffect","DragSourceImpl","connector","_result","end","useDragDropManager","useRegisteredDragSource","useDragSource","itemType","useDragType","_registerSource2","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","useOptionalFactory","arg","deps","memoDeps","useCollector","onUpdate","collected","setCollected","updateCollected","nextValue","equal","useCollectedProps","collector","onCollect","_useCollector2","getHandlerId","useMonitorOutput","useConnectDragSource","useConnectDragPreview","useDrag","specArg","begin","useDragSourceMonitor","useDragSourceConnector","previewOptions","DropTargetImpl","useRegisteredDropTarget","useDropTarget","accept","useAccept","_registerTarget2","useConnectDropTarget","useDrop","useDropTargetMonitor","useDropTargetConnector","useDragLayer","strings","raw","freeze","_createForOfIteratorHelper","_excluded2","_excluded3","_excluded4","jsxRuntime","React","withScrolling","isEqual","reactDnd","reactDndHtml5Backend","reactVirtuoso","_interopDefaultLegacy","withScrolling__default","isEqual__default","defaultGetNodeKey","treeIndex","getReactElementText","parent","stringSearch","String","defaultSearchMethod","getNodeDataAtTreeIndexOrNextIndex","targetIndex","getNodeKey","_ref3$path","_ref3$lowerSiblingCou","lowerSiblingCounts","_ref3$ignoreCollapsed","ignoreCollapsed","_ref3$isPseudoRoot","isPseudoRoot","selfPath","expanded","nextIndex","childIndex","childCount","getDescendantCount","_ref4$ignoreCollapsed","walkDescendants","callback","_ref5$isPseudoRoot","_ref5$parentNode","parentNode","_ref5$path","_ref5$lowerSiblingCou","mapDescendants","_ref6$isPseudoRoot","_ref6$parentNode","_ref6$path","_ref6$lowerSiblingCou","nextNode","selfInfo","mapResult","walk","_ref9$ignoreCollapsed","_ref10$ignoreCollapse","toggleExpandedForAll","_ref11","_ref11$expanded","_ref12","_ref13","changeNodeAtPath","_ref14","newNode","_ref14$ignoreCollapse","RESULT_MISS","traverse","_ref15","_ref15$isPseudoRoot","currentTreeIndex","pathIndex","nextTreeIndex","removeNode","_ref17","removedNode","removedTreeIndex","_ref17$ignoreCollapse","_ref18","addNodeAtDepthAndIndex","_ref23","insertedTreeIndex","pathFragment","targetDepth","minimumTreeIndex","expandParent","_ref23$isPseudoRoot","isLastChild","currentDepth","_ref23$path","extraNodeProps","parentPath","insertIndex","newChildren","insertNode","_ref24","_ref24$ignoreCollapse","_ref24$expandParent","insertResult","getFlatDataFromTree","_ref25","_ref25$ignoreCollapse","flattened","nodeInfo","isDescendant","older","younger","getDepth","deepest","_ref27","_ref27$expandAllMatch","expandAllMatchPaths","_ref27$expandFocusMat","expandFocusMatchPaths","matchCount","trav","_ref28","_ref28$isPseudoRoot","_ref28$path","isSelfMatch","hasFocusMatch","extraInfo","hasChildren","match","classes","defaultProps$3","isSearchMatch","isSearchFocus","toggleChildrenVisibility","draggedNode","rowDirection","NodeRendererDefault$1","handle","_props","scaffoldBlockPxWidth","treeId","isOver","otherProps","nodeTitle","nodeSubtitle","rowDirectionClass","jsx","_","dropEffect","isDraggedDescendant","isLandingPadActive","buttonStyle","left","right","jsxs","opacity","btn","defaultProps$2","PlaceholderRendererDefault$1","_props2","defaultProps$1","swapFrom","swapDepth","swapLength","TreeNodeComponent","_React$Component","_step2","listIndex","rowHeight","_node","getPrevRow","_path","scaffoldBlockCount","scaffold","_iterator2","s","_step2$value","lowerSiblingCount","lineClass","highlightLineClass","f","calculatedRowHeight","Children","TreeNode","TreePlaceholder$1","_props3","rafId","nodeDragSourcePropInjection","propInjection","dragged","getTargetDepth","dropTargetProps","component","canNodeHaveChildren","blocksOffset","dropTargetDepth","rowAbove","dragSourceInitialDepth","relativePosition","getBoundingClientRect","leftShift","round","direction","draggedChildDepth","wrapTarget","el","treeRefcanDrop","dragHover","dndType","draggingTreeData","treeReftreeData","nodeDropTarget","cancelAnimationFrame","abovePath","aboveNode","prevPath","prevParent","prevTreeIndex","nextPath","nextParent","memoize","savedResult","savedArgsArray","savedKeysArray","keysArray","argsArray","memoizedInsertNode","memoizedGetFlatDataFromTree","memoizedGetDescendantCount","treeIdCounter","mergeTheme","merged","theme","innerStyle","overridableDefaults","nodeContentRenderer","placeholderRenderer","slideRegionSize","treeNodeRenderer","_Object$keys","propKey","ReactSortableTree","_React$Component2","_super2","_ref29","prevState","_removeNode","instanceProps","draggedMinimumTreeIndex","draggedDepth","dragging","_ref30","_ref31","newDraggingTreeData","addedResult","expandedParentPath","getRows","_ref32","searchFocusTreeIndex","dropResult","shouldCopy","shouldCopyOnOutsideDrop","_ref33","copyNode","onMoveNode","moveNode","listRef","_mergeTheme","startDrag","nodeDragSource","wrapSource","treePlaceholderRenderer","placeholderDropTarget","_monitor$getItem","wrapPlaceholder","scrollZoneVirtualList","createScrollingComponent","classname","Virtuoso","vStrength","createVerticalStrength","hStrength","createHorizontalStrength","searchMatches","ignoreOneTreeUpdate","handleDndMonitorChange","loadLazyChildren","stateUpdate","clearMonitorSubscription","onDragStateChanged","_this3","_ref34","targetNode","_ref35","onVisibilityToggle","_ref36","_insertNode","nextParentNode","_ref37","matchKeys","_mergeTheme2","TreeNodeRenderer","NodeContentRenderer","nodeKey","callbackParams","nodeProps","rowCanDrag","sharedProps","rows","_this4","_mergeTheme3","_this$state","swapTo","fromIndex","toIndex","rowsWithoutMoved","slideRows","_step3","_iterator3","_step3$value","scrollToIndex","align","list","containerStyle","Placeholder","PlaceholderContent","ScrollZoneVirtualList","verticalStrength","horizontalStrength","itemContent","renderRow","seekIndex","expand","singleSearch","onlyExpandSearchedNodes","newState","_find","expandedTreeData","_ref38","loadCollapsedLazyChildren","childrenArray","_ref39","oldNode","isTreeDataEqual","overscan","SortableTreeWithoutDndContext","_ref40","SortableTree$1","HTML5Backend","SortableTreeWithExternalManager","addNodeUnderParent","_ref21","_ref21$parentKey","parentKey","_ref21$ignoreCollapse","_ref21$expandParent","_ref21$addAsFirstChil","addAsFirstChild","hasBeenAdded","changedTreeData","_ref22","getNodeAtPath","_ref19","foundNodeInfo","_ref19$ignoreCollapse","_ref20","_unused","getTreeFromFlatData","_ref26","flatData","_ref26$getKey","getKey","_ref26$getParentKey","getParentKey","parentId","_ref26$rootKey","rootKey","_step","childrenToParents","_iterator","getVisibleNodeCount","currentNode","getVisibleNodeInfoAtIndex","removeNodeAtPath","_ref16","_ref16$ignoreCollapse","allowArrayLike","F","normalCompletion","didErr","step","_e2","react","intBetween","val","floor","_buffer","point","w","y","h","buffer","onScrollChange","strengthMultiplier","WrappedComponent","container","wrappedInstance","animationFrameID","useRef","scaleX","scaleY","attached","updateScrolling","timeFrame","lastTime","throttle","evt","_container$getBoundin","box","top","coords","clientX","clientY","getCoords","startScrolling","handleEvent","body","addEventListener","handleMonitorChange","removeEventListener","stopScrolling","tick","_container","scrollLeft","scrollTop","scrollWidth","scrollHeight","clientWidth","clientHeight","newLeft","newTop","ScrollingComponent","_asapJs","_typesJs","_asapQueueJs","_taskFactoryJs","asap","asapQueue","enqueueTask","taskFactory","makeRequestCallFromMutationObserver","scope","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","timeoutHandle","handleTimer","intervalHandle","setInterval","clearInterval","observer","createTextNode","observe","characterData","release","b","RegExp","flags","HASH_UNDEFINED","MAX_SAFE_INTEGER","argsTag","arrayTag","boolTag","dateTag","errorTag","funcTag","mapTag","numberTag","objectTag","promiseTag","regexpTag","setTag","stringTag","symbolTag","weakMapTag","arrayBufferTag","dataViewTag","reIsHostCtor","reIsUint","typedArrayTags","freeExports","nodeType","freeModule","moduleExports","freeProcess","process","nodeUtil","binding","nodeIsTypedArray","isTypedArray","arraySome","array","predicate","mapToArray","setToArray","transform","arrayProto","funcProto","objectProto","coreJsData","funcToString","maskSrcKey","uid","exec","IE_PROTO","nativeObjectToString","reIsNative","Buffer","Uint8Array","symToStringTag","toStringTag","nativeGetSymbols","nativeIsBuffer","isBuffer","nativeKeys","DataView","getNative","Map","Promise","Set","WeakMap","nativeCreate","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","Hash","clear","entry","ListCache","MapCache","SetCache","__data__","add","Stack","arrayLikeKeys","inherited","isArr","isArg","isArguments","isBuff","isType","skipIndexes","iteratee","baseTimes","isIndex","assocIndexOf","eq","baseGetTag","isOwn","unmasked","getRawTag","baseIsArguments","baseIsEqual","bitmask","customizer","stack","equalFunc","objIsArr","othIsArr","objTag","getTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","byteLength","byteOffset","convert","isPartial","stacked","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","getAllKeys","objLength","othLength","skipCtor","objValue","othValue","compared","objCtor","othCtor","equalObjects","baseIsEqualDeep","baseIsNative","isMasked","baseKeys","Ctor","isPrototype","arrLength","seen","arrValue","othIndex","has","keysFunc","symbolsFunc","offset","arrayPush","baseGetAllKeys","getSymbols","getMapData","isKeyable","getValue","pairs","LARGE_ARRAY_SIZE","resIndex","arrayFilter","symbol","ArrayBuffer","resolve","ctorString","isLength","baseUnary","fn","EnterLeaveCounter","isNodeInDocument","enteringNode","previousLength","entered","itemsA","itemsB","insertItem","union","contains","leavingNode","items","isFirefox","navigator","userAgent","isSafari","safari","MonotonicInterpolant","ys","indexes","dx","dy","dys","dxs","ms","c1s","m2","mNext","dxNext","common","m","c2s","c3s","_i3","c1","invDx","_common","mid","low","high","xHere","diff","diffSq","getNodeClientOffset","parentElement","_el$getBoundingClient","getEventClientOffset","getDragPreviewOffset","sourceNode","clientOffset","anchorPoint","offsetPoint","isImage","_document$documentEle","nodeName","documentElement","isImageNode","dragPreviewNodeOffsetFromClient","offsetFromDragPreview","sourceWidth","offsetWidth","sourceHeight","offsetHeight","anchorX","anchorY","_getDragPreviewSize","dragPreviewWidth","dragPreviewHeight","devicePixelRatio","getDragPreviewSize","offsetX","offsetY","isManualOffsetY","interpolate","calculateYOffset","_nativeTypesConfig","FILE","URL","TEXT","HTML","getDataFromDataTransfer","dataTransfer","typesToTry","resultSoFar","typeToTry","getData","nativeTypesConfig","NativeTypes","exposeProperties","files","_dataTransfer","matchesTypes","html","_dataTransfer2","urls","_dataTransfer3","_dataTransfer4","NativeDragSource","config","initializeExposedProperties","property","warn","newProperties","matchNativeItemType","dataTransferTypes","types","nativeItemType","OptionsReader","globalContext","optionsArgs","_this$globalContext","_this$optionsArgs","rootElement","emptyImage","HTML5BackendImpl","sourceNodes","isDraggingNativeItem","actions","currentNativeHandle","currentNativeSource","currentDragSourceNode","clearCurrentDragSourceNode","dragStartSourceIds","defaultPrevented","publishSource","nativeType","setDragImage","sourcePreviewNodes","_this$getCurrentSourc","getCurrentSourcePreviewNodeOptions","dragPreviewOffset","setData","setCurrentDragSourceNode","captureDraggingState","publishDragSource","beginDragNativeItem","hasAttribute","dragEnterTargetIds","enterLeaveCounter","enter","altKeyPressed","altKey","getCurrentDropEffect","dragOverTargetIds","lastClientOffset","hoverRafId","leave","endDragNativeItem","_this$currentNativeSo","dropTargetIds","loadDataTransfer","reset","dragDrop","tagName","isContentEditable","getActions","_this$dragStartSource","_this$dragOverTargetI","sourcePreviewNodeOptions","sourceNodeOptions","__isReactDndBackendSetUp","addEventListeners","_this$window","removeEventListeners","asyncEndDragFrameId","delete","handleDragStart","handleSelectStart","setAttribute","handleDragEnter","handleDragOver","handleDrop","handleTopDragStart","handleTopDragStartCapture","handleTopDragEndCapture","handleTopDragEnter","handleTopDragEnterCapture","handleTopDragLeaveCapture","handleTopDragOver","handleTopDragOverCapture","handleTopDrop","handleTopDropCapture","getCurrentSourceNodeOptions","createNativeDragSource","_this5","mouseMoveTimeoutTimer","_this5$rootElement","endDragIfSourceWasRemovedFromDOM","_this$window2","unshift","getEmptyImage","compose","thrush","proc","curry2to1","arg1","arg2","curry1to0","tap","tup","always","joinProc","procs","_len2","_key2","subscribe","emitter","subscription","publish","publisher","depot","handleNext","unsub","stream","subscriptions","statefulStream","initial","innerSubject","streamFromEmitter","statefulStreamFromEmitter","combineOperators","operators","subscriber","reduceRight","pipe","project","defaultComparator","previous","distinctUntilChanged","comparator","mapTo","scanner","skip","times","throttleTime","interval","currentValue","timeout","debounceTime","withLatestFrom","sources","_len3","_key3","called","pendingCall","allCalled","pow","bit","prevCalled","merge","duc","combineLatest","emitters","system","dependencies","_temp","singleton","systemToComponent","systemSpec","Root","requiredPropNames","required","optionalPropNames","optional","methodNames","methods","eventNames","events","Context","applyPropsToSystem","_createForOfIteratorHelperLoose","requiredPropName","optionalPropName","buildEventHandlers","handlers","eventName","currentSubscription","cleanup","eventHandler","propsWithChildren","singletons","_init","init","useImperativeHandle","acc","methodName","buildMethods","createElement","prop","omit","usePublisher","useEmitterValue","setValue","useEmitter","r","DEBUG","INFO","WARN","ERROR","g","v","globalThis","VIRTUOSO_LOG_LEVEL","logLevel","S","ResizeObserver","offsetParent","unobserve","callbackRef","I","l","dataset","u","parseFloat","knownSize","c","endIndex","startIndex","virtuosoScroller","firstElementChild","viewportType","pageYOffset","innerHeight","viewportHeight","getComputedStyle","rowGap","T","abs","passive","scrollerRef","scrollByCallback","scrollBy","scrollToCallback","scrollTo","scrollContainerState","headerHeight","fixedHeaderHeight","footerHeight","smoothScrollTargetReached","react18ConcurrentRendering","statefulScrollTop","deviation","scrollingInProgress","lvl","E","H","R","L","P","U","M","O","Infinity","z","N","D","B","V","A","W","start","G","j","recalcInProgress","K","Y","Z","J","offsetTree","lastIndex","lastOffset","lastSize","$","sizeTree","groupOffsetTree","Q","groupIndices","X","groupIndex","tt","et","nt","rt","changed","sizes","firstItemIndex","ranges","prevIndex","prevSize","totalCount","sizeRanges","defaultItemSize","fixedItemSize","unshiftWith","shiftWith","shiftWithOffset","beforeUnshiftWith","gap","listRefresh","statefulTotalCount","trackItemSizes","itemSize","ot","at","location","topListHeight","lt","st","atBottom","notAtBottomBecause","offsetBottom","ut","scrollTopDelta","atBottomBecause","jump","prevScrollTop","isScrolling","isAtTop","isAtBottom","atBottomState","atTopStateChange","atBottomStateChange","scrollDirection","atBottomThreshold","atTopThreshold","scrollVelocity","lastJumpDueToItemResize","ct","propsReady","didMount","mt","scrolledToInitialItem","initialTopMostItemIndex","dt","ft","shouldFollow","followOutputBehavior","refreshed","followOutput","autoscrollToBottom","pt","ht","groupCounts","topItemsIndexes","gt","vt","St","It","Ct","listBoundary","increaseViewportBy","visibleRange","Tt","topItems","offsetTop","bottom","wt","originalIndex","xt","bt","listState","endReached","startReached","rangeChanged","itemsRendered","yt","initialItemCount","Et","exit","change","isSeeking","scrollSeekConfiguration","scrollSeekRangeChanged","Ht","topItemCount","Rt","totalListHeight","totalListHeightChanged","Lt","kt","zt","amount","Bt","initialScrollTop","Ft","alignToBottom","paddingTopAddition","Pt","useWindowScroll","customScrollParent","windowScrollContainerState","windowViewportRect","windowScrollTo","Ot","Mt","Vt","Ut","At","visibleHeight","fixedItemHeight","defaultItemHeight","Wt","position","Nt","visibleWidth","Dt","Gt","_t","jt","Kt","groupContent","components","computeItemKey","headerFooterTag","FooterComponent","HeaderComponent","TopItemListComponent","ListComponent","ItemComponent","GroupComponent","ScrollerComponent","EmptyPlaceholder","ScrollSeekPlaceholder","Yt","qt","group","itemHeight","scrollingStateChange","adjustForPrependedItems","maxHeightCacheSize","footer","header","HeaderContainer","FooterContainer","ItemContainer","ScrollContainer","GroupContainer","ListContainer","emptyComponent","scrollSeek","placeholder","Zt","Jt","zIndex","overflowAnchor","$t","Qt","showTopList","fe","de","pe","boxSizing","paddingTop","paddingBottom","ne","Xt","overflowY","WebkitOverflowScrolling","te","ee","re","oe","ie","tabIndex","ae","le","se","ue","ce","ge","he","me","ve","itemWidth","Se","Ie","Ce","Te","we","xe","be","ye","Ee","Le","He","Re","viewportDimensions","itemDimensions","gridState","ke","ze","itemClassName","listClassName","Be","Fe","Ae","Ue","firstChild","Ge","columnGap","Pe","Oe","Me","De","Ne","Ve","We","fixedHeaderContent","TableComponent","TableHeadComponent","TableBodyComponent","TableRowComponent","FillerRow","je","Ke","Ye","qe","tn","Xe","en","Ze","Je","$e","rn","nn","borderSpacing","Qe","on","an","ln","sn","INIT_COORDS","BEGIN_DRAG","PUBLISH_DRAG_SOURCE","HOVER","DROP","END_DRAG","setClientOffset","sourceClientOffset","without","xor","ResetCoordinatesAction","createBeginDrag","sourceIds","_options$publishSourc","verifyInvariants","getDraggableSource","verifyGetSourceClientOffsetIsFunction","getSource","verifyItemIsObject","pinSource","getSourceType","createPublishDragSource","matchesType","targetType","draggedItemType","createHover","targetIdsArg","verifyTargetIdsIsArray","targetIds","checkInvariants","removeNonMatchingTargetIds","hoverAllTargets","lastIndexOf","getTarget","getTargetType","createDrop","getDroppableTargets","determineDropResult","verifyDropResultType","createEndDrag","verifyIsDragging","unpinSource","DragDropManagerImpl","shouldSetUp","getState","isSetUp","setup","teardown","handleRefCountChange","createDragDropActions","boundActions","actionCreator","formatProdErrorMessage","$$observable","observable","randomString","random","substring","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","createStore","reducer","preloadedState","enhancer","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","isSubscribed","listeners","replaceReducer","nextReducer","outerSubscribe","observeState","strictEquality","areCoordsEqual","offsetA","offsetB","areArraysEqual","initialState","initialSourceClientOffset","initialClientOffset","ADD_SOURCE","ADD_TARGET","REMOVE_SOURCE","REMOVE_TARGET","NONE","ALL","areDirty","dirtyIds","_action$payload","_action$payload$targe","_action$payload$prevT","prevTargetIds","prevInnermostTargetId","innermostTargetId","dirtyHandlerIds","dragOffset","dragOperation","stateId","subtract","__IS_NONE__","__IS_ALL__","HandlerRole","DragDropMonitorImpl","prevStateId","currentStateId","previousState","shallow","_getSourceClientOffset","_getDifferenceFromInitialOffset","nextUniqueId","validateType","getNextHandlerId","role","SOURCE","TARGET","parseRoleFromHandlerId","mapContainsValue","searchValue","isDone","_entries$next","HandlerRegistryImpl","validateSourceContract","addHandler","_addSource","validateTargetContract","_addTarget","dragSources","dropTargets","includePinned","isSourceId","isPinned","pinnedSourceId","pinnedSource","isTargetId","_removeSource","_removeTarget","backendFactory","backendOptions","makeStoreInstance","receiveBackend","reduxDevTools","__REDUX_DEVTOOLS_EXTENSION__","instanceId"],"mappings":"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","file":"static/js/25.d49d6e8b.chunk.js","sourcesContent":["/* eslint-disable multiline-ternary */\r\nimport { Fragment, useContext, useEffect, useState } from \"react\"\r\nimport { useParams } from \"react-router-dom\"\r\nimport toast from \"react-hot-toast\"\r\nimport Cleave from \"cleave.js/react\"\r\nimport {\r\n  Row,\r\n  Col,\r\n  Form,\r\n  Button,\r\n  Input,\r\n  Label,\r\n  Modal,\r\n  ModalBody,\r\n  ModalHeader,\r\n  CardText\r\n} from \"reactstrap\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport UILoader from \"@components/ui-loader\"\r\nimport Spinner from \"@components/spinner/Loading-spinner\"\r\nimport \"moment/locale/id\"\r\nimport { ThemeColors } from \"@src/utility/context/ThemeColors\"\r\nimport { selectThemeColors } from \"@utils\"\r\nimport Select from \"react-select\"\r\nimport Flatpickr from \"react-flatpickr\"\r\nimport \"@styles/react/libs/flatpickr/flatpickr.scss\"\r\nimport { Indonesian } from \"flatpickr/dist/l10n/id.js\"\r\nimport { useForm, Controller } from \"react-hook-form\"\r\nimport {\r\n  storeName,\r\n  pageTitle,\r\n  postData,\r\n  putData,\r\n  resetSelectedData,\r\n  getDataById\r\n} from \"../store\"\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\n\r\nconst ModalAddEdit = ({\r\n  show,\r\n  setShow,\r\n  detailPage,\r\n  formState,\r\n  setFormState,\r\n  currentData = null\r\n}) => {\r\n  const { t } = useTranslation()\r\n  const { id } = useParams()\r\n  const dispatch = useDispatch()\r\n  const store = useSelector((state) => state[storeName])\r\n  const { colors } = useContext(ThemeColors)\r\n  const [tgl1, setTgl1] = useState(null)\r\n  const [loadingText, setLoadingText] = useState(\"Please Wait\")\r\n  const {\r\n    control,\r\n    setError,\r\n    handleSubmit,\r\n    formState: { errors }\r\n  } = useForm({})\r\n\r\n  const Loader = () => {\r\n    return (\r\n      <Fragment>\r\n        <Spinner />\r\n        <CardText className=\"mb-0 mt-1\">{t(loadingText)}...</CardText>\r\n      </Fragment>\r\n    )\r\n  }\r\n\r\n  function sortedObject(unordered) {\r\n    return Object.keys(unordered)\r\n      .sort()\r\n      .reduce((obj, key) => {\r\n        obj[key] = unordered[key]\r\n        return obj\r\n      }, {})\r\n  }\r\n\r\n  const countChanges = (data) => {\r\n    if (formState === \"edit\") {\r\n      const storeData = { ...sortedObject(store.selectedData) }\r\n      delete storeData[\"id\"]\r\n      for (let key in storeData) {\r\n        if (!(key in data)) delete storeData[key]\r\n      }\r\n      // console.log(JSON.stringify(sortedObject(storeData)))\r\n      // console.log(JSON.stringify(sortedObject(data)))\r\n      return (\r\n        JSON.stringify(sortedObject(storeData)) !==\r\n        JSON.stringify(sortedObject(data))\r\n      )\r\n    } else {\r\n      return true\r\n    }\r\n  }\r\n\r\n  const updateDataToApi = (data) => {\r\n    if (countChanges(data)) {\r\n      if (\r\n        Object.values(data).every((field) => {\r\n          return field !== null && field !== \"\"\r\n        })\r\n      ) {\r\n        setLoadingText(`${t(\"Updating\")} ${t(pageTitle)} ${t(\"Detail\")} Data`)\r\n        dispatch(putData(data)).then((res) => {\r\n          // console.log(res)\r\n          if (res.meta.requestStatus === \"fulfilled\") {\r\n            setShow(!show)\r\n            toast.success(`${t(\"Successfully Updated\")} ${t(pageTitle)}`, {\r\n              style: {\r\n                padding: \"16px\",\r\n                color: colors.success.main,\r\n                border: `1px solid ${colors.success.main}`\r\n              },\r\n              iconTheme: {\r\n                primary: colors.success.main\r\n              }\r\n            })\r\n            if (detailPage) {\r\n              dispatch(getDataById(id))\r\n            }\r\n          } else if (res.meta.requestStatus === \"rejected\") {\r\n            toast.error(res.payload?.message, {\r\n              style: {\r\n                padding: \"16px\",\r\n                color: colors.danger.main,\r\n                border: `1px solid ${colors.danger.main}`\r\n              },\r\n              iconTheme: {\r\n                primary: colors.danger.main\r\n              }\r\n            })\r\n          }\r\n        })\r\n      } else {\r\n        for (const key in data) {\r\n          if (data[key]?.length === 0) {\r\n            setError(key, {\r\n              type: \"manual\"\r\n            })\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      toast(`${t(\"You haven't changed anything\")}`, { icon: \"\" })\r\n    }\r\n  }\r\n\r\n  const postDataToApi = (data) => {\r\n    if (\r\n      Object.values(data).every((field) => {\r\n        return field !== null && field !== \"\"\r\n      })\r\n    ) {\r\n      setLoadingText(`${t(`Creating a New ${pageTitle}`)}`)\r\n      data[\"depth\"] = currentData.depth + 1\r\n      data[\"parent_id\"] = currentData.id\r\n      dispatch(postData(data)).then((res) => {\r\n        // console.log(res)\r\n        console.log(res)\r\n        if (res.meta.requestStatus === \"fulfilled\") {\r\n          setShow(!show)\r\n          toast.success(`${t(\"Successfully Created\")} ${t(pageTitle)}`, {\r\n            style: {\r\n              padding: \"16px\",\r\n              color: colors.success.main,\r\n              border: `1px solid ${colors.success.main}`\r\n            },\r\n            iconTheme: {\r\n              primary: colors.success.main\r\n            }\r\n          })\r\n          if (detailPage) {\r\n            dispatch(getDataById(id))\r\n          }\r\n        } else if (res.meta.requestStatus === \"rejected\") {\r\n          toast.error(res.payload.message, {\r\n            style: {\r\n              padding: \"16px\",\r\n              color: colors.danger.main,\r\n              border: `1px solid ${colors.danger.main}`\r\n            },\r\n            iconTheme: {\r\n              primary: colors.danger.main\r\n            }\r\n          })\r\n        }\r\n      })\r\n    } else {\r\n      for (const key in data) {\r\n        if (data[key] !== null && data[key]?.length === 0) {\r\n          setError(key, {\r\n            type: \"manual\"\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleReset = () => {\r\n    dispatch(resetSelectedData())\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={show}\r\n      toggle={() => {\r\n        handleReset()\r\n        setShow(!show)\r\n      }}\r\n      className=\"modal-dialog-centered modal-lg\"\r\n    >\r\n      <UILoader\r\n        blocking={store.isLoadingAddEdit || store.isLoadingDetail}\r\n        loader={<Loader />}\r\n      >\r\n        <ModalHeader\r\n          className=\"bg-transparent\"\r\n          toggle={() => {\r\n            handleReset()\r\n            setShow(!show)\r\n          }}\r\n        ></ModalHeader>\r\n        <ModalBody className=\"px-sm-5 pt-50 pb-5\">\r\n          <div className=\"text-center mb-2\">\r\n            <h2 className=\"mb-1\">\r\n              {formState === \"edit\" ? t(\"Edit\") : t(\"Add\")} {t(pageTitle)}\r\n            </h2>\r\n            {formState !== \"edit\" ? (\r\n              <p>\r\n                Setelah menambahkan data {t(\"Unit\")} baru, maka pastikan logout\r\n                dulu akun anda.\r\n              </p>\r\n            ) : null}\r\n          </div>\r\n          <Form\r\n            onSubmit={\r\n              formState === \"edit\"\r\n                ? handleSubmit(updateDataToApi)\r\n                : handleSubmit(postDataToApi)\r\n            }\r\n          >\r\n            <Row className=\"gy-1 pt-75\">\r\n              <Col md={12} xs={12}>\r\n                <Label className=\"form-label\" for=\"name\">\r\n                  {t(\"Name\")}\r\n                  <span className=\"text-danger\">*</span>\r\n                </Label>\r\n                <Controller\r\n                  defaultValue={store.selectedData?.name ?? \"\"}\r\n                  control={control}\r\n                  id=\"name\"\r\n                  name=\"name\"\r\n                  render={({ field }) => (\r\n                    <Input\r\n                      {...field}\r\n                      className={\r\n                        errors.name ? \"form-control is-invalid\" : \"form-control\"\r\n                      }\r\n                      id=\"name\"\r\n                      invalid={errors.name && true}\r\n                    />\r\n                  )}\r\n                />\r\n              </Col>\r\n\r\n              <Col md={12} xs={12}>\r\n                <Label className=\"form-label\" for=\"description\">\r\n                  {t(\"Code\")}\r\n                  <span className=\"text-danger\">*</span>\r\n                </Label>\r\n                <Controller\r\n                  defaultValue={store.selectedData?.code ?? \"\"}\r\n                  control={control}\r\n                  id=\"code\"\r\n                  name=\"code\"\r\n                  render={({ field }) => (\r\n                    <Input\r\n                      {...field}\r\n                      className={\r\n                        errors.code ? \"form-control is-invalid\" : \"form-control\"\r\n                      }\r\n                      id=\"code\"\r\n                      invalid={errors.code && true}\r\n                    />\r\n                  )}\r\n                />\r\n              </Col>\r\n\r\n              <Col xs={12} className=\"text-center mt-2 pt-50\">\r\n                <Button type=\"submit\" className=\"me-1\" color=\"primary\">\r\n                  {t(\"Submit\")}\r\n                </Button>\r\n                <Button\r\n                  type=\"reset\"\r\n                  color=\"secondary\"\r\n                  outline\r\n                  onClick={() => {\r\n                    handleReset()\r\n                    setFormState(\"add\")\r\n                    setShow(false)\r\n                  }}\r\n                >\r\n                  {t(\"Cancel\")}\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </Form>\r\n        </ModalBody>\r\n      </UILoader>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default ModalAddEdit\r\n","import { Fragment, useEffect, useState } from \"react\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport Table from \"./Table\"\r\nimport { Row, Col, Input } from \"reactstrap\"\r\nimport StatsHorizontal from \"@components/widgets/stats/StatsHorizontal\"\r\nimport { User, UserPlus, UserCheck, UserX } from \"react-feather\"\r\nimport Icon from \"@mui/material/Icon\"\r\nimport AddCardOutlinedIcon from \"@mui/icons-material/AddCardOutlined\"\r\nimport \"./style.scss\"\r\nimport Breadcrumbs from \"@components/breadcrumbs\"\r\nimport Tree from \"./Tree\"\r\nimport {\r\n  storeName,\r\n  getAlwaysGrid,\r\n  getApiSummaryData,\r\n  getSummaryData\r\n} from \"./store\"\r\nimport { Skeleton } from \"@mui/material\"\r\n\r\nconst List = () => {\r\n  const { t } = useTranslation()\r\n  const dispatch = useDispatch()\r\n  const store = useSelector((state) => state[storeName])\r\n  const [searchTerm, setSearchTerm] = useState(\"\")\r\n\r\n  const handleFilter = (event) => {\r\n    // console.log(\"handleFilter\")\r\n    setSearchTerm(event)\r\n    // debounceFn(event)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (\r\n      getApiSummaryData &&\r\n      (store.dataSummary?.length === 0 ||\r\n        (!store.isLoadingSummary && getAlwaysGrid))\r\n    ) {\r\n      dispatch(getSummaryData({}))\r\n    }\r\n  }, [dispatch, store.dataSummary?.length])\r\n\r\n  const colors = [\r\n    \"primary\",\r\n    \"success\",\r\n    \"warning\",\r\n    \"danger\",\r\n    \"info\",\r\n    \"secondary\"\r\n  ]\r\n\r\n  return (\r\n    <>\r\n      <div className=\"content-header row\">\r\n        <Breadcrumbs\r\n          title={t(\"Instance & Corporate\")}\r\n          data={[{ title: t(\"App Setting\") }, { title: t(\"Instance\") }]}\r\n        />\r\n        <div className=\"content-header-right text-md-end col-md-3 col-12 d-md-block d-none\">\r\n          <div className=\"breadcrumb-right dropdown\">\r\n            <div className=\"d-flex align-items-center mb-sm-0 mb-1 me-1\">\r\n              <label className=\"mb-0\" htmlFor=\"search-invoice\">\r\n                {t(\"Search\")}:\r\n              </label>\r\n              <Input\r\n                id=\"search-invoice\"\r\n                className=\"ms-50 w-100\"\r\n                type=\"text\"\r\n                value={searchTerm}\r\n                onChange={(e) => handleFilter(e.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"content-header-right text-md-end col-md-3 col-12 d-md-block d-none\">\r\n        <div className=\"breadcrumb-right dropdown\"></div>\r\n      </div>\r\n      <div className=\"app-user-list\">\r\n        {getApiSummaryData && (\r\n          <Row>\r\n            {store.dataSummary?.map((item, index) => {\r\n              return (\r\n                <Col>\r\n                  <StatsHorizontal\r\n                    color={colors[index]}\r\n                    statTitle={`${t(item.title)}`}\r\n                    icon={\r\n                      item.icon ? (\r\n                        <Icon\r\n                          baseClassName=\"material-icons-outlined\"\r\n                          fontSize=\"20\"\r\n                        >\r\n                          {item.icon}\r\n                        </Icon>\r\n                      ) : (\r\n                        <Icon\r\n                          baseClassName=\"material-icons-outlined\"\r\n                          fontSize=\"20\"\r\n                        >\r\n                          lightbulb\r\n                        </Icon>\r\n                      )\r\n                    }\r\n                    renderStats={\r\n                      store.isLoadingSummary ? (\r\n                        <Skeleton\r\n                          sx={{ bgcolor: \"#eef2f8\" }}\r\n                          animation=\"wave\"\r\n                          height={25}\r\n                          width={40}\r\n                          className=\"fw-bolder mb-75\"\r\n                        />\r\n                      ) : (\r\n                        <h3 className=\"fw-bolder mb-75\">\r\n                          {item.count_format ?? item.count}\r\n                        </h3>\r\n                      )\r\n                    }\r\n                  />\r\n                </Col>\r\n              )\r\n            })}\r\n          </Row>\r\n        )}\r\n        <Tree searchString={searchTerm} />\r\n        {/* <Table /> */}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default List\r\n","/* eslint-disable implicit-arrow-linebreak */\r\n/* eslint-disable no-confusing-arrow */\r\n/* eslint-disable multiline-ternary */\r\nimport {\r\n  Fragment,\r\n  useState,\r\n  useEffect,\r\n  useContext,\r\n  useMemo,\r\n  useCallback,\r\n  forwardRef\r\n} from \"react\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport { AbilityContext } from \"@src/utility/context/Can\"\r\nimport ModalAddEdit from \"./modal\"\r\nimport { neutralizeBack, revivalBack } from \"@src/utility/Utils\"\r\nimport {\r\n  storeName,\r\n  pageTitle,\r\n  serverSideGrid,\r\n  detailFromGrid,\r\n  dynamicColumns,\r\n  getApiAfterPut,\r\n  getApiAfterPost,\r\n  getApiAfterDelete,\r\n  getSummarysData,\r\n  getAlwaysGrid,\r\n  getDataList,\r\n  getDataById,\r\n  setDataById,\r\n  deleteData,\r\n  deleteSelectedRowData\r\n} from \"./store\"\r\nimport { getInvoice } from \"../../invoices/store\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport ReactPaginate from \"react-paginate\"\r\nimport DataTable from \"react-data-table-component\"\r\nimport debounce from \"lodash.debounce\"\r\nimport {\r\n  ChevronDown,\r\n  Share,\r\n  Printer,\r\n  FileText,\r\n  File,\r\n  Grid\r\n} from \"react-feather\"\r\n\r\nimport { getUserData } from \"@utils\"\r\n\r\nimport UILoader from \"@components/ui-loader\"\r\nimport Spinner from \"@components/spinner/Loading-spinner\"\r\nimport { ThemeColors } from \"@src/utility/context/ThemeColors\"\r\nimport toast from \"react-hot-toast\"\r\nimport {\r\n  Row,\r\n  Col,\r\n  Card,\r\n  Input,\r\n  Button,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  DropdownToggle,\r\n  UncontrolledDropdown,\r\n  CardText\r\n} from \"reactstrap\"\r\n\r\nimport \"@styles/react/libs/react-select/_react-select.scss\"\r\nimport \"@styles/react/libs/tables/react-dataTable-component.scss\"\r\nimport Swal from \"sweetalert2\"\r\nimport withReactContent from \"sweetalert2-react-content\"\r\nimport { Skeleton } from \"@mui/material\"\r\nimport Moment from \"moment\"\r\nimport GlobalActionsTable from \"../../../shared/GlobaActionsTable\"\r\nimport { NoDataDisplay, Loader } from \"@src/shared/CommonComponents\"\r\n\r\nconst MySwal = withReactContent(Swal)\r\n\r\n// ** Bootstrap Checkbox Component\r\nconst BootstrapCheckbox = forwardRef((props, ref) => (\r\n  <div className=\"form-check\">\r\n    <Input type=\"checkbox\" ref={ref} {...props} />\r\n  </div>\r\n))\r\n\r\n// ** Table Header\r\nconst CustomHeader = ({\r\n  store,\r\n  toggleSidebar,\r\n  handlePerPage,\r\n  rowsPerPage,\r\n  handleFilter,\r\n  searchTerm,\r\n  selectedRow,\r\n  handleDeleteSelected\r\n}) => {\r\n  const { t } = useTranslation()\r\n  const ability = useContext(AbilityContext)\r\n  const dispatch = useDispatch()\r\n  const storeInvoice = useSelector((state) => state.invoices)\r\n  const userData = getUserData()\r\n\r\n  return (\r\n    <div className=\"invoice-list-table-header w-100 me-1 ms-50 mt-2 mb-75\">\r\n      <Row>\r\n        <Col xl=\"4\" className=\"d-flex align-items-center p-0\">\r\n          <div className=\"d-flex align-items-center w-100\">\r\n            <label htmlFor=\"rows-per-page\">{t(\"Show\")}</label>\r\n            <Input\r\n              className=\"mx-50\"\r\n              type=\"select\"\r\n              id=\"rows-per-page\"\r\n              value={rowsPerPage}\r\n              onChange={handlePerPage}\r\n              style={{ width: \"5rem\" }}\r\n            >\r\n              <option value=\"10\">10</option>\r\n              <option value=\"25\">25</option>\r\n              <option value=\"50\">50</option>\r\n            </Input>\r\n            <label htmlFor=\"rows-per-page\">{t(\"Entries\")}</label>\r\n          </div>\r\n        </Col>\r\n        <Col\r\n          xl=\"8\"\r\n          className=\"d-flex align-items-sm-center justify-content-xl-end justify-content-start flex-xl-nowrap flex-wrap flex-sm-row flex-column pe-xl-1 p-0 mt-xl-0 mt-1\"\r\n        >\r\n          {selectedRow?.length > 0 &&\r\n          ability.can(\"delete\", sessionStorage.getItem(\"current_page_perm\")) ? (\r\n            <div className=\"d-flex align-items-center mb-sm-0 mb-1 me-1\">\r\n              <Button\r\n                className=\"delete-users\"\r\n                color=\"danger\"\r\n                onClick={handleDeleteSelected}\r\n              >\r\n                {t(\"Delete\")} {selectedRow.length} {t(`Selected ${pageTitle}`)}\r\n              </Button>\r\n            </div>\r\n          ) : null}\r\n          <div className=\"d-flex align-items-center mb-sm-0 mb-1 me-1\">\r\n            <label className=\"mb-0\" htmlFor=\"search-invoice\">\r\n              {t(\"Search\")}:\r\n            </label>\r\n            <Input\r\n              id=\"search-invoice\"\r\n              className=\"ms-50 w-100\"\r\n              type=\"text\"\r\n              value={searchTerm}\r\n              onChange={(e) => handleFilter(e.target.value)}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"d-flex align-items-center table-header-actions\">\r\n            <UncontrolledDropdown className=\"me-1\">\r\n              <DropdownToggle color=\"secondary\" caret outline>\r\n                <Share className=\"font-small-4 me-50\" />\r\n                <span className=\"align-middle\">{t(\"Export\")}</span>\r\n              </DropdownToggle>\r\n              <DropdownMenu>\r\n                <DropdownItem\r\n                  className=\"w-100\"\r\n                  onClick={() =>\r\n                    dispatch(\r\n                      getInvoice({\r\n                        rpt_name: \"sample\",\r\n                        output_type: \"pdf\",\r\n                        dataYear: userData.dataYear,\r\n                        print: true,\r\n                        as_attachment: true,\r\n                        par_UNITKEY: 139,\r\n                        par_SAMPLE: \"ahh...ini adalah sample parameter\"\r\n                      })\r\n                    )\r\n                  }\r\n                >\r\n                  <Printer className=\"font-small-4 me-50\" />\r\n                  <span className=\"align-middle\">{t(\"Print\")}</span>\r\n                </DropdownItem>\r\n                <DropdownItem\r\n                  className=\"w-100\"\r\n                  onClick={() =>\r\n                    dispatch(\r\n                      getInvoice({\r\n                        rpt_name: \"sample\",\r\n                        output_type: \"pdf\",\r\n                        dataYear: userData.dataYear,\r\n                        par_UNITKEY: 139,\r\n                        par_SAMPLE: \"ahh...ini adalah sample parameter\"\r\n                      })\r\n                    )\r\n                  }\r\n                >\r\n                  <File className=\"font-small-4 me-50\" />\r\n                  <span className=\"align-middle\">PDF</span>\r\n                </DropdownItem>\r\n\r\n                <DropdownItem\r\n                  className=\"w-100\"\r\n                  onClick={() =>\r\n                    dispatch(\r\n                      getInvoice({\r\n                        rpt_name: \"sample\",\r\n                        output_type: \"xls\",\r\n                        dataYear: userData.dataYear,\r\n                        as_attachment: true,\r\n                        par_UNITKEY: 139,\r\n                        par_SAMPLE: \"ahh...ini adalah sample parameter\"\r\n                      })\r\n                    )\r\n                  }\r\n                >\r\n                  <Grid className=\"font-small-4 me-50\" />\r\n                  <span className=\"align-middle\">Excel</span>\r\n                </DropdownItem>\r\n\r\n                <DropdownItem\r\n                  className=\"w-100\"\r\n                  // onClick={() => downloadCSV(store.data)}\r\n                  onClick={() =>\r\n                    dispatch(\r\n                      getInvoice({\r\n                        rpt_name: \"sample\",\r\n                        output_type: \"csv\",\r\n                        dataYear: userData.dataYear,\r\n                        as_attachment: true,\r\n                        par_UNITKEY: 139,\r\n                        par_SAMPLE: \"ahh...ini adalah sample parameter\"\r\n                      })\r\n                    )\r\n                  }\r\n                >\r\n                  <FileText className=\"font-small-4 me-50\" />\r\n                  <span className=\"align-middle\">CSV</span>\r\n                </DropdownItem>\r\n\r\n                {/* <DropdownItem className=\"w-100\">\r\n                  <Copy className=\"font-small-4 me-50\" />\r\n                  <span className=\"align-middle\">Copy</span>\r\n                </DropdownItem> */}\r\n              </DropdownMenu>\r\n            </UncontrolledDropdown>\r\n\r\n            {ability.can(\r\n              \"post\",\r\n              sessionStorage.getItem(\"current_page_perm\")\r\n            ) ? (\r\n              <Button\r\n                className=\"add-new-user\"\r\n                color=\"primary\"\r\n                onClick={toggleSidebar}\r\n                // onClick={handleAdd}\r\n              >\r\n                {t(\"Add New\")} {t(pageTitle)}\r\n              </Button>\r\n            ) : null}\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst List = () => {\r\n  const dispatch = useDispatch()\r\n  const store = useSelector((state) => state[storeName])\r\n\r\n  const { t } = useTranslation()\r\n  const ability = useContext(AbilityContext)\r\n\r\n  const { colors } = useContext(ThemeColors)\r\n  const [sort_dir, setSortDir] = useState(\"desc\")\r\n  const [searchTerm, setSearchTerm] = useState(\"\")\r\n  const [currentPage, setCurrentPage] = useState(1)\r\n  const [sort, setSort] = useState(\"id\")\r\n  const [rowsPerPage, setRowsPerPage] = useState(10)\r\n  const [selectedRows, setSelectedRows] = useState([])\r\n  const [toggleCleared, setToggleCleared] = useState(false)\r\n\r\n  const [sidebarOpen, setSidebarOpen] = useState(false)\r\n  const [loading, setLoading] = useState(false)\r\n  const [loadingText, setLoadingText] = useState(\"Please Wait\")\r\n  const [showModal, setShowModal] = useState(false)\r\n  const [formState, setFormState] = useState(null)\r\n\r\n  const handleEdit = (rowData) => {\r\n    setFormState(\"edit\")\r\n    if (!detailFromGrid) {\r\n      setLoadingText(\r\n        `${t(\"Loading\")} ${t(\"Detail\")} ${t(\"Data\")} ${t(pageTitle)}`\r\n      )\r\n      setLoading(true)\r\n      dispatch(getDataById(rowData.id)).then((res) => {\r\n        if (res.meta.requestStatus === \"rejected\") {\r\n          setLoading(false)\r\n          toast.error(res.payload.message, {\r\n            style: {\r\n              padding: \"16px\",\r\n              color: colors.danger.main,\r\n              border: `1px solid ${colors.danger.main}`\r\n            },\r\n            iconTheme: {\r\n              primary: colors.danger.main\r\n            }\r\n          })\r\n        } else {\r\n          setLoading(false)\r\n          setShowModal(true)\r\n        }\r\n      })\r\n    } else {\r\n      setLoadingText(\r\n        `${t(\"Loading\")} ${t(\"Detail\")} ${t(\"Data\")} ${t(pageTitle)}`\r\n      )\r\n      setLoading(true)\r\n      dispatch(setDataById(rowData)).then(() => {\r\n        setLoading(false)\r\n        setShowModal(true)\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleCloseModal = () => {\r\n    setSidebarOpen(!sidebarOpen)\r\n    setShowModal(!showModal)\r\n    revivalBack()\r\n  }\r\n\r\n  const toggleSidebar = () => {\r\n    // console.log(\"here\")\r\n    setFormState(\"add\")\r\n    setSidebarOpen(!sidebarOpen)\r\n    setShowModal(!showModal)\r\n    neutralizeBack(handleCloseModal)\r\n  }\r\n\r\n  const handleDelete = async (id) => {\r\n    const result = await MySwal.fire({\r\n      title: `${t(\"Are you sure?\")}`,\r\n      text: `${t(\"You won't be able to revert\")} ${t(pageTitle)}!`,\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonText: `${t(\"Yes, Delete\")} ${t(pageTitle)}!`,\r\n      cancelButtonText: `${t(\"Cancel\")}`,\r\n      customClass: {\r\n        confirmButton: \"btn btn-primary\",\r\n        cancelButton: \"btn btn-outline-danger ms-1\"\r\n      },\r\n      buttonsStyling: false\r\n    })\r\n    if (result.value) {\r\n      setLoadingText(`${t(\"Deleting\")} Data ${t(pageTitle)}`)\r\n      setLoading(true)\r\n      dispatch(deleteData(id)).then((res) => {\r\n        // console.log(res)\r\n        if (res.meta.requestStatus === \"fulfilled\") {\r\n          setLoading(false)\r\n          toast.success(`${t(\"Successfully deleted\")} ${t(pageTitle)}`, {\r\n            style: {\r\n              padding: \"16px\",\r\n              color: colors.success.main,\r\n              border: `1px solid ${colors.success.main}`\r\n            },\r\n            iconTheme: {\r\n              primary: colors.success.main\r\n            }\r\n          })\r\n        } else if (res.meta.requestStatus === \"rejected\") {\r\n          setLoading(false)\r\n          toast.error(res.payload.message, {\r\n            style: {\r\n              padding: \"16px\",\r\n              color: colors.danger.main,\r\n              border: `1px solid ${colors.danger.main}`\r\n            },\r\n            iconTheme: {\r\n              primary: colors.danger.main\r\n            }\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleDeleteSelected = async () => {\r\n    const countSelectedCopy = selectedRows.length\r\n    const result = await MySwal.fire({\r\n      title: `${t(\"Are you sure?\")}`,\r\n      text: `${t(\"You will delete\")} ${countSelectedCopy} ${t(\r\n        \"selected data. Deleted data cannot be recovered\"\r\n      )}!`,\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonText: `${t(\"Yes, Delete\")} ${countSelectedCopy} ${t(\r\n        pageTitle\r\n      )}!`,\r\n      cancelButtonText: `${t(\"Cancel\")}`,\r\n      customClass: {\r\n        confirmButton: \"btn btn-primary\",\r\n        cancelButton: \"btn btn-outline-danger ms-1\"\r\n      },\r\n      buttonsStyling: false\r\n    })\r\n    if (result.value) {\r\n      setLoadingText(\r\n        `${t(\"Deleting\")} ${countSelectedCopy} Data ${t(pageTitle)}`\r\n      )\r\n      setLoading(true)\r\n      const values = selectedRows.map((a) => a.id)\r\n      // console.log(values)\r\n      dispatch(deleteSelectedRowData({ id: values })).then((res) => {\r\n        // console.log(res)\r\n        if (res.meta.requestStatus === \"fulfilled\") {\r\n          setSelectedRows([])\r\n          setToggleCleared(!toggleCleared)\r\n          setLoading(false)\r\n          toast.success(\r\n            `${t(\"Successfully deleted\")} ${countSelectedCopy} ${t(pageTitle)}`,\r\n            {\r\n              style: {\r\n                padding: \"16px\",\r\n                color: colors.success.main,\r\n                border: `1px solid ${colors.success.main}`\r\n              },\r\n              iconTheme: {\r\n                primary: colors.success.main\r\n              }\r\n            }\r\n          )\r\n        } else if (res.meta.requestStatus === \"rejected\") {\r\n          setLoading(false)\r\n          toast.error(res.payload.message, {\r\n            style: {\r\n              padding: \"16px\",\r\n              color: colors.danger.main,\r\n              border: `1px solid ${colors.danger.main}`\r\n            },\r\n            iconTheme: {\r\n              primary: colors.danger.main\r\n            }\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  /////PAGINATION SERVERSIDE\r\n  const handlePagination = (page) => {\r\n    dispatch(\r\n      getDataList({\r\n        sort_dir,\r\n        sort,\r\n        search: searchTerm,\r\n        length: rowsPerPage,\r\n        page: page.selected + 1\r\n      })\r\n    )\r\n    setCurrentPage(page.selected + 1)\r\n  }\r\n\r\n  const handlePerPage = (e) => {\r\n    const value = parseInt(e.currentTarget.value)\r\n    dispatch(\r\n      getDataList({\r\n        sort_dir,\r\n        sort,\r\n        search: searchTerm,\r\n        length: value,\r\n        page: currentPage\r\n      })\r\n    )\r\n    setRowsPerPage(value)\r\n  }\r\n\r\n  const handleDebounceFn = (inputValue) => {\r\n    dispatch(\r\n      getDataList({\r\n        sort_dir,\r\n        search: inputValue,\r\n        sort,\r\n        page: currentPage,\r\n        length: rowsPerPage\r\n      })\r\n    )\r\n  }\r\n\r\n  const debounceFn = useCallback(debounce(handleDebounceFn, 500), [])\r\n\r\n  const handleFilter = (event) => {\r\n    setSearchTerm(event)\r\n    debounceFn(event)\r\n  }\r\n\r\n  const handleSort = (column, sortDirection) => {\r\n    setSortDir(sortDirection)\r\n    setSort(column.sortField)\r\n    dispatch(\r\n      getDataList({\r\n        sort_dir,\r\n        sort,\r\n        search: searchTerm,\r\n        page: currentPage,\r\n        length: rowsPerPage\r\n      })\r\n    )\r\n  }\r\n\r\n  const handleRowSelected = useCallback((state) => {\r\n    setSelectedRows(state.selectedRows)\r\n  }, [])\r\n\r\n  const CustomPagination = () => {\r\n    const count = Number(Math.ceil(store.total / rowsPerPage))\r\n\r\n    return (\r\n      <ReactPaginate\r\n        previousLabel={\"\"}\r\n        nextLabel={\"\"}\r\n        pageCount={count || 1}\r\n        activeClassName=\"active\"\r\n        forcePage={currentPage !== 0 ? currentPage - 1 : 0}\r\n        onPageChange={(page) => handlePagination(page)}\r\n        pageClassName={\"page-item\"}\r\n        nextLinkClassName={\"page-link\"}\r\n        nextClassName={\"page-item next\"}\r\n        previousClassName={\"page-item prev\"}\r\n        previousLinkClassName={\"page-link\"}\r\n        pageLinkClassName={\"page-link\"}\r\n        containerClassName={\r\n          \"pagination react-paginate justify-content-end my-2 pe-1\"\r\n        }\r\n      />\r\n    )\r\n  }\r\n\r\n  const renderCell = (row, column) => {\r\n    const field = row[column.fieldName]\r\n    const dataFormat = column.dataFormat\r\n    if (dataFormat) {\r\n      if (dataFormat.includes(\":\")) {\r\n        const columnTypeFormat = dataFormat.split(\":\")\r\n        const columnType = columnTypeFormat[0]\r\n        const columnFormat = columnTypeFormat[1]\r\n        let columnFormated = row[column.fieldName]\r\n        if (columnType === \"date\") {\r\n          columnFormated = Moment(field).format(\"DD MMM YYYY\")\r\n          if (columnFormat) {\r\n            columnFormated = Moment(field).format(columnFormat)\r\n          }\r\n        }\r\n        if (columnType === \"datetime\") {\r\n          columnFormated = Moment(field).format(\"DD MMM YYYY HH:mm\")\r\n          if (columnFormat) {\r\n            columnFormated = Moment(field).format(columnFormat)\r\n          }\r\n        }\r\n        return columnFormated\r\n      }\r\n    }\r\n    return row[column.fieldName]\r\n  }\r\n\r\n  const columns = [\r\n    ...dynamicColumns.map((column) => ({\r\n      name: column.columnName,\r\n      sortField: column.fieldName,\r\n      center: false,\r\n      sortable: true,\r\n      selector: (row) => row[column.fieldName],\r\n      cell: (row) => renderCell(row, column)\r\n    })),\r\n    {\r\n      name: t(\"Actions\"),\r\n      center: true,\r\n      width: \"140px\",\r\n      cell: (row) => (\r\n        <GlobalActionsTable\r\n          row={row}\r\n          handleDelete={handleDelete}\r\n          handleEdit={handleEdit}\r\n        />\r\n      )\r\n    }\r\n  ]\r\n\r\n  const tableColumns = useMemo(\r\n    () =>\r\n      store.isLoading\r\n        ? columns.map((column) => ({\r\n            name: t(column.name),\r\n            ...column,\r\n            sortable: false,\r\n            cell: (row) => (\r\n              <Skeleton\r\n                sx={{ bgcolor: colors.dark.light }}\r\n                animation=\"wave\"\r\n                className={column.name === \"Actions\" ? \"ms-2\" : \"\"}\r\n                width={column.name === \"Actions\" ? 10 : \"100%\"}\r\n                height={40}\r\n              />\r\n            )\r\n          }))\r\n        : columns.map((column) => ({\r\n            name: t(column.name),\r\n            ...column\r\n          })),\r\n    [store.isLoading, columns]\r\n  )\r\n\r\n  const dataToRender = () => {\r\n    const filters = {\r\n      search: searchTerm\r\n    }\r\n    const isFiltered = Object.keys(filters).some(function (k) {\r\n      return filters[k].length > 0\r\n    })\r\n    if (!store.isLoading) {\r\n      if (store.data.length > 0) {\r\n        return store.data\r\n      } else if (store.data.length === 0 && isFiltered) {\r\n        return []\r\n      } else {\r\n        // console.log(store.allData)\r\n        // return store.allData.slice(0, rowsPerPage)\r\n      }\r\n    } else {\r\n      return Array(10).fill({})\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (store.data.length === 0 || (!store.isLoading && getAlwaysGrid)) {\r\n      setLoadingText(`${t(\"Loading Data\")} ${t(pageTitle)}`)\r\n      dispatch(\r\n        getDataList({\r\n          sort_dir,\r\n          sort,\r\n          search: searchTerm,\r\n          page: currentPage,\r\n          length: rowsPerPage\r\n        })\r\n      )\r\n    }\r\n  }, [dispatch, store.data.length, sort_dir, sort, currentPage])\r\n\r\n  return (\r\n    <Fragment>\r\n      <UILoader blocking={loading} loader={<Loader />}>\r\n        <Card className=\"overflow-hidden\">\r\n          <div className=\"react-dataTable react-dataTable-selectable-rows\">\r\n            <DataTable\r\n              noHeader\r\n              subHeader\r\n              sortServer\r\n              responsive\r\n              pagination\r\n              paginationServer\r\n              paginationTotalRows={store.total}\r\n              paginationComponent={CustomPagination}\r\n              selectableRows\r\n              onSelectedRowsChange={handleRowSelected}\r\n              selectableRowsHighlight\r\n              // onRowClicked={handleRowSelected}\r\n              clearSelectedRows={toggleCleared}\r\n              selectableRowsComponent={BootstrapCheckbox}\r\n              noDataComponent={<NoDataDisplay />}\r\n              // fixedHeader\r\n              // fixedHeaderScrollHeight=\"600px\"\r\n              style={{ \"min-height\": \"400px\" }}\r\n              highlightOnHover\r\n              pointerOnHover\r\n              columns={tableColumns}\r\n              onSort={handleSort}\r\n              sortIcon={<ChevronDown />}\r\n              className=\"react-dataTable\"\r\n              data={dataToRender()}\r\n              subHeaderComponent={\r\n                <CustomHeader\r\n                  store={store}\r\n                  searchTerm={searchTerm}\r\n                  rowsPerPage={rowsPerPage}\r\n                  handleFilter={handleFilter}\r\n                  handlePerPage={handlePerPage}\r\n                  toggleSidebar={toggleSidebar}\r\n                  selectedRow={selectedRows}\r\n                  handleDeleteSelected={handleDeleteSelected}\r\n                />\r\n              }\r\n            />\r\n          </div>\r\n        </Card>\r\n\r\n        {/* <Sidebar open={sidebarOpen} toggleSidebar={toggleSidebar} /> */}\r\n      </UILoader>\r\n\r\n      {showModal && (\r\n        <ModalAddEdit\r\n          formState={formState}\r\n          show={showModal}\r\n          setShow={toggleSidebar}\r\n          detailPage={false}\r\n          setFormState={setFormState}\r\n        />\r\n      )}\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default List\r\n","/* eslint-disable implicit-arrow-linebreak */\r\n/* eslint-disable no-confusing-arrow */\r\n/* eslint-disable multiline-ternary */\r\nimport { Fragment, useState, useEffect, useContext } from \"react\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport { AbilityContext } from \"@src/utility/context/Can\"\r\nimport ModalAddEdit from \"./modal\"\r\nimport { neutralizeBack, revivalBack } from \"@src/utility/Utils\"\r\nimport {\r\n  storeName,\r\n  pageTitle,\r\n  serverSideGrid,\r\n  detailFromGrid,\r\n  getApiAfterPut,\r\n  getApiAfterPost,\r\n  getApiAfterDelete,\r\n  getSummarysData,\r\n  getAlwaysGrid,\r\n  getDataList,\r\n  getDataById,\r\n  setDataById,\r\n  deleteData,\r\n  deleteSelectedRowData,\r\n  setDataList,\r\n  setDataListNested,\r\n  putData\r\n} from \"./store\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { Edit2, Trash2, Plus } from \"react-feather\"\r\n\r\nimport { getUserData } from \"@utils\"\r\n\r\nimport UILoader from \"@components/ui-loader\"\r\nimport Spinner from \"@components/spinner/Loading-spinner\"\r\nimport { ThemeColors } from \"@src/utility/context/ThemeColors\"\r\nimport toast from \"react-hot-toast\"\r\nimport { Card, Button, UncontrolledTooltip, CardText } from \"reactstrap\"\r\nimport Swal from \"sweetalert2\"\r\nimport withReactContent from \"sweetalert2-react-content\"\r\nconst MySwal = withReactContent(Swal)\r\nimport \"@styles/react/libs/react-select/_react-select.scss\"\r\nimport \"@styles/react/libs/tables/react-dataTable-component.scss\"\r\nimport SortableTree from \"@nosferatu500/react-sortable-tree\"\r\nimport { NoDataDisplay, Loader } from \"@src/shared/CommonComponents\"\r\nimport Avatar from \"@components/avatar\"\r\n\r\nconst List = (searchString) => {\r\n  const dispatch = useDispatch()\r\n  const store = useSelector((state) => state[storeName])\r\n  const { t } = useTranslation()\r\n  const [sidebarOpen, setSidebarOpen] = useState(false)\r\n  const ability = useContext(AbilityContext)\r\n  const [loading, setLoading] = useState(false)\r\n  const [loadingText, setLoadingText] = useState(\"Please Wait\")\r\n  const [showModal, setShowModal] = useState(false)\r\n  const [formState, setFormState] = useState(null)\r\n  const [currentDataAdd, setCurrentDataAdd] = useState(null)\r\n\r\n  const [searchFocusIndex, setSearchFocusIndex] = useState(0)\r\n  const [searchFoundCount, setSearchFoundCount] = useState(null)\r\n\r\n  const { colors } = useContext(ThemeColors)\r\n\r\n  const handleEdit = (rowData) => {\r\n    setFormState(\"edit\")\r\n    if (!detailFromGrid) {\r\n      setLoadingText(\r\n        `${t(\"Loading\")} ${t(\"Detail\")} ${t(\"Data\")} ${t(pageTitle)}`\r\n      )\r\n      setLoading(true)\r\n      dispatch(getDataById(rowData.id)).then((res) => {\r\n        if (res.meta.requestStatus === \"rejected\") {\r\n          setLoading(false)\r\n          toast.error(res.payload.message, {\r\n            style: {\r\n              padding: \"16px\",\r\n              color: colors.danger.main,\r\n              border: `1px solid ${colors.danger.main}`\r\n            },\r\n            iconTheme: {\r\n              primary: colors.danger.main\r\n            }\r\n          })\r\n        } else {\r\n          setLoading(false)\r\n          setShowModal(true)\r\n        }\r\n      })\r\n    } else {\r\n      setLoadingText(\r\n        `${t(\"Loading\")} ${t(\"Detail\")} ${t(\"Data\")} ${t(pageTitle)}`\r\n      )\r\n      setLoading(true)\r\n      dispatch(setDataById(rowData)).then(() => {\r\n        setLoading(false)\r\n        setShowModal(true)\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleDelete = async (id) => {\r\n    const result = await MySwal.fire({\r\n      title: `${t(\"Are you sure?\")}`,\r\n      text: `${t(\"You won't be able to revert\")} ${t(pageTitle)}!`,\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonText: `${t(\"Yes, Delete\")} ${t(pageTitle)}!`,\r\n      cancelButtonText: `${t(\"Cancel\")}`,\r\n      customClass: {\r\n        confirmButton: \"btn btn-primary\",\r\n        cancelButton: \"btn btn-outline-danger ms-1\"\r\n      },\r\n      buttonsStyling: false\r\n    })\r\n    if (result.value) {\r\n      setLoadingText(`${t(\"Deleting\")} Data ${t(pageTitle)}`)\r\n      setLoading(true)\r\n      dispatch(deleteData(id)).then((res) => {\r\n        // console.log(res)\r\n        if (res.meta.requestStatus === \"fulfilled\") {\r\n          setLoading(false)\r\n          toast.success(`${t(\"Successfully deleted\")} ${t(pageTitle)}`, {\r\n            style: {\r\n              padding: \"16px\",\r\n              color: colors.success.main,\r\n              border: `1px solid ${colors.success.main}`\r\n            },\r\n            iconTheme: {\r\n              primary: colors.success.main\r\n            }\r\n          })\r\n        } else if (res.meta.requestStatus === \"rejected\") {\r\n          setLoading(false)\r\n          toast.error(res.payload.message, {\r\n            style: {\r\n              padding: \"16px\",\r\n              color: colors.danger.main,\r\n              border: `1px solid ${colors.danger.main}`\r\n            },\r\n            iconTheme: {\r\n              primary: colors.danger.main\r\n            }\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  const toggleSidebar = (row = null) => {\r\n    // console.log(row.id)\r\n    setCurrentDataAdd(row)\r\n    setFormState(\"add\")\r\n    setSidebarOpen(!sidebarOpen)\r\n    setShowModal(!showModal)\r\n    neutralizeBack(handleCloseModal)\r\n  }\r\n\r\n  const handleCloseModal = () => {\r\n    setSidebarOpen(!sidebarOpen)\r\n    setShowModal(!showModal)\r\n    revivalBack()\r\n  }\r\n\r\n  const handleChange = (tree) => {\r\n    // console.log(tree)\r\n    dispatch(setDataListNested(tree))\r\n  }\r\n\r\n  const eventCanDragNode = (args) => {\r\n    // console.log(args)\r\n    if (args.node.is_app_header) {\r\n      return false\r\n    }\r\n    return true\r\n  }\r\n\r\n  const onMoveNode = ({\r\n    treeData,\r\n    node,\r\n    nextParentNode,\r\n    prevPath,\r\n    prevTreeIndex,\r\n    nextPath,\r\n    nextTreeIndex\r\n  }) => {\r\n    // console.log(nextParentNode)\r\n    const data = {\r\n      name: node.name,\r\n      id: node.id,\r\n      parent_id: nextParentNode.id\r\n    }\r\n    updateDataToApi(data, true)\r\n  }\r\n\r\n  const updateDataToApi = (data, notReload = false) => {\r\n    // console.log(data)\r\n    setLoadingText(`${t(\"Updating\")} ${t(pageTitle)} Data`)\r\n    if (notReload) data[\"notReload\"] = true\r\n    const nameMsg = data.name\r\n    delete data[\"name\"]\r\n    dispatch(putData(data, notReload)).then((res) => {\r\n      // console.log(res)\r\n      if (res.meta.requestStatus === \"fulfilled\") {\r\n        toast.success(\r\n          `${t(\"Successfully Updated\")} ${t(pageTitle)} ${nameMsg}`,\r\n          {\r\n            style: {\r\n              padding: \"16px\",\r\n              color: colors.success.main,\r\n              border: `1px solid ${colors.success.main}`\r\n            },\r\n            iconTheme: {\r\n              primary: colors.success.main\r\n            }\r\n          }\r\n        )\r\n      } else if (res.meta.requestStatus === \"rejected\") {\r\n        toast.error(res.payload.message, {\r\n          style: {\r\n            padding: \"16px\",\r\n            color: colors.danger.main,\r\n            border: `1px solid ${colors.danger.main}`\r\n          },\r\n          iconTheme: {\r\n            primary: colors.danger.main\r\n          }\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  const customSearchMethod = ({ node, searchQuery }) => {\r\n    return (\r\n      searchQuery &&\r\n      node.name.toLowerCase().indexOf(searchQuery.toLowerCase()) > -1\r\n    )\r\n  }\r\n\r\n  const selectPrevMatch = () =>\r\n    setSearchFocusIndex(\r\n      searchFocusIndex !== null\r\n        ? (searchFoundCount + searchFocusIndex - 1) % searchFoundCount\r\n        : searchFoundCount - 1\r\n    )\r\n\r\n  const selectNextMatch = () =>\r\n    setSearchFocusIndex(\r\n      searchFocusIndex !== null ? (searchFocusIndex + 1) % searchFoundCount : 0\r\n    )\r\n\r\n  useEffect(() => {\r\n    // console.log(store)\r\n    if (\r\n      (store.dataNested.length === 0 && !store.isLoadingNested) ||\r\n      getAlwaysGrid\r\n    ) {\r\n      setLoadingText(`${t(\"Loading Data\")} ${t(pageTitle)}`)\r\n      dispatch(getDataList({}))\r\n    }\r\n  }, [dispatch, store.dataNested.length > 0])\r\n\r\n  return (\r\n    <Fragment>\r\n      <UILoader blocking={store.isLoadingNested} loader={<Loader />}>\r\n        <Card className=\"overflow-hidden\">\r\n          <div className=\"react-dataTable react-dataTable-selectable-rows\">\r\n            <div\r\n              style={{\r\n                height: 1000,\r\n                marginLeft: 20,\r\n                marginRight: 20,\r\n                marginTop: 40\r\n              }}\r\n            >\r\n              <SortableTree\r\n                treeData={store.dataNested}\r\n                onChange={handleChange}\r\n                // onMoveNode={onMoveNode}\r\n                // canDrag={eventCanDragNode}\r\n                canDrag={false}\r\n                searchMethod={customSearchMethod}\r\n                searchQuery={searchString.searchString}\r\n                searchFocusOffset={searchFocusIndex}\r\n                searchFinishCallback={(matches) => {\r\n                  setSearchFoundCount(matches.length)\r\n                  setSearchFocusIndex(\r\n                    matches.length > 0 ? searchFocusIndex % matches.length : 0\r\n                  )\r\n                }}\r\n                // onlyExpandSearchedNodes\r\n                maxDepth={10}\r\n                generateNodeProps={({ node, path }) => ({\r\n                  style: {\r\n                    fontSize: node.is_app_header ? `16px` : \"14px\",\r\n                    fontWeight: node.is_app_header ? `bold` : \"normal\"\r\n                  },\r\n                  title: (\r\n                    <div className=\"d-flex justify-content-left align-items-center\">\r\n                      {\r\n                        node?.attributes?.logo && (\r\n                          <img\r\n                            className=\"me-1\"\r\n                            src={node.attributes.logo}\r\n                            // width=\"60\"\r\n                            height=\"25\"\r\n                          />\r\n                        )\r\n                        // : (\r\n                        //   <Avatar\r\n                        //     initials\r\n                        //     className=\"me-1\"\r\n                        //     color={\"light-primary\"}\r\n                        //     content={node.name || \"\"}\r\n                        //   />\r\n                        // )\r\n                      }\r\n                      <div className=\"d-flex flex-column\">\r\n                        <span className=\"fw-bolder\">\r\n                          {/* {node.code}  */}\r\n                          {node.name}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  ),\r\n                  buttons: [\r\n                    ability.can(\r\n                      \"post\",\r\n                      sessionStorage.getItem(\"current_page_perm\")\r\n                    ) ? (\r\n                      <>\r\n                        <Button.Ripple\r\n                          className=\"btn-icon rounded-circle\"\r\n                          color=\"flat-primary\"\r\n                          id=\"btn-add-child\"\r\n                          onClick={(e) => {\r\n                            toggleSidebar(node)\r\n                          }}\r\n                        >\r\n                          <Plus size={16} />\r\n                        </Button.Ripple>\r\n                        <UncontrolledTooltip\r\n                          placement=\"left\"\r\n                          target=\"btn-add-child\"\r\n                        >\r\n                          {t(\"Add Child\")}\r\n                        </UncontrolledTooltip>\r\n                      </>\r\n                    ) : null,\r\n                    ability.can(\r\n                      \"update\",\r\n                      sessionStorage.getItem(\"current_page_perm\")\r\n                    ) &&\r\n                    !node.is_app_header &&\r\n                    !node.disableEdit ? (\r\n                      <>\r\n                        <Button.Ripple\r\n                          className=\"btn-icon rounded-circle\"\r\n                          color=\"flat-info\"\r\n                          id=\"btn-edit\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault()\r\n                            handleEdit(node)\r\n                          }}\r\n                        >\r\n                          <Edit2 size={16} />\r\n                        </Button.Ripple>\r\n                        <UncontrolledTooltip placement=\"left\" target=\"btn-edit\">\r\n                          {t(\"Edit\")}\r\n                        </UncontrolledTooltip>\r\n                      </>\r\n                    ) : null,\r\n                    ability.can(\r\n                      \"delete\",\r\n                      sessionStorage.getItem(\"current_page_perm\")\r\n                    ) &&\r\n                    !node.disableDelete &&\r\n                    node?.children?.length === 0 ? (\r\n                      <>\r\n                        <Button.Ripple\r\n                          id=\"btn-delete\"\r\n                          className=\"btn-icon rounded-circle\"\r\n                          color=\"flat-danger\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault()\r\n                            handleDelete(node.id)\r\n                          }}\r\n                        >\r\n                          <Trash2 size={16} />\r\n                        </Button.Ripple>\r\n                        <UncontrolledTooltip\r\n                          placement=\"left\"\r\n                          target=\"btn-delete\"\r\n                        >\r\n                          {t(\"Delete\")}\r\n                        </UncontrolledTooltip>\r\n                      </>\r\n                    ) : null\r\n                  ]\r\n                })}\r\n              />\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      </UILoader>\r\n\r\n      {showModal && (\r\n        <ModalAddEdit\r\n          formState={formState}\r\n          show={showModal}\r\n          setShow={toggleSidebar}\r\n          detailPage={false}\r\n          setFormState={setFormState}\r\n          currentData={currentDataAdd}\r\n        />\r\n      )}\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default List\r\n","// ** React Imports\r\nimport { Fragment } from \"react\"\r\n\r\n// ** Third Party Components\r\nimport Proptypes from \"prop-types\"\r\nimport classnames from \"classnames\"\r\n\r\n// ** Reactstrap Imports\r\nimport { Spinner } from \"reactstrap\"\r\n\r\n// ** Styles\r\nimport \"./ui-loader.scss\"\r\n\r\nconst UILoader = (props) => {\r\n  const { children, blocking, loader, className, tag, overlayColor } = props\r\n\r\n  const Tag = tag\r\n\r\n  return (\r\n    <Tag\r\n      className={classnames(\"ui-loader\", {\r\n        [className]: className,\r\n        show: blocking\r\n      })}\r\n    >\r\n      {children}\r\n      {blocking ? (\r\n        <Fragment>\r\n          <div\r\n            className=\"overlay\" /*eslint-disable */\r\n            {...(blocking && overlayColor\r\n              ? { style: { backgroundColor: overlayColor } }\r\n              : {})}\r\n            /*eslint-enable */\r\n          ></div>\r\n          <div className=\"loader\">{loader}</div>\r\n        </Fragment>\r\n      ) : null}\r\n    </Tag>\r\n  )\r\n}\r\n\r\nexport default UILoader\r\n\r\nUILoader.defaultProps = {\r\n  tag: \"div\",\r\n  blocking: false,\r\n  loader: <Spinner color=\"primary\" />\r\n}\r\n\r\nUILoader.propTypes = {\r\n  tag: Proptypes.string,\r\n  loader: Proptypes.any,\r\n  className: Proptypes.string,\r\n  overlayColor: Proptypes.string,\r\n  blocking: Proptypes.bool.isRequired\r\n}\r\n","/**\n * `@virtuoso.dev/react-urx` exports the [[systemToComponent]] function.\n * It wraps urx systems in to UI **logic provider components**,\n * mapping the system input and output streams to the component input / output points.\n *\n * ### Simple System wrapped as React Component\n *\n * ```tsx\n * const sys = system(() => {\n *   const foo = statefulStream(42)\n *   return { foo }\n * })\n *\n * const { Component: MyComponent, useEmitterValue } = systemToComponent(sys, {\n *   required: { fooProp: 'foo' },\n * })\n *\n * const Child = () => {\n *   const foo = useEmitterValue('foo')\n *   return <div>{foo}</div>\n * }\n *\n * const App = () => {\n *   return <Comp fooProp={42}><Child /><Comp>\n * }\n * ```\n *\n * @packageDocumentation\n */\nimport * as React from 'react'\nimport {\n  ComponentType,\n  createContext,\n  createElement,\n  forwardRef,\n  ForwardRefExoticComponent,\n  ReactNode,\n  RefAttributes,\n  useContext,\n  useImperativeHandle,\n  useState,\n  useCallback,\n} from 'react'\nimport {\n  AnySystemSpec,\n  reset,\n  curry1to0,\n  curry2to1,\n  Emitter,\n  SR,\n  eventHandler,\n  getValue,\n  publish,\n  Publisher,\n  init,\n  StatefulStream,\n  Stream,\n  subscribe,\n  always,\n  tap,\n} from '@virtuoso.dev/urx'\n\n/** @internal */\ninterface Dict<T> {\n  [key: string]: T\n}\n\n/** @internal */\nfunction omit<O extends Dict<any>, K extends readonly string[]>(keys: K, obj: O): Omit<O, K[number]> {\n  var result = {} as Dict<any>\n  var index = {} as Dict<1>\n  var idx = 0\n  var len = keys.length\n\n  while (idx < len) {\n    index[keys[idx]] = 1\n    idx += 1\n  }\n\n  for (var prop in obj) {\n    if (!index.hasOwnProperty(prop)) {\n      result[prop] = obj[prop]\n    }\n  }\n\n  return result as any\n}\n\nconst useIsomorphicLayoutEffect = typeof document !== 'undefined' ? React.useLayoutEffect : React.useEffect\n\n/** @internal */\nexport type Observable<T> = Emitter<T> | Publisher<T>\n\n/**\n * Describes the mapping between the system streams and the component properties.\n * Each property uses the keys as the names of the properties and the values as the corresponding stream names.\n * @typeParam SS the type of the system.\n */\nexport interface SystemPropsMap<SS extends AnySystemSpec, K = keyof SR<SS>, D = { [key: string]: K }> {\n  /**\n   * Specifies the required component properties.\n   */\n  required?: D\n  /**\n   * Specifies the optional component properties.\n   */\n  optional?: D\n  /**\n   * Specifies the component methods, if any. Streams are converted to methods with a single argument.\n   * When invoked, the method publishes the value of the argument to the specified stream.\n   */\n  methods?: D\n  /**\n   * Specifies the component \"event\" properties, if any.\n   * Event properties accept callback functions which get executed when the stream emits a new value.\n   */\n  events?: D\n}\n\n/** @internal */\nexport type PropsFromPropMap<E extends AnySystemSpec, M extends SystemPropsMap<E>> = {\n  [K in Extract<keyof M['required'], string>]: M['required'][K] extends string\n    ? SR<E>[M['required'][K]] extends Observable<infer R>\n      ? R\n      : never\n    : never\n} &\n  {\n    [K in Extract<keyof M['optional'], string>]?: M['optional'][K] extends string\n      ? SR<E>[M['optional'][K]] extends Observable<infer R>\n        ? R\n        : never\n      : never\n  } &\n  {\n    [K in Extract<keyof M['events'], string>]?: M['events'][K] extends string\n      ? SR<E>[M['events'][K]] extends Observable<infer R>\n        ? (value: R) => void\n        : never\n      : never\n  }\n\n/** @internal */\nexport type MethodsFromPropMap<E extends AnySystemSpec, M extends SystemPropsMap<E>> = {\n  [K in Extract<keyof M['methods'], string>]: M['methods'][K] extends string\n    ? SR<E>[M['methods'][K]] extends Observable<infer R>\n      ? (value: R) => void\n      : never\n    : never\n}\n\n/**\n * Used to correctly specify type refs for system components\n *\n * ```tsx\n * const s = system(() => { return { a: statefulStream(0) } })\n * const { Component } = systemToComponent(s)\n *\n * const App = () => {\n *  const ref = useRef<RefHandle<typeof Component>>()\n *  return <Component ref={ref} />\n * }\n * ```\n *\n * @typeParam T the type of the component\n */\nexport type RefHandle<T> = T extends ForwardRefExoticComponent<RefAttributes<infer Handle>> ? Handle : never\n\n/**\n * Converts a system spec to React component by mapping the system streams to component properties, events and methods. Returns hooks for querying and modifying\n * the system streams from the component's child components.\n * @param systemSpec The return value from a [[system]] call.\n * @param map The streams to props / events / methods mapping Check [[SystemPropsMap]] for more details.\n * @param Root The optional React component to render. By default, the resulting component renders nothing, acting as a logical wrapper for its children.\n * @returns an object containing the following:\n *  - `Component`: the React component.\n *  - `useEmitterValue`: a hook that lets child components use values emitted from the specified output stream.\n *  - `useEmitter`: a hook that calls the provided callback whenever the specified stream emits a value.\n *  - `usePublisher`: a hook which lets child components publish values to the specified stream.\n *  <hr />\n */\nexport function systemToComponent<SS extends AnySystemSpec, M extends SystemPropsMap<SS>, S extends SR<SS>, R>(\n  systemSpec: SS,\n  map: M,\n  Root?: R\n) {\n  const requiredPropNames = Object.keys(map.required || {})\n  const optionalPropNames = Object.keys(map.optional || {})\n  const methodNames = Object.keys(map.methods || {})\n  const eventNames = Object.keys(map.events || {})\n  const Context = createContext<SR<SS>>(({} as unknown) as any)\n\n  type RootCompProps = R extends ComponentType<infer RP> ? RP : { children?: ReactNode }\n\n  type CompProps = PropsFromPropMap<SS, M> & RootCompProps\n\n  type CompMethods = MethodsFromPropMap<SS, M>\n\n  function applyPropsToSystem(system: ReturnType<SS['constructor']>, props: any) {\n    if (system['propsReady']) {\n      publish(system['propsReady'], false)\n    }\n\n    for (const requiredPropName of requiredPropNames) {\n      const stream = system[map.required![requiredPropName]]\n      publish(stream, (props as any)[requiredPropName])\n    }\n\n    for (const optionalPropName of optionalPropNames) {\n      if (optionalPropName in props) {\n        const stream = system[map.optional![optionalPropName]]\n        publish(stream, (props as any)[optionalPropName])\n      }\n    }\n\n    if (system['propsReady']) {\n      publish(system['propsReady'], true)\n    }\n  }\n\n  function buildMethods(system: ReturnType<SS['constructor']>) {\n    return methodNames.reduce((acc, methodName) => {\n      ;(acc as any)[methodName] = (value: any) => {\n        const stream = system[map.methods![methodName]]\n        publish(stream, value)\n      }\n      return acc\n    }, {} as CompMethods)\n  }\n\n  function buildEventHandlers(system: ReturnType<SS['constructor']>) {\n    return eventNames.reduce((handlers, eventName) => {\n      handlers[eventName] = eventHandler(system[map.events![eventName]])\n      return handlers\n    }, {} as { [key: string]: Emitter<any> })\n  }\n\n  /**\n   * A React component generated from an urx system\n   */\n  const Component = forwardRef<CompMethods, CompProps>((propsWithChildren, ref) => {\n    const { children, ...props } = propsWithChildren as any\n\n    const [system] = useState(() => {\n      return tap(init(systemSpec), system => applyPropsToSystem(system, props))\n    })\n\n    const [handlers] = useState(curry1to0(buildEventHandlers, system))\n\n    useIsomorphicLayoutEffect(() => {\n      for (const eventName of eventNames) {\n        if (eventName in props) {\n          subscribe(handlers[eventName], props[eventName])\n        }\n      }\n      return () => {\n        Object.values(handlers).map(reset)\n      }\n    }, [props, handlers, system])\n\n    useIsomorphicLayoutEffect(() => {\n      applyPropsToSystem(system, props)\n    })\n\n    useImperativeHandle(ref, always(buildMethods(system)))\n\n    return createElement(\n      Context.Provider,\n      { value: system },\n      Root\n        ? createElement(\n            (Root as unknown) as ComponentType,\n            omit([...requiredPropNames, ...optionalPropNames, ...eventNames], props),\n            children\n          )\n        : children\n    )\n  })\n\n  const usePublisher = <K extends keyof S>(key: K) => {\n    return useCallback(curry2to1(publish, React.useContext(Context)[key]), [key]) as (\n      value: S[K] extends Stream<infer R> ? R : never\n    ) => void\n  }\n\n  /**\n   * Returns the value emitted from the stream.\n   */\n  const useEmitterValue = <K extends keyof S, V = S[K] extends StatefulStream<infer R> ? R : never>(key: K) => {\n    const context = useContext(Context)\n    const source: StatefulStream<V> = context[key]\n\n    const [value, setValue] = useState(curry1to0(getValue, source))\n\n    useIsomorphicLayoutEffect(\n      () =>\n        subscribe(source, (next: V) => {\n          if (next !== value) {\n            setValue(always(next))\n          }\n        }),\n      [source, value]\n    )\n\n    return value\n  }\n\n  const useEmitter = <K extends keyof S, V = S[K] extends Stream<infer R> ? R : never>(key: K, callback: (value: V) => void) => {\n    const context = useContext(Context)\n    const source: Stream<V> = context[key]\n    useIsomorphicLayoutEffect(() => subscribe(source, callback), [callback, source])\n  }\n\n  return {\n    Component,\n    usePublisher,\n    useEmitterValue,\n    useEmitter,\n  }\n}\n","export const mounts = [\n  {\n    key: 'title',\n    getter: swal => swal.getTitle(),\n  },\n  {\n    key: 'html',\n    getter: swal => swal.getHtmlContainer(),\n  },\n  {\n    key: 'confirmButtonText',\n    getter: swal => swal.getConfirmButton(),\n  },\n  {\n    key: 'denyButtonText',\n    getter: swal => swal.getDenyButton(),\n  },\n  {\n    key: 'cancelButtonText',\n    getter: swal => swal.getCancelButton(),\n  },\n  {\n    key: 'footer',\n    getter: swal => swal.getFooter(),\n  },\n  {\n    key: 'closeButtonHtml',\n    getter: swal => swal.getCloseButton(),\n  },\n  {\n    key: 'iconHtml',\n    getter: swal => swal.getIcon().querySelector('.swal2-icon-content'),\n  },\n  {\n    key: 'loaderHtml',\n    getter: swal => swal.getLoader(),\n  },\n]\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { mounts } from './mounts'\n\nconst noop = () => {} // eslint-disable-line @typescript-eslint/no-empty-function\n\nexport default function withReactContent (ParentSwal) {\n  /* Returns `params` separated into a tuple of `reactParams` (the React params that need to be rendered)\n  and`otherParams` (all the other parameters, with any React params replaced with a space ' ') */\n  function extractReactParams (params) {\n    const reactParams = {}\n    const otherParams = {}\n    const mountKeys = mounts.map(mount => mount.key)\n    Object.entries(params).forEach(([key, value]) => {\n      if (mountKeys.includes(key) && React.isValidElement(value)) {\n        reactParams[key] = value\n        otherParams[key] = ' '\n      } else {\n        otherParams[key] = value\n      }\n    })\n    return [reactParams, otherParams]\n  }\n  function render (swal, reactParams) {\n    Object.entries(reactParams).forEach(([key, value]) => {\n      const mount = mounts.find(mount => mount.key === key)\n      const domElement = mount.getter(ParentSwal)\n      ReactDOM.render(value, domElement)\n      swal.__mountedDomElements.push(domElement)\n    })\n  }\n\n  function unrender (swal) {\n    swal.__mountedDomElements.forEach(domElement => {\n      ReactDOM.unmountComponentAtNode(domElement)\n    })\n    swal.__mountedDomElements = []\n  }\n\n  return class extends ParentSwal {\n    static argsToParams (args) {\n      if (React.isValidElement(args[0]) || React.isValidElement(args[1])) {\n        const params = {}\n        ;['title', 'html', 'icon'].forEach((name, index) => {\n          if (args[index] !== undefined) {\n            params[name] = args[index]\n          }\n        })\n        return params\n      } else {\n        return ParentSwal.argsToParams(args)\n      }\n    }\n\n    _main (params, mixinParams) {\n      this.__mountedDomElements = []\n      this.__params = Object.assign({}, mixinParams, params)\n      const [reactParams, otherParams] = extractReactParams(this.__params)\n      const superDidOpen = otherParams.didOpen || noop\n      const superDidDestroy = otherParams.didDestroy || noop\n      return super._main(\n        Object.assign({}, otherParams, {\n          didOpen: popup => {\n            render(this, reactParams)\n            superDidOpen(popup)\n          },\n          didDestroy: popup => {\n            superDidDestroy(popup)\n            unrender(this)\n          },\n        }),\n      )\n    }\n\n    update (params) {\n      Object.assign(this.__params, params)\n      unrender(this)\n      const [reactParams, otherParams] = extractReactParams(this.__params)\n      super.update(otherParams)\n      render(this, reactParams)\n    }\n  }\n}\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = global || self, factory(global.id = {}));\n}(this, function (exports) { 'use strict';\n\n  var fp = typeof window !== \"undefined\" && window.flatpickr !== undefined\n      ? window.flatpickr\n      : {\n          l10ns: {}\n      };\n  var Indonesian = {\n      weekdays: {\n          shorthand: [\"Min\", \"Sen\", \"Sel\", \"Rab\", \"Kam\", \"Jum\", \"Sab\"],\n          longhand: [\"Minggu\", \"Senin\", \"Selasa\", \"Rabu\", \"Kamis\", \"Jumat\", \"Sabtu\"]\n      },\n      months: {\n          shorthand: [\n              \"Jan\",\n              \"Feb\",\n              \"Mar\",\n              \"Apr\",\n              \"Mei\",\n              \"Jun\",\n              \"Jul\",\n              \"Agu\",\n              \"Sep\",\n              \"Okt\",\n              \"Nov\",\n              \"Des\",\n          ],\n          longhand: [\n              \"Januari\",\n              \"Februari\",\n              \"Maret\",\n              \"April\",\n              \"Mei\",\n              \"Juni\",\n              \"Juli\",\n              \"Agustus\",\n              \"September\",\n              \"Oktober\",\n              \"November\",\n              \"Desember\",\n          ]\n      },\n      firstDayOfWeek: 1,\n      ordinal: function () {\n          return \"\";\n      },\n      time_24hr: true,\n      rangeSeparator: \" - \"\n  };\n  fp.l10ns.id = Indonesian;\n  var id = fp.l10ns;\n\n  exports.Indonesian = Indonesian;\n  exports.default = id;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","// ** Third Party Components\r\nimport PropTypes from \"prop-types\"\r\nimport classnames from \"classnames\"\r\n\r\n// ** Reactstrap Imports\r\nimport { Card, CardBody } from \"reactstrap\"\r\nimport { Fragment } from \"react\"\r\n\r\nconst StatsHorizontal = ({\r\n  icon,\r\n  color,\r\n  cardColor,\r\n  stats,\r\n  renderStats,\r\n  statTitle,\r\n  className,\r\n  countTextColor,\r\n  countTextStyle = {},\r\n  titleStyle = {},\r\n  statsMargin,\r\n  solidColor = false,\r\n  cardStyle = {},\r\n  titleOnTop = false\r\n}) => {\r\n  const cardColorFix = !solidColor ? `bg-light-${cardColor}` : `bg-${cardColor}`\r\n  return (\r\n    <Card\r\n      style={{ ...cardStyle }}\r\n      {...(cardColor ? { className: cardColorFix, inverse: true } : {})}\r\n    >\r\n      <CardBody className={className}>\r\n        {!titleOnTop ? (\r\n          <div className=\"d-flex justify-content-between align-items-center\">\r\n            {renderStats ? (\r\n              renderStats\r\n            ) : (\r\n              <Fragment>\r\n                <div>\r\n                  {renderStats ? (\r\n                    renderStats\r\n                  ) : (\r\n                    <h3\r\n                      className={classnames(\"fw-bolder\", {\r\n                        \"mb-0\": !statsMargin,\r\n                        [statsMargin]: statsMargin\r\n                      })}\r\n                      style={{\r\n                        color: countTextColor ?? \"#5e5873\",\r\n                        ...countTextStyle\r\n                      }}\r\n                    >\r\n                      {stats}\r\n                    </h3>\r\n                  )}\r\n\r\n                  <p style={{ ...titleStyle }} className=\"card-text\">\r\n                    {statTitle}\r\n                  </p>\r\n                </div>\r\n                <div\r\n                  className={`avatar avatar-stats p-50 m-0 ${\r\n                    color ? `bg-light-${color}` : \"bg-light-primary\"\r\n                  }`}\r\n                >\r\n                  <div className=\"avatar-content\">{icon}</div>\r\n                </div>\r\n              </Fragment>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <Fragment>\r\n            <div>\r\n              <p style={{ ...titleStyle }} className=\"card-text\">\r\n                {statTitle}\r\n              </p>\r\n            </div>\r\n            <div className=\"d-flex justify-content-between align-items-center\">\r\n              {renderStats ? (\r\n                renderStats\r\n              ) : (\r\n                <Fragment>\r\n                  <div>\r\n                    {renderStats ? (\r\n                      renderStats\r\n                    ) : (\r\n                      <h3\r\n                        className={classnames(\"fw-bolder\", {\r\n                          \"mb-0\": !statsMargin,\r\n                          [statsMargin]: statsMargin\r\n                        })}\r\n                        style={{\r\n                          color: countTextColor ?? \"#5e5873\",\r\n                          ...countTextStyle\r\n                        }}\r\n                      >\r\n                        {stats}\r\n                      </h3>\r\n                    )}\r\n                  </div>\r\n                  <div\r\n                    className={`avatar avatar-stats p-50 m-0 ${\r\n                      color ? `bg-light-${color}` : \"bg-light-primary\"\r\n                    }`}\r\n                  >\r\n                    <div className=\"avatar-content\">{icon}</div>\r\n                  </div>\r\n                </Fragment>\r\n              )}\r\n            </div>\r\n          </Fragment>\r\n        )}\r\n      </CardBody>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default StatsHorizontal\r\n\r\n// ** PropTypes\r\nStatsHorizontal.propTypes = {\r\n  stats: PropTypes.string,\r\n  renderStats: PropTypes.any,\r\n  className: PropTypes.string,\r\n  icon: PropTypes.element,\r\n  color: PropTypes.string,\r\n  cardColor: PropTypes.string,\r\n  statTitle: PropTypes.string,\r\n  statsMargin: PropTypes.oneOf([\r\n    \"mb-0\",\r\n    \"mb-25\",\r\n    \"mb-50\",\r\n    \"mb-75\",\r\n    \"mb-1\",\r\n    \"mb-2\",\r\n    \"mb-3\",\r\n    \"mb-4\",\r\n    \"mb-5\"\r\n  ])\r\n}\r\n","import { AbilityContext } from \"@src/utility/context/Can\"\r\nimport { renderIcon } from \"@src/views/apps/menu/store/my_menu\"\r\nimport { getUserData, parseStrAndField } from \"@utils\"\r\nimport { Fragment, useContext } from \"react\"\r\nimport { CornerDownRight, Edit2, Eye, Trash2 } from \"react-feather\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport { useNavigate, useParams } from \"react-router-dom\"\r\nimport { Button, UncontrolledTooltip } from \"reactstrap\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport {\r\n  getBaseUrl,\r\n  getDataList,\r\n  resetData\r\n} from \"@src/shared/dynamic_pages/store\"\r\n\r\nconst GlobalActionsTable = ({\r\n  row,\r\n  pageAttr,\r\n  handleDelete,\r\n  handleEdit,\r\n  disabledAction = [],\r\n  onlyText = false,\r\n  withText = false,\r\n  outline = false,\r\n  rowClickEvent = \"edit\"\r\n}) => {\r\n  const { t } = useTranslation()\r\n  const ability = useContext(AbilityContext)\r\n  const navigate = useNavigate()\r\n  const storeAll = useSelector((state) => state.dynamicStore)\r\n  const store = useSelector((state) => state.dynamic_temp_state)\r\n  const dispatch = useDispatch()\r\n  const dynamicColumnsExtraActionsButton =\r\n    pageAttr?.crudOpt?.dynamicColumnsExtraActionsButton\r\n\r\n  const extraBtnPrefixId = `btn-extra-action-${row?.id}`\r\n\r\n  function getDepthValue(obj, path, defaultValue = null) {\r\n    let props\r\n    if (typeof obj === \"undefined\") return defaultValue\r\n    if (typeof path === \"string\") {\r\n      props = path.split(\".\").reverse()\r\n    } else {\r\n      props = path\r\n    }\r\n    if (path.length === 0) return obj || defaultValue\r\n    let current = props.pop()\r\n    return getDepthValue(obj?.[current], props, defaultValue)\r\n  }\r\n\r\n  const scrollToDiv = (divId) => {\r\n    const element = document.getElementById(divId)\r\n    if (element) {\r\n      element.scrollIntoView({\r\n        behavior: \"smooth\",\r\n        block: \"start\"\r\n      })\r\n    }\r\n  }\r\n\r\n  const extraBtnShowCondition = (crudOpt, row = null) => {\r\n    let result = false\r\n    if (crudOpt?.showIf) {\r\n      crudOpt?.showIf?.map((item, index) => {\r\n        let field = item?.field\r\n        let operator = item?.operator\r\n        let value = item?.value\r\n\r\n        let currentRowValue = null\r\n        let evalStr = null\r\n\r\n        if (field?.includes(\"__userData\")) {\r\n          const userData = getUserData()\r\n          if (field === \"__userData.name__\") {\r\n            currentRowValue = userData?.name\r\n          } else if (field === \"__userData.isManager__\") {\r\n            currentRowValue = userData?.isManager\r\n          } else if (field === \"__userData.email__\") {\r\n            currentRowValue = userData?.email\r\n          } else if (field === \"__userData.id__\") {\r\n            currentRowValue = userData?.id\r\n          } else if (field === \"__userData.username__\") {\r\n            currentRowValue = userData?.username\r\n          }\r\n\r\n          evalStr = `'${currentRowValue}' ${operator} ${value}`\r\n          if (\r\n            [null, undefined, \"\", false].includes(currentRowValue) &&\r\n            (value === \"null\" || value === \"false\")\r\n          ) {\r\n            evalStr = `${currentRowValue} ${operator} ${currentRowValue}`\r\n          }\r\n\r\n          try {\r\n            if (item?.showIf_or === true) {\r\n              result = result || eval(evalStr)\r\n            } else {\r\n              result = eval(evalStr)\r\n            }\r\n          } catch (error) {\r\n            result = false\r\n          }\r\n          // console.log(field, evalStr, result)\r\n        } else {\r\n          currentRowValue = field?.includes(\".\")\r\n            ? getDepthValue(row, field)\r\n            : row?.[field]\r\n\r\n          evalStr = `'${currentRowValue}' ${operator} ${value}`\r\n\r\n          if (\r\n            [null, undefined, \"\", false].includes(currentRowValue) &&\r\n            (value === \"null\" || value === \"false\")\r\n          ) {\r\n            evalStr = `${currentRowValue} ${operator} ${currentRowValue}`\r\n          }\r\n\r\n          try {\r\n            if (item?.showIf_or === true) {\r\n              result = result || eval(evalStr)\r\n            } else {\r\n              result = eval(evalStr)\r\n            }\r\n          } catch (error) {\r\n            result = false\r\n          }\r\n          // console.log(field, evalStr, result)\r\n        }\r\n      })\r\n    } else {\r\n      result = true\r\n    }\r\n    return result\r\n  }\r\n\r\n  const enabledBtnViewCondition = (crudOpt, row = null) => {\r\n    const paramss = useParams()\r\n    let result = false\r\n    if (crudOpt?.enabledViewBtnCondition) {\r\n      crudOpt?.enabledViewBtnCondition?.map((item) => {\r\n        let field = item?.field\r\n        let operator = item?.operator\r\n        let value = item?.value\r\n\r\n        let currentRowValue = null\r\n        let evalStr = null\r\n\r\n        if (field?.includes(\"__userData\")) {\r\n          const userData = getUserData()\r\n          if (field === \"__userData.name__\") {\r\n            currentRowValue = userData?.name\r\n          } else if (field === \"__userData.isManager__\") {\r\n            currentRowValue = userData?.isManager\r\n          } else if (field === \"__userData.email__\") {\r\n            currentRowValue = userData?.email\r\n          } else if (field === \"__userData.id__\") {\r\n            currentRowValue = userData?.id\r\n          } else if (field === \"__userData.username__\") {\r\n            currentRowValue = userData?.username\r\n          }\r\n\r\n          evalStr = `'${currentRowValue}' ${operator} ${value}`\r\n          if (\r\n            [null, undefined, \"\", false].includes(currentRowValue) &&\r\n            (value === \"null\" || value === \"false\")\r\n          ) {\r\n            evalStr = `${currentRowValue} ${operator} ${currentRowValue}`\r\n          }\r\n\r\n          try {\r\n            if (crudOpt?.enabledViewBtnCondition_or === true) {\r\n              result = result || eval(evalStr)\r\n            } else {\r\n              result = eval(evalStr)\r\n            }\r\n          } catch (error) {\r\n            result = false\r\n          }\r\n          // console.log(field, evalStr, result)\r\n        } else {\r\n          currentRowValue = field?.includes(\".\")\r\n            ? getDepthValue(row, field)\r\n            : row?.[field]\r\n\r\n          evalStr = `'${currentRowValue}' ${operator} ${value}`\r\n\r\n          if (\r\n            [null, undefined, \"\", false].includes(currentRowValue) &&\r\n            (value === \"null\" || value === \"false\")\r\n          ) {\r\n            evalStr = `${currentRowValue} ${operator} ${currentRowValue}`\r\n          }\r\n\r\n          try {\r\n            if (crudOpt?.enabledViewBtnCondition_or === true) {\r\n              result = result || eval(evalStr)\r\n            } else {\r\n              result = eval(evalStr)\r\n            }\r\n          } catch (error) {\r\n            result = false\r\n          }\r\n          // console.log(field, evalStr, result)\r\n        }\r\n      })\r\n    }\r\n\r\n    if (paramss?.pageType === \"view\") {\r\n      result = true\r\n    }\r\n\r\n    return result\r\n  }\r\n\r\n  function hasColorClass(className) {\r\n    let result = \"\"\r\n    if (className && !className?.includes(\"flat\")) {\r\n      result = \"has-color\"\r\n    }\r\n    return result\r\n  }\r\n\r\n  return (\r\n    <div className=\"column-action text-center\">\r\n      {dynamicColumnsExtraActionsButton\r\n        ? dynamicColumnsExtraActionsButton?.map((item, index) => {\r\n            return (\r\n              extraBtnShowCondition(item, row) && (\r\n                <Fragment key={`${extraBtnPrefixId}-fragment-${index}`}>\r\n                  <Button.Ripple\r\n                    key={`${extraBtnPrefixId}-${index}`}\r\n                    outline={\r\n                      item?.outline &&\r\n                      /^(flat-|gradient-|relief-)/.test(item?.color) === false\r\n                    }\r\n                    id={`${extraBtnPrefixId}-${index}`}\r\n                    className={`btn-icon ms-25 extra-btn-table } ${\r\n                      !item?.text ? \"rounded-circle \" : \"\"\r\n                    }`}\r\n                    color={item?.color ? item?.color : \"flat-secondary\"}\r\n                    onClick={(e) => {\r\n                      e.preventDefault()\r\n                      let staticUrl = item?.clickLinkUrl?.static\r\n                      let fieldUrl = item?.clickLinkUrl?.field\r\n                      let widgetId = item?.clickLinkSlideToWidget?.widget_id\r\n\r\n                      if (staticUrl && !fieldUrl && !widgetId) {\r\n                        let params = \"\"\r\n                        let paramsFromFields =\r\n                          item?.clickLinkUrl?.paramsFromFields\r\n                        let paramsArr = []\r\n                        if (paramsFromFields) {\r\n                          paramsFromFields?.map((it, idx) => {\r\n                            let paramKey = it?.paramName\r\n                            // let paramValue = row?.[it?.fieldName]\r\n                            let paramValue = parseStrAndField(\r\n                              row,\r\n                              it?.fieldName\r\n                            )\r\n                            params += `&${paramKey}=${paramValue}`\r\n                            paramsArr.push(`${paramKey}=${paramValue}`)\r\n                          })\r\n                        }\r\n\r\n                        const isQueryStr = staticUrl?.includes(\"?\")\r\n                        let newStaticUrl = `${staticUrl}${\r\n                          isQueryStr ? \"\" : \"?\"\r\n                        }${paramsArr.join(\"&\")}`\r\n\r\n                        let staticUrlFix = newStaticUrl\r\n                          .replace(\"&&\", \"&\")\r\n                          .replace(\"/?&\", \"?\")\r\n                          .replace(\"??\", \"?\")\r\n                          .replace(\"/?\", \"?\")\r\n                          .replace(\"/&\", \"&\")\r\n                          .replace(\"?&\", \"?\")\r\n                          .replace(\"&?\", \"&\")\r\n                          .replace(\"?&\", \"\")\r\n\r\n                        if (\r\n                          staticUrl.startsWith(\"http://\") ||\r\n                          staticUrl.startsWith(\"https://\")\r\n                        ) {\r\n                          // console.log(staticUrlFix)\r\n                          window.open(staticUrlFix, \"_blank\", \"noreferrer\")\r\n                        } else {\r\n                          navigate(newStaticUrl)\r\n                        }\r\n                      } else if (fieldUrl && !staticUrl && !widgetId) {\r\n                        let params = \"\"\r\n                        let paramsFromFields =\r\n                          item?.clickLinkUrl?.paramsFromFields\r\n                        // console.log(fieldUrl.includes(\".\"))\r\n                        let fieldUrlFix = fieldUrl.includes(\".\")\r\n                          ? getDepthValue(row, fieldUrl)\r\n                          : row?.[fieldUrl]\r\n                        // console.log(fieldUrlFix)\r\n                        if (fieldUrlFix) {\r\n                          // console.log(fieldUrlFix)\r\n                          if (paramsFromFields) {\r\n                            paramsFromFields?.map((it, idx) => {\r\n                              let paramKey = it?.paramName\r\n                              let paramValue = row?.[it?.fieldName]\r\n                              params += `${paramKey}=${paramValue}&`\r\n                            })\r\n                          }\r\n                          fieldUrlFix = `${fieldUrlFix}?${params.replace(\r\n                            /&$/,\r\n                            \"\"\r\n                          )}`\r\n                          if (\r\n                            fieldUrlFix.startsWith(\"http://\") ||\r\n                            fieldUrlFix.startsWith(\"https://\")\r\n                          ) {\r\n                            // console.log(fieldUrlFix)\r\n                            window.open(fieldUrlFix, \"_blank\", \"noreferrer\")\r\n                          } else {\r\n                            navigate(fieldUrlFix)\r\n                          }\r\n                        }\r\n                      } else if (!fieldUrl && !staticUrl && widgetId) {\r\n                        let params = \"\"\r\n                        let paramsFromFields =\r\n                          item?.clickLinkSlideToWidget?.paramsFromFields\r\n\r\n                        if (paramsFromFields) {\r\n                          paramsFromFields?.map((it, idx) => {\r\n                            let paramKey = it?.paramName\r\n                            let paramValue = row?.[it?.fieldName]\r\n                            params += `${paramKey}=${paramValue}&`\r\n                          })\r\n                        }\r\n\r\n                        scrollToDiv(`widget_${widgetId}`)\r\n                      }\r\n\r\n                      const clickLinkFillGlobalFilter =\r\n                        item?.clickLinkFillGlobalFilter\r\n                      // console.log(clickLinkFillGlobalFilter)\r\n                      if (clickLinkFillGlobalFilter) {\r\n                        const targetId = clickLinkFillGlobalFilter?.widget_id\r\n                        const element = document.getElementById(\r\n                          `widget_${targetId}`\r\n                        )\r\n                        if (element) {\r\n                          const store_to_reset =\r\n                            element.getAttribute(\"storename\")\r\n\r\n                          let params = {}\r\n                          let paramsFromFields =\r\n                            item?.clickLinkFillGlobalFilter?.paramsFromFields\r\n\r\n                          if (paramsFromFields) {\r\n                            paramsFromFields?.map((it, idx) => {\r\n                              let paramKey = it?.paramName\r\n                              let paramValue = row?.[it?.fieldName]\r\n                              params[`${paramKey}`] = paramValue\r\n                            })\r\n                          }\r\n\r\n                          storeAll.pageAttributes[\r\n                            store_to_reset\r\n                          ]?.options?.data?.dynamicCard?.map((x, index) => {\r\n                            // console.log(x)\r\n                            if (x?.children) {\r\n                              x.children?.map((child, index) => {\r\n                                // console.log(storeAll)\r\n                                // console.log(store)\r\n                                const widget_id =\r\n                                  child?.chart_id ??\r\n                                  child?.cardId ??\r\n                                  child?.pageId ??\r\n                                  child?.crudOpt?.pageId ??\r\n                                  index\r\n\r\n                                const targetAttr = child\r\n\r\n                                const linkToGlobalFilterName =\r\n                                  child?.linkToGlobalFilter ??\r\n                                  child?.crudOpt?.linkToGlobalFilter ??\r\n                                  child?.dataFrom?.linkToGlobalFilter\r\n\r\n                                console.log(widget_id, targetId)\r\n\r\n                                if (\r\n                                  child?.type === \"global_filter\" &&\r\n                                  widget_id === targetId\r\n                                ) {\r\n                                  console.log(targetAttr)\r\n                                  // if (storeAll?.pageData?.[store_to_reset]?.data) {\r\n                                  //   dispatch(resetData(store_to_reset))\r\n                                  // }\r\n\r\n                                  // dispatch(\r\n                                  //   getDataList({\r\n                                  //     ...(storeAll?.pageData?.[store_to_reset]\r\n                                  //       ?.params ?? {}),\r\n                                  //     ...params,\r\n                                  //     storeName: store_to_reset,\r\n                                  //     endpointName:\r\n                                  //     child?.crudOpt\r\n                                  //         ?.endpointName,\r\n                                  //     baseUrl:\r\n                                  //     child?.crudOpt\r\n                                  //         ?.baseUrl\r\n                                  //   })\r\n                                  // )\r\n                                }\r\n\r\n                                // else if (child?.crudOpt && targetId === linkToGlobalFilterName) {\r\n                                //   const child_widget_id =\r\n                                //   child?.chart_id ??\r\n                                //   child?.cardId ??\r\n                                //   child?.pageId ??\r\n                                //   child?.crudOpt?.pageId ??\r\n                                //   index\r\n                                // }\r\n                              })\r\n                            } else {\r\n                              const widget_id =\r\n                                x?.chart_id ??\r\n                                x?.cardId ??\r\n                                x?.pageId ??\r\n                                x?.crudOpt?.pageId ??\r\n                                index\r\n\r\n                              const targetAttr = x\r\n                              const linkToGlobalFilterName =\r\n                                x?.linkToGlobalFilter ??\r\n                                x?.crudOpt?.linkToGlobalFilter ??\r\n                                x?.dataFrom?.linkToGlobalFilter\r\n\r\n                              // console.log(widget_id, targetId)\r\n\r\n                              if (\r\n                                x?.type === \"global_filter\" &&\r\n                                widget_id === targetId\r\n                              ) {\r\n                                // console.log(targetAttr)\r\n                                // console.log(storeAll)\r\n                              } else if (\r\n                                x?.crudOpt &&\r\n                                targetId === linkToGlobalFilterName\r\n                              ) {\r\n                                const childStoreName = `${\r\n                                  x?.crudOpt?.baseUrl ??\r\n                                  x?.dataFrom?.baseUrl ??\r\n                                  x?.baseUrl\r\n                                }_${widget_id}`\r\n\r\n                                console.log(params, x)\r\n                                console.log(storeAll, childStoreName)\r\n\r\n                                if (\r\n                                  storeAll?.pageData?.[childStoreName]?.data\r\n                                ) {\r\n                                  dispatch(resetData(childStoreName))\r\n                                }\r\n\r\n                                dispatch(\r\n                                  getDataList({\r\n                                    ...(storeAll?.pageData?.[childStoreName]\r\n                                      ?.params ?? {}),\r\n                                    ...params,\r\n                                    storeName: childStoreName,\r\n                                    endpointName: x?.crudOpt?.endpointName,\r\n                                    baseUrl: x?.crudOpt?.baseUrl\r\n                                  })\r\n                                )\r\n                              }\r\n\r\n                              // const linkToGlobalFilterName =\r\n                              //   x?.linkToGlobalFilter ??\r\n                              //   x?.crudOpt?.linkToGlobalFilter ??\r\n                              //   x?.dataFrom?.linkToGlobalFilter\r\n                              // if (linkToGlobalFilterName) {\r\n                              //   const widget_id = x?.chart_id ?? x?.cardId\r\n                              //   // console.log(params?.storeName, linkToGlobalFilterName)\r\n                              //   if (params?.storeName === linkToGlobalFilterName) {\r\n                              //     isLinkedToChilds = true\r\n                              //     if (x?.crudOpt) {\r\n                              //       const store_to_reset = `${\r\n                              //         x?.crudOpt?.baseUrl ?? x?.dataFrom?.baseUrl ?? x?.baseUrl\r\n                              //       }_${widget_id}`\r\n                              //       // console.log(store_to_reset)\r\n                              //       // if (storeAll?.pageData?.[store_to_reset]?.data) {\r\n                              //       resetDataByStore(store_to_reset, params)\r\n                              //       // }\r\n                              //     } else {\r\n                              //       const store_to_reset = `${widget_id}`\r\n                              //       const copyParams = { ...params }\r\n                              //       delete copyParams.storeName\r\n                              //       copyParams[\"item\"] = x\r\n                              //       handleChangeFilterFromChild(copyParams)\r\n                              //     }\r\n                              //   }\r\n                              // }\r\n                            }\r\n                          })\r\n                        }\r\n                      }\r\n                    }}\r\n                  >\r\n                    {\r\n                      <Fragment>\r\n                        {item?.icon &&\r\n                          renderIcon(item?.icon, \"align-middle\", 16)}\r\n                        {item?.text && (\r\n                          <span className=\"ms-25 align-middle\">\r\n                            {t(item?.text)}\r\n                          </span>\r\n                        )}\r\n                      </Fragment>\r\n                    }\r\n                  </Button.Ripple>\r\n                  {!pageAttr?.isViewOnRow && (\r\n                    <UncontrolledTooltip\r\n                      key={`${extraBtnPrefixId}-tooltip-${index}`}\r\n                      placement=\"left\"\r\n                      target={`${extraBtnPrefixId}-${index}`}\r\n                    >\r\n                      {item?.tooltip ? t(item?.tooltip) : t(item?.text)}\r\n                    </UncontrolledTooltip>\r\n                  )}\r\n                </Fragment>\r\n              )\r\n            )\r\n          })\r\n        : null}\r\n\r\n      {ability.can(\"delete\", sessionStorage.getItem(\"current_page_perm\")) &&\r\n      !disabledAction.includes(\"delete\") &&\r\n      !pageAttr?.onDashboard ? (\r\n        <Fragment>\r\n          <Button.Ripple\r\n            outline={outline}\r\n            id={`btn-delete-${row.id}`}\r\n            className={`btn-action-table ms-25 btn-icon ${\r\n              !outline ? \"rounded-circle \" : \"\"\r\n            }`}\r\n            color={!outline ? \"flat-secondary\" : \"secondary\"}\r\n            onClick={(e) => {\r\n              e.preventDefault()\r\n              handleDelete(row.id)\r\n            }}\r\n          >\r\n            {!onlyText && <Trash2 size={16} />}\r\n            {(onlyText || withText) && (\r\n              <span className=\"align-middle ms-25\">{t(\"Delete\")}</span>\r\n            )}\r\n          </Button.Ripple>\r\n          {!pageAttr?.isViewOnRow && (\r\n            <UncontrolledTooltip\r\n              placement=\"left\"\r\n              target={`btn-delete-${row.id}`}\r\n            >\r\n              {t(\"Delete\")}\r\n            </UncontrolledTooltip>\r\n          )}\r\n        </Fragment>\r\n      ) : null}\r\n\r\n      {rowClickEvent !== \"view\" &&\r\n      ability.can(\"update\", sessionStorage.getItem(\"current_page_perm\")) &&\r\n      !disabledAction.includes(\"update\") &&\r\n      !pageAttr?.onDashboard ? (\r\n        <Fragment>\r\n          <Button.Ripple\r\n            outline={outline}\r\n            className={`btn-action-table ms-25 btn-icon ${\r\n              !outline ? \"rounded-circle \" : \"\"\r\n            }`}\r\n            color={!outline ? \"flat-secondary\" : \"secondary\"}\r\n            id={`btn-edit-${row.id}`}\r\n            onClick={(e) => {\r\n              e.preventDefault()\r\n              handleEdit(row)\r\n            }}\r\n          >\r\n            {!onlyText && <Edit2 size={16} />}\r\n            {(onlyText || withText) && (\r\n              <span className=\"align-middle ms-25\">{t(\"Edit\")}</span>\r\n            )}\r\n          </Button.Ripple>\r\n          {!pageAttr?.isViewOnRow && (\r\n            <UncontrolledTooltip placement=\"left\" target={`btn-edit-${row.id}`}>\r\n              {t(\"Edit\")}\r\n            </UncontrolledTooltip>\r\n          )}\r\n        </Fragment>\r\n      ) : null}\r\n\r\n      {(rowClickEvent === \"view\" && !disabledAction.includes(\"view\")) ||\r\n      (enabledBtnViewCondition(pageAttr?.crudOpt, row) &&\r\n        !pageAttr?.crudOpt?.saveAsNewBtn &&\r\n        !pageAttr?.onDashboard) ? (\r\n        <Fragment>\r\n          <Button.Ripple\r\n            outline={outline}\r\n            className={`btn-action-table ms-25 btn-icon ${\r\n              !outline ? \"rounded-circle \" : \"\"\r\n            }`}\r\n            color={!outline ? \"flat-secondary\" : \"secondary\"}\r\n            id={`btn-view-${row.id}`}\r\n            onClick={(e) => {\r\n              e.preventDefault()\r\n              handleEdit(row, null, \"view\")\r\n            }}\r\n          >\r\n            {!onlyText && <Eye size={16} />}\r\n            {(onlyText || withText) && (\r\n              <span className=\"align-middle ms-25\">{t(\"View\")}</span>\r\n            )}\r\n          </Button.Ripple>\r\n          {!pageAttr?.isViewOnRow && (\r\n            <UncontrolledTooltip placement=\"left\" target={`btn-view-${row.id}`}>\r\n              {t(\"View Detail\")}\r\n            </UncontrolledTooltip>\r\n          )}\r\n        </Fragment>\r\n      ) : null}\r\n\r\n      {ability.can(\"post\", sessionStorage.getItem(\"current_page_perm\")) &&\r\n      !disabledAction.includes(\"add-child\") &&\r\n      pageAttr?.crudOpt?.gridTheme === \"table_tree\" &&\r\n      !pageAttr?.onDashboard ? (\r\n        <Fragment>\r\n          <Button.Ripple\r\n            outline={outline}\r\n            id={`btn-add-child-${row.id}`}\r\n            className={`btn-action-table btn-icon ${\r\n              !outline ? \"rounded-circle \" : \"\"\r\n            }`}\r\n            color={!outline ? \"flat-secondary\" : \"secondary\"}\r\n            onClick={(e) => {\r\n              e.preventDefault()\r\n              handleEdit(null, {\r\n                [pageAttr?.crudOpt?.ganttParentIdField ?? \"parent_id\"]: row?.id\r\n              })\r\n            }}\r\n          >\r\n            {!onlyText && <CornerDownRight size={16} />}\r\n            {/* {!onlyText && renderIcon(\"fontAwesome:folder-tree\", \"\", 16)} */}\r\n            {/* {!onlyText && renderIcon(\"material:subdirectory_arrow_right\", \"\", 16)} */}\r\n            {(onlyText || withText) && (\r\n              <span className=\"align-middle ms-25\">{t(\"Add Child\")}</span>\r\n            )}\r\n          </Button.Ripple>\r\n          {!pageAttr?.isViewOnRow && (\r\n            <UncontrolledTooltip\r\n              placement=\"left\"\r\n              target={`btn-add-child-${row.id}`}\r\n            >\r\n              {t(\"Add Child\")}\r\n            </UncontrolledTooltip>\r\n          )}\r\n        </Fragment>\r\n      ) : null}\r\n\r\n      {/* {rowClickEvent === \"view\" || !disabledAction.includes(\"view\") ? (\r\n        <Fragment>\r\n          <Button.Ripple\r\n            outline={outline}\r\n            className={`btn-icon ms-1 ${!outline ? \"rounded-circle \" : \"\"}`}\r\n            color={!outline ? \"flat-info\" : \"info\"}\r\n            id={`btn-view-${row.id}`}\r\n            onClick={(e) => {\r\n              e.preventDefault()\r\n              handleEdit(row)\r\n            }}\r\n          >\r\n            {!onlyText && <Eye size={16} />}\r\n            {(onlyText || withText) && (\r\n              <span className=\"align-middle ms-25\">{t(\"View\")}</span>\r\n            )}\r\n          </Button.Ripple>\r\n          <UncontrolledTooltip placement=\"left\" target={`btn-view-${row.id}`}>\r\n            {t(\"View Detail\")}\r\n          </UncontrolledTooltip>\r\n        </Fragment>\r\n      ) : null} */}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default GlobalActionsTable\r\n","// ** React Imports\r\nimport { Fragment } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\n\r\n// ** Third Party Components\r\nimport Proptypes from \"prop-types\"\r\nimport classnames from \"classnames\"\r\nimport { Grid, CheckSquare, MessageSquare, Mail, Calendar } from \"react-feather\"\r\nimport { useTranslation } from \"react-i18next\"\r\n\r\n// ** Reactstrap Imports\r\nimport {\r\n  Breadcrumb,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  BreadcrumbItem,\r\n  DropdownToggle,\r\n  UncontrolledButtonDropdown\r\n} from \"reactstrap\"\r\n\r\nconst BreadCrumbs = (props) => {\r\n  const { t } = useTranslation()\r\n  // ** Props\r\n  const { data, title, mb, subtitle } = props\r\n\r\n  const renderBreadCrumbs = () => {\r\n    return data.map((item, index) => {\r\n      const Wrapper = item.link ? Link : Fragment\r\n      const isLastItem = data.length - 1 === index\r\n      return (\r\n        <BreadcrumbItem\r\n          tag=\"li\"\r\n          key={index}\r\n          active={!isLastItem}\r\n          className={classnames({ \"text-primary\": !isLastItem })}\r\n        >\r\n          <Wrapper {...(item.link ? { to: item.link } : {})}>\r\n            {item.title}\r\n          </Wrapper>\r\n        </BreadcrumbItem>\r\n      )\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={`content-header-left col-md-9 col-8 ${\r\n        mb || mb === 0 ? `mb-${mb}` : \"mb-2\"\r\n      }`}\r\n    >\r\n      <div className=\"row breadcrumbs-top\">\r\n        <div className=\"col-12\">\r\n          {title ? (\r\n            <h2 className=\"content-header-title float-start mb-0\">{title}</h2>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <div className=\"breadcrumb-wrapper vs-breadcrumbs d-sm-block d-none col-12\">\r\n            <Breadcrumb>\r\n              <BreadcrumbItem tag=\"li\">\r\n                <Link to=\"/\">{t(\"Home\")}</Link>\r\n              </BreadcrumbItem>\r\n              {renderBreadCrumbs()}\r\n            </Breadcrumb>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-12\">{subtitle ?? \"\"}</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default BreadCrumbs\r\n\r\n// ** PropTypes\r\nBreadCrumbs.propTypes = {\r\n  title: Proptypes.string.isRequired,\r\n  data: Proptypes.arrayOf(\r\n    Proptypes.shape({\r\n      link: Proptypes.string,\r\n      title: Proptypes.string.isRequired\r\n    })\r\n  )\r\n}\r\n","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\nmodule.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nmodule.exports = _iterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nmodule.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\nvar iterableToArray = require(\"./iterableToArray.js\");\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\nmodule.exports = _toConsumableArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","import { createContext } from 'react';\n/**\n * Create the React Context\n */\n\nexport var DndContext = createContext({\n  dragDropManager: undefined\n});","var defineProperty = require(\"./defineProperty.js\");\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nmodule.exports = _objectSpread2, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose.js\");\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nmodule.exports = _objectWithoutProperties, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _excluded = [\"children\"];\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect, memo } from 'react';\nimport { createDragDropManager } from 'dnd-core';\nimport { DndContext } from './DndContext';\nvar refCount = 0;\nvar INSTANCE_SYM = Symbol.for('__REACT_DND_CONTEXT_INSTANCE__');\n/**\n * A React component that provides the React-DnD context\n */\n\nexport var DndProvider = memo(function DndProvider(_ref) {\n  var children = _ref.children,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _getDndContextValue = getDndContextValue(props),\n      _getDndContextValue2 = _slicedToArray(_getDndContextValue, 2),\n      manager = _getDndContextValue2[0],\n      isGlobalInstance = _getDndContextValue2[1]; // memoized from props\n\n  /**\n   * If the global context was used to store the DND context\n   * then where theres no more references to it we should\n   * clean it up to avoid memory leaks\n   */\n\n\n  useEffect(function () {\n    if (isGlobalInstance) {\n      var context = getGlobalContext();\n      ++refCount;\n      return function () {\n        if (--refCount === 0) {\n          context[INSTANCE_SYM] = null;\n        }\n      };\n    }\n  }, []);\n  return _jsx(DndContext.Provider, Object.assign({\n    value: manager\n  }, {\n    children: children\n  }), void 0);\n});\n\nfunction getDndContextValue(props) {\n  if ('manager' in props) {\n    var _manager = {\n      dragDropManager: props.manager\n    };\n    return [_manager, false];\n  }\n\n  var manager = createSingletonDndContext(props.backend, props.context, props.options, props.debugMode);\n  var isGlobalInstance = !props.context;\n  return [manager, isGlobalInstance];\n}\n\nfunction createSingletonDndContext(backend) {\n  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getGlobalContext();\n  var options = arguments.length > 2 ? arguments[2] : undefined;\n  var debugMode = arguments.length > 3 ? arguments[3] : undefined;\n  var ctx = context;\n\n  if (!ctx[INSTANCE_SYM]) {\n    ctx[INSTANCE_SYM] = {\n      dragDropManager: createDragDropManager(backend, context, options, debugMode)\n    };\n  }\n\n  return ctx[INSTANCE_SYM];\n}\n\nfunction getGlobalContext() {\n  return typeof global !== 'undefined' ? global : window;\n}","/* eslint-disable no-restricted-globals, @typescript-eslint/ban-ts-comment, @typescript-eslint/no-unused-vars, @typescript-eslint/no-non-null-assertion */\nimport type { Task } from './types.js'\nimport { makeRequestCall, makeRequestCallFromTimer } from './makeRequestCall.js'\n\nexport class AsapQueue {\n\tprivate queue: Task[] = []\n\t// We queue errors to ensure they are thrown in right order (FIFO).\n\t// Array-as-queue is good enough here, since we are just dealing with exceptions.\n\tprivate pendingErrors: any[] = []\n\t// Once a flush has been requested, no further calls to `requestFlush` are\n\t// necessary until the next `flush` completes.\n\t// @ts-ignore\n\tprivate flushing = false\n\t// `requestFlush` is an implementation-specific method that attempts to kick\n\t// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n\t// the event queue before yielding to the browser's own event loop.\n\tprivate requestFlush: () => void\n\n\tprivate requestErrorThrow: () => void\n\t// The position of the next task to execute in the task queue. This is\n\t// preserved between calls to `flush` so that it can be resumed if\n\t// a task throws an exception.\n\tprivate index = 0\n\t// If a task schedules additional tasks recursively, the task queue can grow\n\t// unbounded. To prevent memory exhaustion, the task queue will periodically\n\t// truncate already-completed tasks.\n\tprivate capacity = 1024\n\n\tpublic constructor() {\n\t\t// `requestFlush` requests that the high priority event queue be flushed as\n\t\t// soon as possible.\n\t\t// This is useful to prevent an error thrown in a task from stalling the event\n\t\t// queue if the exception handled by Node.jss\n\t\t// `process.on(\"uncaughtException\")` or by a domain.\n\n\t\t// `requestFlush` is implemented using a strategy based on data collected from\n\t\t// every available SauceLabs Selenium web driver worker at time of writing.\n\t\t// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\t\tthis.requestFlush = makeRequestCall(this.flush)\n\t\tthis.requestErrorThrow = makeRequestCallFromTimer(() => {\n\t\t\t// Throw first error\n\t\t\tif (this.pendingErrors.length) {\n\t\t\t\tthrow this.pendingErrors.shift()\n\t\t\t}\n\t\t})\n\t}\n\n\t// Use the fastest means possible to execute a task in its own turn, with\n\t// priority over other events including IO, animation, reflow, and redraw\n\t// events in browsers.\n\t//\n\t// An exception thrown by a task will permanently interrupt the processing of\n\t// subsequent tasks. The higher level `asap` function ensures that if an\n\t// exception is thrown by a task, that the task queue will continue flushing as\n\t// soon as possible, but if you use `rawAsap` directly, you are responsible to\n\t// either ensure that no exceptions are thrown from your task, or to manually\n\t// call `rawAsap.requestFlush` if an exception is thrown.\n\tpublic enqueueTask(task: Task): void {\n\t\tconst { queue: q, requestFlush } = this\n\t\tif (!q.length) {\n\t\t\trequestFlush()\n\t\t\tthis.flushing = true\n\t\t}\n\t\t// Equivalent to push, but avoids a function call.\n\t\tq[q.length] = task\n\t}\n\n\t// The flush function processes all tasks that have been scheduled with\n\t// `rawAsap` unless and until one of those tasks throws an exception.\n\t// If a task throws an exception, `flush` ensures that its state will remain\n\t// consistent and will resume where it left off when called again.\n\t// However, `flush` does not make any arrangements to be called again if an\n\t// exception is thrown.\n\tprivate flush = () => {\n\t\tconst { queue: q } = this\n\t\twhile (this.index < q.length) {\n\t\t\tconst currentIndex = this.index\n\t\t\t// Advance the index before calling the task. This ensures that we will\n\t\t\t// begin flushing on the next task the task throws an error.\n\t\t\tthis.index++\n\t\t\tq[currentIndex]!.call()\n\t\t\t// Prevent leaking memory for long chains of recursive calls to `asap`.\n\t\t\t// If we call `asap` within tasks scheduled by `asap`, the queue will\n\t\t\t// grow, but to avoid an O(n) walk for every task we execute, we don't\n\t\t\t// shift tasks off the queue after they have been executed.\n\t\t\t// Instead, we periodically shift 1024 tasks off the queue.\n\t\t\tif (this.index > this.capacity) {\n\t\t\t\t// Manually shift all values starting at the index back to the\n\t\t\t\t// beginning of the queue.\n\t\t\t\tfor (\n\t\t\t\t\tlet scan = 0, newLength = q.length - this.index;\n\t\t\t\t\tscan < newLength;\n\t\t\t\t\tscan++\n\t\t\t\t) {\n\t\t\t\t\tq[scan] = q[scan + this.index]!\n\t\t\t\t}\n\t\t\t\tq.length -= this.index\n\t\t\t\tthis.index = 0\n\t\t\t}\n\t\t}\n\t\tq.length = 0\n\t\tthis.index = 0\n\t\tthis.flushing = false\n\t}\n\n\t// In a web browser, exceptions are not fatal. However, to avoid\n\t// slowing down the queue of pending tasks, we rethrow the error in a\n\t// lower priority turn.\n\tpublic registerPendingError = (err: any) => {\n\t\tthis.pendingErrors.push(err)\n\t\tthis.requestErrorThrow()\n\t}\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// // its existence.\n// rawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n","import type { Task } from './types.js'\nimport { RawTask } from './RawTask.js'\n\nexport class TaskFactory {\n\tprivate freeTasks: RawTask[] = []\n\n\tpublic constructor(private onError: (err: any) => void) {}\n\n\tpublic create(task: () => void): Task {\n\t\tconst tasks = this.freeTasks\n\t\tconst t = tasks.length\n\t\t\t? (tasks.pop() as RawTask)\n\t\t\t: new RawTask(this.onError, (t) => (tasks[tasks.length] = t))\n\t\tt.task = task\n\t\treturn t\n\t}\n}\n","import { useEffect, memo } from 'react';\n/**\n * A utility for rendering a drag preview image\n */\n\nexport var DragPreviewImage = memo(function DragPreviewImage(_ref) {\n  var connect = _ref.connect,\n      src = _ref.src;\n  useEffect(function () {\n    if (typeof Image === 'undefined') return;\n    var connected = false;\n    var img = new Image();\n    img.src = src;\n\n    img.onload = function () {\n      connect(img);\n      connected = true;\n    };\n\n    return function () {\n      if (connected) {\n        connect(null);\n      }\n    };\n  });\n  return null;\n});","export function registerTarget(type, target, manager) {\n  var registry = manager.getRegistry();\n  var targetId = registry.addTarget(type, target);\n  return [targetId, function () {\n    return registry.removeTarget(targetId);\n  }];\n}\nexport function registerSource(type, source, manager) {\n  var registry = manager.getRegistry();\n  var sourceId = registry.addSource(type, source);\n  return [sourceId, function () {\n    return registry.removeSource(sourceId);\n  }];\n}","import { invariant } from '@react-dnd/invariant';\nimport { cloneElement, isValidElement } from 'react';\n\nfunction throwIfCompositeComponentElement(element) {\n  // Custom components can no longer be wrapped directly in React DnD 2.0\n  // so that we don't need to depend on findDOMNode() from react-dom.\n  if (typeof element.type === 'string') {\n    return;\n  }\n\n  var displayName = element.type.displayName || element.type.name || 'the component';\n  throw new Error('Only native element nodes can now be passed to React DnD connectors.' + \"You can either wrap \".concat(displayName, \" into a <div>, or turn it into a \") + 'drag source or a drop target itself.');\n}\n\nfunction wrapHookToRecognizeElement(hook) {\n  return function () {\n    var elementOrNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    // When passed a node, call the hook straight away.\n    if (!isValidElement(elementOrNode)) {\n      var node = elementOrNode;\n      hook(node, options); // return the node so it can be chained (e.g. when within callback refs\n      // <div ref={node => connectDragSource(connectDropTarget(node))}/>\n\n      return node;\n    } // If passed a ReactElement, clone it and attach this function as a ref.\n    // This helps us achieve a neat API where user doesn't even know that refs\n    // are being used under the hood.\n\n\n    var element = elementOrNode;\n    throwIfCompositeComponentElement(element); // When no options are passed, use the hook directly\n\n    var ref = options ? function (node) {\n      return hook(node, options);\n    } : hook;\n    return cloneWithRef(element, ref);\n  };\n}\n\nexport function wrapConnectorHooks(hooks) {\n  var wrappedHooks = {};\n  Object.keys(hooks).forEach(function (key) {\n    var hook = hooks[key]; // ref objects should be passed straight through without wrapping\n\n    if (key.endsWith('Ref')) {\n      wrappedHooks[key] = hooks[key];\n    } else {\n      var wrappedHook = wrapHookToRecognizeElement(hook);\n\n      wrappedHooks[key] = function () {\n        return wrappedHook;\n      };\n    }\n  });\n  return wrappedHooks;\n}\n\nfunction setRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else {\n    ref.current = node;\n  }\n}\n\nfunction cloneWithRef(element, newRef) {\n  var previousRef = element.ref;\n  invariant(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' + 'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' + 'Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs');\n\n  if (!previousRef) {\n    // When there is no ref on the element, use the new ref directly\n    return cloneElement(element, {\n      ref: newRef\n    });\n  } else {\n    return cloneElement(element, {\n      ref: function ref(node) {\n        setRef(previousRef, node);\n        setRef(newRef, node);\n      }\n    });\n  }\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function isRef(obj) {\n  return (// eslint-disable-next-line no-prototype-builtins\n    obj !== null && _typeof(obj) === 'object' && Object.prototype.hasOwnProperty.call(obj, 'current')\n  );\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { wrapConnectorHooks } from './wrapConnectorHooks';\nimport { isRef } from './isRef';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nexport var SourceConnector = /*#__PURE__*/function () {\n  // The drop target may either be attached via ref or connect function\n  // The drag preview may either be attached via ref or connect function\n  function SourceConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, SourceConnector);\n\n    _defineProperty(this, \"hooks\", wrapConnectorHooks({\n      dragSource: function dragSource(node, options) {\n        _this.clearDragSource();\n\n        _this.dragSourceOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragSourceRef = node;\n        } else {\n          _this.dragSourceNode = node;\n        }\n\n        _this.reconnectDragSource();\n      },\n      dragPreview: function dragPreview(node, options) {\n        _this.clearDragPreview();\n\n        _this.dragPreviewOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragPreviewRef = node;\n        } else {\n          _this.dragPreviewNode = node;\n        }\n\n        _this.reconnectDragPreview();\n      }\n    }));\n\n    _defineProperty(this, \"handlerId\", null);\n\n    _defineProperty(this, \"dragSourceRef\", null);\n\n    _defineProperty(this, \"dragSourceNode\", void 0);\n\n    _defineProperty(this, \"dragSourceOptionsInternal\", null);\n\n    _defineProperty(this, \"dragSourceUnsubscribe\", void 0);\n\n    _defineProperty(this, \"dragPreviewRef\", null);\n\n    _defineProperty(this, \"dragPreviewNode\", void 0);\n\n    _defineProperty(this, \"dragPreviewOptionsInternal\", null);\n\n    _defineProperty(this, \"dragPreviewUnsubscribe\", void 0);\n\n    _defineProperty(this, \"lastConnectedHandlerId\", null);\n\n    _defineProperty(this, \"lastConnectedDragSource\", null);\n\n    _defineProperty(this, \"lastConnectedDragSourceOptions\", null);\n\n    _defineProperty(this, \"lastConnectedDragPreview\", null);\n\n    _defineProperty(this, \"lastConnectedDragPreviewOptions\", null);\n\n    _defineProperty(this, \"backend\", void 0);\n\n    this.backend = backend;\n  }\n\n  _createClass(SourceConnector, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (this.handlerId === newHandlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dragSource;\n    }\n  }, {\n    key: \"dragSourceOptions\",\n    get: function get() {\n      return this.dragSourceOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragSourceOptionsInternal = options;\n    }\n  }, {\n    key: \"dragPreviewOptions\",\n    get: function get() {\n      return this.dragPreviewOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragPreviewOptionsInternal = options;\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      this.reconnectDragSource();\n      this.reconnectDragPreview();\n    }\n  }, {\n    key: \"reconnectDragSource\",\n    value: function reconnectDragSource() {\n      var dragSource = this.dragSource; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragSourceChange() || this.didDragSourceOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragSource();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragSource) {\n        this.lastConnectedDragSource = dragSource;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragSource = dragSource;\n        this.lastConnectedDragSourceOptions = this.dragSourceOptions;\n        this.dragSourceUnsubscribe = this.backend.connectDragSource(this.handlerId, dragSource, this.dragSourceOptions);\n      }\n    }\n  }, {\n    key: \"reconnectDragPreview\",\n    value: function reconnectDragPreview() {\n      var dragPreview = this.dragPreview; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragPreviewChange() || this.didDragPreviewOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragPreview();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragPreview) {\n        this.lastConnectedDragPreview = dragPreview;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragPreview = dragPreview;\n        this.lastConnectedDragPreviewOptions = this.dragPreviewOptions;\n        this.dragPreviewUnsubscribe = this.backend.connectDragPreview(this.handlerId, dragPreview, this.dragPreviewOptions);\n      }\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didConnectedDragSourceChange\",\n    value: function didConnectedDragSourceChange() {\n      return this.lastConnectedDragSource !== this.dragSource;\n    }\n  }, {\n    key: \"didConnectedDragPreviewChange\",\n    value: function didConnectedDragPreviewChange() {\n      return this.lastConnectedDragPreview !== this.dragPreview;\n    }\n  }, {\n    key: \"didDragSourceOptionsChange\",\n    value: function didDragSourceOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragSourceOptions, this.dragSourceOptions);\n    }\n  }, {\n    key: \"didDragPreviewOptionsChange\",\n    value: function didDragPreviewOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragPreviewOptions, this.dragPreviewOptions);\n    }\n  }, {\n    key: \"disconnectDragSource\",\n    value: function disconnectDragSource() {\n      if (this.dragSourceUnsubscribe) {\n        this.dragSourceUnsubscribe();\n        this.dragSourceUnsubscribe = undefined;\n      }\n    }\n  }, {\n    key: \"disconnectDragPreview\",\n    value: function disconnectDragPreview() {\n      if (this.dragPreviewUnsubscribe) {\n        this.dragPreviewUnsubscribe();\n        this.dragPreviewUnsubscribe = undefined;\n        this.dragPreviewNode = null;\n        this.dragPreviewRef = null;\n      }\n    }\n  }, {\n    key: \"dragSource\",\n    get: function get() {\n      return this.dragSourceNode || this.dragSourceRef && this.dragSourceRef.current;\n    }\n  }, {\n    key: \"dragPreview\",\n    get: function get() {\n      return this.dragPreviewNode || this.dragPreviewRef && this.dragPreviewRef.current;\n    }\n  }, {\n    key: \"clearDragSource\",\n    value: function clearDragSource() {\n      this.dragSourceNode = null;\n      this.dragSourceRef = null;\n    }\n  }, {\n    key: \"clearDragPreview\",\n    value: function clearDragPreview() {\n      this.dragPreviewNode = null;\n      this.dragPreviewRef = null;\n    }\n  }]);\n\n  return SourceConnector;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrag = false;\nvar isCallingIsDragging = false;\nexport var DragSourceMonitorImpl = /*#__PURE__*/function () {\n  function DragSourceMonitorImpl(manager) {\n    _classCallCheck(this, DragSourceMonitorImpl);\n\n    _defineProperty(this, \"internalMonitor\", void 0);\n\n    _defineProperty(this, \"sourceId\", null);\n\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DragSourceMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(sourceId) {\n      this.sourceId = sourceId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.sourceId;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      invariant(!isCallingCanDrag, 'You may not call monitor.canDrag() inside your canDrag() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingCanDrag = true;\n        return this.internalMonitor.canDragSource(this.sourceId);\n      } finally {\n        isCallingCanDrag = false;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      if (!this.sourceId) {\n        return false;\n      }\n\n      invariant(!isCallingIsDragging, 'You may not call monitor.isDragging() inside your isDragging() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingIsDragging = true;\n        return this.internalMonitor.isDraggingSource(this.sourceId);\n      } finally {\n        isCallingIsDragging = false;\n      }\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      return this.internalMonitor.isDraggingSource(sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId, options) {\n      return this.internalMonitor.isOverTarget(targetId, options);\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.internalMonitor.getTargetIds();\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return this.internalMonitor.isSourcePublic();\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.internalMonitor.getSourceId();\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      return this.internalMonitor.subscribeToOffsetChange(listener);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      return this.internalMonitor.canDragSource(sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      return this.internalMonitor.canDropOnTarget(targetId);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DragSourceMonitorImpl;\n}();","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function getDecoratedComponent(instanceRef) {\n  var currentRef = instanceRef.current;\n\n  if (currentRef == null) {\n    return null;\n  } else if (currentRef.decoratedRef) {\n    // go through the private field in decorateHandler to avoid the invariant hit\n    return currentRef.decoratedRef.current;\n  } else {\n    return currentRef;\n  }\n}\nexport function isClassComponent(Component) {\n  return Component && Component.prototype && typeof Component.prototype.render === 'function';\n}\nexport function isRefForwardingComponent(C) {\n  var _item$$$typeof;\n\n  var item = C;\n  return (item === null || item === void 0 ? void 0 : (_item$$$typeof = item.$$typeof) === null || _item$$$typeof === void 0 ? void 0 : _item$$$typeof.toString()) === 'Symbol(react.forward_ref)';\n}\nexport function isRefable(C) {\n  return isClassComponent(C) || isRefForwardingComponent(C);\n}\nexport function checkDecoratorArguments(functionName, signature) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var i = 0; i < (arguments.length <= 2 ? 0 : arguments.length - 2); i++) {\n      var arg = i + 2 < 2 || arguments.length <= i + 2 ? undefined : arguments[i + 2];\n\n      if (arg && arg.prototype && arg.prototype.render) {\n        // eslint-disable-next-line no-console\n        console.error('You seem to be applying the arguments in the wrong order. ' + \"It should be \".concat(functionName, \"(\").concat(signature, \")(Component), not the other way around. \") + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#you-seem-to-be-applying-the-arguments-in-the-wrong-order');\n        return;\n      }\n    }\n  }\n}\nexport function isFunction(input) {\n  return typeof input === 'function';\n}\nexport function noop() {// noop\n}\n\nfunction isObjectLike(input) {\n  return _typeof(input) === 'object' && input !== null;\n}\n\nexport function isPlainObject(input) {\n  if (!isObjectLike(input)) {\n    return false;\n  }\n\n  if (Object.getPrototypeOf(input) === null) {\n    return true;\n  }\n\n  var proto = input;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(input) === proto;\n}\nexport function isValidType(type, allowArray) {\n  return typeof type === 'string' || _typeof(type) === 'symbol' || !!allowArray && Array.isArray(type) && type.every(function (t) {\n    return isValidType(t, false);\n  });\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { isFunction, noop } from './utils';\n/**\n * Provides a set of static methods for creating Disposables.\n * @param {Function} action Action to run during the first call to dispose.\n * The action is guaranteed to be run at most once.\n */\n\nexport var Disposable = /*#__PURE__*/function () {\n  function Disposable(action) {\n    _classCallCheck(this, Disposable);\n\n    _defineProperty(this, \"isDisposed\", false);\n\n    _defineProperty(this, \"action\", void 0);\n\n    this.action = isFunction(action) ? action : noop;\n  }\n  /** Performs the task of cleaning up resources. */\n\n\n  _createClass(Disposable, [{\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.action();\n        this.isDisposed = true;\n      }\n    }\n  }], [{\n    key: \"isDisposable\",\n    value:\n    /**\n     * Gets the disposable that does nothing when disposed.\n     */\n\n    /**\n     * Validates whether the given object is a disposable\n     * @param {Object} Object to test whether it has a dispose method\n     * @returns {Boolean} true if a disposable object, else false.\n     */\n    function isDisposable(d) {\n      return Boolean(d && isFunction(d.dispose));\n    }\n  }, {\n    key: \"_fixup\",\n    value: function _fixup(result) {\n      return Disposable.isDisposable(result) ? result : Disposable.empty;\n    }\n    /**\n     * Creates a disposable object that invokes the specified action when disposed.\n     * @param {Function} dispose Action to run during the first call to dispose.\n     * The action is guaranteed to be run at most once.\n     * @return {Disposable} The disposable object that runs the given action upon disposal.\n     */\n\n  }, {\n    key: \"create\",\n    value: function create(action) {\n      return new Disposable(action);\n    }\n  }]);\n\n  return Disposable;\n}();\n/**\n * Represents a group of disposable resources that are disposed together.\n * @constructor\n */\n\n_defineProperty(Disposable, \"empty\", {\n  dispose: noop\n});\n\nexport var CompositeDisposable = /*#__PURE__*/function () {\n  function CompositeDisposable() {\n    _classCallCheck(this, CompositeDisposable);\n\n    _defineProperty(this, \"isDisposed\", false);\n\n    _defineProperty(this, \"disposables\", void 0);\n\n    for (var _len = arguments.length, disposables = new Array(_len), _key = 0; _key < _len; _key++) {\n      disposables[_key] = arguments[_key];\n    }\n\n    this.disposables = disposables;\n  }\n  /**\n   * Adds a disposable to the CompositeDisposable or disposes the disposable if the CompositeDisposable is disposed.\n   * @param {Any} item Disposable to add.\n   */\n\n\n  _createClass(CompositeDisposable, [{\n    key: \"add\",\n    value: function add(item) {\n      if (this.isDisposed) {\n        item.dispose();\n      } else {\n        this.disposables.push(item);\n      }\n    }\n    /**\n     * Removes and disposes the first occurrence of a disposable from the CompositeDisposable.\n     * @param {Any} item Disposable to remove.\n     * @returns {Boolean} true if found; false otherwise.\n     */\n\n  }, {\n    key: \"remove\",\n    value: function remove(item) {\n      var shouldDispose = false;\n\n      if (!this.isDisposed) {\n        var idx = this.disposables.indexOf(item);\n\n        if (idx !== -1) {\n          shouldDispose = true;\n          this.disposables.splice(idx, 1);\n          item.dispose();\n        }\n      }\n\n      return shouldDispose;\n    }\n    /**\n     *  Disposes all disposables in the group and removes them from the group but\n     *  does not dispose the CompositeDisposable.\n     */\n\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      if (!this.isDisposed) {\n        var len = this.disposables.length;\n        var currentDisposables = new Array(len);\n\n        for (var i = 0; i < len; i++) {\n          currentDisposables[i] = this.disposables[i];\n        }\n\n        this.disposables = [];\n\n        for (var _i = 0; _i < len; _i++) {\n          currentDisposables[_i].dispose();\n        }\n      }\n    }\n    /**\n     *  Disposes all disposables in the group and removes them from the group.\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        var len = this.disposables.length;\n        var currentDisposables = new Array(len);\n\n        for (var i = 0; i < len; i++) {\n          currentDisposables[i] = this.disposables[i];\n        }\n\n        this.disposables = [];\n\n        for (var _i2 = 0; _i2 < len; _i2++) {\n          currentDisposables[_i2].dispose();\n        }\n      }\n    }\n  }]);\n\n  return CompositeDisposable;\n}();\n/**\n * Represents a disposable resource whose underlying disposable resource can\n * be replaced by another disposable resource, causing automatic disposal of\n * the previous underlying disposable resource.\n */\n\nexport var SerialDisposable = /*#__PURE__*/function () {\n  function SerialDisposable() {\n    _classCallCheck(this, SerialDisposable);\n\n    _defineProperty(this, \"isDisposed\", false);\n\n    _defineProperty(this, \"current\", void 0);\n  }\n\n  _createClass(SerialDisposable, [{\n    key: \"getDisposable\",\n    value:\n    /**\n     * Gets the underlying disposable.\n     * @returns {Any} the underlying disposable.\n     */\n    function getDisposable() {\n      return this.current;\n    }\n  }, {\n    key: \"setDisposable\",\n    value: function setDisposable(value) {\n      var shouldDispose = this.isDisposed;\n\n      if (!shouldDispose) {\n        var old = this.current;\n        this.current = value;\n\n        if (old) {\n          old.dispose();\n        }\n      }\n\n      if (shouldDispose && value) {\n        value.dispose();\n      }\n    }\n    /** Performs the task of cleaning up resources. */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        var old = this.current;\n        this.current = undefined;\n\n        if (old) {\n          old.dispose();\n        }\n      }\n    }\n  }]);\n\n  return SerialDisposable;\n}();","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { createRef, Component } from 'react';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { invariant } from '@react-dnd/invariant';\nimport { DndContext } from '../core';\nimport { isPlainObject } from './utils';\nimport { Disposable, CompositeDisposable, SerialDisposable } from './disposables';\nimport { isRefable } from './utils';\nimport hoistStatics from 'hoist-non-react-statics';\nexport function decorateHandler(_ref) {\n  var DecoratedComponent = _ref.DecoratedComponent,\n      createHandler = _ref.createHandler,\n      createMonitor = _ref.createMonitor,\n      createConnector = _ref.createConnector,\n      registerHandler = _ref.registerHandler,\n      containerDisplayName = _ref.containerDisplayName,\n      getType = _ref.getType,\n      collect = _ref.collect,\n      options = _ref.options;\n  var _options$arePropsEqua = options.arePropsEqual,\n      arePropsEqual = _options$arePropsEqua === void 0 ? shallowEqual : _options$arePropsEqua;\n  var Decorated = DecoratedComponent;\n  var displayName = DecoratedComponent.displayName || DecoratedComponent.name || 'Component';\n\n  var DragDropContainer = /*#__PURE__*/function (_Component) {\n    _inherits(DragDropContainer, _Component);\n\n    var _super = _createSuper(DragDropContainer);\n\n    function DragDropContainer(props) {\n      var _this;\n\n      _classCallCheck(this, DragDropContainer);\n\n      _this = _super.call(this, props);\n\n      _defineProperty(_assertThisInitialized(_this), \"decoratedRef\", createRef());\n\n      _defineProperty(_assertThisInitialized(_this), \"handlerId\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"manager\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"handlerMonitor\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"handlerConnector\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"handler\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"disposable\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"currentType\", void 0);\n\n      _defineProperty(_assertThisInitialized(_this), \"handleChange\", function () {\n        var nextState = _this.getCurrentState();\n\n        if (!shallowEqual(nextState, _this.state)) {\n          _this.setState(nextState);\n        }\n      });\n\n      _this.disposable = new SerialDisposable();\n\n      _this.receiveProps(props);\n\n      _this.dispose();\n\n      return _this;\n    }\n\n    _createClass(DragDropContainer, [{\n      key: \"getHandlerId\",\n      value: function getHandlerId() {\n        return this.handlerId;\n      }\n    }, {\n      key: \"getDecoratedComponentInstance\",\n      value: function getDecoratedComponentInstance() {\n        invariant(this.decoratedRef.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');\n        return this.decoratedRef.current;\n      }\n    }, {\n      key: \"shouldComponentUpdate\",\n      value: function shouldComponentUpdate(nextProps, nextState) {\n        return !arePropsEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.disposable = new SerialDisposable();\n        this.currentType = undefined;\n        this.receiveProps(this.props);\n        this.handleChange();\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        if (!arePropsEqual(this.props, prevProps)) {\n          this.receiveProps(this.props);\n          this.handleChange();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.dispose();\n      }\n    }, {\n      key: \"receiveProps\",\n      value: function receiveProps(props) {\n        if (!this.handler) {\n          return;\n        }\n\n        this.handler.receiveProps(props);\n        this.receiveType(getType(props));\n      }\n    }, {\n      key: \"receiveType\",\n      value: function receiveType(type) {\n        if (!this.handlerMonitor || !this.manager || !this.handlerConnector) {\n          return;\n        }\n\n        if (type === this.currentType) {\n          return;\n        }\n\n        this.currentType = type;\n\n        var _registerHandler = registerHandler(type, this.handler, this.manager),\n            _registerHandler2 = _slicedToArray(_registerHandler, 2),\n            handlerId = _registerHandler2[0],\n            unregister = _registerHandler2[1];\n\n        this.handlerId = handlerId;\n        this.handlerMonitor.receiveHandlerId(handlerId);\n        this.handlerConnector.receiveHandlerId(handlerId);\n        var globalMonitor = this.manager.getMonitor();\n        var unsubscribe = globalMonitor.subscribeToStateChange(this.handleChange, {\n          handlerIds: [handlerId]\n        });\n        this.disposable.setDisposable(new CompositeDisposable(new Disposable(unsubscribe), new Disposable(unregister)));\n      }\n    }, {\n      key: \"dispose\",\n      value: function dispose() {\n        this.disposable.dispose();\n\n        if (this.handlerConnector) {\n          this.handlerConnector.receiveHandlerId(null);\n        }\n      }\n    }, {\n      key: \"getCurrentState\",\n      value: function getCurrentState() {\n        if (!this.handlerConnector) {\n          return {};\n        }\n\n        var nextState = collect(this.handlerConnector.hooks, this.handlerMonitor, this.props);\n\n        if (process.env.NODE_ENV !== 'production') {\n          invariant(isPlainObject(nextState), 'Expected `collect` specified as the second argument to ' + '%s for %s to return a plain object of props to inject. ' + 'Instead, received %s.', containerDisplayName, displayName, nextState);\n        }\n\n        return nextState;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n\n        return _jsx(DndContext.Consumer, {\n          children: function children(_ref2) {\n            var dragDropManager = _ref2.dragDropManager;\n\n            _this2.receiveDragDropManager(dragDropManager);\n\n            if (typeof requestAnimationFrame !== 'undefined') {\n              requestAnimationFrame(function () {\n                var _this2$handlerConnect;\n\n                return (_this2$handlerConnect = _this2.handlerConnector) === null || _this2$handlerConnect === void 0 ? void 0 : _this2$handlerConnect.reconnect();\n              });\n            }\n\n            return _jsx(Decorated, Object.assign({}, _this2.props, _this2.getCurrentState(), {\n              // NOTE: if Decorated is a Function Component, decoratedRef will not be populated unless it's a refforwarding component.\n              ref: isRefable(Decorated) ? _this2.decoratedRef : null\n            }), void 0);\n          }\n        }, void 0);\n      }\n    }, {\n      key: \"receiveDragDropManager\",\n      value: function receiveDragDropManager(dragDropManager) {\n        if (this.manager !== undefined) {\n          return;\n        }\n\n        invariant(dragDropManager !== undefined, 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to render a DndProvider component in your top-level component. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n\n        if (dragDropManager === undefined) {\n          return;\n        }\n\n        this.manager = dragDropManager;\n        this.handlerMonitor = createMonitor(dragDropManager);\n        this.handlerConnector = createConnector(dragDropManager.getBackend());\n        this.handler = createHandler(this.handlerMonitor, this.decoratedRef);\n      }\n    }]);\n\n    return DragDropContainer;\n  }(Component);\n\n  _defineProperty(DragDropContainer, \"DecoratedComponent\", DecoratedComponent);\n\n  _defineProperty(DragDropContainer, \"displayName\", \"\".concat(containerDisplayName, \"(\").concat(displayName, \")\"));\n\n  return hoistStatics(DragDropContainer, DecoratedComponent);\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { isPlainObject, getDecoratedComponent } from './utils';\nvar ALLOWED_SPEC_METHODS = ['canDrag', 'beginDrag', 'isDragging', 'endDrag'];\nvar REQUIRED_SPEC_METHODS = ['beginDrag'];\n\nvar SourceImpl = /*#__PURE__*/function () {\n  function SourceImpl(spec, monitor, ref) {\n    var _this = this;\n\n    _classCallCheck(this, SourceImpl);\n\n    _defineProperty(this, \"props\", null);\n\n    _defineProperty(this, \"spec\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"ref\", void 0);\n\n    _defineProperty(this, \"beginDrag\", function () {\n      if (!_this.props) {\n        return;\n      }\n\n      var item = _this.spec.beginDrag(_this.props, _this.monitor, _this.ref.current);\n\n      if (process.env.NODE_ENV !== 'production') {\n        invariant(isPlainObject(item), 'beginDrag() must return a plain object that represents the dragged item. ' + 'Instead received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', item);\n      }\n\n      return item;\n    });\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.ref = ref;\n  }\n\n  _createClass(SourceImpl, [{\n    key: \"receiveProps\",\n    value: function receiveProps(props) {\n      this.props = props;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      if (!this.props) {\n        return false;\n      }\n\n      if (!this.spec.canDrag) {\n        return true;\n      }\n\n      return this.spec.canDrag(this.props, this.monitor);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(globalMonitor, sourceId) {\n      if (!this.props) {\n        return false;\n      }\n\n      if (!this.spec.isDragging) {\n        return sourceId === globalMonitor.getSourceId();\n      }\n\n      return this.spec.isDragging(this.props, this.monitor);\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {\n      if (!this.props) {\n        return;\n      }\n\n      if (!this.spec.endDrag) {\n        return;\n      }\n\n      this.spec.endDrag(this.props, this.monitor, getDecoratedComponent(this.ref));\n    }\n  }]);\n\n  return SourceImpl;\n}();\n\nexport function createSourceFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drag source specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', ALLOWED_SPEC_METHODS.join(', '), key);\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);\n  });\n  REQUIRED_SPEC_METHODS.forEach(function (key) {\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);\n  });\n  return function createSource(monitor, ref) {\n    return new SourceImpl(spec, monitor, ref);\n  };\n}","import { invariant } from '@react-dnd/invariant';\nimport { registerSource, DragSourceMonitorImpl, SourceConnector } from '../internals';\nimport { checkDecoratorArguments, isPlainObject, isValidType } from './utils';\nimport { decorateHandler } from './decorateHandler';\nimport { createSourceFactory } from './createSourceFactory';\n/**\n * Decorates a component as a dragsource\n * @param type The dragsource type\n * @param spec The drag source specification\n * @param collect The props collector function\n * @param options DnD options\n */\n\nexport function DragSource(type, spec, collect) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  checkDecoratorArguments('DragSource', 'type, spec, collect[, options]', type, spec, collect, options);\n  var getType = type;\n\n  if (typeof type !== 'function') {\n    invariant(isValidType(type), 'Expected \"type\" provided as the first argument to DragSource to be ' + 'a string, or a function that returns a string given the current props. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', type);\n\n    getType = function getType() {\n      return type;\n    };\n  }\n\n  invariant(isPlainObject(spec), 'Expected \"spec\" provided as the second argument to DragSource to be ' + 'a plain object. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', spec);\n  var createSource = createSourceFactory(spec);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DragSource to be ' + 'a function that returns a plain object of props to inject. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the fourth argument to DragSource to be ' + 'a plain object when specified. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', collect);\n  return function decorateSource(DecoratedComponent) {\n    return decorateHandler({\n      containerDisplayName: 'DragSource',\n      createHandler: createSource,\n      registerHandler: registerSource,\n      createConnector: function createConnector(backend) {\n        return new SourceConnector(backend);\n      },\n      createMonitor: function createMonitor(manager) {\n        return new DragSourceMonitorImpl(manager);\n      },\n      DecoratedComponent: DecoratedComponent,\n      getType: getType,\n      collect: collect,\n      options: options\n    });\n  };\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrop = false;\nexport var DropTargetMonitorImpl = /*#__PURE__*/function () {\n  function DropTargetMonitorImpl(manager) {\n    _classCallCheck(this, DropTargetMonitorImpl);\n\n    _defineProperty(this, \"internalMonitor\", void 0);\n\n    _defineProperty(this, \"targetId\", null);\n\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DropTargetMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(targetId) {\n      this.targetId = targetId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.targetId;\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      // Cut out early if the target id has not been set. This should prevent errors\n      // where the user has an older version of dnd-core like in\n      // https://github.com/react-dnd/react-dnd/issues/1310\n      if (!this.targetId) {\n        return false;\n      }\n\n      invariant(!isCallingCanDrop, 'You may not call monitor.canDrop() inside your canDrop() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor');\n\n      try {\n        isCallingCanDrop = true;\n        return this.internalMonitor.canDropOnTarget(this.targetId);\n      } finally {\n        isCallingCanDrop = false;\n      }\n    }\n  }, {\n    key: \"isOver\",\n    value: function isOver(options) {\n      if (!this.targetId) {\n        return false;\n      }\n\n      return this.internalMonitor.isOverTarget(this.targetId, options);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DropTargetMonitorImpl;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { wrapConnectorHooks } from './wrapConnectorHooks';\nimport { isRef } from './isRef';\nexport var TargetConnector = /*#__PURE__*/function () {\n  // The drop target may either be attached via ref or connect function\n  function TargetConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, TargetConnector);\n\n    _defineProperty(this, \"hooks\", wrapConnectorHooks({\n      dropTarget: function dropTarget(node, options) {\n        _this.clearDropTarget();\n\n        _this.dropTargetOptions = options;\n\n        if (isRef(node)) {\n          _this.dropTargetRef = node;\n        } else {\n          _this.dropTargetNode = node;\n        }\n\n        _this.reconnect();\n      }\n    }));\n\n    _defineProperty(this, \"handlerId\", null);\n\n    _defineProperty(this, \"dropTargetRef\", null);\n\n    _defineProperty(this, \"dropTargetNode\", void 0);\n\n    _defineProperty(this, \"dropTargetOptionsInternal\", null);\n\n    _defineProperty(this, \"unsubscribeDropTarget\", void 0);\n\n    _defineProperty(this, \"lastConnectedHandlerId\", null);\n\n    _defineProperty(this, \"lastConnectedDropTarget\", null);\n\n    _defineProperty(this, \"lastConnectedDropTargetOptions\", null);\n\n    _defineProperty(this, \"backend\", void 0);\n\n    this.backend = backend;\n  }\n\n  _createClass(TargetConnector, [{\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dropTarget;\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      // if nothing has changed then don't resubscribe\n      var didChange = this.didHandlerIdChange() || this.didDropTargetChange() || this.didOptionsChange();\n\n      if (didChange) {\n        this.disconnectDropTarget();\n      }\n\n      var dropTarget = this.dropTarget;\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dropTarget) {\n        this.lastConnectedDropTarget = dropTarget;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDropTarget = dropTarget;\n        this.lastConnectedDropTargetOptions = this.dropTargetOptions;\n        this.unsubscribeDropTarget = this.backend.connectDropTarget(this.handlerId, dropTarget, this.dropTargetOptions);\n      }\n    }\n  }, {\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (newHandlerId === this.handlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"dropTargetOptions\",\n    get: function get() {\n      return this.dropTargetOptionsInternal;\n    },\n    set: function set(options) {\n      this.dropTargetOptionsInternal = options;\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didDropTargetChange\",\n    value: function didDropTargetChange() {\n      return this.lastConnectedDropTarget !== this.dropTarget;\n    }\n  }, {\n    key: \"didOptionsChange\",\n    value: function didOptionsChange() {\n      return !shallowEqual(this.lastConnectedDropTargetOptions, this.dropTargetOptions);\n    }\n  }, {\n    key: \"disconnectDropTarget\",\n    value: function disconnectDropTarget() {\n      if (this.unsubscribeDropTarget) {\n        this.unsubscribeDropTarget();\n        this.unsubscribeDropTarget = undefined;\n      }\n    }\n  }, {\n    key: \"dropTarget\",\n    get: function get() {\n      return this.dropTargetNode || this.dropTargetRef && this.dropTargetRef.current;\n    }\n  }, {\n    key: \"clearDropTarget\",\n    value: function clearDropTarget() {\n      this.dropTargetRef = null;\n      this.dropTargetNode = null;\n    }\n  }]);\n\n  return TargetConnector;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { isPlainObject, getDecoratedComponent } from './utils';\nvar ALLOWED_SPEC_METHODS = ['canDrop', 'hover', 'drop'];\n\nvar TargetImpl = /*#__PURE__*/function () {\n  function TargetImpl(spec, monitor, ref) {\n    _classCallCheck(this, TargetImpl);\n\n    _defineProperty(this, \"props\", null);\n\n    _defineProperty(this, \"spec\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"ref\", void 0);\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.ref = ref;\n  }\n\n  _createClass(TargetImpl, [{\n    key: \"receiveProps\",\n    value: function receiveProps(props) {\n      this.props = props;\n    }\n  }, {\n    key: \"receiveMonitor\",\n    value: function receiveMonitor(monitor) {\n      this.monitor = monitor;\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      if (!this.spec.canDrop) {\n        return true;\n      }\n\n      return this.spec.canDrop(this.props, this.monitor);\n    }\n  }, {\n    key: \"hover\",\n    value: function hover() {\n      if (!this.spec.hover || !this.props) {\n        return;\n      }\n\n      this.spec.hover(this.props, this.monitor, getDecoratedComponent(this.ref));\n    }\n  }, {\n    key: \"drop\",\n    value: function drop() {\n      if (!this.spec.drop) {\n        return undefined;\n      }\n\n      var dropResult = this.spec.drop(this.props, this.monitor, this.ref.current);\n\n      if (process.env.NODE_ENV !== 'production') {\n        invariant(typeof dropResult === 'undefined' || isPlainObject(dropResult), 'drop() must either return undefined, or an object that represents the drop result. ' + 'Instead received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', dropResult);\n      }\n\n      return dropResult;\n    }\n  }]);\n\n  return TargetImpl;\n}();\n\nexport function createTargetFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drop target specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', ALLOWED_SPEC_METHODS.join(', '), key);\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drop target specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', key, key, spec[key]);\n  });\n  return function createTarget(monitor, ref) {\n    return new TargetImpl(spec, monitor, ref);\n  };\n}","import { invariant } from '@react-dnd/invariant';\nimport { TargetConnector, DropTargetMonitorImpl, registerTarget } from '../internals';\nimport { isPlainObject, isValidType } from './utils';\nimport { checkDecoratorArguments } from './utils';\nimport { decorateHandler } from './decorateHandler';\nimport { createTargetFactory } from './createTargetFactory';\n/**\n * @param type The accepted target type\n * @param spec The DropTarget specification\n * @param collect The props collector function\n * @param options Options\n */\n\nexport function DropTarget(type, spec, collect) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  checkDecoratorArguments('DropTarget', 'type, spec, collect[, options]', type, spec, collect, options);\n  var getType = type;\n\n  if (typeof type !== 'function') {\n    invariant(isValidType(type, true), 'Expected \"type\" provided as the first argument to DropTarget to be ' + 'a string, an array of strings, or a function that returns either given ' + 'the current props. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', type);\n\n    getType = function getType() {\n      return type;\n    };\n  }\n\n  invariant(isPlainObject(spec), 'Expected \"spec\" provided as the second argument to DropTarget to be ' + 'a plain object. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', spec);\n  var createTarget = createTargetFactory(spec);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DropTarget to be ' + 'a function that returns a plain object of props to inject. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the fourth argument to DropTarget to be ' + 'a plain object when specified. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);\n  return function decorateTarget(DecoratedComponent) {\n    return decorateHandler({\n      containerDisplayName: 'DropTarget',\n      createHandler: createTarget,\n      registerHandler: registerTarget,\n      createMonitor: function createMonitor(manager) {\n        return new DropTargetMonitorImpl(manager);\n      },\n      createConnector: function createConnector(backend) {\n        return new TargetConnector(backend);\n      },\n      DecoratedComponent: DecoratedComponent,\n      getType: getType,\n      collect: collect,\n      options: options\n    });\n  };\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { createRef, Component } from 'react';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { invariant } from '@react-dnd/invariant';\nimport hoistStatics from 'hoist-non-react-statics';\nimport { DndContext } from '../core';\nimport { isRefable, checkDecoratorArguments, isPlainObject } from './utils';\n/**\n * @param collect The props collector function\n * @param options The DnD options\n */\n\nexport function DragLayer(collect) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  checkDecoratorArguments('DragLayer', 'collect[, options]', collect, options);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ', 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the second argument to DragLayer to be a plain object when specified. ' + 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', options);\n  return function decorateLayer(DecoratedComponent) {\n    var Decorated = DecoratedComponent;\n    var _options$arePropsEqua = options.arePropsEqual,\n        arePropsEqual = _options$arePropsEqua === void 0 ? shallowEqual : _options$arePropsEqua;\n    var displayName = Decorated.displayName || Decorated.name || 'Component';\n\n    var DragLayerContainer = /*#__PURE__*/function (_Component) {\n      _inherits(DragLayerContainer, _Component);\n\n      var _super = _createSuper(DragLayerContainer);\n\n      function DragLayerContainer() {\n        var _this;\n\n        _classCallCheck(this, DragLayerContainer);\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        _this = _super.call.apply(_super, [this].concat(args));\n\n        _defineProperty(_assertThisInitialized(_this), \"manager\", void 0);\n\n        _defineProperty(_assertThisInitialized(_this), \"isCurrentlyMounted\", false);\n\n        _defineProperty(_assertThisInitialized(_this), \"unsubscribeFromOffsetChange\", void 0);\n\n        _defineProperty(_assertThisInitialized(_this), \"unsubscribeFromStateChange\", void 0);\n\n        _defineProperty(_assertThisInitialized(_this), \"ref\", createRef());\n\n        _defineProperty(_assertThisInitialized(_this), \"handleChange\", function () {\n          if (!_this.isCurrentlyMounted) {\n            return;\n          }\n\n          var nextState = _this.getCurrentState();\n\n          if (!shallowEqual(nextState, _this.state)) {\n            _this.setState(nextState);\n          }\n        });\n\n        return _this;\n      }\n\n      _createClass(DragLayerContainer, [{\n        key: \"getDecoratedComponentInstance\",\n        value: function getDecoratedComponentInstance() {\n          invariant(this.ref.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');\n          return this.ref.current;\n        }\n      }, {\n        key: \"shouldComponentUpdate\",\n        value: function shouldComponentUpdate(nextProps, nextState) {\n          return !arePropsEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n        }\n      }, {\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          this.isCurrentlyMounted = true;\n          this.handleChange();\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          this.isCurrentlyMounted = false;\n\n          if (this.unsubscribeFromOffsetChange) {\n            this.unsubscribeFromOffsetChange();\n            this.unsubscribeFromOffsetChange = undefined;\n          }\n\n          if (this.unsubscribeFromStateChange) {\n            this.unsubscribeFromStateChange();\n            this.unsubscribeFromStateChange = undefined;\n          }\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          var _this2 = this;\n\n          return _jsx(DndContext.Consumer, {\n            children: function children(_ref) {\n              var dragDropManager = _ref.dragDropManager;\n\n              if (dragDropManager === undefined) {\n                return null;\n              }\n\n              _this2.receiveDragDropManager(dragDropManager); // Let componentDidMount fire to initialize the collected state\n\n\n              if (!_this2.isCurrentlyMounted) {\n                return null;\n              }\n\n              return _jsx(Decorated, Object.assign({}, _this2.props, _this2.state, {\n                ref: isRefable(Decorated) ? _this2.ref : null\n              }), void 0);\n            }\n          }, void 0);\n        }\n      }, {\n        key: \"receiveDragDropManager\",\n        value: function receiveDragDropManager(dragDropManager) {\n          if (this.manager !== undefined) {\n            return;\n          }\n\n          this.manager = dragDropManager;\n          invariant(_typeof(dragDropManager) === 'object', 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to render a DndProvider component in your top-level component. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n          var monitor = this.manager.getMonitor();\n          this.unsubscribeFromOffsetChange = monitor.subscribeToOffsetChange(this.handleChange);\n          this.unsubscribeFromStateChange = monitor.subscribeToStateChange(this.handleChange);\n        }\n      }, {\n        key: \"getCurrentState\",\n        value: function getCurrentState() {\n          if (!this.manager) {\n            return {};\n          }\n\n          var monitor = this.manager.getMonitor();\n          return collect(monitor, this.props);\n        }\n      }]);\n\n      return DragLayerContainer;\n    }(Component);\n\n    _defineProperty(DragLayerContainer, \"displayName\", \"DragLayer(\".concat(displayName, \")\"));\n\n    _defineProperty(DragLayerContainer, \"DecoratedComponent\", DecoratedComponent);\n\n    return hoistStatics(DragLayerContainer, DecoratedComponent);\n  };\n}","import { useLayoutEffect, useEffect } from 'react'; // suppress the useLayoutEffect warning on server side.\n\nexport var useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var DragSourceImpl = /*#__PURE__*/function () {\n  function DragSourceImpl(spec, monitor, connector) {\n    _classCallCheck(this, DragSourceImpl);\n\n    _defineProperty(this, \"spec\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"connector\", void 0);\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.connector = connector;\n  }\n\n  _createClass(DragSourceImpl, [{\n    key: \"beginDrag\",\n    value: function beginDrag() {\n      var _result;\n\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var result = null;\n\n      if (_typeof(spec.item) === 'object') {\n        result = spec.item;\n      } else if (typeof spec.item === 'function') {\n        result = spec.item(monitor);\n      } else {\n        result = {};\n      }\n\n      return (_result = result) !== null && _result !== void 0 ? _result : null;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (typeof spec.canDrag === 'boolean') {\n        return spec.canDrag;\n      } else if (typeof spec.canDrag === 'function') {\n        return spec.canDrag(monitor);\n      } else {\n        return true;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(globalMonitor, target) {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var isDragging = spec.isDragging;\n      return isDragging ? isDragging(monitor) : target === globalMonitor.getSourceId();\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      var connector = this.connector;\n      var end = spec.end;\n\n      if (end) {\n        end(monitor.getItem(), monitor);\n      }\n\n      connector.reconnect();\n    }\n  }]);\n\n  return DragSourceImpl;\n}();","import { useContext } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { DndContext } from '../core';\n/**\n * A hook to retrieve the DragDropManager from Context\n */\n\nexport function useDragDropManager() {\n  var _useContext = useContext(DndContext),\n      dragDropManager = _useContext.dragDropManager;\n\n  invariant(dragDropManager != null, 'Expected drag drop context');\n  return dragDropManager;\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { registerSource } from '../../internals';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nimport { useDragSource } from './useDragSource';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useDragType } from './useDragType';\nexport function useRegisteredDragSource(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var handler = useDragSource(spec, monitor, connector);\n  var itemType = useDragType(spec);\n  useIsomorphicLayoutEffect(function registerDragSource() {\n    if (itemType != null) {\n      var _registerSource = registerSource(itemType, handler, manager),\n          _registerSource2 = _slicedToArray(_registerSource, 2),\n          handlerId = _registerSource2[0],\n          unregister = _registerSource2[1];\n\n      monitor.receiveHandlerId(handlerId);\n      connector.receiveHandlerId(handlerId);\n      return unregister;\n    }\n  }, [manager, monitor, connector, handler, itemType]);\n}","import { useEffect, useMemo } from 'react';\nimport { DragSourceImpl } from './DragSourceImpl';\nexport function useDragSource(spec, monitor, connector) {\n  var handler = useMemo(function () {\n    return new DragSourceImpl(spec, monitor, connector);\n  }, [monitor, connector]);\n  useEffect(function () {\n    handler.spec = spec;\n  }, [spec]);\n  return handler;\n}","import { invariant } from '@react-dnd/invariant';\nimport { useMemo } from 'react';\nexport function useDragType(spec) {\n  return useMemo(function () {\n    var result = spec.type;\n    invariant(result != null, 'spec.type must be defined');\n    return result;\n  }, [spec]);\n}","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { useMemo } from 'react';\nexport function useOptionalFactory(arg, deps) {\n  var memoDeps = _toConsumableArray(deps || []);\n\n  if (deps == null && typeof arg !== 'function') {\n    memoDeps.push(arg);\n  }\n\n  return useMemo(function () {\n    return typeof arg === 'function' ? arg() : arg;\n  }, memoDeps);\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport equal from 'fast-deep-equal';\nimport { useState, useCallback } from 'react';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\n/**\n *\n * @param monitor The monitor to collect state from\n * @param collect The collecting function\n * @param onUpdate A method to invoke when updates occur\n */\n\nexport function useCollector(monitor, collect, onUpdate) {\n  var _useState = useState(function () {\n    return collect(monitor);\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      collected = _useState2[0],\n      setCollected = _useState2[1];\n\n  var updateCollected = useCallback(function () {\n    var nextValue = collect(monitor); // This needs to be a deep-equality check because some monitor-collected values\n    // include XYCoord objects that may be equivalent, but do not have instance equality.\n\n    if (!equal(collected, nextValue)) {\n      setCollected(nextValue);\n\n      if (onUpdate) {\n        onUpdate();\n      }\n    }\n  }, [collected, monitor, onUpdate]); // update the collected properties after react renders.\n  // Note that the \"Dustbin Stress Test\" fails if this is not\n  // done when the component updates\n\n  useIsomorphicLayoutEffect(updateCollected);\n  return [collected, updateCollected];\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nimport { useCollector } from './useCollector';\nexport function useMonitorOutput(monitor, collect, onCollect) {\n  var _useCollector = useCollector(monitor, collect, onCollect),\n      _useCollector2 = _slicedToArray(_useCollector, 2),\n      collected = _useCollector2[0],\n      updateCollected = _useCollector2[1];\n\n  useIsomorphicLayoutEffect(function subscribeToMonitorStateChange() {\n    var handlerId = monitor.getHandlerId();\n\n    if (handlerId == null) {\n      return;\n    }\n\n    return monitor.subscribeToStateChange(updateCollected, {\n      handlerIds: [handlerId]\n    });\n  }, [monitor, updateCollected]);\n  return collected;\n}","import { useMonitorOutput } from './useMonitorOutput';\nexport function useCollectedProps(collector, monitor, connector) {\n  return useMonitorOutput(monitor, collector || function () {\n    return {};\n  }, function () {\n    return connector.reconnect();\n  });\n}","import { useMemo } from 'react';\nexport function useConnectDragSource(connector) {\n  return useMemo(function () {\n    return connector.hooks.dragSource();\n  }, [connector]);\n}\nexport function useConnectDragPreview(connector) {\n  return useMemo(function () {\n    return connector.hooks.dragPreview();\n  }, [connector]);\n}","import { useRegisteredDragSource } from './useRegisteredDragSource';\nimport { useOptionalFactory } from '../useOptionalFactory';\nimport { useDragSourceMonitor } from './useDragSourceMonitor';\nimport { useDragSourceConnector } from './useDragSourceConnector';\nimport { useCollectedProps } from '../useCollectedProps';\nimport { useConnectDragPreview, useConnectDragSource } from './connectors';\nimport { invariant } from '@react-dnd/invariant';\n/**\n * useDragSource hook\n * @param sourceSpec The drag source specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\n\nexport function useDrag(specArg, deps) {\n  var spec = useOptionalFactory(specArg, deps);\n  invariant(!spec.begin, \"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)\");\n  var monitor = useDragSourceMonitor();\n  var connector = useDragSourceConnector(spec.options, spec.previewOptions);\n  useRegisteredDragSource(spec, monitor, connector);\n  return [useCollectedProps(spec.collect, monitor, connector), useConnectDragSource(connector), useConnectDragPreview(connector)];\n}","import { useMemo } from 'react';\nimport { DragSourceMonitorImpl } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nexport function useDragSourceMonitor() {\n  var manager = useDragDropManager();\n  return useMemo(function () {\n    return new DragSourceMonitorImpl(manager);\n  }, [manager]);\n}","import { useMemo } from 'react';\nimport { SourceConnector } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nexport function useDragSourceConnector(dragSourceOptions, dragPreviewOptions) {\n  var manager = useDragDropManager();\n  var connector = useMemo(function () {\n    return new SourceConnector(manager.getBackend());\n  }, [manager]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragSourceOptions = dragSourceOptions || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDragSource();\n    };\n  }, [connector, dragSourceOptions]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragPreviewOptions = dragPreviewOptions || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDragPreview();\n    };\n  }, [connector, dragPreviewOptions]);\n  return connector;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var DropTargetImpl = /*#__PURE__*/function () {\n  function DropTargetImpl(spec, monitor) {\n    _classCallCheck(this, DropTargetImpl);\n\n    _defineProperty(this, \"spec\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    this.spec = spec;\n    this.monitor = monitor;\n  }\n\n  _createClass(DropTargetImpl, [{\n    key: \"canDrop\",\n    value: function canDrop() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n      return spec.canDrop ? spec.canDrop(monitor.getItem(), monitor) : true;\n    }\n  }, {\n    key: \"hover\",\n    value: function hover() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (spec.hover) {\n        spec.hover(monitor.getItem(), monitor);\n      }\n    }\n  }, {\n    key: \"drop\",\n    value: function drop() {\n      var spec = this.spec;\n      var monitor = this.monitor;\n\n      if (spec.drop) {\n        return spec.drop(monitor.getItem(), monitor);\n      }\n    }\n  }]);\n\n  return DropTargetImpl;\n}();","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { registerTarget } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nimport { useAccept } from './useAccept';\nimport { useDropTarget } from './useDropTarget';\nexport function useRegisteredDropTarget(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var dropTarget = useDropTarget(spec, monitor);\n  var accept = useAccept(spec);\n  useIsomorphicLayoutEffect(function registerDropTarget() {\n    var _registerTarget = registerTarget(accept, dropTarget, manager),\n        _registerTarget2 = _slicedToArray(_registerTarget, 2),\n        handlerId = _registerTarget2[0],\n        unregister = _registerTarget2[1];\n\n    monitor.receiveHandlerId(handlerId);\n    connector.receiveHandlerId(handlerId);\n    return unregister;\n  }, [manager, monitor, dropTarget, connector, accept.map(function (a) {\n    return a.toString();\n  }).join('|')]);\n}","import { useEffect, useMemo } from 'react';\nimport { DropTargetImpl } from './DropTargetImpl';\nexport function useDropTarget(spec, monitor) {\n  var dropTarget = useMemo(function () {\n    return new DropTargetImpl(spec, monitor);\n  }, [monitor]);\n  useEffect(function () {\n    dropTarget.spec = spec;\n  }, [spec]);\n  return dropTarget;\n}","import { invariant } from '@react-dnd/invariant';\nimport { useMemo } from 'react';\n/**\n * Internal utility hook to get an array-version of spec.accept.\n * The main utility here is that we aren't creating a new array on every render if a non-array spec.accept is passed in.\n * @param spec\n */\n\nexport function useAccept(spec) {\n  var accept = spec.accept;\n  return useMemo(function () {\n    invariant(spec.accept != null, 'accept must be defined');\n    return Array.isArray(accept) ? accept : [accept];\n  }, [accept]);\n}","import { useMemo } from 'react';\nexport function useConnectDropTarget(connector) {\n  return useMemo(function () {\n    return connector.hooks.dropTarget();\n  }, [connector]);\n}","import { useRegisteredDropTarget } from './useRegisteredDropTarget';\nimport { useOptionalFactory } from '../useOptionalFactory';\nimport { useDropTargetMonitor } from './useDropTargetMonitor';\nimport { useDropTargetConnector } from './useDropTargetConnector';\nimport { useCollectedProps } from '../useCollectedProps';\nimport { useConnectDropTarget } from './connectors';\n/**\n * useDropTarget Hook\n * @param spec The drop target specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\n\nexport function useDrop(specArg, deps) {\n  var spec = useOptionalFactory(specArg, deps);\n  var monitor = useDropTargetMonitor();\n  var connector = useDropTargetConnector(spec.options);\n  useRegisteredDropTarget(spec, monitor, connector);\n  return [useCollectedProps(spec.collect, monitor, connector), useConnectDropTarget(connector)];\n}","import { useMemo } from 'react';\nimport { DropTargetMonitorImpl } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nexport function useDropTargetMonitor() {\n  var manager = useDragDropManager();\n  return useMemo(function () {\n    return new DropTargetMonitorImpl(manager);\n  }, [manager]);\n}","import { useMemo } from 'react';\nimport { TargetConnector } from '../../internals';\nimport { useDragDropManager } from '../useDragDropManager';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nexport function useDropTargetConnector(options) {\n  var manager = useDragDropManager();\n  var connector = useMemo(function () {\n    return new TargetConnector(manager.getBackend());\n  }, [manager]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dropTargetOptions = options || null;\n    connector.reconnect();\n    return function () {\n      return connector.disconnectDropTarget();\n    };\n  }, [options]);\n  return connector;\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useEffect } from 'react';\nimport { useDragDropManager } from './useDragDropManager';\nimport { useCollector } from './useCollector';\n/**\n * useDragLayer Hook\n * @param collector The property collector\n */\n\nexport function useDragLayer(collect) {\n  var dragDropManager = useDragDropManager();\n  var monitor = dragDropManager.getMonitor();\n\n  var _useCollector = useCollector(monitor, collect),\n      _useCollector2 = _slicedToArray(_useCollector, 2),\n      collected = _useCollector2[0],\n      updateCollected = _useCollector2[1];\n\n  useEffect(function () {\n    return monitor.subscribeToOffsetChange(updateCollected);\n  });\n  useEffect(function () {\n    return monitor.subscribeToStateChange(updateCollected);\n  });\n  return collected;\n}","function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}\nmodule.exports = _taggedTemplateLiteral, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar jsxRuntime = require('react/jsx-runtime');\nvar React = require('react');\nvar withScrolling = require('@nosferatu500/react-dnd-scrollzone');\nvar isEqual = require('lodash.isequal');\nvar reactDnd = require('react-dnd');\nvar reactDndHtml5Backend = require('react-dnd-html5-backend');\nvar reactVirtuoso = require('react-virtuoso');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nvar React__default = /*#__PURE__*/_interopDefaultLegacy(React);\nvar withScrolling__default = /*#__PURE__*/_interopDefaultLegacy(withScrolling);\nvar isEqual__default = /*#__PURE__*/_interopDefaultLegacy(isEqual);\n\nconst defaultGetNodeKey = ({\n  treeIndex\n}) => treeIndex;\n\nconst getReactElementText = parent => {\n  if (typeof parent === \"string\") {\n    return parent;\n  }\n\n  if (parent === undefined || typeof parent !== \"object\" || !parent.props || !parent.props.children || typeof parent.props.children !== \"string\" && typeof parent.props.children !== \"object\") {\n    return \"\";\n  }\n\n  if (typeof parent.props.children === \"string\") {\n    return parent.props.children;\n  }\n\n  return parent.props.children.map(child => getReactElementText(child)).join(\"\");\n};\n\nconst stringSearch = (key, searchQuery, node, path, treeIndex) => {\n  if (typeof node[key] === \"function\") {\n    return String(node[key]({\n      node,\n      path,\n      treeIndex\n    })).includes(searchQuery);\n  }\n\n  if (typeof node[key] === \"object\") {\n    return getReactElementText(node[key]).includes(searchQuery);\n  }\n\n  return node[key] && String(node[key]).includes(searchQuery);\n};\n\nconst defaultSearchMethod = ({\n  node,\n  path,\n  treeIndex,\n  searchQuery\n}) => {\n  return stringSearch(\"title\", searchQuery, node, path, treeIndex) || stringSearch(\"subtitle\", searchQuery, node, path, treeIndex);\n};\n\nconst getNodeDataAtTreeIndexOrNextIndex = ({\n  targetIndex,\n  node,\n  currentIndex,\n  getNodeKey,\n  path = [],\n  lowerSiblingCounts = [],\n  ignoreCollapsed = true,\n  isPseudoRoot = false\n}) => {\n  const selfPath = !isPseudoRoot ? [...path, getNodeKey({\n    node,\n    treeIndex: currentIndex\n  })] : [];\n\n  if (currentIndex === targetIndex) {\n    return {\n      node,\n      lowerSiblingCounts,\n      path: selfPath\n    };\n  }\n\n  if (!node.children || ignoreCollapsed && node.expanded !== true) {\n    return {\n      nextIndex: currentIndex + 1\n    };\n  }\n\n  let childIndex = currentIndex + 1;\n  const childCount = node.children.length;\n\n  for (let i = 0; i < childCount; i += 1) {\n    const result = getNodeDataAtTreeIndexOrNextIndex({\n      ignoreCollapsed,\n      getNodeKey,\n      targetIndex,\n      node: node.children[i],\n      currentIndex: childIndex,\n      lowerSiblingCounts: [...lowerSiblingCounts, childCount - i - 1],\n      path: selfPath\n    });\n\n    if (result.node) {\n      return result;\n    }\n\n    childIndex = result.nextIndex;\n  }\n\n  return {\n    nextIndex: childIndex\n  };\n};\n\nconst getDescendantCount = ({\n  node,\n  ignoreCollapsed = true\n}) => {\n  return getNodeDataAtTreeIndexOrNextIndex({\n    getNodeKey: () => {},\n    ignoreCollapsed,\n    node,\n    currentIndex: 0,\n    targetIndex: -1\n  }).nextIndex - 1;\n};\n\nconst walkDescendants = ({\n  callback,\n  getNodeKey,\n  ignoreCollapsed,\n  isPseudoRoot = false,\n  node,\n  parentNode = undefined,\n  currentIndex,\n  path = [],\n  lowerSiblingCounts = []\n}) => {\n  const selfPath = isPseudoRoot ? [] : [...path, getNodeKey({\n    node,\n    treeIndex: currentIndex\n  })];\n  const selfInfo = isPseudoRoot ? undefined : {\n    node,\n    parentNode,\n    path: selfPath,\n    lowerSiblingCounts,\n    treeIndex: currentIndex\n  };\n\n  if (!isPseudoRoot) {\n    const callbackResult = callback(selfInfo);\n\n    if (callbackResult === false) {\n      return false;\n    }\n  }\n\n  if (!node.children || node.expanded !== true && ignoreCollapsed && !isPseudoRoot) {\n    return currentIndex;\n  }\n\n  let childIndex = currentIndex;\n  const childCount = node.children.length;\n\n  if (typeof node.children !== \"function\") {\n    for (let i = 0; i < childCount; i += 1) {\n      childIndex = walkDescendants({\n        callback,\n        getNodeKey,\n        ignoreCollapsed,\n        node: node.children[i],\n        parentNode: isPseudoRoot ? undefined : node,\n        currentIndex: childIndex + 1,\n        lowerSiblingCounts: [...lowerSiblingCounts, childCount - i - 1],\n        path: selfPath\n      });\n\n      if (childIndex === false) {\n        return false;\n      }\n    }\n  }\n\n  return childIndex;\n};\n\nconst mapDescendants = ({\n  callback,\n  getNodeKey,\n  ignoreCollapsed,\n  isPseudoRoot = false,\n  node,\n  parentNode = undefined,\n  currentIndex,\n  path = [],\n  lowerSiblingCounts = []\n}) => {\n  const nextNode = { ...node\n  };\n  const selfPath = isPseudoRoot ? [] : [...path, getNodeKey({\n    node: nextNode,\n    treeIndex: currentIndex\n  })];\n  const selfInfo = {\n    node: nextNode,\n    parentNode,\n    path: selfPath,\n    lowerSiblingCounts,\n    treeIndex: currentIndex\n  };\n\n  if (!nextNode.children || nextNode.expanded !== true && ignoreCollapsed && !isPseudoRoot) {\n    return {\n      treeIndex: currentIndex,\n      node: callback(selfInfo)\n    };\n  }\n\n  let childIndex = currentIndex;\n  const childCount = nextNode.children.length;\n\n  if (typeof nextNode.children !== \"function\") {\n    nextNode.children = nextNode.children.map((child, i) => {\n      const mapResult = mapDescendants({\n        callback,\n        getNodeKey,\n        ignoreCollapsed,\n        node: child,\n        parentNode: isPseudoRoot ? undefined : nextNode,\n        currentIndex: childIndex + 1,\n        lowerSiblingCounts: [...lowerSiblingCounts, childCount - i - 1],\n        path: selfPath\n      });\n      childIndex = mapResult.treeIndex;\n      return mapResult.node;\n    });\n  }\n\n  return {\n    node: callback(selfInfo),\n    treeIndex: childIndex\n  };\n};\n\nconst getVisibleNodeCount = ({\n  treeData\n}) => {\n  const traverse = node => {\n    if (!node.children || node.expanded !== true || typeof node.children === \"function\") {\n      return 1;\n    }\n\n    return 1 + node.children.reduce((total, currentNode) => total + traverse(currentNode), 0);\n  };\n\n  return treeData.reduce((total, currentNode) => total + traverse(currentNode), 0);\n};\nconst getVisibleNodeInfoAtIndex = ({\n  treeData,\n  index: targetIndex,\n  getNodeKey\n}) => {\n  if (!treeData || treeData.length === 0) {\n    return undefined;\n  }\n\n  const result = getNodeDataAtTreeIndexOrNextIndex({\n    targetIndex,\n    getNodeKey,\n    node: {\n      children: treeData,\n      expanded: true\n    },\n    currentIndex: -1,\n    path: [],\n    lowerSiblingCounts: [],\n    isPseudoRoot: true\n  });\n\n  if (result.node) {\n    return result;\n  }\n\n  return undefined;\n};\nconst walk = ({\n  treeData,\n  getNodeKey,\n  callback,\n  ignoreCollapsed = true\n}) => {\n  if (!treeData || treeData.length === 0) {\n    return;\n  }\n\n  walkDescendants({\n    callback,\n    getNodeKey,\n    ignoreCollapsed,\n    isPseudoRoot: true,\n    node: {\n      children: treeData\n    },\n    currentIndex: -1,\n    path: [],\n    lowerSiblingCounts: []\n  });\n};\nconst map = ({\n  treeData,\n  getNodeKey,\n  callback,\n  ignoreCollapsed = true\n}) => {\n  if (!treeData || treeData.length === 0) {\n    return [];\n  }\n\n  return mapDescendants({\n    callback,\n    getNodeKey,\n    ignoreCollapsed,\n    isPseudoRoot: true,\n    node: {\n      children: treeData\n    },\n    currentIndex: -1,\n    path: [],\n    lowerSiblingCounts: []\n  }).node.children;\n};\nconst toggleExpandedForAll = ({\n  treeData,\n  expanded = true\n}) => {\n  return map({\n    treeData,\n    callback: ({\n      node\n    }) => ({ ...node,\n      expanded\n    }),\n    getNodeKey: ({\n      treeIndex\n    }) => treeIndex,\n    ignoreCollapsed: false\n  });\n};\nconst changeNodeAtPath = ({\n  treeData,\n  path,\n  newNode,\n  getNodeKey,\n  ignoreCollapsed = true\n}) => {\n  const RESULT_MISS = \"RESULT_MISS\";\n\n  const traverse = ({\n    isPseudoRoot = false,\n    node,\n    currentTreeIndex,\n    pathIndex\n  }) => {\n    if (!isPseudoRoot && getNodeKey({\n      node,\n      treeIndex: currentTreeIndex\n    }) !== path[pathIndex]) {\n      return RESULT_MISS;\n    }\n\n    if (pathIndex >= path.length - 1) {\n      return typeof newNode === \"function\" ? newNode({\n        node,\n        treeIndex: currentTreeIndex\n      }) : newNode;\n    }\n\n    if (!node.children) {\n      throw new Error(\"Path referenced children of node with no children.\");\n    }\n\n    let nextTreeIndex = currentTreeIndex + 1;\n\n    for (let i = 0; i < node.children.length; i += 1) {\n      const result = traverse({\n        node: node.children[i],\n        currentTreeIndex: nextTreeIndex,\n        pathIndex: pathIndex + 1\n      });\n\n      if (result !== RESULT_MISS) {\n        if (result) {\n          return { ...node,\n            children: [...node.children.slice(0, i), result, ...node.children.slice(i + 1)]\n          };\n        }\n\n        return { ...node,\n          children: [...node.children.slice(0, i), ...node.children.slice(i + 1)]\n        };\n      }\n\n      nextTreeIndex += 1 + getDescendantCount({\n        node: node.children[i],\n        ignoreCollapsed\n      });\n    }\n\n    return RESULT_MISS;\n  };\n\n  const result = traverse({\n    node: {\n      children: treeData\n    },\n    currentTreeIndex: -1,\n    pathIndex: -1,\n    isPseudoRoot: true\n  });\n\n  if (result === RESULT_MISS) {\n    throw new Error(\"No node found at the given path.\");\n  }\n\n  return result.children;\n};\nconst removeNodeAtPath = ({\n  treeData,\n  path,\n  getNodeKey,\n  ignoreCollapsed = true\n}) => {\n  return changeNodeAtPath({\n    treeData,\n    path,\n    getNodeKey,\n    ignoreCollapsed,\n    newNode: undefined\n  });\n};\nconst removeNode = ({\n  treeData,\n  path,\n  getNodeKey,\n  ignoreCollapsed = true\n}) => {\n  let removedNode;\n  let removedTreeIndex;\n  const nextTreeData = changeNodeAtPath({\n    treeData,\n    path,\n    getNodeKey,\n    ignoreCollapsed,\n    newNode: ({\n      node,\n      treeIndex\n    }) => {\n      removedNode = node;\n      removedTreeIndex = treeIndex;\n      return undefined;\n    }\n  });\n  return {\n    treeData: nextTreeData,\n    node: removedNode,\n    treeIndex: removedTreeIndex\n  };\n};\nconst getNodeAtPath = ({\n  treeData,\n  path,\n  getNodeKey,\n  ignoreCollapsed = true\n}) => {\n  let foundNodeInfo;\n\n  try {\n    changeNodeAtPath({\n      treeData,\n      path,\n      getNodeKey,\n      ignoreCollapsed,\n      newNode: ({\n        node,\n        treeIndex\n      }) => {\n        foundNodeInfo = {\n          node,\n          treeIndex\n        };\n        return node;\n      }\n    });\n  } catch {}\n\n  return foundNodeInfo;\n};\nconst addNodeUnderParent = ({\n  treeData,\n  newNode,\n  parentKey = undefined,\n  getNodeKey,\n  ignoreCollapsed = true,\n  expandParent = false,\n  addAsFirstChild = false\n}) => {\n  if (parentKey === null || parentKey === undefined) {\n    return addAsFirstChild ? {\n      treeData: [newNode, ...(treeData || [])],\n      treeIndex: 0\n    } : {\n      treeData: [...(treeData || []), newNode],\n      treeIndex: (treeData || []).length\n    };\n  }\n\n  let insertedTreeIndex;\n  let hasBeenAdded = false;\n  const changedTreeData = map({\n    treeData,\n    getNodeKey,\n    ignoreCollapsed,\n    callback: ({\n      node,\n      treeIndex,\n      path\n    }) => {\n      const key = path ? path[path.length - 1] : undefined;\n\n      if (hasBeenAdded || key !== parentKey) {\n        return node;\n      }\n\n      hasBeenAdded = true;\n      const parentNode = { ...node\n      };\n\n      if (expandParent) {\n        parentNode.expanded = true;\n      }\n\n      if (!parentNode.children) {\n        insertedTreeIndex = treeIndex + 1;\n        return { ...parentNode,\n          children: [newNode]\n        };\n      }\n\n      if (typeof parentNode.children === \"function\") {\n        throw new TypeError(\"Cannot add to children defined by a function\");\n      }\n\n      let nextTreeIndex = treeIndex + 1;\n\n      for (let i = 0; i < parentNode.children.length; i += 1) {\n        nextTreeIndex += 1 + getDescendantCount({\n          node: parentNode.children[i],\n          ignoreCollapsed\n        });\n      }\n\n      insertedTreeIndex = nextTreeIndex;\n      const children = addAsFirstChild ? [newNode, ...parentNode.children] : [...parentNode.children, newNode];\n      return { ...parentNode,\n        children\n      };\n    }\n  });\n\n  if (!hasBeenAdded) {\n    throw new Error(\"No node found with the given key.\");\n  }\n\n  return {\n    treeData: changedTreeData,\n    treeIndex: insertedTreeIndex\n  };\n};\n\nconst addNodeAtDepthAndIndex = ({\n  targetDepth,\n  minimumTreeIndex,\n  newNode,\n  ignoreCollapsed,\n  expandParent,\n  isPseudoRoot = false,\n  isLastChild,\n  node,\n  currentIndex,\n  currentDepth,\n  getNodeKey,\n  path = []\n}) => {\n  const selfPath = n => isPseudoRoot ? [] : [...path, getNodeKey({\n    node: n,\n    treeIndex: currentIndex\n  })];\n\n  if (currentIndex >= minimumTreeIndex - 1 || isLastChild && !(node.children && node.children.length > 0)) {\n    if (typeof node.children === \"function\") {\n      throw new TypeError(\"Cannot add to children defined by a function\");\n    } else {\n      const extraNodeProps = expandParent ? {\n        expanded: true\n      } : {};\n      const nextNode = { ...node,\n        ...extraNodeProps,\n        children: node.children ? [newNode, ...node.children] : [newNode]\n      };\n      return {\n        node: nextNode,\n        nextIndex: currentIndex + 2,\n        insertedTreeIndex: currentIndex + 1,\n        parentPath: selfPath(nextNode),\n        parentNode: isPseudoRoot ? undefined : nextNode\n      };\n    }\n  }\n\n  if (currentDepth >= targetDepth - 1) {\n    if (!node.children || typeof node.children === \"function\" || node.expanded !== true && ignoreCollapsed && !isPseudoRoot) {\n      return {\n        node,\n        nextIndex: currentIndex + 1\n      };\n    }\n\n    let childIndex = currentIndex + 1;\n    let insertedTreeIndex;\n    let insertIndex;\n\n    for (let i = 0; i < node.children.length; i += 1) {\n      if (childIndex >= minimumTreeIndex) {\n        insertedTreeIndex = childIndex;\n        insertIndex = i;\n        break;\n      }\n\n      childIndex += 1 + getDescendantCount({\n        node: node.children[i],\n        ignoreCollapsed\n      });\n    }\n\n    if (insertIndex === null || insertIndex === undefined) {\n      if (childIndex < minimumTreeIndex && !isLastChild) {\n        return {\n          node,\n          nextIndex: childIndex\n        };\n      }\n\n      insertedTreeIndex = childIndex;\n      insertIndex = node.children.length;\n    }\n\n    const nextNode = { ...node,\n      children: [...node.children.slice(0, insertIndex), newNode, ...node.children.slice(insertIndex)]\n    };\n    return {\n      node: nextNode,\n      nextIndex: childIndex,\n      insertedTreeIndex,\n      parentPath: selfPath(nextNode),\n      parentNode: isPseudoRoot ? undefined : nextNode\n    };\n  }\n\n  if (!node.children || typeof node.children === \"function\" || node.expanded !== true && ignoreCollapsed && !isPseudoRoot) {\n    return {\n      node,\n      nextIndex: currentIndex + 1\n    };\n  }\n\n  let insertedTreeIndex;\n  let pathFragment;\n  let parentNode;\n  let childIndex = currentIndex + 1;\n  let newChildren = node.children;\n\n  if (typeof newChildren !== \"function\") {\n    newChildren = newChildren.map((child, i) => {\n      if (insertedTreeIndex !== null && insertedTreeIndex !== undefined) {\n        return child;\n      }\n\n      const mapResult = addNodeAtDepthAndIndex({\n        targetDepth,\n        minimumTreeIndex,\n        newNode,\n        ignoreCollapsed,\n        expandParent,\n        isLastChild: isLastChild && i === newChildren.length - 1,\n        node: child,\n        currentIndex: childIndex,\n        currentDepth: currentDepth + 1,\n        getNodeKey,\n        path: []\n      });\n\n      if (\"insertedTreeIndex\" in mapResult) {\n        ({\n          insertedTreeIndex,\n          parentNode,\n          parentPath: pathFragment\n        } = mapResult);\n      }\n\n      childIndex = mapResult.nextIndex;\n      return mapResult.node;\n    });\n  }\n\n  const nextNode = { ...node,\n    children: newChildren\n  };\n  const result = {\n    node: nextNode,\n    nextIndex: childIndex\n  };\n\n  if (insertedTreeIndex !== null && insertedTreeIndex !== undefined) {\n    result.insertedTreeIndex = insertedTreeIndex;\n    result.parentPath = [...selfPath(nextNode), ...pathFragment];\n    result.parentNode = parentNode;\n  }\n\n  return result;\n};\n\nconst insertNode = ({\n  treeData,\n  depth: targetDepth,\n  minimumTreeIndex,\n  newNode,\n  getNodeKey,\n  ignoreCollapsed = true,\n  expandParent = false\n}) => {\n  if (!treeData && targetDepth === 0) {\n    return {\n      treeData: [newNode],\n      treeIndex: 0,\n      path: [getNodeKey({\n        node: newNode,\n        treeIndex: 0\n      })],\n      parentNode: undefined\n    };\n  }\n\n  const insertResult = addNodeAtDepthAndIndex({\n    targetDepth,\n    minimumTreeIndex,\n    newNode,\n    ignoreCollapsed,\n    expandParent,\n    getNodeKey,\n    isPseudoRoot: true,\n    isLastChild: true,\n    node: {\n      children: treeData\n    },\n    currentIndex: -1,\n    currentDepth: -1\n  });\n\n  if (!(\"insertedTreeIndex\" in insertResult)) {\n    throw new Error(\"No suitable position found to insert.\");\n  }\n\n  const treeIndex = insertResult.insertedTreeIndex;\n  return {\n    treeData: insertResult.node.children,\n    treeIndex,\n    path: [...insertResult.parentPath, getNodeKey({\n      node: newNode,\n      treeIndex\n    })],\n    parentNode: insertResult.parentNode\n  };\n};\nconst getFlatDataFromTree = ({\n  treeData,\n  getNodeKey,\n  ignoreCollapsed = true\n}) => {\n  if (!treeData || treeData.length === 0) {\n    return [];\n  }\n\n  const flattened = [];\n  walk({\n    treeData,\n    getNodeKey,\n    ignoreCollapsed,\n    callback: nodeInfo => {\n      flattened.push(nodeInfo);\n    }\n  });\n  return flattened;\n};\nconst getTreeFromFlatData = ({\n  flatData,\n  getKey = node => node.id,\n  getParentKey = node => node.parentId,\n  rootKey = \"0\"\n}) => {\n  if (!flatData) {\n    return [];\n  }\n\n  const childrenToParents = {};\n\n  for (const child of flatData) {\n    const parentKey = getParentKey(child);\n\n    if (parentKey in childrenToParents) {\n      childrenToParents[parentKey].push(child);\n    } else {\n      childrenToParents[parentKey] = [child];\n    }\n  }\n\n  if (!(rootKey in childrenToParents)) {\n    return [];\n  }\n\n  const trav = parent => {\n    const parentKey = getKey(parent);\n\n    if (parentKey in childrenToParents) {\n      return { ...parent,\n        children: childrenToParents[parentKey].map(child => trav(child))\n      };\n    }\n\n    return { ...parent\n    };\n  };\n\n  return childrenToParents[rootKey].map(child => trav(child));\n};\nconst isDescendant = (older, younger) => {\n  return !!older.children && typeof older.children !== \"function\" && older.children.some(child => child === younger || isDescendant(child, younger));\n};\nconst getDepth = (node, depth = 0) => {\n  if (!node.children) {\n    return depth;\n  }\n\n  if (typeof node.children === \"function\") {\n    return depth + 1;\n  }\n\n  return node.children.reduce((deepest, child) => Math.max(deepest, getDepth(child, depth + 1)), depth);\n};\nconst find = ({\n  getNodeKey,\n  treeData,\n  searchQuery,\n  searchMethod,\n  searchFocusOffset,\n  expandAllMatchPaths = false,\n  expandFocusMatchPaths = true\n}) => {\n  let matchCount = 0;\n\n  const trav = ({\n    isPseudoRoot = false,\n    node,\n    currentIndex,\n    path = []\n  }) => {\n    let matches = [];\n    let isSelfMatch = false;\n    let hasFocusMatch = false;\n    const selfPath = isPseudoRoot ? [] : [...path, getNodeKey({\n      node,\n      treeIndex: currentIndex\n    })];\n    const extraInfo = isPseudoRoot ? undefined : {\n      path: selfPath,\n      treeIndex: currentIndex\n    };\n    const hasChildren = node.children && typeof node.children !== \"function\" && node.children.length > 0;\n\n    if (!isPseudoRoot && searchMethod({ ...extraInfo,\n      node,\n      searchQuery\n    })) {\n      if (matchCount === searchFocusOffset) {\n        hasFocusMatch = true;\n      }\n\n      matchCount += 1;\n      isSelfMatch = true;\n    }\n\n    let childIndex = currentIndex;\n    const newNode = { ...node\n    };\n\n    if (hasChildren) {\n      newNode.children = newNode.children.map(child => {\n        const mapResult = trav({\n          node: child,\n          currentIndex: childIndex + 1,\n          path: selfPath\n        });\n\n        if (mapResult.node.expanded) {\n          childIndex = mapResult.treeIndex;\n        } else {\n          childIndex += 1;\n        }\n\n        if (mapResult.matches.length > 0 || mapResult.hasFocusMatch) {\n          matches = [...matches, ...mapResult.matches];\n\n          if (mapResult.hasFocusMatch) {\n            hasFocusMatch = true;\n          }\n\n          if (expandAllMatchPaths && mapResult.matches.length > 0 || (expandAllMatchPaths || expandFocusMatchPaths) && mapResult.hasFocusMatch) {\n            newNode.expanded = true;\n          }\n        }\n\n        return mapResult.node;\n      });\n    }\n\n    if (!isPseudoRoot && !newNode.expanded) {\n      matches = matches.map(match => ({ ...match,\n        treeIndex: undefined\n      }));\n    }\n\n    if (isSelfMatch) {\n      matches = [{ ...extraInfo,\n        node: newNode\n      }, ...matches];\n    }\n\n    return {\n      node: matches.length > 0 ? newNode : node,\n      matches,\n      hasFocusMatch,\n      treeIndex: childIndex\n    };\n  };\n\n  const result = trav({\n    node: {\n      children: treeData\n    },\n    isPseudoRoot: true,\n    currentIndex: -1\n  });\n  return {\n    matches: result.matches,\n    treeData: result.node.children\n  };\n};\n\nconst classnames = (...classes) => classes.filter(Boolean).join(\" \");\n\nconst defaultProps$3 = {\n  isSearchMatch: false,\n  isSearchFocus: false,\n  canDrag: false,\n  toggleChildrenVisibility: undefined,\n  buttons: [],\n  className: \"\",\n  style: {},\n  parentNode: undefined,\n  draggedNode: undefined,\n  canDrop: false,\n  title: undefined,\n  subtitle: undefined,\n  rowDirection: \"ltr\"\n};\n\nconst NodeRendererDefault = function (props) {\n  props = { ...defaultProps$3,\n    ...props\n  };\n  const {\n    scaffoldBlockPxWidth,\n    toggleChildrenVisibility,\n    connectDragPreview,\n    connectDragSource,\n    isDragging,\n    canDrop,\n    canDrag,\n    node,\n    title,\n    subtitle,\n    draggedNode,\n    path,\n    treeIndex,\n    isSearchMatch,\n    isSearchFocus,\n    buttons,\n    className,\n    style,\n    didDrop,\n    treeId: _treeId,\n    isOver: _isOver,\n    parentNode: _parentNode,\n    rowDirection,\n    ...otherProps\n  } = props;\n  const nodeTitle = title || node.title;\n  const nodeSubtitle = subtitle || node.subtitle;\n  const rowDirectionClass = rowDirection === \"rtl\" ? \"rst__rtl\" : undefined;\n  let handle;\n\n  if (canDrag) {\n    handle = typeof node.children === \"function\" && node.expanded ? jsxRuntime.jsx(\"div\", {\n      className: \"rst__loadingHandle\",\n      children: jsxRuntime.jsx(\"div\", {\n        className: \"rst__loadingCircle\",\n        children: [...Array.from({\n          length: 12\n        })].map((_, index) => jsxRuntime.jsx(\"div\", {\n          className: classnames(\"rst__loadingCirclePoint\", rowDirectionClass ?? \"\")\n        }, index))\n      })\n    }) : connectDragSource(jsxRuntime.jsx(\"div\", {\n      className: \"rst__moveHandle\"\n    }), {\n      dropEffect: \"copy\"\n    });\n  }\n\n  const isDraggedDescendant = draggedNode && isDescendant(draggedNode, node);\n  const isLandingPadActive = !didDrop && isDragging;\n  let buttonStyle = {\n    left: -0.5 * scaffoldBlockPxWidth,\n    right: 0\n  };\n\n  if (rowDirection === \"rtl\") {\n    buttonStyle = {\n      right: -0.5 * scaffoldBlockPxWidth,\n      left: 0\n    };\n  }\n\n  return jsxRuntime.jsxs(\"div\", {\n    style: {\n      height: \"100%\"\n    },\n    ...otherProps,\n    children: [toggleChildrenVisibility && node.children && (node.children.length > 0 || typeof node.children === \"function\") && jsxRuntime.jsxs(\"div\", {\n      children: [jsxRuntime.jsx(\"button\", {\n        type: \"button\",\n        \"aria-label\": node.expanded ? \"Collapse\" : \"Expand\",\n        className: classnames(node.expanded ? \"rst__collapseButton\" : \"rst__expandButton\", rowDirectionClass ?? \"\"),\n        style: buttonStyle,\n        onClick: () => toggleChildrenVisibility({\n          node,\n          path,\n          treeIndex\n        })\n      }), node.expanded && !isDragging && jsxRuntime.jsx(\"div\", {\n        style: {\n          width: scaffoldBlockPxWidth\n        },\n        className: classnames(\"rst__lineChildren\", rowDirectionClass ?? \"\")\n      })]\n    }), jsxRuntime.jsx(\"div\", {\n      className: classnames(\"rst__rowWrapper\", rowDirectionClass ?? \"\"),\n      children: connectDragPreview(jsxRuntime.jsxs(\"div\", {\n        className: classnames(\"rst__row\", isLandingPadActive ? \"rst__rowLandingPad\" : \"\", isLandingPadActive && !canDrop ? \"rst__rowCancelPad\" : \"\", isSearchMatch ? \"rst__rowSearchMatch\" : \"\", isSearchFocus ? \"rst__rowSearchFocus\" : \"\", rowDirectionClass ?? \"\", className ?? \"\"),\n        style: {\n          opacity: isDraggedDescendant ? 0.5 : 1,\n          ...style\n        },\n        children: [handle, jsxRuntime.jsxs(\"div\", {\n          className: classnames(\"rst__rowContents\", !canDrag ? \"rst__rowContentsDragDisabled\" : \"\", rowDirectionClass ?? \"\"),\n          children: [jsxRuntime.jsxs(\"div\", {\n            className: classnames(\"rst__rowLabel\", rowDirectionClass ?? \"\"),\n            children: [jsxRuntime.jsx(\"span\", {\n              className: classnames(\"rst__rowTitle\", node.subtitle ? \"rst__rowTitleWithSubtitle\" : \"\"),\n              children: typeof nodeTitle === \"function\" ? nodeTitle({\n                node,\n                path,\n                treeIndex\n              }) : nodeTitle\n            }), nodeSubtitle && jsxRuntime.jsx(\"span\", {\n              className: \"rst__rowSubtitle\",\n              children: typeof nodeSubtitle === \"function\" ? nodeSubtitle({\n                node,\n                path,\n                treeIndex\n              }) : nodeSubtitle\n            })]\n          }), jsxRuntime.jsx(\"div\", {\n            className: \"rst__rowToolbar\",\n            children: buttons?.map((btn, index) => jsxRuntime.jsx(\"div\", {\n              className: \"rst__toolbarButton\",\n              children: btn\n            }, index))\n          })]\n        })]\n      }))\n    })]\n  });\n};\n\nvar NodeRendererDefault$1 = NodeRendererDefault;\n\nconst defaultProps$2 = {\n  isOver: false,\n  canDrop: false\n};\n\nconst PlaceholderRendererDefault = function (props) {\n  props = { ...defaultProps$2,\n    ...props\n  };\n  const {\n    canDrop,\n    isOver\n  } = props;\n  return jsxRuntime.jsx(\"div\", {\n    className: classnames(\"rst__placeholder\", canDrop ? \"rst__placeholderLandingPad\" : \"\", canDrop && !isOver ? \"rst__placeholderCancelPad\" : \"\")\n  });\n};\n\nvar PlaceholderRendererDefault$1 = PlaceholderRendererDefault;\n\nconst defaultProps$1 = {\n  swapFrom: undefined,\n  swapDepth: undefined,\n  swapLength: undefined,\n  canDrop: false,\n  draggedNode: undefined,\n  rowDirection: \"ltr\"\n};\n\nclass TreeNodeComponent extends React.Component {\n  render() {\n    const props = { ...defaultProps$1,\n      ...this.props\n    };\n    const {\n      children,\n      listIndex,\n      swapFrom,\n      swapLength,\n      swapDepth,\n      scaffoldBlockPxWidth,\n      lowerSiblingCounts,\n      connectDropTarget,\n      isOver,\n      draggedNode,\n      canDrop,\n      treeIndex,\n      rowHeight,\n      treeId: _treeId,\n      getPrevRow: _getPrevRow,\n      node: _node,\n      path: _path,\n      rowDirection,\n      ...otherProps\n    } = props;\n    const rowDirectionClass = rowDirection === \"rtl\" ? \"rst__rtl\" : undefined;\n    const scaffoldBlockCount = lowerSiblingCounts.length;\n    const scaffold = [];\n\n    for (const [i, lowerSiblingCount] of lowerSiblingCounts.entries()) {\n      let lineClass = \"\";\n\n      if (lowerSiblingCount > 0) {\n        if (listIndex === 0) {\n          lineClass = \"rst__lineHalfHorizontalRight rst__lineHalfVerticalBottom\";\n        } else if (i === scaffoldBlockCount - 1) {\n          lineClass = \"rst__lineHalfHorizontalRight rst__lineFullVertical\";\n        } else {\n          lineClass = \"rst__lineFullVertical\";\n        }\n      } else if (listIndex === 0) {\n        lineClass = \"rst__lineHalfHorizontalRight\";\n      } else if (i === scaffoldBlockCount - 1) {\n        lineClass = \"rst__lineHalfVerticalTop rst__lineHalfHorizontalRight\";\n      }\n\n      scaffold.push(jsxRuntime.jsx(\"div\", {\n        style: {\n          width: scaffoldBlockPxWidth\n        },\n        className: classnames(\"rst__lineBlock\", lineClass, rowDirectionClass ?? \"\")\n      }, `pre_${1 + i}`));\n\n      if (treeIndex !== listIndex && i === swapDepth) {\n        let highlightLineClass = \"\";\n\n        if (listIndex === swapFrom + swapLength - 1) {\n          highlightLineClass = \"rst__highlightBottomLeftCorner\";\n        } else if (treeIndex === swapFrom) {\n          highlightLineClass = \"rst__highlightTopLeftCorner\";\n        } else {\n          highlightLineClass = \"rst__highlightLineVertical\";\n        }\n\n        const style = rowDirection === \"rtl\" ? {\n          width: scaffoldBlockPxWidth,\n          right: scaffoldBlockPxWidth * i\n        } : {\n          width: scaffoldBlockPxWidth,\n          left: scaffoldBlockPxWidth * i\n        };\n        scaffold.push(jsxRuntime.jsx(\"div\", {\n          style: style,\n          className: classnames(\"rst__absoluteLineBlock\", highlightLineClass, rowDirectionClass ?? \"\")\n        }, i));\n      }\n    }\n\n    const style = rowDirection === \"rtl\" ? {\n      right: scaffoldBlockPxWidth * scaffoldBlockCount\n    } : {\n      left: scaffoldBlockPxWidth * scaffoldBlockCount\n    };\n    let calculatedRowHeight = rowHeight;\n\n    if (typeof rowHeight === \"function\") {\n      calculatedRowHeight = rowHeight(treeIndex, _node, _path);\n    }\n\n    return connectDropTarget(jsxRuntime.jsxs(\"div\", { ...otherProps,\n      style: {\n        height: `${calculatedRowHeight}px`\n      },\n      className: classnames(\"rst__node\", rowDirectionClass ?? \"\"),\n      ref: node => this.node = node,\n      children: [scaffold, jsxRuntime.jsx(\"div\", {\n        className: \"rst__nodeContent\",\n        style: style,\n        children: React.Children.map(children, child => React.cloneElement(child, {\n          isOver,\n          canDrop,\n          draggedNode\n        }))\n      })]\n    }));\n  }\n\n}\n\nvar TreeNode = TreeNodeComponent;\n\nconst defaultProps = {\n  canDrop: false,\n  draggedNode: undefined\n};\n\nconst TreePlaceholder = props => {\n  props = { ...defaultProps,\n    ...props\n  };\n  const {\n    children,\n    connectDropTarget,\n    treeId,\n    drop,\n    ...otherProps\n  } = props;\n  return connectDropTarget(jsxRuntime.jsx(\"div\", {\n    children: React.Children.map(children, child => React.cloneElement(child, { ...otherProps\n    }))\n  }));\n};\n\nvar TreePlaceholder$1 = TreePlaceholder;\n\nlet rafId = 0;\n\nconst nodeDragSourcePropInjection = (connect, monitor) => ({\n  connectDragSource: connect.dragSource(),\n  connectDragPreview: connect.dragPreview(),\n  isDragging: monitor.isDragging(),\n  didDrop: monitor.didDrop()\n});\n\nconst wrapSource = (el, startDrag, endDrag, dndType) => {\n  const nodeDragSource = {\n    beginDrag: props => {\n      startDrag(props);\n      return {\n        node: props.node,\n        parentNode: props.parentNode,\n        path: props.path,\n        treeIndex: props.treeIndex,\n        treeId: props.treeId\n      };\n    },\n    endDrag: (props, monitor) => {\n      endDrag(monitor.getDropResult());\n    },\n    isDragging: (props, monitor) => {\n      const dropTargetNode = monitor.getItem().node;\n      const draggedNode = props.node;\n      return draggedNode === dropTargetNode;\n    }\n  };\n  return reactDnd.DragSource(dndType, nodeDragSource, nodeDragSourcePropInjection)(el);\n};\n\nconst propInjection = (connect, monitor) => {\n  const dragged = monitor.getItem();\n  return {\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver(),\n    canDrop: monitor.canDrop(),\n    draggedNode: dragged ? dragged.node : undefined\n  };\n};\n\nconst wrapPlaceholder = (el, treeId, drop, dndType) => {\n  const placeholderDropTarget = {\n    drop: (dropTargetProps, monitor) => {\n      const {\n        node,\n        path,\n        treeIndex\n      } = monitor.getItem();\n      const result = {\n        node,\n        path,\n        treeIndex,\n        treeId,\n        minimumTreeIndex: 0,\n        depth: 0\n      };\n      drop(result);\n      return result;\n    }\n  };\n  return reactDnd.DropTarget(dndType, placeholderDropTarget, propInjection)(el);\n};\n\nconst getTargetDepth = (dropTargetProps, monitor, component, canNodeHaveChildren, treeId, maxDepth) => {\n  let dropTargetDepth = 0;\n  const rowAbove = dropTargetProps.getPrevRow();\n\n  if (rowAbove) {\n    const {\n      node\n    } = rowAbove;\n    let {\n      path\n    } = rowAbove;\n    const aboveNodeCannotHaveChildren = !canNodeHaveChildren(node);\n\n    if (aboveNodeCannotHaveChildren) {\n      path = path.slice(0, -1);\n    }\n\n    dropTargetDepth = Math.min(path.length, dropTargetProps.path.length);\n  }\n\n  let blocksOffset;\n  let dragSourceInitialDepth = (monitor.getItem().path || []).length;\n\n  if (monitor.getItem().treeId !== treeId) {\n    dragSourceInitialDepth = 0;\n\n    if (component) {\n      const relativePosition = component.node.getBoundingClientRect();\n      const leftShift = monitor.getSourceClientOffset().x - relativePosition.left;\n      blocksOffset = Math.round(leftShift / dropTargetProps.scaffoldBlockPxWidth);\n    } else {\n      blocksOffset = dropTargetProps.path.length;\n    }\n  } else {\n    const direction = dropTargetProps.rowDirection === \"rtl\" ? -1 : 1;\n    blocksOffset = Math.round(direction * monitor.getDifferenceFromInitialOffset().x / dropTargetProps.scaffoldBlockPxWidth);\n  }\n\n  let targetDepth = Math.min(dropTargetDepth, Math.max(0, dragSourceInitialDepth + blocksOffset - 1));\n\n  if (typeof maxDepth !== \"undefined\" && maxDepth !== undefined) {\n    const draggedNode = monitor.getItem().node;\n    const draggedChildDepth = getDepth(draggedNode);\n    targetDepth = Math.max(0, Math.min(targetDepth, maxDepth - draggedChildDepth - 1));\n  }\n\n  return targetDepth;\n};\n\nconst canDrop = (dropTargetProps, monitor, canNodeHaveChildren, treeId, maxDepth, treeRefcanDrop, draggingTreeData, treeReftreeData, getNodeKey) => {\n  if (!monitor.isOver()) {\n    return false;\n  }\n\n  const rowAbove = dropTargetProps.getPrevRow();\n  const abovePath = rowAbove ? rowAbove.path : [];\n  const aboveNode = rowAbove ? rowAbove.node : {};\n  const targetDepth = getTargetDepth(dropTargetProps, monitor, undefined, canNodeHaveChildren, treeId, maxDepth);\n\n  if (targetDepth >= abovePath.length && typeof aboveNode.children === \"function\") {\n    return false;\n  }\n\n  if (typeof treeRefcanDrop === \"function\") {\n    const {\n      node\n    } = monitor.getItem();\n    return treeRefcanDrop({\n      node,\n      prevPath: monitor.getItem().path,\n      prevParent: monitor.getItem().parentNode,\n      prevTreeIndex: monitor.getItem().treeIndex,\n      nextPath: dropTargetProps.children.props.path,\n      nextParent: dropTargetProps.children.props.parentNode,\n      nextTreeIndex: dropTargetProps.children.props.treeIndex\n    });\n  }\n\n  return true;\n};\n\nconst wrapTarget = (el, canNodeHaveChildren, treeId, maxDepth, treeRefcanDrop, drop, dragHover, dndType, draggingTreeData, treeReftreeData, getNodeKey) => {\n  const nodeDropTarget = {\n    drop: (dropTargetProps, monitor, component) => {\n      const result = {\n        node: monitor.getItem().node,\n        path: monitor.getItem().path,\n        treeIndex: monitor.getItem().treeIndex,\n        treeId,\n        minimumTreeIndex: dropTargetProps.treeIndex,\n        depth: getTargetDepth(dropTargetProps, monitor, component, canNodeHaveChildren, treeId, maxDepth)\n      };\n      drop(result);\n      return result;\n    },\n    hover: (dropTargetProps, monitor, component) => {\n      const targetDepth = getTargetDepth(dropTargetProps, monitor, component, canNodeHaveChildren, treeId, maxDepth);\n      const draggedNode = monitor.getItem().node;\n      const needsRedraw = dropTargetProps.node !== draggedNode || targetDepth !== dropTargetProps.path.length - 1;\n\n      if (!needsRedraw) {\n        return;\n      }\n\n      cancelAnimationFrame(rafId);\n      rafId = requestAnimationFrame(() => {\n        const item = monitor.getItem();\n\n        if (!item || !monitor.isOver()) {\n          return;\n        }\n\n        dragHover({\n          node: draggedNode,\n          path: item.path,\n          minimumTreeIndex: dropTargetProps.listIndex,\n          depth: targetDepth\n        });\n      });\n    },\n    canDrop: (dropTargetProps, monitor) => canDrop(dropTargetProps, monitor, canNodeHaveChildren, treeId, maxDepth, treeRefcanDrop)\n  };\n  return reactDnd.DropTarget(dndType, nodeDropTarget, propInjection)(el);\n};\n\nconst slideRows = (rows, fromIndex, toIndex, count = 1) => {\n  const rowsWithoutMoved = [...rows.slice(0, fromIndex), ...rows.slice(fromIndex + count)];\n  return [...rowsWithoutMoved.slice(0, toIndex), ...rows.slice(fromIndex, fromIndex + count), ...rowsWithoutMoved.slice(toIndex)];\n};\n\nconst memoize = f => {\n  let savedArgsArray = [];\n  let savedKeysArray = [];\n  let savedResult;\n  return args => {\n    const keysArray = Object.keys(args).sort();\n    const argsArray = keysArray.map(key => args[key]);\n\n    if (argsArray.length !== savedArgsArray.length || argsArray.some((arg, index) => arg !== savedArgsArray[index]) || keysArray.some((key, index) => key !== savedKeysArray[index])) {\n      savedArgsArray = argsArray;\n      savedKeysArray = keysArray;\n      savedResult = f(args);\n    }\n\n    return savedResult;\n  };\n};\n\nconst memoizedInsertNode = memoize(insertNode);\nconst memoizedGetFlatDataFromTree = memoize(getFlatDataFromTree);\nconst memoizedGetDescendantCount = memoize(getDescendantCount);\n\nlet treeIdCounter = 1;\n\nconst mergeTheme = props => {\n  const merged = { ...props,\n    style: { ...props.theme.style,\n      ...props.style\n    },\n    innerStyle: { ...props.theme.innerStyle,\n      ...props.innerStyle\n    }\n  };\n  const overridableDefaults = {\n    nodeContentRenderer: NodeRendererDefault$1,\n    placeholderRenderer: PlaceholderRendererDefault$1,\n    scaffoldBlockPxWidth: 44,\n    slideRegionSize: 100,\n    rowHeight: 62,\n    treeNodeRenderer: TreeNode\n  };\n\n  for (const propKey of Object.keys(overridableDefaults)) {\n    if (props[propKey] === undefined) {\n      merged[propKey] = typeof props.theme[propKey] !== \"undefined\" ? props.theme[propKey] : overridableDefaults[propKey];\n    }\n  }\n\n  return merged;\n};\n\nclass ReactSortableTree extends React.Component {\n  static search(props, state, seekIndex, expand, singleSearch) {\n    const {\n      onChange,\n      getNodeKey,\n      searchFinishCallback,\n      searchQuery,\n      searchMethod,\n      searchFocusOffset,\n      onlyExpandSearchedNodes\n    } = props;\n    const {\n      instanceProps\n    } = state;\n\n    if (!searchQuery && !searchMethod) {\n      if (searchFinishCallback) {\n        searchFinishCallback([]);\n      }\n\n      return {\n        searchMatches: []\n      };\n    }\n\n    const newState = {\n      instanceProps: {}\n    };\n    const {\n      treeData: expandedTreeData,\n      matches: searchMatches\n    } = find({\n      getNodeKey,\n      treeData: onlyExpandSearchedNodes ? toggleExpandedForAll({\n        treeData: instanceProps.treeData,\n        expanded: false\n      }) : instanceProps.treeData,\n      searchQuery,\n      searchMethod: searchMethod || defaultSearchMethod,\n      searchFocusOffset,\n      expandAllMatchPaths: expand && !singleSearch,\n      expandFocusMatchPaths: !!expand\n    });\n\n    if (expand) {\n      newState.instanceProps.ignoreOneTreeUpdate = true;\n      onChange(expandedTreeData);\n    }\n\n    if (searchFinishCallback) {\n      searchFinishCallback(searchMatches);\n    }\n\n    let searchFocusTreeIndex;\n\n    if (seekIndex && searchFocusOffset !== undefined && searchFocusOffset < searchMatches.length) {\n      searchFocusTreeIndex = searchMatches[searchFocusOffset].treeIndex;\n    }\n\n    newState.searchMatches = searchMatches;\n    newState.searchFocusTreeIndex = searchFocusTreeIndex;\n    return newState;\n  }\n\n  static loadLazyChildren(props, state) {\n    const {\n      instanceProps\n    } = state;\n    walk({\n      treeData: instanceProps.treeData,\n      getNodeKey: props.getNodeKey,\n      callback: ({\n        node,\n        path,\n        lowerSiblingCounts,\n        treeIndex\n      }) => {\n        if (node.children && typeof node.children === \"function\" && (node.expanded || props.loadCollapsedLazyChildren)) {\n          node.children({\n            node,\n            path,\n            lowerSiblingCounts,\n            treeIndex,\n            done: childrenArray => props.onChange(changeNodeAtPath({\n              treeData: instanceProps.treeData,\n              path,\n              newNode: ({\n                node: oldNode\n              }) => oldNode === node ? { ...oldNode,\n                children: childrenArray\n              } : oldNode,\n              getNodeKey: props.getNodeKey\n            }))\n          });\n        }\n      }\n    });\n  }\n\n  constructor(props) {\n    super(props);\n    this.listRef = React__default[\"default\"].createRef();\n    const {\n      dndType,\n      nodeContentRenderer,\n      treeNodeRenderer,\n      slideRegionSize\n    } = mergeTheme(props);\n    this.treeId = `rst__${treeIdCounter}`;\n    treeIdCounter += 1;\n    this.dndType = dndType || this.treeId;\n    this.nodeContentRenderer = wrapSource(nodeContentRenderer, this.startDrag, this.endDrag, this.dndType);\n    this.treePlaceholderRenderer = wrapPlaceholder(TreePlaceholder$1, this.treeId, this.drop, this.dndType);\n    this.scrollZoneVirtualList = (withScrolling.createScrollingComponent || withScrolling__default[\"default\"])(React__default[\"default\"].forwardRef((props, ref) => {\n      const {\n        dragDropManager,\n        rowHeight,\n        classname,\n        style,\n        ...otherProps\n      } = props;\n      return jsxRuntime.jsx(reactVirtuoso.Virtuoso, {\n        ref: this.listRef,\n        ...otherProps\n      });\n    }));\n    this.vStrength = withScrolling.createVerticalStrength(slideRegionSize);\n    this.hStrength = withScrolling.createHorizontalStrength(slideRegionSize);\n    this.state = {\n      draggingTreeData: undefined,\n      draggedNode: undefined,\n      draggedMinimumTreeIndex: undefined,\n      draggedDepth: undefined,\n      searchMatches: [],\n      searchFocusTreeIndex: undefined,\n      dragging: false,\n      instanceProps: {\n        treeData: [],\n        ignoreOneTreeUpdate: false,\n        searchQuery: undefined,\n        searchFocusOffset: undefined\n      }\n    };\n    this.treeNodeRenderer = wrapTarget(treeNodeRenderer, this.canNodeHaveChildren, this.treeId, this.props.maxDepth, this.props.canDrop, this.drop, this.dragHover, this.dndType, this.state.draggingTreeData, this.props.treeData, this.props.getNodeKey);\n    this.toggleChildrenVisibility = this.toggleChildrenVisibility.bind(this);\n    this.moveNode = this.moveNode.bind(this);\n    this.startDrag = this.startDrag.bind(this);\n    this.dragHover = this.dragHover.bind(this);\n    this.endDrag = this.endDrag.bind(this);\n    this.drop = this.drop.bind(this);\n    this.handleDndMonitorChange = this.handleDndMonitorChange.bind(this);\n  }\n\n  componentDidMount() {\n    ReactSortableTree.loadLazyChildren(this.props, this.state);\n    const stateUpdate = ReactSortableTree.search(this.props, this.state, true, true, false);\n    this.setState(stateUpdate);\n    this.clearMonitorSubscription = this.props.dragDropManager.getMonitor().subscribeToStateChange(this.handleDndMonitorChange);\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      instanceProps\n    } = prevState;\n    const newState = {};\n    const isTreeDataEqual = isEqual__default[\"default\"](instanceProps.treeData, nextProps.treeData);\n    instanceProps.treeData = nextProps.treeData;\n\n    if (!isTreeDataEqual) {\n      if (instanceProps.ignoreOneTreeUpdate) {\n        instanceProps.ignoreOneTreeUpdate = false;\n      } else {\n        newState.searchFocusTreeIndex = undefined;\n        ReactSortableTree.loadLazyChildren(nextProps, prevState);\n        Object.assign(newState, ReactSortableTree.search(nextProps, prevState, false, false, false));\n      }\n\n      newState.draggingTreeData = undefined;\n      newState.draggedNode = undefined;\n      newState.draggedMinimumTreeIndex = undefined;\n      newState.draggedDepth = undefined;\n      newState.dragging = false;\n    } else if (!isEqual__default[\"default\"](instanceProps.searchQuery, nextProps.searchQuery)) {\n      Object.assign(newState, ReactSortableTree.search(nextProps, prevState, true, true, false));\n    } else if (instanceProps.searchFocusOffset !== nextProps.searchFocusOffset) {\n      Object.assign(newState, ReactSortableTree.search(nextProps, prevState, true, true, true));\n    }\n\n    instanceProps.searchQuery = nextProps.searchQuery;\n    instanceProps.searchFocusOffset = nextProps.searchFocusOffset;\n    newState.instanceProps = { ...instanceProps,\n      ...newState.instanceProps\n    };\n    return newState;\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.dragging !== prevState.dragging && this.props.onDragStateChanged) {\n      this.props.onDragStateChanged({\n        isDragging: this.state.dragging,\n        draggedNode: this.state.draggedNode\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    this.clearMonitorSubscription();\n  }\n\n  handleDndMonitorChange() {\n    const monitor = this.props.dragDropManager.getMonitor();\n\n    if (!monitor.isDragging() && this.state.draggingTreeData) {\n      setTimeout(() => {\n        this.endDrag();\n      });\n    }\n  }\n\n  getRows(treeData) {\n    return memoizedGetFlatDataFromTree({\n      ignoreCollapsed: true,\n      getNodeKey: this.props.getNodeKey,\n      treeData\n    });\n  }\n\n  startDrag = ({\n    path\n  }) => {\n    this.setState(prevState => {\n      const {\n        treeData: draggingTreeData,\n        node: draggedNode,\n        treeIndex: draggedMinimumTreeIndex\n      } = removeNode({\n        treeData: prevState.instanceProps.treeData,\n        path,\n        getNodeKey: this.props.getNodeKey\n      });\n      return {\n        draggingTreeData,\n        draggedNode,\n        draggedDepth: path.length - 1,\n        draggedMinimumTreeIndex,\n        dragging: true\n      };\n    });\n  };\n  dragHover = ({\n    node: draggedNode,\n    depth: draggedDepth,\n    minimumTreeIndex: draggedMinimumTreeIndex\n  }) => {\n    if (this.state.draggedDepth === draggedDepth && this.state.draggedMinimumTreeIndex === draggedMinimumTreeIndex) {\n      return;\n    }\n\n    this.setState(({\n      draggingTreeData,\n      instanceProps\n    }) => {\n      const newDraggingTreeData = draggingTreeData || instanceProps.treeData;\n      const addedResult = memoizedInsertNode({\n        treeData: newDraggingTreeData,\n        newNode: draggedNode,\n        depth: draggedDepth,\n        minimumTreeIndex: draggedMinimumTreeIndex,\n        expandParent: true,\n        getNodeKey: this.props.getNodeKey\n      });\n      const rows = this.getRows(addedResult.treeData);\n      const expandedParentPath = rows[addedResult.treeIndex].path;\n      return {\n        draggedNode,\n        draggedDepth,\n        draggedMinimumTreeIndex,\n        draggingTreeData: changeNodeAtPath({\n          treeData: newDraggingTreeData,\n          path: expandedParentPath.slice(0, -1),\n          newNode: ({\n            node\n          }) => ({ ...node,\n            expanded: true\n          }),\n          getNodeKey: this.props.getNodeKey\n        }),\n        searchFocusTreeIndex: undefined,\n        dragging: true\n      };\n    });\n  };\n  endDrag = dropResult => {\n    const {\n      instanceProps\n    } = this.state;\n\n    if (!dropResult) {\n      this.setState({\n        draggingTreeData: undefined,\n        draggedNode: undefined,\n        draggedMinimumTreeIndex: undefined,\n        draggedDepth: undefined,\n        dragging: false\n      });\n    } else if (dropResult.treeId !== this.treeId) {\n      const {\n        node,\n        path,\n        treeIndex\n      } = dropResult;\n      let shouldCopy = this.props.shouldCopyOnOutsideDrop;\n\n      if (typeof shouldCopy === \"function\") {\n        shouldCopy = shouldCopy({\n          node,\n          prevTreeIndex: treeIndex,\n          prevPath: path\n        });\n      }\n\n      let treeData = this.state.draggingTreeData || instanceProps.treeData;\n\n      if (shouldCopy) {\n        treeData = changeNodeAtPath({\n          treeData: instanceProps.treeData,\n          path,\n          newNode: ({\n            node: copyNode\n          }) => ({ ...copyNode\n          }),\n          getNodeKey: this.props.getNodeKey\n        });\n      }\n\n      this.props.onChange(treeData);\n      this.props.onMoveNode({\n        treeData,\n        node,\n        treeIndex: undefined,\n        path: undefined,\n        nextPath: undefined,\n        nextTreeIndex: undefined,\n        prevPath: path,\n        prevTreeIndex: treeIndex\n      });\n    }\n  };\n  drop = dropResult => {\n    this.moveNode(dropResult);\n  };\n  canNodeHaveChildren = node => {\n    const {\n      canNodeHaveChildren\n    } = this.props;\n\n    if (canNodeHaveChildren) {\n      return canNodeHaveChildren(node);\n    }\n\n    return true;\n  };\n\n  toggleChildrenVisibility({\n    node: targetNode,\n    path\n  }) {\n    const {\n      instanceProps\n    } = this.state;\n    const treeData = changeNodeAtPath({\n      treeData: instanceProps.treeData,\n      path,\n      newNode: ({\n        node\n      }) => ({ ...node,\n        expanded: !node.expanded\n      }),\n      getNodeKey: this.props.getNodeKey\n    });\n    this.props.onChange(treeData);\n    this.props.onVisibilityToggle({\n      treeData,\n      node: targetNode,\n      expanded: !targetNode.expanded,\n      path\n    });\n  }\n\n  moveNode({\n    node,\n    path: prevPath,\n    treeIndex: prevTreeIndex,\n    depth,\n    minimumTreeIndex\n  }) {\n    const {\n      treeData,\n      treeIndex,\n      path,\n      parentNode: nextParentNode\n    } = insertNode({\n      treeData: this.state.draggingTreeData,\n      newNode: node,\n      depth,\n      minimumTreeIndex,\n      expandParent: true,\n      getNodeKey: this.props.getNodeKey\n    });\n    this.props.onChange(treeData);\n    this.props.onMoveNode({\n      treeData,\n      node,\n      treeIndex,\n      path,\n      nextPath: path,\n      nextTreeIndex: treeIndex,\n      prevPath,\n      prevTreeIndex,\n      nextParentNode\n    });\n  }\n\n  renderRow(row, {\n    listIndex,\n    style,\n    getPrevRow,\n    matchKeys,\n    swapFrom,\n    swapDepth,\n    swapLength\n  }) {\n    const {\n      node,\n      parentNode,\n      path,\n      lowerSiblingCounts,\n      treeIndex\n    } = row;\n    const {\n      canDrag,\n      generateNodeProps,\n      scaffoldBlockPxWidth,\n      searchFocusOffset,\n      rowDirection,\n      rowHeight\n    } = mergeTheme(this.props);\n    const TreeNodeRenderer = this.treeNodeRenderer;\n    const NodeContentRenderer = this.nodeContentRenderer;\n    const nodeKey = path[path.length - 1];\n    const isSearchMatch = (nodeKey in matchKeys);\n    const isSearchFocus = isSearchMatch && matchKeys[nodeKey] === searchFocusOffset;\n    const callbackParams = {\n      node,\n      parentNode,\n      path,\n      lowerSiblingCounts,\n      treeIndex,\n      isSearchMatch,\n      isSearchFocus\n    };\n    const nodeProps = !generateNodeProps ? {} : generateNodeProps(callbackParams);\n    const rowCanDrag = typeof canDrag !== \"function\" ? canDrag : canDrag(callbackParams);\n    const sharedProps = {\n      treeIndex,\n      scaffoldBlockPxWidth,\n      node,\n      path,\n      treeId: this.treeId,\n      rowDirection\n    };\n    return jsxRuntime.jsx(TreeNodeRenderer, {\n      style: style,\n      rowHeight: rowHeight,\n      listIndex: listIndex,\n      getPrevRow: getPrevRow,\n      lowerSiblingCounts: lowerSiblingCounts,\n      swapFrom: swapFrom,\n      swapLength: swapLength,\n      swapDepth: swapDepth,\n      ...sharedProps,\n      children: jsxRuntime.jsx(NodeContentRenderer, {\n        parentNode: parentNode,\n        isSearchMatch: isSearchMatch,\n        isSearchFocus: isSearchFocus,\n        canDrag: rowCanDrag,\n        toggleChildrenVisibility: this.toggleChildrenVisibility,\n        ...sharedProps,\n        ...nodeProps\n      })\n    }, nodeKey);\n  }\n\n  render() {\n    const {\n      dragDropManager,\n      style,\n      className,\n      innerStyle,\n      placeholderRenderer,\n      getNodeKey,\n      rowDirection\n    } = mergeTheme(this.props);\n    const {\n      searchMatches,\n      searchFocusTreeIndex,\n      draggedNode,\n      draggedDepth,\n      draggedMinimumTreeIndex,\n      instanceProps\n    } = this.state;\n    const treeData = this.state.draggingTreeData || instanceProps.treeData;\n    const rowDirectionClass = rowDirection === \"rtl\" ? \"rst__rtl\" : undefined;\n    let rows;\n    let swapFrom;\n    let swapLength;\n\n    if (draggedNode && draggedMinimumTreeIndex !== undefined) {\n      const addedResult = memoizedInsertNode({\n        treeData,\n        newNode: draggedNode,\n        depth: draggedDepth,\n        minimumTreeIndex: draggedMinimumTreeIndex,\n        expandParent: true,\n        getNodeKey\n      });\n      const swapTo = draggedMinimumTreeIndex;\n      swapFrom = addedResult.treeIndex;\n      swapLength = 1 + memoizedGetDescendantCount({\n        node: draggedNode\n      });\n      rows = slideRows(this.getRows(addedResult.treeData), swapFrom, swapTo, swapLength);\n    } else {\n      rows = this.getRows(treeData);\n    }\n\n    const matchKeys = {};\n\n    for (const [i, {\n      path\n    }] of searchMatches.entries()) {\n      matchKeys[path[path.length - 1]] = i;\n    }\n\n    if (searchFocusTreeIndex !== undefined) {\n      this.listRef.current.scrollToIndex({\n        index: searchFocusTreeIndex,\n        align: \"center\"\n      });\n    }\n\n    let containerStyle = style;\n    let list;\n\n    if (rows.length === 0) {\n      const Placeholder = this.treePlaceholderRenderer;\n      const PlaceholderContent = placeholderRenderer;\n      list = jsxRuntime.jsx(Placeholder, {\n        treeId: this.treeId,\n        drop: this.drop,\n        children: jsxRuntime.jsx(PlaceholderContent, {})\n      });\n    } else {\n      containerStyle = {\n        height: \"100%\",\n        ...containerStyle\n      };\n      const ScrollZoneVirtualList = this.scrollZoneVirtualList;\n      list = jsxRuntime.jsx(ScrollZoneVirtualList, {\n        data: rows,\n        dragDropManager: dragDropManager,\n        verticalStrength: this.vStrength,\n        horizontalStrength: this.hStrength,\n        className: \"rst__virtualScrollOverride\",\n        style: innerStyle,\n        itemContent: index => this.renderRow(rows[index], {\n          listIndex: index,\n          getPrevRow: () => rows[index - 1] || undefined,\n          matchKeys,\n          swapFrom,\n          swapDepth: draggedDepth,\n          swapLength\n        })\n      });\n    }\n\n    return jsxRuntime.jsx(\"div\", {\n      className: classnames(\"rst__tree\", className, rowDirectionClass),\n      style: containerStyle,\n      children: list\n    });\n  }\n\n}\n\nReactSortableTree.defaultProps = {\n  canDrag: true,\n  canDrop: undefined,\n  canNodeHaveChildren: () => true,\n  className: \"\",\n  dndType: undefined,\n  generateNodeProps: undefined,\n  getNodeKey: defaultGetNodeKey,\n  innerStyle: {},\n  maxDepth: undefined,\n  treeNodeRenderer: undefined,\n  nodeContentRenderer: undefined,\n  onMoveNode: () => {},\n  onVisibilityToggle: () => {},\n  placeholderRenderer: undefined,\n  scaffoldBlockPxWidth: undefined,\n  searchFinishCallback: undefined,\n  searchFocusOffset: undefined,\n  searchMethod: undefined,\n  searchQuery: undefined,\n  shouldCopyOnOutsideDrop: false,\n  slideRegionSize: undefined,\n  style: {},\n  theme: {},\n  onDragStateChanged: () => {},\n  onlyExpandSearchedNodes: false,\n  rowDirection: \"ltr\",\n  debugMode: false,\n  overscan: 0\n};\n\nconst SortableTreeWithoutDndContext = function (props) {\n  return jsxRuntime.jsx(reactDnd.DndContext.Consumer, {\n    children: ({\n      dragDropManager\n    }) => dragDropManager === undefined ? undefined : jsxRuntime.jsx(ReactSortableTree, { ...props,\n      dragDropManager: dragDropManager\n    })\n  });\n};\n\nconst SortableTree = function (props) {\n  return jsxRuntime.jsx(reactDnd.DndProvider, {\n    debugMode: props.debugMode,\n    backend: reactDndHtml5Backend.HTML5Backend,\n    children: jsxRuntime.jsx(SortableTreeWithoutDndContext, { ...props\n    })\n  });\n};\n\nconst SortableTreeWithExternalManager = function (props) {\n  return jsxRuntime.jsx(reactDnd.DndProvider, {\n    manager: props.dragDropManager,\n    children: jsxRuntime.jsx(SortableTreeWithoutDndContext, { ...props\n    })\n  });\n};\nvar SortableTree$1 = SortableTree;\n\nexports.SortableTreeWithExternalManager = SortableTreeWithExternalManager;\nexports.SortableTreeWithoutDndContext = SortableTreeWithoutDndContext;\nexports.addNodeUnderParent = addNodeUnderParent;\nexports.changeNodeAtPath = changeNodeAtPath;\nexports[\"default\"] = SortableTree$1;\nexports.defaultGetNodeKey = defaultGetNodeKey;\nexports.defaultSearchMethod = defaultSearchMethod;\nexports.find = find;\nexports.getDepth = getDepth;\nexports.getDescendantCount = getDescendantCount;\nexports.getFlatDataFromTree = getFlatDataFromTree;\nexports.getNodeAtPath = getNodeAtPath;\nexports.getTreeFromFlatData = getTreeFromFlatData;\nexports.getVisibleNodeCount = getVisibleNodeCount;\nexports.getVisibleNodeInfoAtIndex = getVisibleNodeInfoAtIndex;\nexports.insertNode = insertNode;\nexports.isDescendant = isDescendant;\nexports.map = map;\nexports.removeNode = removeNode;\nexports.removeNodeAtPath = removeNodeAtPath;\nexports.toggleExpandedForAll = toggleExpandedForAll;\nexports.walk = walk;\n","var unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\nmodule.exports = _createForOfIteratorHelper, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar jsxRuntime = require('react/jsx-runtime');\nvar react = require('react');\nvar reactDnd = require('react-dnd');\n\nconst throttle = (func, timeFrame) => {\n  let lastTime = 0;\n  return (...args) => {\n    const now = new Date();\n\n    if (now - lastTime >= timeFrame) {\n      func(...args);\n      lastTime = now;\n    }\n  };\n};\n\nconst intBetween = (min, max, val) => Math.floor(Math.min(max, Math.max(min, val)));\n\nconst getCoords = evt => {\n  return {\n    x: evt.clientX,\n    y: evt.clientY\n  };\n};\n\nconst DEFAULT_BUFFER = 150;\nconst createHorizontalStrength = _buffer => ({\n  x,\n  w,\n  y,\n  h\n}, point) => {\n  const buffer = Math.min(w / 2, _buffer);\n  const inRange = point.x >= x && point.x <= x + w;\n  const inBox = inRange && point.y >= y && point.y <= y + h;\n\n  if (inBox) {\n    if (point.x < x + buffer) {\n      return (point.x - x - buffer) / buffer;\n    }\n\n    if (point.x > x + w - buffer) {\n      return -(x + w - point.x - buffer) / buffer;\n    }\n  }\n\n  return 0;\n};\nconst createVerticalStrength = _buffer => ({\n  y,\n  h,\n  x,\n  w\n}, point) => {\n  const buffer = Math.min(h / 2, _buffer);\n  const inRange = point.y >= y && point.y <= y + h;\n  const inBox = inRange && point.x >= x && point.x <= x + w;\n\n  if (inBox) {\n    if (point.y < y + buffer) {\n      return (point.y - y - buffer) / buffer;\n    }\n\n    if (point.y > y + h - buffer) {\n      return -(y + h - point.y - buffer) / buffer;\n    }\n  }\n\n  return 0;\n};\nconst defaultProps = {\n  onScrollChange: () => {},\n  verticalStrength: createVerticalStrength(DEFAULT_BUFFER),\n  horizontalStrength: createHorizontalStrength(DEFAULT_BUFFER),\n  strengthMultiplier: 30\n};\nconst createScrollingComponent = WrappedComponent => {\n  return props => {\n    props = { ...defaultProps,\n      ...props\n    };\n    let container;\n    const wrappedInstance = react.createRef();\n    const animationFrameID = react.useRef(0);\n    let scaleX = 0;\n    let scaleY = 0;\n    let attached = false;\n    let dragging = false;\n    const updateScrolling = throttle(evt => {\n      const {\n        left: x,\n        top: y,\n        width: w,\n        height: h\n      } = container.getBoundingClientRect();\n      const box = {\n        x,\n        y,\n        w,\n        h\n      };\n      const coords = getCoords(evt);\n      scaleX = props.horizontalStrength(box, coords);\n      scaleY = props.verticalStrength(box, coords);\n\n      if (!animationFrameID.current && (scaleX || scaleY)) {\n        startScrolling();\n      }\n    }, 100);\n\n    const handleEvent = evt => {\n      if (dragging && !attached) {\n        attached = true;\n        window.document.body.addEventListener('dragover', updateScrolling);\n        updateScrolling(evt);\n      }\n    };\n\n    react.useEffect(() => {\n      container = wrappedInstance.current;\n\n      if (container && typeof container.addEventListener === 'function') {\n        container.addEventListener('dragover', handleEvent);\n      }\n\n      const clearMonitorSubscription = props.dragDropManager.getMonitor().subscribeToStateChange(handleMonitorChange);\n      return () => {\n        if (container && typeof container.removeEventListener === 'function') {\n          container.removeEventListener('dragover', handleEvent);\n        }\n\n        clearMonitorSubscription();\n        stopScrolling();\n      };\n    }, []);\n\n    const handleMonitorChange = () => {\n      const isDragging = props.dragDropManager.getMonitor().isDragging();\n\n      if (!dragging && isDragging) {\n        dragging = true;\n      } else if (dragging && !isDragging) {\n        dragging = false;\n        stopScrolling();\n      }\n    };\n\n    const startScrolling = () => {\n      let i = 0;\n\n      const tick = () => {\n        if (props.strengthMultiplier === 0 || scaleX + scaleY === 0) {\n          stopScrolling();\n          return;\n        }\n\n        i += 1;\n\n        if (i % 2) {\n          const {\n            scrollLeft,\n            scrollTop,\n            scrollWidth,\n            scrollHeight,\n            clientWidth,\n            clientHeight\n          } = container;\n          const newLeft = scaleX ? container.scrollLeft = intBetween(0, scrollWidth - clientWidth, scrollLeft + scaleX * props.strengthMultiplier) : scrollLeft;\n          const newTop = scaleY ? container.scrollTop = intBetween(0, scrollHeight - clientHeight, scrollTop + scaleY * props.strengthMultiplier) : scrollTop;\n          props.onScrollChange(newLeft, newTop);\n        }\n\n        animationFrameID.current = window.requestAnimationFrame(tick);\n      };\n\n      tick();\n    };\n\n    const stopScrolling = () => {\n      attached = false;\n      window.document.body.removeEventListener('dragover', updateScrolling);\n      scaleX = 0;\n      scaleY = 0;\n\n      if (animationFrameID.current) {\n        window.cancelAnimationFrame(animationFrameID.current);\n        animationFrameID.current = 0;\n      }\n    };\n\n    const {\n      strengthMultiplier,\n      verticalStrength,\n      horizontalStrength,\n      onScrollChange,\n      ...other\n    } = props;\n    return jsxRuntime.jsx(WrappedComponent, {\n      ref: wrappedInstance,\n      ...other\n    });\n  };\n};\n\nconst createScrollingComponentWithConsumer = WrappedComponent => {\n  const ScrollingComponent = createScrollingComponent(WrappedComponent);\n  return props => {\n    return jsxRuntime.jsx(reactDnd.DndContext.Consumer, {\n      children: ({\n        dragDropManager\n      }) => !dragDropManager ? undefined : jsxRuntime.jsx(ScrollingComponent, { ...props,\n        dragDropManager: dragDropManager\n      })\n    });\n  };\n};\n\nexports.createHorizontalStrength = createHorizontalStrength;\nexports.createScrollingComponent = createScrollingComponent;\nexports.createVerticalStrength = createVerticalStrength;\nexports[\"default\"] = createScrollingComponentWithConsumer;\n","export * from './asap.js'\nexport * from './types.js'\nexport * from './AsapQueue.js'\nexport * from './TaskFactory.js'\n","import { AsapQueue } from './AsapQueue.js'\nimport { TaskFactory } from './TaskFactory.js'\nimport type { TaskFn } from './types.js'\n\nconst asapQueue = new AsapQueue()\nconst taskFactory = new TaskFactory(asapQueue.registerPendingError)\n\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\nexport function asap(task: TaskFn) {\n\tasapQueue.enqueueTask(taskFactory.create(task))\n}\n","// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\nconst scope = typeof global !== 'undefined' ? global : self\nconst BrowserMutationObserver =\n\t(scope as any).MutationObserver || (scope as any).WebKitMutationObserver\n\nexport function makeRequestCallFromTimer(callback: () => void) {\n\treturn function requestCall() {\n\t\t// We dispatch a timeout with a specified delay of 0 for engines that\n\t\t// can reliably accommodate that request. This will usually be snapped\n\t\t// to a 4 milisecond delay, but once we're flushing, there's no delay\n\t\t// between events.\n\t\tconst timeoutHandle = setTimeout(handleTimer, 0)\n\t\t// However, since this timer gets frequently dropped in Firefox\n\t\t// workers, we enlist an interval handle that will try to fire\n\t\t// an event 20 times per second until it succeeds.\n\t\tconst intervalHandle = setInterval(handleTimer, 50)\n\n\t\tfunction handleTimer() {\n\t\t\t// Whichever timer succeeds will cancel both timers and\n\t\t\t// execute the callback.\n\t\t\tclearTimeout(timeoutHandle)\n\t\t\tclearInterval(intervalHandle)\n\t\t\tcallback()\n\t\t}\n\t}\n}\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nexport function makeRequestCallFromMutationObserver(callback: () => void) {\n\tlet toggle = 1\n\tconst observer = new BrowserMutationObserver(callback)\n\tconst node = document.createTextNode('')\n\tobserver.observe(node, { characterData: true })\n\treturn function requestCall() {\n\t\ttoggle = -toggle\n\t\t;(node as any).data = toggle\n\t}\n}\n\nexport const makeRequestCall =\n\ttypeof BrowserMutationObserver === 'function'\n\t\t? // MutationObservers are desirable because they have high priority and work\n\t\t  // reliably everywhere they are implemented.\n\t\t  // They are implemented in all modern browsers.\n\t\t  //\n\t\t  // - Android 4-4.3\n\t\t  // - Chrome 26-34\n\t\t  // - Firefox 14-29\n\t\t  // - Internet Explorer 11\n\t\t  // - iPad Safari 6-7.1\n\t\t  // - iPhone Safari 7-7.1\n\t\t  // - Safari 6-7\n\t\t  makeRequestCallFromMutationObserver\n\t\t: // MessageChannels are desirable because they give direct access to the HTML\n\t\t  // task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n\t\t  // 11-12, and in web workers in many engines.\n\t\t  // Although message channels yield to any queued rendering and IO tasks, they\n\t\t  // would be better than imposing the 4ms delay of timers.\n\t\t  // However, they do not work reliably in Internet Explorer or Safari.\n\n\t\t  // Internet Explorer 10 is the only browser that has setImmediate but does\n\t\t  // not have MutationObservers.\n\t\t  // Although setImmediate yields to the browser's renderer, it would be\n\t\t  // preferrable to falling back to setTimeout since it does not have\n\t\t  // the minimum 4ms penalty.\n\t\t  // Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n\t\t  // Desktop to a lesser extent) that renders both setImmediate and\n\t\t  // MessageChannel useless for the purposes of ASAP.\n\t\t  // https://github.com/kriskowal/q/issues/396\n\n\t\t  // Timers are implemented universally.\n\t\t  // We fall back to timers in workers in most engines, and in foreground\n\t\t  // contexts in the following browsers.\n\t\t  // However, note that even this simple case requires nuances to operate in a\n\t\t  // broad spectrum of browsers.\n\t\t  //\n\t\t  // - Firefox 3-13\n\t\t  // - Internet Explorer 6-9\n\t\t  // - iPad Safari 4.3\n\t\t  // - Lynx 2.8.7\n\t\t  makeRequestCallFromTimer\n","// We wrap tasks with recyclable task objects.  A task object implements\n\nimport type { TaskFn, Task } from 'types'\n\n// `call`, just like a function.\nexport class RawTask implements Task {\n\tpublic task: TaskFn | null = null\n\n\tpublic constructor(\n\t\tprivate onError: (err: any) => void,\n\t\tprivate release: (t: RawTask) => void,\n\t) {}\n\n\tpublic call() {\n\t\ttry {\n\t\t\tthis.task && this.task()\n\t\t} catch (error) {\n\t\t\tthis.onError(error)\n\t\t} finally {\n\t\t\tthis.task = null\n\t\t\tthis.release(this)\n\t\t}\n\t}\n}\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = isEqual;\n","// cheap lodash replacements\nexport function memoize(fn) {\n  var result = null;\n\n  var memoized = function memoized() {\n    if (result == null) {\n      result = fn();\n    }\n\n    return result;\n  };\n\n  return memoized;\n}\n/**\n * drop-in replacement for _.without\n */\n\nexport function without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\nexport function union(itemsA, itemsB) {\n  var set = new Set();\n\n  var insertItem = function insertItem(item) {\n    return set.add(item);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  set.forEach(function (key) {\n    return result.push(key);\n  });\n  return result;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { union, without } from './utils/js_utils';\nexport var EnterLeaveCounter = /*#__PURE__*/function () {\n  function EnterLeaveCounter(isNodeInDocument) {\n    _classCallCheck(this, EnterLeaveCounter);\n\n    _defineProperty(this, \"entered\", []);\n\n    _defineProperty(this, \"isNodeInDocument\", void 0);\n\n    this.isNodeInDocument = isNodeInDocument;\n  }\n\n  _createClass(EnterLeaveCounter, [{\n    key: \"enter\",\n    value: function enter(enteringNode) {\n      var _this = this;\n\n      var previousLength = this.entered.length;\n\n      var isNodeEntered = function isNodeEntered(node) {\n        return _this.isNodeInDocument(node) && (!node.contains || node.contains(enteringNode));\n      };\n\n      this.entered = union(this.entered.filter(isNodeEntered), [enteringNode]);\n      return previousLength === 0 && this.entered.length > 0;\n    }\n  }, {\n    key: \"leave\",\n    value: function leave(leavingNode) {\n      var previousLength = this.entered.length;\n      this.entered = without(this.entered.filter(this.isNodeInDocument), leavingNode);\n      return previousLength > 0 && this.entered.length === 0;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.entered = [];\n    }\n  }]);\n\n  return EnterLeaveCounter;\n}();","import { memoize } from './utils/js_utils';\nexport var isFirefox = memoize(function () {\n  return /firefox/i.test(navigator.userAgent);\n});\nexport var isSafari = memoize(function () {\n  return Boolean(window.safari);\n});","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var MonotonicInterpolant = /*#__PURE__*/function () {\n  function MonotonicInterpolant(xs, ys) {\n    _classCallCheck(this, MonotonicInterpolant);\n\n    _defineProperty(this, \"xs\", void 0);\n\n    _defineProperty(this, \"ys\", void 0);\n\n    _defineProperty(this, \"c1s\", void 0);\n\n    _defineProperty(this, \"c2s\", void 0);\n\n    _defineProperty(this, \"c3s\", void 0);\n\n    var length = xs.length; // Rearrange xs and ys so that xs is sorted\n\n    var indexes = [];\n\n    for (var i = 0; i < length; i++) {\n      indexes.push(i);\n    }\n\n    indexes.sort(function (a, b) {\n      return xs[a] < xs[b] ? -1 : 1;\n    }); // Get consecutive differences and slopes\n\n    var dys = [];\n    var dxs = [];\n    var ms = [];\n    var dx;\n    var dy;\n\n    for (var _i = 0; _i < length - 1; _i++) {\n      dx = xs[_i + 1] - xs[_i];\n      dy = ys[_i + 1] - ys[_i];\n      dxs.push(dx);\n      dys.push(dy);\n      ms.push(dy / dx);\n    } // Get degree-1 coefficients\n\n\n    var c1s = [ms[0]];\n\n    for (var _i2 = 0; _i2 < dxs.length - 1; _i2++) {\n      var m2 = ms[_i2];\n      var mNext = ms[_i2 + 1];\n\n      if (m2 * mNext <= 0) {\n        c1s.push(0);\n      } else {\n        dx = dxs[_i2];\n        var dxNext = dxs[_i2 + 1];\n        var common = dx + dxNext;\n        c1s.push(3 * common / ((common + dxNext) / m2 + (common + dx) / mNext));\n      }\n    }\n\n    c1s.push(ms[ms.length - 1]); // Get degree-2 and degree-3 coefficients\n\n    var c2s = [];\n    var c3s = [];\n    var m;\n\n    for (var _i3 = 0; _i3 < c1s.length - 1; _i3++) {\n      m = ms[_i3];\n      var c1 = c1s[_i3];\n      var invDx = 1 / dxs[_i3];\n\n      var _common = c1 + c1s[_i3 + 1] - m - m;\n\n      c2s.push((m - c1 - _common) * invDx);\n      c3s.push(_common * invDx * invDx);\n    }\n\n    this.xs = xs;\n    this.ys = ys;\n    this.c1s = c1s;\n    this.c2s = c2s;\n    this.c3s = c3s;\n  }\n\n  _createClass(MonotonicInterpolant, [{\n    key: \"interpolate\",\n    value: function interpolate(x) {\n      var xs = this.xs,\n          ys = this.ys,\n          c1s = this.c1s,\n          c2s = this.c2s,\n          c3s = this.c3s; // The rightmost point in the dataset should give an exact result\n\n      var i = xs.length - 1;\n\n      if (x === xs[i]) {\n        return ys[i];\n      } // Search for the interval x is in, returning the corresponding y if x is one of the original xs\n\n\n      var low = 0;\n      var high = c3s.length - 1;\n      var mid;\n\n      while (low <= high) {\n        mid = Math.floor(0.5 * (low + high));\n        var xHere = xs[mid];\n\n        if (xHere < x) {\n          low = mid + 1;\n        } else if (xHere > x) {\n          high = mid - 1;\n        } else {\n          return ys[mid];\n        }\n      }\n\n      i = Math.max(0, high); // Interpolate\n\n      var diff = x - xs[i];\n      var diffSq = diff * diff;\n      return ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq;\n    }\n  }]);\n\n  return MonotonicInterpolant;\n}();","import { isSafari, isFirefox } from './BrowserDetector';\nimport { MonotonicInterpolant } from './MonotonicInterpolant';\nvar ELEMENT_NODE = 1;\nexport function getNodeClientOffset(node) {\n  var el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;\n\n  if (!el) {\n    return null;\n  }\n\n  var _el$getBoundingClient = el.getBoundingClientRect(),\n      top = _el$getBoundingClient.top,\n      left = _el$getBoundingClient.left;\n\n  return {\n    x: left,\n    y: top\n  };\n}\nexport function getEventClientOffset(e) {\n  return {\n    x: e.clientX,\n    y: e.clientY\n  };\n}\n\nfunction isImageNode(node) {\n  var _document$documentEle;\n\n  return node.nodeName === 'IMG' && (isFirefox() || !((_document$documentEle = document.documentElement) !== null && _document$documentEle !== void 0 && _document$documentEle.contains(node)));\n}\n\nfunction getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight) {\n  var dragPreviewWidth = isImage ? dragPreview.width : sourceWidth;\n  var dragPreviewHeight = isImage ? dragPreview.height : sourceHeight; // Work around @2x coordinate discrepancies in browsers\n\n  if (isSafari() && isImage) {\n    dragPreviewHeight /= window.devicePixelRatio;\n    dragPreviewWidth /= window.devicePixelRatio;\n  }\n\n  return {\n    dragPreviewWidth: dragPreviewWidth,\n    dragPreviewHeight: dragPreviewHeight\n  };\n}\n\nexport function getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint) {\n  // The browsers will use the image intrinsic size under different conditions.\n  // Firefox only cares if it's an image, but WebKit also wants it to be detached.\n  var isImage = isImageNode(dragPreview);\n  var dragPreviewNode = isImage ? sourceNode : dragPreview;\n  var dragPreviewNodeOffsetFromClient = getNodeClientOffset(dragPreviewNode);\n  var offsetFromDragPreview = {\n    x: clientOffset.x - dragPreviewNodeOffsetFromClient.x,\n    y: clientOffset.y - dragPreviewNodeOffsetFromClient.y\n  };\n  var sourceWidth = sourceNode.offsetWidth,\n      sourceHeight = sourceNode.offsetHeight;\n  var anchorX = anchorPoint.anchorX,\n      anchorY = anchorPoint.anchorY;\n\n  var _getDragPreviewSize = getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight),\n      dragPreviewWidth = _getDragPreviewSize.dragPreviewWidth,\n      dragPreviewHeight = _getDragPreviewSize.dragPreviewHeight;\n\n  var calculateYOffset = function calculateYOffset() {\n    var interpolantY = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the top\n    offsetFromDragPreview.y, // Align at the center\n    offsetFromDragPreview.y / sourceHeight * dragPreviewHeight, // Dock to the bottom\n    offsetFromDragPreview.y + dragPreviewHeight - sourceHeight]);\n    var y = interpolantY.interpolate(anchorY); // Work around Safari 8 positioning bug\n\n    if (isSafari() && isImage) {\n      // We'll have to wait for @3x to see if this is entirely correct\n      y += (window.devicePixelRatio - 1) * dragPreviewHeight;\n    }\n\n    return y;\n  };\n\n  var calculateXOffset = function calculateXOffset() {\n    // Interpolate coordinates depending on anchor point\n    // If you know a simpler way to do this, let me know\n    var interpolantX = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the left\n    offsetFromDragPreview.x, // Align at the center\n    offsetFromDragPreview.x / sourceWidth * dragPreviewWidth, // Dock to the right\n    offsetFromDragPreview.x + dragPreviewWidth - sourceWidth]);\n    return interpolantX.interpolate(anchorX);\n  }; // Force offsets if specified in the options.\n\n\n  var offsetX = offsetPoint.offsetX,\n      offsetY = offsetPoint.offsetY;\n  var isManualOffsetX = offsetX === 0 || offsetX;\n  var isManualOffsetY = offsetY === 0 || offsetY;\n  return {\n    x: isManualOffsetX ? offsetX : calculateXOffset(),\n    y: isManualOffsetY ? offsetY : calculateYOffset()\n  };\n}","export var FILE = '__NATIVE_FILE__';\nexport var URL = '__NATIVE_URL__';\nexport var TEXT = '__NATIVE_TEXT__';\nexport var HTML = '__NATIVE_HTML__';","var _nativeTypesConfig;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport * as NativeTypes from '../NativeTypes';\nimport { getDataFromDataTransfer } from './getDataFromDataTransfer';\nexport var nativeTypesConfig = (_nativeTypesConfig = {}, _defineProperty(_nativeTypesConfig, NativeTypes.FILE, {\n  exposeProperties: {\n    files: function files(dataTransfer) {\n      return Array.prototype.slice.call(dataTransfer.files);\n    },\n    items: function items(dataTransfer) {\n      return dataTransfer.items;\n    },\n    dataTransfer: function dataTransfer(_dataTransfer) {\n      return _dataTransfer;\n    }\n  },\n  matchesTypes: ['Files']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.HTML, {\n  exposeProperties: {\n    html: function html(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '');\n    },\n    dataTransfer: function dataTransfer(_dataTransfer2) {\n      return _dataTransfer2;\n    }\n  },\n  matchesTypes: ['Html', 'text/html']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.URL, {\n  exposeProperties: {\n    urls: function urls(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '').split('\\n');\n    },\n    dataTransfer: function dataTransfer(_dataTransfer3) {\n      return _dataTransfer3;\n    }\n  },\n  matchesTypes: ['Url', 'text/uri-list']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.TEXT, {\n  exposeProperties: {\n    text: function text(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '');\n    },\n    dataTransfer: function dataTransfer(_dataTransfer4) {\n      return _dataTransfer4;\n    }\n  },\n  matchesTypes: ['Text', 'text/plain']\n}), _nativeTypesConfig);","export function getDataFromDataTransfer(dataTransfer, typesToTry, defaultValue) {\n  var result = typesToTry.reduce(function (resultSoFar, typeToTry) {\n    return resultSoFar || dataTransfer.getData(typeToTry);\n  }, '');\n  return result != null ? result : defaultValue;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var NativeDragSource = /*#__PURE__*/function () {\n  function NativeDragSource(config) {\n    _classCallCheck(this, NativeDragSource);\n\n    _defineProperty(this, \"item\", void 0);\n\n    _defineProperty(this, \"config\", void 0);\n\n    this.config = config;\n    this.item = {};\n    this.initializeExposedProperties();\n  }\n\n  _createClass(NativeDragSource, [{\n    key: \"initializeExposedProperties\",\n    value: function initializeExposedProperties() {\n      var _this = this;\n\n      Object.keys(this.config.exposeProperties).forEach(function (property) {\n        Object.defineProperty(_this.item, property, {\n          configurable: true,\n          enumerable: true,\n          get: function get() {\n            // eslint-disable-next-line no-console\n            console.warn(\"Browser doesn't allow reading \\\"\".concat(property, \"\\\" until the drop event.\"));\n            return null;\n          }\n        });\n      });\n    }\n  }, {\n    key: \"loadDataTransfer\",\n    value: function loadDataTransfer(dataTransfer) {\n      var _this2 = this;\n\n      if (dataTransfer) {\n        var newProperties = {};\n        Object.keys(this.config.exposeProperties).forEach(function (property) {\n          newProperties[property] = {\n            value: _this2.config.exposeProperties[property](dataTransfer, _this2.config.matchesTypes),\n            configurable: true,\n            enumerable: true\n          };\n        });\n        Object.defineProperties(this.item, newProperties);\n      }\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      return true;\n    }\n  }, {\n    key: \"beginDrag\",\n    value: function beginDrag() {\n      return this.item;\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(monitor, handle) {\n      return handle === monitor.getSourceId();\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {// empty\n    }\n  }]);\n\n  return NativeDragSource;\n}();","import { nativeTypesConfig } from './nativeTypesConfig';\nimport { NativeDragSource } from './NativeDragSource';\nexport function createNativeDragSource(type, dataTransfer) {\n  var result = new NativeDragSource(nativeTypesConfig[type]);\n  result.loadDataTransfer(dataTransfer);\n  return result;\n}\nexport function matchNativeItemType(dataTransfer) {\n  if (!dataTransfer) {\n    return null;\n  }\n\n  var dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || []);\n  return Object.keys(nativeTypesConfig).filter(function (nativeItemType) {\n    var matchesTypes = nativeTypesConfig[nativeItemType].matchesTypes;\n    return matchesTypes.some(function (t) {\n      return dataTransferTypes.indexOf(t) > -1;\n    });\n  })[0] || null;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var OptionsReader = /*#__PURE__*/function () {\n  function OptionsReader(globalContext, options) {\n    _classCallCheck(this, OptionsReader);\n\n    _defineProperty(this, \"ownerDocument\", null);\n\n    _defineProperty(this, \"globalContext\", void 0);\n\n    _defineProperty(this, \"optionsArgs\", void 0);\n\n    this.globalContext = globalContext;\n    this.optionsArgs = options;\n  }\n\n  _createClass(OptionsReader, [{\n    key: \"window\",\n    get: function get() {\n      if (this.globalContext) {\n        return this.globalContext;\n      } else if (typeof window !== 'undefined') {\n        return window;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      var _this$globalContext;\n\n      if ((_this$globalContext = this.globalContext) !== null && _this$globalContext !== void 0 && _this$globalContext.document) {\n        return this.globalContext.document;\n      } else if (this.window) {\n        return this.window.document;\n      } else {\n        return undefined;\n      }\n    }\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      var _this$optionsArgs;\n\n      return ((_this$optionsArgs = this.optionsArgs) === null || _this$optionsArgs === void 0 ? void 0 : _this$optionsArgs.rootElement) || this.window;\n    }\n  }]);\n\n  return OptionsReader;\n}();","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { EnterLeaveCounter } from './EnterLeaveCounter';\nimport { getNodeClientOffset, getEventClientOffset, getDragPreviewOffset } from './OffsetUtils';\nimport { createNativeDragSource, matchNativeItemType } from './NativeDragSources';\nimport * as NativeTypes from './NativeTypes';\nimport { OptionsReader } from './OptionsReader';\nexport var HTML5BackendImpl = /*#__PURE__*/function () {\n  // React-Dnd Components\n  // Internal State\n  function HTML5BackendImpl(manager, globalContext, options) {\n    var _this = this;\n\n    _classCallCheck(this, HTML5BackendImpl);\n\n    _defineProperty(this, \"options\", void 0);\n\n    _defineProperty(this, \"actions\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"registry\", void 0);\n\n    _defineProperty(this, \"enterLeaveCounter\", void 0);\n\n    _defineProperty(this, \"sourcePreviewNodes\", new Map());\n\n    _defineProperty(this, \"sourcePreviewNodeOptions\", new Map());\n\n    _defineProperty(this, \"sourceNodes\", new Map());\n\n    _defineProperty(this, \"sourceNodeOptions\", new Map());\n\n    _defineProperty(this, \"dragStartSourceIds\", null);\n\n    _defineProperty(this, \"dropTargetIds\", []);\n\n    _defineProperty(this, \"dragEnterTargetIds\", []);\n\n    _defineProperty(this, \"currentNativeSource\", null);\n\n    _defineProperty(this, \"currentNativeHandle\", null);\n\n    _defineProperty(this, \"currentDragSourceNode\", null);\n\n    _defineProperty(this, \"altKeyPressed\", false);\n\n    _defineProperty(this, \"mouseMoveTimeoutTimer\", null);\n\n    _defineProperty(this, \"asyncEndDragFrameId\", null);\n\n    _defineProperty(this, \"dragOverTargetIds\", null);\n\n    _defineProperty(this, \"lastClientOffset\", null);\n\n    _defineProperty(this, \"hoverRafId\", null);\n\n    _defineProperty(this, \"getSourceClientOffset\", function (sourceId) {\n      var source = _this.sourceNodes.get(sourceId);\n\n      return source && getNodeClientOffset(source) || null;\n    });\n\n    _defineProperty(this, \"endDragNativeItem\", function () {\n      if (!_this.isDraggingNativeItem()) {\n        return;\n      }\n\n      _this.actions.endDrag();\n\n      if (_this.currentNativeHandle) {\n        _this.registry.removeSource(_this.currentNativeHandle);\n      }\n\n      _this.currentNativeHandle = null;\n      _this.currentNativeSource = null;\n    });\n\n    _defineProperty(this, \"isNodeInDocument\", function (node) {\n      // Check the node either in the main document or in the current context\n      return Boolean(node && _this.document && _this.document.body && _this.document.body.contains(node));\n    });\n\n    _defineProperty(this, \"endDragIfSourceWasRemovedFromDOM\", function () {\n      var node = _this.currentDragSourceNode;\n\n      if (node == null || _this.isNodeInDocument(node)) {\n        return;\n      }\n\n      if (_this.clearCurrentDragSourceNode() && _this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragStartCapture\", function () {\n      _this.clearCurrentDragSourceNode();\n\n      _this.dragStartSourceIds = [];\n    });\n\n    _defineProperty(this, \"handleTopDragStart\", function (e) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      var dragStartSourceIds = _this.dragStartSourceIds;\n      _this.dragStartSourceIds = null;\n      var clientOffset = getEventClientOffset(e); // Avoid crashing if we missed a drop event or our previous drag died\n\n      if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      } // Don't publish the source just yet (see why below)\n\n\n      _this.actions.beginDrag(dragStartSourceIds || [], {\n        publishSource: false,\n        getSourceClientOffset: _this.getSourceClientOffset,\n        clientOffset: clientOffset\n      });\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (_this.monitor.isDragging()) {\n        if (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n          // Use custom drag image if user specifies it.\n          // If child drag source refuses drag but parent agrees,\n          // use parent's node as drag image. Neither works in IE though.\n          var sourceId = _this.monitor.getSourceId();\n\n          var sourceNode = _this.sourceNodes.get(sourceId);\n\n          var dragPreview = _this.sourcePreviewNodes.get(sourceId) || sourceNode;\n\n          if (dragPreview) {\n            var _this$getCurrentSourc = _this.getCurrentSourcePreviewNodeOptions(),\n                anchorX = _this$getCurrentSourc.anchorX,\n                anchorY = _this$getCurrentSourc.anchorY,\n                offsetX = _this$getCurrentSourc.offsetX,\n                offsetY = _this$getCurrentSourc.offsetY;\n\n            var anchorPoint = {\n              anchorX: anchorX,\n              anchorY: anchorY\n            };\n            var offsetPoint = {\n              offsetX: offsetX,\n              offsetY: offsetY\n            };\n            var dragPreviewOffset = getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);\n            dataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);\n          }\n        }\n\n        try {\n          // Firefox won't drag without setting data\n          dataTransfer === null || dataTransfer === void 0 ? void 0 : dataTransfer.setData('application/json', {});\n        } catch (err) {// IE doesn't support MIME types in setData\n        } // Store drag source node so we can check whether\n        // it is removed from DOM and trigger endDrag manually.\n\n\n        _this.setCurrentDragSourceNode(e.target); // Now we are ready to publish the drag source.. or are we not?\n\n\n        var _this$getCurrentSourc2 = _this.getCurrentSourcePreviewNodeOptions(),\n            captureDraggingState = _this$getCurrentSourc2.captureDraggingState;\n\n        if (!captureDraggingState) {\n          // Usually we want to publish it in the next tick so that browser\n          // is able to screenshot the current (not yet dragging) state.\n          //\n          // It also neatly avoids a situation where render() returns null\n          // in the same tick for the source element, and browser freaks out.\n          setTimeout(function () {\n            return _this.actions.publishDragSource();\n          }, 0);\n        } else {\n          // In some cases the user may want to override this behavior, e.g.\n          // to work around IE not supporting custom drag previews.\n          //\n          // When using a custom drag layer, the only way to prevent\n          // the default drag preview from drawing in IE is to screenshot\n          // the dragging state in which the node itself has zero opacity\n          // and height. In this case, though, returning null from render()\n          // will abruptly end the dragging, which is not obvious.\n          //\n          // This is the reason such behavior is strictly opt-in.\n          _this.actions.publishDragSource();\n        }\n      } else if (nativeType) {\n        // A native item (such as URL) dragged from inside the document\n        _this.beginDragNativeItem(nativeType);\n      } else if (dataTransfer && !dataTransfer.types && (e.target && !e.target.hasAttribute || !e.target.hasAttribute('draggable'))) {\n        // Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n        // Just let it drag. It's a native type (URL or text) and will be picked up in\n        // dragenter handler.\n        return;\n      } else {\n        // If by this time no drag source reacted, tell browser not to drag.\n        e.preventDefault();\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragEndCapture\", function () {\n      if (_this.clearCurrentDragSourceNode() && _this.monitor.isDragging()) {\n        // Firefox can dispatch this event in an infinite loop\n        // if dragend handler does something like showing an alert.\n        // Only proceed if we have not handled it already.\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragEnterCapture\", function (e) {\n      _this.dragEnterTargetIds = [];\n\n      var isFirstEnter = _this.enterLeaveCounter.enter(e.target);\n\n      if (!isFirstEnter || _this.monitor.isDragging()) {\n        return;\n      }\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (nativeType) {\n        // A native item (such as file or URL) dragged from outside the document\n        _this.beginDragNativeItem(nativeType, dataTransfer);\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragEnter\", function (e) {\n      var dragEnterTargetIds = _this.dragEnterTargetIds;\n      _this.dragEnterTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey; // If the target changes position as the result of `dragenter`, `dragover` might still\n      // get dispatched despite target being no longer there. The easy solution is to check\n      // whether there actually is a target before firing `hover`.\n\n      if (dragEnterTargetIds.length > 0) {\n        _this.actions.hover(dragEnterTargetIds, {\n          clientOffset: getEventClientOffset(e)\n        });\n      }\n\n      var canDrop = dragEnterTargetIds.some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // IE requires this to fire dragover events\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragOverCapture\", function () {\n      _this.dragOverTargetIds = [];\n    });\n\n    _defineProperty(this, \"handleTopDragOver\", function (e) {\n      var dragOverTargetIds = _this.dragOverTargetIds;\n      _this.dragOverTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        // Prevent default \"drop and blow away the whole document\" action.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n      _this.lastClientOffset = getEventClientOffset(e);\n\n      if (_this.hoverRafId === null && typeof requestAnimationFrame !== 'undefined') {\n        _this.hoverRafId = requestAnimationFrame(function () {\n          if (_this.monitor.isDragging()) {\n            _this.actions.hover(dragOverTargetIds || [], {\n              clientOffset: _this.lastClientOffset\n            });\n          }\n\n          _this.hoverRafId = null;\n        });\n      }\n\n      var canDrop = (dragOverTargetIds || []).some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // Show user-specified drop effect.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      } else if (_this.isDraggingNativeItem()) {\n        // Don't show a nice cursor but still prevent default\n        // \"drop and blow away the whole document\" action.\n        e.preventDefault();\n      } else {\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n      }\n    });\n\n    _defineProperty(this, \"handleTopDragLeaveCapture\", function (e) {\n      if (_this.isDraggingNativeItem()) {\n        e.preventDefault();\n      }\n\n      var isLastLeave = _this.enterLeaveCounter.leave(e.target);\n\n      if (!isLastLeave) {\n        return;\n      }\n\n      if (_this.isDraggingNativeItem()) {\n        setTimeout(function () {\n          return _this.endDragNativeItem();\n        }, 0);\n      }\n    });\n\n    _defineProperty(this, \"handleTopDropCapture\", function (e) {\n      _this.dropTargetIds = [];\n\n      if (_this.isDraggingNativeItem()) {\n        var _this$currentNativeSo;\n\n        e.preventDefault();\n        (_this$currentNativeSo = _this.currentNativeSource) === null || _this$currentNativeSo === void 0 ? void 0 : _this$currentNativeSo.loadDataTransfer(e.dataTransfer);\n      } else if (matchNativeItemType(e.dataTransfer)) {\n        // Dragging some elements, like <a> and <img> may still behave like a native drag event,\n        // even if the current drag event matches a user-defined type.\n        // Stop the default behavior when we're not expecting a native item to be dropped.\n        e.preventDefault();\n      }\n\n      _this.enterLeaveCounter.reset();\n    });\n\n    _defineProperty(this, \"handleTopDrop\", function (e) {\n      var dropTargetIds = _this.dropTargetIds;\n      _this.dropTargetIds = [];\n\n      _this.actions.hover(dropTargetIds, {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      _this.actions.drop({\n        dropEffect: _this.getCurrentDropEffect()\n      });\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      } else if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      }\n    });\n\n    _defineProperty(this, \"handleSelectStart\", function (e) {\n      var target = e.target; // Only IE requires us to explicitly say\n      // we want drag drop operation to start\n\n      if (typeof target.dragDrop !== 'function') {\n        return;\n      } // Inputs and textareas should be selectable\n\n\n      if (target.tagName === 'INPUT' || target.tagName === 'SELECT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\n        return;\n      } // For other targets, ask IE\n      // to enable drag and drop\n\n\n      e.preventDefault();\n      target.dragDrop();\n    });\n\n    this.options = new OptionsReader(globalContext, options);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.registry = manager.getRegistry();\n    this.enterLeaveCounter = new EnterLeaveCounter(this.isNodeInDocument);\n  }\n  /**\n   * Generate profiling statistics for the HTML5Backend.\n   */\n\n\n  _createClass(HTML5BackendImpl, [{\n    key: \"profile\",\n    value: function profile() {\n      var _this$dragStartSource, _this$dragOverTargetI;\n\n      return {\n        sourcePreviewNodes: this.sourcePreviewNodes.size,\n        sourcePreviewNodeOptions: this.sourcePreviewNodeOptions.size,\n        sourceNodeOptions: this.sourceNodeOptions.size,\n        sourceNodes: this.sourceNodes.size,\n        dragStartSourceIds: ((_this$dragStartSource = this.dragStartSourceIds) === null || _this$dragStartSource === void 0 ? void 0 : _this$dragStartSource.length) || 0,\n        dropTargetIds: this.dropTargetIds.length,\n        dragEnterTargetIds: this.dragEnterTargetIds.length,\n        dragOverTargetIds: ((_this$dragOverTargetI = this.dragOverTargetIds) === null || _this$dragOverTargetI === void 0 ? void 0 : _this$dragOverTargetI.length) || 0\n      };\n    } // public for test\n\n  }, {\n    key: \"window\",\n    get: function get() {\n      return this.options.window;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      return this.options.document;\n    }\n    /**\n     * Get the root element to use for event subscriptions\n     */\n\n  }, {\n    key: \"rootElement\",\n    get: function get() {\n      return this.options.rootElement;\n    }\n  }, {\n    key: \"setup\",\n    value: function setup() {\n      var root = this.rootElement;\n\n      if (root === undefined) {\n        return;\n      }\n\n      if (root.__isReactDndBackendSetUp) {\n        throw new Error('Cannot have two HTML5 backends at the same time.');\n      }\n\n      root.__isReactDndBackendSetUp = true;\n      this.addEventListeners(root);\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      var root = this.rootElement;\n\n      if (root === undefined) {\n        return;\n      }\n\n      root.__isReactDndBackendSetUp = false;\n      this.removeEventListeners(this.rootElement);\n      this.clearCurrentDragSourceNode();\n\n      if (this.asyncEndDragFrameId) {\n        var _this$window;\n\n        (_this$window = this.window) === null || _this$window === void 0 ? void 0 : _this$window.cancelAnimationFrame(this.asyncEndDragFrameId);\n      }\n    }\n  }, {\n    key: \"connectDragPreview\",\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this2 = this;\n\n      this.sourcePreviewNodeOptions.set(sourceId, options);\n      this.sourcePreviewNodes.set(sourceId, node);\n      return function () {\n        _this2.sourcePreviewNodes.delete(sourceId);\n\n        _this2.sourcePreviewNodeOptions.delete(sourceId);\n      };\n    }\n  }, {\n    key: \"connectDragSource\",\n    value: function connectDragSource(sourceId, node, options) {\n      var _this3 = this;\n\n      this.sourceNodes.set(sourceId, node);\n      this.sourceNodeOptions.set(sourceId, options);\n\n      var handleDragStart = function handleDragStart(e) {\n        return _this3.handleDragStart(e, sourceId);\n      };\n\n      var handleSelectStart = function handleSelectStart(e) {\n        return _this3.handleSelectStart(e);\n      };\n\n      node.setAttribute('draggable', 'true');\n      node.addEventListener('dragstart', handleDragStart);\n      node.addEventListener('selectstart', handleSelectStart);\n      return function () {\n        _this3.sourceNodes.delete(sourceId);\n\n        _this3.sourceNodeOptions.delete(sourceId);\n\n        node.removeEventListener('dragstart', handleDragStart);\n        node.removeEventListener('selectstart', handleSelectStart);\n        node.setAttribute('draggable', 'false');\n      };\n    }\n  }, {\n    key: \"connectDropTarget\",\n    value: function connectDropTarget(targetId, node) {\n      var _this4 = this;\n\n      var handleDragEnter = function handleDragEnter(e) {\n        return _this4.handleDragEnter(e, targetId);\n      };\n\n      var handleDragOver = function handleDragOver(e) {\n        return _this4.handleDragOver(e, targetId);\n      };\n\n      var handleDrop = function handleDrop(e) {\n        return _this4.handleDrop(e, targetId);\n      };\n\n      node.addEventListener('dragenter', handleDragEnter);\n      node.addEventListener('dragover', handleDragOver);\n      node.addEventListener('drop', handleDrop);\n      return function () {\n        node.removeEventListener('dragenter', handleDragEnter);\n        node.removeEventListener('dragover', handleDragOver);\n        node.removeEventListener('drop', handleDrop);\n      };\n    }\n  }, {\n    key: \"addEventListeners\",\n    value: function addEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.addEventListener) {\n        return;\n      }\n\n      target.addEventListener('dragstart', this.handleTopDragStart);\n      target.addEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.addEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.addEventListener('dragenter', this.handleTopDragEnter);\n      target.addEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.addEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.addEventListener('dragover', this.handleTopDragOver);\n      target.addEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.addEventListener('drop', this.handleTopDrop);\n      target.addEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"removeEventListeners\",\n    value: function removeEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.removeEventListener) {\n        return;\n      }\n\n      target.removeEventListener('dragstart', this.handleTopDragStart);\n      target.removeEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.removeEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.removeEventListener('dragenter', this.handleTopDragEnter);\n      target.removeEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.removeEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.removeEventListener('dragover', this.handleTopDragOver);\n      target.removeEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.removeEventListener('drop', this.handleTopDrop);\n      target.removeEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"getCurrentSourceNodeOptions\",\n    value: function getCurrentSourceNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourceNodeOptions = this.sourceNodeOptions.get(sourceId);\n      return _objectSpread({\n        dropEffect: this.altKeyPressed ? 'copy' : 'move'\n      }, sourceNodeOptions || {});\n    }\n  }, {\n    key: \"getCurrentDropEffect\",\n    value: function getCurrentDropEffect() {\n      if (this.isDraggingNativeItem()) {\n        // It makes more sense to default to 'copy' for native resources\n        return 'copy';\n      }\n\n      return this.getCurrentSourceNodeOptions().dropEffect;\n    }\n  }, {\n    key: \"getCurrentSourcePreviewNodeOptions\",\n    value: function getCurrentSourcePreviewNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId);\n      return _objectSpread({\n        anchorX: 0.5,\n        anchorY: 0.5,\n        captureDraggingState: false\n      }, sourcePreviewNodeOptions || {});\n    }\n  }, {\n    key: \"isDraggingNativeItem\",\n    value: function isDraggingNativeItem() {\n      var itemType = this.monitor.getItemType();\n      return Object.keys(NativeTypes).some(function (key) {\n        return NativeTypes[key] === itemType;\n      });\n    }\n  }, {\n    key: \"beginDragNativeItem\",\n    value: function beginDragNativeItem(type, dataTransfer) {\n      this.clearCurrentDragSourceNode();\n      this.currentNativeSource = createNativeDragSource(type, dataTransfer);\n      this.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);\n      this.actions.beginDrag([this.currentNativeHandle]);\n    }\n  }, {\n    key: \"setCurrentDragSourceNode\",\n    value: function setCurrentDragSourceNode(node) {\n      var _this5 = this;\n\n      this.clearCurrentDragSourceNode();\n      this.currentDragSourceNode = node; // A timeout of > 0 is necessary to resolve Firefox issue referenced\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n\n      var MOUSE_MOVE_TIMEOUT = 1000; // Receiving a mouse event in the middle of a dragging operation\n      // means it has ended and the drag source node disappeared from DOM,\n      // so the browser didn't dispatch the dragend event.\n      //\n      // We need to wait before we start listening for mousemove events.\n      // This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n      // immediately in some browsers.\n      //\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n      //\n\n      this.mouseMoveTimeoutTimer = setTimeout(function () {\n        var _this5$rootElement;\n\n        return (_this5$rootElement = _this5.rootElement) === null || _this5$rootElement === void 0 ? void 0 : _this5$rootElement.addEventListener('mousemove', _this5.endDragIfSourceWasRemovedFromDOM, true);\n      }, MOUSE_MOVE_TIMEOUT);\n    }\n  }, {\n    key: \"clearCurrentDragSourceNode\",\n    value: function clearCurrentDragSourceNode() {\n      if (this.currentDragSourceNode) {\n        this.currentDragSourceNode = null;\n\n        if (this.rootElement) {\n          var _this$window2;\n\n          (_this$window2 = this.window) === null || _this$window2 === void 0 ? void 0 : _this$window2.clearTimeout(this.mouseMoveTimeoutTimer || undefined);\n          this.rootElement.removeEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);\n        }\n\n        this.mouseMoveTimeoutTimer = null;\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"handleDragStart\",\n    value: function handleDragStart(e, sourceId) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      if (!this.dragStartSourceIds) {\n        this.dragStartSourceIds = [];\n      }\n\n      this.dragStartSourceIds.unshift(sourceId);\n    }\n  }, {\n    key: \"handleDragEnter\",\n    value: function handleDragEnter(e, targetId) {\n      this.dragEnterTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDragOver\",\n    value: function handleDragOver(e, targetId) {\n      if (this.dragOverTargetIds === null) {\n        this.dragOverTargetIds = [];\n      }\n\n      this.dragOverTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDrop\",\n    value: function handleDrop(e, targetId) {\n      this.dropTargetIds.unshift(targetId);\n    }\n  }]);\n\n  return HTML5BackendImpl;\n}();","var emptyImage;\nexport function getEmptyImage() {\n  if (!emptyImage) {\n    emptyImage = new Image();\n    emptyImage.src = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n  }\n\n  return emptyImage;\n}","import { HTML5BackendImpl } from './HTML5BackendImpl';\nimport * as NativeTypes from './NativeTypes';\nexport { getEmptyImage } from './getEmptyImage';\nexport { NativeTypes };\nexport var HTML5Backend = function createBackend(manager, context, options) {\n  return new HTML5BackendImpl(manager, context, options);\n};","/**\n * Utils includes\n * - a handful of functional utilities inspired by or taken from the [Ramda library](https://ramdajs.com/);\n * - TypeScript crutches - the [[tup]] function.\n *\n * Use these for your convenience - they are here so that urx is zero-dependency package.\n *\n * @packageDocumentation\n */\n\n/** @internal */\nexport interface Proc {\n  (): any\n}\n\n/**\n * Performs left to right composition of two functions.\n */\nexport function compose<I, A, R>(a: (arg: A) => R, b: (arg: I) => A): (arg: I) => R {\n  return (arg: I) => a(b(arg))\n}\n\n/**\n * Takes a value and applies a function to it.\n */\nexport function thrush<I, K>(arg: I, proc: (arg: I) => K) {\n  return proc(arg)\n}\n\n/**\n * Takes a 2 argument function and partially applies the first argument.\n */\nexport function curry2to1<T, K, R>(proc: (arg1: T, arg2: K) => R, arg1: T): (arg2: K) => R {\n  return arg2 => proc(arg1, arg2)\n}\n\n/**\n * Takes a 1 argument function and returns a function which when called, executes it with the provided argument.\n */\nexport function curry1to0<T, R>(proc: (arg: T) => R, arg: T): () => R {\n  return () => proc(arg)\n}\n\n/**\n * Returns a function which extracts the property from from the passed object.\n */\nexport function prop(property: string) {\n  return (object: any) => object[property]\n}\n\n/**\n * Calls callback with the first argument, and returns it.\n */\nexport function tap<T>(arg: T, proc: (arg: T) => any): T {\n  proc(arg)\n  return arg\n}\n\n/**\n *  Utility function to help typescript figure out that what we pass is a tuple and not a generic array.\n *  Taken from (this StackOverflow tread)[https://stackoverflow.com/questions/49729550/implicitly-create-a-tuple-in-typescript/52445008#52445008]\n */\nexport function tup<T extends Array<any>>(...args: T): T {\n  return args\n}\n\n/**\n * Calls the passed function.\n */\nexport function call(proc: Proc) {\n  proc()\n}\n\n/**\n * returns a function which when called always returns the passed value\n */\nexport function always<T>(value: T) {\n  return () => value\n}\n\n/**\n * returns a function which calls all passed functions in the passed order.\n * joinProc does not pass arguments or collect return values.\n */\nexport function joinProc(...procs: Proc[]) {\n  return () => {\n    procs.map(call)\n  }\n}\n\nexport function noop() {}\n","/**\n * urx Actions operate on streams - `publish` publishes data in a stream, and `subscribe` attaches a subscription to a stream.\n * @packageDocumentation\n */\nimport { PUBLISH, RESET, SUBSCRIBE, VALUE } from './constants'\nimport { curry2to1 } from './utils'\n\n/**\n * A Publisher is the **input end** of a Stream. The [[publish]] action publishes values in publishers.\n * @typeParam T the type of values to be published.\n */\nexport interface Publisher<T> {\n  /** @internal */\n  (action: PUBLISH, value: T): void\n}\n\n/**\n * An Emitter is the **output end** of a Stream. The [[subscribe]] action binds {@link Subscription | subscriptions} to emitters.\n * @typeParam T the type of values that will be emitted.\n */\nexport interface Emitter<T> {\n  /** @internal */\n  (action: SUBSCRIBE, subscription: Subscription<T>): Unsubscribe\n  /** @internal */\n  (action: RESET): void\n}\n\n/**\n * Subscriptions are bound to Emitters with the [[subscribe]] action, and get called with the new values.\n * @typeParam T the Emitter value type.\n */\nexport interface Subscription<T> {\n  (value: T): any\n}\n\n/**\n * Subscribe-like actions return unsubscribe handles of the Unsubscribe type, which, when called, unbind the subscription.\n */\nexport interface Unsubscribe {\n  (): void\n}\n\n/**\n * Streams present both the input and the output ends of a stream.\n * A single stream instance can be both subscribed to and published in.\n */\nexport interface Stream<T> extends Publisher<T>, Emitter<T> {\n  /** @internal */\n  (action: SUBSCRIBE | PUBLISH | RESET): any // fix for bug with pipe + connect\n}\n\n/**\n * Just like {@link Stream | streams}, stateful streams present both input and output ends of a stream.\n * A single stream instance can be both subscribed to and published in.\n * Stateful Streams can also act like depots, preserving the last passed value and immediately publishing it to new subscriptions.\n * [[getValue]] can be used to extract value from stateful streams.\n */\nexport interface StatefulStream<T> extends Publisher<T>, Emitter<T> {\n  /** @internal */\n  (action: SUBSCRIBE | PUBLISH | RESET | VALUE): any // fix for bug with pipe + connect\n  // StatefulStream should extend rather then duplicate the signature, but this somehow causes a bug in TS\n}\n\n/**\n * Subscribes the specified [[Subscription]] to the updates from the Emitter.\n * The emitter calls the subscription with the new data each time new data is published into it.\n *\n * ```ts\n * const foo = stream<number>();\n * subscribe(foo, (value) => console.log(value));\n * ```\n *\n * @returns an [[Unsubscribe]] handle  - calling it will unbind the subscription from the emitter.\n *```ts\n * const foo = stream<number>();\n * const unsub = subscribe(foo, (value) => console.log(value));\n * unsub();\n *```\n */\nexport function subscribe<T>(emitter: Emitter<T>, subscription: Subscription<T>): Unsubscribe {\n  return emitter(SUBSCRIBE, subscription)\n}\n\n/**\n * Publishes the value into the passed [[Publisher]].\n *\n * ```ts\n * const foo = stream<number>();\n * publish(foo, 42);\n * ```\n */\nexport function publish<T>(publisher: Publisher<T>, value: T) {\n  publisher(PUBLISH, value)\n}\n\n/**\n * Clears all subscriptions from the [[Emitter]].\n * ```ts\n * const foo = stream<number>();\n * subscribe(foo, (value) => console.log(value));\n * reset(foo);\n * publish(foo, 42);\n * ```\n */\nexport function reset(emitter: Emitter<any>) {\n  emitter(RESET)\n}\n\n/**\n * Extracts the current value from a stateful stream. Use it only as an escape hatch, as it violates the concept of reactive programming.\n * ```ts\n * const foo = statefulStream(42);\n * console.log(getValue(foo));\n * ```\n */\nexport function getValue<T>(depot: StatefulStream<T>): T {\n  return depot(VALUE)\n}\n\n/**\n * Connects two streams - any value emitted from the emitter will be published in the publisher.\n * ```ts\n * const foo = stream<number>();\n * const bar = stream<number>();\n * subscribe(bar, (value) => console.log(`Bar emitted ${value}`));\n *\n * connect(foo, bar);\n * publish(foo);\n * ```\n * @returns an [[Unsubscribe]] handle which will disconnect the two streams.\n */\nexport function connect<T>(emitter: Emitter<T>, publisher: Publisher<T>) {\n  return subscribe(emitter, curry2to1(publisher, PUBLISH))\n}\n\n/**\n * Executes the passed subscription at most once, for the next emit from the emitter.\n * ```ts\n * const foo = stream<number>()\n * handleNext(foo, value => console.log(value)) // called once, with 42\n * publish(foo, 42)\n * publish(foo, 43)\n * ```\n * @returns an [[Unsubscribe]] handle to unbind the subscription if necessary.\n */\nexport function handleNext<T>(emitter: Emitter<T>, subscription: Subscription<T>) {\n  const unsub = emitter(SUBSCRIBE, value => {\n    unsub()\n    subscription(value)\n  })\n  return unsub\n}\n","export const PUBLISH = 0 as const\nexport type PUBLISH = typeof PUBLISH\n\nexport const SUBSCRIBE = 1 as const\nexport type SUBSCRIBE = typeof SUBSCRIBE\n\nexport const RESET = 2 as const\nexport type RESET = typeof RESET\n\nexport const VALUE = 4 as const\nexport type VALUE = typeof VALUE\n","/**\n * Streams are the basic building blocks of a reactive system. Think of them as the system permanent \"data tubes\".\n *\n * A stream acts as both an [[Emitter]] and [[Publisher]]. Each stream can have multiple {@link Subscription | Subscriptions}.\n *\n * urx streams are either **stateless** or **stateful**.\n * Stateless streams emit data to existing subscriptions when published, without keeping track of it.\n * Stateful streams remember the last published value and immediately publish it to new subscriptions.\n *\n * ```ts\n * import { stream, statefulStream, publish, subscribe } from \"@virtuoso.dev/urx\";\n *\n * // foo is a stateless stream\n * const foo = stream<number>();\n *\n * publish(foo, 42);\n * // this subsription will not be called...\n * subscribe(foo, (value) => console.log(value));\n * // it will only catch published values after it\n * publish(foo, 43);\n *\n * // stateful streams always start with an initial value\n * const bar = statefulStream(42);\n *\n * // subscribing to a stateful stream\n * // immediately calls the subscription with the current value\n * subscribe(bar, (value) => console.log(value));\n *\n * // subsequent publishing works just like stateless streams\n * publish(bar, 43);\n * ```\n * @packageDocumentation\n */\n\nimport { Emitter, StatefulStream, Stream, Subscription, Unsubscribe, subscribe, connect } from './actions'\nimport { RESET, PUBLISH, SUBSCRIBE, VALUE } from './constants'\nimport { tap, noop } from './utils'\n\n/**\n * Constructs a new stateless stream.\n * ```ts\n * const foo = stream<number>();\n * ```\n * @typeParam T the type of values to publish in the stream.\n * @returns a [[Stream]]\n */\nexport function stream<T>(): Stream<T> {\n  const subscriptions = [] as Subscription<T>[]\n\n  return ((action: PUBLISH | SUBSCRIBE | RESET, arg: any) => {\n    switch (action) {\n      case RESET:\n        subscriptions.splice(0, subscriptions.length)\n        return\n      case SUBSCRIBE:\n        subscriptions.push(arg)\n        return () => {\n          const indexOf = subscriptions.indexOf(arg)\n          if (indexOf > -1) {\n            subscriptions.splice(indexOf, 1)\n          }\n        }\n      case PUBLISH:\n        subscriptions.slice().forEach(subscription => {\n          subscription(arg as T)\n        })\n        return\n      default:\n        throw new Error(`unrecognized action ${action}`)\n    }\n  }) as Stream<T>\n}\n\n/**\n * Constructs a new stateful stream.\n * ```ts\n * const foo = statefulStream(42);\n * ```\n * @param initial the initial value in the stream.\n * @typeParam T the type of values to publish in the stream. If omitted, the function infers it from the initial value.\n * @returns a [[StatefulStream]]\n */\nexport function statefulStream<T>(initial: T): StatefulStream<T> {\n  let value: T = initial\n  const innerSubject = stream<T>()\n\n  return ((action: PUBLISH | SUBSCRIBE | RESET | VALUE, arg: any) => {\n    switch (action) {\n      case SUBSCRIBE:\n        const subscription = arg as Subscription<T>\n        subscription(value)\n        break\n      case PUBLISH:\n        value = arg as T\n        break\n      case VALUE:\n        return value\n    }\n    return innerSubject(action as any, arg)\n  }) as StatefulStream<T>\n}\n\n/**\n * Event handlers are special emitters which can have **at most one active subscription**.\n * Subscribing to an event handler unsubscribes the previous subscription, if present.\n * ```ts\n * const foo = stream<number>();\n * const fooEvent = eventHandler(foo);\n *\n * // will be called once with 42\n * subscribe(fooEvent, (value) => console.log(`Sub 1 ${value}`));\n * publish(foo, 42);\n *\n * // unsubscribes sub 1\n * subscribe(fooEvent, (value) => console.log(`Sub 2 ${value}`));\n * publish(foo, 43);\n * ```\n * @param emitter the source emitter.\n * @returns the single-subscription emitter.\n */\nexport function eventHandler<T>(emitter: Emitter<T>) {\n  let unsub: Unsubscribe | undefined\n  let currentSubscription: any\n  let cleanup = () => unsub && unsub()\n\n  return function(action: SUBSCRIBE | RESET, subscription?: Subscription<T>) {\n    switch (action) {\n      case SUBSCRIBE:\n        if (subscription) {\n          if (currentSubscription === subscription) {\n            return\n          }\n          cleanup()\n          currentSubscription = subscription\n          unsub = subscribe(emitter, subscription!)\n          return unsub\n        } else {\n          cleanup()\n          return noop\n        }\n      case RESET:\n        cleanup()\n        currentSubscription = null\n        return\n      default:\n        throw new Error(`unrecognized action ${action}`)\n    }\n  } as Emitter<T>\n}\n\n/**\n * Creates and connects a \"junction\" stream to the specified emitter. Often used with [[pipe]], to avoid the multiple evaluation of operator sets.\n *\n * ```ts\n * const foo = stream<number>();\n *\n * const fooX2 = pipe(\n *   foo,\n *   map((value) => {\n *     console.log(`multiplying ${value}`);\n *     return value * 2;\n *   })\n * );\n *\n * subscribe(fooX2, (value) => console.log(value));\n * subscribe(fooX2, (value) => console.log(value));\n *\n * publish(foo, 42); // executes the map operator twice for each subscription.\n *\n * const sharedFooX2 = streamFromEmitter(pipe(\n *   foo,\n *   map((value) => {\n *     console.log(`shared multiplying ${value}`);\n *     return value * 2;\n *   })\n * ));\n *\n * subscribe(sharedFooX2, (value) => console.log(value));\n * subscribe(sharedFooX2, (value) => console.log(value));\n *\n * publish(foo, 42);\n *```\n * @returns the resulting stream.\n */\nexport function streamFromEmitter<T>(emitter: Emitter<T>): Stream<T> {\n  return tap(stream<T>(), stream => connect(emitter, stream))\n}\n\n/**\n * Creates and connects a \"junction\" stateful stream to the specified emitter. Often used with [[pipe]], to avoid the multiple evaluation of operator sets.\n *\n * ```ts\n * const foo = stream<number>();\n *\n * const fooX2 = pipe(\n *   foo,\n *   map((value) => {\n *     console.log(`multiplying ${value}`);\n *     return value * 2;\n *   })\n * );\n *\n * subscribe(fooX2, (value) => console.log(value));\n * subscribe(fooX2, (value) => console.log(value));\n *\n * publish(foo, 42); // executes the map operator twice for each subscription.\n *\n * const sharedFooX2 = statefulStreamFromEmitter(pipe(\n *   foo,\n *   map((value) => {\n *     console.log(`shared multiplying ${value}`);\n *     return value * 2;\n *   })\n * ), 42);\n *\n * subscribe(sharedFooX2, (value) => console.log(value));\n * subscribe(sharedFooX2, (value) => console.log(value));\n *\n * publish(foo, 42);\n *```\n * @param initial the initial value in the stream.\n * @returns the resulting stateful stream.\n */\nexport function statefulStreamFromEmitter<T>(emitter: Emitter<T>, initial: T): StatefulStream<T> {\n  return tap(statefulStream(initial), stream => connect(emitter, stream))\n}\n","/**\n *\n * Stream values can be transformed and controlled by {@link pipe | **piping**} through **operators**.\n * urx includes several operators like [[map]], [[filter]], [[scan]], and [[throttleTime]].\n * The [[withLatestFrom]] operator allows the combination of values from other streams.\n *\n * ```ts\n * const foo = stream<number>()\n *\n * // create an emitter that first adds 2 to the passed value, then multiplies it by * 2\n * const bar = pipe(foo, map(value => value + 2), map(value => value * 2))\n * subscribe(bar, value => console.log(value))\n * publish(foo, 2) // outputs 8\n * ```\n *\n * ### Implementing Custom Operators\n * To implement your own operators, implement the [[Operator]] interface.\n * @packageDocumentation\n */\nimport { compose, thrush } from './utils'\nimport { Emitter, subscribe, Subscription, reset } from './actions'\nimport { SUBSCRIBE, RESET } from './constants'\n\n/**\n * Operators can transform and control the flow of values.\n * [[pipe]] is used to transform one Emitter into another by stacking operators to its values.\n * To build your own operator that looks like the built-in ones,\n * create a function which returns an operator.\n * The following custom operator multiplies the passed value:\n *\n * ```ts\n * function multiplyBy(multiplier: number): Operator<number> {\n *  return done => value => done(value * multiplier)\n * }\n *\n * const foo = stream<number>()\n * const multipliedFoo = pipe(foo, multiplyBy(3))\n * subscribe(multipliedFoo, value => console.log(value))\n * publish(foo, 42)\n * ```\n */\nexport interface Operator<Input, Output = Input> {\n  (done: (value: Output) => void): (value: Input) => void\n}\n\n/** @internal */\ntype CombineOperatorsReturnType<I, O> = (subscriber: (value: O) => void) => (value: I) => void\n\n/** @internal */\nfunction combineOperators<I>(...operators: Operator<any, any>[]): CombineOperatorsReturnType<I, any> {\n  return (subscriber: (value: any) => void) => {\n    return operators.reduceRight(thrush, subscriber)\n  }\n}\n\n/** @internal */\ntype O<I, OP> = Operator<I, OP>\n\n/**\n * Creates a new emitter from the passed one by piping its values through one or more operators.\n * Operators can perform various actions like filter values, pull values from other emitters, or compute new values.\n *\n * ```ts\n * const foo = stream<number>()\n *\n * // create an emitter that first adds 2 to the passed value, then multiplies it by * 2\n * const bar = pipe(foo, map(value => value + 2), map(value => value * 2))\n * subscribe(bar, value => console.log(value))\n * publish(foo, 2) // outputs 8\n * ```\n * #### Sharing Subscription Calculations\n *\n * `pipe` acts as a proxy for the source emitter, and re-runs the operators for each subscription to the derived emitter.\n * Use [[streamFromEmitter]] or [[statefulStreamFromEmitter]] to avoid that.\n */\nexport function pipe<T>(s: Emitter<T>): Emitter<T> // prettier-ignore\nexport function pipe<T, O1>(s: Emitter<T>, o1: O<T, O1>): Emitter<O1> // prettier-ignore\nexport function pipe<T, O1, O2>(s: Emitter<T>, ...o: [O<T, O1>, O<O1, O2>]): Emitter<O2> // prettier-ignore\nexport function pipe<T, O1, O2, O3>(s: Emitter<T>, ...o: [O<T, O1>, O<O1, O2>, O<O2, O3>]): Emitter<O3> // prettier-ignore\nexport function pipe<T, O1, O2, O3, O4>(s: Emitter<T>, ...o: [O<T, O1>, O<O1, O2>, O<O2, O3>, O<O3, O4>]): Emitter<O4> // prettier-ignore\nexport function pipe<T, O1, O2, O3, O4, O5>(s: Emitter<T>, ...o: [O<T, O1>, O<O1, O2>, O<O2, O3>, O<O3, O4>, O<O4, O5>]): Emitter<O5> // prettier-ignore\nexport function pipe<T, O1, O2, O3, O4, O5, O6>(s: Emitter<T>, ...o: [O<T, O1>, O<O1, O2>, O<O2, O3>, O<O3, O4>, O<O4, O5>, O<O5, O6>]): Emitter<O6> // prettier-ignore\nexport function pipe<T, O1, O2, O3, O4, O5, O6, O7>(s: Emitter<T>, ...o: [O<T, O1>, O<O1, O2>, O<O2, O3>, O<O3, O4>, O<O4, O5>, O<O5, O6>, O<O6, O7>]): Emitter<O7> // prettier-ignore\nexport function pipe<T>(source: Emitter<T>, ...operators: O<any, any>[]): Emitter<any> {\n  // prettier-ignore\n  const project = combineOperators(...operators)\n  return ((action: SUBSCRIBE | RESET, subscription: Subscription<any>) => {\n    switch (action) {\n      case SUBSCRIBE:\n        return subscribe(source, project(subscription))\n      case RESET:\n        reset(source)\n        return\n      default:\n        throw new Error(`unrecognized action ${action}`)\n    }\n  }) as Emitter<any>\n}\n\n/**\n * A function which determines if two values are equal.\n * Implement custom comparators when [[distinctUntilChanged]] needs to work on non-primitive objects.\n * @returns true if values should be considered equal.\n */\nexport interface Comparator<T> {\n  (previous: T, next: T): boolean\n}\n\n/**\n * The default [[Comparator]] for [[distinctUntilChanged]] and [[duc]].\n */\nexport function defaultComparator<T>(previous: T, next: T) {\n  return previous === next\n}\n\n/**\n * Filters out identical values. Pass an optional [[Comparator]] if you need to filter non-primitive values.\n * ```ts\n * const foo = stream<number>()\n *\n * subscribe(\n *  pipe(foo, distinctUntilChanged()),\n *  console.log\n * ) // will be called only once\n *\n * publish(foo, 42)\n * publish(foo, 42)\n * ```\n */\nexport function distinctUntilChanged<T>(comparator: Comparator<T> = defaultComparator): Operator<T> {\n  let current: T\n  return done => next => {\n    if (!comparator(current, next)) {\n      current = next\n      done(next)\n    }\n  }\n}\n\n/**\n * Filters out values for which the predicator does not return `true`-ish.\n * ```ts\n * const foo = stream<number>()\n *\n * subscribe(\n *  pipe(foo, filter(value => value % 2 === 0)),\n *  console.log\n * ) // will be called only with even values\n *\n * publish(foo, 2)\n * publish(foo, 3)\n * publish(foo, 4)\n * publish(foo, 5)\n * ```\n */\nexport function filter<T>(predicate: (value: T) => boolean): Operator<T> {\n  return done => value => {\n    predicate(value) && done(value)\n  }\n}\n\n/**\n * Maps values using the provided project function.\n * ```ts\n * const foo = stream<number>()\n *\n * subscribe(\n *  pipe(foo, map(value => value * 2)),\n *  console.log\n * ) // 4, 6\n *\n * publish(foo, 2)\n * publish(foo, 3)\n * ```\n */\nexport function map<T, K>(project: (value: T) => K): Operator<T, K> {\n  return done => compose(done, project)\n}\n\n/**\n * Maps values to the hard-coded value.\n * ```ts\n * const foo = stream<number>()\n *\n * subscribe(\n *  pipe(foo, mapTo(3)),\n *  console.log\n * ) // 3, 3\n *\n * publish(foo, 1)\n * publish(foo, 2)\n * ```\n */\nexport function mapTo<T>(value: T): Operator<any, T> {\n  return done => () => done(value)\n}\n\n/**\n * Works like Array#reduce.\n * Applies an accumulator function on the emitter, and outputs intermediate result. Starts with the initial value.\n * ```ts\n * const foo = stream<number>()\n *\n * subscribe(\n *  pipe(foo, scan((acc, value) => acc + value, 2),\n *  console.log\n * ) // 3, 5\n *\n * publish(foo, 1)\n * publish(foo, 2)\n * ```\n */\nexport function scan<T, K>(scanner: (current: T, value: K) => T, initial: T): Operator<K, T> {\n  return done => value => done((initial = scanner(initial, value)))\n}\n\n/**\n * Skips the specified amount of values from the emitter.\n * ```ts\n * const foo = stream<number>()\n *\n * subscribe(\n *  pipe(foo, skip(2)),\n *  console.log\n * ) // 3, 4\n *\n * publish(foo, 1) // skipped\n * publish(foo, 2) // skipped\n * publish(foo, 3)\n * publish(foo, 4)\n * ```\n */\nexport function skip<T>(times: number): Operator<T> {\n  return done => value => {\n    times > 0 ? times-- : done(value)\n  }\n}\n\n/**\n * Throttles flowing values at the provided interval in milliseconds.\n * [Throttle VS Debounce in SO](https://stackoverflow.com/questions/25991367/difference-between-throttling-and-debouncing-a-function).\n *\n * ```ts\n *  const foo = stream<number>()\n *  publish(foo, 1)\n *\n *  setTimeout(() => publish(foo, 2), 20)\n *  setTimeout(() => publish(foo, 3), 20)\n *\n *  subscribe(pipe(foo, throttleTime(50)), val => {\n *    console.log(value); // 3\n *  })\n * ```\n */\nexport function throttleTime<T>(interval: number): Operator<T> {\n  let currentValue: T | undefined\n  let timeout: any\n\n  return done => value => {\n    currentValue = value\n\n    if (timeout) {\n      return\n    }\n\n    timeout = setTimeout(() => {\n      timeout = undefined\n      done(currentValue!)\n    }, interval)\n  }\n}\n\n/**\n * Debounces flowing values at the provided interval in milliseconds.\n * [Throttle VS Debounce in SO](https://stackoverflow.com/questions/25991367/difference-between-throttling-and-debouncing-a-function).\n *\n * ```ts\n *  const foo = stream<number>()\n *  publish(foo, 1)\n *\n *  setTimeout(() => publish(foo, 2), 20)\n *  setTimeout(() => publish(foo, 3), 20)\n *\n *  subscribe(pipe(foo, debounceTime(50)), val => {\n *    console.log(value); // 3\n *  })\n * ```\n */\nexport function debounceTime<T>(interval: number): Operator<T> {\n  let currentValue: T | undefined\n  let timeout: any\n\n  return done => value => {\n    currentValue = value\n    if (timeout) {\n      clearTimeout(timeout)\n    }\n\n    timeout = setTimeout(() => {\n      done(currentValue!)\n    }, interval)\n  }\n}\n\n/**\n * Combines the source Emitter with the latest values from the specified Emitters into an array. Outputs only when the source Emitter emits.\n * See [[combineLatest]] for a transformer that outputs when any of the emitters emit.\n *\n * ```ts\n *  const foo = stream<number>()\n *  const bar = stream<number>()\n *  subscribe(\n *    pipe(\n *      foo,\n *      withLatestFrom(bar)\n *    ),\n *    (([foo, bar]) => console.log({ foo, bar }))\n *  )\n *\n *  publish(foo, 1) // nothing happens, bar has not emitted yet\n *  publish(bar, 1) // still nothing\n *  publish(foo, 2) // logs { foo: 2, bar: 1 }\n *  publish(bar, 2)\n *  publish(foo, 3) // logs { foo: 3, bar: 2 }\n * ```\n */\nexport function withLatestFrom<T, R1>(...s: [Emitter<R1>]): Operator<T, [T, R1]> // prettier-ignore\nexport function withLatestFrom<T, R1, R2>(...s: [Emitter<R1>, Emitter<R2>]): Operator<T, [T, R1, R2]> // prettier-ignore\nexport function withLatestFrom<T, R1, R2, R3>( ...s: [Emitter<R1>, Emitter<R2>, Emitter<R3>]): Operator<T, [T, R1, R2, R3]> // prettier-ignore\nexport function withLatestFrom<T, R1, R2, R3, R4>( ...s: [Emitter<R1>, Emitter<R2>, Emitter<R3>, Emitter<R4>]): Operator<T, [T, R1, R2, R3, R4]> // prettier-ignore\nexport function withLatestFrom<T, R1, R2, R3, R4, R5>( ...s: [Emitter<R1>, Emitter<R2>, Emitter<R3>, Emitter<R4>, Emitter<R5>]): Operator<T, [T, R1, R2, R3, R4, R5]> // prettier-ignore\nexport function withLatestFrom<T, R1, R2, R3, R4, R5, R6>( ...s: [Emitter<R1>, Emitter<R2>, Emitter<R3>, Emitter<R4>, Emitter<R5>, Emitter<R6>]): Operator<T, [T, R1, R2, R3, R4, R5, R6]> // prettier-ignore\nexport function withLatestFrom<T, R1, R2, R3, R4, R5, R6, R7>( ...s: [Emitter<R1>, Emitter<R2>, Emitter<R3>, Emitter<R4>, Emitter<R5>, Emitter<R6>, Emitter<R7>]): Operator<T, [T, R1, R2, R3, R4, R5, R6, R7]> // prettier-ignore\nexport function withLatestFrom(...sources: Emitter<any>[]): Operator<any, any> {\n  const values = new Array(sources.length)\n  let called = 0\n  let pendingCall: null | (() => void) = null\n  const allCalled = Math.pow(2, sources.length) - 1\n\n  sources.forEach((source, index) => {\n    const bit = Math.pow(2, index)\n    subscribe(source, value => {\n      let prevCalled = called\n      called = called | bit\n      values[index] = value\n      if (prevCalled !== allCalled && called === allCalled && pendingCall) {\n        pendingCall()\n        pendingCall = null\n      }\n    })\n  })\n\n  return done => value => {\n    let call = () => done([value].concat(values))\n    if (called === allCalled) {\n      call()\n    } else {\n      pendingCall = call\n    }\n  }\n}\n","/**\n * Transformers change and combine streams, similar to operators.\n * urx comes with two combinators - [[combineLatest]] and [[merge]], and one convenience filter - [[duc]].\n *\n * @packageDocumentation\n */\nimport { Emitter, publish, reset, subscribe, Subscription } from './actions'\nimport { RESET, SUBSCRIBE } from './constants'\nimport { Comparator, defaultComparator, distinctUntilChanged, pipe } from './pipe'\nimport { stream } from './streams'\nimport { joinProc } from './utils'\n\n/**\n * Merges one or more emitters from the same type into a new Emitter which emits values from any of the source emitters.\n * ```ts\n * const foo = stream<number>()\n * const bar = stream<number>()\n *\n * subscribe(merge(foo, bar), (value) => console.log(value)) // 42, 43\n *\n * publish(foo, 42)\n * publish(bar, 43)\n * ```\n */\nexport function merge<T>(...sources: Emitter<T>[]): Emitter<T> {\n  return function(action: SUBSCRIBE | RESET, subscription?: Subscription<any>) {\n    switch (action) {\n      case SUBSCRIBE:\n        return joinProc(...sources.map(source => subscribe(source, subscription!)))\n      case RESET:\n        // do nothing, we are stateless\n        return\n      default:\n        throw new Error(`unrecognized action ${action}`)\n    }\n  } as Emitter<T>\n}\n\n/**\n * A convenience wrapper that emits only the distinct values from the passed Emitter. Wraps [[pipe]] and [[distinctUntilChanged]].\n *\n * ```ts\n * const foo = stream<number>()\n *\n * // this line...\n * const a = duc(foo)\n *\n * // is equivalent to this\n * const b = pipe(distinctUntilChanged(foo))\n * ```\n *\n * @param source The source emitter.\n * @param comparator optional custom comparison function for the two values.\n *\n * @typeParam T the type of the value emitted by the source.\n *\n * @returns the resulting emitter.\n */\nexport function duc<T>(source: Emitter<T>, comparator: Comparator<T> = defaultComparator): Emitter<T> {\n  return pipe(source, distinctUntilChanged(comparator))\n}\n\n/**\n * Creates an emitter with the latest values from all passed emitters as an array.\n *\n * `combineLatest` acts as a Depot. Using it on stateless streams persists the last emitted value of each [[Emitter]].\n * Provided that all emitters have emitted at least once, subscribing to the resulting emitter will immediately receive their combined latest values.\n *\n * ```ts\n * const foo = stream<number>()\n * const bar = stream<number>()\n *\n * subscribe(combineLatest(foo, bar), ([foo, bar]) => console.log({ foo, bar }))\n *\n * publish(foo, 42)\n * publish(bar, 43) // { foo: 42, bar: 43 }\n * publish(foo, 44) // { foo: 44, bar: 43 }\n * publish(bar, 45) // { foo: 44, bar: 45 }\n * ```\n */\nexport function combineLatest<O1, O2>(...emitters: [Emitter<O1>, Emitter<O2>]): Emitter<[O1, O2]> // prettier-ignore\nexport function combineLatest<O1, O2, O3>( ...emitters: [Emitter<O1>, Emitter<O2>, Emitter<O3>]): Emitter<[O1, O2, O3]> // prettier-ignore\nexport function combineLatest<O1, O2, O3, O4>( ...emitters: [Emitter<O1>, Emitter<O2>, Emitter<O3>, Emitter<O4>]): Emitter<[O1, O2, O3, O4]> // prettier-ignore\nexport function combineLatest<O1, O2, O3>( ...emitters: [Emitter<O1>, Emitter<O2>, Emitter<O3>]): Emitter<[O1, O2, O3]> // prettier-ignore\nexport function combineLatest<O1, O2, O3, O4, O5>( ...emitters: [Emitter<O1>, Emitter<O2>, Emitter<O3>, Emitter<O4>, Emitter<O5>]): Emitter<[O1, O2, O3, O4, O5]> // prettier-ignore\nexport function combineLatest<O1, O2, O3, O4, O5, O6>( ...emitters: [Emitter<O1>, Emitter<O2>, Emitter<O3>, Emitter<O4>, Emitter<O5>, Emitter<O6>]): Emitter<[O1, O2, O3, O4, O5, O6]> // prettier-ignore\nexport function combineLatest<O1, O2, O3, O4, O5, O6, O7>( ...emitters: [Emitter<O1>, Emitter<O2>, Emitter<O3>, Emitter<O4>, Emitter<O5>, Emitter<O6>, Emitter<O7>]): Emitter<[O1, O2, O3, O4, O5, O6, O7]> // prettier-ignore\nexport function combineLatest<O1, O2, O3, O4, O5, O6, O7, O8>( ...emitters: [Emitter<O1>, Emitter<O2>, Emitter<O3>, Emitter<O4>, Emitter<O5>, Emitter<O6>, Emitter<O7>, Emitter<O8>]): Emitter<[O1, O2, O3, O4, O5, O6, O7, O8]> // prettier-ignore\nexport function combineLatest<O1, O2, O3, O4, O5, O6, O7, O8, O9>( ...emitters: [Emitter<O1>, Emitter<O2>, Emitter<O3>, Emitter<O4>, Emitter<O5>, Emitter<O6>, Emitter<O7>, Emitter<O8>, Emitter<O9>]): Emitter<[O1, O2, O3, O4, O5, O6, O7, O8, O9]> // prettier-ignore\nexport function combineLatest<O1, O2, O3, O4, O5, O6, O7, O8, O9, O10>( ...emitters: [Emitter<O1>, Emitter<O2>, Emitter<O3>, Emitter<O4>, Emitter<O5>, Emitter<O6>, Emitter<O7>, Emitter<O8>, Emitter<O9>, Emitter<O10>]): Emitter<[O1, O2, O3, O4, O5, O6, O7, O8, O9, O10]> // prettier-ignore\nexport function combineLatest<O1, O2, O3, O4, O5, O6, O7, O8, O9, O10, O11>( ...emitters: [Emitter<O1>, Emitter<O2>, Emitter<O3>, Emitter<O4>, Emitter<O5>, Emitter<O6>, Emitter<O7>, Emitter<O8>, Emitter<O9>, Emitter<O10>, Emitter<O11>]): Emitter<[O1, O2, O3, O4, O5, O6, O7, O8, O9, O10, O11]> // prettier-ignore\nexport function combineLatest(...emitters: Emitter<any>[]): Emitter<any> {\n  let innerSubject = stream<any>()\n  const values = new Array(emitters.length)\n  let called = 0\n  const allCalled = Math.pow(2, emitters.length) - 1\n\n  emitters.forEach((source, index) => {\n    const bit = Math.pow(2, index)\n    subscribe(source, value => {\n      values[index] = value\n      called = called | bit\n      if (called === allCalled) {\n        publish(innerSubject, values)\n      }\n    })\n  })\n\n  return function(action: SUBSCRIBE | RESET, subscription?: Subscription<any>) {\n    switch (action) {\n      case SUBSCRIBE:\n        if (called === allCalled) {\n          subscription!(values)\n        }\n        return subscribe(innerSubject, subscription!)\n      case RESET:\n        return reset(innerSubject)\n      default:\n        throw new Error(`unrecognized action ${action}`)\n    }\n  } as Emitter<any>\n}\n","/**\n * ## Thinking in Systems\n * systems are a stateful **data-processing machines** which accept input through **input streams**,\n * init and maintain state in **depots** and, in certain conditions, emit values to subscriptions through **output streams**.\n * Systems can specify other systems as dependencies, and can act as singletons in the resulting dependency tree.\n *\n * ### Depots\n *\n * The first, and probably the most critical part to understand are **the depots**\n * mostly because they are somewhat implicit.\n * Unlike other state management paradigms, the depots are not kept in a single data structure.\n * Insted, depots are defined and maintained as stateful streams, stateful transfomers\n * like [[combineLatest]] or stateful operators like[ []withLatestFrom] or [[scan]].\n *\n * **Depots persist values over time**.\n * If it was not for them, the system had to re-receive its entire input state simultaneously in order to calculate the values for its output stream.\n *\n * Of course, strictly speaking, it is possible to implement a pure, stateless system as a form of a complex map/reduce. urx would not mind that ;).\n *\n * ### Input Streams\n *\n * The system receives updates from the rest of the world through values published in its input streams.\n * The streams used can be either stateless (acting as means to send **signals**) or stateful, where the initial stream state acts as the default value for that system parameter.\n *\n * The effects of the input streams are up to the system data-processing logic. It can change its depots' state, and/or emit values through its output streams.\n *\n * ### Data Processing\n *\n * The actual system behavior is exclusively implemented by **applying transformers and operators** to the input streams, producing the respective output streams.\n * In the final state the system streams are organized in a directed graph, where incoming data is routed through certain edges and nodes.\n * Simple systems like the one in [urx by example](https://urx.virtuoso.dev/docs/urx-by-example) can use a straightforward single-step transformation (in this case, `combineLatest` and `map`),\n * while complex ones can introduce multiple intermediate streams to model their logic.\n *\n * ### Output Streams\n *\n * The system publishes updates to its clients (other systems or an UI bound to it) by publishing data in its output streams.\n * State-reflecting output streams, like `sum` in the [urx by example](https://urx.virtuoso.dev/docs/urx-by-example) should use stateful streams as output streams.\n * Signal-like output should use regular, stateless streams. In general, stateless input streams tend to have a symmetrical stateless streams, and the opposite.\n *\n * @packageDocumentation\n */\nimport { Emitter } from './actions'\n\n/**\n * Systems are a dictionaries of streams. a [[SystemConstructor]] should return a System.\n */\nexport interface System {\n  [key: string]: Emitter<any>\n}\n\n/**\n * a SystemSpec is the result from a [[system]] call. To obtain the [[System]], pass the spec to [[init]].\n */\nexport interface SystemSpec<SS extends SystemSpecs, C extends SystemConstructor<SS>> {\n  id: string\n  constructor: C\n  dependencies: SS\n  singleton: boolean\n}\n\n/** @internal **/\nexport type AnySystemSpec = SystemSpec<any, any>\n\n/** @internal **/\nexport type SystemSpecs = AnySystemSpec[]\n\n/** @internal **/\nexport type SR<E extends AnySystemSpec, R extends System = ReturnType<E['constructor']>> = R\n\n/** @internal **/\nexport type SpecResults<SS extends SystemSpecs, L = SS['length']> = L extends 0\n  ? []\n  : L extends 1\n  ? [SR<SS[0]>]\n  : L extends 2\n  ? [SR<SS[0]>, SR<SS[1]>]\n  : L extends 3\n  ? [SR<SS[0]>, SR<SS[1]>, SR<SS[2]>]\n  : L extends 4\n  ? [SR<SS[0]>, SR<SS[1]>, SR<SS[2]>, SR<SS[3]>]\n  : L extends 5\n  ? [SR<SS[0]>, SR<SS[1]>, SR<SS[2]>, SR<SS[3]>, SR<SS[4]>]\n  : L extends 6\n  ? [SR<SS[0]>, SR<SS[1]>, SR<SS[2]>, SR<SS[3]>, SR<SS[4]>, SR<SS[5]>]\n  : L extends 7\n  ? [SR<SS[0]>, SR<SS[1]>, SR<SS[2]>, SR<SS[3]>, SR<SS[4]>, SR<SS[5]>, SR<SS[6]>]\n  : L extends 8\n  ? [SR<SS[0]>, SR<SS[1]>, SR<SS[2]>, SR<SS[3]>, SR<SS[4]>, SR<SS[5]>, SR<SS[6]>, SR<SS[7]>]\n  : L extends 9\n  ? [SR<SS[0]>, SR<SS[1]>, SR<SS[2]>, SR<SS[3]>, SR<SS[4]>, SR<SS[5]>, SR<SS[6]>, SR<SS[7]>, SR<SS[8]>]\n  : L extends 10\n  ? [SR<SS[0]>, SR<SS[1]>, SR<SS[2]>, SR<SS[3]>, SR<SS[4]>, SR<SS[5]>, SR<SS[6]>, SR<SS[7]>, SR<SS[8]>, SR<SS[9]>]\n  : L extends 11\n  ? [SR<SS[0]>, SR<SS[1]>, SR<SS[2]>, SR<SS[3]>, SR<SS[4]>, SR<SS[5]>, SR<SS[6]>, SR<SS[7]>, SR<SS[8]>, SR<SS[9]>, SR<SS[10]>]\n  : never\n\n/**\n * The system constructor is a function which initializes and connects streams and returns them as a [[System]].\n * If the [[system]] call specifies system dependencies, the constructor receives the dependencies as an array argument.\n */\nexport type SystemConstructor<D extends SystemSpecs> = (dependencies: SpecResults<D>) => System\n\n/**\n * `system` defines a specification of a system - its constructor, dependencies and if it should act as a singleton in a system dependency tree.\n * When called, system returns a [[SystemSpec]], which is then initialized along with its dependencies by passing it to [[init]].\n *\n * ```ts\n * @import { subscribe, publish, system, init, tup, connect, map, pipe } from 'urx'\n *\n * // a simple system with two streams\n * const sys1 = system(() => {\n *  const a = stream<number>()\n *  const b = stream<number>()\n *\n *  connect(pipe(a, map(value => value * 2)), b)\n *  return { a, b }\n * })\n *\n * // a second system which depends on the streams from the first one\n * const sys2 = system(([ {a, b} ]) => {\n *  const c = stream<number>()\n *  connect(pipe(b, map(value => value * 2)), c)\n *  // re-export the `a` stream, keep `b` internal\n *  return { a, c }\n * }, tup(sys1))\n *\n * // init will recursively initialize sys2 dependencies, in this case sys1\n * const { a, c } = init(sys2)\n * subscribe(c, c => console.log(`Value multiplied by 4`, c))\n * publish(a, 2)\n * ```\n *\n * #### Singletons in Dependency Tree\n *\n * By default, systems will be initialized only once if encountered multiple times in the dependency tree.\n * In the below dependency system tree, systems `b` and `c` will receive the same stream instances from system `a` when system `d` is initialized.\n * ```txt\n *   a\n *  / \\\n * b   c\n *  \\ /\n *   d\n * ```\n * If `a` gets `{singleton: false}` as a last argument, `init` creates two separate instances - one for `b` and one for `c`.\n *\n * @param constructor the system constructor function. Initialize and connect the streams in its body.\n *\n * @param dependencies the system dependencies, which the constructor will receive as arguments.\n * Use the [[tup]] utility **For TypeScript type inference to work correctly**.\n * ```ts\n * const sys3 = system(() => { ... }, tup(sys2, sys1))\n * ```\n * @param __namedParameters Options\n * @param singleton determines if the system will act as a singleton in a system dependency tree. `true` by default.\n */\nexport function system<F extends SystemConstructor<D>, D extends SystemSpecs>(\n  constructor: F,\n  dependencies: D = ([] as unknown) as D,\n  { singleton }: { singleton: boolean } = { singleton: true }\n): SystemSpec<D, F> {\n  return {\n    id: id(),\n    constructor,\n    dependencies,\n    singleton,\n  }\n}\n\n/** @internal */\nconst id = () => (Symbol() as unknown) as string\n\n/**\n * Initializes a [[SystemSpec]] by recursively initializing its dependencies.\n *\n * ```ts\n * // a simple system with two streams\n * const sys1 = system(() => {\n *  const a = stream<number>()\n *  const b = stream<number>()\n *\n *  connect(pipe(a, map(value => value * 2)), b)\n *  return { a, b }\n * })\n *\n * const { a, b } = init(sys1)\n * subscribe(b, b => console.log(b))\n * publish(a, 2)\n * ```\n *\n * @returns the [[System]] constructed by the spec constructor.\n * @param systemSpec the system spec to initialize.\n */\nexport function init<SS extends AnySystemSpec>(systemSpec: SS): SR<SS> {\n  const singletons = new Map<string, System>()\n  const _init = <SS extends AnySystemSpec>({ id, constructor, dependencies, singleton }: SS) => {\n    if (singleton && singletons.has(id)) {\n      return singletons.get(id)! as SR<SS>\n    }\n    const system = constructor(dependencies.map((e: AnySystemSpec) => _init(e)))\n    if (singleton) {\n      singletons.set(id, system)\n    }\n    return system as any\n  }\n  return _init(systemSpec)\n}\n","import { useEffect, useLayoutEffect } from 'react'\n\nconst useIsomorphicLayoutEffect = typeof document !== 'undefined' ? useLayoutEffect : useEffect\n\nexport default useIsomorphicLayoutEffect\n","import * as u from '@virtuoso.dev/urx'\n\n// eslint-disable-next-line @typescript-eslint/no-namespace\ndeclare namespace globalThis {\n  let VIRTUOSO_LOG_LEVEL: LogLevel | undefined\n}\n\n// eslint-disable-next-line @typescript-eslint/no-namespace\ndeclare namespace window {\n  let VIRTUOSO_LOG_LEVEL: LogLevel | undefined\n}\n\nexport enum LogLevel {\n  DEBUG,\n  INFO,\n  WARN,\n  ERROR,\n}\nexport interface LogMessage {\n  level: LogLevel\n  message: any\n  label: string\n}\n\nexport type Log = (label: string, message: any, level?: LogLevel) => void\n\nconst CONSOLE_METHOD_MAP = {\n  [LogLevel.DEBUG]: 'debug',\n  [LogLevel.INFO]: 'log',\n  [LogLevel.WARN]: 'warn',\n  [LogLevel.ERROR]: 'error',\n} as const\n\nconst getGlobalThis = () => (typeof globalThis === 'undefined' ? window : globalThis)\n\nexport const loggerSystem = u.system(\n  () => {\n    const logLevel = u.statefulStream<LogLevel>(LogLevel.ERROR)\n    const log = u.statefulStream<Log>((label: string, message: any, level: LogLevel = LogLevel.INFO) => {\n      const currentLevel = getGlobalThis()['VIRTUOSO_LOG_LEVEL'] ?? u.getValue(logLevel)\n      if (level >= currentLevel) {\n        // eslint-disable-next-line no-console\n        console[CONSOLE_METHOD_MAP[level]](\n          '%creact-virtuoso: %c%s %o',\n          'color: #0253b3; font-weight: bold',\n          'color: initial',\n          label,\n          message\n        )\n      }\n    })\n\n    return {\n      log,\n      logLevel,\n    }\n  },\n  [],\n  { singleton: true }\n)\n","import { useRef } from 'react'\n\nexport type CallbackRefParam = HTMLElement | null\n\nexport function useSizeWithElRef(callback: (e: HTMLElement) => void, enabled = true) {\n  const ref = useRef<CallbackRefParam>(null)\n\n  let callbackRef = (_el: CallbackRefParam) => {\n    void 0\n  }\n\n  if (typeof ResizeObserver !== 'undefined') {\n    const observer = new ResizeObserver((entries: ResizeObserverEntry[]) => {\n      const element = entries[0].target as HTMLElement\n      if (element.offsetParent !== null) {\n        callback(element)\n      }\n    })\n\n    callbackRef = (elRef: CallbackRefParam) => {\n      if (elRef && enabled) {\n        observer.observe(elRef)\n        ref.current = elRef\n      } else {\n        if (ref.current) {\n          observer.unobserve(ref.current)\n        }\n        ref.current = null\n      }\n    }\n  }\n\n  return { ref, callbackRef }\n}\n\nexport default function useSize(callback: (e: HTMLElement) => void, enabled = true) {\n  return useSizeWithElRef(callback, enabled).callbackRef\n}\n","import { Log, LogLevel } from '../loggerSystem'\nimport { SizeFunction, SizeRange } from '../sizeSystem'\nimport { useSizeWithElRef } from './useSize'\nimport { ScrollContainerState } from '../interfaces'\nexport default function useChangedListContentsSizes(\n  callback: (ranges: SizeRange[]) => void,\n  itemSize: SizeFunction,\n  enabled: boolean,\n  scrollContainerStateCallback: (state: ScrollContainerState) => void,\n  log: Log,\n  gap?: (gap: number) => void,\n  customScrollParent?: HTMLElement\n) {\n  return useSizeWithElRef((el: HTMLElement) => {\n    const ranges = getChangedChildSizes(el.children, itemSize, 'offsetHeight', log)\n    let scrollableElement = el.parentElement!\n\n    while (!scrollableElement.dataset['virtuosoScroller']) {\n      scrollableElement = scrollableElement.parentElement!\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    const windowScrolling = (scrollableElement.firstElementChild! as HTMLDivElement).dataset['viewportType']! === 'window'\n\n    const scrollTop = customScrollParent\n      ? customScrollParent.scrollTop\n      : windowScrolling\n      ? window.pageYOffset || document.documentElement.scrollTop\n      : scrollableElement.scrollTop\n\n    const scrollHeight = customScrollParent\n      ? customScrollParent.scrollHeight\n      : windowScrolling\n      ? document.documentElement.scrollHeight\n      : scrollableElement.scrollHeight\n\n    const viewportHeight = customScrollParent\n      ? customScrollParent.offsetHeight\n      : windowScrolling\n      ? window.innerHeight\n      : scrollableElement.offsetHeight\n\n    scrollContainerStateCallback({\n      scrollTop: Math.max(scrollTop, 0),\n      scrollHeight,\n      viewportHeight,\n    })\n\n    gap?.(resolveGapValue('row-gap', getComputedStyle(el).rowGap, log))\n\n    if (ranges !== null) {\n      callback(ranges)\n    }\n  }, enabled)\n}\n\nfunction getChangedChildSizes(children: HTMLCollection, itemSize: SizeFunction, field: 'offsetHeight' | 'offsetWidth', log: Log) {\n  const length = children.length\n\n  if (length === 0) {\n    return null\n  }\n\n  const results: SizeRange[] = []\n\n  for (let i = 0; i < length; i++) {\n    const child = children.item(i) as HTMLElement\n\n    if (!child || child.dataset.index === undefined) {\n      continue\n    }\n\n    const index = parseInt(child.dataset.index!)\n    const knownSize = parseFloat(child.dataset.knownSize!)\n    const size = itemSize(child, field)\n\n    if (size === 0) {\n      log('Zero-sized element, this should not happen', { child }, LogLevel.ERROR)\n    }\n\n    if (size === knownSize) {\n      continue\n    }\n\n    const lastResult = results[results.length - 1]\n    if (results.length === 0 || lastResult.size !== size || lastResult.endIndex !== index - 1) {\n      results.push({ startIndex: index, endIndex: index, size })\n    } else {\n      results[results.length - 1].endIndex++\n    }\n  }\n\n  return results\n}\n\nfunction resolveGapValue(property: string, value: string, log: Log) {\n  if (value !== 'normal' && !value.endsWith('px')) {\n    log(`${property} was not resolved to pixel value correctly`, value, LogLevel.WARN)\n  }\n  if (value === 'normal') {\n    return 0\n  }\n  return parseInt(value, 10)\n}\n","export function correctItemSize(el: HTMLElement, dimension: 'height' | 'width') {\n  return Math.round(el.getBoundingClientRect()[dimension])\n}\n","export function approximatelyEqual(num1: number, num2: number) {\n  return Math.abs(num1 - num2) < 1.01\n}\n","import { useRef, useCallback, useEffect } from 'react'\nimport * as u from '@virtuoso.dev/urx'\nimport { correctItemSize } from '../utils/correctItemSize'\nimport { ScrollContainerState } from '../interfaces'\nimport { flushSync } from 'react-dom'\nimport { approximatelyEqual } from '../utils/approximatelyEqual'\n\nexport type ScrollerRef = Window | HTMLElement | null\n\nexport default function useScrollTop(\n  scrollContainerStateCallback: (state: ScrollContainerState) => void,\n  smoothScrollTargetReached: (yes: true) => void,\n  scrollerElement: any,\n  scrollerRefCallback: (ref: ScrollerRef) => void = u.noop,\n  customScrollParent?: HTMLElement\n) {\n  const scrollerRef = useRef<HTMLElement | null | Window>(null)\n  const scrollTopTarget = useRef<any>(null)\n  const timeoutRef = useRef<ReturnType<typeof setTimeout> | null>(null)\n  const shouldFlushSync = useRef(false)\n\n  const handler = useCallback(\n    (ev: Event) => {\n      const el = ev.target as HTMLElement\n      const windowScroll = (el as any) === window || (el as any) === document\n      const scrollTop = windowScroll ? window.pageYOffset || document.documentElement.scrollTop : el.scrollTop\n      const scrollHeight = windowScroll ? document.documentElement.scrollHeight : el.scrollHeight\n      const viewportHeight = windowScroll ? window.innerHeight : el.offsetHeight\n\n      const call = () => {\n        scrollContainerStateCallback({\n          scrollTop: Math.max(scrollTop, 0),\n          scrollHeight,\n          viewportHeight,\n        })\n      }\n\n      if (shouldFlushSync.current) {\n        flushSync(call)\n      } else {\n        call()\n      }\n      shouldFlushSync.current = false\n\n      if (scrollTopTarget.current !== null) {\n        if (scrollTop === scrollTopTarget.current || scrollTop <= 0 || scrollTop === scrollHeight - viewportHeight) {\n          scrollTopTarget.current = null\n          smoothScrollTargetReached(true)\n          if (timeoutRef.current) {\n            clearTimeout(timeoutRef.current)\n            timeoutRef.current = null\n          }\n        }\n      }\n    },\n    [scrollContainerStateCallback, smoothScrollTargetReached]\n  )\n\n  useEffect(() => {\n    const localRef = customScrollParent ? customScrollParent : scrollerRef.current!\n\n    scrollerRefCallback(customScrollParent ? customScrollParent : scrollerRef.current)\n    handler({ target: localRef } as unknown as Event)\n    localRef.addEventListener('scroll', handler, { passive: true })\n\n    return () => {\n      scrollerRefCallback(null)\n      localRef.removeEventListener('scroll', handler)\n    }\n  }, [scrollerRef, handler, scrollerElement, scrollerRefCallback, customScrollParent])\n\n  function scrollToCallback(location: ScrollToOptions) {\n    const scrollerElement = scrollerRef.current\n    if (!scrollerElement || ('offsetHeight' in scrollerElement && scrollerElement.offsetHeight === 0)) {\n      return\n    }\n\n    const isSmooth = location.behavior === 'smooth'\n\n    let offsetHeight: number\n    let scrollHeight: number\n    let scrollTop: number\n\n    if (scrollerElement === window) {\n      // this is not a mistake\n      scrollHeight = Math.max(correctItemSize(document.documentElement, 'height'), document.documentElement.scrollHeight)\n      offsetHeight = window.innerHeight\n      scrollTop = document.documentElement.scrollTop\n    } else {\n      scrollHeight = (scrollerElement as HTMLElement).scrollHeight\n      offsetHeight = correctItemSize(scrollerElement as HTMLElement, 'height')\n      scrollTop = (scrollerElement as HTMLElement).scrollTop\n    }\n\n    const maxScrollTop = scrollHeight - offsetHeight\n    location.top = Math.ceil(Math.max(Math.min(maxScrollTop, location.top!), 0))\n\n    // avoid system hanging because the DOM never called back\n    // with the scrollTop\n    // scroller is already at this location\n    if (approximatelyEqual(offsetHeight, scrollHeight) || location.top === scrollTop) {\n      scrollContainerStateCallback({ scrollTop, scrollHeight, viewportHeight: offsetHeight })\n      if (isSmooth) {\n        smoothScrollTargetReached(true)\n      }\n      return\n    }\n\n    if (isSmooth) {\n      scrollTopTarget.current = location.top\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current)\n      }\n\n      timeoutRef.current = setTimeout(() => {\n        timeoutRef.current = null\n        scrollTopTarget.current = null\n        smoothScrollTargetReached(true)\n      }, 1000)\n    } else {\n      scrollTopTarget.current = null\n    }\n\n    scrollerElement.scrollTo(location)\n  }\n\n  function scrollByCallback(location: ScrollToOptions) {\n    shouldFlushSync.current = true\n    scrollerRef.current!.scrollBy(location)\n  }\n\n  return { scrollerRef, scrollByCallback, scrollToCallback }\n}\n","import * as u from '@virtuoso.dev/urx'\nimport { ScrollContainerState } from './interfaces'\n\nexport const domIOSystem = u.system(\n  () => {\n    const scrollContainerState = u.stream<ScrollContainerState>()\n    const scrollTop = u.stream<number>()\n    const deviation = u.statefulStream(0)\n    const smoothScrollTargetReached = u.stream<true>()\n    const statefulScrollTop = u.statefulStream(0)\n    const viewportHeight = u.stream<number>()\n    const scrollHeight = u.stream<number>()\n    const headerHeight = u.statefulStream(0)\n    const fixedHeaderHeight = u.statefulStream(0)\n    const footerHeight = u.statefulStream(0)\n    const scrollTo = u.stream<ScrollToOptions>()\n    const scrollBy = u.stream<ScrollToOptions>()\n    const scrollingInProgress = u.statefulStream(false)\n    // bogus, has no effect\n    const react18ConcurrentRendering = u.statefulStream(false)\n\n    u.connect(\n      u.pipe(\n        scrollContainerState,\n        u.map(({ scrollTop }) => scrollTop)\n      ),\n      scrollTop\n    )\n\n    u.connect(\n      u.pipe(\n        scrollContainerState,\n        u.map(({ scrollHeight }) => scrollHeight)\n      ),\n      scrollHeight\n    )\n\n    u.connect(scrollTop, statefulScrollTop)\n\n    return {\n      // input\n      scrollContainerState,\n      scrollTop,\n      viewportHeight,\n      headerHeight,\n      fixedHeaderHeight,\n      footerHeight,\n      scrollHeight,\n      smoothScrollTargetReached,\n      react18ConcurrentRendering,\n\n      // signals\n      scrollTo,\n      scrollBy,\n\n      // state\n      statefulScrollTop,\n      deviation,\n      scrollingInProgress,\n    }\n  },\n  [],\n  { singleton: true }\n)\n","interface NilNode {\n  lvl: 0\n}\n\nconst NIL_NODE: NilNode = { lvl: 0 }\n\ninterface NodeData<T> {\n  k: number\n  v: T\n}\n\ninterface NonNilAANode<T> {\n  k: number\n  v: T\n  lvl: number\n  l: NonNilAANode<T> | NilNode\n  r: NonNilAANode<T> | NilNode\n}\n\nexport interface Range<T> {\n  start: number\n  end: number\n  value: T\n}\n\nexport type AANode<T> = NilNode | NonNilAANode<T>\n\nfunction newAANode<T>(k: number, v: T, lvl: number, l: AANode<T> = NIL_NODE, r: AANode<T> = NIL_NODE): NonNilAANode<T> {\n  return { k, v, lvl, l, r }\n}\n\nexport function empty(node: AANode<any>): node is NilNode {\n  return node === NIL_NODE\n}\n\nexport function newTree<T>(): AANode<T> {\n  return NIL_NODE\n}\n\nexport function remove<T>(node: AANode<T>, key: number): AANode<T> {\n  if (empty(node)) return NIL_NODE\n\n  const { k, l, r } = node\n\n  if (key === k) {\n    if (empty(l)) {\n      return r\n    } else if (empty(r)) {\n      return l\n    } else {\n      const [lastKey, lastValue] = last(l)\n      return adjust(clone(node, { k: lastKey, v: lastValue, l: deleteLast(l) }))\n    }\n  } else if (key < k) {\n    return adjust(clone(node, { l: remove(l, key) }))\n  } else {\n    return adjust(clone(node, { r: remove(r, key) }))\n  }\n}\n\nexport function find<T>(node: AANode<T>, key: number): T | undefined {\n  if (empty(node)) {\n    return\n  }\n\n  if (key === node.k) {\n    return node.v\n  } else if (key < node.k) {\n    return find(node.l, key)\n  } else {\n    return find(node.r, key)\n  }\n}\n\nexport function findMaxKeyValue<T>(node: AANode<T>, value: number, field: 'k' | 'v' = 'k'): [number, T | undefined] {\n  if (empty(node)) {\n    return [-Infinity, undefined]\n  }\n\n  if (node[field] === value) {\n    return [node.k, node.v]\n  }\n\n  if (node[field] < value) {\n    const r = findMaxKeyValue(node.r, value, field)\n    if (r[0] === -Infinity) {\n      return [node.k, node.v]\n    } else {\n      return r\n    }\n  }\n\n  return findMaxKeyValue(node.l, value, field)\n}\n\nexport function insert<T>(node: AANode<T>, k: number, v: T): NonNilAANode<T> {\n  if (empty(node)) {\n    return newAANode(k, v, 1)\n  }\n  if (k === node.k) {\n    return clone(node, { k, v })\n  } else if (k < node.k) {\n    return rebalance(clone(node, { l: insert(node.l, k, v) }))\n  } else {\n    return rebalance(clone(node, { r: insert(node.r, k, v) }))\n  }\n}\n\nexport function walkWithin<T>(node: AANode<T>, start: number, end: number): NodeData<T>[] {\n  if (empty(node)) {\n    return []\n  }\n\n  const { k, v, l, r } = node\n  let result: NodeData<T>[] = []\n  if (k > start) {\n    result = result.concat(walkWithin(l, start, end))\n  }\n\n  if (k >= start && k <= end) {\n    result.push({ k, v })\n  }\n\n  if (k <= end) {\n    result = result.concat(walkWithin(r, start, end))\n  }\n\n  return result\n}\n\nexport function walk<T>(node: AANode<T>): NodeData<T>[] {\n  if (empty(node)) {\n    return []\n  }\n\n  return [...walk(node.l), { k: node.k, v: node.v }, ...walk(node.r)]\n}\n\nfunction last<T>(node: NonNilAANode<T>): [number, T] {\n  return empty(node.r) ? [node.k, node.v] : last(node.r)\n}\n\nfunction deleteLast<T>(node: NonNilAANode<T>): AANode<T> {\n  return empty(node.r) ? node.l : adjust(clone(node, { r: deleteLast(node.r) }))\n}\n\nfunction clone<T>(node: NonNilAANode<T>, args: Partial<NonNilAANode<T>>): NonNilAANode<T> {\n  return newAANode(\n    args.k !== undefined ? args.k : node.k,\n    args.v !== undefined ? args.v : node.v,\n    args.lvl !== undefined ? args.lvl : node.lvl,\n    args.l !== undefined ? args.l : node.l,\n    args.r !== undefined ? args.r : node.r\n  )\n}\n\nfunction isSingle(node: AANode<any>) {\n  return empty(node) || node.lvl > node.r.lvl\n}\n\nfunction rebalance<T>(node: NonNilAANode<T>): NonNilAANode<T> {\n  return split(skew(node))\n}\n\nfunction adjust<T>(node: NonNilAANode<T>): NonNilAANode<T> {\n  const { l, r, lvl } = node\n  if (r.lvl >= lvl - 1 && l.lvl >= lvl - 1) {\n    return node\n  } else if (lvl > r.lvl + 1) {\n    if (isSingle(l)) {\n      return skew(clone(node, { lvl: lvl - 1 }))\n    } else {\n      if (!empty(l) && !empty(l.r)) {\n        return clone(l.r, {\n          l: clone(l, { r: l.r.l }),\n          r: clone(node, {\n            l: l.r.r,\n            lvl: lvl - 1,\n          }),\n          lvl: lvl,\n        })\n      } else {\n        throw new Error('Unexpected empty nodes')\n      }\n    }\n  } else {\n    if (isSingle(node)) {\n      return split(clone(node, { lvl: lvl - 1 }))\n    } else {\n      if (!empty(r) && !empty(r.l)) {\n        const rl = r.l\n        const rlvl = isSingle(rl) ? r.lvl - 1 : r.lvl\n\n        return clone(rl, {\n          l: clone(node, {\n            r: rl.l,\n            lvl: lvl - 1,\n          }),\n          r: split(clone(r, { l: rl.r, lvl: rlvl })),\n          lvl: rl.lvl + 1,\n        })\n      } else {\n        throw new Error('Unexpected empty nodes')\n      }\n    }\n  }\n}\n\nexport function keys(node: AANode<any>): number[] {\n  if (empty(node)) {\n    return []\n  }\n  return [...keys(node.l), node.k, ...keys(node.r)]\n}\n\nexport function ranges<T>(node: AANode<T>): Range<T>[] {\n  return toRanges(walk(node))\n}\n\nexport function rangesWithin<T>(node: AANode<T>, startIndex: number, endIndex: number): Range<T>[] {\n  if (empty(node)) {\n    return []\n  }\n  const adjustedStart = findMaxKeyValue(node, startIndex)[0]\n  return toRanges(walkWithin(node, adjustedStart, endIndex))\n}\n\nexport function arrayToRanges<T, V>(\n  items: T[],\n  parser: (item: T) => { index: number; value: V }\n): Array<{ start: number; end: number; value: V }> {\n  const length = items.length\n  if (length === 0) {\n    return []\n  }\n\n  let { index: start, value } = parser(items[0])\n\n  const result = []\n\n  for (let i = 1; i < length; i++) {\n    const { index: nextIndex, value: nextValue } = parser(items[i])\n    result.push({ start, end: nextIndex - 1, value })\n\n    start = nextIndex\n    value = nextValue\n  }\n\n  result.push({ start, end: Infinity, value })\n  return result\n}\n\nfunction toRanges<T>(nodes: NodeData<T>[]): Range<T>[] {\n  return arrayToRanges(nodes, ({ k: index, v: value }) => ({ index, value }))\n}\n\nfunction split<T>(node: NonNilAANode<T>): NonNilAANode<T> {\n  const { r, lvl } = node\n\n  return !empty(r) && !empty(r.r) && r.lvl === lvl && r.r.lvl === lvl ? clone(r, { l: clone(node, { r: r.l }), lvl: lvl + 1 }) : node\n}\n\nfunction skew<T>(node: NonNilAANode<T>): NonNilAANode<T> {\n  const { l } = node\n\n  return !empty(l) && l.lvl === node.lvl ? clone(l, { r: clone(node, { l: l.r }) }) : node\n}\n","export type Comparator<T> = {\n  (item: T, value: number): -1 | 0 | 1\n}\n\nexport function findIndexOfClosestSmallerOrEqual<T>(items: T[], value: number, comparator: Comparator<T>, start = 0): number {\n  let end = items.length - 1\n\n  while (start <= end) {\n    const index = Math.floor((start + end) / 2)\n    const item = items[index]\n    const match = comparator(item, value)\n    if (match === 0) {\n      return index\n    }\n\n    if (match === -1) {\n      if (end - start < 2) {\n        return index - 1\n      }\n      end = index - 1\n    } else {\n      if (end === start) {\n        return index\n      }\n      start = index + 1\n    }\n  }\n\n  throw new Error(`Failed binary finding record in array - ${items.join(',')}, searched for ${value}`)\n}\n\nexport function findClosestSmallerOrEqual<T>(items: T[], value: number, comparator: Comparator<T>): T {\n  return items[findIndexOfClosestSmallerOrEqual(items, value, comparator)]\n}\n\nexport function findRange<T>(items: T[], startValue: number, endValue: number, comparator: Comparator<T>): T[] {\n  const startIndex = findIndexOfClosestSmallerOrEqual(items, startValue, comparator)\n  const endIndex = findIndexOfClosestSmallerOrEqual(items, endValue, comparator, startIndex)\n  return items.slice(startIndex, endIndex + 1)\n}\n","import * as u from '@virtuoso.dev/urx'\n\nexport const recalcSystem = u.system(\n  () => {\n    const recalcInProgress = u.statefulStream(false)\n    return { recalcInProgress }\n  },\n  [],\n  { singleton: true }\n)\n","import * as u from '@virtuoso.dev/urx'\nimport { arrayToRanges, AANode, empty, findMaxKeyValue, insert, newTree, Range, rangesWithin, remove, walk } from './AATree'\nimport * as arrayBinarySearch from './utils/binaryArraySearch'\nimport { correctItemSize } from './utils/correctItemSize'\nimport { loggerSystem, Log, LogLevel } from './loggerSystem'\nimport { recalcSystem } from './recalcSystem'\n\nexport interface SizeRange {\n  startIndex: number\n  endIndex: number\n  size: number\n}\n\nexport type Data = readonly unknown[] | undefined\n\nfunction rangeIncludes(refRange: SizeRange) {\n  const { size, startIndex, endIndex } = refRange\n  return (range: Range<number>) => {\n    return range.start === startIndex && (range.end === endIndex || range.end === Infinity) && range.value === size\n  }\n}\n\nexport function insertRanges(sizeTree: AANode<number>, ranges: SizeRange[]) {\n  let syncStart = empty(sizeTree) ? 0 : Infinity\n\n  for (const range of ranges) {\n    const { size, startIndex, endIndex } = range\n    syncStart = Math.min(syncStart, startIndex)\n\n    if (empty(sizeTree)) {\n      sizeTree = insert(sizeTree, 0, size)\n      continue\n    }\n\n    // extend the range in both directions, so that we can get adjacent neighbours.\n    // if the previous / next ones have the same value as the one we are about to insert,\n    // we 'merge' them.\n    const overlappingRanges = rangesWithin(sizeTree, startIndex - 1, endIndex + 1)\n\n    if (overlappingRanges.some(rangeIncludes(range))) {\n      continue\n    }\n\n    let firstPassDone = false\n    let shouldInsert = false\n    for (const { start: rangeStart, end: rangeEnd, value: rangeValue } of overlappingRanges) {\n      // previous range\n      if (!firstPassDone) {\n        shouldInsert = rangeValue !== size\n        firstPassDone = true\n      } else {\n        // remove the range if it starts within the new range OR if\n        // it has the same value as it, in order to perform a merge\n        if (endIndex >= rangeStart || size === rangeValue) {\n          sizeTree = remove(sizeTree, rangeStart)\n        }\n      }\n\n      // next range\n      if (rangeEnd > endIndex && endIndex >= rangeStart) {\n        if (rangeValue !== size) {\n          sizeTree = insert(sizeTree, endIndex + 1, rangeValue)\n        }\n      }\n    }\n\n    if (shouldInsert) {\n      sizeTree = insert(sizeTree, startIndex, size)\n    }\n  }\n  return [sizeTree, syncStart] as const\n}\n\nexport interface OffsetPoint {\n  offset: number\n  size: number\n  index: number\n}\n\nexport interface SizeState {\n  sizeTree: AANode<number>\n  offsetTree: Array<OffsetPoint>\n  groupOffsetTree: AANode<number>\n  lastIndex: number\n  lastOffset: number\n  lastSize: number\n  groupIndices: number[]\n}\n\nexport function initialSizeState(): SizeState {\n  return {\n    offsetTree: [],\n    sizeTree: newTree<number>(),\n    groupOffsetTree: newTree<number>(),\n    lastIndex: 0,\n    lastOffset: 0,\n    lastSize: 0,\n    groupIndices: [],\n  }\n}\n\nexport function indexComparator({ index: itemIndex }: OffsetPoint, index: number) {\n  return index === itemIndex ? 0 : index < itemIndex ? -1 : 1\n}\n\nexport function offsetComparator({ offset: itemOffset }: OffsetPoint, offset: number) {\n  return offset === itemOffset ? 0 : offset < itemOffset ? -1 : 1\n}\n\nfunction offsetPointParser(point: OffsetPoint) {\n  return { index: point.index, value: point }\n}\n\nexport function rangesWithinOffsets(\n  tree: Array<OffsetPoint>,\n  startOffset: number,\n  endOffset: number,\n  minStartIndex = 0\n): Array<{\n  start: number\n  end: number\n  value: {\n    size: number\n    offset: number\n    index: number\n  }\n}> {\n  if (minStartIndex > 0) {\n    startOffset = Math.max(startOffset, arrayBinarySearch.findClosestSmallerOrEqual(tree, minStartIndex, indexComparator).offset)\n  }\n\n  return arrayToRanges(arrayBinarySearch.findRange(tree, startOffset, endOffset, offsetComparator), offsetPointParser)\n}\n\nfunction createOffsetTree(prevOffsetTree: OffsetPoint[], syncStart: number, sizeTree: AANode<number>, gap: number) {\n  let offsetTree = prevOffsetTree\n  let prevIndex = 0\n  let prevSize = 0\n\n  let prevOffset = 0\n  let startIndex = 0\n\n  if (syncStart !== 0) {\n    startIndex = arrayBinarySearch.findIndexOfClosestSmallerOrEqual(offsetTree, syncStart - 1, indexComparator)\n    const offsetInfo = offsetTree[startIndex]\n    prevOffset = offsetInfo.offset\n    const kv = findMaxKeyValue(sizeTree, syncStart - 1)\n    prevIndex = kv[0]\n    prevSize = kv[1]!\n\n    if (offsetTree.length && offsetTree[startIndex].size === findMaxKeyValue(sizeTree, syncStart)[1]) {\n      startIndex -= 1\n    }\n\n    offsetTree = offsetTree.slice(0, startIndex + 1)\n  } else {\n    offsetTree = []\n  }\n\n  for (const { start: startIndex, value } of rangesWithin(sizeTree, syncStart, Infinity)) {\n    const indexOffset = startIndex - prevIndex\n    const aOffset = indexOffset * prevSize + prevOffset + indexOffset * gap\n    offsetTree.push({\n      offset: aOffset,\n      size: value,\n      index: startIndex,\n    })\n    prevIndex = startIndex\n    prevOffset = aOffset\n    prevSize = value\n  }\n\n  return {\n    offsetTree,\n    lastIndex: prevIndex,\n    lastOffset: prevOffset,\n    lastSize: prevSize,\n  }\n}\n\nexport function sizeStateReducer(state: SizeState, [ranges, groupIndices, log, gap]: [SizeRange[], number[], Log, number]) {\n  if (ranges.length > 0) {\n    log('received item sizes', ranges, LogLevel.DEBUG)\n  }\n  const sizeTree = state.sizeTree\n  let newSizeTree: AANode<number> = sizeTree\n  let syncStart = 0\n\n  // We receive probe item results from a group probe,\n  // which should always pass an item and a group\n  // the results contain two ranges, which we consider to mean that groups and items have different size\n  if (groupIndices.length > 0 && empty(sizeTree) && ranges.length === 2) {\n    const groupSize = ranges[0].size\n    const itemSize = ranges[1].size\n    newSizeTree = groupIndices.reduce((tree, groupIndex) => {\n      return insert(insert(tree, groupIndex, groupSize), groupIndex + 1, itemSize)\n    }, newSizeTree)\n  } else {\n    ;[newSizeTree, syncStart] = insertRanges(newSizeTree, ranges)\n  }\n\n  if (newSizeTree === sizeTree) {\n    return state\n  }\n\n  const { offsetTree: newOffsetTree, lastIndex, lastSize, lastOffset } = createOffsetTree(state.offsetTree, syncStart, newSizeTree, gap)\n\n  return {\n    sizeTree: newSizeTree,\n    offsetTree: newOffsetTree,\n    lastIndex,\n    lastOffset,\n    lastSize,\n    groupOffsetTree: groupIndices.reduce((tree, index) => {\n      return insert(tree, index, offsetOf(index, newOffsetTree, gap))\n    }, newTree<number>()),\n    groupIndices,\n  }\n}\n\nexport function offsetOf(index: number, tree: Array<OffsetPoint>, gap: number) {\n  if (tree.length === 0) {\n    return 0\n  }\n\n  const { offset, index: startIndex, size } = arrayBinarySearch.findClosestSmallerOrEqual(tree, index, indexComparator)\n  const itemCount = index - startIndex\n  const top = size * itemCount + (itemCount - 1) * gap + offset\n  return top > 0 ? top + gap : top\n}\n\nexport type FlatOrGroupedLocation = { index: number | 'LAST' } | { groupIndex: number }\n\nexport function isGroupLocation(location: FlatOrGroupedLocation): location is { groupIndex: number } {\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n  return typeof (location as any).groupIndex !== 'undefined'\n}\n\nexport function originalIndexFromLocation(location: FlatOrGroupedLocation, sizes: SizeState, lastIndex: number) {\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n  if (isGroupLocation(location)) {\n    // return the index of the first item below the index\n    return sizes.groupIndices[location.groupIndex] + 1\n  } else {\n    const numericIndex = location.index === 'LAST' ? lastIndex : location.index\n    let result = originalIndexFromItemIndex(numericIndex, sizes)\n    result = Math.max(0, result, Math.min(lastIndex, result))\n    return result\n  }\n}\n\nexport function originalIndexFromItemIndex(itemIndex: number, sizes: SizeState) {\n  if (!hasGroups(sizes)) {\n    return itemIndex\n  }\n\n  let groupOffset = 0\n  while (sizes.groupIndices[groupOffset] <= itemIndex + groupOffset) {\n    groupOffset++\n  }\n  // we find the real item index, offsetting it by the number of group items before it\n  return itemIndex + groupOffset\n}\n\nexport function hasGroups(sizes: SizeState) {\n  return !empty(sizes.groupOffsetTree)\n}\n\ntype OptionalNumber = number | undefined\n\nconst SIZE_MAP = {\n  offsetHeight: 'height',\n  offsetWidth: 'width',\n} as const\n\n/** Calculates the height of `el`, which will be the `Item` element in the DOM. */\nexport type SizeFunction = (el: HTMLElement, field: 'offsetHeight' | 'offsetWidth') => number\n\nexport const sizeSystem = u.system(\n  ([{ log }, { recalcInProgress }]) => {\n    const sizeRanges = u.stream<SizeRange[]>()\n    const totalCount = u.stream<number>()\n    const statefulTotalCount = u.statefulStreamFromEmitter(totalCount, 0)\n    const unshiftWith = u.stream<number>()\n    const shiftWith = u.stream<number>()\n    const firstItemIndex = u.statefulStream(0)\n    const groupIndices = u.statefulStream([] as number[])\n    const fixedItemSize = u.statefulStream<OptionalNumber>(undefined)\n    const defaultItemSize = u.statefulStream<OptionalNumber>(undefined)\n    const itemSize = u.statefulStream<SizeFunction>((el, field) => correctItemSize(el, SIZE_MAP[field]))\n    const data = u.statefulStream<Data>(undefined)\n    const gap = u.statefulStream(0)\n    const initial = initialSizeState()\n\n    const sizes = u.statefulStreamFromEmitter(\n      u.pipe(sizeRanges, u.withLatestFrom(groupIndices, log, gap), u.scan(sizeStateReducer, initial), u.distinctUntilChanged()),\n      initial\n    )\n\n    u.connect(\n      u.pipe(\n        groupIndices,\n        u.filter((indexes) => indexes.length > 0),\n        u.withLatestFrom(sizes, gap),\n        u.map(([groupIndices, sizes, gap]) => {\n          const groupOffsetTree = groupIndices.reduce((tree, index, idx) => {\n            return insert(tree, index, offsetOf(index, sizes.offsetTree, gap) || idx)\n          }, newTree<number>())\n\n          return {\n            ...sizes,\n            groupIndices,\n            groupOffsetTree,\n          }\n        })\n      ),\n      sizes\n    )\n\n    // decreasing the total count should remove any existing entries\n    // beyond the last index - do this by publishing the default size as a range over them.\n    u.connect(\n      u.pipe(\n        totalCount,\n        u.withLatestFrom(sizes),\n        u.filter(([totalCount, { lastIndex }]) => {\n          return totalCount < lastIndex\n        }),\n        u.map(([totalCount, { lastIndex, lastSize }]) => {\n          return [\n            {\n              startIndex: totalCount,\n              endIndex: lastIndex,\n              size: lastSize,\n            },\n          ] as SizeRange[]\n        })\n      ),\n      sizeRanges\n    )\n\n    u.connect(fixedItemSize, defaultItemSize)\n\n    const trackItemSizes = u.statefulStreamFromEmitter(\n      u.pipe(\n        fixedItemSize,\n        u.map((size) => size === undefined)\n      ),\n      true\n    )\n\n    u.connect(\n      u.pipe(\n        defaultItemSize,\n        u.filter((value) => {\n          return value !== undefined && empty(u.getValue(sizes).sizeTree)\n        }),\n        u.map((size) => [{ startIndex: 0, endIndex: 0, size }] as SizeRange[])\n      ),\n      sizeRanges\n    )\n\n    const listRefresh = u.streamFromEmitter(\n      u.pipe(\n        sizeRanges,\n        u.withLatestFrom(sizes),\n        u.scan(\n          ({ sizes: oldSizes }, [_, newSizes]) => {\n            return {\n              changed: newSizes !== oldSizes,\n              sizes: newSizes,\n            }\n          },\n          { changed: false, sizes: initial }\n        ),\n        u.map((value) => value.changed)\n      )\n    )\n\n    u.subscribe(\n      u.pipe(\n        firstItemIndex,\n        u.scan(\n          (prev, next) => {\n            return { diff: prev.prev - next, prev: next }\n          },\n          { diff: 0, prev: 0 }\n        ),\n        u.map((val) => val.diff)\n      ),\n      (offset) => {\n        if (offset > 0) {\n          u.publish(recalcInProgress, true)\n          u.publish(unshiftWith, offset)\n        } else if (offset < 0) {\n          u.publish(shiftWith, offset)\n        }\n      }\n    )\n\n    u.subscribe(u.pipe(firstItemIndex, u.withLatestFrom(log)), ([index, log]) => {\n      if (index < 0) {\n        log(\n          \"`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value\",\n          { firstItemIndex },\n          LogLevel.ERROR\n        )\n      }\n    })\n\n    // Capture the current list top item before the sizes get refreshed\n    const beforeUnshiftWith = u.streamFromEmitter(unshiftWith)\n\n    u.connect(\n      u.pipe(\n        unshiftWith,\n        u.withLatestFrom(sizes),\n        u.map(([unshiftWith, sizes]) => {\n          if (sizes.groupIndices.length > 0) {\n            throw new Error('Virtuoso: prepending items does not work with groups')\n          }\n\n          return walk(sizes.sizeTree).reduce(\n            (acc, { k: index, v: size }) => {\n              return {\n                ranges: [...acc.ranges, { startIndex: acc.prevIndex, endIndex: index + unshiftWith - 1, size: acc.prevSize }],\n                prevIndex: index + unshiftWith,\n                prevSize: size,\n              }\n            },\n            {\n              ranges: [] as SizeRange[],\n              prevIndex: 0,\n              prevSize: sizes.lastSize,\n            }\n          ).ranges\n        })\n      ),\n      sizeRanges\n    )\n\n    const shiftWithOffset = u.streamFromEmitter(\n      u.pipe(\n        shiftWith,\n        u.withLatestFrom(sizes, gap),\n        u.map(([shiftWith, { offsetTree }, gap]) => {\n          const newFirstItemIndex = -shiftWith\n          return offsetOf(newFirstItemIndex, offsetTree, gap)\n        })\n      )\n    )\n\n    u.connect(\n      u.pipe(\n        shiftWith,\n        u.withLatestFrom(sizes, gap),\n        u.map(([shiftWith, sizes, gap]) => {\n          if (sizes.groupIndices.length > 0) {\n            throw new Error('Virtuoso: shifting items does not work with groups')\n          }\n\n          const newSizeTree = walk(sizes.sizeTree).reduce((acc, { k, v }) => {\n            return insert(acc, Math.max(0, k + shiftWith), v)\n          }, newTree<number>())\n\n          return {\n            ...sizes,\n            sizeTree: newSizeTree,\n            ...createOffsetTree(sizes.offsetTree, 0, newSizeTree, gap),\n          }\n        })\n      ),\n      sizes\n    )\n\n    return {\n      // input\n      data,\n      totalCount,\n      sizeRanges,\n      groupIndices,\n      defaultItemSize,\n      fixedItemSize,\n      unshiftWith,\n      shiftWith,\n      shiftWithOffset,\n      beforeUnshiftWith,\n      firstItemIndex,\n      gap,\n\n      // output\n      sizes,\n      listRefresh,\n      statefulTotalCount,\n      trackItemSizes,\n      itemSize,\n    }\n  },\n  u.tup(loggerSystem, recalcSystem),\n  { singleton: true }\n)\n","/* eslint-disable @typescript-eslint/no-unsafe-call */\nimport * as u from '@virtuoso.dev/urx'\nimport { findMaxKeyValue } from './AATree'\nimport { domIOSystem } from './domIOSystem'\nimport { offsetOf, originalIndexFromLocation, sizeSystem } from './sizeSystem'\nimport { IndexLocationWithAlign } from './interfaces'\nimport { loggerSystem, LogLevel } from './loggerSystem'\n\nexport type IndexLocation = number | IndexLocationWithAlign\n\nconst SUPPORTS_SCROLL_TO_OPTIONS = typeof document !== 'undefined' && 'scrollBehavior' in document.documentElement.style\n\nexport function normalizeIndexLocation(location: IndexLocation) {\n  const result: IndexLocationWithAlign = typeof location === 'number' ? { index: location } : location\n\n  if (!result.align) {\n    result.align = 'start'\n  }\n  if (!result.behavior || !SUPPORTS_SCROLL_TO_OPTIONS) {\n    result.behavior = 'auto'\n  }\n  if (!result.offset) {\n    result.offset = 0\n  }\n\n  return result\n}\n\nexport const scrollToIndexSystem = u.system(\n  ([\n    { sizes, totalCount, listRefresh, gap },\n    { scrollingInProgress, viewportHeight, scrollTo, smoothScrollTargetReached, headerHeight, footerHeight },\n    { log },\n  ]) => {\n    const scrollToIndex = u.stream<IndexLocation>()\n    const topListHeight = u.statefulStream(0)\n\n    let unsubscribeNextListRefresh: any = null\n    let cleartTimeoutRef: ReturnType<typeof setTimeout> | null = null\n    let unsubscribeListRefresh: any = null\n\n    function cleanup() {\n      if (unsubscribeNextListRefresh) {\n        unsubscribeNextListRefresh()\n        unsubscribeNextListRefresh = null\n      }\n\n      if (unsubscribeListRefresh) {\n        unsubscribeListRefresh()\n        unsubscribeListRefresh = null\n      }\n\n      if (cleartTimeoutRef) {\n        clearTimeout(cleartTimeoutRef)\n        cleartTimeoutRef = null\n      }\n      u.publish(scrollingInProgress, false)\n    }\n\n    u.connect(\n      u.pipe(\n        scrollToIndex,\n        u.withLatestFrom(sizes, viewportHeight, totalCount, topListHeight, headerHeight, footerHeight, log),\n        u.withLatestFrom(gap),\n        u.map(([[location, sizes, viewportHeight, totalCount, topListHeight, headerHeight, footerHeight, log], gap]) => {\n          const normalLocation = normalizeIndexLocation(location)\n          const { align, behavior, offset } = normalLocation\n          const lastIndex = totalCount - 1\n\n          const index = originalIndexFromLocation(normalLocation, sizes, lastIndex)\n\n          let top = offsetOf(index, sizes.offsetTree, gap) + headerHeight\n          if (align === 'end') {\n            top = top - viewportHeight + findMaxKeyValue(sizes.sizeTree, index)[1]!\n            if (index === lastIndex) {\n              top += footerHeight\n            }\n          } else if (align === 'center') {\n            top = top - viewportHeight / 2 + findMaxKeyValue(sizes.sizeTree, index)[1]! / 2\n          } else {\n            top -= topListHeight\n          }\n\n          if (offset) {\n            top += offset\n          }\n\n          const retry = (listChanged: boolean) => {\n            cleanup()\n            if (listChanged) {\n              log('retrying to scroll to', { location }, LogLevel.DEBUG)\n              u.publish(scrollToIndex, location)\n            } else {\n              log('list did not change, scroll successful', {}, LogLevel.DEBUG)\n            }\n          }\n\n          cleanup()\n\n          if (behavior === 'smooth') {\n            let listChanged = false\n            unsubscribeListRefresh = u.subscribe(listRefresh, (changed) => {\n              listChanged = listChanged || changed\n            })\n\n            unsubscribeNextListRefresh = u.handleNext(smoothScrollTargetReached, () => {\n              retry(listChanged)\n            })\n          } else {\n            unsubscribeNextListRefresh = u.handleNext(u.pipe(listRefresh, watchChangesFor(150)), retry)\n          }\n\n          // if the scroll jump is too small, the list won't get rerendered.\n          // clean this listener\n          cleartTimeoutRef = setTimeout(() => {\n            cleanup()\n          }, 1200)\n\n          u.publish(scrollingInProgress, true)\n          log('scrolling from index to', { index, top, behavior }, LogLevel.DEBUG)\n          return { top, behavior }\n        })\n      ),\n      scrollTo\n    )\n\n    return {\n      scrollToIndex,\n      topListHeight,\n    }\n  },\n  u.tup(sizeSystem, domIOSystem, loggerSystem),\n  { singleton: true }\n)\n\nfunction watchChangesFor(limit: number): u.Operator<boolean> {\n  return (done) => {\n    const timeoutRef = setTimeout(() => {\n      done(false)\n    }, limit)\n    return (value) => {\n      if (value) {\n        done(true)\n        clearTimeout(timeoutRef)\n      }\n    }\n  }\n}\n","/* eslint-disable @typescript-eslint/no-unsafe-argument */\nimport * as u from '@virtuoso.dev/urx'\nimport { domIOSystem } from './domIOSystem'\nimport { approximatelyEqual } from './utils/approximatelyEqual'\n\nexport const UP = 'up' as const\nexport const DOWN = 'down' as const\nexport const NONE = 'none' as const\nexport type ScrollDirection = typeof UP | typeof DOWN | typeof NONE\n\nexport interface ListBottomInfo {\n  bottom: number\n  offsetBottom: number\n}\n\nexport interface AtBottomParams {\n  offsetBottom: number\n  scrollTop: number\n  viewportHeight: number\n  scrollHeight: number\n}\n\nexport type NotAtBottomReason =\n  | 'SIZE_INCREASED'\n  | 'NOT_SHOWING_LAST_ITEM'\n  | 'VIEWPORT_HEIGHT_DECREASING'\n  | 'SCROLLING_UPWARDS'\n  | 'NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM'\n\nexport type AtBottomReason = 'SIZE_DECREASED' | 'SCROLLED_DOWN'\n\nexport type AtBottomState =\n  | {\n      atBottom: false\n      notAtBottomBecause: NotAtBottomReason\n      state: AtBottomParams\n    }\n  | {\n      atBottom: true\n      state: AtBottomParams\n      atBottomBecause: AtBottomReason\n      scrollTopDelta: number\n    }\n\nconst INITIAL_BOTTOM_STATE = {\n  atBottom: false,\n  notAtBottomBecause: 'NOT_SHOWING_LAST_ITEM',\n  state: {\n    offsetBottom: 0,\n    scrollTop: 0,\n    viewportHeight: 0,\n    scrollHeight: 0,\n  },\n} as AtBottomState\n\nconst DEFAULT_AT_TOP_THRESHOLD = 0\n\nexport const stateFlagsSystem = u.system(([{ scrollContainerState, scrollTop, viewportHeight, headerHeight, footerHeight, scrollBy }]) => {\n  const isAtBottom = u.statefulStream(false)\n  const isAtTop = u.statefulStream(true)\n  const atBottomStateChange = u.stream<boolean>()\n  const atTopStateChange = u.stream<boolean>()\n  const atBottomThreshold = u.statefulStream(4)\n  const atTopThreshold = u.statefulStream(DEFAULT_AT_TOP_THRESHOLD)\n\n  // skip 1 to avoid an initial on/off flick\n  const isScrolling = u.statefulStreamFromEmitter(\n    u.pipe(\n      u.merge(u.pipe(u.duc(scrollTop), u.skip(1), u.mapTo(true)), u.pipe(u.duc(scrollTop), u.skip(1), u.mapTo(false), u.debounceTime(100))),\n      u.distinctUntilChanged()\n    ),\n    false\n  )\n\n  const isScrollingBy = u.statefulStreamFromEmitter(\n    u.pipe(u.merge(u.pipe(scrollBy, u.mapTo(true)), u.pipe(scrollBy, u.mapTo(false), u.debounceTime(200))), u.distinctUntilChanged()),\n    false\n  )\n\n  // u.subscribe(isScrollingBy, (isScrollingBy) => console.log({ isScrollingBy }))\n\n  u.connect(\n    u.pipe(\n      u.combineLatest(u.duc(scrollTop), u.duc(atTopThreshold)),\n      u.map(([top, atTopThreshold]) => top <= atTopThreshold),\n      u.distinctUntilChanged()\n    ),\n    isAtTop\n  )\n\n  u.connect(u.pipe(isAtTop, u.throttleTime(50)), atTopStateChange)\n\n  const atBottomState = u.streamFromEmitter(\n    u.pipe(\n      u.combineLatest(scrollContainerState, u.duc(viewportHeight), u.duc(headerHeight), u.duc(footerHeight), u.duc(atBottomThreshold)),\n      u.scan((current, [{ scrollTop, scrollHeight }, viewportHeight, _headerHeight, _footerHeight, atBottomThreshold]) => {\n        const isAtBottom = scrollTop + viewportHeight - scrollHeight > -atBottomThreshold\n        const state = {\n          viewportHeight,\n          scrollTop,\n          scrollHeight,\n        }\n\n        if (isAtBottom) {\n          let atBottomBecause: 'SIZE_DECREASED' | 'SCROLLED_DOWN'\n          let scrollTopDelta: number\n          if (scrollTop > current.state.scrollTop) {\n            atBottomBecause = 'SCROLLED_DOWN'\n            scrollTopDelta = current.state.scrollTop - scrollTop\n          } else {\n            atBottomBecause = 'SIZE_DECREASED'\n            scrollTopDelta = current.state.scrollTop - scrollTop || (current as { scrollTopDelta: number }).scrollTopDelta\n          }\n          return {\n            atBottom: true,\n            state,\n            atBottomBecause,\n            scrollTopDelta,\n          } as AtBottomState\n        }\n\n        let notAtBottomBecause: NotAtBottomReason\n\n        if (state.scrollHeight > current.state.scrollHeight) {\n          notAtBottomBecause = 'SIZE_INCREASED'\n        } else if (viewportHeight < current.state.viewportHeight) {\n          notAtBottomBecause = 'VIEWPORT_HEIGHT_DECREASING'\n        } else if (scrollTop < current.state.scrollTop) {\n          notAtBottomBecause = 'SCROLLING_UPWARDS'\n        } else {\n          notAtBottomBecause = 'NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM'\n        }\n\n        return {\n          atBottom: false,\n          notAtBottomBecause,\n          state,\n        } as AtBottomState\n      }, INITIAL_BOTTOM_STATE),\n      u.distinctUntilChanged((prev, next) => {\n        return prev && prev.atBottom === next.atBottom\n      })\n    )\n  )\n\n  const lastJumpDueToItemResize = u.statefulStreamFromEmitter(\n    u.pipe(\n      scrollContainerState,\n      u.scan(\n        (current, { scrollTop, scrollHeight, viewportHeight }) => {\n          if (!approximatelyEqual(current.scrollHeight, scrollHeight)) {\n            const atBottom = scrollHeight - (scrollTop + viewportHeight) < 1\n\n            if (current.scrollTop !== scrollTop && atBottom) {\n              return {\n                scrollHeight,\n                scrollTop,\n                jump: current.scrollTop - scrollTop,\n                changed: true,\n              }\n            } else {\n              return {\n                scrollHeight,\n                scrollTop,\n                jump: 0,\n                changed: true,\n              }\n            }\n          } else {\n            return {\n              scrollTop,\n              scrollHeight,\n              jump: 0,\n              changed: false,\n            }\n          }\n        },\n        { scrollHeight: 0, jump: 0, scrollTop: 0, changed: false }\n      ),\n      u.filter((value) => value.changed),\n      u.map((value) => value.jump)\n    ),\n    0\n  )\n\n  u.connect(\n    u.pipe(\n      atBottomState,\n      u.map((state) => state.atBottom)\n    ),\n    isAtBottom\n  )\n\n  u.connect(u.pipe(isAtBottom, u.throttleTime(50)), atBottomStateChange)\n\n  const scrollDirection = u.statefulStream<ScrollDirection>(DOWN)\n\n  u.connect(\n    u.pipe(\n      scrollContainerState,\n      u.map(({ scrollTop }) => scrollTop),\n      u.distinctUntilChanged(),\n      u.scan(\n        (acc, scrollTop) => {\n          // if things change while compensating for items, ignore,\n          // but store the new scrollTop\n          if (u.getValue(isScrollingBy)) {\n            return { direction: acc.direction, prevScrollTop: scrollTop }\n          }\n\n          return { direction: scrollTop < acc.prevScrollTop ? UP : DOWN, prevScrollTop: scrollTop }\n        },\n        { direction: DOWN, prevScrollTop: 0 } as { direction: ScrollDirection; prevScrollTop: number }\n      ),\n      u.map((value) => value.direction)\n    ),\n    scrollDirection\n  )\n\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n  u.connect(u.pipe(scrollContainerState, u.throttleTime(50), u.mapTo(NONE)), scrollDirection)\n\n  const scrollVelocity = u.statefulStream(0)\n\n  u.connect(\n    u.pipe(\n      isScrolling,\n      u.filter((value) => !value),\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n      u.mapTo(0)\n    ),\n    scrollVelocity\n  )\n\n  u.connect(\n    u.pipe(\n      scrollTop,\n      u.throttleTime(100),\n      u.withLatestFrom(isScrolling),\n      u.filter(([_, isScrolling]) => !!isScrolling),\n      u.scan(([_, prev], [next]) => [prev, next], [0, 0]),\n      u.map(([prev, next]) => next - prev)\n    ),\n    scrollVelocity\n  )\n\n  return {\n    isScrolling,\n    isAtTop,\n    isAtBottom,\n    atBottomState,\n    atTopStateChange,\n    atBottomStateChange,\n    scrollDirection,\n    atBottomThreshold,\n    atTopThreshold,\n    scrollVelocity,\n    lastJumpDueToItemResize,\n  }\n}, u.tup(domIOSystem))\n","import * as u from '@virtuoso.dev/urx'\nimport { loggerSystem, LogLevel } from './loggerSystem'\n\nexport const propsReadySystem = u.system(\n  ([{ log }]) => {\n    const propsReady = u.statefulStream(false)\n\n    const didMount = u.streamFromEmitter(\n      u.pipe(\n        propsReady,\n        u.filter((ready) => ready),\n        u.distinctUntilChanged()\n      )\n    )\n    u.subscribe(propsReady, (value) => {\n      value && u.getValue(log)('props updated', {}, LogLevel.DEBUG)\n    })\n\n    return { propsReady, didMount }\n  },\n  u.tup(loggerSystem),\n  { singleton: true }\n)\n","import * as u from '@virtuoso.dev/urx'\nimport { empty } from './AATree'\nimport { sizeSystem } from './sizeSystem'\nimport { domIOSystem } from './domIOSystem'\nimport { scrollToIndexSystem } from './scrollToIndexSystem'\nimport { propsReadySystem } from './propsReadySystem'\nimport { FlatIndexLocationWithAlign } from './interfaces'\n\nexport function getInitialTopMostItemIndexNumber(location: number | FlatIndexLocationWithAlign, totalCount: number): number {\n  const lastIndex = totalCount - 1\n  const index = typeof location === 'number' ? location : location.index === 'LAST' ? lastIndex : location.index\n  return index\n}\n\nexport const initialTopMostItemIndexSystem = u.system(\n  ([{ sizes, listRefresh, defaultItemSize }, { scrollTop }, { scrollToIndex }, { didMount }]) => {\n    const scrolledToInitialItem = u.statefulStream(true)\n    const initialTopMostItemIndex = u.statefulStream<number | FlatIndexLocationWithAlign>(0)\n\n    u.connect(\n      u.pipe(\n        didMount,\n        u.withLatestFrom(initialTopMostItemIndex),\n        u.filter(([_, location]) => !!location),\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n        u.mapTo(false)\n      ),\n      scrolledToInitialItem\n    )\n\n    u.subscribe(\n      u.pipe(\n        u.combineLatest(listRefresh, didMount),\n        u.withLatestFrom(scrolledToInitialItem, sizes, defaultItemSize),\n        u.filter(([[, didMount], scrolledToInitialItem, { sizeTree }, defaultItemSize]) => {\n          return didMount && (!empty(sizeTree) || defaultItemSize !== undefined) && !scrolledToInitialItem\n        }),\n        u.withLatestFrom(initialTopMostItemIndex)\n      ),\n      ([, initialTopMostItemIndex]) => {\n        setTimeout(() => {\n          u.handleNext(scrollTop, () => {\n            u.publish(scrolledToInitialItem, true)\n          })\n          u.publish(scrollToIndex, initialTopMostItemIndex)\n        })\n      }\n    )\n\n    return {\n      scrolledToInitialItem,\n      initialTopMostItemIndex,\n    }\n  },\n  u.tup(sizeSystem, domIOSystem, scrollToIndexSystem, propsReadySystem),\n  { singleton: true }\n)\n","/* eslint-disable @typescript-eslint/no-unsafe-call */\nimport * as u from '@virtuoso.dev/urx'\nimport { scrollToIndexSystem } from './scrollToIndexSystem'\nimport { sizeSystem } from './sizeSystem'\nimport { stateFlagsSystem } from './stateFlagsSystem'\nimport { initialTopMostItemIndexSystem } from './initialTopMostItemIndexSystem'\nimport { FollowOutput, FollowOutputScalarType } from './interfaces'\nimport { propsReadySystem } from './propsReadySystem'\nimport { loggerSystem, LogLevel } from './loggerSystem'\nimport { domIOSystem } from './domIOSystem'\n\nfunction normalizeFollowOutput(follow: FollowOutputScalarType): FollowOutputScalarType {\n  if (!follow) {\n    return false\n  }\n  return follow === 'smooth' ? 'smooth' : 'auto'\n}\n\nconst behaviorFromFollowOutput = (follow: FollowOutput, isAtBottom: boolean) => {\n  if (typeof follow === 'function') {\n    return normalizeFollowOutput(follow(isAtBottom))\n  }\n  return isAtBottom && normalizeFollowOutput(follow)\n}\n\nexport const followOutputSystem = u.system(\n  ([\n    { totalCount, listRefresh },\n    { isAtBottom, atBottomState },\n    { scrollToIndex },\n    { scrolledToInitialItem },\n    { propsReady, didMount },\n    { log },\n    { scrollingInProgress },\n  ]) => {\n    const followOutput = u.statefulStream<FollowOutput>(false)\n    const autoscrollToBottom = u.stream<true>()\n    let pendingScrollHandle: any = null\n\n    function scrollToBottom(followOutputBehavior: FollowOutputScalarType) {\n      u.publish(scrollToIndex, {\n        index: 'LAST',\n        align: 'end',\n        behavior: followOutputBehavior,\n      })\n    }\n\n    u.subscribe(\n      u.pipe(\n        u.combineLatest(u.pipe(u.duc(totalCount), u.skip(1)), didMount),\n        u.withLatestFrom(u.duc(followOutput), isAtBottom, scrolledToInitialItem, scrollingInProgress),\n        u.map(([[totalCount, didMount], followOutput, isAtBottom, scrolledToInitialItem, scrollingInProgress]) => {\n          let shouldFollow = didMount && scrolledToInitialItem\n          let followOutputBehavior: FollowOutputScalarType = 'auto'\n\n          if (shouldFollow) {\n            // if scrolling to index is in progress,\n            // assume that a previous followOutput response is going\n            followOutputBehavior = behaviorFromFollowOutput(followOutput, isAtBottom || scrollingInProgress)\n            shouldFollow = shouldFollow && !!followOutputBehavior\n          }\n\n          return { totalCount, shouldFollow, followOutputBehavior }\n        }),\n        u.filter(({ shouldFollow }) => shouldFollow)\n      ),\n      ({ totalCount, followOutputBehavior }) => {\n        if (pendingScrollHandle) {\n          pendingScrollHandle()\n          pendingScrollHandle = null\n        }\n\n        pendingScrollHandle = u.handleNext(listRefresh, () => {\n          u.getValue(log)('following output to ', { totalCount }, LogLevel.DEBUG)\n          scrollToBottom(followOutputBehavior)\n          pendingScrollHandle = null\n        })\n      }\n    )\n\n    function trapNextSizeIncrease(followOutput: boolean) {\n      const cancel = u.handleNext(atBottomState, (state) => {\n        if (followOutput && !state.atBottom && state.notAtBottomBecause === 'SIZE_INCREASED' && !pendingScrollHandle) {\n          u.getValue(log)('scrolling to bottom due to increased size', {}, LogLevel.DEBUG)\n          scrollToBottom('auto')\n        }\n      })\n      setTimeout(cancel, 100)\n    }\n\n    u.subscribe(\n      u.pipe(\n        u.combineLatest(u.duc(followOutput), totalCount, propsReady),\n        u.filter(([follow, , ready]) => follow && ready),\n        u.scan(\n          ({ value }, [, next]) => {\n            return { refreshed: value === next, value: next }\n          },\n          { refreshed: false, value: 0 }\n        ),\n        u.filter(({ refreshed }) => refreshed),\n        u.withLatestFrom(followOutput, totalCount)\n      ),\n      ([, followOutput]) => {\n        trapNextSizeIncrease(followOutput !== false)\n      }\n    )\n\n    u.subscribe(autoscrollToBottom, () => {\n      trapNextSizeIncrease(u.getValue(followOutput) !== false)\n    })\n\n    u.subscribe(u.combineLatest(u.duc(followOutput), atBottomState), ([followOutput, state]) => {\n      if (followOutput && !state.atBottom && state.notAtBottomBecause === 'VIEWPORT_HEIGHT_DECREASING') {\n        scrollToBottom('auto')\n      }\n    })\n\n    return { followOutput, autoscrollToBottom }\n  },\n  u.tup(sizeSystem, stateFlagsSystem, scrollToIndexSystem, initialTopMostItemIndexSystem, propsReadySystem, loggerSystem, domIOSystem)\n)\n","import * as u from '@virtuoso.dev/urx'\n\nimport { findMaxKeyValue } from './AATree'\nimport { domIOSystem } from './domIOSystem'\nimport { sizeSystem, hasGroups } from './sizeSystem'\nexport interface GroupIndexesAndCount {\n  totalCount: number\n  groupIndices: number[]\n}\n\nexport function groupCountsToIndicesAndCount(counts: number[]) {\n  return counts.reduce(\n    (acc, groupCount) => {\n      acc.groupIndices.push(acc.totalCount)\n      acc.totalCount += groupCount + 1\n      return acc\n    },\n    {\n      totalCount: 0,\n      groupIndices: [],\n    } as GroupIndexesAndCount\n  )\n}\n\nexport const groupedListSystem = u.system(([{ totalCount, groupIndices, sizes }, { scrollTop, headerHeight }]) => {\n  const groupCounts = u.stream<number[]>()\n  const topItemsIndexes = u.stream<[number]>()\n  const groupIndicesAndCount = u.streamFromEmitter(u.pipe(groupCounts, u.map(groupCountsToIndicesAndCount)))\n  u.connect(\n    u.pipe(\n      groupIndicesAndCount,\n      u.map((value) => value.totalCount)\n    ),\n    totalCount\n  )\n  u.connect(\n    u.pipe(\n      groupIndicesAndCount,\n      u.map((value) => value.groupIndices)\n    ),\n    groupIndices\n  )\n\n  u.connect(\n    u.pipe(\n      u.combineLatest(scrollTop, sizes, headerHeight),\n      u.filter(([_, sizes]) => hasGroups(sizes)),\n      u.map(([scrollTop, state, headerHeight]) => findMaxKeyValue(state.groupOffsetTree, Math.max(scrollTop - headerHeight, 0), 'v')[0]),\n      u.distinctUntilChanged(),\n      u.map((index) => [index])\n    ),\n    topItemsIndexes\n  )\n\n  return { groupCounts, topItemsIndexes }\n}, u.tup(sizeSystem, domIOSystem))\n","import { ListRange } from './interfaces'\n\nexport function tupleComparator<T1, T2>(prev: [T1, T2] | undefined, current: [T1, T2]) {\n  return !!(prev && prev[0] === current[0] && prev[1] === current[1])\n}\n\nexport function rangeComparator(prev: ListRange | undefined, next: ListRange) {\n  return !!(prev && prev.startIndex === next.startIndex && prev.endIndex === next.endIndex)\n}\n","import * as u from '@virtuoso.dev/urx'\nimport { domIOSystem } from './domIOSystem'\nimport { UP, DOWN, ScrollDirection } from './stateFlagsSystem'\nimport { tupleComparator } from './comparators'\n\nexport type NumberTuple = [number, number]\nexport type Overscan = number | { main: number; reverse: number }\nexport const TOP = 'top' as const\nexport const BOTTOM = 'bottom' as const\nexport const NONE = 'none' as const\nexport type ListEnd = typeof TOP | typeof BOTTOM\nexport type ViewportIncrease = number | { [k in ListEnd]?: number }\nexport type ChangeDirection = typeof UP | typeof DOWN | typeof NONE\n\nexport function getOverscan(overscan: Overscan, end: ListEnd, direction: ScrollDirection) {\n  if (typeof overscan === 'number') {\n    return (direction === UP && end === TOP) || (direction === DOWN && end === BOTTOM) ? overscan : 0\n  } else {\n    if (direction === UP) {\n      return end === TOP ? overscan.main : overscan.reverse\n    } else {\n      return end === BOTTOM ? overscan.main : overscan.reverse\n    }\n  }\n}\n\nfunction getViewportIncrease(value: ViewportIncrease, end: ListEnd) {\n  return typeof value === 'number' ? value : value[end] || 0\n}\n\nexport const sizeRangeSystem = u.system(\n  ([{ scrollTop, viewportHeight, deviation, headerHeight, fixedHeaderHeight }]) => {\n    const listBoundary = u.stream<NumberTuple>()\n    const topListHeight = u.statefulStream(0)\n    const increaseViewportBy = u.statefulStream<ViewportIncrease>(0)\n    const overscan = u.statefulStream<Overscan>(0)\n\n    const visibleRange = u.statefulStreamFromEmitter(\n      u.pipe(\n        u.combineLatest(\n          u.duc(scrollTop),\n          u.duc(viewportHeight),\n          u.duc(headerHeight),\n          u.duc(listBoundary, tupleComparator),\n          u.duc(overscan),\n          u.duc(topListHeight),\n          u.duc(fixedHeaderHeight),\n          u.duc(deviation),\n          u.duc(increaseViewportBy)\n        ),\n        u.map(\n          ([\n            scrollTop,\n            viewportHeight,\n            headerHeight,\n            [listTop, listBottom],\n            overscan,\n            topListHeight,\n            fixedHeaderHeight,\n            deviation,\n            increaseViewportBy,\n          ]) => {\n            const top = scrollTop - deviation\n            const stickyHeaderHeight = topListHeight + fixedHeaderHeight\n            const headerVisible = Math.max(headerHeight - top, 0)\n            let direction: ChangeDirection = NONE\n            const topViewportAddition = getViewportIncrease(increaseViewportBy, TOP)\n            const bottomViewportAddition = getViewportIncrease(increaseViewportBy, BOTTOM)\n\n            listTop -= deviation\n            listTop += headerHeight + fixedHeaderHeight\n            listBottom += headerHeight + fixedHeaderHeight\n            listBottom -= deviation\n\n            // console.log({ listTop, scrollTop, stickyHeaderHeight, topViewportAddition })\n            if (listTop > scrollTop + stickyHeaderHeight - topViewportAddition) {\n              direction = UP\n            }\n\n            if (listBottom < scrollTop - headerVisible + viewportHeight + bottomViewportAddition) {\n              direction = DOWN\n            }\n\n            if (direction !== NONE) {\n              return [\n                Math.max(top - headerHeight - getOverscan(overscan, TOP, direction) - topViewportAddition, 0),\n                top -\n                  headerVisible -\n                  fixedHeaderHeight +\n                  viewportHeight +\n                  getOverscan(overscan, BOTTOM, direction) +\n                  bottomViewportAddition,\n              ] as NumberTuple\n            }\n\n            return null\n          }\n        ),\n        u.filter((value) => value != null) as u.Operator<NumberTuple | null, NumberTuple>,\n        u.distinctUntilChanged(tupleComparator)\n      ),\n      [0, 0]\n    ) as unknown as u.StatefulStream<NumberTuple>\n\n    return {\n      // input\n      listBoundary,\n      overscan,\n      topListHeight,\n      increaseViewportBy,\n\n      // output\n      visibleRange,\n    }\n  },\n  u.tup(domIOSystem),\n  { singleton: true }\n)\n","import * as u from '@virtuoso.dev/urx'\nimport { empty, findMaxKeyValue, Range, rangesWithin } from './AATree'\nimport { groupedListSystem } from './groupedListSystem'\nimport { getInitialTopMostItemIndexNumber, initialTopMostItemIndexSystem } from './initialTopMostItemIndexSystem'\nimport { Item, ListItem, ListRange } from './interfaces'\nimport { propsReadySystem } from './propsReadySystem'\nimport { scrollToIndexSystem } from './scrollToIndexSystem'\nimport { sizeRangeSystem } from './sizeRangeSystem'\nimport { Data, originalIndexFromItemIndex, SizeState, sizeSystem, hasGroups, rangesWithinOffsets } from './sizeSystem'\nimport { stateFlagsSystem } from './stateFlagsSystem'\nimport { rangeComparator, tupleComparator } from './comparators'\nimport { recalcSystem } from './recalcSystem'\n\nexport type ListItems = ListItem<unknown>[]\nexport interface TopListState {\n  items: ListItems\n  listHeight: number\n}\n\nexport interface ListState {\n  items: ListItems\n  topItems: ListItems\n  topListHeight: number\n  offsetTop: number\n  offsetBottom: number\n  top: number\n  bottom: number\n  totalCount: number\n  firstItemIndex: number\n}\n\nfunction probeItemSet(index: number, sizes: SizeState, data: Data) {\n  if (hasGroups(sizes)) {\n    const itemIndex = originalIndexFromItemIndex(index, sizes)\n    const groupIndex = findMaxKeyValue(sizes.groupOffsetTree, itemIndex)[0]\n\n    return [\n      { index: groupIndex, size: 0, offset: 0 },\n      { index: itemIndex, size: 0, offset: 0, data: data && data[0] },\n    ]\n  }\n  return [{ index, size: 0, offset: 0, data: data && data[0] }]\n}\n\nconst EMPTY_LIST_STATE: ListState = {\n  items: [] as ListItems,\n  topItems: [] as ListItems,\n  offsetTop: 0,\n  offsetBottom: 0,\n  top: 0,\n  bottom: 0,\n  topListHeight: 0,\n  totalCount: 0,\n  firstItemIndex: 0,\n}\n\nfunction transposeItems(items: Item<any>[], sizes: SizeState, firstItemIndex: number): ListItems {\n  if (items.length === 0) {\n    return []\n  }\n\n  if (!hasGroups(sizes)) {\n    return items.map((item) => ({ ...item, index: item.index + firstItemIndex, originalIndex: item.index }))\n  }\n\n  const startIndex = items[0].index\n  const endIndex = items[items.length - 1].index\n\n  const transposedItems = [] as ListItems\n  const groupRanges = rangesWithin(sizes.groupOffsetTree, startIndex, endIndex)\n  let currentRange: Range<number> | undefined = undefined\n  let currentGroupIndex = 0\n\n  for (const item of items) {\n    if (!currentRange || currentRange.end < item.index) {\n      currentRange = groupRanges.shift()!\n      currentGroupIndex = sizes.groupIndices.indexOf(currentRange.start)\n    }\n\n    let transposedItem: { type: 'group'; index: number } | { index: number; groupIndex: number }\n\n    if (item.index === currentRange.start) {\n      transposedItem = {\n        type: 'group' as const,\n        index: currentGroupIndex,\n      }\n    } else {\n      transposedItem = {\n        index: item.index - (currentGroupIndex + 1) + firstItemIndex,\n        groupIndex: currentGroupIndex,\n      }\n    }\n\n    transposedItems.push({\n      ...transposedItem,\n      size: item.size,\n      offset: item.offset,\n      originalIndex: item.index,\n      data: item.data,\n    })\n  }\n\n  return transposedItems\n}\n\nexport function buildListState(\n  items: Item<any>[],\n  topItems: Item<any>[],\n  totalCount: number,\n  gap: number,\n  sizes: SizeState,\n  firstItemIndex: number\n): ListState {\n  const { lastSize, lastOffset, lastIndex } = sizes\n  let offsetTop = 0\n  let bottom = 0\n\n  if (items.length > 0) {\n    offsetTop = items[0].offset\n    const lastItem = items[items.length - 1]\n    bottom = lastItem.offset + lastItem.size\n  }\n\n  const itemCount = totalCount - lastIndex\n  const total = lastOffset + itemCount * lastSize + (itemCount - 1) * gap\n  const top = offsetTop\n  const offsetBottom = total - bottom\n\n  return {\n    items: transposeItems(items, sizes, firstItemIndex),\n    topItems: transposeItems(topItems, sizes, firstItemIndex),\n    topListHeight: topItems.reduce((height, item) => item.size + height, 0),\n    offsetTop,\n    offsetBottom,\n    top,\n    bottom,\n    totalCount,\n    firstItemIndex,\n  }\n}\n\nexport const listStateSystem = u.system(\n  ([\n    { sizes, totalCount, data, firstItemIndex, gap },\n    groupedListSystem,\n    { visibleRange, listBoundary, topListHeight: rangeTopListHeight },\n    { scrolledToInitialItem, initialTopMostItemIndex },\n    { topListHeight },\n    stateFlags,\n    { didMount },\n    { recalcInProgress },\n  ]) => {\n    const topItemsIndexes = u.statefulStream<Array<number>>([])\n    const itemsRendered = u.stream<ListItems>()\n\n    u.connect(groupedListSystem.topItemsIndexes, topItemsIndexes)\n\n    const listState = u.statefulStreamFromEmitter(\n      u.pipe(\n        u.combineLatest(\n          didMount,\n          recalcInProgress,\n          u.duc(visibleRange, tupleComparator),\n          u.duc(totalCount),\n          u.duc(sizes),\n          u.duc(initialTopMostItemIndex),\n          scrolledToInitialItem,\n          u.duc(topItemsIndexes),\n          u.duc(firstItemIndex),\n          u.duc(gap),\n          data\n        ),\n        u.filter(([mount, recalcInProgress]) => {\n          return mount && !recalcInProgress\n        }),\n        u.map(\n          ([\n            ,\n            ,\n            [startOffset, endOffset],\n            totalCount,\n            sizes,\n            initialTopMostItemIndex,\n            scrolledToInitialItem,\n            topItemsIndexes,\n            firstItemIndex,\n            gap,\n            data,\n          ]) => {\n            const sizesValue = sizes\n            const { sizeTree, offsetTree } = sizesValue\n\n            if (totalCount === 0 || (startOffset === 0 && endOffset === 0)) {\n              return EMPTY_LIST_STATE\n            }\n\n            if (empty(sizeTree)) {\n              return buildListState(\n                probeItemSet(getInitialTopMostItemIndexNumber(initialTopMostItemIndex, totalCount), sizesValue, data),\n                [],\n                totalCount,\n                gap,\n                sizesValue,\n                firstItemIndex\n              )\n            }\n\n            const topItems = [] as Item<any>[]\n\n            if (topItemsIndexes.length > 0) {\n              const startIndex = topItemsIndexes[0]\n              const endIndex = topItemsIndexes[topItemsIndexes.length - 1]\n              let offset = 0\n              for (const range of rangesWithin(sizeTree, startIndex, endIndex)) {\n                const size = range.value\n                const rangeStartIndex = Math.max(range.start, startIndex)\n                const rangeEndIndex = Math.min(range.end, endIndex)\n                for (let i = rangeStartIndex; i <= rangeEndIndex; i++) {\n                  topItems.push({ index: i, size, offset: offset, data: data && data[i] })\n                  offset += size\n                }\n              }\n            }\n\n            // If the list hasn't scrolled to the initial item because the initial item was set,\n            // render empty list.\n            //\n            // This is a condition to be evaluated past the probe check, do not merge\n            // with the totalCount check above\n            if (!scrolledToInitialItem) {\n              return buildListState([], topItems, totalCount, gap, sizesValue, firstItemIndex)\n            }\n\n            const minStartIndex = topItemsIndexes.length > 0 ? topItemsIndexes[topItemsIndexes.length - 1] + 1 : 0\n\n            const offsetPointRanges = rangesWithinOffsets(offsetTree, startOffset, endOffset, minStartIndex)\n            if (offsetPointRanges.length === 0) {\n              return null\n            }\n\n            const maxIndex = totalCount - 1\n\n            const items = u.tap([] as Item<any>[], (result) => {\n              for (const range of offsetPointRanges) {\n                const point = range.value\n                let offset = point.offset\n                let rangeStartIndex = range.start\n                const size = point.size\n\n                if (point.offset < startOffset) {\n                  rangeStartIndex += Math.floor((startOffset - point.offset + gap) / (size + gap))\n                  const itemCount = rangeStartIndex - range.start\n                  offset += itemCount * size + itemCount * gap\n                }\n\n                if (rangeStartIndex < minStartIndex) {\n                  offset += (minStartIndex - rangeStartIndex) * size\n                  rangeStartIndex = minStartIndex\n                }\n\n                const endIndex = Math.min(range.end, maxIndex)\n\n                for (let i = rangeStartIndex; i <= endIndex; i++) {\n                  if (offset >= endOffset) {\n                    break\n                  }\n\n                  result.push({ index: i, size, offset: offset, data: data && data[i] })\n                  offset += size + gap\n                }\n              }\n            })\n\n            return buildListState(items, topItems, totalCount, gap, sizesValue, firstItemIndex)\n          }\n        ),\n        //@ts-expect-error filter needs to be fixed\n        u.filter((value) => value !== null),\n        u.distinctUntilChanged()\n      ),\n      EMPTY_LIST_STATE\n    )\n\n    u.connect(\n      u.pipe(\n        data,\n        u.filter((data) => data !== undefined),\n        u.map((data) => data!.length)\n      ),\n      totalCount\n    )\n\n    u.connect(\n      u.pipe(\n        listState,\n        u.map((value) => value.topListHeight)\n      ),\n      topListHeight\n    )\n    u.connect(topListHeight, rangeTopListHeight)\n\n    u.connect(\n      u.pipe(\n        listState,\n        u.map((state) => [state.top, state.bottom])\n      ),\n      listBoundary\n    )\n\n    u.connect(\n      u.pipe(\n        listState,\n        u.map((state) => state.items)\n      ),\n      itemsRendered\n    )\n\n    const endReached = u.streamFromEmitter(\n      u.pipe(\n        listState,\n        u.filter(({ items }) => items.length > 0),\n        u.withLatestFrom(totalCount, data),\n        u.filter(([{ items }, totalCount]) => items[items.length - 1].originalIndex === totalCount - 1),\n        u.map(([, totalCount, data]) => [totalCount - 1, data] as [number, unknown[]]),\n        u.distinctUntilChanged(tupleComparator),\n        u.map(([count]) => count)\n      )\n    )\n\n    const startReached = u.streamFromEmitter(\n      u.pipe(\n        listState,\n        u.throttleTime(200),\n        u.filter(({ items, topItems }) => {\n          return items.length > 0 && items[0].originalIndex === topItems.length\n        }),\n        u.map(({ items }) => items[0].index),\n        u.distinctUntilChanged()\n      )\n    )\n\n    const rangeChanged = u.streamFromEmitter(\n      u.pipe(\n        listState,\n        u.filter(({ items }) => items.length > 0),\n        u.map(({ items }) => {\n          let startIndex = 0\n          let endIndex = items.length - 1\n\n          while (items[startIndex].type === 'group' && startIndex < endIndex) {\n            startIndex++\n          }\n\n          while (items[endIndex].type === 'group' && endIndex > startIndex) {\n            endIndex--\n          }\n\n          return {\n            startIndex: items[startIndex].index,\n            endIndex: items[endIndex].index,\n          } as ListRange\n        }),\n        u.distinctUntilChanged(rangeComparator)\n      )\n    )\n\n    return { listState, topItemsIndexes, endReached, startReached, rangeChanged, itemsRendered, ...stateFlags }\n  },\n  u.tup(\n    sizeSystem,\n    groupedListSystem,\n    sizeRangeSystem,\n    initialTopMostItemIndexSystem,\n    scrollToIndexSystem,\n    stateFlagsSystem,\n    propsReadySystem,\n    recalcSystem\n  ),\n  { singleton: true }\n)\n","import * as u from '@virtuoso.dev/urx'\nimport { listStateSystem, buildListState } from './listStateSystem'\nimport { sizeSystem } from './sizeSystem'\nimport { propsReadySystem } from './propsReadySystem'\n\nexport const initialItemCountSystem = u.system(\n  ([{ sizes, firstItemIndex, data, gap }, { listState }, { didMount }]) => {\n    const initialItemCount = u.statefulStream(0)\n\n    u.connect(\n      u.pipe(\n        didMount,\n        u.withLatestFrom(initialItemCount),\n        u.filter(([, count]) => count !== 0),\n        u.withLatestFrom(sizes, firstItemIndex, gap, data),\n        u.map(([[, count], sizes, firstItemIndex, gap, data = []]) => {\n          let includedGroupsCount = 0\n          if (sizes.groupIndices.length > 0) {\n            for (const index of sizes.groupIndices) {\n              if (index - includedGroupsCount >= count) {\n                break\n              }\n              includedGroupsCount++\n            }\n          }\n          const adjustedCount = count + includedGroupsCount\n          const items = Array.from({ length: adjustedCount }).map((_, index) => ({ index, size: 0, offset: 0, data: data[index] }))\n          return buildListState(items, [], adjustedCount, gap, sizes, firstItemIndex)\n        })\n      ),\n      listState\n    )\n\n    return { initialItemCount }\n  },\n  u.tup(sizeSystem, listStateSystem, propsReadySystem),\n  { singleton: true }\n)\n","import * as u from '@virtuoso.dev/urx'\nimport { ListRange } from './interfaces'\nimport { stateFlagsSystem } from './stateFlagsSystem'\nimport { ScrollSeekConfiguration } from './interfaces'\n\nexport const scrollSeekSystem = u.system(\n  ([{ scrollVelocity }]) => {\n    const isSeeking = u.statefulStream(false)\n    const rangeChanged = u.stream<ListRange>()\n    const scrollSeekConfiguration = u.statefulStream<ScrollSeekConfiguration | undefined | false>(false)\n\n    u.connect(\n      u.pipe(\n        scrollVelocity,\n        u.withLatestFrom(scrollSeekConfiguration, isSeeking, rangeChanged),\n        u.filter(([_, config]) => !!config),\n        u.map(([speed, config, isSeeking, range]) => {\n          const { exit, enter } = config as ScrollSeekConfiguration\n          if (isSeeking) {\n            if (exit(speed, range)) {\n              return false\n            }\n          } else {\n            if (enter(speed, range)) {\n              return true\n            }\n          }\n          return isSeeking\n        }),\n        u.distinctUntilChanged()\n      ),\n      isSeeking\n    )\n\n    u.subscribe(\n      u.pipe(u.combineLatest(isSeeking, scrollVelocity, rangeChanged), u.withLatestFrom(scrollSeekConfiguration)),\n      ([[isSeeking, velocity, range], config]) => isSeeking && config && config.change && config.change(velocity, range)\n    )\n\n    return { isSeeking, scrollSeekConfiguration, scrollVelocity, scrollSeekRangeChanged: rangeChanged }\n  },\n  u.tup(stateFlagsSystem),\n  { singleton: true }\n)\n","import * as u from '@virtuoso.dev/urx'\nimport { listStateSystem } from './listStateSystem'\n\nexport const topItemCountSystem = u.system(([{ topItemsIndexes }]) => {\n  const topItemCount = u.statefulStream(0)\n\n  u.connect(\n    u.pipe(\n      topItemCount,\n      u.filter((length) => length > 0),\n      u.map((length) => Array.from({ length }).map((_, index) => index))\n    ),\n    topItemsIndexes\n  )\n  return { topItemCount }\n}, u.tup(listStateSystem))\n","import * as u from '@virtuoso.dev/urx'\nimport { listStateSystem } from './listStateSystem'\nimport { domIOSystem } from './domIOSystem'\n\nexport const totalListHeightSystem = u.system(\n  ([{ footerHeight, headerHeight, fixedHeaderHeight }, { listState }]) => {\n    const totalListHeightChanged = u.stream<number>()\n    const totalListHeight = u.statefulStreamFromEmitter(\n      u.pipe(\n        u.combineLatest(footerHeight, headerHeight, fixedHeaderHeight, listState),\n        u.map(([footerHeight, headerHeight, fixedHeaderHeight, listState]) => {\n          return footerHeight + headerHeight + fixedHeaderHeight + listState.offsetBottom + listState.bottom\n        })\n      ),\n      0\n    )\n\n    u.connect(u.duc(totalListHeight), totalListHeightChanged)\n\n    return { totalListHeight, totalListHeightChanged }\n  },\n  u.tup(domIOSystem, listStateSystem),\n  { singleton: true }\n)\n","export function simpleMemoize<T extends () => any>(func: T): T {\n  let called = false\n  let result: unknown\n\n  return (() => {\n    if (!called) {\n      called = true\n      result = func()\n    }\n    return result\n  }) as T\n}\n","import * as u from '@virtuoso.dev/urx'\nimport { domIOSystem } from './domIOSystem'\nimport { listStateSystem } from './listStateSystem'\nimport { sizeSystem } from './sizeSystem'\nimport { UP, stateFlagsSystem } from './stateFlagsSystem'\nimport { ListItem } from './interfaces'\nimport { loggerSystem, LogLevel } from './loggerSystem'\nimport { simpleMemoize } from './utils/simpleMemoize'\nimport { recalcSystem } from './recalcSystem'\n\nconst isMobileSafari = simpleMemoize(() => {\n  return /iP(ad|hone|od).+Version\\/[\\d.]+.*Safari/i.test(navigator.userAgent)\n})\n\ntype UpwardFixState = [number, ListItem<any>[], number, number]\n/**\n * Fixes upward scrolling by calculating and compensation from changed item heights, using scrollBy.\n */\nexport const upwardScrollFixSystem = u.system(\n  ([\n    { scrollBy, scrollTop, deviation, scrollingInProgress },\n    { isScrolling, isAtBottom, scrollDirection, lastJumpDueToItemResize },\n    { listState },\n    { beforeUnshiftWith, shiftWithOffset, sizes, gap },\n    { log },\n    { recalcInProgress },\n  ]) => {\n    const deviationOffset = u.streamFromEmitter(\n      u.pipe(\n        listState,\n        u.withLatestFrom(lastJumpDueToItemResize),\n        u.scan(\n          ([, prevItems, prevTotalCount, prevTotalHeight], [{ items, totalCount, bottom, offsetBottom }, lastJumpDueToItemResize]) => {\n            const totalHeight = bottom + offsetBottom\n\n            let newDev = 0\n            if (prevTotalCount === totalCount) {\n              if (prevItems.length > 0 && items.length > 0) {\n                const atStart = items[0].originalIndex === 0 && prevItems[0].originalIndex === 0\n                if (!atStart) {\n                  newDev = totalHeight - prevTotalHeight\n                  if (newDev !== 0) {\n                    newDev += lastJumpDueToItemResize\n                  }\n                }\n              }\n            }\n\n            return [newDev, items, totalCount, totalHeight] as UpwardFixState\n          },\n          [0, [], 0, 0] as UpwardFixState\n        ),\n        u.filter(([amount]) => amount !== 0),\n        u.withLatestFrom(scrollTop, scrollDirection, scrollingInProgress, isAtBottom, log),\n        u.filter(([, scrollTop, scrollDirection, scrollingInProgress]) => {\n          return !scrollingInProgress && scrollTop !== 0 && scrollDirection === UP\n        }),\n        u.map(([[amount], , , , , log]) => {\n          log('Upward scrolling compensation', { amount }, LogLevel.DEBUG)\n          return amount\n        })\n      )\n    )\n\n    function scrollByWith(offset: number) {\n      if (offset > 0) {\n        u.publish(scrollBy, { top: -offset, behavior: 'auto' })\n        u.publish(deviation, 0)\n      } else {\n        u.publish(deviation, 0)\n        u.publish(scrollBy, { top: -offset, behavior: 'auto' })\n      }\n    }\n\n    u.subscribe(u.pipe(deviationOffset, u.withLatestFrom(deviation, isScrolling)), ([offset, deviationAmount, isScrolling]) => {\n      if (isScrolling && isMobileSafari()) {\n        u.publish(deviation, deviationAmount - offset)\n      } else {\n        scrollByWith(-offset)\n      }\n    })\n\n    // this hack is only necessary for mobile safari which does not support scrollBy while scrolling is in progress.\n    // when the browser stops scrolling, restore the position and reset the glitching\n    u.subscribe(\n      u.pipe(\n        u.combineLatest(u.statefulStreamFromEmitter(isScrolling, false), deviation, recalcInProgress),\n        u.filter(([is, deviation, recalc]) => !is && !recalc && deviation !== 0),\n        u.map(([_, deviation]) => deviation),\n        u.throttleTime(1)\n      ),\n      scrollByWith\n    )\n\n    u.connect(\n      u.pipe(\n        shiftWithOffset,\n        u.map((offset) => {\n          return { top: -offset }\n        })\n      ),\n      scrollBy\n    )\n\n    u.subscribe(\n      u.pipe(\n        beforeUnshiftWith,\n        u.withLatestFrom(sizes, gap),\n        u.map(([offset, { lastSize }, gap]) => offset * lastSize + offset * gap)\n      ),\n      (offset) => {\n        u.publish(deviation, offset)\n        requestAnimationFrame(() => {\n          u.publish(scrollBy, { top: offset })\n          requestAnimationFrame(() => {\n            u.publish(deviation, 0)\n            u.publish(recalcInProgress, false)\n          })\n        })\n      }\n    )\n\n    return { deviation }\n  },\n  u.tup(domIOSystem, stateFlagsSystem, listStateSystem, sizeSystem, loggerSystem, recalcSystem)\n)\n","import * as u from '@virtuoso.dev/urx'\nimport { totalListHeightSystem } from './totalListHeightSystem'\nimport { propsReadySystem } from './propsReadySystem'\nimport { domIOSystem } from './domIOSystem'\n\nexport const initialScrollTopSystem = u.system(\n  ([{ totalListHeight }, { didMount }, { scrollTo }]) => {\n    const initialScrollTop = u.statefulStream(0)\n\n    u.subscribe(\n      u.pipe(\n        didMount,\n        u.withLatestFrom(initialScrollTop),\n        u.filter(([, offset]) => offset !== 0),\n        u.map(([, offset]) => ({ top: offset }))\n      ),\n      (location) => {\n        u.handleNext(\n          u.pipe(\n            totalListHeight,\n            u.filter((val) => val !== 0)\n          ),\n          () => {\n            setTimeout(() => {\n              u.publish(scrollTo, location)\n            })\n          }\n        )\n      }\n    )\n\n    return {\n      initialScrollTop,\n    }\n  },\n  u.tup(totalListHeightSystem, propsReadySystem, domIOSystem),\n  { singleton: true }\n)\n","import * as u from '@virtuoso.dev/urx'\nimport { totalListHeightSystem } from './totalListHeightSystem'\nimport { domIOSystem } from './domIOSystem'\n\nexport const alignToBottomSystem = u.system(\n  ([{ viewportHeight }, { totalListHeight }]) => {\n    const alignToBottom = u.statefulStream(false)\n\n    const paddingTopAddition = u.statefulStreamFromEmitter(\n      u.pipe(\n        u.combineLatest(alignToBottom, viewportHeight, totalListHeight),\n        u.filter(([enabled]) => enabled),\n        u.map(([, viewportHeight, totalListHeight]) => {\n          return Math.max(0, viewportHeight - totalListHeight)\n        }),\n        u.distinctUntilChanged()\n      ),\n      0\n    )\n\n    return { alignToBottom, paddingTopAddition }\n  },\n  u.tup(domIOSystem, totalListHeightSystem),\n  { singleton: true }\n)\n","import * as u from '@virtuoso.dev/urx'\nimport { domIOSystem } from './domIOSystem'\nimport { WindowViewportInfo, ScrollContainerState } from './interfaces'\n\nexport const windowScrollerSystem = u.system(([{ scrollTo, scrollContainerState }]) => {\n  const windowScrollContainerState = u.stream<ScrollContainerState>()\n  const windowViewportRect = u.stream<WindowViewportInfo>()\n  const windowScrollTo = u.stream<ScrollToOptions>()\n  const useWindowScroll = u.statefulStream(false)\n  const customScrollParent = u.statefulStream<HTMLElement | undefined>(undefined)\n\n  u.connect(\n    u.pipe(\n      u.combineLatest(windowScrollContainerState, windowViewportRect),\n      u.map(([{ viewportHeight, scrollTop: windowScrollTop, scrollHeight }, { offsetTop }]) => {\n        return {\n          scrollTop: Math.max(0, windowScrollTop - offsetTop),\n          scrollHeight,\n          viewportHeight,\n        }\n      })\n    ),\n    scrollContainerState\n  )\n\n  u.connect(\n    u.pipe(\n      scrollTo,\n      u.withLatestFrom(windowViewportRect),\n      u.map(([scrollTo, { offsetTop }]) => {\n        return {\n          ...scrollTo,\n          top: scrollTo.top! + offsetTop,\n        }\n      })\n    ),\n    windowScrollTo\n  )\n\n  return {\n    // config\n    useWindowScroll,\n    customScrollParent,\n\n    // input\n    windowScrollContainerState,\n    windowViewportRect,\n\n    // signals\n    windowScrollTo,\n  }\n}, u.tup(domIOSystem))\n","import * as u from '@virtuoso.dev/urx'\nimport { findMaxKeyValue } from './AATree'\nimport { domIOSystem } from './domIOSystem'\nimport { offsetOf, originalIndexFromLocation, sizeSystem } from './sizeSystem'\nimport { loggerSystem } from './loggerSystem'\nimport { scrollToIndexSystem } from './scrollToIndexSystem'\nimport { listStateSystem } from './listStateSystem'\nimport { ScrollIntoViewLocation } from './interfaces'\n\nexport const scrollIntoViewSystem = u.system(\n  ([{ sizes, totalCount, gap }, { scrollTop, viewportHeight, headerHeight, scrollingInProgress }, { scrollToIndex }]) => {\n    const scrollIntoView = u.stream<ScrollIntoViewLocation>()\n\n    u.connect(\n      u.pipe(\n        scrollIntoView,\n        u.withLatestFrom(sizes, viewportHeight, totalCount, headerHeight, scrollTop, gap),\n        u.map(([viewLocation, sizes, viewportHeight, totalCount, headerHeight, scrollTop, gap]) => {\n          const { done, behavior, ...rest } = viewLocation\n          let location = null\n          const actualIndex = originalIndexFromLocation(viewLocation, sizes, totalCount - 1)\n\n          const itemTop = offsetOf(actualIndex, sizes.offsetTree, gap) + headerHeight\n          if (itemTop < scrollTop) {\n            location = { ...rest, behavior, align: 'start' }\n          } else {\n            const itemBottom = itemTop + findMaxKeyValue(sizes.sizeTree, actualIndex)[1]!\n\n            if (itemBottom > scrollTop + viewportHeight) {\n              location = { ...rest, behavior, align: 'end' }\n            }\n          }\n\n          if (location) {\n            done &&\n              u.handleNext(\n                u.pipe(\n                  scrollingInProgress,\n                  u.skip(1),\n                  u.filter((value) => value === false)\n                ),\n                done\n              )\n          } else {\n            done && done()\n          }\n\n          return location\n        }),\n        u.filter((value) => value !== null)\n      ),\n      scrollToIndex\n    )\n\n    return {\n      scrollIntoView,\n    }\n  },\n  u.tup(sizeSystem, domIOSystem, scrollToIndexSystem, listStateSystem, loggerSystem),\n  { singleton: true }\n)\n","import * as u from '@virtuoso.dev/urx'\nimport { domIOSystem } from './domIOSystem'\nimport { followOutputSystem } from './followOutputSystem'\nimport { groupedListSystem } from './groupedListSystem'\nimport { initialItemCountSystem } from './initialItemCountSystem'\nimport { initialTopMostItemIndexSystem } from './initialTopMostItemIndexSystem'\nimport { listStateSystem } from './listStateSystem'\nimport { propsReadySystem } from './propsReadySystem'\nimport { scrollSeekSystem } from './scrollSeekSystem'\nimport { scrollToIndexSystem } from './scrollToIndexSystem'\nimport { sizeRangeSystem } from './sizeRangeSystem'\nimport { sizeSystem } from './sizeSystem'\nimport { topItemCountSystem } from './topItemCountSystem'\nimport { totalListHeightSystem } from './totalListHeightSystem'\nimport { upwardScrollFixSystem } from './upwardScrollFixSystem'\nimport { initialScrollTopSystem } from './initialScrollTopSystem'\nimport { alignToBottomSystem } from './alignToBottomSystem'\nimport { windowScrollerSystem } from './windowScrollerSystem'\nimport { loggerSystem } from './loggerSystem'\nimport { scrollIntoViewSystem } from './scrollIntoViewSystem'\n\n// workaround the growing list of systems below\n// fix this with 4.1 recursive conditional types\nconst featureGroup1System = u.system(\n  ([\n    sizeRange,\n    initialItemCount,\n    propsReady,\n    scrollSeek,\n    totalListHeight,\n    initialScrollTopSystem,\n    alignToBottom,\n    windowScroller,\n    scrollIntoView,\n  ]) => {\n    return {\n      ...sizeRange,\n      ...initialItemCount,\n      ...propsReady,\n      ...scrollSeek,\n      ...totalListHeight,\n      ...initialScrollTopSystem,\n      ...alignToBottom,\n      ...windowScroller,\n      ...scrollIntoView,\n    }\n  },\n  u.tup(\n    sizeRangeSystem,\n    initialItemCountSystem,\n    propsReadySystem,\n    scrollSeekSystem,\n    totalListHeightSystem,\n    initialScrollTopSystem,\n    alignToBottomSystem,\n    windowScrollerSystem,\n    scrollIntoViewSystem\n  )\n)\n\nexport const listSystem = u.system(\n  ([\n    {\n      totalCount,\n      sizeRanges,\n      fixedItemSize,\n      defaultItemSize,\n      trackItemSizes,\n      itemSize,\n      data,\n      firstItemIndex,\n      groupIndices,\n      statefulTotalCount,\n      gap,\n    },\n    { initialTopMostItemIndex, scrolledToInitialItem },\n    domIO,\n    followOutput,\n    { listState, topItemsIndexes, ...flags },\n    { scrollToIndex },\n    _,\n    { topItemCount },\n    { groupCounts },\n    featureGroup1,\n    log,\n  ]) => {\n    u.connect(flags.rangeChanged, featureGroup1.scrollSeekRangeChanged)\n    u.connect(\n      u.pipe(\n        featureGroup1.windowViewportRect,\n        u.map((value) => value.visibleHeight)\n      ),\n      domIO.viewportHeight\n    )\n\n    return {\n      // input\n      totalCount,\n      data,\n      firstItemIndex,\n      sizeRanges,\n      initialTopMostItemIndex,\n      scrolledToInitialItem,\n      topItemsIndexes,\n      topItemCount,\n      groupCounts,\n      fixedItemHeight: fixedItemSize,\n      defaultItemHeight: defaultItemSize,\n      gap,\n      ...followOutput,\n\n      // output\n      statefulTotalCount,\n      listState,\n      scrollToIndex,\n      trackItemSizes,\n      itemSize,\n      groupIndices,\n\n      // exported from stateFlagsSystem\n      ...flags,\n      // the bag of IO from featureGroup1System\n      ...featureGroup1,\n      ...domIO,\n      ...log,\n    }\n  },\n  u.tup(\n    sizeSystem,\n    initialTopMostItemIndexSystem,\n    domIOSystem,\n    followOutputSystem,\n    listStateSystem,\n    scrollToIndexSystem,\n    upwardScrollFixSystem,\n    topItemCountSystem,\n    groupedListSystem,\n    featureGroup1System,\n    loggerSystem\n  )\n)\n","import { simpleMemoize } from './simpleMemoize'\n\nconst WEBKIT_STICKY = '-webkit-sticky'\nconst STICKY = 'sticky'\n\nexport const positionStickyCssValue = simpleMemoize(() => {\n  if (typeof document === 'undefined') {\n    return STICKY\n  }\n  const node = document.createElement('div')\n  node.style.position = WEBKIT_STICKY\n  return node.style.position === WEBKIT_STICKY ? WEBKIT_STICKY : STICKY\n})\n","import { useEffect, useRef, useCallback } from 'react'\nimport { useSizeWithElRef } from './useSize'\nimport { WindowViewportInfo } from '../interfaces'\n\nexport default function useWindowViewportRectRef(callback: (info: WindowViewportInfo) => void, customScrollParent?: HTMLElement) {\n  const viewportInfo = useRef<WindowViewportInfo | null>(null)\n\n  const calculateInfo = useCallback(\n    (element: HTMLElement | null) => {\n      if (element === null || !element.offsetParent) {\n        return\n      }\n      const rect = element.getBoundingClientRect()\n      const visibleWidth = rect.width\n      let visibleHeight: number, offsetTop: number\n\n      if (customScrollParent) {\n        const customScrollParentRect = customScrollParent.getBoundingClientRect()\n        const deltaTop = rect.top - customScrollParentRect.top\n\n        visibleHeight = customScrollParentRect.height - Math.max(0, deltaTop)\n        offsetTop = deltaTop + customScrollParent.scrollTop\n      } else {\n        visibleHeight = window.innerHeight - Math.max(0, rect.top)\n        offsetTop = rect.top + window.pageYOffset\n      }\n\n      viewportInfo.current = {\n        offsetTop,\n        visibleHeight,\n        visibleWidth,\n      }\n\n      callback(viewportInfo.current)\n    },\n    [callback, customScrollParent]\n  )\n\n  const { callbackRef, ref } = useSizeWithElRef(calculateInfo)\n\n  const scrollAndResizeEventHandler = useCallback(() => {\n    calculateInfo(ref.current)\n  }, [calculateInfo, ref])\n\n  useEffect(() => {\n    if (customScrollParent) {\n      customScrollParent.addEventListener('scroll', scrollAndResizeEventHandler)\n      const observer = new ResizeObserver(scrollAndResizeEventHandler)\n      observer.observe(customScrollParent)\n      return () => {\n        customScrollParent.removeEventListener('scroll', scrollAndResizeEventHandler)\n        observer.unobserve(customScrollParent)\n      }\n    } else {\n      window.addEventListener('scroll', scrollAndResizeEventHandler)\n      window.addEventListener('resize', scrollAndResizeEventHandler)\n      return () => {\n        window.removeEventListener('scroll', scrollAndResizeEventHandler)\n        window.removeEventListener('resize', scrollAndResizeEventHandler)\n      }\n    }\n  }, [scrollAndResizeEventHandler, customScrollParent])\n\n  return callbackRef\n}\n","import { RefHandle, systemToComponent } from '@virtuoso.dev/react-urx'\nimport * as u from '@virtuoso.dev/urx'\nimport * as React from 'react'\nimport { ComponentType, createElement, CSSProperties, FC, PropsWithChildren } from 'react'\nimport useIsomorphicLayoutEffect from './hooks/useIsomorphicLayoutEffect'\nimport useChangedListContentsSizes from './hooks/useChangedChildSizes'\nimport useScrollTop from './hooks/useScrollTop'\nimport useSize from './hooks/useSize'\nimport { Components, ComputeItemKey, GroupContent, GroupItemContent, ItemContent, ListRootProps } from './interfaces'\nimport { listSystem } from './listSystem'\nimport { positionStickyCssValue } from './utils/positionStickyCssValue'\nimport useWindowViewportRectRef from './hooks/useWindowViewportRect'\nimport { correctItemSize } from './utils/correctItemSize'\nimport { ScrollerProps } from '.'\n\nexport function identity<T>(value: T) {\n  return value\n}\n\nconst listComponentPropsSystem = u.system(() => {\n  const itemContent = u.statefulStream<ItemContent<any, any> | GroupItemContent<any, any>>((index: number) => `Item ${index}`)\n  const context = u.statefulStream<unknown>(null)\n  const groupContent = u.statefulStream<GroupContent>((index: number) => `Group ${index}`)\n  const components = u.statefulStream<Components<any>>({})\n  const computeItemKey = u.statefulStream<ComputeItemKey<any, any>>(identity)\n  const headerFooterTag = u.statefulStream('div')\n  const scrollerRef = u.statefulStream<(ref: HTMLElement | Window | null) => void>(u.noop)\n\n  const distinctProp = <K extends keyof Components<any>>(propName: K, defaultValue: Components<any>[K] | null | 'div' = null) => {\n    return u.statefulStreamFromEmitter(\n      u.pipe(\n        components,\n        u.map((components) => components[propName]),\n        u.distinctUntilChanged()\n      ),\n      defaultValue\n    )\n  }\n\n  return {\n    context,\n    itemContent,\n    groupContent,\n    components,\n    computeItemKey,\n    headerFooterTag,\n    scrollerRef,\n    FooterComponent: distinctProp('Footer'),\n    HeaderComponent: distinctProp('Header'),\n    TopItemListComponent: distinctProp('TopItemList'),\n    ListComponent: distinctProp('List', 'div'),\n    ItemComponent: distinctProp('Item', 'div'),\n    GroupComponent: distinctProp('Group', 'div'),\n    ScrollerComponent: distinctProp('Scroller', 'div'),\n    EmptyPlaceholder: distinctProp('EmptyPlaceholder'),\n    ScrollSeekPlaceholder: distinctProp('ScrollSeekPlaceholder'),\n  }\n})\n\nexport function addDeprecatedAlias<T>(prop: u.Stream<T>, message: string) {\n  const alias = u.stream<T>()\n  u.subscribe(alias, () =>\n    console.warn(`react-virtuoso: You are using a deprecated property. ${message}`, 'color: red;', 'color: inherit;', 'color: blue;')\n  )\n  u.connect(alias, prop)\n  return alias\n}\n\nconst combinedSystem = u.system(([listSystem, propsSystem]) => {\n  const deprecatedProps = {\n    item: addDeprecatedAlias(propsSystem.itemContent, 'Rename the %citem%c prop to %citemContent.'),\n    group: addDeprecatedAlias(propsSystem.groupContent, 'Rename the %cgroup%c prop to %cgroupContent.'),\n    topItems: addDeprecatedAlias(listSystem.topItemCount, 'Rename the %ctopItems%c prop to %ctopItemCount.'),\n    itemHeight: addDeprecatedAlias(listSystem.fixedItemHeight, 'Rename the %citemHeight%c prop to %cfixedItemHeight.'),\n    scrollingStateChange: addDeprecatedAlias(listSystem.isScrolling, 'Rename the %cscrollingStateChange%c prop to %cisScrolling.'),\n    adjustForPrependedItems: u.stream<any>(),\n    maxHeightCacheSize: u.stream<any>(),\n    footer: u.stream<any>(),\n    header: u.stream<any>(),\n    HeaderContainer: u.stream<any>(),\n    FooterContainer: u.stream<any>(),\n    ItemContainer: u.stream<any>(),\n    ScrollContainer: u.stream<any>(),\n    GroupContainer: u.stream<any>(),\n    ListContainer: u.stream<any>(),\n    emptyComponent: u.stream<any>(),\n    scrollSeek: u.stream<any>(),\n  }\n\n  u.subscribe(deprecatedProps.adjustForPrependedItems, () => {\n    console.warn(\n      `react-virtuoso: adjustForPrependedItems is no longer supported. Use the firstItemIndex property instead - https://virtuoso.dev/prepend-items.`,\n      'color: red;',\n      'color: inherit;',\n      'color: blue;'\n    )\n  })\n\n  u.subscribe(deprecatedProps.maxHeightCacheSize, () => {\n    console.warn(`react-virtuoso: maxHeightCacheSize is no longer necessary. Setting it has no effect - remove it from your code.`)\n  })\n\n  u.subscribe(deprecatedProps.HeaderContainer, () => {\n    console.warn(\n      `react-virtuoso: HeaderContainer is deprecated. Use headerFooterTag if you want to change the wrapper of the header component and pass components.Header to change its contents.`\n    )\n  })\n\n  u.subscribe(deprecatedProps.FooterContainer, () => {\n    console.warn(\n      `react-virtuoso: FooterContainer is deprecated. Use headerFooterTag if you want to change the wrapper of the footer component and pass components.Footer to change its contents.`\n    )\n  })\n\n  function deprecateComponentProp(stream: u.Stream<any>, componentName: string, propName: string) {\n    u.connect(\n      u.pipe(\n        stream,\n        u.withLatestFrom(propsSystem.components),\n        u.map(([comp, components]) => {\n          console.warn(`react-virtuoso: ${propName} property is deprecated. Pass components.${componentName} instead.`)\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n          return { ...components, [componentName]: comp }\n        })\n      ),\n      propsSystem.components\n    )\n  }\n\n  u.subscribe(deprecatedProps.scrollSeek, ({ placeholder, ...config }) => {\n    console.warn(\n      `react-virtuoso: scrollSeek property is deprecated. Pass scrollSeekConfiguration and specify the placeholder in components.ScrollSeekPlaceholder instead.`\n    )\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n    u.publish(propsSystem.components, { ...u.getValue(propsSystem.components), ScrollSeekPlaceholder: placeholder })\n    u.publish(listSystem.scrollSeekConfiguration, config)\n  })\n\n  deprecateComponentProp(deprecatedProps.footer, 'Footer', 'footer')\n  deprecateComponentProp(deprecatedProps.header, 'Header', 'header')\n  deprecateComponentProp(deprecatedProps.ItemContainer, 'Item', 'ItemContainer')\n  deprecateComponentProp(deprecatedProps.ListContainer, 'List', 'ListContainer')\n  deprecateComponentProp(deprecatedProps.ScrollContainer, 'Scroller', 'ScrollContainer')\n  deprecateComponentProp(deprecatedProps.emptyComponent, 'EmptyPlaceholder', 'emptyComponent')\n  deprecateComponentProp(deprecatedProps.GroupContainer, 'Group', 'GroupContainer')\n\n  return { ...listSystem, ...propsSystem, ...deprecatedProps }\n}, u.tup(listSystem, listComponentPropsSystem))\n\nconst DefaultScrollSeekPlaceholder = ({ height }: { height: number }) => <div style={{ height }}></div>\n\nconst GROUP_STYLE = { position: positionStickyCssValue(), zIndex: 1, overflowAnchor: 'none' } as const\nconst ITEM_STYLE = { overflowAnchor: 'none' } as const\n\nexport const Items = React.memo(function VirtuosoItems({ showTopList = false }: { showTopList?: boolean }) {\n  const listState = useEmitterValue('listState')\n\n  const sizeRanges = usePublisher('sizeRanges')\n  const useWindowScroll = useEmitterValue('useWindowScroll')\n  const customScrollParent = useEmitterValue('customScrollParent')\n  const windowScrollContainerStateCallback = usePublisher('windowScrollContainerState')\n  const _scrollContainerStateCallback = usePublisher('scrollContainerState')\n  const scrollContainerStateCallback =\n    customScrollParent || useWindowScroll ? windowScrollContainerStateCallback : _scrollContainerStateCallback\n  const itemContent = useEmitterValue('itemContent')\n  const context = useEmitterValue('context')\n  const groupContent = useEmitterValue('groupContent')\n  const trackItemSizes = useEmitterValue('trackItemSizes')\n  const itemSize = useEmitterValue('itemSize')\n  const log = useEmitterValue('log')\n  const listGap = usePublisher('gap')\n\n  const { callbackRef } = useChangedListContentsSizes(\n    sizeRanges,\n    itemSize,\n    trackItemSizes,\n    showTopList ? u.noop : scrollContainerStateCallback,\n    log,\n    listGap,\n    customScrollParent\n  )\n\n  const [deviation, setDeviation] = React.useState(0)\n  useEmitter('deviation', (value) => {\n    if (deviation !== value) {\n      // ref.current!.style.marginTop = `${value}px`\n      setDeviation(value)\n    }\n  })\n\n  const EmptyPlaceholder = useEmitterValue('EmptyPlaceholder')\n  const ScrollSeekPlaceholder = useEmitterValue('ScrollSeekPlaceholder') || DefaultScrollSeekPlaceholder\n  const ListComponent = useEmitterValue('ListComponent')!\n  const ItemComponent = useEmitterValue('ItemComponent')!\n  const GroupComponent = useEmitterValue('GroupComponent')!\n  const computeItemKey = useEmitterValue('computeItemKey')\n  const isSeeking = useEmitterValue('isSeeking')\n  const hasGroups = useEmitterValue('groupIndices').length > 0\n  const paddingTopAddition = useEmitterValue('paddingTopAddition')\n\n  const containerStyle: CSSProperties = showTopList\n    ? {}\n    : {\n        boxSizing: 'border-box',\n        paddingTop: listState.offsetTop + paddingTopAddition,\n        paddingBottom: listState.offsetBottom,\n        marginTop: deviation,\n      }\n\n  if (!showTopList && listState.totalCount === 0 && EmptyPlaceholder) {\n    return createElement(EmptyPlaceholder, contextPropIfNotDomElement(EmptyPlaceholder, context))\n  }\n\n  return createElement(\n    ListComponent,\n    {\n      ...contextPropIfNotDomElement(ListComponent, context),\n      ref: callbackRef,\n      style: containerStyle,\n      'data-test-id': showTopList ? 'virtuoso-top-item-list' : 'virtuoso-item-list',\n    },\n    (showTopList ? listState.topItems : listState.items).map((item) => {\n      const index = item.originalIndex!\n      const key = computeItemKey(index + listState.firstItemIndex, item.data, context)\n\n      if (isSeeking) {\n        return createElement(ScrollSeekPlaceholder, {\n          ...contextPropIfNotDomElement(ScrollSeekPlaceholder, context),\n          key,\n          index: item.index,\n          height: item.size,\n          type: item.type || 'item',\n          ...(item.type === 'group' ? {} : { groupIndex: item.groupIndex }),\n        })\n      }\n\n      if (item.type === 'group') {\n        return createElement(\n          GroupComponent,\n          {\n            ...contextPropIfNotDomElement(GroupComponent, context),\n            key,\n            'data-index': index,\n            'data-known-size': item.size,\n            'data-item-index': item.index,\n            style: GROUP_STYLE,\n          },\n          groupContent(item.index)\n        )\n      } else {\n        return createElement(\n          ItemComponent,\n          {\n            ...contextPropIfNotDomElement(ItemComponent, context),\n            key,\n            'data-index': index,\n            'data-known-size': item.size,\n            'data-item-index': item.index,\n            'data-item-group-index': item.groupIndex,\n            style: ITEM_STYLE,\n          },\n          hasGroups\n            ? (itemContent as GroupItemContent<any, any>)(item.index, item.groupIndex!, item.data, context)\n            : (itemContent as ItemContent<any, any>)(item.index, item.data, context)\n        )\n      }\n    })\n  )\n})\n\nexport const scrollerStyle: CSSProperties = {\n  height: '100%',\n  outline: 'none',\n  overflowY: 'auto',\n  position: 'relative',\n  WebkitOverflowScrolling: 'touch',\n}\n\nexport const viewportStyle: CSSProperties = {\n  width: '100%',\n  height: '100%',\n  position: 'absolute',\n  top: 0,\n}\n\nconst topItemListStyle: CSSProperties = {\n  width: '100%',\n  position: positionStickyCssValue(),\n  top: 0,\n}\n\nexport function contextPropIfNotDomElement(element: unknown, context: unknown) {\n  if (typeof element === 'string') {\n    return undefined\n  }\n  return { context }\n}\n\nconst Header: FC = React.memo(function VirtuosoHeader() {\n  const Header = useEmitterValue('HeaderComponent')\n  const headerHeight = usePublisher('headerHeight')\n  const headerFooterTag = useEmitterValue('headerFooterTag')\n  const ref = useSize((el) => headerHeight(correctItemSize(el, 'height')))\n  const context = useEmitterValue('context')\n  return Header ? createElement(headerFooterTag, { ref }, createElement(Header, contextPropIfNotDomElement(Header, context))) : null\n})\n\nconst Footer: FC = React.memo(function VirtuosoFooter() {\n  const Footer = useEmitterValue('FooterComponent')\n  const footerHeight = usePublisher('footerHeight')\n  const headerFooterTag = useEmitterValue('headerFooterTag')\n  const ref = useSize((el) => footerHeight(correctItemSize(el, 'height')))\n  const context = useEmitterValue('context')\n  return Footer ? createElement(headerFooterTag, { ref }, createElement(Footer, contextPropIfNotDomElement(Footer, context))) : null\n})\n\nexport interface Hooks {\n  usePublisher: typeof usePublisher\n  useEmitterValue: typeof useEmitterValue\n  useEmitter: typeof useEmitter\n}\n\nexport function buildScroller({ usePublisher, useEmitter, useEmitterValue }: Hooks) {\n  const Scroller: ComponentType<ScrollerProps> = React.memo(function VirtuosoScroller({ style, children, ...props }) {\n    const scrollContainerStateCallback = usePublisher('scrollContainerState')\n    const ScrollerComponent = useEmitterValue('ScrollerComponent')!\n    const smoothScrollTargetReached = usePublisher('smoothScrollTargetReached')\n    const scrollerRefCallback = useEmitterValue('scrollerRef')\n    const context = useEmitterValue('context')\n\n    const { scrollerRef, scrollByCallback, scrollToCallback } = useScrollTop(\n      scrollContainerStateCallback,\n      smoothScrollTargetReached,\n      ScrollerComponent,\n      scrollerRefCallback\n    )\n\n    useEmitter('scrollTo', scrollToCallback)\n    useEmitter('scrollBy', scrollByCallback)\n    return createElement(\n      ScrollerComponent,\n      {\n        ref: scrollerRef as React.MutableRefObject<HTMLDivElement | null>,\n        style: { ...scrollerStyle, ...style },\n        'data-test-id': 'virtuoso-scroller',\n        'data-virtuoso-scroller': true,\n        tabIndex: 0,\n        ...props,\n        ...contextPropIfNotDomElement(ScrollerComponent, context),\n      },\n      children\n    )\n  })\n  return Scroller\n}\n\nexport function buildWindowScroller({ usePublisher, useEmitter, useEmitterValue }: Hooks) {\n  const Scroller: Components['Scroller'] = React.memo(function VirtuosoWindowScroller({ style, children, ...props }) {\n    const scrollContainerStateCallback = usePublisher('windowScrollContainerState')\n    const ScrollerComponent = useEmitterValue('ScrollerComponent')!\n    const smoothScrollTargetReached = usePublisher('smoothScrollTargetReached')\n    const totalListHeight = useEmitterValue('totalListHeight')\n    const deviation = useEmitterValue('deviation')\n    const customScrollParent = useEmitterValue('customScrollParent')\n    const context = useEmitterValue('context')\n    const { scrollerRef, scrollByCallback, scrollToCallback } = useScrollTop(\n      scrollContainerStateCallback,\n      smoothScrollTargetReached,\n      ScrollerComponent,\n      u.noop,\n      customScrollParent\n    )\n\n    useIsomorphicLayoutEffect(() => {\n      scrollerRef.current = customScrollParent ? customScrollParent : window\n      return () => {\n        scrollerRef.current = null\n      }\n    }, [scrollerRef, customScrollParent])\n\n    useEmitter('windowScrollTo', scrollToCallback)\n    useEmitter('scrollBy', scrollByCallback)\n    return createElement(\n      ScrollerComponent,\n      {\n        style: { position: 'relative', ...style, ...(totalListHeight !== 0 ? { height: totalListHeight + deviation } : {}) },\n        'data-virtuoso-scroller': true,\n        ...props,\n        ...contextPropIfNotDomElement(ScrollerComponent, context),\n      },\n      children\n    )\n  })\n  return Scroller\n}\n\nconst Viewport: FC<PropsWithChildren<unknown>> = ({ children }) => {\n  const viewportHeight = usePublisher('viewportHeight')\n  const viewportRef = useSize(u.compose(viewportHeight, (el) => correctItemSize(el, 'height')))\n\n  return (\n    <div style={viewportStyle} ref={viewportRef} data-viewport-type=\"element\">\n      {children}\n    </div>\n  )\n}\n\nconst WindowViewport: FC<PropsWithChildren<unknown>> = ({ children }) => {\n  const windowViewportRect = usePublisher('windowViewportRect')\n  const customScrollParent = useEmitterValue('customScrollParent')\n  const viewportRef = useWindowViewportRectRef(windowViewportRect, customScrollParent)\n\n  return (\n    <div ref={viewportRef} style={viewportStyle} data-viewport-type=\"window\">\n      {children}\n    </div>\n  )\n}\n\nconst TopItemListContainer: FC<PropsWithChildren<unknown>> = ({ children }) => {\n  const TopItemList = useEmitterValue('TopItemListComponent')\n  const headerHeight = useEmitterValue('headerHeight')\n  const style = { ...topItemListStyle, marginTop: `${headerHeight}px` }\n  const context = useEmitterValue('context')\n  return createElement(TopItemList || 'div', { style, context }, children)\n}\n\nconst ListRoot: FC<ListRootProps> = React.memo(function VirtuosoRoot(props) {\n  const useWindowScroll = useEmitterValue('useWindowScroll')\n  const showTopList = useEmitterValue('topItemsIndexes').length > 0\n  const customScrollParent = useEmitterValue('customScrollParent')\n  const TheScroller = customScrollParent || useWindowScroll ? WindowScroller : Scroller\n  const TheViewport = customScrollParent || useWindowScroll ? WindowViewport : Viewport\n  return (\n    <TheScroller {...props}>\n      <TheViewport>\n        <Header />\n        <Items />\n        <Footer />\n      </TheViewport>\n      {showTopList && (\n        <TopItemListContainer>\n          <Items showTopList={true} />\n        </TopItemListContainer>\n      )}\n    </TheScroller>\n  )\n})\n\nexport type ListHandle = RefHandle<typeof List>\n\nexport const {\n  Component: List,\n  usePublisher,\n  useEmitterValue,\n  useEmitter,\n} = systemToComponent(\n  combinedSystem,\n  {\n    required: {},\n    optional: {\n      context: 'context',\n      followOutput: 'followOutput',\n      firstItemIndex: 'firstItemIndex',\n      itemContent: 'itemContent',\n      groupContent: 'groupContent',\n      overscan: 'overscan',\n      increaseViewportBy: 'increaseViewportBy',\n      totalCount: 'totalCount',\n      topItemCount: 'topItemCount',\n      initialTopMostItemIndex: 'initialTopMostItemIndex',\n      components: 'components',\n      groupCounts: 'groupCounts',\n      atBottomThreshold: 'atBottomThreshold',\n      atTopThreshold: 'atTopThreshold',\n      computeItemKey: 'computeItemKey',\n      defaultItemHeight: 'defaultItemHeight',\n      fixedItemHeight: 'fixedItemHeight',\n      itemSize: 'itemSize',\n      scrollSeekConfiguration: 'scrollSeekConfiguration',\n      headerFooterTag: 'headerFooterTag',\n      data: 'data',\n      initialItemCount: 'initialItemCount',\n      initialScrollTop: 'initialScrollTop',\n      alignToBottom: 'alignToBottom',\n      useWindowScroll: 'useWindowScroll',\n      customScrollParent: 'customScrollParent',\n      scrollerRef: 'scrollerRef',\n      logLevel: 'logLevel',\n      react18ConcurrentRendering: 'react18ConcurrentRendering',\n\n      // deprecated\n      item: 'item',\n      group: 'group',\n      topItems: 'topItems',\n      itemHeight: 'itemHeight',\n      scrollingStateChange: 'scrollingStateChange',\n      maxHeightCacheSize: 'maxHeightCacheSize',\n      footer: 'footer',\n      header: 'header',\n      ItemContainer: 'ItemContainer',\n      ScrollContainer: 'ScrollContainer',\n      ListContainer: 'ListContainer',\n      GroupContainer: 'GroupContainer',\n      emptyComponent: 'emptyComponent',\n      HeaderContainer: 'HeaderContainer',\n      FooterContainer: 'FooterContainer',\n      scrollSeek: 'scrollSeek',\n    },\n    methods: {\n      scrollToIndex: 'scrollToIndex',\n      scrollIntoView: 'scrollIntoView',\n      scrollTo: 'scrollTo',\n      scrollBy: 'scrollBy',\n      adjustForPrependedItems: 'adjustForPrependedItems',\n      autoscrollToBottom: 'autoscrollToBottom',\n    },\n    events: {\n      isScrolling: 'isScrolling',\n      endReached: 'endReached',\n      startReached: 'startReached',\n      rangeChanged: 'rangeChanged',\n      atBottomStateChange: 'atBottomStateChange',\n      atTopStateChange: 'atTopStateChange',\n      totalListHeightChanged: 'totalListHeightChanged',\n      itemsRendered: 'itemsRendered',\n      groupIndices: 'groupIndices',\n    },\n  },\n  ListRoot\n)\n\nconst Scroller = buildScroller({ usePublisher, useEmitterValue, useEmitter })\nconst WindowScroller = buildWindowScroller({ usePublisher, useEmitterValue, useEmitter })\n","import * as u from '@virtuoso.dev/urx'\nimport { rangeComparator, tupleComparator } from './comparators'\nimport { domIOSystem } from './domIOSystem'\nimport { FlatIndexLocationWithAlign } from './interfaces'\nimport { propsReadySystem } from './propsReadySystem'\nimport { scrollSeekSystem } from './scrollSeekSystem'\nimport { IndexLocation, normalizeIndexLocation } from './scrollToIndexSystem'\nimport { sizeRangeSystem } from './sizeRangeSystem'\nimport { stateFlagsSystem } from './stateFlagsSystem'\nimport { loggerSystem } from './loggerSystem'\nimport { windowScrollerSystem } from './windowScrollerSystem'\n\nexport interface Gap {\n  row: number\n  column: number\n}\n\nexport interface ElementDimensions {\n  width: number\n  height: number\n}\n\nexport interface GridItem {\n  index: number\n}\n\nexport interface GridLayout {\n  top: number\n  bottom: number\n}\n\nexport interface GridState extends GridLayout {\n  items: GridItem[]\n  offsetTop: number\n  offsetBottom: number\n  itemHeight: number\n  itemWidth: number\n}\n\nconst INITIAL_GRID_STATE: GridState = {\n  items: [],\n  offsetBottom: 0,\n  offsetTop: 0,\n  top: 0,\n  bottom: 0,\n  itemHeight: 0,\n  itemWidth: 0,\n}\n\nconst PROBE_GRID_STATE: GridState = {\n  items: [{ index: 0 }],\n  offsetBottom: 0,\n  offsetTop: 0,\n  top: 0,\n  bottom: 0,\n  itemHeight: 0,\n  itemWidth: 0,\n}\n\nconst { round, ceil, floor, min, max } = Math\n\nfunction buildItems(startIndex: number, endIndex: number) {\n  return Array.from({ length: endIndex - startIndex + 1 }).map((_, i) => ({ index: i + startIndex } as GridItem))\n}\n\nfunction gapComparator(prev: Gap, next: Gap) {\n  return prev && prev.column === next.column && prev.row === next.row\n}\nexport const gridSystem = u.system(\n  ([\n    { overscan, visibleRange, listBoundary },\n    { scrollTop, viewportHeight, scrollBy, scrollTo, smoothScrollTargetReached, scrollContainerState },\n    stateFlags,\n    scrollSeek,\n    { propsReady, didMount },\n    { windowViewportRect, windowScrollTo, useWindowScroll, customScrollParent, windowScrollContainerState },\n    log,\n  ]) => {\n    const totalCount = u.statefulStream(0)\n    const initialItemCount = u.statefulStream(0)\n    const gridState = u.statefulStream(INITIAL_GRID_STATE)\n    const viewportDimensions = u.statefulStream<ElementDimensions>({ height: 0, width: 0 })\n    const itemDimensions = u.statefulStream<ElementDimensions>({ height: 0, width: 0 })\n    const scrollToIndex = u.stream<IndexLocation>()\n    const scrollHeight = u.stream<number>()\n    const deviation = u.statefulStream(0)\n    const gap = u.statefulStream<Gap>({ row: 0, column: 0 })\n\n    u.connect(\n      u.pipe(\n        didMount,\n        u.withLatestFrom(initialItemCount),\n        u.filter(([, count]) => count !== 0),\n        u.map(([, count]) => {\n          return {\n            items: buildItems(0, count - 1),\n            top: 0,\n            bottom: 0,\n            offsetBottom: 0,\n            offsetTop: 0,\n            itemHeight: 0,\n            itemWidth: 0,\n          }\n        })\n      ),\n      gridState\n    )\n\n    u.connect(\n      u.pipe(\n        u.combineLatest(\n          u.duc(totalCount),\n          visibleRange,\n          u.duc(gap, gapComparator),\n          u.duc(itemDimensions, (prev, next) => prev && prev.width === next.width && prev.height === next.height)\n        ),\n        u.withLatestFrom(viewportDimensions),\n        u.map(([[totalCount, [startOffset, endOffset], gap, item], viewport]) => {\n          const { row: rowGap, column: columnGap } = gap\n          const { height: itemHeight, width: itemWidth } = item\n          const { width: viewportWidth } = viewport\n\n          if (totalCount === 0 || viewportWidth === 0) {\n            return INITIAL_GRID_STATE\n          }\n\n          if (itemWidth === 0) {\n            return PROBE_GRID_STATE\n          }\n\n          const perRow = itemsPerRow(viewportWidth, itemWidth, columnGap)\n\n          let startIndex = perRow * floor((startOffset + rowGap) / (itemHeight + rowGap))\n          let endIndex = perRow * ceil((endOffset + rowGap) / (itemHeight + rowGap)) - 1\n          endIndex = max(0, min(totalCount - 1, endIndex))\n          startIndex = min(endIndex, max(0, startIndex))\n\n          const items = buildItems(startIndex, endIndex)\n          const { top, bottom } = gridLayout(viewport, gap, item, items)\n          const rowCount = ceil(totalCount / perRow)\n          const totalHeight = rowCount * itemHeight + (rowCount - 1) * rowGap\n          const offsetBottom = totalHeight - bottom\n\n          return { items, offsetTop: top, offsetBottom, top, bottom, itemHeight, itemWidth } as GridState\n        })\n      ),\n      gridState\n    )\n\n    u.connect(\n      u.pipe(\n        viewportDimensions,\n        u.map(({ height }) => height)\n      ),\n      viewportHeight\n    )\n\n    u.connect(\n      u.pipe(\n        u.combineLatest(viewportDimensions, itemDimensions, gridState, gap),\n        u.map(([viewportDimensions, item, { items }, gap]) => {\n          const { top, bottom } = gridLayout(viewportDimensions, gap, item, items)\n\n          return [top, bottom] as [number, number]\n        }),\n        u.distinctUntilChanged(tupleComparator)\n      ),\n      listBoundary\n    )\n\n    const endReached = u.streamFromEmitter(\n      u.pipe(\n        u.duc(gridState),\n        u.filter(({ items }) => items.length > 0),\n        u.withLatestFrom(totalCount),\n        u.filter(([{ items }, totalCount]) => items[items.length - 1].index === totalCount - 1),\n        u.map(([, totalCount]) => totalCount - 1),\n        u.distinctUntilChanged()\n      )\n    )\n\n    const startReached = u.streamFromEmitter(\n      u.pipe(\n        u.duc(gridState),\n        u.filter(({ items }) => {\n          return items.length > 0 && items[0].index === 0\n        }),\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n        u.mapTo(0),\n        u.distinctUntilChanged()\n      )\n    )\n\n    const rangeChanged = u.streamFromEmitter(\n      u.pipe(\n        u.duc(gridState),\n        u.filter(({ items }) => items.length > 0),\n        u.map(({ items }) => {\n          return {\n            startIndex: items[0].index,\n            endIndex: items[items.length - 1].index,\n          }\n        }),\n        u.distinctUntilChanged(rangeComparator)\n      )\n    )\n\n    u.connect(rangeChanged, scrollSeek.scrollSeekRangeChanged)\n\n    u.connect(\n      u.pipe(\n        scrollToIndex,\n        u.withLatestFrom(viewportDimensions, itemDimensions, totalCount, gap),\n        u.map(([location, viewport, item, totalCount, gap]) => {\n          const normalLocation = normalizeIndexLocation(location) as FlatIndexLocationWithAlign\n          const { align, behavior, offset } = normalLocation\n          let index = normalLocation.index\n          if (index === 'LAST') {\n            index = totalCount - 1\n          }\n\n          index = max(0, index, min(totalCount - 1, index))\n\n          let top = itemTop(viewport, gap, item, index)\n\n          if (align === 'end') {\n            top = round(top - viewport.height + item.height)\n          } else if (align === 'center') {\n            top = round(top - viewport.height / 2 + item.height / 2)\n          }\n\n          if (offset) {\n            top += offset\n          }\n\n          return { top, behavior }\n        })\n      ),\n      scrollTo\n    )\n\n    const totalListHeight = u.statefulStreamFromEmitter(\n      u.pipe(\n        gridState,\n        u.map((gridState) => {\n          return gridState.offsetBottom + gridState.bottom\n        })\n      ),\n      0\n    )\n\n    u.connect(\n      u.pipe(\n        windowViewportRect,\n        u.map((viewportInfo) => ({ width: viewportInfo.visibleWidth, height: viewportInfo.visibleHeight }))\n      ),\n      viewportDimensions\n    )\n\n    return {\n      // input\n      totalCount,\n      viewportDimensions,\n      itemDimensions,\n      scrollTop,\n      scrollHeight,\n      overscan,\n      scrollBy,\n      scrollTo,\n      scrollToIndex,\n      smoothScrollTargetReached,\n      windowViewportRect,\n      windowScrollTo,\n      useWindowScroll,\n      customScrollParent,\n      windowScrollContainerState,\n      deviation,\n      scrollContainerState,\n      initialItemCount,\n      gap,\n      ...scrollSeek,\n\n      // output\n      gridState,\n      totalListHeight,\n      ...stateFlags,\n      startReached,\n      endReached,\n      rangeChanged,\n      propsReady,\n      ...log,\n    }\n  },\n  u.tup(sizeRangeSystem, domIOSystem, stateFlagsSystem, scrollSeekSystem, propsReadySystem, windowScrollerSystem, loggerSystem)\n)\n\nfunction gridLayout(viewport: ElementDimensions, gap: Gap, item: ElementDimensions, items: GridItem[]): GridLayout {\n  const { height: itemHeight } = item\n  if (itemHeight === undefined || items.length === 0) {\n    return { top: 0, bottom: 0 }\n  }\n\n  const top = itemTop(viewport, gap, item, items[0].index)\n  const bottom = itemTop(viewport, gap, item, items[items.length - 1].index) + itemHeight\n  return { top, bottom }\n}\n\nfunction itemTop(viewport: ElementDimensions, gap: Gap, item: ElementDimensions, index: number) {\n  const perRow = itemsPerRow(viewport.width, item.width, gap.column)\n  const rowCount = floor(index / perRow)\n  const top = rowCount * item.height + max(0, rowCount - 1) * gap.row\n  return top > 0 ? top + gap.row : top\n}\n\nfunction itemsPerRow(viewportWidth: number, itemWidth: number, gap: number) {\n  return max(1, floor((viewportWidth + gap) / (itemWidth + gap)))\n}\n","import { RefHandle, systemToComponent } from '@virtuoso.dev/react-urx'\n\nimport * as u from '@virtuoso.dev/urx'\nimport * as React from 'react'\nimport { createElement, FC, PropsWithChildren } from 'react'\nimport { gridSystem } from './gridSystem'\nimport useSize from './hooks/useSize'\nimport useWindowViewportRectRef from './hooks/useWindowViewportRect'\nimport { GridComponents, GridComputeItemKey, GridItemContent, GridRootProps } from './interfaces'\nimport { addDeprecatedAlias, buildScroller, buildWindowScroller, contextPropIfNotDomElement, identity, viewportStyle } from './List'\nimport { Log, LogLevel } from './loggerSystem'\n\nconst gridComponentPropsSystem = u.system(() => {\n  const itemContent = u.statefulStream<GridItemContent<any>>((index) => `Item ${index}`)\n  const components = u.statefulStream<GridComponents>({})\n  const context = u.statefulStream<unknown>(null)\n  const itemClassName = u.statefulStream('virtuoso-grid-item')\n  const listClassName = u.statefulStream('virtuoso-grid-list')\n  const computeItemKey = u.statefulStream<GridComputeItemKey>(identity)\n  const scrollerRef = u.statefulStream<(ref: HTMLElement | null) => void>(u.noop)\n\n  const distinctProp = <K extends keyof GridComponents>(propName: K, defaultValue: GridComponents[K] | null | 'div' = null) => {\n    return u.statefulStreamFromEmitter(\n      u.pipe(\n        components,\n        u.map((components) => components[propName]),\n        u.distinctUntilChanged()\n      ),\n      defaultValue\n    )\n  }\n\n  return {\n    context,\n    itemContent,\n    components,\n    computeItemKey,\n    itemClassName,\n    listClassName,\n    scrollerRef,\n    ListComponent: distinctProp('List', 'div'),\n    ItemComponent: distinctProp('Item', 'div'),\n    ScrollerComponent: distinctProp('Scroller', 'div'),\n    ScrollSeekPlaceholder: distinctProp('ScrollSeekPlaceholder', 'div'),\n  }\n})\n\nconst combinedSystem = u.system(([gridSystem, gridComponentPropsSystem]) => {\n  const deprecatedProps = {\n    item: addDeprecatedAlias(gridComponentPropsSystem.itemContent, 'Rename the %citem%c prop to %citemContent.'),\n    ItemContainer: u.stream<any>(),\n    ScrollContainer: u.stream<any>(),\n    ListContainer: u.stream<any>(),\n    emptyComponent: u.stream<any>(),\n    scrollSeek: u.stream<any>(),\n  }\n\n  function deprecateComponentProp(stream: u.Stream<any>, componentName: string, propName: string) {\n    u.connect(\n      u.pipe(\n        stream,\n        u.withLatestFrom(gridComponentPropsSystem.components),\n        u.map(([comp, components]) => {\n          console.warn(`react-virtuoso: ${propName} property is deprecated. Pass components.${componentName} instead.`)\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n          return { ...components, [componentName]: comp }\n        })\n      ),\n      gridComponentPropsSystem.components\n    )\n  }\n\n  u.subscribe(deprecatedProps.scrollSeek, ({ placeholder, ...config }) => {\n    console.warn(\n      `react-virtuoso: scrollSeek property is deprecated. Pass scrollSeekConfiguration and specify the placeholder in components.ScrollSeekPlaceholder instead.`\n    )\n    u.publish(gridComponentPropsSystem.components, {\n      ...u.getValue(gridComponentPropsSystem.components),\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n      ScrollSeekPlaceholder: placeholder,\n    })\n    u.publish(gridSystem.scrollSeekConfiguration, config)\n  })\n\n  deprecateComponentProp(deprecatedProps.ItemContainer, 'Item', 'ItemContainer')\n  deprecateComponentProp(deprecatedProps.ListContainer, 'List', 'ListContainer')\n  deprecateComponentProp(deprecatedProps.ScrollContainer, 'Scroller', 'ScrollContainer')\n\n  return { ...gridSystem, ...gridComponentPropsSystem, ...deprecatedProps }\n}, u.tup(gridSystem, gridComponentPropsSystem))\n\nconst GridItems: FC = React.memo(function GridItems() {\n  const gridState = useEmitterValue('gridState')\n  const listClassName = useEmitterValue('listClassName')\n  const itemClassName = useEmitterValue('itemClassName')\n  const itemContent = useEmitterValue('itemContent')\n  const computeItemKey = useEmitterValue('computeItemKey')\n  const isSeeking = useEmitterValue('isSeeking')\n  const scrollHeightCallback = usePublisher('scrollHeight')\n  const ItemComponent = useEmitterValue('ItemComponent')!\n  const ListComponent = useEmitterValue('ListComponent')!\n  const ScrollSeekPlaceholder = useEmitterValue('ScrollSeekPlaceholder')!\n  const context = useEmitterValue('context')\n  const itemDimensions = usePublisher('itemDimensions')\n  const gridGap = usePublisher('gap')\n  const log = useEmitterValue('log')\n\n  const listRef = useSize((el) => {\n    const scrollHeight = el.parentElement!.parentElement!.scrollHeight\n    scrollHeightCallback(scrollHeight)\n    const firstItem = el.firstChild as HTMLElement\n    if (firstItem) {\n      itemDimensions(firstItem.getBoundingClientRect())\n    }\n    gridGap({\n      row: resolveGapValue('row-gap', getComputedStyle(el).rowGap, log),\n      column: resolveGapValue('column-gap', getComputedStyle(el).columnGap, log),\n    })\n  })\n\n  return createElement(\n    ListComponent,\n    {\n      ref: listRef,\n      className: listClassName,\n      ...contextPropIfNotDomElement(ListComponent, context),\n      style: { paddingTop: gridState.offsetTop, paddingBottom: gridState.offsetBottom },\n    },\n    gridState.items.map((item) => {\n      const key = computeItemKey(item.index)\n      return isSeeking\n        ? createElement(ScrollSeekPlaceholder, {\n            key,\n            ...contextPropIfNotDomElement(ScrollSeekPlaceholder, context),\n            index: item.index,\n            height: gridState.itemHeight,\n            width: gridState.itemWidth,\n          })\n        : createElement(\n            ItemComponent,\n            { ...contextPropIfNotDomElement(ItemComponent, context), className: itemClassName, 'data-index': item.index, key },\n            itemContent(item.index, context)\n          )\n    })\n  )\n})\n\nconst Viewport: FC<PropsWithChildren<unknown>> = ({ children }) => {\n  const viewportDimensions = usePublisher('viewportDimensions')\n\n  const viewportRef = useSize((el) => {\n    viewportDimensions(el.getBoundingClientRect())\n  })\n\n  return (\n    <div style={viewportStyle} ref={viewportRef}>\n      {children}\n    </div>\n  )\n}\n\nconst WindowViewport: FC<PropsWithChildren<unknown>> = ({ children }) => {\n  const windowViewportRect = usePublisher('windowViewportRect')\n  const customScrollParent = useEmitterValue('customScrollParent')\n  const viewportRef = useWindowViewportRectRef(windowViewportRect, customScrollParent)\n\n  return (\n    <div ref={viewportRef} style={viewportStyle}>\n      {children}\n    </div>\n  )\n}\n\nconst GridRoot: FC<GridRootProps> = React.memo(function GridRoot({ ...props }) {\n  const useWindowScroll = useEmitterValue('useWindowScroll')\n  const customScrollParent = useEmitterValue('customScrollParent')\n  const TheScroller = customScrollParent || useWindowScroll ? WindowScroller : Scroller\n  const TheViewport = customScrollParent || useWindowScroll ? WindowViewport : Viewport\n\n  return (\n    <TheScroller {...props}>\n      <TheViewport>\n        <GridItems />\n      </TheViewport>\n    </TheScroller>\n  )\n})\n\nconst {\n  Component: Grid,\n  usePublisher,\n  useEmitterValue,\n  useEmitter,\n} = systemToComponent(\n  combinedSystem,\n  {\n    optional: {\n      totalCount: 'totalCount',\n      overscan: 'overscan',\n      itemContent: 'itemContent',\n      components: 'components',\n      computeItemKey: 'computeItemKey',\n      initialItemCount: 'initialItemCount',\n      scrollSeekConfiguration: 'scrollSeekConfiguration',\n      listClassName: 'listClassName',\n      itemClassName: 'itemClassName',\n      useWindowScroll: 'useWindowScroll',\n      customScrollParent: 'customScrollParent',\n      scrollerRef: 'scrollerRef',\n\n      // deprecated\n      item: 'item',\n      ItemContainer: 'ItemContainer',\n      ScrollContainer: 'ScrollContainer',\n      ListContainer: 'ListContainer',\n      scrollSeek: 'scrollSeek',\n    },\n    methods: {\n      scrollTo: 'scrollTo',\n      scrollBy: 'scrollBy',\n      scrollToIndex: 'scrollToIndex',\n    },\n    events: {\n      isScrolling: 'isScrolling',\n      endReached: 'endReached',\n      startReached: 'startReached',\n      rangeChanged: 'rangeChanged',\n      atBottomStateChange: 'atBottomStateChange',\n      atTopStateChange: 'atTopStateChange',\n    },\n  },\n  GridRoot\n)\n\nexport type foo<T> = T extends React.ForwardRefExoticComponent<React.RefAttributes<infer Handle>> ? Handle : never\n\nexport type GridHandle = RefHandle<typeof Grid>\nexport { Grid }\n\nconst Scroller = buildScroller({ usePublisher, useEmitterValue, useEmitter })\nconst WindowScroller = buildWindowScroller({ usePublisher, useEmitterValue, useEmitter })\n\nfunction resolveGapValue(property: string, value: string | undefined, log: Log) {\n  if (value !== 'normal' && !value?.endsWith('px')) {\n    log(`${property} was not resolved to pixel value correctly`, value, LogLevel.WARN)\n  }\n  if (value === 'normal') {\n    return 0\n  }\n  return parseInt(value ?? '0', 10)\n}\n","import { systemToComponent } from '@virtuoso.dev/react-urx'\nimport * as u from '@virtuoso.dev/urx'\nimport * as React from 'react'\nimport { createElement, FC, PropsWithChildren } from 'react'\nimport useChangedListContentsSizes from './hooks/useChangedChildSizes'\nimport { ComputeItemKey, ItemContent, FixedHeaderContent, TableComponents, TableRootProps } from './interfaces'\nimport { listSystem } from './listSystem'\nimport { identity, buildScroller, buildWindowScroller, viewportStyle, contextPropIfNotDomElement } from './List'\nimport useSize from './hooks/useSize'\nimport { correctItemSize } from './utils/correctItemSize'\nimport useWindowViewportRectRef from './hooks/useWindowViewportRect'\n\nconst tableComponentPropsSystem = u.system(() => {\n  const itemContent = u.statefulStream<ItemContent<any, unknown>>((index: number) => <td>Item ${index}</td>)\n  const context = u.statefulStream<unknown>(null)\n  const fixedHeaderContent = u.statefulStream<FixedHeaderContent>(null)\n  const components = u.statefulStream<TableComponents>({})\n  const computeItemKey = u.statefulStream<ComputeItemKey<any, unknown>>(identity)\n  const scrollerRef = u.statefulStream<(ref: HTMLElement | Window | null) => void>(u.noop)\n\n  const distinctProp = <K extends keyof TableComponents>(\n    propName: K,\n    defaultValue: TableComponents[K] | null | 'thead' | 'table' | 'tbody' | 'tr' | 'div' = null\n  ) => {\n    return u.statefulStreamFromEmitter(\n      u.pipe(\n        components,\n        u.map((components) => components[propName]),\n        u.distinctUntilChanged()\n      ),\n      defaultValue\n    )\n  }\n\n  return {\n    context,\n    itemContent,\n    fixedHeaderContent,\n    components,\n    computeItemKey,\n    scrollerRef,\n    TableComponent: distinctProp('Table', 'table'),\n    TableHeadComponent: distinctProp('TableHead', 'thead'),\n    TableBodyComponent: distinctProp('TableBody', 'tbody'),\n    TableRowComponent: distinctProp('TableRow', 'tr'),\n    ScrollerComponent: distinctProp('Scroller', 'div'),\n    EmptyPlaceholder: distinctProp('EmptyPlaceholder'),\n    ScrollSeekPlaceholder: distinctProp('ScrollSeekPlaceholder'),\n    FillerRow: distinctProp('FillerRow'),\n  }\n})\n\nconst combinedSystem = u.system(([listSystem, propsSystem]) => {\n  return { ...listSystem, ...propsSystem }\n}, u.tup(listSystem, tableComponentPropsSystem))\n\nconst DefaultScrollSeekPlaceholder = ({ height }: { height: number }) => (\n  <tr>\n    <td style={{ height }}></td>\n  </tr>\n)\n\nconst DefaultFillerRow = ({ height }: { height: number }) => (\n  <tr>\n    <td style={{ height: height, padding: 0, border: 0 }}></td>\n  </tr>\n)\n\nexport const Items = React.memo(function VirtuosoItems() {\n  const listState = useEmitterValue('listState')\n  const sizeRanges = usePublisher('sizeRanges')\n  const useWindowScroll = useEmitterValue('useWindowScroll')\n  const customScrollParent = useEmitterValue('customScrollParent')\n  const windowScrollContainerStateCallback = usePublisher('windowScrollContainerState')\n  const _scrollContainerStateCallback = usePublisher('scrollContainerState')\n  const scrollContainerStateCallback =\n    customScrollParent || useWindowScroll ? windowScrollContainerStateCallback : _scrollContainerStateCallback\n  const itemContent = useEmitterValue('itemContent')\n  const trackItemSizes = useEmitterValue('trackItemSizes')\n  const itemSize = useEmitterValue('itemSize')\n  const log = useEmitterValue('log')\n\n  const { callbackRef, ref } = useChangedListContentsSizes(\n    sizeRanges,\n    itemSize,\n    trackItemSizes,\n    scrollContainerStateCallback,\n    log,\n    undefined,\n    customScrollParent\n  )\n\n  const [deviation, setDeviation] = React.useState(0)\n  useEmitter('deviation', (value) => {\n    if (deviation !== value) {\n      ref.current!.style.marginTop = `${value}px`\n      setDeviation(value)\n    }\n  })\n  const EmptyPlaceholder = useEmitterValue('EmptyPlaceholder')\n  const ScrollSeekPlaceholder = useEmitterValue('ScrollSeekPlaceholder') || DefaultScrollSeekPlaceholder\n  const FillerRow = useEmitterValue('FillerRow') || DefaultFillerRow\n  const TableBodyComponent = useEmitterValue('TableBodyComponent')!\n  const TableRowComponent = useEmitterValue('TableRowComponent')!\n  const computeItemKey = useEmitterValue('computeItemKey')\n  const isSeeking = useEmitterValue('isSeeking')\n  const paddingTopAddition = useEmitterValue('paddingTopAddition')\n  const firstItemIndex = useEmitterValue('firstItemIndex')\n  const statefulTotalCount = useEmitterValue('statefulTotalCount')\n  const context = useEmitterValue('context')\n\n  if (statefulTotalCount === 0 && EmptyPlaceholder) {\n    return createElement(EmptyPlaceholder, contextPropIfNotDomElement(EmptyPlaceholder, context))\n  }\n\n  const paddingTop = listState.offsetTop + paddingTopAddition + deviation\n  const paddingBottom = listState.offsetBottom\n\n  const paddingTopEl = paddingTop > 0 ? <FillerRow height={paddingTop} key=\"padding-top\" /> : null\n\n  const paddingBottomEl = paddingBottom > 0 ? <FillerRow height={paddingBottom} key=\"padding-bottom\" /> : null\n\n  const items = listState.items.map((item) => {\n    const index = item.originalIndex!\n    const key = computeItemKey(index + firstItemIndex, item.data, context)\n\n    if (isSeeking) {\n      return createElement(ScrollSeekPlaceholder, {\n        ...contextPropIfNotDomElement(ScrollSeekPlaceholder, context),\n        key,\n        index: item.index,\n        height: item.size,\n        type: item.type || 'item',\n      })\n    }\n    return createElement(\n      TableRowComponent,\n      {\n        ...contextPropIfNotDomElement(TableRowComponent, context),\n        key,\n        'data-index': index,\n        'data-known-size': item.size,\n        'data-item-index': item.index,\n        style: { overflowAnchor: 'none' },\n      },\n      itemContent(item.index, item.data, context)\n    )\n  })\n\n  return createElement(\n    TableBodyComponent,\n    { ref: callbackRef, 'data-test-id': 'virtuoso-item-list', ...contextPropIfNotDomElement(TableBodyComponent, context) },\n    [paddingTopEl, ...items, paddingBottomEl]\n  )\n})\n\nexport interface Hooks {\n  usePublisher: typeof usePublisher\n  useEmitterValue: typeof useEmitterValue\n  useEmitter: typeof useEmitter\n}\n\nconst Viewport: FC<PropsWithChildren<unknown>> = ({ children }) => {\n  const viewportHeight = usePublisher('viewportHeight')\n  const viewportRef = useSize(u.compose(viewportHeight, (el) => correctItemSize(el, 'height')))\n\n  return (\n    <div style={viewportStyle} ref={viewportRef} data-viewport-type=\"element\">\n      {children}\n    </div>\n  )\n}\n\nconst WindowViewport: FC<PropsWithChildren<unknown>> = ({ children }) => {\n  const windowViewportRect = usePublisher('windowViewportRect')\n  const customScrollParent = useEmitterValue('customScrollParent')\n  const viewportRef = useWindowViewportRectRef(windowViewportRect, customScrollParent)\n\n  return (\n    <div ref={viewportRef} style={viewportStyle} data-viewport-type=\"window\">\n      {children}\n    </div>\n  )\n}\n\nconst TableRoot: FC<TableRootProps> = React.memo(function TableVirtuosoRoot(props) {\n  const useWindowScroll = useEmitterValue('useWindowScroll')\n  const customScrollParent = useEmitterValue('customScrollParent')\n  const fixedHeaderHeight = usePublisher('fixedHeaderHeight')\n  const fixedHeaderContent = useEmitterValue('fixedHeaderContent')\n  const context = useEmitterValue('context')\n  const theadRef = useSize(u.compose(fixedHeaderHeight, (el) => correctItemSize(el, 'height')))\n  const TheScroller = customScrollParent || useWindowScroll ? WindowScroller : Scroller\n  const TheViewport = customScrollParent || useWindowScroll ? WindowViewport : Viewport\n  const TheTable = useEmitterValue('TableComponent')\n  const TheTHead = useEmitterValue('TableHeadComponent')\n\n  const theHead = fixedHeaderContent\n    ? React.createElement(\n        TheTHead!,\n        {\n          key: 'TableHead',\n          style: { zIndex: 1, position: 'sticky', top: 0 },\n          ref: theadRef,\n          ...contextPropIfNotDomElement(TheTHead, context),\n        },\n        fixedHeaderContent()\n      )\n    : null\n\n  return (\n    <TheScroller {...props}>\n      <TheViewport>\n        {React.createElement(TheTable!, { style: { borderSpacing: 0 }, ...contextPropIfNotDomElement(TheTable, context) }, [\n          theHead,\n          <Items key=\"TableBody\" />,\n        ])}\n      </TheViewport>\n    </TheScroller>\n  )\n})\n\nexport const {\n  Component: Table,\n  usePublisher,\n  useEmitterValue,\n  useEmitter,\n} = systemToComponent(\n  combinedSystem,\n  {\n    required: {},\n    optional: {\n      context: 'context',\n      followOutput: 'followOutput',\n      firstItemIndex: 'firstItemIndex',\n      itemContent: 'itemContent',\n      fixedHeaderContent: 'fixedHeaderContent',\n      overscan: 'overscan',\n      increaseViewportBy: 'increaseViewportBy',\n      totalCount: 'totalCount',\n      topItemCount: 'topItemCount',\n      initialTopMostItemIndex: 'initialTopMostItemIndex',\n      components: 'components',\n      groupCounts: 'groupCounts',\n      atBottomThreshold: 'atBottomThreshold',\n      atTopThreshold: 'atTopThreshold',\n      computeItemKey: 'computeItemKey',\n      defaultItemHeight: 'defaultItemHeight',\n      fixedItemHeight: 'fixedItemHeight',\n      itemSize: 'itemSize',\n      scrollSeekConfiguration: 'scrollSeekConfiguration',\n      data: 'data',\n      initialItemCount: 'initialItemCount',\n      initialScrollTop: 'initialScrollTop',\n      alignToBottom: 'alignToBottom',\n      useWindowScroll: 'useWindowScroll',\n      customScrollParent: 'customScrollParent',\n      scrollerRef: 'scrollerRef',\n      logLevel: 'logLevel',\n      react18ConcurrentRendering: 'react18ConcurrentRendering',\n    },\n    methods: {\n      scrollToIndex: 'scrollToIndex',\n      scrollIntoView: 'scrollIntoView',\n      scrollTo: 'scrollTo',\n      scrollBy: 'scrollBy',\n    },\n    events: {\n      isScrolling: 'isScrolling',\n      endReached: 'endReached',\n      startReached: 'startReached',\n      rangeChanged: 'rangeChanged',\n      atBottomStateChange: 'atBottomStateChange',\n      atTopStateChange: 'atTopStateChange',\n      totalListHeightChanged: 'totalListHeightChanged',\n      itemsRendered: 'itemsRendered',\n      groupIndices: 'groupIndices',\n    },\n  },\n  TableRoot\n)\n\nconst Scroller = buildScroller({ usePublisher, useEmitterValue, useEmitter })\nconst WindowScroller = buildWindowScroller({ usePublisher, useEmitterValue, useEmitter })\n","import { ReactElement, Ref } from 'react'\n\nimport {\n  Components,\n  ComputeItemKey,\n  FollowOutput,\n  GridComponents,\n  GridComputeItemKey,\n  GridItemContent,\n  GroupContent,\n  GroupItemContent,\n  IndexLocationWithAlign,\n  ItemContent,\n  ListItem,\n  ListRange,\n  ScrollSeekConfiguration,\n  TableComponents,\n  FixedHeaderContent,\n  ScrollIntoViewLocation,\n  ListRootProps,\n  GridRootProps,\n  FlatIndexLocationWithAlign,\n  FlatScrollIntoViewLocation,\n} from './interfaces'\nimport { List } from './List'\nimport { Grid } from './Grid'\nimport { Table } from './Table'\n\nexport interface VirtuosoProps<D, C> extends ListRootProps {\n  /**\n   * The total amount of items to be rendered.\n   */\n  totalCount?: number\n\n  /**\n   * The data items to be rendered. If data is set, the total count will be inferred from the length of the array.\n   */\n  data?: readonly D[]\n\n  /**\n   * Additional context available in the custom components and content callbacks\n   */\n  context?: C\n\n  /**\n   * *The property accepts pixel values.*\n   *\n   * Set the overscan property to make the component \"chunk\" the rendering of new items on scroll.\n   * The property causes the component to render more items than the necessary, but reduces the re-renders on scroll.\n   * Setting `{ main: number, reverse: number }` lets you extend the list in both the main and the reverse scrollable directions.\n   * See the `increaseViewportBy` property for a similar behavior (equivalent to the `overscan` in react-window).\n   *\n   */\n  overscan?: number | { main: number; reverse: number }\n\n  /**\n   *\n   * *The property accepts pixel values.*\n   *\n   * Set the increaseViewportBy property to artificially increase the viewport size, causing items to be rendered before outside of the viewport.\n   * The property causes the component to render more items than the necessary, but can help with slow loading content.\n   * Using `{ top?: number, bottom?: number }` lets you set the increase for each end separately.\n   *\n   */\n  increaseViewportBy?: number | { top: number; bottom: number }\n\n  /**\n   * Set the amount of items to remain fixed at the top of the list.\n   *\n   * For a header that scrolls away when scrolling, check the `components.Header` property.\n   */\n  topItemCount?: number\n\n  /**\n   * Set to a value between 0 and totalCount - 1 to make the list start scrolled to that item.\n   * Pass in an object to achieve additional effects similar to `scrollToIndex`.\n   */\n  initialTopMostItemIndex?: number | IndexLocationWithAlign\n\n  /**\n   * Set this value to offset the initial location of the list.\n   * Warning: using this property will still run a render cycle at the scrollTop: 0 list window.\n   * If possible, avoid using it and stick to `initialTopMostItemIndex` instead.\n   */\n  initialScrollTop?: number\n\n  /**\n   * Use for server-side rendering - if set, the list will render the specified amount of items\n   * regardless of the container / item size.\n   */\n  initialItemCount?: number\n\n  /**\n   * Use the `components` property for advanced customization of the elements rendered by the list.\n   */\n  components?: Components<C>\n\n  /**\n   * Set the callback to specify the contents of the item.\n   */\n  itemContent?: ItemContent<D, C>\n\n  /**\n   * If specified, the component will use the function to generate the `key` property for each list item.\n   */\n  computeItemKey?: ComputeItemKey<D, C>\n\n  /**\n   * By default, the component assumes the default item height from the first rendered item (rendering it as a \"probe\").\n   *\n   * If the first item turns out to be an outlier (very short or tall), the rest of the rendering will be slower,\n   * as multiple passes of rendering should happen for the list to fill the viewport.\n   *\n   * Setting `defaultItemHeight` causes the component to skip the \"probe\" rendering and use the property\n   * value as default height instead.\n   */\n  defaultItemHeight?: number\n\n  /**\n   * Allows customizing the height/width calculation of `Item` elements.\n   *\n   * The default implementation reads `el.getBoundingClientRect().height` and `el.getBoundingClientRect().width`.\n   */\n  itemSize?: (el: HTMLElement, dimension: 'height' | 'width') => number\n\n  /**\n   * Can be used to improve performance if the rendered items are of known size.\n   * Setting it causes the component to skip item measurements.\n   */\n  fixedItemHeight?: number\n\n  /**\n   * Use to display placeholders if the user scrolls fast through the list.\n   *\n   * Set `components.ScrollSeekPlaceholder` to change the placeholder content.\n   */\n  scrollSeekConfiguration?: ScrollSeekConfiguration | false\n\n  /**\n   * If set to `true`, the list automatically scrolls to bottom if the total count is changed.\n   * Set to `\"smooth\"` for an animated scrolling.\n   *\n   * By default, `followOutput` scrolls down only if the list is already at the bottom.\n   * To implement an arbitrary logic behind that, pass a function:\n   *\n   * ```tsx\n   * <Virtuoso\n   *  followOutput={(isAtBottom: boolean) => {\n   *    if (expression) {\n   *      return 'smooth' // can be 'auto' or false to avoid scrolling\n   *    } else {\n   *      return false\n   *    }\n   *  }} />\n   * ```\n   */\n  followOutput?: FollowOutput\n\n  /**\n   * Set to customize the wrapper tag for the header and footer components (default is `div`).\n   */\n  headerFooterTag?: string\n\n  /**\n   * Use when implementing inverse infinite scrolling - decrease the value this property\n   * in combination with  `data` or `totalCount` to prepend items to the top of the list.\n   *\n   * Warning: the firstItemIndex should **be a positive number**, based on the total amount of items to be displayed.\n   */\n  firstItemIndex?: number\n\n  /**\n   * Called when the list starts/stops scrolling.\n   */\n  isScrolling?: (isScrolling: boolean) => void\n\n  /**\n   * Gets called when the user scrolls to the end of the list.\n   * Receives the last item index as an argument. Can be used to implement endless scrolling.\n   */\n  endReached?: (index: number) => void\n\n  /**\n   * Called when the user scrolls to the start of the list.\n   */\n  startReached?: (index: number) => void\n\n  /**\n   * Called with the new set of items each time the list items are rendered due to scrolling.\n   */\n  rangeChanged?: (range: ListRange) => void\n\n  /**\n   * Called with true / false when the list has reached the bottom / gets scrolled up.\n   * Can be used to load newer items, like `tail -f`.\n   */\n  atBottomStateChange?: (atBottom: boolean) => void\n\n  /**\n   * Called with `true` / `false` when the list has reached the top / gets scrolled down.\n   */\n  atTopStateChange?: (atTop: boolean) => void\n\n  /**\n   * Called when the total list height is changed due to new items or viewport resize.\n   */\n  totalListHeightChanged?: (height: number) => void\n\n  /**\n   * Called with the new set of items each time the list items are rendered due to scrolling.\n   */\n  itemsRendered?: (items: ListItem<D>[]) => void\n\n  /**\n   * Setting `alignToBottom` to `true` aligns the items to the bottom of the list if the list is shorter than the viewport.\n   * Use `followOutput` property to keep the list aligned when new items are appended.\n   */\n  alignToBottom?: boolean\n\n  /**\n   * Uses the document scroller rather than wrapping the list in its own.\n   */\n  useWindowScroll?: boolean\n\n  /**\n   * Pass a reference to a scrollable parent element, so that the list won't wrap in its own.\n   */\n  customScrollParent?: HTMLElement\n\n  /**\n   * Provides access to the root DOM element\n   */\n  scrollerRef?: (ref: HTMLElement | Window | null) => any\n\n  /**\n   * *The property accepts pixel values.*\n   *\n   * By default `0`. Redefine to change how much away from the top the scroller can be before the list is not considered not at top.\n   */\n  atTopThreshold?: number\n\n  /**\n   * *The property accepts pixel values.*\n   *\n   * By default `4`. Redefine to change how much away from the bottom the scroller can be before the list is not considered not at bottom.\n   */\n  atBottomThreshold?: number\n\n  /**\n   * No longer necessary after 2.10.2. component should work out of the box.\n   */\n  react18ConcurrentRendering?: boolean\n}\n\nexport interface GroupedVirtuosoProps<D, C> extends Omit<VirtuosoProps<D, C>, 'totalCount' | 'itemContent'> {\n  /**\n   * Specifies the amount of items in each group (and, actually, how many groups are there).\n   * For example, passing [20, 30] will display 2 groups with 20 and 30 items each.\n   */\n  groupCounts?: number[]\n\n  /**\n   * Specifies how each each group header gets rendered. The callback receives the zero-based index of the group.\n   */\n  groupContent?: GroupContent\n\n  /**\n   * Specifies how each each item gets rendered.\n   */\n  itemContent?: GroupItemContent<D, C>\n}\n\nexport interface TableVirtuosoProps<D, C> extends Omit<VirtuosoProps<D, C>, 'components' | 'headerFooterTag' | 'topItemCount'> {\n  /**\n   * Use the `components` property for advanced customization of the elements rendered by the table.\n   */\n  components?: TableComponents<C>\n  /**\n   * Set the contents of the table header.\n   */\n  fixedHeaderContent?: FixedHeaderContent\n\n  /**\n   * The total amount of items to be rendered.\n   */\n  totalCount?: number\n\n  /**\n   * The data items to be rendered. If data is set, the total count will be inferred from the length of the array.\n   */\n  data?: readonly D[]\n\n  /**\n   * Set the overscan property to make the component \"chunk\" the rendering of new items on scroll.\n   * The property causes the component to render more items than the necessary, but reduces the re-renders on scroll.\n   * Setting `{ main: number, reverse: number }` lets you extend the list in both the main and the reverse scrollable directions.\n   * See the `increaseViewportBy` property for a similar behavior (equivalent to the `overscan` in `react-window`).\n   */\n  overscan?: number | { main: number; reverse: number }\n\n  /**\n   * Set the increaseViewportBy property to artificially increase the viewport size, causing items to be rendered before outside of the viewport.\n   * The property causes the component to render more items than the necessary, but can help with slow loading content.\n   * Using `{ top?: number, bottom?: number }` lets you set the increase for each end separately.\n   */\n  increaseViewportBy?: number | { top: number; bottom: number }\n\n  /**\n   * Set to a value between 0 and totalCount - 1 to make the list start scrolled to that item.\n   */\n  initialTopMostItemIndex?: number\n\n  /**\n   * Set this value to offset the initial location of the list.\n   * Warning: using this property will still run a render cycle at the scrollTop: 0 list window.\n   * If possible, avoid using it and stick to `initialTopMostItemIndex` instead.\n   */\n  initialScrollTop?: number\n\n  /**\n   * Use for server-side rendering - if set, the list will render the specified amount of items\n   * regardless of the container / item size.\n   */\n  initialItemCount?: number\n\n  /**\n   * Set the callback to specify the contents of the item.\n   */\n  itemContent?: ItemContent<D, C>\n\n  /**\n   * If specified, the component will use the function to generate the `key` property for each list item.\n   */\n  computeItemKey?: ComputeItemKey<D, C>\n\n  /**\n   * By default, the component assumes the default item height from the first rendered item (rendering it as a \"probe\").\n   *\n   * If the first item turns out to be an outlier (very short or tall), the rest of the rendering will be slower,\n   * as multiple passes of rendering should happen for the list to fill the viewport.\n   *\n   * Setting `defaultItemHeight` causes the component to skip the \"probe\" rendering and use the property\n   * value as default height instead.\n   */\n  defaultItemHeight?: number\n\n  /**\n   * Allows customizing the height/width calculation of `Item` elements.\n   *\n   * The default implementation reads `el.getBoundingClientRect().height` and `el.getBoundingClientRect().width`.\n   */\n  itemSize?: (el: HTMLElement, dimension: 'height' | 'width') => number\n\n  /**\n   * Can be used to improve performance if the rendered items are of known size.\n   * Setting it causes the component to skip item measurements.\n   */\n  fixedItemHeight?: number\n\n  /**\n   * Use to display placeholders if the user scrolls fast through the list.\n   *\n   * Set `components.ScrollSeekPlaceholder` to change the placeholder content.\n   */\n  scrollSeekConfiguration?: ScrollSeekConfiguration | false\n\n  /**\n   * If set to `true`, the list automatically scrolls to bottom if the total count is changed.\n   * Set to `\"smooth\"` for an animated scrolling.\n   *\n   * By default, `followOutput` scrolls down only if the list is already at the bottom.\n   * To implement an arbitrary logic behind that, pass a function:\n   *\n   * ```tsx\n   * <Virtuoso\n   *  followOutput={(isAtBottom: boolean) => {\n   *    if (expression) {\n   *      return 'smooth' // can be 'auto' or false to avoid scrolling\n   *    } else {\n   *      return false\n   *    }\n   *  }} />\n   * ```\n   */\n  followOutput?: FollowOutput\n\n  /**\n   * Use when implementing inverse infinite scrolling - decrease the value this property\n   * in combination with  `data` or `totalCount` to prepend items to the top of the list.\n   *\n   * Warning: the firstItemIndex should **be a positive number**, based on the total amount of items to be displayed.\n   */\n  firstItemIndex?: number\n\n  /**\n   * Called when the list starts/stops scrolling.\n   */\n  isScrolling?: (isScrolling: boolean) => void\n\n  /**\n   * Gets called when the user scrolls to the end of the list.\n   * Receives the last item index as an argument. Can be used to implement endless scrolling.\n   */\n  endReached?: (index: number) => void\n\n  /**\n   * Called when the user scrolls to the start of the list.\n   */\n  startReached?: (index: number) => void\n\n  /**\n   * Called with the new set of items each time the list items are rendered due to scrolling.\n   */\n  rangeChanged?: (range: ListRange) => void\n\n  /**\n   * Called with true / false when the list has reached the bottom / gets scrolled up.\n   * Can be used to load newer items, like `tail -f`.\n   */\n  atBottomStateChange?: (atBottom: boolean) => void\n\n  /**\n   * Called with `true` / `false` when the list has reached the top / gets scrolled down.\n   */\n  atTopStateChange?: (atTop: boolean) => void\n\n  /**\n   * Called when the total list height is changed due to new items or viewport resize.\n   */\n  totalListHeightChanged?: (height: number) => void\n\n  /**\n   * Called with the new set of items each time the list items are rendered due to scrolling.\n   */\n  itemsRendered?: (items: ListItem<D>[]) => void\n\n  /**\n   * Setting `alignToBottom` to `true` aligns the items to the bottom of the list if the list is shorter than the viewport.\n   * Use `followOutput` property to keep the list aligned when new items are appended.\n   */\n  alignToBottom?: boolean\n\n  /**\n   * Uses the document scroller rather than wrapping the list in its own.\n   */\n  useWindowScroll?: boolean\n\n  /**\n   * Pass a reference to a scrollable parent element, so that the table won't wrap in its own.\n   */\n  customScrollParent?: HTMLElement\n\n  /**\n   * Provides access to the root DOM element\n   */\n  scrollerRef?: (ref: HTMLElement | Window | null) => any\n\n  /**\n   * By default `0`. Redefine to change how much away from the top the scroller can be before the list is not considered not at top.\n   */\n  atTopThreshold?: number\n\n  /**\n   * By default `4`. Redefine to change how much away from the bottom the scroller can be before the list is not considered not at bottom.\n   */\n  atBottomThreshold?: number\n\n  /**\n   * No longer necessary after 2.10.2. component should work out of the box.\n   */\n  react18ConcurrentRendering?: boolean\n}\n\nexport interface VirtuosoGridProps<C = unknown> extends GridRootProps {\n  /**\n   * The total amount of items to be rendered.\n   */\n  totalCount: number\n\n  /**\n   * Use for server-side rendering - if set, the list will render the specified amount of items\n   * regardless of the container / item size.\n   */\n  initialItemCount?: number\n\n  /**\n   * Set the callback to specify the contents of the item.\n   */\n  itemContent?: GridItemContent<C>\n\n  /**\n   * Use the `components` property for advanced customization of the elements rendered by the list.\n   */\n  components?: GridComponents<C>\n\n  /**\n   * Set the overscan property to make the component \"chunk\" the rendering of new items on scroll.\n   * The property causes the component to render more items than the necessary, but reduces the re-renders on scroll.\n   * Setting `{ main: number, reverse: number }` lets you extend the list in both the main and the reverse scrollable directions.\n   */\n  overscan?: number | { main: number; reverse: number }\n\n  /**\n   * If specified, the component will use the function to generate the `key` property for each list item.\n   */\n  computeItemKey?: GridComputeItemKey\n\n  /**\n   * Use to display placeholders if the user scrolls fast through the list.\n   *\n   * Set `components.ScrollSeekPlaceholder` to change the placeholder content.\n   */\n  scrollSeekConfiguration?: ScrollSeekConfiguration | false\n\n  /**\n   * Called when the list starts/stops scrolling.\n   */\n  isScrolling?: (isScrolling: boolean) => void\n\n  /**\n   * Gets called when the user scrolls to the end of the list.\n   * Receives the last item index as an argument. Can be used to implement endless scrolling.\n   */\n  endReached?: (index: number) => void\n\n  /**\n   * Called when the user scrolls to the start of the list.\n   */\n  startReached?: (index: number) => void\n\n  /**\n   * Called with the new set of items each time the list items are rendered due to scrolling.\n   */\n  rangeChanged?: (range: ListRange) => void\n\n  /**\n   * Called with true / false when the list has reached the bottom / gets scrolled up.\n   * Can be used to load newer items, like `tail -f`.\n   */\n  atBottomStateChange?: (atBottom: boolean) => void\n\n  /**\n   * Called with `true` / `false` when the list has reached the top / gets scrolled down.\n   */\n  atTopStateChange?: (atTop: boolean) => void\n\n  /**\n   * Provides access to the root DOM element\n   */\n  scrollerRef?: (ref: HTMLElement | null) => any\n\n  /**\n   * Sets the className for the list DOM element\n   */\n  listClassName?: string\n\n  /**\n   * Sets the grid items' className\n   */\n  itemClassName?: string\n\n  /**\n   * Uses the document scroller rather than wrapping the grid in its own.\n   */\n  useWindowScroll?: boolean\n\n  /**\n   * Pass a reference to a scrollable parent element, so that the grid won't wrap in its own.\n   */\n  customScrollParent?: HTMLElement\n}\n\nexport interface VirtuosoHandle {\n  /**\n   * Scrolls the component to the specified item index. See {@link IndexLocationWithAlign} for more options.\n   */\n  scrollToIndex(location: number | FlatIndexLocationWithAlign): void\n  /**\n   * Scrolls the item into view if necessary. See [the website example](http://virtuoso.dev/keyboard-navigation/) for an implementation.\n   */\n  scrollIntoView(location: FlatScrollIntoViewLocation): void\n  /**\n   * Scrolls the component to the specified location. See [ScrollToOptions (MDN)](https://developer.mozilla.org/en-US/docs/Web/API/ScrollToOptions)\n   */\n  scrollTo(location: ScrollToOptions): void\n  /**\n   * Scrolls the component with the specified amount. See [ScrollToOptions (MDN)](https://developer.mozilla.org/en-US/docs/Web/API/ScrollToOptions)\n   */\n  scrollBy(location: ScrollToOptions): void\n  /**\n   * Use this with combination with follow output if you have images loading in the list. Listen to the image loading and call the method.\n   */\n  autoscrollToBottom(): void\n}\n\nexport interface GroupedVirtuosoHandle {\n  scrollToIndex(location: number | IndexLocationWithAlign): void\n  scrollIntoView(location: number | ScrollIntoViewLocation): void\n  scrollTo(location: ScrollToOptions): void\n  scrollBy(location: ScrollToOptions): void\n  autoscrollToBottom(): void\n}\n\nexport interface VirtuosoGridHandle {\n  scrollToIndex(location: number | IndexLocationWithAlign): void\n  scrollTo(location: ScrollToOptions): void\n  scrollBy(location: ScrollToOptions): void\n}\n\nexport interface TableVirtuosoHandle {\n  scrollIntoView(location: number | FlatScrollIntoViewLocation): void\n  scrollToIndex(location: number | FlatIndexLocationWithAlign): void\n  scrollTo(location: ScrollToOptions): void\n  scrollBy(location: ScrollToOptions): void\n}\n\nexport const Virtuoso = List as <ItemData = any, Context = any>(\n  props: VirtuosoProps<ItemData, Context> & { ref?: Ref<VirtuosoHandle> }\n) => ReactElement\n\nexport const GroupedVirtuoso = List as <ItemData = any, Context = any>(\n  props: GroupedVirtuosoProps<ItemData, Context> & { ref?: Ref<GroupedVirtuosoHandle> }\n) => ReactElement\n\nexport const TableVirtuoso = Table as <ItemData = any, Context = any>(\n  props: TableVirtuosoProps<ItemData, Context> & { ref?: Ref<TableVirtuosoHandle> }\n) => ReactElement\n\nexport const VirtuosoGrid = Grid as <Context = any>(props: VirtuosoGridProps<Context> & { ref?: Ref<VirtuosoGridHandle> }) => ReactElement\n","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nmodule.exports = _objectWithoutPropertiesLoose, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","export var INIT_COORDS = 'dnd-core/INIT_COORDS';\nexport var BEGIN_DRAG = 'dnd-core/BEGIN_DRAG';\nexport var PUBLISH_DRAG_SOURCE = 'dnd-core/PUBLISH_DRAG_SOURCE';\nexport var HOVER = 'dnd-core/HOVER';\nexport var DROP = 'dnd-core/DROP';\nexport var END_DRAG = 'dnd-core/END_DRAG';","import { INIT_COORDS } from '../types';\nexport function setClientOffset(clientOffset, sourceClientOffset) {\n  return {\n    type: INIT_COORDS,\n    payload: {\n      sourceClientOffset: sourceClientOffset || null,\n      clientOffset: clientOffset || null\n    }\n  };\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n// cheap lodash replacements\n\n/**\n * drop-in replacement for _.get\n * @param obj\n * @param path\n * @param defaultValue\n */\nexport function get(obj, path, defaultValue) {\n  return path.split('.').reduce(function (a, c) {\n    return a && a[c] ? a[c] : defaultValue || null;\n  }, obj);\n}\n/**\n * drop-in replacement for _.without\n */\n\nexport function without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */\n\nexport function isString(input) {\n  return typeof input === 'string';\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */\n\nexport function isObject(input) {\n  return _typeof(input) === 'object';\n}\n/**\n * repalcement for _.xor\n * @param itemsA\n * @param itemsB\n */\n\nexport function xor(itemsA, itemsB) {\n  var map = new Map();\n\n  var insertItem = function insertItem(item) {\n    map.set(item, map.has(item) ? map.get(item) + 1 : 1);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  map.forEach(function (count, key) {\n    if (count === 1) {\n      result.push(key);\n    }\n  });\n  return result;\n}\n/**\n * replacement for _.intersection\n * @param itemsA\n * @param itemsB\n */\n\nexport function intersection(itemsA, itemsB) {\n  return itemsA.filter(function (t) {\n    return itemsB.indexOf(t) > -1;\n  });\n}","import { invariant } from '@react-dnd/invariant';\nimport { setClientOffset } from './local/setClientOffset';\nimport { isObject } from '../../utils/js_utils';\nimport { BEGIN_DRAG, INIT_COORDS } from './types';\nvar ResetCoordinatesAction = {\n  type: INIT_COORDS,\n  payload: {\n    clientOffset: null,\n    sourceClientOffset: null\n  }\n};\nexport function createBeginDrag(manager) {\n  return function beginDrag() {\n    var sourceIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      publishSource: true\n    };\n    var _options$publishSourc = options.publishSource,\n        publishSource = _options$publishSourc === void 0 ? true : _options$publishSourc,\n        clientOffset = options.clientOffset,\n        getSourceClientOffset = options.getSourceClientOffset;\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry(); // Initialize the coordinates using the client offset\n\n    manager.dispatch(setClientOffset(clientOffset));\n    verifyInvariants(sourceIds, monitor, registry); // Get the draggable source\n\n    var sourceId = getDraggableSource(sourceIds, monitor);\n\n    if (sourceId === null) {\n      manager.dispatch(ResetCoordinatesAction);\n      return;\n    } // Get the source client offset\n\n\n    var sourceClientOffset = null;\n\n    if (clientOffset) {\n      if (!getSourceClientOffset) {\n        throw new Error('getSourceClientOffset must be defined');\n      }\n\n      verifyGetSourceClientOffsetIsFunction(getSourceClientOffset);\n      sourceClientOffset = getSourceClientOffset(sourceId);\n    } // Initialize the full coordinates\n\n\n    manager.dispatch(setClientOffset(clientOffset, sourceClientOffset));\n    var source = registry.getSource(sourceId);\n    var item = source.beginDrag(monitor, sourceId); // If source.beginDrag returns null, this is an indicator to cancel the drag\n\n    if (item == null) {\n      return undefined;\n    }\n\n    verifyItemIsObject(item);\n    registry.pinSource(sourceId);\n    var itemType = registry.getSourceType(sourceId);\n    return {\n      type: BEGIN_DRAG,\n      payload: {\n        itemType: itemType,\n        item: item,\n        sourceId: sourceId,\n        clientOffset: clientOffset || null,\n        sourceClientOffset: sourceClientOffset || null,\n        isSourcePublic: !!publishSource\n      }\n    };\n  };\n}\n\nfunction verifyInvariants(sourceIds, monitor, registry) {\n  invariant(!monitor.isDragging(), 'Cannot call beginDrag while dragging.');\n  sourceIds.forEach(function (sourceId) {\n    invariant(registry.getSource(sourceId), 'Expected sourceIds to be registered.');\n  });\n}\n\nfunction verifyGetSourceClientOffsetIsFunction(getSourceClientOffset) {\n  invariant(typeof getSourceClientOffset === 'function', 'When clientOffset is provided, getSourceClientOffset must be a function.');\n}\n\nfunction verifyItemIsObject(item) {\n  invariant(isObject(item), 'Item must be an object.');\n}\n\nfunction getDraggableSource(sourceIds, monitor) {\n  var sourceId = null;\n\n  for (var i = sourceIds.length - 1; i >= 0; i--) {\n    if (monitor.canDragSource(sourceIds[i])) {\n      sourceId = sourceIds[i];\n      break;\n    }\n  }\n\n  return sourceId;\n}","import { PUBLISH_DRAG_SOURCE } from './types';\nexport function createPublishDragSource(manager) {\n  return function publishDragSource() {\n    var monitor = manager.getMonitor();\n\n    if (monitor.isDragging()) {\n      return {\n        type: PUBLISH_DRAG_SOURCE\n      };\n    }\n  };\n}","export function matchesType(targetType, draggedItemType) {\n  if (draggedItemType === null) {\n    return targetType === null;\n  }\n\n  return Array.isArray(targetType) ? targetType.some(function (t) {\n    return t === draggedItemType;\n  }) : targetType === draggedItemType;\n}","import { invariant } from '@react-dnd/invariant';\nimport { matchesType } from '../../utils/matchesType';\nimport { HOVER } from './types';\nexport function createHover(manager) {\n  return function hover(targetIdsArg) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        clientOffset = _ref.clientOffset;\n\n    verifyTargetIdsIsArray(targetIdsArg);\n    var targetIds = targetIdsArg.slice(0);\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    checkInvariants(targetIds, monitor, registry);\n    var draggedItemType = monitor.getItemType();\n    removeNonMatchingTargetIds(targetIds, registry, draggedItemType);\n    hoverAllTargets(targetIds, monitor, registry);\n    return {\n      type: HOVER,\n      payload: {\n        targetIds: targetIds,\n        clientOffset: clientOffset || null\n      }\n    };\n  };\n}\n\nfunction verifyTargetIdsIsArray(targetIdsArg) {\n  invariant(Array.isArray(targetIdsArg), 'Expected targetIds to be an array.');\n}\n\nfunction checkInvariants(targetIds, monitor, registry) {\n  invariant(monitor.isDragging(), 'Cannot call hover while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call hover after drop.');\n\n  for (var i = 0; i < targetIds.length; i++) {\n    var targetId = targetIds[i];\n    invariant(targetIds.lastIndexOf(targetId) === i, 'Expected targetIds to be unique in the passed array.');\n    var target = registry.getTarget(targetId);\n    invariant(target, 'Expected targetIds to be registered.');\n  }\n}\n\nfunction removeNonMatchingTargetIds(targetIds, registry, draggedItemType) {\n  // Remove those targetIds that don't match the targetType.  This\n  // fixes shallow isOver which would only be non-shallow because of\n  // non-matching targets.\n  for (var i = targetIds.length - 1; i >= 0; i--) {\n    var targetId = targetIds[i];\n    var targetType = registry.getTargetType(targetId);\n\n    if (!matchesType(targetType, draggedItemType)) {\n      targetIds.splice(i, 1);\n    }\n  }\n}\n\nfunction hoverAllTargets(targetIds, monitor, registry) {\n  // Finally call hover on all matching targets.\n  targetIds.forEach(function (targetId) {\n    var target = registry.getTarget(targetId);\n    target.hover(monitor, targetId);\n  });\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { DROP } from './types';\nimport { isObject } from '../../utils/js_utils';\nexport function createDrop(manager) {\n  return function drop() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyInvariants(monitor);\n    var targetIds = getDroppableTargets(monitor); // Multiple actions are dispatched here, which is why this doesn't return an action\n\n    targetIds.forEach(function (targetId, index) {\n      var dropResult = determineDropResult(targetId, index, registry, monitor);\n      var action = {\n        type: DROP,\n        payload: {\n          dropResult: _objectSpread(_objectSpread({}, options), dropResult)\n        }\n      };\n      manager.dispatch(action);\n    });\n  };\n}\n\nfunction verifyInvariants(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call drop while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call drop twice during one drag operation.');\n}\n\nfunction determineDropResult(targetId, index, registry, monitor) {\n  var target = registry.getTarget(targetId);\n  var dropResult = target ? target.drop(monitor, targetId) : undefined;\n  verifyDropResultType(dropResult);\n\n  if (typeof dropResult === 'undefined') {\n    dropResult = index === 0 ? {} : monitor.getDropResult();\n  }\n\n  return dropResult;\n}\n\nfunction verifyDropResultType(dropResult) {\n  invariant(typeof dropResult === 'undefined' || isObject(dropResult), 'Drop result must either be an object or undefined.');\n}\n\nfunction getDroppableTargets(monitor) {\n  var targetIds = monitor.getTargetIds().filter(monitor.canDropOnTarget, monitor);\n  targetIds.reverse();\n  return targetIds;\n}","import { invariant } from '@react-dnd/invariant';\nimport { END_DRAG } from './types';\nexport function createEndDrag(manager) {\n  return function endDrag() {\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyIsDragging(monitor);\n    var sourceId = monitor.getSourceId();\n\n    if (sourceId != null) {\n      var source = registry.getSource(sourceId, true);\n      source.endDrag(monitor, sourceId);\n      registry.unpinSource();\n    }\n\n    return {\n      type: END_DRAG\n    };\n  };\n}\n\nfunction verifyIsDragging(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call endDrag while not dragging.');\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { createDragDropActions } from '../actions/dragDrop';\nexport var DragDropManagerImpl = /*#__PURE__*/function () {\n  function DragDropManagerImpl(store, monitor) {\n    var _this = this;\n\n    _classCallCheck(this, DragDropManagerImpl);\n\n    _defineProperty(this, \"store\", void 0);\n\n    _defineProperty(this, \"monitor\", void 0);\n\n    _defineProperty(this, \"backend\", void 0);\n\n    _defineProperty(this, \"isSetUp\", false);\n\n    _defineProperty(this, \"handleRefCountChange\", function () {\n      var shouldSetUp = _this.store.getState().refCount > 0;\n\n      if (_this.backend) {\n        if (shouldSetUp && !_this.isSetUp) {\n          _this.backend.setup();\n\n          _this.isSetUp = true;\n        } else if (!shouldSetUp && _this.isSetUp) {\n          _this.backend.teardown();\n\n          _this.isSetUp = false;\n        }\n      }\n    });\n\n    this.store = store;\n    this.monitor = monitor;\n    store.subscribe(this.handleRefCountChange);\n  }\n\n  _createClass(DragDropManagerImpl, [{\n    key: \"receiveBackend\",\n    value: function receiveBackend(backend) {\n      this.backend = backend;\n    }\n  }, {\n    key: \"getMonitor\",\n    value: function getMonitor() {\n      return this.monitor;\n    }\n  }, {\n    key: \"getBackend\",\n    value: function getBackend() {\n      return this.backend;\n    }\n  }, {\n    key: \"getRegistry\",\n    value: function getRegistry() {\n      return this.monitor.registry;\n    }\n  }, {\n    key: \"getActions\",\n    value: function getActions() {\n      /* eslint-disable-next-line @typescript-eslint/no-this-alias */\n      var manager = this;\n      var dispatch = this.store.dispatch;\n\n      function bindActionCreator(actionCreator) {\n        return function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          var action = actionCreator.apply(manager, args);\n\n          if (typeof action !== 'undefined') {\n            dispatch(action);\n          }\n        };\n      }\n\n      var actions = createDragDropActions(this);\n      return Object.keys(actions).reduce(function (boundActions, key) {\n        var action = actions[key];\n        boundActions[key] = bindActionCreator(action);\n        return boundActions;\n      }, {});\n    }\n  }, {\n    key: \"dispatch\",\n    value: function dispatch(action) {\n      this.store.dispatch(action);\n    }\n  }]);\n\n  return DragDropManagerImpl;\n}();","import { createBeginDrag } from './beginDrag';\nimport { createPublishDragSource } from './publishDragSource';\nimport { createHover } from './hover';\nimport { createDrop } from './drop';\nimport { createEndDrag } from './endDrag';\nexport * from './types';\nexport function createDragDropActions(manager) {\n  return {\n    beginDrag: createBeginDrag(manager),\n    publishDragSource: createPublishDragSource(manager),\n    hover: createHover(manager),\n    drop: createDrop(manager),\n    endDrag: createEndDrag(manager)\n  };\n}","import _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n}\n\n// Inlined version of the `symbol-observable` polyfill\nvar $$observable = (function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n})();\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (process.env.NODE_ENV !== 'production') {\n    typeOfVal = miniKindOf(val);\n  }\n\n  return typeOfVal;\n}\n\n/**\n * @deprecated\n *\n * **We recommend using the `configureStore` method\n * of the `@reduxjs/toolkit` package**, which replaces `createStore`.\n *\n * Redux Toolkit is our recommended approach for writing Redux logic today,\n * including store setup, reducers, data fetching, and more.\n *\n * **For more details, please read this Redux docs page:**\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * `configureStore` from Redux Toolkit is an improved version of `createStore` that\n * simplifies setup and helps avoid common bugs.\n *\n * You should not be using the `redux` core package by itself today, except for learning purposes.\n * The `createStore` method from the core `redux` package will not be removed, but we encourage\n * all users to migrate to using Redux Toolkit for all Redux code.\n *\n * If you want to use `createStore` without this visual deprecation warning, use\n * the `legacy_createStore` import instead:\n *\n * `import { legacy_createStore as createStore} from 'redux'`\n *\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(0) : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(1) : \"Expected the enhancer to be a function. Instead, received: '\" + kindOf(enhancer) + \"'\");\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(2) : \"Expected the root reducer to be a function. Instead, received: '\" + kindOf(reducer) + \"'\");\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(3) : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(4) : \"Expected the listener to be a function. Instead, received: '\" + kindOf(listener) + \"'\");\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(5) : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(6) : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(7) : \"Actions must be plain objects. Instead, the actual type was: '\" + kindOf(action) + \"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.\");\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(8) : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(9) : 'Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(10) : \"Expected the nextReducer to be a function. Instead, received: '\" + kindOf(nextReducer));\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(11) : \"Expected the observer to be an object. Instead, received: '\" + kindOf(observer) + \"'\");\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n/**\n * Creates a Redux store that holds the state tree.\n *\n * **We recommend using `configureStore` from the\n * `@reduxjs/toolkit` package**, which replaces `createStore`:\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nvar legacy_createStore = createStore;\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + kindOf(inputState) + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(12) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(13) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle '\" + ActionTypes.INIT + \"' or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var actionType = action && action.type;\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(14) : \"When called with an action of type \" + (actionType ? \"\\\"\" + String(actionType) + \"\\\"\" : '(unknown type)') + \", the slice reducer for key \\\"\" + _key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\");\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(16) : \"bindActionCreators expected an object or a function, but instead received: '\" + kindOf(actionCreators) + \"'. \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(15) : 'Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread(_objectSpread({}, store), {}, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore, legacy_createStore };\n","export var strictEquality = function strictEquality(a, b) {\n  return a === b;\n};\n/**\n * Determine if two cartesian coordinate offsets are equal\n * @param offsetA\n * @param offsetB\n */\n\nexport function areCoordsEqual(offsetA, offsetB) {\n  if (!offsetA && !offsetB) {\n    return true;\n  } else if (!offsetA || !offsetB) {\n    return false;\n  } else {\n    return offsetA.x === offsetB.x && offsetA.y === offsetB.y;\n  }\n}\n/**\n * Determines if two arrays of items are equal\n * @param a The first array of items\n * @param b The second array of items\n */\n\nexport function areArraysEqual(a, b) {\n  var isEqual = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : strictEquality;\n\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  for (var i = 0; i < a.length; ++i) {\n    if (!isEqual(a[i], b[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { INIT_COORDS, BEGIN_DRAG, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { areCoordsEqual } from '../utils/equality';\nvar initialState = {\n  initialSourceClientOffset: null,\n  initialClientOffset: null,\n  clientOffset: null\n};\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case INIT_COORDS:\n    case BEGIN_DRAG:\n      return {\n        initialSourceClientOffset: payload.sourceClientOffset,\n        initialClientOffset: payload.clientOffset,\n        clientOffset: payload.clientOffset\n      };\n\n    case HOVER:\n      if (areCoordsEqual(state.clientOffset, payload.clientOffset)) {\n        return state;\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        clientOffset: payload.clientOffset\n      });\n\n    case END_DRAG:\n    case DROP:\n      return initialState;\n\n    default:\n      return state;\n  }\n}","export var ADD_SOURCE = 'dnd-core/ADD_SOURCE';\nexport var ADD_TARGET = 'dnd-core/ADD_TARGET';\nexport var REMOVE_SOURCE = 'dnd-core/REMOVE_SOURCE';\nexport var REMOVE_TARGET = 'dnd-core/REMOVE_TARGET';\nexport function addSource(sourceId) {\n  return {\n    type: ADD_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\nexport function addTarget(targetId) {\n  return {\n    type: ADD_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}\nexport function removeSource(sourceId) {\n  return {\n    type: REMOVE_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\nexport function removeTarget(targetId) {\n  return {\n    type: REMOVE_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { BEGIN_DRAG, PUBLISH_DRAG_SOURCE, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { REMOVE_TARGET } from '../actions/registry';\nimport { without } from '../utils/js_utils';\nvar initialState = {\n  itemType: null,\n  item: null,\n  sourceId: null,\n  targetIds: [],\n  dropResult: null,\n  didDrop: false,\n  isSourcePublic: null\n};\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case BEGIN_DRAG:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        itemType: payload.itemType,\n        item: payload.item,\n        sourceId: payload.sourceId,\n        isSourcePublic: payload.isSourcePublic,\n        dropResult: null,\n        didDrop: false\n      });\n\n    case PUBLISH_DRAG_SOURCE:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isSourcePublic: true\n      });\n\n    case HOVER:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        targetIds: payload.targetIds\n      });\n\n    case REMOVE_TARGET:\n      if (state.targetIds.indexOf(payload.targetId) === -1) {\n        return state;\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        targetIds: without(state.targetIds, payload.targetId)\n      });\n\n    case DROP:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        dropResult: payload.dropResult,\n        didDrop: true,\n        targetIds: []\n      });\n\n    case END_DRAG:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        itemType: null,\n        item: null,\n        sourceId: null,\n        dropResult: null,\n        didDrop: false,\n        isSourcePublic: null,\n        targetIds: []\n      });\n\n    default:\n      return state;\n  }\n}","import { ADD_SOURCE, ADD_TARGET, REMOVE_SOURCE, REMOVE_TARGET } from '../actions/registry';\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_SOURCE:\n    case ADD_TARGET:\n      return state + 1;\n\n    case REMOVE_SOURCE:\n    case REMOVE_TARGET:\n      return state - 1;\n\n    default:\n      return state;\n  }\n}","import { intersection } from './js_utils';\nexport var NONE = [];\nexport var ALL = [];\nNONE.__IS_NONE__ = true;\nALL.__IS_ALL__ = true;\n/**\n * Determines if the given handler IDs are dirty or not.\n *\n * @param dirtyIds The set of dirty handler ids\n * @param handlerIds The set of handler ids to check\n */\n\nexport function areDirty(dirtyIds, handlerIds) {\n  if (dirtyIds === NONE) {\n    return false;\n  }\n\n  if (dirtyIds === ALL || typeof handlerIds === 'undefined') {\n    return true;\n  }\n\n  var commonIds = intersection(handlerIds, dirtyIds);\n  return commonIds.length > 0;\n}","import { BEGIN_DRAG, PUBLISH_DRAG_SOURCE, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { ADD_SOURCE, ADD_TARGET, REMOVE_SOURCE, REMOVE_TARGET } from '../actions/registry';\nimport { areArraysEqual } from '../utils/equality';\nimport { NONE, ALL } from '../utils/dirtiness';\nimport { xor } from '../utils/js_utils';\nexport function reduce() {\n  var _state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : NONE;\n\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case HOVER:\n      break;\n\n    case ADD_SOURCE:\n    case ADD_TARGET:\n    case REMOVE_TARGET:\n    case REMOVE_SOURCE:\n      return NONE;\n\n    case BEGIN_DRAG:\n    case PUBLISH_DRAG_SOURCE:\n    case END_DRAG:\n    case DROP:\n    default:\n      return ALL;\n  }\n\n  var _action$payload = action.payload,\n      _action$payload$targe = _action$payload.targetIds,\n      targetIds = _action$payload$targe === void 0 ? [] : _action$payload$targe,\n      _action$payload$prevT = _action$payload.prevTargetIds,\n      prevTargetIds = _action$payload$prevT === void 0 ? [] : _action$payload$prevT;\n  var result = xor(targetIds, prevTargetIds);\n  var didChange = result.length > 0 || !areArraysEqual(targetIds, prevTargetIds);\n\n  if (!didChange) {\n    return NONE;\n  } // Check the target ids at the innermost position. If they are valid, add them\n  // to the result\n\n\n  var prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1];\n  var innermostTargetId = targetIds[targetIds.length - 1];\n\n  if (prevInnermostTargetId !== innermostTargetId) {\n    if (prevInnermostTargetId) {\n      result.push(prevInnermostTargetId);\n    }\n\n    if (innermostTargetId) {\n      result.push(innermostTargetId);\n    }\n  }\n\n  return result;\n}","export function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return state + 1;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { reduce as dragOffset } from './dragOffset';\nimport { reduce as dragOperation } from './dragOperation';\nimport { reduce as refCount } from './refCount';\nimport { reduce as dirtyHandlerIds } from './dirtyHandlerIds';\nimport { reduce as stateId } from './stateId';\nimport { get } from '../utils/js_utils';\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return {\n    dirtyHandlerIds: dirtyHandlerIds(state.dirtyHandlerIds, {\n      type: action.type,\n      payload: _objectSpread(_objectSpread({}, action.payload), {}, {\n        prevTargetIds: get(state, 'dragOperation.targetIds', [])\n      })\n    }),\n    dragOffset: dragOffset(state.dragOffset, action),\n    refCount: refCount(state.refCount, action),\n    dragOperation: dragOperation(state.dragOperation, action),\n    stateId: stateId(state.stateId)\n  };\n}","/**\n * Coordinate addition\n * @param a The first coordinate\n * @param b The second coordinate\n */\nexport function add(a, b) {\n  return {\n    x: a.x + b.x,\n    y: a.y + b.y\n  };\n}\n/**\n * Coordinate subtraction\n * @param a The first coordinate\n * @param b The second coordinate\n */\n\nexport function subtract(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n}\n/**\n * Returns the cartesian distance of the drag source component's position, based on its position\n * at the time when the current drag operation has started, and the movement difference.\n *\n * Returns null if no item is being dragged.\n *\n * @param state The offset state to compute from\n */\n\nexport function getSourceClientOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset,\n      initialSourceClientOffset = state.initialSourceClientOffset;\n\n  if (!clientOffset || !initialClientOffset || !initialSourceClientOffset) {\n    return null;\n  }\n\n  return subtract(add(clientOffset, initialSourceClientOffset), initialClientOffset);\n}\n/**\n * Determines the x,y offset between the client offset and the initial client offset\n *\n * @param state The offset state to compute from\n */\n\nexport function getDifferenceFromInitialOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset;\n\n  if (!clientOffset || !initialClientOffset) {\n    return null;\n  }\n\n  return subtract(clientOffset, initialClientOffset);\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { matchesType } from '../utils/matchesType';\nimport { getSourceClientOffset as _getSourceClientOffset, getDifferenceFromInitialOffset as _getDifferenceFromInitialOffset } from '../utils/coords';\nimport { areDirty } from '../utils/dirtiness';\nexport var DragDropMonitorImpl = /*#__PURE__*/function () {\n  function DragDropMonitorImpl(store, registry) {\n    _classCallCheck(this, DragDropMonitorImpl);\n\n    _defineProperty(this, \"store\", void 0);\n\n    _defineProperty(this, \"registry\", void 0);\n\n    this.store = store;\n    this.registry = registry;\n  }\n\n  _createClass(DragDropMonitorImpl, [{\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        handlerIds: undefined\n      };\n      var handlerIds = options.handlerIds;\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      invariant(typeof handlerIds === 'undefined' || Array.isArray(handlerIds), 'handlerIds, when specified, must be an array of strings.');\n      var prevStateId = this.store.getState().stateId;\n\n      var handleChange = function handleChange() {\n        var state = _this.store.getState();\n\n        var currentStateId = state.stateId;\n\n        try {\n          var canSkipListener = currentStateId === prevStateId || currentStateId === prevStateId + 1 && !areDirty(state.dirtyHandlerIds, handlerIds);\n\n          if (!canSkipListener) {\n            listener();\n          }\n        } finally {\n          prevStateId = currentStateId;\n        }\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      var _this2 = this;\n\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      var previousState = this.store.getState().dragOffset;\n\n      var handleChange = function handleChange() {\n        var nextState = _this2.store.getState().dragOffset;\n\n        if (nextState === previousState) {\n          return;\n        }\n\n        previousState = nextState;\n        listener();\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId);\n      invariant(source, \"Expected to find a valid source. sourceId=\".concat(sourceId));\n\n      if (this.isDragging()) {\n        return false;\n      }\n\n      return source.canDrag(this, sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      // undefined on initial render\n      if (!targetId) {\n        return false;\n      }\n\n      var target = this.registry.getTarget(targetId);\n      invariant(target, \"Expected to find a valid target. targetId=\".concat(targetId));\n\n      if (!this.isDragging() || this.didDrop()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n      return matchesType(targetType, draggedItemType) && target.canDrop(this, targetId);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      return Boolean(this.getItemType());\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      // undefined on initial render\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId, true);\n      invariant(source, \"Expected to find a valid source. sourceId=\".concat(sourceId));\n\n      if (!this.isDragging() || !this.isSourcePublic()) {\n        return false;\n      }\n\n      var sourceType = this.registry.getSourceType(sourceId);\n      var draggedItemType = this.getItemType();\n\n      if (sourceType !== draggedItemType) {\n        return false;\n      }\n\n      return source.isDragging(this, sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        shallow: false\n      };\n\n      // undefined on initial render\n      if (!targetId) {\n        return false;\n      }\n\n      var shallow = options.shallow;\n\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n\n      if (draggedItemType && !matchesType(targetType, draggedItemType)) {\n        return false;\n      }\n\n      var targetIds = this.getTargetIds();\n\n      if (!targetIds.length) {\n        return false;\n      }\n\n      var index = targetIds.indexOf(targetId);\n\n      if (shallow) {\n        return index === targetIds.length - 1;\n      } else {\n        return index > -1;\n      }\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.store.getState().dragOperation.itemType;\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.store.getState().dragOperation.item;\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.store.getState().dragOperation.sourceId;\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.store.getState().dragOperation.targetIds;\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.store.getState().dragOperation.dropResult;\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.store.getState().dragOperation.didDrop;\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return Boolean(this.store.getState().dragOperation.isSourcePublic);\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.store.getState().dragOffset.initialClientOffset;\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.store.getState().dragOffset.initialSourceClientOffset;\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.store.getState().dragOffset.clientOffset;\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return _getSourceClientOffset(this.store.getState().dragOffset);\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return _getDifferenceFromInitialOffset(this.store.getState().dragOffset);\n    }\n  }]);\n\n  return DragDropMonitorImpl;\n}();","export var HandlerRole;\n\n(function (HandlerRole) {\n  HandlerRole[\"SOURCE\"] = \"SOURCE\";\n  HandlerRole[\"TARGET\"] = \"TARGET\";\n})(HandlerRole || (HandlerRole = {}));","var nextUniqueId = 0;\nexport function getNextUniqueId() {\n  return nextUniqueId++;\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { invariant } from '@react-dnd/invariant';\nexport function validateSourceContract(source) {\n  invariant(typeof source.canDrag === 'function', 'Expected canDrag to be a function.');\n  invariant(typeof source.beginDrag === 'function', 'Expected beginDrag to be a function.');\n  invariant(typeof source.endDrag === 'function', 'Expected endDrag to be a function.');\n}\nexport function validateTargetContract(target) {\n  invariant(typeof target.canDrop === 'function', 'Expected canDrop to be a function.');\n  invariant(typeof target.hover === 'function', 'Expected hover to be a function.');\n  invariant(typeof target.drop === 'function', 'Expected beginDrag to be a function.');\n}\nexport function validateType(type, allowArray) {\n  if (allowArray && Array.isArray(type)) {\n    type.forEach(function (t) {\n      return validateType(t, false);\n    });\n    return;\n  }\n\n  invariant(typeof type === 'string' || _typeof(type) === 'symbol', allowArray ? 'Type can only be a string, a symbol, or an array of either.' : 'Type can only be a string or a symbol.');\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { addSource as _addSource, addTarget as _addTarget, removeSource as _removeSource, removeTarget as _removeTarget } from '../actions/registry';\nimport { getNextUniqueId } from '../utils/getNextUniqueId';\nimport { HandlerRole } from '../interfaces';\nimport { validateSourceContract, validateTargetContract, validateType } from '../contracts';\nimport { asap } from '@react-dnd/asap';\n\nfunction getNextHandlerId(role) {\n  var id = getNextUniqueId().toString();\n\n  switch (role) {\n    case HandlerRole.SOURCE:\n      return \"S\".concat(id);\n\n    case HandlerRole.TARGET:\n      return \"T\".concat(id);\n\n    default:\n      throw new Error(\"Unknown Handler Role: \".concat(role));\n  }\n}\n\nfunction parseRoleFromHandlerId(handlerId) {\n  switch (handlerId[0]) {\n    case 'S':\n      return HandlerRole.SOURCE;\n\n    case 'T':\n      return HandlerRole.TARGET;\n\n    default:\n      invariant(false, \"Cannot parse handler ID: \".concat(handlerId));\n  }\n}\n\nfunction mapContainsValue(map, searchValue) {\n  var entries = map.entries();\n  var isDone = false;\n\n  do {\n    var _entries$next = entries.next(),\n        done = _entries$next.done,\n        _entries$next$value = _slicedToArray(_entries$next.value, 2),\n        value = _entries$next$value[1];\n\n    if (value === searchValue) {\n      return true;\n    }\n\n    isDone = !!done;\n  } while (!isDone);\n\n  return false;\n}\n\nexport var HandlerRegistryImpl = /*#__PURE__*/function () {\n  function HandlerRegistryImpl(store) {\n    _classCallCheck(this, HandlerRegistryImpl);\n\n    _defineProperty(this, \"types\", new Map());\n\n    _defineProperty(this, \"dragSources\", new Map());\n\n    _defineProperty(this, \"dropTargets\", new Map());\n\n    _defineProperty(this, \"pinnedSourceId\", null);\n\n    _defineProperty(this, \"pinnedSource\", null);\n\n    _defineProperty(this, \"store\", void 0);\n\n    this.store = store;\n  }\n\n  _createClass(HandlerRegistryImpl, [{\n    key: \"addSource\",\n    value: function addSource(type, source) {\n      validateType(type);\n      validateSourceContract(source);\n      var sourceId = this.addHandler(HandlerRole.SOURCE, type, source);\n      this.store.dispatch(_addSource(sourceId));\n      return sourceId;\n    }\n  }, {\n    key: \"addTarget\",\n    value: function addTarget(type, target) {\n      validateType(type, true);\n      validateTargetContract(target);\n      var targetId = this.addHandler(HandlerRole.TARGET, type, target);\n      this.store.dispatch(_addTarget(targetId));\n      return targetId;\n    }\n  }, {\n    key: \"containsHandler\",\n    value: function containsHandler(handler) {\n      return mapContainsValue(this.dragSources, handler) || mapContainsValue(this.dropTargets, handler);\n    }\n  }, {\n    key: \"getSource\",\n    value: function getSource(sourceId) {\n      var includePinned = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      var isPinned = includePinned && sourceId === this.pinnedSourceId;\n      var source = isPinned ? this.pinnedSource : this.dragSources.get(sourceId);\n      return source;\n    }\n  }, {\n    key: \"getTarget\",\n    value: function getTarget(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.dropTargets.get(targetId);\n    }\n  }, {\n    key: \"getSourceType\",\n    value: function getSourceType(sourceId) {\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      return this.types.get(sourceId);\n    }\n  }, {\n    key: \"getTargetType\",\n    value: function getTargetType(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.types.get(targetId);\n    }\n  }, {\n    key: \"isSourceId\",\n    value: function isSourceId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.SOURCE;\n    }\n  }, {\n    key: \"isTargetId\",\n    value: function isTargetId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.TARGET;\n    }\n  }, {\n    key: \"removeSource\",\n    value: function removeSource(sourceId) {\n      var _this = this;\n\n      invariant(this.getSource(sourceId), 'Expected an existing source.');\n      this.store.dispatch(_removeSource(sourceId));\n      asap(function () {\n        _this.dragSources.delete(sourceId);\n\n        _this.types.delete(sourceId);\n      });\n    }\n  }, {\n    key: \"removeTarget\",\n    value: function removeTarget(targetId) {\n      invariant(this.getTarget(targetId), 'Expected an existing target.');\n      this.store.dispatch(_removeTarget(targetId));\n      this.dropTargets.delete(targetId);\n      this.types.delete(targetId);\n    }\n  }, {\n    key: \"pinSource\",\n    value: function pinSource(sourceId) {\n      var source = this.getSource(sourceId);\n      invariant(source, 'Expected an existing source.');\n      this.pinnedSourceId = sourceId;\n      this.pinnedSource = source;\n    }\n  }, {\n    key: \"unpinSource\",\n    value: function unpinSource() {\n      invariant(this.pinnedSource, 'No source is pinned at the time.');\n      this.pinnedSourceId = null;\n      this.pinnedSource = null;\n    }\n  }, {\n    key: \"addHandler\",\n    value: function addHandler(role, type, handler) {\n      var id = getNextHandlerId(role);\n      this.types.set(id, type);\n\n      if (role === HandlerRole.SOURCE) {\n        this.dragSources.set(id, handler);\n      } else if (role === HandlerRole.TARGET) {\n        this.dropTargets.set(id, handler);\n      }\n\n      return id;\n    }\n  }]);\n\n  return HandlerRegistryImpl;\n}();","import { DragDropManagerImpl } from './classes/DragDropManagerImpl';\nimport { createStore } from 'redux';\nimport { reduce } from './reducers';\nimport { DragDropMonitorImpl } from './classes/DragDropMonitorImpl';\nimport { HandlerRegistryImpl } from './classes/HandlerRegistryImpl';\nexport function createDragDropManager(backendFactory) {\n  var globalContext = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n  var backendOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var debugMode = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var store = makeStoreInstance(debugMode);\n  var monitor = new DragDropMonitorImpl(store, new HandlerRegistryImpl(store));\n  var manager = new DragDropManagerImpl(store, monitor);\n  var backend = backendFactory(manager, globalContext, backendOptions);\n  manager.receiveBackend(backend);\n  return manager;\n}\n\nfunction makeStoreInstance(debugMode) {\n  // TODO: if we ever make a react-native version of this,\n  // we'll need to consider how to pull off dev-tooling\n  var reduxDevTools = typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION__;\n  return createStore(reduce, debugMode && reduxDevTools && reduxDevTools({\n    name: 'dnd-core',\n    instanceId: 'dnd-core'\n  }));\n}"],"sourceRoot":""}